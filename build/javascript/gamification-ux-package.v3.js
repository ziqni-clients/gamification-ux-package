!function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=40)}([function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.a=function(t,e){if(null!==t){var n=0;for(var s in t)if(t.hasOwnProperty(s)){var a=e(t[s],s,n);void 0!==a&&(t[s]=a),n++}}else console.log("returned object is null",i(t));return t}},function(t,e,n){(function(t){t.exports=function(){"use strict";var e,n;function i(){return e.apply(null,arguments)}function s(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function a(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function r(t){return void 0===t}function o(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function l(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function c(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function d(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function u(t,e){for(var n in e)d(e,n)&&(t[n]=e[n]);return d(e,"toString")&&(t.toString=e.toString),d(e,"valueOf")&&(t.valueOf=e.valueOf),t}function h(t,e,n,i){return Se(t,e,n,i,!0).utc()}function g(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function f(t){if(null==t._isValid){var e=g(t),i=n.call(e.parsedDateParts,(function(t){return null!=t})),s=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);if(t._strict&&(s=s&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return s;t._isValid=s}return t._isValid}function m(t){var e=h(NaN);return null!=t?u(g(e),t):g(e).userInvalidated=!0,e}n=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var p=i.momentProperties=[];function v(t,e){var n,i,s;if(r(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),r(e._i)||(t._i=e._i),r(e._f)||(t._f=e._f),r(e._l)||(t._l=e._l),r(e._strict)||(t._strict=e._strict),r(e._tzm)||(t._tzm=e._tzm),r(e._isUTC)||(t._isUTC=e._isUTC),r(e._offset)||(t._offset=e._offset),r(e._pf)||(t._pf=g(e)),r(e._locale)||(t._locale=e._locale),p.length>0)for(n=0;n<p.length;n++)r(s=e[i=p[n]])||(t[i]=s);return t}var b=!1;function w(t){v(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,i.updateOffset(this),b=!1)}function y(t){return t instanceof w||null!=t&&null!=t._isAMomentObject}function C(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function _(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=C(e)),n}function S(t,e,n){var i,s=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),r=0;for(i=0;i<s;i++)(n&&t[i]!==e[i]||!n&&_(t[i])!==_(e[i]))&&r++;return r+a}function E(t){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function A(t,e){var n=!0;return u((function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,t),n){for(var s,a=[],r=0;r<arguments.length;r++){if(s="","object"==typeof arguments[r]){for(var o in s+="\n["+r+"] ",arguments[0])s+=o+": "+arguments[0][o]+", ";s=s.slice(0,-2)}else s=arguments[r];a.push(s)}E(t+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)}),e)}var T,k={};function L(t,e){null!=i.deprecationHandler&&i.deprecationHandler(t,e),k[t]||(E(e),k[t]=!0)}function M(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function x(t,e){var n,i=u({},t);for(n in e)d(e,n)&&(a(t[n])&&a(e[n])?(i[n]={},u(i[n],t[n]),u(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)d(t,n)&&!d(e,n)&&a(t[n])&&(i[n]=u({},i[n]));return i}function D(t){null!=t&&this.set(t)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,T=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)d(t,e)&&n.push(e);return n};var I={};function O(t,e){var n=t.toLowerCase();I[n]=I[n+"s"]=I[e]=t}function R(t){return"string"==typeof t?I[t]||I[t.toLowerCase()]:void 0}function W(t){var e,n,i={};for(n in t)d(t,n)&&(e=R(n))&&(i[e]=t[n]);return i}var P={};function H(t,e){P[t]=e}function Y(t,e,n){var i=""+Math.abs(t),s=e-i.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+i}var N=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},B={};function U(t,e,n,i){var s=i;"string"==typeof i&&(s=function(){return this[i]()}),t&&(B[t]=s),e&&(B[e[0]]=function(){return Y(s.apply(this,arguments),e[1],e[2])}),n&&(B[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),t)})}function V(t,e){return t.isValid()?(e=z(e,t.localeData()),F[e]=F[e]||function(t){var e,n,i,s=t.match(N);for(e=0,n=s.length;e<n;e++)B[s[e]]?s[e]=B[s[e]]:s[e]=(i=s[e]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(e){var i,a="";for(i=0;i<n;i++)a+=M(s[i])?s[i].call(e,t):s[i];return a}}(e),F[e](t)):t.localeData().invalidDate()}function z(t,e){var n=5;function i(t){return e.longDateFormat(t)||t}for(j.lastIndex=0;n>=0&&j.test(t);)t=t.replace(j,i),j.lastIndex=0,n-=1;return t}var G=/\d/,K=/\d\d/,q=/\d{3}/,X=/\d{4}/,J=/[+-]?\d{6}/,Z=/\d\d?/,$=/\d\d\d\d?/,Q=/\d\d\d\d\d\d?/,tt=/\d{1,3}/,et=/\d{1,4}/,nt=/[+-]?\d{1,6}/,it=/\d+/,st=/[+-]?\d+/,at=/Z|[+-]\d\d:?\d\d/gi,rt=/Z|[+-]\d\d(?::?\d\d)?/gi,ot=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,lt={};function ct(t,e,n){lt[t]=M(e)?e:function(t,i){return t&&n?n:e}}function dt(t,e){return d(lt,t)?lt[t](e._strict,e._locale):new RegExp(ut(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,i,s){return e||n||i||s}))))}function ut(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ht={};function gt(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),o(e)&&(i=function(t,n){n[e]=_(t)}),n=0;n<t.length;n++)ht[t[n]]=i}function ft(t,e){gt(t,(function(t,n,i,s){i._w=i._w||{},e(t,i._w,i,s)}))}function mt(t,e,n){null!=e&&d(ht,t)&&ht[t](e,n._a,n,t)}function pt(t){return vt(t)?366:365}function vt(t){return t%4==0&&t%100!=0||t%400==0}U("Y",0,0,(function(){var t=this.year();return t<=9999?""+t:"+"+t})),U(0,["YY",2],0,(function(){return this.year()%100})),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),O("year","y"),H("year",1),ct("Y",st),ct("YY",Z,K),ct("YYYY",et,X),ct("YYYYY",nt,J),ct("YYYYYY",nt,J),gt(["YYYYY","YYYYYY"],0),gt("YYYY",(function(t,e){e[0]=2===t.length?i.parseTwoDigitYear(t):_(t)})),gt("YY",(function(t,e){e[0]=i.parseTwoDigitYear(t)})),gt("Y",(function(t,e){e[0]=parseInt(t,10)})),i.parseTwoDigitYear=function(t){return _(t)+(_(t)>68?1900:2e3)};var bt,wt=yt("FullYear",!0);function yt(t,e){return function(n){return null!=n?(_t(this,t,n),i.updateOffset(this,e),this):Ct(this,t)}}function Ct(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function _t(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&vt(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),St(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function St(t,e){if(isNaN(t)||isNaN(e))return NaN;var n,i=(e%(n=12)+n)%n;return t+=(e-i)/12,1===i?vt(t)?29:28:31-i%7%2}bt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},U("M",["MM",2],"Mo",(function(){return this.month()+1})),U("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),U("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),O("month","M"),H("month",8),ct("M",Z),ct("MM",Z,K),ct("MMM",(function(t,e){return e.monthsShortRegex(t)})),ct("MMMM",(function(t,e){return e.monthsRegex(t)})),gt(["M","MM"],(function(t,e){e[1]=_(t)-1})),gt(["MMM","MMMM"],(function(t,e,n,i){var s=n._locale.monthsParse(t,i,n._strict);null!=s?e[1]=s:g(n).invalidMonth=t}));var Et=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,At="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function kt(t,e,n){var i,s,a,r=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)a=h([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(s=bt.call(this._shortMonthsParse,r))?s:null:-1!==(s=bt.call(this._longMonthsParse,r))?s:null:"MMM"===e?-1!==(s=bt.call(this._shortMonthsParse,r))||-1!==(s=bt.call(this._longMonthsParse,r))?s:null:-1!==(s=bt.call(this._longMonthsParse,r))||-1!==(s=bt.call(this._shortMonthsParse,r))?s:null}function Lt(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=_(e);else if(!o(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),St(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function Mt(t){return null!=t?(Lt(this,t),i.updateOffset(this,!0),this):Ct(this,"Month")}var xt=ot,Dt=ot;function It(){function t(t,e){return e.length-t.length}var e,n,i=[],s=[],a=[];for(e=0;e<12;e++)n=h([2e3,e]),i.push(this.monthsShort(n,"")),s.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(i.sort(t),s.sort(t),a.sort(t),e=0;e<12;e++)i[e]=ut(i[e]),s[e]=ut(s[e]);for(e=0;e<24;e++)a[e]=ut(a[e]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Ot(t,e,n,i,s,a,r){var o;return t<100&&t>=0?(o=new Date(t+400,e,n,i,s,a,r),isFinite(o.getFullYear())&&o.setFullYear(t)):o=new Date(t,e,n,i,s,a,r),o}function Rt(t){var e;if(t<100&&t>=0){var n=Array.prototype.slice.call(arguments);n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)}else e=new Date(Date.UTC.apply(null,arguments));return e}function Wt(t,e,n){var i=7+e-n;return-(7+Rt(t,0,i).getUTCDay()-e)%7+i-1}function Pt(t,e,n,i,s){var a,r,o=1+7*(e-1)+(7+n-i)%7+Wt(t,i,s);return o<=0?r=pt(a=t-1)+o:o>pt(t)?(a=t+1,r=o-pt(t)):(a=t,r=o),{year:a,dayOfYear:r}}function Ht(t,e,n){var i,s,a=Wt(t.year(),e,n),r=Math.floor((t.dayOfYear()-a-1)/7)+1;return r<1?i=r+Yt(s=t.year()-1,e,n):r>Yt(t.year(),e,n)?(i=r-Yt(t.year(),e,n),s=t.year()+1):(s=t.year(),i=r),{week:i,year:s}}function Yt(t,e,n){var i=Wt(t,e,n),s=Wt(t+1,e,n);return(pt(t)-i+s)/7}function Nt(t,e){return t.slice(e,7).concat(t.slice(0,e))}U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),O("week","w"),O("isoWeek","W"),H("week",5),H("isoWeek",5),ct("w",Z),ct("ww",Z,K),ct("W",Z),ct("WW",Z,K),ft(["w","ww","W","WW"],(function(t,e,n,i){e[i.substr(0,1)]=_(t)})),U("d",0,"do","day"),U("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),U("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),U("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),O("day","d"),O("weekday","e"),O("isoWeekday","E"),H("day",11),H("weekday",11),H("isoWeekday",11),ct("d",Z),ct("e",Z),ct("E",Z),ct("dd",(function(t,e){return e.weekdaysMinRegex(t)})),ct("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),ct("dddd",(function(t,e){return e.weekdaysRegex(t)})),ft(["dd","ddd","dddd"],(function(t,e,n,i){var s=n._locale.weekdaysParse(t,i,n._strict);null!=s?e.d=s:g(n).invalidWeekday=t})),ft(["d","e","E"],(function(t,e,n,i){e[i]=_(t)}));var jt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ft="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Bt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Ut(t,e,n){var i,s,a,r=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)a=h([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(s=bt.call(this._weekdaysParse,r))?s:null:"ddd"===e?-1!==(s=bt.call(this._shortWeekdaysParse,r))?s:null:-1!==(s=bt.call(this._minWeekdaysParse,r))?s:null:"dddd"===e?-1!==(s=bt.call(this._weekdaysParse,r))||-1!==(s=bt.call(this._shortWeekdaysParse,r))||-1!==(s=bt.call(this._minWeekdaysParse,r))?s:null:"ddd"===e?-1!==(s=bt.call(this._shortWeekdaysParse,r))||-1!==(s=bt.call(this._weekdaysParse,r))||-1!==(s=bt.call(this._minWeekdaysParse,r))?s:null:-1!==(s=bt.call(this._minWeekdaysParse,r))||-1!==(s=bt.call(this._weekdaysParse,r))||-1!==(s=bt.call(this._shortWeekdaysParse,r))?s:null}var Vt=ot,zt=ot,Gt=ot;function Kt(){function t(t,e){return e.length-t.length}var e,n,i,s,a,r=[],o=[],l=[],c=[];for(e=0;e<7;e++)n=h([2e3,1]).day(e),i=this.weekdaysMin(n,""),s=this.weekdaysShort(n,""),a=this.weekdays(n,""),r.push(i),o.push(s),l.push(a),c.push(i),c.push(s),c.push(a);for(r.sort(t),o.sort(t),l.sort(t),c.sort(t),e=0;e<7;e++)o[e]=ut(o[e]),l[e]=ut(l[e]),c[e]=ut(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function qt(){return this.hours()%12||12}function Xt(t,e){U(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function Jt(t,e){return e._meridiemParse}U("H",["HH",2],0,"hour"),U("h",["hh",2],0,qt),U("k",["kk",2],0,(function(){return this.hours()||24})),U("hmm",0,0,(function(){return""+qt.apply(this)+Y(this.minutes(),2)})),U("hmmss",0,0,(function(){return""+qt.apply(this)+Y(this.minutes(),2)+Y(this.seconds(),2)})),U("Hmm",0,0,(function(){return""+this.hours()+Y(this.minutes(),2)})),U("Hmmss",0,0,(function(){return""+this.hours()+Y(this.minutes(),2)+Y(this.seconds(),2)})),Xt("a",!0),Xt("A",!1),O("hour","h"),H("hour",13),ct("a",Jt),ct("A",Jt),ct("H",Z),ct("h",Z),ct("k",Z),ct("HH",Z,K),ct("hh",Z,K),ct("kk",Z,K),ct("hmm",$),ct("hmmss",Q),ct("Hmm",$),ct("Hmmss",Q),gt(["H","HH"],3),gt(["k","kk"],(function(t,e,n){var i=_(t);e[3]=24===i?0:i})),gt(["a","A"],(function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),gt(["h","hh"],(function(t,e,n){e[3]=_(t),g(n).bigHour=!0})),gt("hmm",(function(t,e,n){var i=t.length-2;e[3]=_(t.substr(0,i)),e[4]=_(t.substr(i)),g(n).bigHour=!0})),gt("hmmss",(function(t,e,n){var i=t.length-4,s=t.length-2;e[3]=_(t.substr(0,i)),e[4]=_(t.substr(i,2)),e[5]=_(t.substr(s)),g(n).bigHour=!0})),gt("Hmm",(function(t,e,n){var i=t.length-2;e[3]=_(t.substr(0,i)),e[4]=_(t.substr(i))})),gt("Hmmss",(function(t,e,n){var i=t.length-4,s=t.length-2;e[3]=_(t.substr(0,i)),e[4]=_(t.substr(i,2)),e[5]=_(t.substr(s))}));var Zt,$t=yt("Hours",!0),Qt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:At,monthsShort:Tt,week:{dow:0,doy:6},weekdays:jt,weekdaysMin:Bt,weekdaysShort:Ft,meridiemParse:/[ap]\.?m?\.?/i},te={},ee={};function ne(t){return t?t.toLowerCase().replace("_","-"):t}function ie(e){var n=null;if(!te[e]&&void 0!==t&&t&&t.exports)try{n=Zt._abbr,!function(){var t=new Error("Cannot find module 'undefined'");throw t.code="MODULE_NOT_FOUND",t}(),se(n)}catch(t){}return te[e]}function se(t,e){var n;return t&&((n=r(e)?re(t):ae(t,e))?Zt=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Zt._abbr}function ae(t,e){if(null!==e){var n,i=Qt;if(e.abbr=t,null!=te[t])L("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=te[t]._config;else if(null!=e.parentLocale)if(null!=te[e.parentLocale])i=te[e.parentLocale]._config;else{if(null==(n=ie(e.parentLocale)))return ee[e.parentLocale]||(ee[e.parentLocale]=[]),ee[e.parentLocale].push({name:t,config:e}),null;i=n._config}return te[t]=new D(x(i,e)),ee[t]&&ee[t].forEach((function(t){ae(t.name,t.config)})),se(t),te[t]}return delete te[t],null}function re(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Zt;if(!s(t)){if(e=ie(t))return e;t=[t]}return function(t){for(var e,n,i,s,a=0;a<t.length;){for(e=(s=ne(t[a]).split("-")).length,n=(n=ne(t[a+1]))?n.split("-"):null;e>0;){if(i=ie(s.slice(0,e).join("-")))return i;if(n&&n.length>=e&&S(s,n,!0)>=e-1)break;e--}a++}return Zt}(t)}function oe(t){var e,n=t._a;return n&&-2===g(t).overflow&&(e=n[1]<0||n[1]>11?1:n[2]<1||n[2]>St(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,g(t)._overflowDayOfYear&&(e<0||e>2)&&(e=2),g(t)._overflowWeeks&&-1===e&&(e=7),g(t)._overflowWeekday&&-1===e&&(e=8),g(t).overflow=e),t}function le(t,e,n){return null!=t?t:null!=e?e:n}function ce(t){var e,n,s,a,r,o=[];if(!t._d){for(s=function(t){var e=new Date(i.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[2]&&null==t._a[1]&&function(t){var e,n,i,s,a,r,o,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)a=1,r=4,n=le(e.GG,t._a[0],Ht(Ee(),1,4).year),i=le(e.W,1),((s=le(e.E,1))<1||s>7)&&(l=!0);else{a=t._locale._week.dow,r=t._locale._week.doy;var c=Ht(Ee(),a,r);n=le(e.gg,t._a[0],c.year),i=le(e.w,c.week),null!=e.d?((s=e.d)<0||s>6)&&(l=!0):null!=e.e?(s=e.e+a,(e.e<0||e.e>6)&&(l=!0)):s=a}i<1||i>Yt(n,a,r)?g(t)._overflowWeeks=!0:null!=l?g(t)._overflowWeekday=!0:(o=Pt(n,i,s,a,r),t._a[0]=o.year,t._dayOfYear=o.dayOfYear)}(t),null!=t._dayOfYear&&(r=le(t._a[0],s[0]),(t._dayOfYear>pt(r)||0===t._dayOfYear)&&(g(t)._overflowDayOfYear=!0),n=Rt(r,0,t._dayOfYear),t._a[1]=n.getUTCMonth(),t._a[2]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=s[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?Rt:Ot).apply(null,o),a=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&void 0!==t._w.d&&t._w.d!==a&&(g(t).weekdayMismatch=!0)}}var de=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ue=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,he=/Z|[+-]\d\d(?::?\d\d)?/,ge=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],fe=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],me=/^\/?Date\((\-?\d+)/i;function pe(t){var e,n,i,s,a,r,o=t._i,l=de.exec(o)||ue.exec(o);if(l){for(g(t).iso=!0,e=0,n=ge.length;e<n;e++)if(ge[e][1].exec(l[1])){s=ge[e][0],i=!1!==ge[e][2];break}if(null==s)return void(t._isValid=!1);if(l[3]){for(e=0,n=fe.length;e<n;e++)if(fe[e][1].exec(l[3])){a=(l[2]||" ")+fe[e][0];break}if(null==a)return void(t._isValid=!1)}if(!i&&null!=a)return void(t._isValid=!1);if(l[4]){if(!he.exec(l[4]))return void(t._isValid=!1);r="Z"}t._f=s+(a||"")+(r||""),Ce(t)}else t._isValid=!1}var ve=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function be(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}var we={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ye(t){var e,n,i,s,a,r,o,l=ve.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(l){var c=(e=l[4],n=l[3],i=l[2],s=l[5],a=l[6],r=l[7],o=[be(e),Tt.indexOf(n),parseInt(i,10),parseInt(s,10),parseInt(a,10)],r&&o.push(parseInt(r,10)),o);if(!function(t,e,n){return!t||Ft.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(g(n).weekdayMismatch=!0,n._isValid=!1,!1)}(l[1],c,t))return;t._a=c,t._tzm=function(t,e,n){if(t)return we[t];if(e)return 0;var i=parseInt(n,10),s=i%100;return(i-s)/100*60+s}(l[8],l[9],l[10]),t._d=Rt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),g(t).rfc2822=!0}else t._isValid=!1}function Ce(t){if(t._f!==i.ISO_8601)if(t._f!==i.RFC_2822){t._a=[],g(t).empty=!0;var e,n,s,a,r,o=""+t._i,l=o.length,c=0;for(s=z(t._f,t._locale).match(N)||[],e=0;e<s.length;e++)a=s[e],(n=(o.match(dt(a,t))||[])[0])&&((r=o.substr(0,o.indexOf(n))).length>0&&g(t).unusedInput.push(r),o=o.slice(o.indexOf(n)+n.length),c+=n.length),B[a]?(n?g(t).empty=!1:g(t).unusedTokens.push(a),mt(a,n,t)):t._strict&&!n&&g(t).unusedTokens.push(a);g(t).charsLeftOver=l-c,o.length>0&&g(t).unusedInput.push(o),t._a[3]<=12&&!0===g(t).bigHour&&t._a[3]>0&&(g(t).bigHour=void 0),g(t).parsedDateParts=t._a.slice(0),g(t).meridiem=t._meridiem,t._a[3]=function(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((i=t.isPM(n))&&e<12&&(e+=12),i||12!==e||(e=0),e):e}(t._locale,t._a[3],t._meridiem),ce(t),oe(t)}else ye(t);else pe(t)}function _e(t){var e=t._i,n=t._f;return t._locale=t._locale||re(t._l),null===e||void 0===n&&""===e?m({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),y(e)?new w(oe(e)):(l(e)?t._d=e:s(n)?function(t){var e,n,i,s,a;if(0===t._f.length)return g(t).invalidFormat=!0,void(t._d=new Date(NaN));for(s=0;s<t._f.length;s++)a=0,e=v({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[s],Ce(e),f(e)&&(a+=g(e).charsLeftOver,a+=10*g(e).unusedTokens.length,g(e).score=a,(null==i||a<i)&&(i=a,n=e));u(t,n||e)}(t):n?Ce(t):function(t){var e=t._i;r(e)?t._d=new Date(i.now()):l(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=me.exec(t._i);null===e?(pe(t),!1===t._isValid&&(delete t._isValid,ye(t),!1===t._isValid&&(delete t._isValid,i.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):s(e)?(t._a=c(e.slice(0),(function(t){return parseInt(t,10)})),ce(t)):a(e)?function(t){if(!t._d){var e=W(t._i);t._a=c([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),ce(t)}}(t):o(e)?t._d=new Date(e):i.createFromInputFallback(t)}(t),f(t)||(t._d=null),t))}function Se(t,e,n,i,r){var o,l={};return!0!==n&&!1!==n||(i=n,n=void 0),(a(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||s(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=r,l._l=n,l._i=t,l._f=e,l._strict=i,(o=new w(oe(_e(l))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function Ee(t,e,n,i){return Se(t,e,n,i,!1)}i.createFromInputFallback=A("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),i.ISO_8601=function(){},i.RFC_2822=function(){};var Ae=A("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Ee.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:m()})),Te=A("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Ee.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:m()}));function ke(t,e){var n,i;if(1===e.length&&s(e[0])&&(e=e[0]),!e.length)return Ee();for(n=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](n)||(n=e[i]);return n}var Le=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Me(t){var e=W(t),n=e.year||0,i=e.quarter||0,s=e.month||0,a=e.week||e.isoWeek||0,r=e.day||0,o=e.hour||0,l=e.minute||0,c=e.second||0,d=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===bt.call(Le,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,i=0;i<Le.length;++i)if(t[Le[i]]){if(n)return!1;parseFloat(t[Le[i]])!==_(t[Le[i]])&&(n=!0)}return!0}(e),this._milliseconds=+d+1e3*c+6e4*l+1e3*o*60*60,this._days=+r+7*a,this._months=+s+3*i+12*n,this._data={},this._locale=re(),this._bubble()}function xe(t){return t instanceof Me}function De(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Ie(t,e){U(t,0,0,(function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+Y(~~(t/60),2)+e+Y(~~t%60,2)}))}Ie("Z",":"),Ie("ZZ",""),ct("Z",rt),ct("ZZ",rt),gt(["Z","ZZ"],(function(t,e,n){n._useUTC=!0,n._tzm=Re(rt,t)}));var Oe=/([\+\-]|\d\d)/gi;function Re(t,e){var n=(e||"").match(t);if(null===n)return null;var i=((n[n.length-1]||[])+"").match(Oe)||["-",0,0],s=60*i[1]+_(i[2]);return 0===s?0:"+"===i[0]?s:-s}function We(t,e){var n,s;return e._isUTC?(n=e.clone(),s=(y(t)||l(t)?t.valueOf():Ee(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+s),i.updateOffset(n,!1),n):Ee(t).local()}function Pe(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function He(){return!!this.isValid()&&this._isUTC&&0===this._offset}i.updateOffset=function(){};var Ye=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ne=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function je(t,e){var n,i,s,a,r,l,c=t,u=null;return xe(t)?c={ms:t._milliseconds,d:t._days,M:t._months}:o(t)?(c={},e?c[e]=t:c.milliseconds=t):(u=Ye.exec(t))?(n="-"===u[1]?-1:1,c={y:0,d:_(u[2])*n,h:_(u[3])*n,m:_(u[4])*n,s:_(u[5])*n,ms:_(De(1e3*u[6]))*n}):(u=Ne.exec(t))?(n="-"===u[1]?-1:1,c={y:Fe(u[2],n),M:Fe(u[3],n),w:Fe(u[4],n),d:Fe(u[5],n),h:Fe(u[6],n),m:Fe(u[7],n),s:Fe(u[8],n)}):null==c?c={}:"object"==typeof c&&("from"in c||"to"in c)&&(a=Ee(c.from),r=Ee(c.to),s=a.isValid()&&r.isValid()?(r=We(r,a),a.isBefore(r)?l=Be(a,r):((l=Be(r,a)).milliseconds=-l.milliseconds,l.months=-l.months),l):{milliseconds:0,months:0},(c={}).ms=s.milliseconds,c.M=s.months),i=new Me(c),xe(t)&&d(t,"_locale")&&(i._locale=t._locale),i}function Fe(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Be(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Ue(t,e){return function(n,i){var s;return null===i||isNaN(+i)||(L(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=i,i=s),Ve(this,je(n="string"==typeof n?+n:n,i),t),this}}function Ve(t,e,n,s){var a=e._milliseconds,r=De(e._days),o=De(e._months);t.isValid()&&(s=null==s||s,o&&Lt(t,Ct(t,"Month")+o*n),r&&_t(t,"Date",Ct(t,"Date")+r*n),a&&t._d.setTime(t._d.valueOf()+a*n),s&&i.updateOffset(t,r||o))}je.fn=Me.prototype,je.invalid=function(){return je(NaN)};var ze=Ue(1,"add"),Ge=Ue(-1,"subtract");function Ke(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(n,"months");return-(n+(e-i<0?(e-i)/(i-t.clone().add(n-1,"months")):(e-i)/(t.clone().add(n+1,"months")-i)))||0}function qe(t){var e;return void 0===t?this._locale._abbr:(null!=(e=re(t))&&(this._locale=e),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Xe=A("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function Je(){return this._locale}function Ze(t,e){return(t%e+e)%e}function $e(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-126227808e5:new Date(t,e,n).valueOf()}function Qe(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-126227808e5:Date.UTC(t,e,n)}function tn(t,e){U(0,[t,t.length],0,e)}function en(t,e,n,i,s){var a;return null==t?Ht(this,i,s).year:(e>(a=Yt(t,i,s))&&(e=a),nn.call(this,t,e,n,i,s))}function nn(t,e,n,i,s){var a=Pt(t,e,n,i,s),r=Rt(a.year,0,a.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}U(0,["gg",2],0,(function(){return this.weekYear()%100})),U(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),tn("gggg","weekYear"),tn("ggggg","weekYear"),tn("GGGG","isoWeekYear"),tn("GGGGG","isoWeekYear"),O("weekYear","gg"),O("isoWeekYear","GG"),H("weekYear",1),H("isoWeekYear",1),ct("G",st),ct("g",st),ct("GG",Z,K),ct("gg",Z,K),ct("GGGG",et,X),ct("gggg",et,X),ct("GGGGG",nt,J),ct("ggggg",nt,J),ft(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,n,i){e[i.substr(0,2)]=_(t)})),ft(["gg","GG"],(function(t,e,n,s){e[s]=i.parseTwoDigitYear(t)})),U("Q",0,"Qo","quarter"),O("quarter","Q"),H("quarter",7),ct("Q",G),gt("Q",(function(t,e){e[1]=3*(_(t)-1)})),U("D",["DD",2],"Do","date"),O("date","D"),H("date",9),ct("D",Z),ct("DD",Z,K),ct("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),gt(["D","DD"],2),gt("Do",(function(t,e){e[2]=_(t.match(Z)[0])}));var sn=yt("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),O("dayOfYear","DDD"),H("dayOfYear",4),ct("DDD",tt),ct("DDDD",q),gt(["DDD","DDDD"],(function(t,e,n){n._dayOfYear=_(t)})),U("m",["mm",2],0,"minute"),O("minute","m"),H("minute",14),ct("m",Z),ct("mm",Z,K),gt(["m","mm"],4);var an=yt("Minutes",!1);U("s",["ss",2],0,"second"),O("second","s"),H("second",15),ct("s",Z),ct("ss",Z,K),gt(["s","ss"],5);var rn,on=yt("Seconds",!1);for(U("S",0,0,(function(){return~~(this.millisecond()/100)})),U(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),U(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),U(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),U(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),U(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),U(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),O("millisecond","ms"),H("millisecond",16),ct("S",tt,G),ct("SS",tt,K),ct("SSS",tt,q),rn="SSSS";rn.length<=9;rn+="S")ct(rn,it);function ln(t,e){e[6]=_(1e3*("0."+t))}for(rn="S";rn.length<=9;rn+="S")gt(rn,ln);var cn=yt("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var dn=w.prototype;function un(t){return t}dn.add=ze,dn.calendar=function(t,e){var n=t||Ee(),s=We(n,this).startOf("day"),a=i.calendarFormat(this,s)||"sameElse",r=e&&(M(e[a])?e[a].call(this,n):e[a]);return this.format(r||this.localeData().calendar(a,this,Ee(n)))},dn.clone=function(){return new w(this)},dn.diff=function(t,e,n){var i,s,a;if(!this.isValid())return NaN;if(!(i=We(t,this)).isValid())return NaN;switch(s=6e4*(i.utcOffset()-this.utcOffset()),e=R(e)){case"year":a=Ke(this,i)/12;break;case"month":a=Ke(this,i);break;case"quarter":a=Ke(this,i)/3;break;case"second":a=(this-i)/1e3;break;case"minute":a=(this-i)/6e4;break;case"hour":a=(this-i)/36e5;break;case"day":a=(this-i-s)/864e5;break;case"week":a=(this-i-s)/6048e5;break;default:a=this-i}return n?a:C(a)},dn.endOf=function(t){var e;if(void 0===(t=R(t))||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?Qe:$e;switch(t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=36e5-Ze(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":e=this._d.valueOf(),e+=6e4-Ze(e,6e4)-1;break;case"second":e=this._d.valueOf(),e+=1e3-Ze(e,1e3)-1}return this._d.setTime(e),i.updateOffset(this,!0),this},dn.format=function(t){t||(t=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var e=V(this,t);return this.localeData().postformat(e)},dn.from=function(t,e){return this.isValid()&&(y(t)&&t.isValid()||Ee(t).isValid())?je({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},dn.fromNow=function(t){return this.from(Ee(),t)},dn.to=function(t,e){return this.isValid()&&(y(t)&&t.isValid()||Ee(t).isValid())?je({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},dn.toNow=function(t){return this.to(Ee(),t)},dn.get=function(t){return M(this[t=R(t)])?this[t]():this},dn.invalidAt=function(){return g(this).overflow},dn.isAfter=function(t,e){var n=y(t)?t:Ee(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=R(e)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},dn.isBefore=function(t,e){var n=y(t)?t:Ee(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=R(e)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},dn.isBetween=function(t,e,n,i){var s=y(t)?t:Ee(t),a=y(e)?e:Ee(e);return!!(this.isValid()&&s.isValid()&&a.isValid())&&("("===(i=i||"()")[0]?this.isAfter(s,n):!this.isBefore(s,n))&&(")"===i[1]?this.isBefore(a,n):!this.isAfter(a,n))},dn.isSame=function(t,e){var n,i=y(t)?t:Ee(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=R(e)||"millisecond")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},dn.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},dn.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},dn.isValid=function(){return f(this)},dn.lang=Xe,dn.locale=qe,dn.localeData=Je,dn.max=Te,dn.min=Ae,dn.parsingFlags=function(){return u({},g(this))},dn.set=function(t,e){if("object"==typeof t)for(var n=function(t){var e=[];for(var n in t)e.push({unit:n,priority:P[n]});return e.sort((function(t,e){return t.priority-e.priority})),e}(t=W(t)),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit]);else if(M(this[t=R(t)]))return this[t](e);return this},dn.startOf=function(t){var e;if(void 0===(t=R(t))||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?Qe:$e;switch(t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Ze(e+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":e=this._d.valueOf(),e-=Ze(e,6e4);break;case"second":e=this._d.valueOf(),e-=Ze(e,1e3)}return this._d.setTime(e),i.updateOffset(this,!0),this},dn.subtract=Ge,dn.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},dn.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},dn.toDate=function(){return new Date(this.valueOf())},dn.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?V(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):M(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",V(n,"Z")):V(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},dn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s=e+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+s)},dn.toJSON=function(){return this.isValid()?this.toISOString():null},dn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},dn.unix=function(){return Math.floor(this.valueOf()/1e3)},dn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},dn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},dn.year=wt,dn.isLeapYear=function(){return vt(this.year())},dn.weekYear=function(t){return en.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},dn.isoWeekYear=function(t){return en.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},dn.quarter=dn.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},dn.month=Mt,dn.daysInMonth=function(){return St(this.year(),this.month())},dn.week=dn.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},dn.isoWeek=dn.isoWeeks=function(t){var e=Ht(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},dn.weeksInYear=function(){var t=this.localeData()._week;return Yt(this.year(),t.dow,t.doy)},dn.isoWeeksInYear=function(){return Yt(this.year(),1,4)},dn.date=sn,dn.day=dn.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},dn.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},dn.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},dn.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},dn.hour=dn.hours=$t,dn.minute=dn.minutes=an,dn.second=dn.seconds=on,dn.millisecond=dn.milliseconds=cn,dn.utcOffset=function(t,e,n){var s,a=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Re(rt,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(s=Pe(this)),this._offset=t,this._isUTC=!0,null!=s&&this.add(s,"m"),a!==t&&(!e||this._changeInProgress?Ve(this,je(t-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:Pe(this)},dn.utc=function(t){return this.utcOffset(0,t)},dn.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Pe(this),"m")),this},dn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Re(at,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},dn.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Ee(t).utcOffset():0,(this.utcOffset()-t)%60==0)},dn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},dn.isLocal=function(){return!!this.isValid()&&!this._isUTC},dn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},dn.isUtc=He,dn.isUTC=He,dn.zoneAbbr=function(){return this._isUTC?"UTC":""},dn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},dn.dates=A("dates accessor is deprecated. Use date instead.",sn),dn.months=A("months accessor is deprecated. Use month instead",Mt),dn.years=A("years accessor is deprecated. Use year instead",wt),dn.zone=A("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()})),dn.isDSTShifted=A("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!r(this._isDSTShifted))return this._isDSTShifted;var t={};if(v(t,this),(t=_e(t))._a){var e=t._isUTC?h(t._a):Ee(t._a);this._isDSTShifted=this.isValid()&&S(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var hn=D.prototype;function gn(t,e,n,i){var s=re(),a=h().set(i,e);return s[n](a,t)}function fn(t,e,n){if(o(t)&&(e=t,t=void 0),t=t||"",null!=e)return gn(t,e,n,"month");var i,s=[];for(i=0;i<12;i++)s[i]=gn(t,i,n,"month");return s}function mn(t,e,n,i){"boolean"==typeof t?(o(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,o(e)&&(n=e,e=void 0),e=e||"");var s,a=re(),r=t?a._week.dow:0;if(null!=n)return gn(e,(n+r)%7,i,"day");var l=[];for(s=0;s<7;s++)l[s]=gn(e,(s+r)%7,i,"day");return l}hn.calendar=function(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return M(i)?i.call(e,n):i},hn.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,(function(t){return t.slice(1)})),this._longDateFormat[t])},hn.invalidDate=function(){return this._invalidDate},hn.ordinal=function(t){return this._ordinal.replace("%d",t)},hn.preparse=un,hn.postformat=un,hn.relativeTime=function(t,e,n,i){var s=this._relativeTime[n];return M(s)?s(t,e,n,i):s.replace(/%d/i,t)},hn.pastFuture=function(t,e){var n=this._relativeTime[t>0?"future":"past"];return M(n)?n(e):n.replace(/%s/i,e)},hn.set=function(t){var e,n;for(n in t)M(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},hn.months=function(t,e){return t?s(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Et).test(e)?"format":"standalone"][t.month()]:s(this._months)?this._months:this._months.standalone},hn.monthsShort=function(t,e){return t?s(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Et.test(e)?"format":"standalone"][t.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},hn.monthsParse=function(t,e,n){var i,s,a;if(this._monthsParseExact)return kt.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(s=h([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(a="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[i]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},hn.monthsRegex=function(t){return this._monthsParseExact?(d(this,"_monthsRegex")||It.call(this),t?this._monthsStrictRegex:this._monthsRegex):(d(this,"_monthsRegex")||(this._monthsRegex=Dt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},hn.monthsShortRegex=function(t){return this._monthsParseExact?(d(this,"_monthsRegex")||It.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(d(this,"_monthsShortRegex")||(this._monthsShortRegex=xt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},hn.week=function(t){return Ht(t,this._week.dow,this._week.doy).week},hn.firstDayOfYear=function(){return this._week.doy},hn.firstDayOfWeek=function(){return this._week.dow},hn.weekdays=function(t,e){var n=s(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Nt(n,this._week.dow):t?n[t.day()]:n},hn.weekdaysMin=function(t){return!0===t?Nt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},hn.weekdaysShort=function(t){return!0===t?Nt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},hn.weekdaysParse=function(t,e,n){var i,s,a;if(this._weekdaysParseExact)return Ut.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(s=h([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(a="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[i]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}},hn.weekdaysRegex=function(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Kt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(d(this,"_weekdaysRegex")||(this._weekdaysRegex=Vt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},hn.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Kt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(d(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=zt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},hn.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Kt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(d(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Gt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},hn.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},hn.meridiem=function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},se("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===_(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),i.lang=A("moment.lang is deprecated. Use moment.locale instead.",se),i.langData=A("moment.langData is deprecated. Use moment.localeData instead.",re);var pn=Math.abs;function vn(t,e,n,i){var s=je(e,n);return t._milliseconds+=i*s._milliseconds,t._days+=i*s._days,t._months+=i*s._months,t._bubble()}function bn(t){return t<0?Math.floor(t):Math.ceil(t)}function wn(t){return 4800*t/146097}function yn(t){return 146097*t/4800}function Cn(t){return function(){return this.as(t)}}var _n=Cn("ms"),Sn=Cn("s"),En=Cn("m"),An=Cn("h"),Tn=Cn("d"),kn=Cn("w"),Ln=Cn("M"),Mn=Cn("Q"),xn=Cn("y");function Dn(t){return function(){return this.isValid()?this._data[t]:NaN}}var In=Dn("milliseconds"),On=Dn("seconds"),Rn=Dn("minutes"),Wn=Dn("hours"),Pn=Dn("days"),Hn=Dn("months"),Yn=Dn("years"),Nn=Math.round,jn={ss:44,s:45,m:45,h:22,d:26,M:11};function Fn(t,e,n,i,s){return s.relativeTime(e||1,!!n,t,i)}var Bn=Math.abs;function Un(t){return(t>0)-(t<0)||+t}function Vn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n=Bn(this._milliseconds)/1e3,i=Bn(this._days),s=Bn(this._months);t=C(n/60),e=C(t/60),n%=60,t%=60;var a=C(s/12),r=s%=12,o=i,l=e,c=t,d=n?n.toFixed(3).replace(/\.?0+$/,""):"",u=this.asSeconds();if(!u)return"P0D";var h=u<0?"-":"",g=Un(this._months)!==Un(u)?"-":"",f=Un(this._days)!==Un(u)?"-":"",m=Un(this._milliseconds)!==Un(u)?"-":"";return h+"P"+(a?g+a+"Y":"")+(r?g+r+"M":"")+(o?f+o+"D":"")+(l||c||d?"T":"")+(l?m+l+"H":"")+(c?m+c+"M":"")+(d?m+d+"S":"")}var zn=Me.prototype;return zn.isValid=function(){return this._isValid},zn.abs=function(){var t=this._data;return this._milliseconds=pn(this._milliseconds),this._days=pn(this._days),this._months=pn(this._months),t.milliseconds=pn(t.milliseconds),t.seconds=pn(t.seconds),t.minutes=pn(t.minutes),t.hours=pn(t.hours),t.months=pn(t.months),t.years=pn(t.years),this},zn.add=function(t,e){return vn(this,t,e,1)},zn.subtract=function(t,e){return vn(this,t,e,-1)},zn.as=function(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if("month"===(t=R(t))||"quarter"===t||"year"===t)switch(e=this._days+i/864e5,n=this._months+wn(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(yn(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}},zn.asMilliseconds=_n,zn.asSeconds=Sn,zn.asMinutes=En,zn.asHours=An,zn.asDays=Tn,zn.asWeeks=kn,zn.asMonths=Ln,zn.asQuarters=Mn,zn.asYears=xn,zn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12):NaN},zn._bubble=function(){var t,e,n,i,s,a=this._milliseconds,r=this._days,o=this._months,l=this._data;return a>=0&&r>=0&&o>=0||a<=0&&r<=0&&o<=0||(a+=864e5*bn(yn(o)+r),r=0,o=0),l.milliseconds=a%1e3,t=C(a/1e3),l.seconds=t%60,e=C(t/60),l.minutes=e%60,n=C(e/60),l.hours=n%24,r+=C(n/24),s=C(wn(r)),o+=s,r-=bn(yn(s)),i=C(o/12),o%=12,l.days=r,l.months=o,l.years=i,this},zn.clone=function(){return je(this)},zn.get=function(t){return t=R(t),this.isValid()?this[t+"s"]():NaN},zn.milliseconds=In,zn.seconds=On,zn.minutes=Rn,zn.hours=Wn,zn.days=Pn,zn.weeks=function(){return C(this.days()/7)},zn.months=Hn,zn.years=Yn,zn.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=function(t,e,n){var i=je(t).abs(),s=Nn(i.as("s")),a=Nn(i.as("m")),r=Nn(i.as("h")),o=Nn(i.as("d")),l=Nn(i.as("M")),c=Nn(i.as("y")),d=s<=jn.ss&&["s",s]||s<jn.s&&["ss",s]||a<=1&&["m"]||a<jn.m&&["mm",a]||r<=1&&["h"]||r<jn.h&&["hh",r]||o<=1&&["d"]||o<jn.d&&["dd",o]||l<=1&&["M"]||l<jn.M&&["MM",l]||c<=1&&["y"]||["yy",c];return d[2]=e,d[3]=+t>0,d[4]=n,Fn.apply(null,d)}(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)},zn.toISOString=Vn,zn.toString=Vn,zn.toJSON=Vn,zn.locale=qe,zn.localeData=Je,zn.toIsoString=A("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Vn),zn.lang=Xe,U("X",0,0,"unix"),U("x",0,0,"valueOf"),ct("x",st),ct("X",/[+-]?\d+(\.\d{1,3})?/),gt("X",(function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))})),gt("x",(function(t,e,n){n._d=new Date(_(t))})),i.version="2.24.0",e=Ee,i.fn=dn,i.min=function(){var t=[].slice.call(arguments,0);return ke("isBefore",t)},i.max=function(){var t=[].slice.call(arguments,0);return ke("isAfter",t)},i.now=function(){return Date.now?Date.now():+new Date},i.utc=h,i.unix=function(t){return Ee(1e3*t)},i.months=function(t,e){return fn(t,e,"months")},i.isDate=l,i.locale=se,i.invalid=m,i.duration=je,i.isMoment=y,i.weekdays=function(t,e,n){return mn(t,e,n,"weekdays")},i.parseZone=function(){return Ee.apply(null,arguments).parseZone()},i.localeData=re,i.isDuration=xe,i.monthsShort=function(t,e){return fn(t,e,"monthsShort")},i.weekdaysMin=function(t,e,n){return mn(t,e,n,"weekdaysMin")},i.defineLocale=ae,i.updateLocale=function(t,e){if(null!=e){var n,i,s=Qt;null!=(i=ie(t))&&(s=i._config),e=x(s,e),(n=new D(e)).parentLocale=te[t],te[t]=n,se(t)}else null!=te[t]&&(null!=te[t].parentLocale?te[t]=te[t].parentLocale:null!=te[t]&&delete te[t]);return te[t]},i.locales=function(){return T(te)},i.weekdaysShort=function(t,e,n){return mn(t,e,n,"weekdaysShort")},i.normalizeUnits=R,i.relativeTimeRounding=function(t){return void 0===t?Nn:"function"==typeof t&&(Nn=t,!0)},i.relativeTimeThreshold=function(t,e){return void 0!==jn[t]&&(void 0===e?jn[t]:(jn[t]=e,"s"===t&&(jn.ss=e-1),!0))},i.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},i.prototype=dn,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i}()}).call(this,n(15)(t))},function(t,e,n){"use strict";e.__esModule=!0,e.extend=o,e.indexOf=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},e.escapeExpression=function(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}if(!a.test(t))return t;return t.replace(s,r)},e.isEmpty=function(t){return!t&&0!==t||!(!d(t)||0!==t.length)},e.createFrame=function(t){var e=o({},t);return e._parent=t,e},e.blockParams=function(t,e){return t.path=e,t},e.appendContextPath=function(t,e){return(t?t+".":"")+e};var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},s=/[&<>"'`=]/g,a=/[&<>"'`=]/;function r(t){return i[t]}function o(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}var l=Object.prototype.toString;e.toString=l;var c=function(t){return"function"==typeof t};c(/x/)&&(e.isFunction=c=function(t){return"function"==typeof t&&"[object Function]"===l.call(t)}),e.isFunction=c;var d=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===l.call(t)};e.isArray=d},function(t,e,n){"use strict";var i=n(5);e.a=function(t){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return 0===n&&Object(i.a)(t)&&(n=1),n}},function(t,e,n){"use strict";e.__esModule=!0;var i=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function s(t,e){var n=e&&e.loc,a=void 0,r=void 0,o=void 0,l=void 0;n&&(a=n.start.line,r=n.end.line,o=n.start.column,l=n.end.column,t+=" - "+a+":"+o);for(var c=Error.prototype.constructor.call(this,t),d=0;d<i.length;d++)this[i[d]]=c[i[d]];Error.captureStackTrace&&Error.captureStackTrace(this,s);try{n&&(this.lineNumber=a,this.endLineNumber=r,Object.defineProperty?(Object.defineProperty(this,"column",{value:o,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:l,enumerable:!0})):(this.column=o,this.endColumn=l))}catch(t){}}s.prototype=new Error,e.default=s,t.exports=e.default},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.a=function(t){return"object"===("undefined"==typeof HTMLElement?"undefined":i(HTMLElement))?t instanceof HTMLElement:t&&"object"===i(t)&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.HandlebarsEnvironment=d;var s=n(2),a=i(n(4)),r=n(8),o=n(32),l=i(n(9)),c=n(10);e.VERSION="4.7.7";e.COMPILER_REVISION=8;e.LAST_COMPATIBLE_COMPILER_REVISION=7;e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};function d(t,e,n){this.helpers=t||{},this.partials=e||{},this.decorators=n||{},r.registerDefaultHelpers(this),o.registerDefaultDecorators(this)}d.prototype={constructor:d,logger:l.default,log:l.default.log,registerHelper:function(t,e){if("[object Object]"===s.toString.call(t)){if(e)throw new a.default("Arg not supported with multiple helpers");s.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if("[object Object]"===s.toString.call(t))s.extend(this.partials,t);else{if(void 0===e)throw new a.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if("[object Object]"===s.toString.call(t)){if(e)throw new a.default("Arg not supported with multiple decorators");s.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]},resetLoggedPropertyAccesses:function(){c.resetLoggedProperties()}};var u=l.default.log;e.log=u,e.createFrame=s.createFrame,e.logger=l.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.registerDefaultHelpers=function(t){s.default(t),a.default(t),r.default(t),o.default(t),l.default(t),c.default(t),d.default(t)},e.moveHelperToHooks=function(t,e,n){t.helpers[e]&&(t.hooks[e]=t.helpers[e],n||delete t.helpers[e])};var s=i(n(25)),a=i(n(26)),r=i(n(27)),o=i(n(28)),l=i(n(29)),c=i(n(30)),d=i(n(31))},function(t,e,n){"use strict";e.__esModule=!0;var i=n(2),s={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=i.indexOf(s.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=s.lookupLevel(t),"undefined"!=typeof console&&s.lookupLevel(s.level)<=t){var e=s.methodMap[t];console[e]||(e="log");for(var n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];console[e].apply(console,i)}}};e.default=s,t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.createProtoAccessControl=function(t){var e=Object.create(null);e.constructor=!1,e.__defineGetter__=!1,e.__defineSetter__=!1,e.__lookupGetter__=!1;var n=Object.create(null);return n.__proto__=!1,{properties:{whitelist:i.createNewLookupObject(n,t.allowedProtoProperties),defaultValue:t.allowProtoPropertiesByDefault},methods:{whitelist:i.createNewLookupObject(e,t.allowedProtoMethods),defaultValue:t.allowProtoMethodsByDefault}}},e.resultIsAllowed=function(t,e,n){return r("function"==typeof t?e.methods:e.properties,n)},e.resetLoggedProperties=function(){Object.keys(a).forEach((function(t){delete a[t]}))};var i=n(34),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(9)),a=Object.create(null);function r(t,e){return void 0!==t.whitelist[e]?!0===t.whitelist[e]:void 0!==t.defaultValue?t.defaultValue:(function(t){!0!==a[t]&&(a[t]=!0,s.log("error",'Handlebars: Access has been denied to resolve the property "'+t+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(e),!1)}},function(t,e,n){(function(e){!function(){var i;i=void 0!==t.exports?n(21):window.PNGlib;var s=function(t,e){if("string"!=typeof t||t.length<15)throw"A hash of at least 15 characters is required.";this.defaults={background:[240,240,240,255],margin:.08,size:64,saturation:.7,brightness:.5,format:"png"},this.options="object"==typeof e?e:this.defaults,"number"==typeof arguments[1]&&(this.options.size=arguments[1]),arguments[2]&&(this.options.margin=arguments[2]),this.hash=t,this.background=this.options.background||this.defaults.background,this.size=this.options.size||this.defaults.size,this.format=this.options.format||this.defaults.format,this.margin=void 0!==this.options.margin?this.options.margin:this.defaults.margin;var n=parseInt(this.hash.substr(-7),16)/268435455,i=this.options.saturation||this.defaults.saturation,s=this.options.brightness||this.defaults.brightness;this.foreground=this.options.foreground||this.hsl2rgb(n,i,s)};s.prototype={background:null,foreground:null,hash:null,margin:null,size:null,format:null,image:function(){return this.isSvg()?new a(this.size,this.foreground,this.background):new i(this.size,this.size,256)},render:function(){var t,e,n=this.image(),i=this.size,s=Math.floor(i*this.margin),a=Math.floor((i-2*s)/5),r=Math.floor((i-5*a)/2),o=n.color.apply(n,this.background),l=n.color.apply(n,this.foreground);for(t=0;t<15;t++)e=parseInt(this.hash.charAt(t),16)%2?o:l,t<5?this.rectangle(2*a+r,t*a+r,a,a,e,n):t<10?(this.rectangle(1*a+r,(t-5)*a+r,a,a,e,n),this.rectangle(3*a+r,(t-5)*a+r,a,a,e,n)):t<15&&(this.rectangle(0*a+r,(t-10)*a+r,a,a,e,n),this.rectangle(4*a+r,(t-10)*a+r,a,a,e,n));return n},rectangle:function(t,e,n,i,s,a){var r,o;if(this.isSvg())a.rectangles.push({x:t,y:e,w:n,h:i,color:s});else for(r=t;r<t+n;r++)for(o=e;o<e+i;o++)a.buffer[a.index(r,o)]=s},hsl2rgb:function(t,e,n){return[255*(e=[n+=e*=n<.5?n:1-n,n-(t*=6)%1*e*2,n-=e*=2,n,n+t%1*e,n+e])[~~t%6],255*e[(16|t)%6],255*e[(8|t)%6]]},toString:function(t){return t?this.render().getDump():this.render().getBase64()},isSvg:function(){return this.format.match(/svg/i)}};var a=function(t,e,n){this.size=t,this.foreground=this.color.apply(this,e),this.background=this.color.apply(this,n),this.rectangles=[]};a.prototype={size:null,foreground:null,background:null,rectangles:null,color:function(t,e,n,i){var s=[t,e,n].map(Math.round);return s.push(i>=0&&i<=255?i/255:1),"rgba("+s.join(",")+")"},getDump:function(){var t,e,n,i=this.foreground,s=this.background,a=.005*this.size;for(e="<svg xmlns='http://www.w3.org/2000/svg' width='"+this.size+"' height='"+this.size+"' style='background-color:"+s+";'><g style='fill:"+i+"; stroke:"+i+"; stroke-width:"+a+";'>",t=0;t<this.rectangles.length;t++)(n=this.rectangles[t]).color!=s&&(e+="<rect  x='"+n.x+"' y='"+n.y+"' width='"+n.w+"' height='"+n.h+"'/>");return e+="</g></svg>"},getBase64:function(){if("function"==typeof btoa)return btoa(this.getDump());if(e)return new e(this.getDump(),"binary").toString("base64");throw"Cannot generate base64 output"}},void 0!==t.exports?t.exports=s:window.Identicon=s}()}).call(this,n(17).Buffer)},function(t,e,n){"use strict";n.d(e,"a",(function(){return Le}));var i=n(1),s=n.n(i),a=(n(16),n(11)),r=n.n(a);const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function l(t,e,n,i){let s,a,r;const o=e||[0],l=(n=n||0)>>>3,c=-1===i?3:0;for(s=0;s<t.length;s+=1)r=s+l,a=r>>>2,o.length<=a&&o.push(0),o[a]|=t[s]<<8*(c+i*(r%4));return{value:o,binLen:8*t.length+n}}function c(t,e,n){switch(e){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(t){case"HEX":return function(t,e,i){return function(t,e,n,i){let s,a,r,o;if(0!=t.length%2)throw new Error("String of HEX type must be in byte increments");const l=e||[0],c=(n=n||0)>>>3,d=-1===i?3:0;for(s=0;s<t.length;s+=2){if(a=parseInt(t.substr(s,2),16),isNaN(a))throw new Error("String of HEX type contains invalid characters");for(o=(s>>>1)+c,r=o>>>2;l.length<=r;)l.push(0);l[r]|=a<<8*(d+i*(o%4))}return{value:l,binLen:4*t.length+n}}(t,e,i,n)};case"TEXT":return function(t,i,s){return function(t,e,n,i,s){let a,r,o,l,c,d,u,h,g=0;const f=n||[0],m=(i=i||0)>>>3;if("UTF8"===e)for(u=-1===s?3:0,o=0;o<t.length;o+=1)for(a=t.charCodeAt(o),r=[],128>a?r.push(a):2048>a?(r.push(192|a>>>6),r.push(128|63&a)):55296>a||57344<=a?r.push(224|a>>>12,128|a>>>6&63,128|63&a):(o+=1,a=65536+((1023&a)<<10|1023&t.charCodeAt(o)),r.push(240|a>>>18,128|a>>>12&63,128|a>>>6&63,128|63&a)),l=0;l<r.length;l+=1){for(d=g+m,c=d>>>2;f.length<=c;)f.push(0);f[c]|=r[l]<<8*(u+s*(d%4)),g+=1}else for(u=-1===s?2:0,h="UTF16LE"===e&&1!==s||"UTF16LE"!==e&&1===s,o=0;o<t.length;o+=1){for(a=t.charCodeAt(o),!0===h&&(l=255&a,a=l<<8|a>>>8),d=g+m,c=d>>>2;f.length<=c;)f.push(0);f[c]|=a<<8*(u+s*(d%4)),g+=2}return{value:f,binLen:8*g+i}}(t,e,i,s,n)};case"B64":return function(t,e,i){return function(t,e,n,i){let s,a,r,l,c,d,u,h=0;const g=e||[0],f=(n=n||0)>>>3,m=-1===i?3:0,p=t.indexOf("=");if(-1===t.search(/^[a-zA-Z0-9=+/]+$/))throw new Error("Invalid character in base-64 string");if(t=t.replace(/=/g,""),-1!==p&&p<t.length)throw new Error("Invalid '=' found in base-64 string");for(a=0;a<t.length;a+=4){for(c=t.substr(a,4),l=0,r=0;r<c.length;r+=1)s=o.indexOf(c.charAt(r)),l|=s<<18-6*r;for(r=0;r<c.length-1;r+=1){for(u=h+f,d=u>>>2;g.length<=d;)g.push(0);g[d]|=(l>>>16-8*r&255)<<8*(m+i*(u%4)),h+=1}}return{value:g,binLen:8*h+n}}(t,e,i,n)};case"BYTES":return function(t,e,i){return function(t,e,n,i){let s,a,r,o;const l=e||[0],c=(n=n||0)>>>3,d=-1===i?3:0;for(a=0;a<t.length;a+=1)s=t.charCodeAt(a),o=a+c,r=o>>>2,l.length<=r&&l.push(0),l[r]|=s<<8*(d+i*(o%4));return{value:l,binLen:8*t.length+n}}(t,e,i,n)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(t){throw new Error("ARRAYBUFFER not supported by this environment")}return function(t,e,i){return function(t,e,n,i){return l(new Uint8Array(t),e,n,i)}(t,e,i,n)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(t){throw new Error("UINT8ARRAY not supported by this environment")}return function(t,e,i){return l(t,e,i,n)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function d(t,e,n,i){switch(t){case"HEX":return function(t){return function(t,e,n,i){let s,a,r="";const o=e/8,l=-1===n?3:0;for(s=0;s<o;s+=1)a=t[s>>>2]>>>8*(l+n*(s%4)),r+="0123456789abcdef".charAt(a>>>4&15)+"0123456789abcdef".charAt(15&a);return i.outputUpper?r.toUpperCase():r}(t,e,n,i)};case"B64":return function(t){return function(t,e,n,i){let s,a,r,l,c,d="";const u=e/8,h=-1===n?3:0;for(s=0;s<u;s+=3)for(l=s+1<u?t[s+1>>>2]:0,c=s+2<u?t[s+2>>>2]:0,r=(t[s>>>2]>>>8*(h+n*(s%4))&255)<<16|(l>>>8*(h+n*((s+1)%4))&255)<<8|c>>>8*(h+n*((s+2)%4))&255,a=0;a<4;a+=1)d+=8*s+6*a<=e?o.charAt(r>>>6*(3-a)&63):i.b64Pad;return d}(t,e,n,i)};case"BYTES":return function(t){return function(t,e,n){let i,s,a="";const r=e/8,o=-1===n?3:0;for(i=0;i<r;i+=1)s=t[i>>>2]>>>8*(o+n*(i%4))&255,a+=String.fromCharCode(s);return a}(t,e,n)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(t){throw new Error("ARRAYBUFFER not supported by this environment")}return function(t){return function(t,e,n){let i;const s=e/8,a=new ArrayBuffer(s),r=new Uint8Array(a),o=-1===n?3:0;for(i=0;i<s;i+=1)r[i]=t[i>>>2]>>>8*(o+n*(i%4))&255;return a}(t,e,n)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(t){throw new Error("UINT8ARRAY not supported by this environment")}return function(t){return function(t,e,n){let i;const s=e/8,a=-1===n?3:0,r=new Uint8Array(s);for(i=0;i<s;i+=1)r[i]=t[i>>>2]>>>8*(a+n*(i%4))&255;return r}(t,e,n)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}const u=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],g=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],f="Chosen SHA variant is not supported";function m(t,e){let n,i;const s=t.binLen>>>3,a=e.binLen>>>3,r=s<<3,o=4-s<<3;if(s%4!=0){for(n=0;n<a;n+=4)i=s+n>>>2,t.value[i]|=e.value[n>>>2]<<r,t.value.push(0),t.value[i+1]|=e.value[n>>>2]>>>o;return(t.value.length<<2)-4>=a+s&&t.value.pop(),{value:t.value,binLen:t.binLen+e.binLen}}return{value:t.value.concat(e.value),binLen:t.binLen+e.binLen}}function p(t){const e={outputUpper:!1,b64Pad:"=",outputLen:-1},n=t||{},i="Output length must be a multiple of 8";if(e.outputUpper=n.outputUpper||!1,n.b64Pad&&(e.b64Pad=n.b64Pad),n.outputLen){if(n.outputLen%8!=0)throw new Error(i);e.outputLen=n.outputLen}else if(n.shakeLen){if(n.shakeLen%8!=0)throw new Error(i);e.outputLen=n.shakeLen}if("boolean"!=typeof e.outputUpper)throw new Error("Invalid outputUpper formatting option");if("string"!=typeof e.b64Pad)throw new Error("Invalid b64Pad formatting option");return e}function v(t,e,n,i){const s=t+" must include a value and format";if(!e){if(!i)throw new Error(s);return i}if(void 0===e.value||!e.format)throw new Error(s);return c(e.format,e.encoding||"UTF8",n)(e.value)}class b{constructor(t,e,n){const i=n||{};if(this.t=e,this.i=i.encoding||"UTF8",this.numRounds=i.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.s=t,this.o=[],this.h=0,this.u=!1,this.l=0,this.A=!1,this.H=[],this.S=[]}update(t){let e,n=0;const i=this.p>>>5,s=this.m(t,this.o,this.h),a=s.binLen,r=s.value,o=a>>>5;for(e=0;e<o;e+=i)n+this.p<=a&&(this.C=this.R(r.slice(e,e+i),this.C),n+=this.p);this.l+=n,this.o=r.slice(n>>>5),this.h=a%this.p,this.u=!0}getHash(t,e){let n,i,s=this.U;const a=p(e);if(this.v){if(-1===a.outputLen)throw new Error("Output length must be specified in options");s=a.outputLen}const r=d(t,s,this.K,a);if(this.A&&this.T)return r(this.T(a));for(i=this.F(this.o.slice(),this.h,this.l,this.g(this.C),s),n=1;n<this.numRounds;n+=1)this.v&&s%32!=0&&(i[i.length-1]&=16777215>>>24-s%32),i=this.F(i,s,0,this.B(this.s),s);return r(i)}setHMACKey(t,e,n){if(!this.L)throw new Error("Variant does not support HMAC");if(this.u)throw new Error("Cannot set MAC key after calling update");const i=c(e,(n||{}).encoding||"UTF8",this.K);this.M(i(t))}M(t){const e=this.p>>>3,n=e/4-1;let i;if(1!==this.numRounds)throw new Error("Cannot set numRounds with MAC");if(this.A)throw new Error("MAC key already set");for(e<t.binLen/8&&(t.value=this.F(t.value,t.binLen,0,this.B(this.s),this.U));t.value.length<=n;)t.value.push(0);for(i=0;i<=n;i+=1)this.H[i]=909522486^t.value[i],this.S[i]=1549556828^t.value[i];this.C=this.R(this.H,this.C),this.l=this.p,this.A=!0}getHMAC(t,e){const n=p(e);return d(t,this.U,this.K,n)(this.k())}k(){let t;if(!this.A)throw new Error("Cannot call getHMAC without first setting MAC key");const e=this.F(this.o.slice(),this.h,this.l,this.g(this.C),this.U);return t=this.R(this.S,this.B(this.s)),t=this.F(e,this.U,this.p,t,this.U),t}}function w(t,e){return t<<e|t>>>32-e}function y(t,e){return t>>>e|t<<32-e}function C(t,e){return t>>>e}function _(t,e,n){return t^e^n}function S(t,e,n){return t&e^~t&n}function E(t,e,n){return t&e^t&n^e&n}function A(t){return y(t,2)^y(t,13)^y(t,22)}function T(t,e){const n=(65535&t)+(65535&e);return(65535&(t>>>16)+(e>>>16)+(n>>>16))<<16|65535&n}function k(t,e,n,i){const s=(65535&t)+(65535&e)+(65535&n)+(65535&i);return(65535&(t>>>16)+(e>>>16)+(n>>>16)+(i>>>16)+(s>>>16))<<16|65535&s}function L(t,e,n,i,s){const a=(65535&t)+(65535&e)+(65535&n)+(65535&i)+(65535&s);return(65535&(t>>>16)+(e>>>16)+(n>>>16)+(i>>>16)+(s>>>16)+(a>>>16))<<16|65535&a}function M(t){return y(t,7)^y(t,18)^C(t,3)}function x(t){return y(t,6)^y(t,11)^y(t,25)}function D(t){return[1732584193,4023233417,2562383102,271733878,3285377520]}function I(t,e){let n,i,s,a,r,o,l;const c=[];for(n=e[0],i=e[1],s=e[2],a=e[3],r=e[4],l=0;l<80;l+=1)c[l]=l<16?t[l]:w(c[l-3]^c[l-8]^c[l-14]^c[l-16],1),o=l<20?L(w(n,5),S(i,s,a),r,1518500249,c[l]):l<40?L(w(n,5),_(i,s,a),r,1859775393,c[l]):l<60?L(w(n,5),E(i,s,a),r,2400959708,c[l]):L(w(n,5),_(i,s,a),r,3395469782,c[l]),r=a,a=s,s=w(i,30),i=n,n=o;return e[0]=T(n,e[0]),e[1]=T(i,e[1]),e[2]=T(s,e[2]),e[3]=T(a,e[3]),e[4]=T(r,e[4]),e}function O(t,e,n,i){let s;const a=15+(e+65>>>9<<4),r=e+n;for(;t.length<=a;)t.push(0);for(t[e>>>5]|=128<<24-e%32,t[a]=4294967295&r,t[a-1]=r/4294967296|0,s=0;s<t.length;s+=16)i=I(t.slice(s,s+16),i);return i}class R extends b{constructor(t,e,n){if("SHA-1"!==t)throw new Error(f);super(t,e,n);const i=n||{};this.L=!0,this.T=this.k,this.K=-1,this.m=c(this.t,this.i,this.K),this.R=I,this.g=function(t){return t.slice()},this.B=D,this.F=O,this.C=[1732584193,4023233417,2562383102,271733878,3285377520],this.p=512,this.U=160,this.v=!1,i.hmacKey&&this.M(v("hmacKey",i.hmacKey,this.K))}}function W(t){let e;return e="SHA-224"==t?h.slice():g.slice(),e}function P(t,e){let n,i,s,a,r,o,l,c,d,h,g;const f=[];for(n=e[0],i=e[1],s=e[2],a=e[3],r=e[4],o=e[5],l=e[6],c=e[7],g=0;g<64;g+=1)f[g]=g<16?t[g]:k(y(m=f[g-2],17)^y(m,19)^C(m,10),f[g-7],M(f[g-15]),f[g-16]),d=L(c,x(r),S(r,o,l),u[g],f[g]),h=T(A(n),E(n,i,s)),c=l,l=o,o=r,r=T(a,d),a=s,s=i,i=n,n=T(d,h);var m;return e[0]=T(n,e[0]),e[1]=T(i,e[1]),e[2]=T(s,e[2]),e[3]=T(a,e[3]),e[4]=T(r,e[4]),e[5]=T(o,e[5]),e[6]=T(l,e[6]),e[7]=T(c,e[7]),e}class H extends b{constructor(t,e,n){if("SHA-224"!==t&&"SHA-256"!==t)throw new Error(f);super(t,e,n);const i=n||{};this.T=this.k,this.L=!0,this.K=-1,this.m=c(this.t,this.i,this.K),this.R=P,this.g=function(t){return t.slice()},this.B=W,this.F=function(e,n,i,s){return function(t,e,n,i,s){let a,r;const o=15+(e+65>>>9<<4),l=e+n;for(;t.length<=o;)t.push(0);for(t[e>>>5]|=128<<24-e%32,t[o]=4294967295&l,t[o-1]=l/4294967296|0,a=0;a<t.length;a+=16)i=P(t.slice(a,a+16),i);return r="SHA-224"===s?[i[0],i[1],i[2],i[3],i[4],i[5],i[6]]:i,r}(e,n,i,s,t)},this.C=W(t),this.p=512,this.U="SHA-224"===t?224:256,this.v=!1,i.hmacKey&&this.M(v("hmacKey",i.hmacKey,this.K))}}class Y{constructor(t,e){this.Y=t,this.N=e}}function N(t,e){let n;return e>32?(n=64-e,new Y(t.N<<e|t.Y>>>n,t.Y<<e|t.N>>>n)):0!==e?(n=32-e,new Y(t.Y<<e|t.N>>>n,t.N<<e|t.Y>>>n)):t}function j(t,e){let n;return e<32?(n=32-e,new Y(t.Y>>>e|t.N<<n,t.N>>>e|t.Y<<n)):(n=64-e,new Y(t.N>>>e|t.Y<<n,t.Y>>>e|t.N<<n))}function F(t,e){return new Y(t.Y>>>e,t.N>>>e|t.Y<<32-e)}function B(t,e,n){return new Y(t.Y&e.Y^t.Y&n.Y^e.Y&n.Y,t.N&e.N^t.N&n.N^e.N&n.N)}function U(t){const e=j(t,28),n=j(t,34),i=j(t,39);return new Y(e.Y^n.Y^i.Y,e.N^n.N^i.N)}function V(t,e){let n,i;n=(65535&t.N)+(65535&e.N),i=(t.N>>>16)+(e.N>>>16)+(n>>>16);const s=(65535&i)<<16|65535&n;return n=(65535&t.Y)+(65535&e.Y)+(i>>>16),i=(t.Y>>>16)+(e.Y>>>16)+(n>>>16),new Y((65535&i)<<16|65535&n,s)}function z(t,e,n,i){let s,a;s=(65535&t.N)+(65535&e.N)+(65535&n.N)+(65535&i.N),a=(t.N>>>16)+(e.N>>>16)+(n.N>>>16)+(i.N>>>16)+(s>>>16);const r=(65535&a)<<16|65535&s;return s=(65535&t.Y)+(65535&e.Y)+(65535&n.Y)+(65535&i.Y)+(a>>>16),a=(t.Y>>>16)+(e.Y>>>16)+(n.Y>>>16)+(i.Y>>>16)+(s>>>16),new Y((65535&a)<<16|65535&s,r)}function G(t,e,n,i,s){let a,r;a=(65535&t.N)+(65535&e.N)+(65535&n.N)+(65535&i.N)+(65535&s.N),r=(t.N>>>16)+(e.N>>>16)+(n.N>>>16)+(i.N>>>16)+(s.N>>>16)+(a>>>16);const o=(65535&r)<<16|65535&a;return a=(65535&t.Y)+(65535&e.Y)+(65535&n.Y)+(65535&i.Y)+(65535&s.Y)+(r>>>16),r=(t.Y>>>16)+(e.Y>>>16)+(n.Y>>>16)+(i.Y>>>16)+(s.Y>>>16)+(a>>>16),new Y((65535&r)<<16|65535&a,o)}function K(t,e){return new Y(t.Y^e.Y,t.N^e.N)}function q(t){const e=j(t,19),n=j(t,61),i=F(t,6);return new Y(e.Y^n.Y^i.Y,e.N^n.N^i.N)}function X(t){const e=j(t,1),n=j(t,8),i=F(t,7);return new Y(e.Y^n.Y^i.Y,e.N^n.N^i.N)}function J(t){const e=j(t,14),n=j(t,18),i=j(t,41);return new Y(e.Y^n.Y^i.Y,e.N^n.N^i.N)}const Z=[new Y(u[0],3609767458),new Y(u[1],602891725),new Y(u[2],3964484399),new Y(u[3],2173295548),new Y(u[4],4081628472),new Y(u[5],3053834265),new Y(u[6],2937671579),new Y(u[7],3664609560),new Y(u[8],2734883394),new Y(u[9],1164996542),new Y(u[10],1323610764),new Y(u[11],3590304994),new Y(u[12],4068182383),new Y(u[13],991336113),new Y(u[14],633803317),new Y(u[15],3479774868),new Y(u[16],2666613458),new Y(u[17],944711139),new Y(u[18],2341262773),new Y(u[19],2007800933),new Y(u[20],1495990901),new Y(u[21],1856431235),new Y(u[22],3175218132),new Y(u[23],2198950837),new Y(u[24],3999719339),new Y(u[25],766784016),new Y(u[26],2566594879),new Y(u[27],3203337956),new Y(u[28],1034457026),new Y(u[29],2466948901),new Y(u[30],3758326383),new Y(u[31],168717936),new Y(u[32],1188179964),new Y(u[33],1546045734),new Y(u[34],1522805485),new Y(u[35],2643833823),new Y(u[36],2343527390),new Y(u[37],1014477480),new Y(u[38],1206759142),new Y(u[39],344077627),new Y(u[40],1290863460),new Y(u[41],3158454273),new Y(u[42],3505952657),new Y(u[43],106217008),new Y(u[44],3606008344),new Y(u[45],1432725776),new Y(u[46],1467031594),new Y(u[47],851169720),new Y(u[48],3100823752),new Y(u[49],1363258195),new Y(u[50],3750685593),new Y(u[51],3785050280),new Y(u[52],3318307427),new Y(u[53],3812723403),new Y(u[54],2003034995),new Y(u[55],3602036899),new Y(u[56],1575990012),new Y(u[57],1125592928),new Y(u[58],2716904306),new Y(u[59],442776044),new Y(u[60],593698344),new Y(u[61],3733110249),new Y(u[62],2999351573),new Y(u[63],3815920427),new Y(3391569614,3928383900),new Y(3515267271,566280711),new Y(3940187606,3454069534),new Y(4118630271,4000239992),new Y(116418474,1914138554),new Y(174292421,2731055270),new Y(289380356,3203993006),new Y(460393269,320620315),new Y(685471733,587496836),new Y(852142971,1086792851),new Y(1017036298,365543100),new Y(1126000580,2618297676),new Y(1288033470,3409855158),new Y(1501505948,4234509866),new Y(1607167915,987167468),new Y(1816402316,1246189591)];function $(t){return"SHA-384"===t?[new Y(3418070365,h[0]),new Y(1654270250,h[1]),new Y(2438529370,h[2]),new Y(355462360,h[3]),new Y(1731405415,h[4]),new Y(41048885895,h[5]),new Y(3675008525,h[6]),new Y(1203062813,h[7])]:[new Y(g[0],4089235720),new Y(g[1],2227873595),new Y(g[2],4271175723),new Y(g[3],1595750129),new Y(g[4],2917565137),new Y(g[5],725511199),new Y(g[6],4215389547),new Y(g[7],327033209)]}function Q(t,e){let n,i,s,a,r,o,l,c,d,u,h,g;const f=[];for(n=e[0],i=e[1],s=e[2],a=e[3],r=e[4],o=e[5],l=e[6],c=e[7],h=0;h<80;h+=1)h<16?(g=2*h,f[h]=new Y(t[g],t[g+1])):f[h]=z(q(f[h-2]),f[h-7],X(f[h-15]),f[h-16]),d=G(c,J(r),(p=o,v=l,new Y((m=r).Y&p.Y^~m.Y&v.Y,m.N&p.N^~m.N&v.N)),Z[h],f[h]),u=V(U(n),B(n,i,s)),c=l,l=o,o=r,r=V(a,d),a=s,s=i,i=n,n=V(d,u);var m,p,v;return e[0]=V(n,e[0]),e[1]=V(i,e[1]),e[2]=V(s,e[2]),e[3]=V(a,e[3]),e[4]=V(r,e[4]),e[5]=V(o,e[5]),e[6]=V(l,e[6]),e[7]=V(c,e[7]),e}class tt extends b{constructor(t,e,n){if("SHA-384"!==t&&"SHA-512"!==t)throw new Error(f);super(t,e,n);const i=n||{};this.T=this.k,this.L=!0,this.K=-1,this.m=c(this.t,this.i,this.K),this.R=Q,this.g=function(t){return t.slice()},this.B=$,this.F=function(e,n,i,s){return function(t,e,n,i,s){let a,r;const o=31+(e+129>>>10<<5),l=e+n;for(;t.length<=o;)t.push(0);for(t[e>>>5]|=128<<24-e%32,t[o]=4294967295&l,t[o-1]=l/4294967296|0,a=0;a<t.length;a+=32)i=Q(t.slice(a,a+32),i);return r="SHA-384"===s?[(i=i)[0].Y,i[0].N,i[1].Y,i[1].N,i[2].Y,i[2].N,i[3].Y,i[3].N,i[4].Y,i[4].N,i[5].Y,i[5].N]:[i[0].Y,i[0].N,i[1].Y,i[1].N,i[2].Y,i[2].N,i[3].Y,i[3].N,i[4].Y,i[4].N,i[5].Y,i[5].N,i[6].Y,i[6].N,i[7].Y,i[7].N],r}(e,n,i,s,t)},this.C=$(t),this.p=1024,this.U="SHA-384"===t?384:512,this.v=!1,i.hmacKey&&this.M(v("hmacKey",i.hmacKey,this.K))}}const et=[new Y(0,1),new Y(0,32898),new Y(2147483648,32906),new Y(2147483648,2147516416),new Y(0,32907),new Y(0,2147483649),new Y(2147483648,2147516545),new Y(2147483648,32777),new Y(0,138),new Y(0,136),new Y(0,2147516425),new Y(0,2147483658),new Y(0,2147516555),new Y(2147483648,139),new Y(2147483648,32905),new Y(2147483648,32771),new Y(2147483648,32770),new Y(2147483648,128),new Y(0,32778),new Y(2147483648,2147483658),new Y(2147483648,2147516545),new Y(2147483648,32896),new Y(0,2147483649),new Y(2147483648,2147516424)],nt=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function it(t){let e;const n=[];for(e=0;e<5;e+=1)n[e]=[new Y(0,0),new Y(0,0),new Y(0,0),new Y(0,0),new Y(0,0)];return n}function st(t){let e;const n=[];for(e=0;e<5;e+=1)n[e]=t[e].slice();return n}function at(t,e){let n,i,s,a;const r=[],o=[];if(null!==t)for(i=0;i<t.length;i+=2)e[(i>>>1)%5][(i>>>1)/5|0]=K(e[(i>>>1)%5][(i>>>1)/5|0],new Y(t[i+1],t[i]));for(n=0;n<24;n+=1){for(a=it(),i=0;i<5;i+=1)r[i]=(l=e[i][0],c=e[i][1],d=e[i][2],u=e[i][3],h=e[i][4],new Y(l.Y^c.Y^d.Y^u.Y^h.Y,l.N^c.N^d.N^u.N^h.N));for(i=0;i<5;i+=1)o[i]=K(r[(i+4)%5],N(r[(i+1)%5],1));for(i=0;i<5;i+=1)for(s=0;s<5;s+=1)e[i][s]=K(e[i][s],o[i]);for(i=0;i<5;i+=1)for(s=0;s<5;s+=1)a[s][(2*i+3*s)%5]=N(e[i][s],nt[i][s]);for(i=0;i<5;i+=1)for(s=0;s<5;s+=1)e[i][s]=K(a[i][s],new Y(~a[(i+1)%5][s].Y&a[(i+2)%5][s].Y,~a[(i+1)%5][s].N&a[(i+2)%5][s].N));e[0][0]=K(e[0][0],et[n])}var l,c,d,u,h;return e}function rt(t){let e,n,i=0;const s=[0,0],a=[4294967295&t,t/4294967296&2097151];for(e=6;e>=0;e--)n=a[e>>2]>>>8*e&255,0===n&&0===i||(s[i+1>>2]|=n<<8*(i+1),i+=1);return i=0!==i?i:1,s[0]|=i,{value:i+1>4?s:[s[0]],binLen:8+8*i}}function ot(t){return m(rt(t.binLen),t)}function lt(t,e){let n,i=rt(e);i=m(i,t);const s=e>>>2,a=(s-i.value.length%s)%s;for(n=0;n<a;n++)i.value.push(0);return i.value}class ct extends b{constructor(t,e,n){let i=6,s=0;super(t,e,n);const a=n||{};if(1!==this.numRounds){if(a.kmacKey||a.hmacKey)throw new Error("Cannot set numRounds with MAC");if("CSHAKE128"===this.s||"CSHAKE256"===this.s)throw new Error("Cannot set numRounds for CSHAKE variants")}switch(this.K=1,this.m=c(this.t,this.i,this.K),this.R=at,this.g=st,this.B=it,this.C=it(),this.v=!1,t){case"SHA3-224":this.p=s=1152,this.U=224,this.L=!0,this.T=this.k;break;case"SHA3-256":this.p=s=1088,this.U=256,this.L=!0,this.T=this.k;break;case"SHA3-384":this.p=s=832,this.U=384,this.L=!0,this.T=this.k;break;case"SHA3-512":this.p=s=576,this.U=512,this.L=!0,this.T=this.k;break;case"SHAKE128":i=31,this.p=s=1344,this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"SHAKE256":i=31,this.p=s=1088,this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"KMAC128":i=4,this.p=s=1344,this.I(n),this.U=-1,this.v=!0,this.L=!1,this.T=this.X;break;case"KMAC256":i=4,this.p=s=1088,this.I(n),this.U=-1,this.v=!0,this.L=!1,this.T=this.X;break;case"CSHAKE128":this.p=s=1344,i=this._(n),this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"CSHAKE256":this.p=s=1088,i=this._(n),this.U=-1,this.v=!0,this.L=!1,this.T=null;break;default:throw new Error(f)}this.F=function(t,e,n,a,r){return function(t,e,n,i,s,a,r){let o,l,c=0;const d=[],u=s>>>5,h=e>>>5;for(o=0;o<h&&e>=s;o+=u)i=at(t.slice(o,o+u),i),e-=s;for(t=t.slice(o),e%=s;t.length<u;)t.push(0);for(o=e>>>3,t[o>>2]^=a<<o%4*8,t[u-1]^=2147483648,i=at(t,i);32*d.length<r&&(l=i[c%5][c/5|0],d.push(l.N),!(32*d.length>=r));)d.push(l.Y),c+=1,0==64*c%s&&(at(null,i),c=0);return d}(t,e,0,a,s,i,r)},a.hmacKey&&this.M(v("hmacKey",a.hmacKey,this.K))}_(t,e){const n=function(t){const e=t||{};return{funcName:v("funcName",e.funcName,1,{value:[],binLen:0}),customization:v("Customization",e.customization,1,{value:[],binLen:0})}}(t||{});e&&(n.funcName=e);const i=m(ot(n.funcName),ot(n.customization));if(0!==n.customization.binLen||0!==n.funcName.binLen){const t=lt(i,this.p>>>3);for(let e=0;e<t.length;e+=this.p>>>5)this.C=this.R(t.slice(e,e+(this.p>>>5)),this.C),this.l+=this.p;return 4}return 31}I(t){const e=function(t){const e=t||{};return{kmacKey:v("kmacKey",e.kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:v("Customization",e.customization,1,{value:[],binLen:0})}}(t||{});this._(t,e.funcName);const n=lt(ot(e.kmacKey),this.p>>>3);for(let t=0;t<n.length;t+=this.p>>>5)this.C=this.R(n.slice(t,t+(this.p>>>5)),this.C),this.l+=this.p;this.A=!0}X(t){const e=m({value:this.o.slice(),binLen:this.h},function(t){let e,n,i=0;const s=[0,0],a=[4294967295&t,t/4294967296&2097151];for(e=6;e>=0;e--)n=a[e>>2]>>>8*e&255,0===n&&0===i||(s[i>>2]|=n<<8*i,i+=1);return i=0!==i?i:1,s[i>>2]|=i<<8*i,{value:i+1>4?s:[s[0]],binLen:8+8*i}}(t.outputLen));return this.F(e.value,e.binLen,this.l,this.g(this.C),t.outputLen)}}
/*!
 * css-vars-ponyfill
 * v2.4.7
 * https://jhildenbiddle.github.io/css-vars-ponyfill/
 * (c) 2018-2021 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */
function dt(){return(dt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}
/*!
 * get-css-data
 * v2.0.2
 * https://github.com/jhildenbiddle/get-css-data
 * (c) 2018-2021 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */function ut(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={mimeType:e.mimeType||null,onBeforeSend:e.onBeforeSend||Function.prototype,onSuccess:e.onSuccess||Function.prototype,onError:e.onError||Function.prototype,onComplete:e.onComplete||Function.prototype},i=Array.isArray(t)?t:[t],s=Array.apply(null,Array(i.length)).map((function(t){return null}));function a(t){var e="string"==typeof t,n=e&&"<"===t.trim().charAt(0);return e&&!n}function r(t,e){n.onError(t,i[e],e)}function o(t,e){var a=n.onSuccess(t,i[e],e);t=!1===a?"":a||t,s[e]=t,-1===s.indexOf(null)&&n.onComplete(s)}var l=document.createElement("a");i.forEach((function(t,e){if(l.setAttribute("href",t),l.href=String(l.href),Boolean(document.all&&!window.atob)&&l.host.split(":")[0]!==location.host.split(":")[0]){if(l.protocol===location.protocol){var i=new XDomainRequest;i.open("GET",t),i.timeout=0,i.onprogress=Function.prototype,i.ontimeout=Function.prototype,i.onload=function(){var t=i.responseText;a(t)?o(t,e):r(i,e)},i.onerror=function(t){r(i,e)},setTimeout((function(){i.send()}),0)}else console.warn("Internet Explorer 9 Cross-Origin (CORS) requests must use the same protocol (".concat(t,")")),r(null,e)}else{var s=new XMLHttpRequest;s.open("GET",t),n.mimeType&&s.overrideMimeType&&s.overrideMimeType(n.mimeType),n.onBeforeSend(s,t,e),s.onreadystatechange=function(){if(4===s.readyState){var t=s.responseText;s.status<400&&a(t)||0===s.status&&a(t)?o(t,e):r(s,e)}},s.send()}}))}
/**
 * Gets CSS data from <style> and <link> nodes (including @imports), then
 * returns data in order processed by DOM. Allows specifying nodes to
 * include/exclude and filtering CSS data using RegEx.
 *
 * @preserve
 * @param {object}   [options] The options object
 * @param {object}   [options.rootElement=document] Root element to traverse for
 *                   <link> and <style> nodes.
 * @param {string}   [options.include] CSS selector matching <link> and <style>
 *                   nodes to include
 * @param {string}   [options.exclude] CSS selector matching <link> and <style>
 *                   nodes to exclude
 * @param {object}   [options.filter] Regular expression used to filter node CSS
 *                   data. Each block of CSS data is tested against the filter,
 *                   and only matching data is included.
 * @param {boolean}  [options.skipDisabled=true] Determines if disabled
 *                   stylesheets will be skipped while collecting CSS data.
 * @param {boolean}  [options.useCSSOM=false] Determines if CSS data will be
 *                   collected from a stylesheet's runtime values instead of its
 *                   text content. This is required to get accurate CSS data
 *                   when a stylesheet has been modified using the deleteRule()
 *                   or insertRule() methods because these modifications will
 *                   not be reflected in the stylesheet's text content.
 * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes
 *                   1) the XHR object, 2) source node reference, and 3) the
 *                   source URL as arguments.
 * @param {function} [options.onSuccess] Callback on each CSS node read. Passes
 *                   1) CSS text, 2) source node reference, and 3) the source
 *                   URL as arguments.
 * @param {function} [options.onError] Callback on each error. Passes 1) the XHR
 *                   object for inspection, 2) soure node reference, and 3) the
 *                   source URL that failed (either a <link> href or an @import)
 *                   as arguments
 * @param {function} [options.onComplete] Callback after all nodes have been
 *                   processed. Passes 1) concatenated CSS text, 2) an array of
 *                   CSS text in DOM order, and 3) an array of nodes in DOM
 *                   order as arguments.
 *
 * @example
 *
 *   getCssData({
 *     rootElement : document,
 *     include     : 'style,link[rel="stylesheet"]',
 *     exclude     : '[href="skip.css"]',
 *     filter      : /red/,
 *     skipDisabled: true,
 *     useCSSOM    : false,
 *     onBeforeSend(xhr, node, url) {
 *       // ...
 *     }
 *     onSuccess(cssText, node, url) {
 *       // ...
 *     }
 *     onError(xhr, node, url) {
 *       // ...
 *     },
 *     onComplete(cssText, cssArray, nodeArray) {
 *       // ...
 *     }
 *   });
 */function ht(t){var e=/\/\*[\s\S]+?\*\//g,n=/(?:@import\s*)(?:url\(\s*)?(?:['"])([^'"]*)(?:['"])(?:\s*\))?(?:[^;]*;)/g,i={rootElement:t.rootElement||document,include:t.include||'style,link[rel="stylesheet"]',exclude:t.exclude||null,filter:t.filter||null,skipDisabled:!1!==t.skipDisabled,useCSSOM:t.useCSSOM||!1,onBeforeSend:t.onBeforeSend||Function.prototype,onSuccess:t.onSuccess||Function.prototype,onError:t.onError||Function.prototype,onComplete:t.onComplete||Function.prototype},s=Array.apply(null,i.rootElement.querySelectorAll(i.include)).filter((function(t){return e=t,n=i.exclude,!(e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector).call(e,n);var e,n})),a=Array.apply(null,Array(s.length)).map((function(t){return null}));function r(){if(-1===a.indexOf(null)){a.reduce((function(t,e,n){return""===e&&t.push(n),t}),[]).reverse().forEach((function(t){return[s,a].forEach((function(e){return e.splice(t,1)}))}));var t=a.join("");i.onComplete(t,a,s)}}function o(t,e,n,s){var o=i.onSuccess(t,n,s);(function t(e,n,s,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],c=l(e,s,o);c.rules.length?ut(c.absoluteUrls,{onBeforeSend:function(t,e,s){i.onBeforeSend(t,n,e)},onSuccess:function(t,e,s){var a=i.onSuccess(t,n,e),r=l(t=!1===a?"":a||t,e,o);return r.rules.forEach((function(e,n){t=t.replace(e,r.absoluteRules[n])})),t},onError:function(i,l,d){r.push({xhr:i,url:l}),o.push(c.rules[d]),t(e,n,s,a,r,o)},onComplete:function(i){i.forEach((function(t,n){e=e.replace(c.rules[n],t)})),t(e,n,s,a,r,o)}}):a(e,r)})(t=void 0!==o&&!1===Boolean(o)?"":o||t,n,s,(function(t,s){null===a[e]&&(s.forEach((function(t){return i.onError(t.xhr,n,t.url)})),!i.filter||i.filter.test(t)?a[e]=t:a[e]="",r())}))}function l(t,i){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a={};return a.rules=(t.replace(e,"").match(n)||[]).filter((function(t){return-1===s.indexOf(t)})),a.urls=a.rules.map((function(t){return t.replace(n,"$1")})),a.absoluteUrls=a.urls.map((function(t){return gt(t,i)})),a.absoluteRules=a.rules.map((function(t,e){var n=a.urls[e],s=gt(a.absoluteUrls[e],i);return t.replace(n,s)})),a}s.length?s.forEach((function(t,e){var n=t.getAttribute("href"),s=t.getAttribute("rel"),l="link"===t.nodeName.toLowerCase()&&n&&s&&-1!==s.toLowerCase().indexOf("stylesheet"),c=!1!==i.skipDisabled&&t.disabled,d="style"===t.nodeName.toLowerCase();if(l&&!c)ut(n,{mimeType:"text/css",onBeforeSend:function(e,n,s){i.onBeforeSend(e,t,n)},onSuccess:function(i,s,a){var r=gt(n);o(i,e,t,r)},onError:function(n,s,o){a[e]="",i.onError(n,t,s),r()}});else if(d&&!c){var u=t.textContent;i.useCSSOM&&(u=Array.apply(null,t.sheet.cssRules).map((function(t){return t.cssText})).join("")),o(u,e,t,location.href)}else a[e]="",r()})):i.onComplete("",[])}function gt(t,e){var n=document.implementation.createHTMLDocument(""),i=n.createElement("base"),s=n.createElement("a");return n.head.appendChild(i),n.body.appendChild(s),i.href=e||document.baseURI||(document.querySelector("base")||{}).href||location.href,s.href=t,s.href}var ft=mt;function mt(t,e,n){t instanceof RegExp&&(t=pt(t,n)),e instanceof RegExp&&(e=pt(e,n));var i=vt(t,e,n);return i&&{start:i[0],end:i[1],pre:n.slice(0,i[0]),body:n.slice(i[0]+t.length,i[1]),post:n.slice(i[1]+e.length)}}function pt(t,e){var n=e.match(t);return n?n[0]:null}function vt(t,e,n){var i,s,a,r,o,l=n.indexOf(t),c=n.indexOf(e,l+1),d=l;if(l>=0&&c>0){if(t===e)return[l,c];for(i=[],a=n.length;d>=0&&!o;)d==l?(i.push(d),l=n.indexOf(t,d+1)):1==i.length?o=[i.pop(),c]:((s=i.pop())<a&&(a=s,r=c),c=n.indexOf(e,d+1)),d=l<c&&l>=0?l:c;i.length&&(o=[a,r])}return o}function bt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={preserveStatic:!0,removeComments:!1},i=dt({},n,e),s=[];function a(t){throw new Error("CSS parse error: ".concat(t))}function r(e){var n=e.exec(t);if(n)return t=t.slice(n[0].length),n}function o(){return r(/^{\s*/)}function l(){return r(/^}/)}function c(){r(/^\s*/)}function d(){if(c(),"/"===t[0]&&"*"===t[1]){for(var e=2;t[e]&&("*"!==t[e]||"/"!==t[e+1]);)e++;if(!t[e])return a("end of comment is missing");var n=t.slice(2,e);return t=t.slice(e+2),{type:"comment",comment:n}}}function u(){for(var t,e=[];t=d();)e.push(t);return i.removeComments?[]:e}function h(){for(c();"}"===t[0];)a("extra closing bracket");var e=r(/^(("(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^{])+)/);if(e){var n,i=e[0].trim();/\/\*/.test(i)&&(i=i.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,""));var s=/["']\w*,\w*["']/.test(i);return s&&(i=i.replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,(function(t){return t.replace(/,/g,"")}))),n=/,/.test(i)?i.split(/\s*(?![^(]*\)),\s*/):[i],s&&(n=n.map((function(t){return t.replace(/\u200C/g,",")}))),n}}function g(){if("@"===t[0])return T();r(/^([;\s]*)+/);var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=r(/^(\*?[-#/*\\\w.]+(\[[0-9a-z_-]+\])?)\s*/);if(n){if(n=n[0].trim(),!r(/^:\s*/))return a("property missing ':'");var i=r(/^((?:\/\*.*?\*\/|'(?:\\'|.)*?'|"(?:\\"|.)*?"|\((\s*'(?:\\'|.)*?'|"(?:\\"|.)*?"|[^)]*?)\s*\)|[^};])+)/),s={type:"declaration",property:n.replace(e,""),value:i?i[0].replace(e,"").trim():""};return r(/^[;\s]*/),s}}function f(){if(!o())return a("missing '{'");for(var t,e=u();t=g();)e.push(t),e=e.concat(u());return l()?e:a("missing '}'")}function m(){c();for(var t,e=[];t=r(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)e.push(t[1]),r(/^,\s*/);if(e.length)return{type:"keyframe",values:e,declarations:f()}}function p(){var t=r(/^@([-\w]+)?keyframes\s*/);if(t){var e=t[1];if(!(t=r(/^([-\w]+)\s*/)))return a("@keyframes missing name");var n,i=t[1];if(!o())return a("@keyframes missing '{'");for(var s=u();n=m();)s.push(n),s=s.concat(u());return l()?{type:"keyframes",name:i,vendor:e,keyframes:s}:a("@keyframes missing '}'")}}function v(){if(r(/^@page */))return{type:"page",selectors:h()||[],declarations:f()}}function b(){var t=r(/@(top|bottom|left|right)-(left|center|right|top|middle|bottom)-?(corner)?\s*/);if(t)return{type:"page-margin-box",name:"".concat(t[1],"-").concat(t[2])+(t[3]?"-".concat(t[3]):""),declarations:f()}}function w(){if(r(/^@font-face\s*/))return{type:"font-face",declarations:f()}}function y(){var t=r(/^@supports *([^{]+)/);if(t)return{type:"supports",supports:t[1].trim(),rules:L()}}function C(){if(r(/^@host\s*/))return{type:"host",rules:L()}}function _(){var t=r(/^@media([^{]+)*/);if(t)return{type:"media",media:(t[1]||"").trim(),rules:L()}}function S(){var t=r(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(t)return{type:"custom-media",name:t[1].trim(),media:t[2].trim()}}function E(){var t=r(/^@([-\w]+)?document *([^{]+)/);if(t)return{type:"document",document:t[2].trim(),vendor:t[1]?t[1].trim():null,rules:L()}}function A(){var t=r(/^@(import|charset|namespace)\s*([^;]+);/);if(t)return{type:t[1],name:t[2].trim()}}function T(){if(c(),"@"===t[0]){var e=A()||w()||_()||p()||y()||E()||S()||C()||v()||b();if(e&&!i.preserveStatic){var n=!1;if(e.declarations)n=e.declarations.some((function(t){return/var\(/.test(t.value)}));else n=(e.keyframes||e.rules||[]).some((function(t){return(t.declarations||[]).some((function(t){return/var\(/.test(t.value)}))}));return n?e:{}}return e}}function k(){if(!i.preserveStatic){var e=ft("{","}",t);if(e){var n=/:(?:root|host)(?![.:#(])/.test(e.pre)&&/--\S*\s*:/.test(e.body),s=/var\(/.test(e.body);if(!n&&!s)return t=t.slice(e.end+1),{}}}var r=h()||[],o=i.preserveStatic?f():f().filter((function(t){var e=r.some((function(t){return/:(?:root|host)(?![.:#(])/.test(t)}))&&/^--\S/.test(t.property),n=/var\(/.test(t.value);return e||n}));return r.length||a("selector missing"),{type:"rule",selectors:r,declarations:o}}function L(e){if(!e&&!o())return a("missing '{'");for(var n,i=u();t.length&&(e||"}"!==t[0])&&(n=T()||k());)n.type&&i.push(n),i=i.concat(u());return e||l()?i:a("missing '}'")}return{type:"stylesheet",stylesheet:{rules:L(!0),errors:s}}}function wt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={parseHost:!1,store:{},onWarning:function(){}},i=dt({},n,e),s=new RegExp(":".concat(i.parseHost?"host":"root","$"));return"string"==typeof t&&(t=bt(t,i)),t.stylesheet.rules.forEach((function(t){"rule"===t.type&&t.selectors.some((function(t){return s.test(t)}))&&t.declarations.forEach((function(t,e){var n=t.property,s=t.value;n&&0===n.indexOf("--")&&(i.store[n]=s)}))})),i.store}function yt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i={charset:function(t){return"@charset "+t.name+";"},comment:function(t){return 0===t.comment.indexOf("__CSSVARSPONYFILL")?"/*"+t.comment+"*/":""},"custom-media":function(t){return"@custom-media "+t.name+" "+t.media+";"},declaration:function(t){return t.property+":"+t.value+";"},document:function(t){return"@"+(t.vendor||"")+"document "+t.document+"{"+s(t.rules)+"}"},"font-face":function(t){return"@font-face{"+s(t.declarations)+"}"},host:function(t){return"@host{"+s(t.rules)+"}"},import:function(t){return"@import "+t.name+";"},keyframe:function(t){return t.values.join(",")+"{"+s(t.declarations)+"}"},keyframes:function(t){return"@"+(t.vendor||"")+"keyframes "+t.name+"{"+s(t.keyframes)+"}"},media:function(t){return"@media "+t.media+"{"+s(t.rules)+"}"},namespace:function(t){return"@namespace "+t.name+";"},page:function(t){return"@page "+(t.selectors.length?t.selectors.join(", "):"")+"{"+s(t.declarations)+"}"},"page-margin-box":function(t){return"@"+t.name+"{"+s(t.declarations)+"}"},rule:function(t){var e=t.declarations;if(e.length)return t.selectors.join(",")+"{"+s(e)+"}"},supports:function(t){return"@supports "+t.supports+"{"+s(t.rules)+"}"}};function s(t){for(var s="",a=0;a<t.length;a++){var r=t[a];n&&n(r);var o=i[r.type](r);o&&(s+=o,o.length&&r.selectors&&(s+=e))}return s}return s(t.stylesheet.rules)}function Ct(t,e){t.rules.forEach((function(n){n.rules?Ct(n,e):n.keyframes?n.keyframes.forEach((function(t){"keyframe"===t.type&&e(t.declarations,n)})):n.declarations&&e(n.declarations,t)}))}mt.range=vt;function _t(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={preserveStatic:!0,preserveVars:!1,variables:{},onWarning:function(){}},i=dt({},n,e);return"string"==typeof t&&(t=bt(t,i)),Ct(t.stylesheet,(function(t,e){for(var n=0;n<t.length;n++){var s=t[n],a=s.type,r=s.property,o=s.value;if("declaration"===a)if(i.preserveVars||!r||0!==r.indexOf("--")){if(-1!==o.indexOf("var(")){var l=Et(o,i);l!==s.value&&(l=St(l),i.preserveVars?(t.splice(n,0,{type:a,property:r,value:l}),n++):s.value=l)}}else t.splice(n,1),n--}})),yt(t)}function St(t){return(t.match(/calc\(([^)]+)\)/g)||[]).forEach((function(e){var n="calc".concat(e.split("calc").join(""));t=t.replace(e,n)})),t}function Et(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(-1===t.indexOf("var("))return t;var i=ft("(",")",t);function s(t){var i=t.split(",")[0].replace(/[\s\n\t]/g,""),s=(t.match(/(?:\s*,\s*){1}(.*)?/)||[])[1],a=Object.prototype.hasOwnProperty.call(e.variables,i)?String(e.variables[i]):void 0,r=a||(s?String(s):void 0),o=n||t;return a||e.onWarning('variable "'.concat(i,'" is undefined')),r&&"undefined"!==r&&r.length>0?Et(r,e,o):"var(".concat(o,")")}if(i){if("var"===i.pre.slice(-3)){var a=0===i.body.trim().length;return a?(e.onWarning("var() must contain a non-whitespace string"),t):i.pre.slice(0,-3)+s(i.body)+Et(i.post,e)}return i.pre+"(".concat(Et(i.body,e),")")+Et(i.post,e)}return-1!==t.indexOf("var(")&&e.onWarning('missing closing ")" in the value "'.concat(t,'"')),t}var At="undefined"!=typeof window,Tt=At&&window.CSS&&window.CSS.supports&&window.CSS.supports("(--a: 0)"),kt={group:0,job:0},Lt={rootElement:At?document:null,shadowDOM:!1,include:"style,link[rel=stylesheet]",exclude:"",variables:{},onlyLegacy:!0,preserveStatic:!0,preserveVars:!1,silent:!1,updateDOM:!0,updateURLs:!0,watch:null,onBeforeSend:function(){},onError:function(){},onWarning:function(){},onSuccess:function(){},onComplete:function(){},onFinally:function(){}},Mt={cssComments:/\/\*[\s\S]+?\*\//g,cssKeyframes:/@(?:-\w*-)?keyframes/,cssMediaQueries:/@media[^{]+\{([\s\S]+?})\s*}/g,cssUrls:/url\((?!['"]?(?:data|http|\/\/):)['"]?([^'")]*)['"]?\)/g,cssVarDeclRules:/(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^}]*})/g,cssVarDecls:/(?:[\s;]*)(-{2}\w[\w-]*)(?:\s*:\s*)([^;]*);/g,cssVarFunc:/var\(\s*--[\w-]/,cssVars:/(?:(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^;]*;*\s*)|(?:var\(\s*))(--[^:)]+)(?:\s*[:)])/},xt={dom:{},job:{},user:{}},Dt=!1,It=null,Ot=0,Rt=null,Wt=!1;
/**
 * Fetches, parses, and transforms CSS custom properties from specified
 * <style> and <link> elements into static values, then appends a new <style>
 * element with static values to the DOM to provide CSS custom property
 * compatibility for legacy browsers. Also provides a single interface for
 * live updates of runtime values in both modern and legacy browsers.
 *
 * @preserve
 * @param {object}   [options] Options object
 * @param {object}   [options.rootElement=document] Root element to traverse for
 *                   <link> and <style> nodes
 * @param {boolean}  [options.shadowDOM=false] Determines if shadow DOM <link>
 *                   and <style> nodes will be processed.
 * @param {string}   [options.include="style,link[rel=stylesheet]"] CSS selector
 *                   matching <link re="stylesheet"> and <style> nodes to
 *                   process
 * @param {string}   [options.exclude] CSS selector matching <link
 *                   rel="stylehseet"> and <style> nodes to exclude from those
 *                   matches by options.include
 * @param {object}   [options.variables] A map of custom property name/value
 *                   pairs. Property names can omit or include the leading
 *                   double-hyphen (), and values specified will override
 *                   previous values
 * @param {boolean}  [options.onlyLegacy=true] Determines if the ponyfill will
 *                   only generate legacy-compatible CSS in browsers that lack
 *                   native support (i.e., legacy browsers)
 * @param {boolean}  [options.preserveStatic=true] Determines if CSS
 *                   declarations that do not reference a custom property will
 *                   be preserved in the transformed CSS
 * @param {boolean}  [options.preserveVars=false] Determines if CSS custom
 *                   property declarations will be preserved in the transformed
 *                   CSS
 * @param {boolean}  [options.silent=false] Determines if warning and error
 *                   messages will be displayed on the console
 * @param {boolean}  [options.updateDOM=true] Determines if the ponyfill will
 *                   update the DOM after processing CSS custom properties
 * @param {boolean}  [options.updateURLs=true] Determines if relative url()
 *                   paths will be converted to absolute urls in external CSS
 * @param {boolean}  [options.watch=false] Determines if a MutationObserver will
 *                   be created that will execute the ponyfill when a <link> or
 *                   <style> DOM mutation is observed
 * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes
 *                   1) the XHR object, 2) source node reference, and 3) the
 *                   source URL as arguments
 * @param {function} [options.onError] Callback after a CSS parsing error has
 *                   occurred or an XHR request has failed. Passes 1) an error
 *                   message, and 2) source node reference, 3) xhr, and 4 url as
 *                   arguments.
 * @param {function} [options.onWarning] Callback after each CSS parsing warning
 *                   has occurred. Passes 1) a warning message as an argument.
 * @param {function} [options.onSuccess] Callback after CSS data has been
 *                   collected from each node and before CSS custom properties
 *                   have been transformed. Allows modifying the CSS data before
 *                   it is transformed by returning any string value (or false
 *                   to skip). Passes 1) CSS text, 2) source node reference, and
 *                   3) the source URL as arguments.
 * @param {function} [options.onComplete] Callback after all CSS has been
 *                   processed, legacy-compatible CSS has been generated, and
 *                   (optionally) the DOM has been updated. Passes 1) a CSS
 *                   string with CSS variable values resolved, 2) an array of
 *                   output <style> node references that have been appended to
 *                   the DOM, 3) an object containing all custom properies names
 *                   and values, and 4) the ponyfill execution time in
 *                   milliseconds.
 * @param {function} [options.onFinally] Callback in modern and legacy browsers
 *                   after the ponyfill has finished all tasks. Passes 1) a
 *                   boolean indicating if the last ponyfill call resulted in a
 *                   style change, 2) a boolean indicating if the current
 *                   browser provides native support for CSS custom properties,
 *                   and 3) the ponyfill execution time in milliseconds.
 * @example
 *
 *   cssVars({
 *     rootElement   : document,
 *     shadowDOM     : false,
 *     include       : 'style,link[rel="stylesheet"]',
 *     exclude       : '',
 *     variables     : {},
 *     onlyLegacy    : true,
 *     preserveStatic: true,
 *     preserveVars  : false,
 *     silent        : false,
 *     updateDOM     : true,
 *     updateURLs    : true,
 *     watch         : false,
 *     onBeforeSend(xhr, node, url) {},
 *     onError(message, node, xhr, url) {},
 *     onWarning(message) {},
 *     onSuccess(cssText, node, url) {},
 *     onComplete(cssText, styleNode, cssVariables, benchmark) {},
 *     onFinally(hasChanged, hasNativeSupport, benchmark)
 *   });
 */
function Pt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="cssVars(): ",n=dt({},Lt,t);function i(t,i,s,a){!n.silent&&window.console&&console.error("".concat(e).concat(t,"\n"),i),n.onError(t,i,s,a)}function s(t){!n.silent&&window.console&&console.warn("".concat(e).concat(t)),n.onWarning(t)}function a(t){n.onFinally(Boolean(t),Tt,Ut()-n.__benchmark)}if(At){if(n.watch)return n.watch=Lt.watch,Ht(n),void Pt(n);if(!1===n.watch&&It&&(It.disconnect(),It=null),!n.__benchmark){if(Dt===n.rootElement)return void Yt(t);var r=[].slice.call(n.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])'));if(n.__benchmark=Ut(),n.exclude=[It?'[data-cssvars]:not([data-cssvars=""])':'[data-cssvars="out"]',"link[disabled]:not([data-cssvars])",n.exclude].filter((function(t){return t})).join(","),n.variables=Ft(n.variables),r.forEach((function(t){var e="style"===t.nodeName.toLowerCase()&&t.__cssVars.text,n=e&&t.textContent!==t.__cssVars.text;e&&n&&(t.sheet&&(t.sheet.disabled=!1),t.setAttribute("data-cssvars",""))})),!It){var o=[].slice.call(n.rootElement.querySelectorAll('[data-cssvars="out"]'));o.forEach((function(t){var e=t.getAttribute("data-cssvars-group");(e?n.rootElement.querySelector('[data-cssvars="src"][data-cssvars-group="'.concat(e,'"]')):null)||t.parentNode.removeChild(t)})),Ot&&r.length<Ot&&(Ot=r.length,xt.dom={})}}if("loading"!==document.readyState)if(Tt&&n.onlyLegacy){var l=!1;if(n.updateDOM){var c=n.rootElement.host||(n.rootElement===document?document.documentElement:n.rootElement);Object.keys(n.variables).forEach((function(t){var e=n.variables[t];l=l||e!==getComputedStyle(c).getPropertyValue(t),c.style.setProperty(t,e)}))}a(l)}else!Wt&&(n.shadowDOM||n.rootElement.shadowRoot||n.rootElement.host)?ht({rootElement:Lt.rootElement,include:Lt.include,exclude:n.exclude,skipDisabled:!1,onSuccess:function(t,e,n){return!((e.sheet||{}).disabled&&!e.__cssVars)&&((t=((t=t.replace(Mt.cssComments,"").replace(Mt.cssMediaQueries,"")).match(Mt.cssVarDeclRules)||[]).join(""))||!1)},onComplete:function(t,e,i){wt(t,{store:xt.dom,onWarning:s}),Wt=!0,Pt(n)}}):(Dt=n.rootElement,ht({rootElement:n.rootElement,include:n.include,exclude:n.exclude,skipDisabled:!1,onBeforeSend:n.onBeforeSend,onError:function(t,e,n){var s=t.responseURL||Bt(n,location.href),a=t.statusText?"(".concat(t.statusText,")"):"Unspecified Error"+(0===t.status?" (possibly CORS related)":"");i("CSS XHR Error: ".concat(s," ").concat(t.status," ").concat(a),e,t,s)},onSuccess:function(t,e,i){if((e.sheet||{}).disabled&&!e.__cssVars)return!1;var s="link"===e.nodeName.toLowerCase(),a="style"===e.nodeName.toLowerCase()&&t!==e.textContent,r=n.onSuccess(t,e,i);return t=void 0!==r&&!1===Boolean(r)?"":r||t,n.updateURLs&&(s||a)&&(t=jt(t,i)),t},onComplete:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=dt({},xt.dom,xt.user);if(xt.job={},r.forEach((function(t,a){var r=e[a];if(t.__cssVars=t.__cssVars||{},t.__cssVars.text=r,Mt.cssVars.test(r))try{var o=bt(r,{preserveStatic:n.preserveStatic,removeComments:!0});wt(o,{parseHost:Boolean(n.rootElement.host),store:xt.dom,onWarning:s}),t.__cssVars.tree=o}catch(e){i(e.message,t)}})),dt(xt.job,xt.dom),n.updateDOM?(dt(xt.user,n.variables),dt(xt.job,xt.user)):(dt(xt.job,xt.user,n.variables),dt(o,n.variables)),kt.job>0&&Boolean(Object.keys(xt.job).length>Object.keys(o).length||Boolean(Object.keys(o).length&&Object.keys(xt.job).some((function(t){return xt.job[t]!==o[t]})))))Vt(n.rootElement),Pt(n);else{var l=[],c=[],d=!1;if(n.updateDOM&&kt.job++,r.forEach((function(t,a){var r=!t.__cssVars.tree;if(t.__cssVars.tree)try{_t(t.__cssVars.tree,dt({},n,{variables:xt.job,onWarning:s}));var o=yt(t.__cssVars.tree);if(n.updateDOM){var u=e[a],h=Mt.cssVarFunc.test(u);if(t.getAttribute("data-cssvars")||t.setAttribute("data-cssvars","src"),o.length&&h){var g=t.getAttribute("data-cssvars-group")||++kt.group,f=o.replace(/\s/g,""),m=n.rootElement.querySelector('[data-cssvars="out"][data-cssvars-group="'.concat(g,'"]'))||document.createElement("style");d=d||Mt.cssKeyframes.test(o),n.preserveStatic&&t.sheet&&(t.sheet.disabled=!0),m.hasAttribute("data-cssvars")||m.setAttribute("data-cssvars","out"),f===t.textContent.replace(/\s/g,"")?(r=!0,m&&m.parentNode&&(t.removeAttribute("data-cssvars-group"),m.parentNode.removeChild(m))):f!==m.textContent.replace(/\s/g,"")&&([t,m].forEach((function(t){t.setAttribute("data-cssvars-job",kt.job),t.setAttribute("data-cssvars-group",g)})),m.textContent=o,l.push(o),c.push(m),m.parentNode||t.parentNode.insertBefore(m,t.nextSibling))}}else t.textContent.replace(/\s/g,"")!==o&&l.push(o)}catch(e){i(e.message,t)}r&&t.setAttribute("data-cssvars","skip"),t.hasAttribute("data-cssvars-job")||t.setAttribute("data-cssvars-job",kt.job)})),Ot=n.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])').length,n.shadowDOM)for(var u,h=[].concat(n.rootElement).concat([].slice.call(n.rootElement.querySelectorAll("*"))),g=0;u=h[g];++g)if(u.shadowRoot&&u.shadowRoot.querySelector("style")){var f=dt({},n,{rootElement:u.shadowRoot});Pt(f)}n.updateDOM&&d&&Nt(n.rootElement),Dt=!1,n.onComplete(l.join(""),c,JSON.parse(JSON.stringify(xt.job)),Ut()-n.__benchmark),a(c.length)}}}));else document.addEventListener("DOMContentLoaded",(function e(n){Pt(t),document.removeEventListener("DOMContentLoaded",e)}))}}function Ht(t){function e(t){var e=n(t)&&t.hasAttribute("disabled"),i=(t.sheet||{}).disabled;return e||i}function n(t){return"link"===t.nodeName.toLowerCase()&&-1!==(t.getAttribute("rel")||"").indexOf("stylesheet")}function i(t){return"style"===t.nodeName.toLowerCase()}window.MutationObserver&&(It&&(It.disconnect(),It=null),(It=new MutationObserver((function(s){s.some((function(s){return function(i){var s=!1;if("attributes"===i.type&&n(i.target)&&!e(i.target)){var a="disabled"===i.attributeName,r="href"===i.attributeName,o="skip"===i.target.getAttribute("data-cssvars"),l="src"===i.target.getAttribute("data-cssvars");a?s=!o&&!l:r&&(o?i.target.setAttribute("data-cssvars",""):l&&Vt(t.rootElement,!0),s=!0)}return s}(s)||function(t){var e=!1;if("childList"===t.type){var n=i(t.target),s="out"===t.target.getAttribute("data-cssvars");e=n&&!s}return e}(s)||function(t){var s=!1;return"childList"===t.type&&(s=[].slice.call(t.addedNodes).some((function(t){var s=1===t.nodeType&&t.hasAttribute("data-cssvars"),a=i(t)&&Mt.cssVars.test(t.textContent);return!s&&(n(t)||a)&&!e(t)}))),s}(s)||function(e){var n=!1;return"childList"===e.type&&(n=[].slice.call(e.removedNodes).some((function(e){var n=1===e.nodeType,i=n&&"out"===e.getAttribute("data-cssvars"),s=n&&"src"===e.getAttribute("data-cssvars"),a=s;if(s||i){var r=e.getAttribute("data-cssvars-group"),o=t.rootElement.querySelector('[data-cssvars-group="'.concat(r,'"]'));s&&Vt(t.rootElement,!0),o&&o.parentNode.removeChild(o)}return a}))),n}(s)}))&&Pt(t)}))).observe(document.documentElement,{attributes:!0,attributeFilter:["disabled","href"],childList:!0,subtree:!0}))}function Yt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;clearTimeout(Rt),Rt=setTimeout((function(){t.__benchmark=null,Pt(t)}),e)}function Nt(t){var e=["animation-name","-moz-animation-name","-webkit-animation-name"].filter((function(t){return getComputedStyle(document.body)[t]}))[0];if(e){for(var n=t.getElementsByTagName("*"),i=[],s=0,a=n.length;s<a;s++){var r=n[s];"none"!==getComputedStyle(r)[e]&&(r.style[e]+="__CSSVARSPONYFILL-KEYFRAMES__",i.push(r))}document.body.offsetHeight;for(var o=0,l=i.length;o<l;o++){var c=i[o].style;c[e]=c[e].replace("__CSSVARSPONYFILL-KEYFRAMES__","")}}}function jt(t,e){return(t.replace(Mt.cssComments,"").match(Mt.cssUrls)||[]).forEach((function(n){var i=n.replace(Mt.cssUrls,"$1"),s=Bt(i,e);t=t.replace(n,n.replace(i,s))})),t}function Ft(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=/^-{2}/;return Object.keys(t).reduce((function(n,i){return n[e.test(i)?i:"--".concat(i.replace(/^-+/,""))]=t[i],n}),{})}function Bt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:location.href,n=document.implementation.createHTMLDocument(""),i=n.createElement("base"),s=n.createElement("a");return n.head.appendChild(i),n.body.appendChild(s),i.href=e,s.href=t,s.href}function Ut(){return At&&(window.performance||{}).now?window.performance.now():(new Date).getTime()}function Vt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[].slice.call(t.querySelectorAll('[data-cssvars="skip"],[data-cssvars="src"]'));n.forEach((function(t){return t.setAttribute("data-cssvars","")})),e&&(xt.dom={})}Pt.reset=function(){for(var t in kt.job=0,kt.group=0,Dt=!1,It&&(It.disconnect(),It=null),Ot=0,Rt=null,Wt=!1,xt)xt[t]={}};var zt=Pt,Gt=n(3);function Kt(t){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var qt=function t(e,n,i){var s=void 0===i||!1===i?{}:[];for(var a in e)s[a]=e[a];for(var r in n)"object"!==Kt(e[r])||e[r]instanceof Array?s[r]=n[r]:void 0!==e[r]&&"object"===Kt(e[r])&&null!==e[r]&&void 0===e[r].nodeType&&Object(Gt.a)(e[r])>0?s[r]=t(e[r],n[r]):void 0!==e[r]&&"object"===Kt(e[r])?s[r]=n[r]:console.log("fail"),void 0===s[r]&&delete s[r];return s},Xt=n(0),Jt=function(t,e){for(var n=String(t);n.length<e;)n="0"+n;return n},Zt=function(t,e){return t.indexOf(e)>-1},$t=function(t,e){if(null!=t&&void 0!==t.length&&t instanceof Array){var n=0;for(var i in t)e(t[i],i,n,t.length),n++}else null!=t&&e(t,0,0,1)},Qt={api:{url:"https://gateway.ziqni.com"},classSelector:/^\.([\w-]+)$/,idSelector:/^#[\w\d\-\_\&\!\@\*]+$/,tagSelector:/^[\w-]+$/},te=function(t){return t.replace(/^\s+|\s+$/g,"")},ee=function(t,e){var n,i=t,s=e;"string"==typeof t&&void 0===e&&(e=t,t=document);try{return null!==t&&(n=(e=te(e)).match(Qt.classSelector)?t.getElementsByClassName(e.replace(".","")):e.match(Qt.idSelector)?document.getElementById(e.replace("#","")):e.match(Qt.tagSelector)?t.getElementsByTagName(e):t.querySelectorAll(e)),null!=n&&n.nodeType?n:null!=n&&1===n.length?n[0]:null!=n&&n.length>0?Array.prototype.slice.call(n):null}catch(n){console.log(n),console.log(s),console.log(i),console.log(t,e)}};function ne(t,e){e=e.replace(".","");try{return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}catch(n){return void 0!==n.stack&&console.log(n.stack),console.log(n,t,e),!1}}var ie=function(t,e){if("string"==typeof e)return ne(t,e);if(e instanceof Array){var n=!1;for(var i in e)"string"==typeof e[i]&&ne(t,e[i])&&(n=!0);return n}},se=function(t,e){try{t.classList?t.classList.add(e):t.className+=" "+e}catch(t){console.trace()}return t},ae=function(t,e){try{t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}catch(n){console.log(t,e)}return t};function re(t){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var oe=function(t,e){if("object"===re(e)){var n=e.getAttribute("class"),i=e.id;e=null!==i&&i.length>0?"#"+i:null!==n&&n.length>0?"."+n.split(" ")[0]:e.nodeName}function s(t,e){try{t=t.parentNode}catch(n){console.log(t,e),console.trace()}return null!==t&&"object"===re(t)?e.match(Qt.classSelector)&&ie(t,e)||e.match(Qt.idSelector)&&t.id===e.replace("#","")||e.match(Qt.tagSelector)&&t.nodeName===e.toUpperCase()?t:s(t,e):null}return"object"===re(t)?s(t,e):null},le=function(){var t=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t||(t=Zt(window.navigator.userAgent.toLowerCase(),"macintosh")&&"ontouchend"in document),t},ce=function(t){return t.replace(/[A-Z]/g,(function(t){return"-".concat(t.toLowerCase())}))};function de(t){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Qt.Ajax=function(){this.xhr=new XMLHttpRequest},Qt.Ajax.prototype.createCORSRequest=function(t,e){return"withCredentials"in this.xhr?this.xhr.open(t,e,!0):"undefined"!=typeof XDomainRequest?(this.xhr=new XDomainRequest,e=e.indexOf("https")>-1&&"https:"!==location.protocol?e.replace("https","http"):e,this.xhr.open(t,e)):this.xhr=null,this.xhr},Qt.Ajax.prototype.abort=function(){return this.xhr&&void 0!==this.xhr.readyState&&4!==this.xhr.readyState&&this.xhr.readyState>0&&this.xhr.abort(),this},Qt.Ajax.prototype.getData=function(t){var e=this;try{var n;if(t.type=void 0!==t.type&&"string"==typeof t.type&&t.type.length>0?t.type:"POST",t.data=void 0!==t.data&&"object"===de(t.data)?t.data:{},t.url=void 0!==t.url&&"string"==typeof t.url&&t.url.length>0?t.url:"",t.success=void 0!==t.success?t.success:function(){},t.error=void 0!==t.error?t.error:function(){},t.headers=void 0!==t.headers?t.headers:{},t.extraCallback=void 0!==t.extraCallback?t.extraCallback:function(){},e.xhr=this.createCORSRequest(t.type,t.url),e.xhr.onload=function(){t.extraCallback(t,e.xhr),t.success(e.xhr.responseText,t,e.xhr)},e.xhr.onerror=function(){t.error(e.xhr.status)},"undefined"==typeof XDomainRequest)if(Object(Gt.a)(t.headers)>0)for(n in t.headers)e.xhr.setRequestHeader(n,t.headers[n]);else"POST"!==t.type&&"PUT"!==t.type||0!==Object(Gt.a)(t.headers)?e.xhr.setRequestHeader("Content-Type","text/plain"):e.xhr.setRequestHeader("Content-Type","application/json");return e.xhr.send(JSON.stringify(t.data)),e.xhr}catch(t){console.log(t)}};var ue,he=function(t){if(this.settings={source:null,ajax:{url:null,apiKey:void 0,errorCallback:function(){}},sseUrl:null,heartbeat:null,lastHeartbeat:null,mainAjax:new Qt.Ajax,heartBeatAjax:new Qt.Ajax,heartWaitTime:25e3,messageQueue:[],messageInterval:1e3,startupCheck:!0,active:!1,debug:!1,callback:function(t){},onStartupError:function(){}},void 0!==t)for(var e in t)t.hasOwnProperty(e)&&(this.settings[e]=t[e]);this.intervalInstance=null,this.heartbeatIntervalInstance=null,this.lookupData=function(){if(this.settings.messageQueue.length>0){var t=this.settings.messageQueue[0],e=this.settings.messageQueue.indexOf(t);e>-1&&this.settings.messageQueue.splice(e,1),"string"==typeof this.settings.ajax.url&&this.settings.ajax.url.length>0?this.getData(t):this.settings.callback(t)}},this.setInterval=function(){var t=this;t.intervalInstance=setInterval((function(){t.lookupData()}),t.settings.messageInterval),null!==t.settings.heartbeat&&(t.settings.lastHeartbeat=new Date,t.heartbeatIntervalInstance=setInterval((function(){var e=new Date,n=t.settings.lastHeartbeat.getTime()-e.getTime();0===t.settings.source.readyState&&n>t.settings.heartWaitTime&&t.closeChanel(),t.hearBeatCheck()}),t.settings.heartWaitTime))},this.hearBeatCheck=function(){var t=this,e={url:t.settings.heartbeat,headers:t.settings.ajax.apiKey,type:"GET",success:function(e,n,i){200!==i.status&&0===t.settings.source.readyState?(t.settings.debug&&console.log("[Msg] SSE Closing connection"),t.closeChanel()):200===i.status&&2===t.settings.source.readyState&&(t.settings.debug&&console.log("[Msg] SSE Trying to re-open the connection"),t.openChanel(),setTimeout((function(){t.hearBeatCheck()}),200))}};void 0!==t.settings.ajax.apiKey&&(e.headers=t.settings.ajax.apiKey),t.settings.heartBeatAjax.abort().getData(e)},this.getData=function(){var t=this,e={url:t.settings.ajax.url,type:"GET",success:function(e,n,i){var s={};try{s=JSON.parse(e)}catch(e){t.settings.debug&&console.log(e,t.settings)}200===i.status?t.settings.callback(s):t.settings.ajax.errorCallback(s)}};void 0!==t.settings.ajax.apiKey&&(e.headers=t.settings.ajax.apiKey),t.settings.mainAjax.abort().getData(e)},this.openChanel=function(){this.settings.source=new EventSource(this.settings.sseUrl,{withCredentials:!0}),this.serverSideEventListeners(this.settings.source)},this.serverSideEventListeners=function(t){var e=this;t.addEventListener("open",(function(t){e.settings.active=!0,e.settings.debug&&console.log("[Msg] connection opened",t)}),!1),t.addEventListener("message",(function(t){e.settings.debug&&(console.log("[Msg] message check",e.settings.sseUrl),console.log(t.data));var n=t.data,i=null;try{i=JSON.parse(n)}catch(t){}null!==e.settings.heartbeat&&(e.settings.lastHeartbeat=new Date),null!==i&&void 0===i.heartbeat&&e.settings.messageQueue.push(i)}),!1),t.addEventListener("error",(function(t){e.settings.debug&&console.log("[Msg] error check",e.settings.sseUrl),t.readyState==EventSource.CLOSED?e.settings.debug&&console.warn("[Msg] connection closed",t):e.settings.debug&&console.log(t,t.readyState),e.closeChanel(),e.settings.startupCheck=!1}),!1)},this.closeChanel=function(){this.settings.active=!1,this.settings.source.close()},this.sseFailed=function(){this.settings.heartbeat=null,this.settings.active=!1,null!==this.heartbeatIntervalInstance&&clearInterval(this.heartbeatIntervalInstance),this.settings.onStartupError(this.settings)},this.windowActivity=function(){var t=this;!function(){var e="hidden";function n(n){var i="",s="visible",a="hidden",r={focus:s,focusin:s,pageshow:s,blur:a,focusout:a,pagehide:a};"visible"===(i=(n=n||window.event).type in r?r[n.type]:this[e]?"hidden":"visible")&&0!==t.settings.source.readyState&&1!==t.settings.source.readyState?t.openChanel():"hidden"!==i||0!==t.settings.source.readyState&&1!==t.settings.source.readyState||t.closeChanel()}e in document?document.addEventListener("visibilitychange",n):(e="mozHidden")in document?document.addEventListener("mozvisibilitychange",n):(e="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",n):(e="msHidden")in document?document.addEventListener("msvisibilitychange",n):"onfocusin"in document?document.onfocusin=document.onfocusout=n:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=n,void 0!==document[e]&&n({type:document[e]?"blur":"focus"})}()},this.init=function(){var t=this;try{t.settings.debug&&console.log("[Msg] SSE starting",t.settings.sseUrl,new Date),t.openChanel(),t.settings.debug&&console.log("[Msg] SSE started",t.settings.sseUrl,new Date,t.settings.source.readyState),t.setInterval(),t.windowActivity(),setTimeout((function(){t.settings.startupCheck||(console.log("sse failed"),t.sseFailed())}),2e3),window.addEventListener("unload",(function(e){t.settings.debug&&console.log("[Msg] closing messaging service",new Date),t.settings.source.close(),t.settings.active=!1,t.settings.heartBeatAjax.abort(),t.intervalInstance&&clearInterval(t.intervalInstance)})),window.addEventListener("beforeunload",(function(e){t.settings.debug&&console.log("[Msg] closing messaging service"),t.settings.source.close(),t.settings.heartBeatAjax.abort(),t.intervalInstance&&clearInterval(t.intervalInstance)}))}catch(e){t.settings.debug&&console.log("EventSource failed"),t.sseFailed()}},this.init()},ge=function(t){var e=document.createElement("DIV");return e.innerHTML=t,e.textContent||e.innerText||""},fe=function(t){if(this.settings={container:null,detailsContainer:null,canvasInstance:null,lbWidget:null,eventStream:[],checkTimeout:2e3,onDisplayCheckTimeout:1e4,checkInterval:null,autoNotificationHideInterval:null,autoNotificationHideTime:1e4,displayInProgress:!1,dataExtractionForCanvas:function(t,e){if(void 0!==t.metadata&&t.metadata.length>0&&"function"==typeof e){var n=!1;Object(Xt.a)(t.metadata,(function(t){if("webAsset"===t.key&&!n){var i={imageSrc:t.value};n=!0,console.log(i),e(i)}}))}}},void 0!==t)for(var e in t)t.hasOwnProperty(e)&&(this.settings[e]=t[e]);this.layoutWrapper=function(){var t=document.createElement("div"),e=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),o=document.createElement("div"),l=document.createElement("div"),c=document.createElement("a");return t.setAttribute("class","cl-widget-notif-wrapper"),e.setAttribute("class","cl-widget-notif-icon-wrapper"),n.setAttribute("class","cl-widget-notif-icon"),s.setAttribute("class","cl-widget-notif-information-top-wrapper"),i.setAttribute("class","cl-widget-notif-information-wrapper"),a.setAttribute("class","cl-widget-notif-information-details-wrapper"),r.setAttribute("class","cl-widget-notif-information-details-label"),o.setAttribute("class","cl-widget-notif-information-details-description"),l.setAttribute("class","cl-widget-notif-information-close-wrapper"),c.setAttribute("class","cl-widget-notif-information-close"),c.href="javascript:void(0);",c.innerHTML="x",a.appendChild(r),a.appendChild(o),l.appendChild(c),i.appendChild(l),i.appendChild(a),s.appendChild(i),e.appendChild(n),t.appendChild(e),t.appendChild(s),t};var n={};this.startSSE=function(){var t=this;t.settings.sseInstance=new he({sseUrl:t.settings.lbWidget.settings.uri.gatewayDomain+t.settings.lbWidget.settings.uri.memberSSE.replace(":space",t.settings.lbWidget.settings.spaceName).replace(":id",t.settings.lbWidget.settings.memberId),heartbeat:t.settings.lbWidget.settings.uri.gatewayDomain+t.settings.lbWidget.settings.uri.memberSSEHeartbeat.replace(":space",t.settings.lbWidget.settings.spaceName).replace(":id",t.settings.lbWidget.settings.memberId),ajax:{url:null,apiKey:{"X-API-KEY":t.settings.lbWidget.settings.apiKey}},callback:function(e){var i=JSON.stringify(e),s=(new Date).getTime();(void 0===n[i]||void 0!==n[i]&&n[i]+1e4<s)&&(n[JSON.stringify(e)]=s,t.settings.eventStream.push(e))},onStartupError:function(t){},debug:!0})},this.autoNotificationHide=function(){var t=this;t.settings.autoNotificationHideInterval&&clearTimeout(t.settings.autoNotificationHideInterval),t.settings.autoNotificationHideInterval=setTimeout((function(){t.hideNotification()}),t.settings.autoNotificationHideTime)},this.hideNotification=function(){var t=this;t.settings.autoNotificationHideInterval&&clearTimeout(t.settings.autoNotificationHideInterval),t.settings.displayInProgress=!1,ae(ee(t.settings.container,".cl-widget-notif-information-wrapper"),"cl-show"),setTimeout((function(){t.settings.container.style.display="none"}),200)},this.showAchievementNotification=function(t){var e=this,n=ee(e.settings.detailsContainer,".cl-widget-notif-information-details-label"),i=ee(e.settings.detailsContainer,".cl-widget-notif-information-details-description"),s=ge(t.data.description);n.innerHTML=t.data.name.length>23?t.data.name.substr(0,23)+"...":t.data.name,i.innerHTML=s.length>60?s.substr(0,60)+"...":s,e.settings.detailsContainer.dataset.id=t.data.id,e.settings.container.style.display="block",setTimeout((function(){se(ee(e.settings.container,".cl-widget-notif-information-wrapper"),"cl-show")}),200),null!==e.settings.canvasInstance&&e.handleCanvasAnimations(t.data),e.autoNotificationHide()},this.handleCanvasAnimations=function(t){var e=this;e.settings.dataExtractionForCanvas(t,(function(t){t.imageSrc.length>0&&(e.settings.canvasInstance.settings.imageSrc=t.imageSrc,e.settings.canvasInstance.init())}))},this.eventStreamCheck=function(){var t=this;if(t.settings.checkInterval&&clearTimeout(t.settings.checkInterval),t.settings.eventStream.length>0&&!t.settings.displayInProgress){var e=t.settings.eventStream[0],n=t.settings.eventStream.indexOf(e);void 0!==e.achievementId?(t.settings.displayInProgress=!0,t.settings.lbWidget.getAchievement(e.achievementId,(function(e){t.showAchievementNotification(e),t.settings.checkInterval=setTimeout((function(){t.eventStreamCheck()}),t.settings.onDisplayCheckTimeout)})),t.settings.eventStream.splice(n,1)):(e.notificationId,t.settings.checkInterval=setTimeout((function(){t.eventStreamCheck()}),t.settings.checkTimeout)),n>-1&&t.settings.eventStream.splice(n,1)}else t.settings.checkInterval=setTimeout((function(){t.eventStreamCheck()}),t.settings.checkTimeout)},this.init=function(){null===this.settings.container?(this.startSSE(),this.settings.container=this.settings.lbWidget.settings.bindContainer.appendChild(this.layoutWrapper()),this.settings.detailsContainer=ee(this.settings.container,".cl-widget-notif-information-details-wrapper")):(this.settings.sseInstance.closeChanel(),this.settings.sseInstance.settings.sseUrl=this.settings.lbWidget.settings.uri.gatewayDomain+this.settings.lbWidget.settings.uri.memberSSE.replace(":space",this.settings.lbWidget.settings.spaceName).replace(":id",this.settings.lbWidget.settings.memberId),this.settings.sseInstance.settings.heartbeat=this.settings.lbWidget.settings.uri.gatewayDomain+this.settings.lbWidget.settings.uri.memberSSEHeartbeat.replace(":space",this.settings.lbWidget.settings.spaceName).replace(":id",this.settings.lbWidget.settings.memberId),this.settings.sseInstance.openChanel()),this.eventStreamCheck()}},me=function(t){null!==t&&t.parentElement.removeChild(t)},pe=(n(5),function(){return!!navigator.platform&&/iP(ad|hone|od)/.test(navigator.platform)}),ve=function(t,e){t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e)},be=function(t,e,n,i,s,a,r){var o,l=0,c=0,d=0,u=0,h=le(),g=pe(),f="BODY"===t.parentNode.nodeName,m=f?window.innerWidth:i.offsetWidth,p=f?window.innerHeight:i.offsetHeight,v=null;ue&&clearTimeout(ue);var b=function(){var n=ie(t,"cl-vertical-mini"),s=f?window.innerWidth:i.offsetWidth,a=f?window.innerHeight:i.offsetHeight,r=s-parseInt(t.offsetWidth+(n?e.offsetWidth/7:e.offsetWidth/1.6)),o=a-parseInt(t.offsetHeight+(n?e.offsetHeight/1.2:e.offsetHeight/4)),l=parseInt(t.style.top),c=parseInt(t.style.left);l>o&&o>5&&(t.style.top=o+"px"),c>r&&r>5&&(t.style.left=r+"px")};if(h){var w=!1;e.addEventListener("touchstart",(function(t){w=!0,o&&clearTimeout(o),m=f?window.innerWidth:i.offsetWidth,p=f?window.innerHeight:i.offsetHeight,o=setTimeout((function(){w=!1}),100)}),{passive:g}),e.addEventListener("touchmove",(function(t){t.preventDefault(),d=t.targetTouches[0].pageX,u=t.targetTouches[0].pageY,y(t)}),{passive:g}),e.addEventListener("touchend",(function(t){C(t),v=null,w&&"function"==typeof r&&r()}),{passive:g}),window.addEventListener("orientationchange",(function(t){b()}),!0)}else e.onmousedown=function(t){(t=t||window.event).preventDefault(),m=f?window.innerWidth:i.offsetWidth,p=f?window.innerHeight:i.offsetHeight,n.style.display="block",d=t.clientX,u=t.clientY,document.onmouseup=C,document.onmousemove=y},window.addEventListener("resize",(function(t){b()}),!0);function y(n){(n=n||window.event).preventDefault();var i=h?n.targetTouches[0].pageX:n.clientX,a=h?n.targetTouches[0].pageY:n.clientY,r=ie(t,"cl-vertical-mini"),o=m-parseInt(t.offsetWidth+(r?e.offsetWidth/7:e.offsetWidth/1.6)),g=p-parseInt(t.offsetHeight+(r?e.offsetHeight/1.2:e.offsetHeight/4));l=d-i,c=u-a,d=parseInt(i),u=parseInt(a),v=(new Date).getTime(),function t(){ue&&clearTimeout(ue);ue=setTimeout((function(){null!==v&&v+3e3<(new Date).getTime()&&!h?C():null!==v&&t()}),3e3)}(),ie(t,"cl-being-moved")||se(t,"cl-being-moved");var f=h?a-parseInt(e.offsetHeight/2):t.offsetTop-c,b=h?i-parseInt(e.offsetWidth/2):t.offsetLeft-l,w=function(t,e,n,i){var s=t<=0?0:t,a=e<=0?0:e;return a>=n&&(a=n),s>=i&&(s=i),{top:s,left:a}}(f,b,o,g);i<0||a<0||i>m||a>p||f>g||b>o||w.top>g||w.left>o?C(n):(t.style.top=w.top+"px",t.style.left=w.left+"px"),"function"==typeof s&&s(f,b)}function C(e){n.style.display="none",h?e.preventDefault():(document.onmouseup=null,document.onmousemove=null),v=null,ae(t,"cl-being-moved"),"function"==typeof a&&a()}},we=function(t){if(this.settings={lbWidget:null,container:null,overlayContainer:null,infoContainer:null,updateInterval:null,updateIntervalTime:1e3,active:!1,enableDragging:!0,dragging:!1,verticalClass:"cl-vertical-mini"},void 0!==t)for(var e in t)t.hasOwnProperty(e)&&(this.settings[e]=t[e]);var i;this.layout=function(){var t=document.createElement("div");t.setAttribute("class","cl-widget-ms-wrapper cl-ms-default-style"),this.initialLayoutPosition(t);var e=n(22);return t.innerHTML=e(),t},this.initialLayoutPosition=function(t){if(Object(Xt.a)(this.settings.lbWidget.settings.layout.miniScoreBoardPosition,(function(e,n){null!==e&&(t.style[n]=e)})),"string"==typeof this.settings.lbWidget.settings.layout.miniScoreBoardOrientation)switch(this.settings.lbWidget.settings.layout.miniScoreBoardOrientation){case"horizontal":break;case"vertical":se(t,this.settings.verticalClass)}},this.overlayLayout=function(){var t=document.createElement("div");return t.setAttribute("class","cl-widget-ms-overlay-wrapper"),t},this.timeManagement=function(){var t=0,e="&nbsp;",n="",i="",a=!1;if(null!==this.settings.lbWidget.settings.competition.activeContest){var r=this.settings.lbWidget.settings.competition.activeContest.scheduledStart;void 0!==this.settings.lbWidget.settings.competition.activeContest.actualStart&&(r=this.settings.lbWidget.settings.competition.activeContest.actualStart),t=s()(r).diff(s()()),e=this.settings.lbWidget.settings.translation.miniLeaderboard.startsIn,n=this.settings.lbWidget.formatDateTime(s.a.duration(t)),i=this.settings.lbWidget.formatDateTime(s.a.duration(t)),a=!1,t<=0&&0===this.settings.lbWidget.settings.competition.activeContest.statusCode||1===this.settings.lbWidget.settings.competition.activeContest.statusCode?(e=this.settings.lbWidget.settings.translation.miniLeaderboard.starting,n=""):2===this.settings.lbWidget.settings.competition.activeContest.statusCode?(t=s()(this.settings.lbWidget.settings.competition.activeContest.scheduledEnd).diff(s()()),i=this.settings.lbWidget.formatDateTime(s.a.duration(t)),e="&nbsp;",n=this.settings.lbWidget.formatDateTime(s.a.duration(t)),a=!0):3===this.settings.lbWidget.settings.competition.activeContest.statusCode?(e=this.settings.lbWidget.settings.translation.miniLeaderboard.finishing,n="",a=!0):this.settings.lbWidget.settings.competition.activeContest.statusCode>=4&&(e=this.settings.lbWidget.settings.translation.miniLeaderboard.finished,n="",a=!0)}return{label:e,diff:t,date:n,dateObj:i,inverse:a}},this.layoutDefaultOrEmptyEntry=function(){var t=document.createElement("div"),e=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),s=document.createElement("img"),a=document.createElement("div");return t.setAttribute("class","cl-widget-ms-default-mem-entry"),e.setAttribute("class","cl-widget-ms-default-mem-label"),n.setAttribute("class","cl-widget-ms-default-mem-rank"),i.setAttribute("class","cl-widget-ms-default-mem-icon"),s.setAttribute("class","cl-widget-ms-default-mem-img"),s.style.display="none",a.setAttribute("class","cl-widget-ms-default-mem-points"),t.appendChild(e),t.appendChild(n),i.appendChild(s),t.appendChild(i),t.appendChild(a),t},this.layoutFirstToOrEmptyEntry=function(){var t=document.createElement("div"),e=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),s=document.createElement("img"),a=document.createElement("div");return t.setAttribute("class","cl-widget-ms-first-to-mem-entry"),e.setAttribute("class","cl-widget-ms-first-to-mem-label"),n.setAttribute("class","cl-widget-ms-first-to-mem-rank"),i.setAttribute("class","cl-widget-ms-first-to-mem-icon"),s.setAttribute("class","cl-widget-ms-first-to-mem-img"),s.style.display="none",a.setAttribute("class","cl-widget-ms-first-to-mem-points"),t.appendChild(e),t.appendChild(n),i.appendChild(s),t.appendChild(i),t.appendChild(a),t},this.layoutDefaultOrEmpty=function(){var t=this,e=t.timeManagement(),n=e.label,i=e.date,s=t.settings.infoContainer,a=ee(t.settings.container,".cl-widget-ms-default-wrapper"),r=e.inverse;if(null===a){t.removeUnusedElements(),se(t.settings.container,"cl-ms-default-style");var o=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div"),u=document.createElement("div"),h=document.createElement("div"),g=document.createElement("div"),f=document.createElement("div"),m=document.createElement("div"),p=t.layoutDefaultOrEmptyEntry(),v=ee(p,".cl-widget-ms-default-mem-img");o.setAttribute("class","cl-widget-ms-default-wrapper"),c.setAttribute("class","cl-widget-ms-default-date-label"),d.setAttribute("class","cl-widget-ms-default-date"),l.setAttribute("class","cl-widget-ms-default-date-wrapper"),u.setAttribute("class","cl-widget-ms-default-results-wrapper"),h.setAttribute("class","cl-widget-ms-default-results-list"),g.setAttribute("class","cl-widget-ms-default-results-headers"),f.setAttribute("class","cl-widget-ms-default-results-header-rank"),m.setAttribute("class","cl-widget-ms-default-results-header-points"),p.setAttribute("class","cl-widget-ms-default-mem-entry"),c.innerHTML=n,d.innerHTML=i,l.appendChild(c),l.appendChild(d),ee(p,".cl-widget-ms-default-mem-rank").innerHTML="--",ee(p,".cl-widget-ms-default-mem-points").innerHTML="--",v.src="",v.alt="",v.style.display="block",f.innerHTML=t.settings.lbWidget.settings.translation.leaderboard.rank,m.innerHTML=t.settings.lbWidget.settings.translation.leaderboard.points,g.appendChild(f),g.appendChild(m),h.appendChild(p),u.appendChild(g),u.appendChild(h),o.appendChild(l),o.appendChild(u),a=s.appendChild(o),setTimeout((function(){se(s,"cl-show")}),200)}else ie(s,"cl-show")||se(s,"cl-show"),ee(t.settings.container,".cl-widget-ms-default-results-header-rank").innerHTML=t.settings.lbWidget.settings.translation.leaderboard.rank,ee(t.settings.container,".cl-widget-ms-default-results-header-points").innerHTML=t.settings.lbWidget.settings.translation.leaderboard.points,ee(t.settings.container,".cl-widget-ms-default-date-label").innerHTML=n,ee(t.settings.container,".cl-widget-ms-default-date").innerHTML=i;se(ee(t.settings.container,".cl-widget-ms-default-date-wrapper"),"cl-widget-ms-default-date-only"),Object(Xt.a)(t.settings.lbWidget.settings.leaderboard.leaderboardData,(function(e){if(e.memberRefId===t.settings.lbWidget.settings.memberId||e.memberId===t.settings.lbWidget.settings.memberId){var s=ee(a,".cl-widget-ms-default-results-list");s.innerHTML="",ee(t.settings.container,".cl-widget-ms-default-date-label").innerHTML=n,ee(t.settings.container,".cl-widget-ms-default-date").innerHTML=i,t.settings.lbWidget.settings.leaderboard.miniScoreBoard.enableRankings&&void 0!==e.rankings?Object(Xt.a)(e.rankings,(function(e){s.appendChild(t.layoutDefaultOrEmptySingleRow(e))})):s.appendChild(t.layoutDefaultOrEmptySingleRow(e))}})),r&&!ie(a,"cl-inverse")&&se(a,"cl-inverse")},this.layoutDefaultOrEmptySingleRow=function(t){var e=this.settings.lbWidget.populateIdenticonBase64Image(t.memberId),n=this.layoutDefaultOrEmptyEntry(),i=ee(n,".cl-widget-ms-default-mem-img"),s=t.memberRefId===this.settings.lbWidget.settings.memberId||t.memberId===this.settings.lbWidget.settings.memberId,a=this.settings.lbWidget.settings.leaderboard.pointsFormatter(t.points);return i.src=e,i.alt="",i.style.display="block",s&&se(n,"cl-widget-ms-default-mem-self"),ee(n,".cl-widget-ms-default-mem-label").innerHTML=s?this.settings.lbWidget.settings.translation.leaderboard.you:"",ee(n,".cl-widget-ms-default-mem-rank").innerHTML="<span class='cl-mem-rank-label'>"+this.settings.lbWidget.settings.translation.leaderboard.rank+"</span><span class='cl-mem-rank'>"+t.rank+"</span>",ee(n,".cl-widget-ms-default-mem-points").innerHTML="<span class='cl-mem-points-label'>"+this.settings.lbWidget.settings.translation.leaderboard.points+"</span><span class='cl-mem-points'>"+a+"</span>",n},this.layoutFirstToOrEmpty=function(t){var e=this,n=e.timeManagement(),i=n.label,s=n.date,a=e.settings.infoContainer,r=ee(e.settings.container,".cl-widget-ms-first-to-wrapper"),o=n.inverse;if(null===r){e.removeUnusedElements(),se(e.settings.container,"cl-ms-first-to-style");var l=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div"),u=document.createElement("div"),h=document.createElement("div"),g=document.createElement("div"),f=document.createElement("div"),m=document.createElement("div"),p=document.createElement("div"),v=e.layoutFirstToOrEmptyEntry(),b=ee(v,".cl-widget-ms-first-to-mem-img");l.setAttribute("class","cl-widget-ms-first-to-wrapper"),d.setAttribute("class","cl-widget-ms-first-to-date-label"),u.setAttribute("class","cl-widget-ms-first-to-date"),c.setAttribute("class","cl-widget-ms-first-to-date-wrapper"),h.setAttribute("class","cl-widget-ms-first-to-results-wrapper"),g.setAttribute("class","cl-widget-ms-first-to-results-list"),f.setAttribute("class","cl-widget-ms-first-to-results-headers"),m.setAttribute("class","cl-widget-ms-first-to-results-header-rank"),p.setAttribute("class","cl-widget-ms-first-to-results-header-points"),v.setAttribute("class","cl-widget-ms-first-to-mem-entry"),u.innerHTML=i,c.appendChild(d),c.appendChild(u),ee(v,".cl-widget-ms-first-to-mem-rank").innerHTML="--",ee(v,".cl-widget-ms-first-to-mem-points").innerHTML="--/"+t.recordTimeWhenSumReaches,b.src="",b.alt="",b.style.display="block",m.innerHTML=e.settings.lbWidget.settings.translation.leaderboard.rank,p.innerHTML=e.settings.lbWidget.settings.translation.leaderboard.points,f.appendChild(m),f.appendChild(p),g.appendChild(v),h.appendChild(f),h.appendChild(g),l.appendChild(c),l.appendChild(h),r=a.appendChild(l),setTimeout((function(){se(a,"cl-show")}),200)}else ie(a,"cl-show")||se(a,"cl-show"),ee(e.settings.container,".cl-widget-ms-first-to-results-header-rank").innerHTML=e.settings.lbWidget.settings.translation.leaderboard.rank,ee(e.settings.container,".cl-widget-ms-first-to-results-header-points").innerHTML=e.settings.lbWidget.settings.translation.leaderboard.points,ee(e.settings.container,".cl-widget-ms-first-to-date-label").innerHTML=i,ee(e.settings.container,".cl-widget-ms-first-to-date").innerHTML=s;se(ee(e.settings.container,".cl-widget-ms-first-to-date-wrapper"),"cl-widget-ms-first-to-date-only"),Object(Xt.a)(e.settings.lbWidget.settings.leaderboard.leaderboardData,(function(n){if(n.memberRefId===e.settings.lbWidget.settings.memberId||n.memberId===e.settings.lbWidget.settings.memberId){var i=ee(r,".cl-widget-ms-first-to-results-list");i.innerHTML="",e.settings.lbWidget.settings.leaderboard.miniScoreBoard.enableRankings&&void 0!==n.rankings?Object(Xt.a)(n.rankings,(function(n){i.appendChild(e.layoutFirstToOrEmptySingleRow(n,t))})):i.appendChild(e.layoutFirstToOrEmptySingleRow(n,t))}})),o&&!ie(r,"cl-inverse")&&se(r,"cl-inverse")},this.layoutFirstToOrEmptySingleRow=function(t,e){var n=this.settings.lbWidget.populateIdenticonBase64Image(t.memberId),i=this.layoutFirstToOrEmptyEntry(),s=ee(i,".cl-widget-ms-first-to-mem-img"),a=t.memberRefId===this.settings.lbWidget.settings.memberId||t.memberId===this.settings.lbWidget.settings.memberId,r=this.settings.lbWidget.settings.leaderboard.pointsFormatter(t.points);return a&&se(i,"cl-widget-ms-first-to-mem-self"),s.src=n,s.alt="",s.style.display="block",ee(i,".cl-widget-ms-first-to-mem-label").innerHTML=a?this.settings.lbWidget.settings.translation.leaderboard.you:"",ee(i,".cl-widget-ms-first-to-mem-rank").innerHTML="<span class='cl-mem-rank-label'>"+this.settings.lbWidget.settings.translation.leaderboard.rank+"</span><span class='cl-mem-rank'>"+t.rank+"</span>",ee(i,".cl-widget-ms-first-to-mem-points").innerHTML="<span class='cl-mem-points-label'>"+this.settings.lbWidget.settings.translation.leaderboard.points+"</span><span class='cl-mem-points'>"+r+"/"+e.recordTimeWhenSumReaches+"</span>",i},this.layoutSumBestOf=function(){var t=this,e=t.timeManagement(),n=e.label,i=e.date,s=t.settings.infoContainer,a=ee(t.settings.container,".cl-widget-ms-sum-best-wrapper"),r=e.inverse;if(null===a){t.removeUnusedElements();var o=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div"),u=document.createElement("div"),h=document.createElement("div"),g=document.createElement("div"),f=document.createElement("div"),m=document.createElement("div"),p=document.createElement("div"),v=document.createElement("div"),b=document.createElement("div"),w=document.createElement("div"),y=document.createElement("span");o.setAttribute("class","cl-widget-ms-sum-best-wrapper"),c.setAttribute("class","cl-widget-ms-sum-best-date-label"),d.setAttribute("class","cl-widget-ms-sum-best-date"),l.setAttribute("class","cl-widget-ms-sum-best-date-wrapper"),u.setAttribute("class","cl-widget-ms-sum-best-results-wrapper"),h.setAttribute("class","cl-widget-ms-sum-best-area"),g.setAttribute("class","cl-widget-ms-sum-best-high-area"),f.setAttribute("class","cl-widget-ms-sum-best-high-label"),m.setAttribute("class","cl-widget-ms-sum-best-high-score"),p.setAttribute("class","cl-widget-ms-sum-best-last-area"),v.setAttribute("class","cl-widget-ms-sum-best-last-label"),b.setAttribute("class","cl-widget-ms-sum-best-last-score"),w.setAttribute("class","cl-widget-ms-sum-best-rank-area"),y.setAttribute("class","cl-widget-ms-sum-best-rank-value"),c.innerHTML=i.length>0?i:n,d.innerHTML=i.length>0?t.settings.lbWidget.settings.translation.miniLeaderboard.rank:"",f.innerHTML=t.settings.lbWidget.settings.translation.miniLeaderboard.highScore,m.innerHTML="--",g.appendChild(f),g.appendChild(m),h.appendChild(g),v.innerHTML=t.settings.lbWidget.settings.translation.miniLeaderboard.lastScore,b.innerHTML="--",p.appendChild(v),p.appendChild(b),h.appendChild(p),y.innerHTML="--",w.appendChild(y),u.appendChild(h),u.appendChild(w),l.appendChild(c),l.appendChild(d),o.appendChild(l),o.appendChild(u),a=s.appendChild(o),setTimeout((function(){se(s,"cl-show")}),200)}else ie(s,"cl-show")||se(s,"cl-show"),ee(t.settings.container,".cl-widget-ms-sum-best-high-label").innerHTML=t.settings.lbWidget.settings.translation.miniLeaderboard.highScore,ee(t.settings.container,".cl-widget-ms-sum-best-last-label").innerHTML=t.settings.lbWidget.settings.translation.miniLeaderboard.lastScore,ee(t.settings.container,".cl-widget-ms-sum-best-date-label").innerHTML=i.length>0?i:n,ee(t.settings.container,".cl-widget-ms-sum-best-date").innerHTML=i.length>0?t.settings.lbWidget.settings.translation.miniLeaderboard.rank:"";Object(Xt.a)(t.settings.lbWidget.settings.leaderboard.leaderboardData,(function(e){if(e.memberRefId===t.settings.lbWidget.settings.memberId||e.memberId===t.settings.lbWidget.settings.memberId){var n=ee(t.settings.container,".cl-widget-ms-sum-best-last-score").innerHTML,i=ee(t.settings.container,".cl-widget-ms-sum-best-high-score").innerHTML,s=ee(t.settings.container,".cl-widget-ms-sum-best-rank-value"),a=e.change<0?"down":e.change>0?"up":"same",r=e.rank,o=t.settings.lbWidget.settings.leaderboard.pointsFormatter(e.points);n!==String(e.points)&&String(e.points)!==i&&(ee(t.settings.container,".cl-widget-ms-sum-best-last-score").innerHTML=i),ee(t.settings.container,".cl-widget-ms-sum-best-high-score").innerHTML=o,ae(s,"cl-ms-rank-up"),ae(s,"cl-ms-rank-down"),ae(s,"cl-ms-rank-same"),se(s,"cl-ms-rank-"+a),s.innerHTML=r}})),r&&!ie(a,"cl-inverse")&&se(a,"cl-inverse")},this.layoutRequiresOptIn=function(){var t=this.settings.lbWidget.settings.competition.activeContest.scheduledStart;void 0!==this.settings.lbWidget.settings.competition.activeContest.actualStart&&(t=this.settings.lbWidget.settings.competition.activeContest.actualStart);var e=s()(t).diff(s()()),n=this.settings.lbWidget.settings.translation.miniLeaderboard.startsIn,i=this.settings.infoContainer,a=this.settings.lbWidget.formatDateTime(s.a.duration(e));if(e<=0&&0===this.settings.lbWidget.settings.competition.activeContest.statusCode||1===this.settings.lbWidget.settings.competition.activeContest.statusCode?(n=this.settings.lbWidget.settings.translation.miniLeaderboard.starting,a=""):2===this.settings.lbWidget.settings.competition.activeContest.statusCode?(e=s()(this.settings.lbWidget.settings.competition.activeContest.scheduledEnd).diff(s()()),n=this.settings.lbWidget.settings.translation.miniLeaderboard.started,a=this.settings.lbWidget.formatDateTime(s.a.duration(e)),e<=0&&(n=this.settings.lbWidget.settings.translation.tournaments.finishing,a="")):3===this.settings.lbWidget.settings.competition.activeContest.statusCode?(n=this.settings.lbWidget.settings.translation.miniLeaderboard.finishing,a=""):this.settings.lbWidget.settings.competition.activeContest.statusCode>=4&&(n=this.settings.lbWidget.settings.translation.miniLeaderboard.finished,a=""),null===ee(this.settings.container,".cl-widget-ms-optin-wrapper")){this.removeUnusedElements();var r=document.createElement("div"),o=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div"),u=document.createElement("a");r.setAttribute("class","cl-widget-ms-optin-wrapper"),l.setAttribute("class","cl-widget-ms-optin-date-label"),c.setAttribute("class","cl-widget-ms-optin-date"),o.setAttribute("class","cl-widget-ms-optin-date-wrapper"),d.setAttribute("class","cl-widget-ms-optin-action-wrapper"),u.setAttribute("class","cl-widget-ms-optin-action"),l.innerHTML=n,c.innerHTML=a,u.innerHTML=this.settings.lbWidget.settings.translation.tournaments.enter,o.appendChild(l),o.appendChild(c),d.appendChild(u),r.appendChild(o),r.appendChild(d),i.appendChild(r),setTimeout((function(){se(i,"cl-show")}),200)}else ie(i,"cl-show")||se(i,"cl-show"),ee(this.settings.container,".cl-widget-ms-optin-action").innerHTML=this.settings.lbWidget.settings.translation.tournaments.enter,ee(this.settings.container,".cl-widget-ms-optin-date-label").innerHTML=n,ee(this.settings.container,".cl-widget-ms-optin-date").innerHTML=a},this.removeUnusedElements=function(){var t=ee(this.settings.container,".cl-widget-ms-default-wrapper"),e=ee(this.settings.container,".cl-widget-ms-optin-wrapper"),n=ee(this.settings.container,".cl-widget-ms-sum-best-wrapper"),i=ee(this.settings.container,".cl-widget-ms-first-to-wrapper");ae(this.settings.container,"cl-ms-default-style"),ae(this.settings.container,"cl-ms-optin-style"),ae(this.settings.container,"cl-ms-sum-best-style"),ae(this.settings.container,"cl-ms-first-to-style"),null!==t&&me(t),null!==e&&me(e),null!==n&&me(n),null!==i&&me(i)},this.clearAll=function(){this.settings.updateInterval&&clearTimeout(this.settings.updateInterval),this.removeInfoArea(),this.settings.active=!1},this.removeInfoArea=function(){var t=ee(this.settings.container,".cl-show"),e=ee(this.settings.container,".cl-widget-ms-default-wrapper");null!==t&&ae(t,"cl-show"),null!==e&&(i&&clearTimeout(i),i=setTimeout((function(){me(e)}),200))},this.updateScoreBoard=function(){var t=this;t.settings.updateInterval&&clearTimeout(t.settings.updateInterval),t.settings.updateInterval=setTimeout((function(){t.loadInfoArea((function(){t.updateScoreBoard()}))}),t.settings.updateIntervalTime)},this.loadInfoArea=function(t){this.settings.active&&null!==this.settings.lbWidget.settings.competition.activeCompetition&&this.settings.lbWidget.settings.competition.activeCompetition.statusCode<7?"boolean"==typeof this.settings.lbWidget.settings.competition.activeCompetition.optinRequired&&this.settings.lbWidget.settings.competition.activeCompetition.optinRequired&&"boolean"==typeof this.settings.lbWidget.settings.competition.activeCompetition.optin&&!this.settings.lbWidget.settings.competition.activeCompetition.optin?(this.layoutRequiresOptIn(),t()):null!==this.settings.lbWidget.settings.competition.activeContest&&"SumBest"===this.settings.lbWidget.settings.competition.activeContest.strategy.type?(this.layoutSumBestOf(),t()):null!==this.settings.lbWidget.settings.competition.activeContest&&"FirstTo"===this.settings.lbWidget.settings.competition.activeContest.strategy.type?(this.layoutFirstToOrEmpty(this.settings.lbWidget.settings.competition.activeContest.strategy),t()):null!==this.settings.lbWidget.settings.competition.activeContestId?(this.layoutDefaultOrEmpty(),t()):this.layoutDefaultOrEmpty():this.clearAll()},this.eventListeners=function(){var t=this;t.settings.lbWidget.settings.layout.enableMiniScoreBoardDragging&&be(t.settings.container,ee(t.settings.container,".cl-widget-ms-icon"),t.settings.overlayContainer,t.settings.lbWidget.settings.bindContainer,(function(e,n){t.settings.lbWidget.stopActivity(),t.settings.lbWidget.settings.layout.allowOrientationChange&&(e<=5?se(t.settings.container,t.settings.verticalClass):n<=5&&ae(t.settings.container,t.settings.verticalClass)),t.settings.dragging=!0}),(function(){t.settings.lbWidget.restartActivity(),setTimeout((function(){t.settings.dragging=!1}),200)}),(function(){t.settings.lbWidget.clickedMiniScoreBoard()}))},this.initLayout=function(t){null===this.settings.container&&(this.settings.active=!0,this.settings.container=this.settings.lbWidget.settings.bindContainer.appendChild(this.layout()),this.settings.overlayContainer=this.settings.lbWidget.settings.bindContainer.appendChild(this.overlayLayout()),this.settings.infoContainer=ee(this.settings.container,".cl-widget-ms-information-wrapper"),this.eventListeners()),"function"==typeof t&&t()},this.loadScoreBoard=function(){var t=this;t.initLayout((function(){t.loadInfoArea((function(){t.updateScoreBoard()})),setTimeout((function(){t.updateScoreBoard()}),1e3)}))}},ye=function(t){if(this.settings={lbWidget:null,container:null,overlayContainer:null,navigation:null,section:null,detailsContainer:null,tournamentListContainer:null,headerDate:null,labelDate:null,preLoader:{preLoaderActive:!1,preLoaderlastAttempt:null,preloaderCallbackRecovery:function(){}},achievement:{container:null,detailsContainer:null},reward:{container:null,detailsContainer:null},messages:{container:null,detailsContainer:null},leaderboard:{defaultEmptyList:20,topResultSize:3,header:null,container:null,resultContainer:null,list:null,topResults:null,timerInterval:null},tournamentsSection:{accordionLayout:[{label:"Upcoming Tournaments",type:"readyCompetitions",show:!1,showTopResults:1},{label:"Active Tournaments",type:"activeCompetitions",show:!0,showTopResults:1},{label:"Finished Tournaments",type:"finishedCompetitions",show:!1,showTopResults:1}]},rewardsSection:{accordionLayout:[{label:"Available Rewards",type:"availableRewards",show:!0,showTopResults:1},{label:"Claimed Rewards",type:"rewards",show:!1,showTopResults:1},{label:"Expired Rewards",type:"expiredRewards",show:!1,showTopResults:1}]},active:!1,navigationSwitchLastAtempt:(new Date).getTime(),navigationSwitchInProgress:!1},void 0!==t)for(var e in t)t.hasOwnProperty(e)&&(this.settings[e]=t[e]);this.accordionStyle=function(t,e){var n=this,i=document.createElement("div");return i.setAttribute("class","cl-main-accordion-container"),Object(Xt.a)(t,(function(t){var s=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),o=document.createElement("div"),l=document.createElement("div");s.setAttribute("class","cl-accordion "+t.type+("boolean"==typeof t.show&&t.show?" cl-shown":"")),a.setAttribute("class","cl-accordion-label"),r.setAttribute("class","cl-accordion-entry"),o.setAttribute("class","cl-accordion-list-container"),l.setAttribute("class","cl-accordion-list"),void 0!==n.settings.lbWidget.settings.translation.rewards[t.type]?a.innerHTML=n.settings.lbWidget.settings.translation.rewards[t.type]:void 0!==n.settings.lbWidget.settings.translation.tournaments[t.type]?a.innerHTML=n.settings.lbWidget.settings.translation.tournaments[t.type]:a.innerHTML=t.label,"function"==typeof e&&e(s,l,r,t),o.appendChild(l),s.appendChild(a),s.appendChild(r),s.appendChild(o),i.appendChild(s)})),i},this.accordionNavigation=function(t){var e=t.parentNode;ie(e,"cl-shown")?ae(e,"cl-shown"):($t(ee(oe(e,".cl-main-accordion-container"),".cl-shown"),(function(t){ae(t,"cl-shown")})),se(e,"cl-shown"))},this.navigationSorter=function(t,e){return t.order<e.order?-1:t.order>e.order?1:0},this.navigationItems=function(t,e){var n=this;e.sort(n.navigationSorter),Object(Xt.a)(e,(function(e,i){var s=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div");s.setAttribute("class",n.settings.lbWidget.settings.navigation[e.key].navigationClass+" cl-main-widget-navigation-item"+(n.settings.lbWidget.settings.navigation[e.key].enable?"":" cl-hidden-navigation-item")),a.setAttribute("class",n.settings.lbWidget.settings.navigation[e.key].navigationClassIcon+" cl-main-navigation-item"),r.setAttribute("class","cl-main-navigation-item-count"),a.appendChild(r),s.appendChild(a),t.appendChild(s)}))},this.overlayLayout=function(){var t=document.createElement("div");return t.setAttribute("class","cl-widget-main-widget-overlay-wrapper"),t},this.layout=function(){var t=document.createElement("div"),e=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),o=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div"),d=this.leaderboardAreaLayout(),u=this.achievementsAreaLayout(),h=this.rewardsAreaLayout(),g=this.inboxAreaLayout(),f=[];return Object(Xt.a)(this.settings.lbWidget.settings.navigation,(function(t,e){f.push({key:e,order:parseInt(t.order)})})),this.navigationItems(i,f),t.setAttribute("class","cl-main-widget-wrapper"),e.setAttribute("class","cl-main-widget-inner-wrapper"),n.setAttribute("class","cl-main-widget-navigation-container"),i.setAttribute("class","cl-main-widget-navigation-items"),s.setAttribute("class","cl-main-widget-section-container"+(this.settings.lbWidget.settings.showCopyright?"":" cl-hidden-copyright")),a.setAttribute("class","cl-main-widget-pre-loader"),r.setAttribute("class","cl-main-widget-pre-loader-content"),o.setAttribute("class","cl-pre-loader-bar"),l.setAttribute("class","cl-pre-loader-bar"),c.setAttribute("class","cl-pre-loader-bar"),r.appendChild(o),r.appendChild(l),r.appendChild(c),a.appendChild(r),n.appendChild(i),s.appendChild(d),s.appendChild(u),s.appendChild(h),s.appendChild(g),s.appendChild(a),e.appendChild(n),e.appendChild(s),t.appendChild(e),t},this.mainNavigationCheck=function(){var t=ee(this.settings.container,".cl-main-widget-navigation-item"),e=0;$t(t,(function(t){ie(t,"cl-hidden-navigation-item")||e++})),1===e?se(ee(this.settings.container,".cl-main-widget-inner-wrapper"),"cl-hidden-navigation"):0===e&&this.settings.lbWidget.log("All navigation items disabled, check [this.settings.lbWidget.settings.navigation]")},this.leaderboardAreaLayout=function(){var t=document.createElement("div"),e=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),o=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div"),u=document.createElement("div"),h=document.createElement("div"),g=document.createElement("span"),f=document.createElement("span"),m=document.createElement("div"),p=document.createElement("div"),v=document.createElement("span"),b=document.createElement("div"),w=document.createElement("div"),y=document.createElement("div"),C=document.createElement("div"),_=document.createElement("div"),S=document.createElement("div"),E=document.createElement("div"),A=document.createElement("div"),T=document.createElement("div"),k=document.createElement("a"),L=document.createElement("div"),M=document.createElement("div"),x=document.createElement("div"),D=document.createElement("div"),I=document.createElement("div"),O=document.createElement("div"),R=document.createElement("a"),W=document.createElement("div"),P=document.createElement("div"),H=document.createElement("div"),Y=document.createElement("div"),N=document.createElement("a"),j=document.createElement("div"),F=document.createElement("div"),B=document.createElement("div"),U=document.createElement("a");return t.setAttribute("class",this.settings.lbWidget.settings.navigation.tournaments.containerClass+" cl-main-section-item cl-main-active-section"+(this.settings.lbWidget.settings.leaderboard.layoutSettings.imageBanner?" cl-main-section-image-banner-active":"")),e.setAttribute("class","cl-main-widget-lb-header"),n.setAttribute("class","cl-main-widget-lb-header-list"),i.setAttribute("class","cl-main-widget-lb-header-list-icon"),s.setAttribute("class","cl-main-widget-lb-header-label"),a.setAttribute("class","cl-main-widget-lb-header-date"),r.setAttribute("class","cl-main-widget-lb-header-close"),o.setAttribute("class","cl-main-widget-lb-details"),l.setAttribute("class","cl-main-widget-lb-details-info"),c.setAttribute("class","cl-main-widget-lb-details-info-icon"),d.setAttribute("class","cl-main-widget-lb-details-image-container"),u.setAttribute("class","cl-main-widget-lb-details-content"),h.setAttribute("class","cl-main-widget-lb-details-content-label"),g.setAttribute("class","cl-main-widget-lb-details-content-label-text"),f.setAttribute("class","cl-main-widget-lb-details-content-date"),m.setAttribute("class","cl-main-widget-lb-details-description-container"),p.setAttribute("class","cl-main-widget-lb-details-description"),v.setAttribute("class","cl-main-widget-lb-details-description-close"),b.setAttribute("class","cl-main-widget-lb-leaderboard"),w.setAttribute("class","cl-main-widget-lb-leaderboard-header"),y.setAttribute("class","cl-main-widget-lb-leaderboard-header-labels"),C.setAttribute("class","cl-main-widget-lb-leaderboard-res-container"),_.setAttribute("class","cl-main-widget-lb-leaderboard-header-top-res"),S.setAttribute("class","cl-main-widget-lb-leaderboard-body"),E.setAttribute("class","cl-main-widget-lb-leaderboard-body-res"),A.setAttribute("class","cl-main-widget-lb-missing-member"),L.setAttribute("class","cl-main-widget-lb-footer"),M.setAttribute("class","cl-main-widget-lb-footer-content"),x.setAttribute("class","cl-main-widget-lb-details-container"),D.setAttribute("class","cl-main-widget-lb-details-header"),I.setAttribute("class","cl-main-widget-lb-details-header-label"),O.setAttribute("class","cl-main-widget-lb-details-header-date"),R.setAttribute("class","cl-main-widget-lb-details-back-btn"),W.setAttribute("class","cl-main-widget-lb-details-body-container"),P.setAttribute("class","cl-main-widget-lb-details-body-image-cont"),H.setAttribute("class","cl-main-widget-lb-details-body"),Y.setAttribute("class","cl-main-widget-lb-details-optin-container"),N.setAttribute("class","cl-main-widget-lb-details-optin-action"),j.setAttribute("class","cl-main-widget-tournaments-list"),U.setAttribute("class","cl-main-widget-tournaments-back-btn"),F.setAttribute("class","cl-main-widget-tournaments-list-body"),B.setAttribute("class","cl-main-widget-tournaments-list-body-res"),T.setAttribute("class","cl-main-widget-lb-optin-container"),k.setAttribute("class","cl-main-widget-lb-optin-action"),s.innerHTML=this.settings.lbWidget.settings.translation.tournaments.label,M.innerHTML=this.settings.lbWidget.settings.translation.global.copy,N.innerHTML=this.settings.lbWidget.settings.translation.tournaments.enter,N.href="javascript:void(0);",k.innerHTML=this.settings.lbWidget.settings.translation.tournaments.enter,k.href="javascript:void(0);",n.appendChild(i),e.appendChild(n),e.appendChild(s),e.appendChild(a),e.appendChild(r),l.appendChild(c),h.appendChild(g),h.appendChild(f),u.appendChild(h),o.appendChild(l),this.settings.lbWidget.settings.leaderboard.layoutSettings.imageBanner&&o.appendChild(d),o.appendChild(u),this.settings.lbWidget.settings.leaderboard.layoutSettings.titleLinkToDetailsPage||(m.appendChild(p),m.appendChild(v),o.appendChild(m)),w.appendChild(y),b.appendChild(w),C.appendChild(_),S.appendChild(E),C.appendChild(S),b.appendChild(C),L.appendChild(M),F.appendChild(B),j.appendChild(F),j.appendChild(U),D.appendChild(I),D.appendChild(O),x.appendChild(D),x.appendChild(R),W.appendChild(P),W.appendChild(H),x.appendChild(W),Y.appendChild(N),x.appendChild(Y),T.appendChild(k),t.appendChild(e),t.appendChild(o),t.appendChild(b),t.appendChild(A),t.appendChild(T),t.appendChild(L),t.appendChild(x),t.appendChild(j),t},this.achievementsAreaLayout=function(){var t=document.createElement("div"),e=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),o=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div"),u=document.createElement("div"),h=document.createElement("div"),g=document.createElement("div"),f=document.createElement("div"),m=document.createElement("div"),p=document.createElement("div"),v=document.createElement("div"),b=document.createElement("div"),w=document.createElement("div"),y=document.createElement("a"),C=document.createElement("div"),_=document.createElement("div"),S=document.createElement("div");return t.setAttribute("class",this.settings.lbWidget.settings.navigation.achievements.containerClass+" cl-main-section-item"),e.setAttribute("class","cl-main-widget-ach-header"),n.setAttribute("class","cl-main-widget-ach-header-label"),i.setAttribute("class","cl-main-widget-ach-header-date"),s.setAttribute("class","cl-main-widget-ach-header-close"),a.setAttribute("class","cl-main-widget-ach-details"),r.setAttribute("class","cl-main-widget-ach-details-info"),o.setAttribute("class","cl-main-widget-ach-details-info-icon"),l.setAttribute("class","cl-main-widget-ach-details-content"),c.setAttribute("class","cl-main-widget-ach-details-content-label"),d.setAttribute("class","cl-main-widget-ach-details-content-date"),u.setAttribute("class","cl-main-widget-ach-list"),h.setAttribute("class","cl-main-widget-ach-list-body"),g.setAttribute("class","cl-main-widget-ach-list-body-res"),f.setAttribute("class","cl-main-widget-ach-footer"),m.setAttribute("class","cl-main-widget-ach-footer-content"),p.setAttribute("class","cl-main-widget-ach-details-container"),v.setAttribute("class","cl-main-widget-ach-details-header"),b.setAttribute("class","cl-main-widget-ach-details-header-label"),w.setAttribute("class","cl-main-widget-ach-details-header-date"),y.setAttribute("class","cl-main-widget-ach-details-back-btn"),C.setAttribute("class","cl-main-widget-ach-details-body-container"),_.setAttribute("class","cl-main-widget-ach-details-body-image-cont"),S.setAttribute("class","cl-main-widget-ach-details-body"),n.innerHTML=this.settings.lbWidget.settings.translation.achievements.label,m.innerHTML=this.settings.lbWidget.settings.translation.global.copy,v.appendChild(b),v.appendChild(w),p.appendChild(v),p.appendChild(y),C.appendChild(_),C.appendChild(S),p.appendChild(C),e.appendChild(n),e.appendChild(i),e.appendChild(s),r.appendChild(o),l.appendChild(c),l.appendChild(d),a.appendChild(r),a.appendChild(l),h.appendChild(g),u.appendChild(h),f.appendChild(m),t.appendChild(e),t.appendChild(a),t.appendChild(u),t.appendChild(f),t.appendChild(p),t},this.rewardsAreaLayout=function(){var t=document.createElement("div"),e=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),o=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div"),u=document.createElement("div"),h=document.createElement("div"),g=document.createElement("div"),f=document.createElement("div"),m=document.createElement("div"),p=document.createElement("div"),v=document.createElement("div"),b=document.createElement("div"),w=document.createElement("div"),y=document.createElement("a"),C=document.createElement("div"),_=document.createElement("div"),S=document.createElement("div"),E=document.createElement("div"),A=document.createElement("div"),T=document.createElement("div"),k=document.createElement("div"),L=document.createElement("a");return t.setAttribute("class",this.settings.lbWidget.settings.navigation.rewards.containerClass+" cl-main-section-item"),e.setAttribute("class","cl-main-widget-reward-header"),n.setAttribute("class","cl-main-widget-reward-header-label"),i.setAttribute("class","cl-main-widget-reward-header-date"),s.setAttribute("class","cl-main-widget-reward-header-close"),a.setAttribute("class","cl-main-widget-reward-details"),r.setAttribute("class","cl-main-widget-reward-details-info"),o.setAttribute("class","cl-main-widget-reward-details-info-icon"),l.setAttribute("class","cl-main-widget-reward-details-content"),c.setAttribute("class","cl-main-widget-reward-details-content-label"),d.setAttribute("class","cl-main-widget-reward-details-content-date"),u.setAttribute("class","cl-main-widget-reward-list"),h.setAttribute("class","cl-main-widget-reward-list-body"),g.setAttribute("class","cl-main-widget-reward-list-body-res"),f.setAttribute("class","cl-main-widget-reward-footer"),m.setAttribute("class","cl-main-widget-reward-footer-content"),p.setAttribute("class","cl-main-widget-reward-details-container"),v.setAttribute("class","cl-main-widget-reward-details-header"),b.setAttribute("class","cl-main-widget-reward-details-header-label"),w.setAttribute("class","cl-main-widget-reward-details-header-date"),y.setAttribute("class","cl-main-widget-reward-details-back-btn"),C.setAttribute("class","cl-main-widget-reward-details-body-container"),_.setAttribute("class","cl-main-widget-reward-details-body-image-cont"),S.setAttribute("class","cl-main-widget-reward-details-body"),E.setAttribute("class","cl-main-widget-reward-winnings-container"),A.setAttribute("class","cl-main-widget-reward-winnings-icon"),T.setAttribute("class","cl-main-widget-reward-winnings-value"),k.setAttribute("class","cl-main-widget-reward-claim-container"),L.setAttribute("class","cl-main-widget-reward-claim-btn"),n.innerHTML=this.settings.lbWidget.settings.translation.rewards.label,m.innerHTML=this.settings.lbWidget.settings.translation.global.copy,L.innerHTML=this.settings.lbWidget.settings.translation.rewards.claim,E.appendChild(A),E.appendChild(T),k.appendChild(L),v.appendChild(b),v.appendChild(w),p.appendChild(v),p.appendChild(y),C.appendChild(_),C.appendChild(S),C.appendChild(E),p.appendChild(C),p.appendChild(k),e.appendChild(n),e.appendChild(i),e.appendChild(s),r.appendChild(o),l.appendChild(c),l.appendChild(d),a.appendChild(r),a.appendChild(l),h.appendChild(g),u.appendChild(h),f.appendChild(m),t.appendChild(e),t.appendChild(a),t.appendChild(u),t.appendChild(f),t.appendChild(p),t},this.inboxAreaLayout=function(){var t=document.createElement("div"),e=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),o=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div"),u=document.createElement("div"),h=document.createElement("div"),g=document.createElement("div"),f=document.createElement("div"),m=document.createElement("div"),p=document.createElement("div"),v=document.createElement("div"),b=document.createElement("div"),w=document.createElement("div"),y=document.createElement("a"),C=document.createElement("div"),_=document.createElement("div");return t.setAttribute("class",this.settings.lbWidget.settings.navigation.inbox.containerClass+" cl-main-section-item"),e.setAttribute("class","cl-main-widget-inbox-header"),n.setAttribute("class","cl-main-widget-inbox-header-label"),i.setAttribute("class","cl-main-widget-inbox-header-date"),s.setAttribute("class","cl-main-widget-inbox-header-close"),a.setAttribute("class","cl-main-widget-inbox-details"),r.setAttribute("class","cl-main-widget-inbox-details-info"),o.setAttribute("class","cl-main-widget-inbox-details-info-icon"),l.setAttribute("class","cl-main-widget-inbox-details-content"),c.setAttribute("class","cl-main-widget-inbox-details-content-label"),d.setAttribute("class","cl-main-widget-inbox-details-content-date"),u.setAttribute("class","cl-main-widget-inbox-list"),h.setAttribute("class","cl-main-widget-inbox-list-body"),g.setAttribute("class","cl-main-widget-inbox-list-body-res"),f.setAttribute("class","cl-main-widget-inbox-footer"),m.setAttribute("class","cl-main-widget-inbox-footer-content"),p.setAttribute("class","cl-main-widget-inbox-details-container"),v.setAttribute("class","cl-main-widget-inbox-details-header"),b.setAttribute("class","cl-main-widget-inbox-details-header-label"),w.setAttribute("class","cl-main-widget-inbox-details-header-date"),y.setAttribute("class","cl-main-widget-inbox-details-back-btn"),C.setAttribute("class","cl-main-widget-inbox-details-body-container"),_.setAttribute("class","cl-main-widget-inbox-details-body"),n.innerHTML=this.settings.lbWidget.settings.translation.messages.label,m.innerHTML=this.settings.lbWidget.settings.translation.global.copy,e.appendChild(n),e.appendChild(i),e.appendChild(s),r.appendChild(o),l.appendChild(c),l.appendChild(d),a.appendChild(r),a.appendChild(l),h.appendChild(g),u.appendChild(h),v.appendChild(b),v.appendChild(w),p.appendChild(v),p.appendChild(y),C.appendChild(_),p.appendChild(C),f.appendChild(m),t.appendChild(e),t.appendChild(a),t.appendChild(u),t.appendChild(f),t.appendChild(p),t},this.leaderboardHeader=function(){var t=document.createElement("div"),e=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div");t.setAttribute("class","cl-rank-col cl-col"),e.setAttribute("class","cl-icon-col cl-col"),n.setAttribute("class","cl-name-col cl-col"),i.setAttribute("class","cl-growth-col cl-col"),s.setAttribute("class","cl-points-col cl-col"),t.innerHTML=this.settings.lbWidget.settings.translation.leaderboard.rank,e.innerHTML="",n.innerHTML=this.settings.lbWidget.settings.translation.leaderboard.name,i.innerHTML="",s.innerHTML=this.settings.lbWidget.settings.translation.leaderboard.points,this.settings.leaderboard.header.appendChild(t),this.settings.leaderboard.header.appendChild(e),this.settings.leaderboard.header.appendChild(n),this.settings.leaderboard.header.appendChild(i),this.settings.leaderboard.header.appendChild(s);var a=document.createElement("div"),r=void 0!==this.settings.lbWidget.settings.competition.activeContest&&null!==this.settings.lbWidget.settings.competition.activeContest&&void 0!==this.settings.lbWidget.settings.competition.activeContest.rewards&&this.settings.lbWidget.settings.competition.activeContest.rewards.length>0;a.setAttribute("class","cl-reward-col cl-col"+(r?" cl-col-reward-enabled":"")),a.innerHTML=this.settings.lbWidget.settings.translation.leaderboard.prize,se(this.settings.leaderboard.header,"cl-reward-enabled"),this.settings.leaderboard.header.appendChild(a)},this.leaderboardRow=function(t,e,n,i,s,a,r,o,l){var c=document.createElement("div"),d=document.createElement("div"),u=document.createElement("div"),h=document.createElement("div"),g=new Image,f=document.createElement("div"),m=document.createElement("div"),p=document.createElement("div"),v=l?" cl-lb-member-row":"";c.setAttribute("class","cl-lb-row cl-lb-rank-"+t+" cl-lb-count-"+o+v),d.setAttribute("class","cl-rank-col cl-col cl-rank-"+t),u.setAttribute("class","cl-rank-col-value"),h.setAttribute("class","cl-icon-col cl-col"),g.setAttribute("class","cl-icon-col-img"),f.setAttribute("class","cl-name-col cl-col"),m.setAttribute("class","cl-growth-col cl-col"),p.setAttribute("class","cl-points-col cl-col"),c.dataset.rank=t,u.innerHTML=t,f.innerHTML=n,m.dataset.growth=i<0?"down":i>0?"up":"same",m.dataset.change=i,m.innerHTML=s,p.innerHTML=a,e.length>0?(g.src=e,g.alt=n):g.style.display="none",d.appendChild(u),c.appendChild(d),h.appendChild(g),c.appendChild(h),c.appendChild(f),c.appendChild(m),c.appendChild(p);var b=document.createElement("div"),w=void 0!==this.settings.lbWidget.settings.competition.activeContest&&null!==this.settings.lbWidget.settings.competition.activeContest&&void 0!==this.settings.lbWidget.settings.competition.activeContest.rewards&&this.settings.lbWidget.settings.competition.activeContest.rewards.length>0;return b.setAttribute("class","cl-reward-col cl-col"+(w?" cl-col-reward-enabled":"")),b.innerHTML=null!=r?r:"",se(c,"cl-reward-enabled"),c.appendChild(b),c},this.leaderboardRowUpdate=function(t,e,n,i,s,a,r,o,l,c){var d=ee(this.settings.leaderboard.container,".cl-lb-rank-"+t+".cl-lb-count-"+o);if(null===d)c(t,e,n,i,s,a,r,o,l);else{var u=ee(d,".cl-rank-col-value"),h=ee(d,".cl-icon-col-img"),g=ee(d,".cl-name-col"),f=ee(d,".cl-growth-col"),m=ee(d,".cl-points-col"),p=ie(d,"cl-lb-member-row");if(o>0&&!ie(d,"cl-shared-rank")&&se(d,"cl-shared-rank"),l&&!p?se(d,"cl-lb-member-row"):!l&&p&&ae(d,"cl-lb-member-row"),d.dataset.rank=t,u.innerHTML=t,g.innerHTML=n,f.dataset.growth=i<0?"down":i>0?"up":"same",f.dataset.change=i,f.innerHTML=s,m.innerHTML=a,e.length>0?(h.src=e,h.alt=n,h.style.display="block"):h.style.display="none",void 0!==this.settings.lbWidget.settings.competition.activeContest&&null!==this.settings.lbWidget.settings.competition.activeContest&&void 0!==this.settings.lbWidget.settings.competition.activeContest.rewards&&this.settings.lbWidget.settings.competition.activeContest.rewards.length>0){var v=ee(d,".cl-reward-col");null!==v&&(v.innerHTML=null!=r?r:"")}}},this.populateLeaderboardResultsWithDefaultEntries=function(){for(var t=[],e=[],n=0;n<this.settings.leaderboard.topResultSize;n++){var i=n+1;t.push({name:"--",rank:i,points:"--",memberId:"",memberRefId:""})}for(var s=this.settings.leaderboard.topResultSize;s<this.settings.leaderboard.defaultEmptyList;s++){var a=s+1;e.push({name:"--",rank:a,points:"--",memberId:"",memberRefId:""})}this.updateLeaderboardTopResults(t),this.updateLeaderboardResults(e)},this.updateLeaderboardTopResults=function(t){var e=this,n=[],i=[];Object(Xt.a)(t,(function(t){i.push(t.rank),$t(ee(e.settings.leaderboard.topResults,".cl-lb-rank-"+t.rank+".cl-shared-rank"),(function(t){me(t)}))})),$t(ee(e.settings.leaderboard.topResults,".cl-lb-row"),(function(t){var n=parseInt(t.dataset.rank);-1===i.indexOf(n)&&n>e.settings.leaderboard.defaultEmptyList&&me(t)})),Object(Xt.a)(t,(function(t){var i=0,s=e.settings.lbWidget.populateIdenticonBase64Image(t.memberId),a=e.settings.lbWidget.settings.memberId===t.memberId||e.settings.lbWidget.settings.memberId===t.memberRefId,r=a?e.settings.lbWidget.settings.translation.leaderboard.you:t.name,o=e.getReward(t.rank),l=void 0===t.change?0:t.change,c="<span class='cl-growth-icon cl-growth-"+(l<0?"down":l>0?"up":"same")+"'></span>",d=e.settings.lbWidget.settings.leaderboard.pointsFormatter(t.points);if(-1!==n.indexOf(t.rank))for(var u=0;u<n.length;u++)t.rank===n[u]&&i++;e.leaderboardRowUpdate(t.rank,s,r,l,c,d,o,i,a,(function(t,n,i,s,a,r,o,l,c){var d=e.leaderboardRow(t,n,i,s,a,r,o,l,c),u=ee(e.settings.leaderboard.container,".cl-lb-rank-"+t+".cl-lb-count-"+(l-1));null!==u&&void 0===u.length?ve(u,d):e.settings.leaderboard.topResults.appendChild(d)})),n.push(t.rank)}))},this.getReward=function(t){var e=this,n=[];return void 0!==e.settings.lbWidget.settings.competition.activeContest&&null!==e.settings.lbWidget.settings.competition.activeContest&&Object(Xt.a)(e.settings.lbWidget.settings.competition.activeContest.rewards,(function(i){i.rewardRank instanceof Array&&-1!==i.rewardRank.indexOf(t)&&n.push(e.settings.lbWidget.settings.partialFunctions.rewardFormatter(i))})),n.join(", ")},this.updateLeaderboardResults=function(t){var e=this,n=[],i=[];Object(Xt.a)(t,(function(t){i.push(t.rank),$t(ee(e.settings.leaderboard.list,".cl-lb-rank-"+t.rank+".cl-shared-rank"),(function(t){me(t)}))})),$t(ee(e.settings.leaderboard.container,".cl-lb-row"),(function(t){var n=parseInt(t.dataset.rank);-1===i.indexOf(n)&&n>e.settings.leaderboard.defaultEmptyList&&me(t)})),Object(Xt.a)(t,(function(t){var i=0,s=e.settings.lbWidget.populateIdenticonBase64Image(t.memberId),a=e.settings.lbWidget.settings.memberId===t.memberId||e.settings.lbWidget.settings.memberId===t.memberRefId,r=a?e.settings.lbWidget.settings.translation.leaderboard.you:t.name,o=e.getReward(t.rank),l=void 0===t.change?0:t.change,c="<span class='cl-growth-icon cl-growth-"+(l<0?"down":l>0?"up":"same")+"'></span>",d=e.settings.lbWidget.settings.leaderboard.pointsFormatter(t.points);if(-1!==n.indexOf(t.rank))for(var u=0;u<n.length;u++)t.rank===n[u]&&i++;e.leaderboardRowUpdate(t.rank,s,r,l,c,d,o,i,a,(function(t,n,i,s,a,r,o,l,c){var d=e.leaderboardRow(t,n,i,i,a,r,o,l,c),u=ee(e.settings.leaderboard.container,".cl-lb-rank-"+t+".cl-lb-count-"+(l-1));null!==u&&void 0===u.length?ve(u,d):e.settings.leaderboard.list.appendChild(d)})),n.push(t.rank)}))},this.updateLeaderboard=function(){var t=this,e=[],n=[];t.populateLeaderboardResultsWithDefaultEntries(),Object(Xt.a)(t.settings.lbWidget.settings.leaderboard.leaderboardData,(function(i){i.rank<=t.settings.leaderboard.topResultSize?e.push(i):n.push(i)})),t.updateLeaderboardTopResults(e),t.updateLeaderboardResults(n);var i=ee(t.settings.leaderboard.list,".cl-lb-member-row");null!==i?(t.missingMember(t.isElementVisibleInView(i,t.settings.leaderboard.list.parentNode)),t.missingMember(t.isElementVisibleInView(i,t.settings.leaderboard.resultContainer))):t.missingMemberReset()},this.updateLeaderboardTime=function(){var t=this,e=s()(t.settings.lbWidget.settings.competition.activeContest.scheduledStart).diff(s()()),n=t.settings.lbWidget.settings.translation.miniLeaderboard.startsIn+": "+t.settings.lbWidget.formatDateTime(s.a.duration(e));t.settings.leaderboard.timerInterval&&clearTimeout(t.settings.leaderboard.timerInterval),e<=0&&0===t.settings.lbWidget.settings.competition.activeContest.statusCode?n=t.settings.lbWidget.settings.translation.miniLeaderboard.starting:1===t.settings.lbWidget.settings.competition.activeContest.statusCode?n=t.settings.lbWidget.settings.translation.tournaments.starting:2===t.settings.lbWidget.settings.competition.activeContest.statusCode?(e=s()(t.settings.lbWidget.settings.competition.activeContest.scheduledEnd).diff(s()()),n=t.settings.lbWidget.formatDateTime(s.a.duration(e)),e<=0&&(n=t.settings.lbWidget.settings.translation.tournaments.finishing)):3===t.settings.lbWidget.settings.competition.activeContest.statusCode?n=t.settings.lbWidget.settings.translation.tournaments.finishing:t.settings.lbWidget.settings.competition.activeContest.statusCode>=4&&(n=t.settings.lbWidget.settings.translation.tournaments.finished),t.settings.headerDate.innerHTML=n,t.settings.labelDate.innerHTML=n,t.settings.detailsContainerDate.innerHTML=n,t.settings.leaderboard.timerInterval=setTimeout((function(){t.updateLeaderboardTime()}),1e3)},this.getActiveCompetitionDescription=function(){return null!==this.settings.lbWidget.settings.competition.activeContest&&this.settings.lbWidget.settings.competition.activeContest.description.length>0?this.settings.lbWidget.settings.competition.activeContest.description:null!==this.settings.lbWidget.settings.competition.activeCompetition&&this.settings.lbWidget.settings.competition.activeCompetition.description&&this.settings.lbWidget.settings.competition.activeCompetition.description.length>0?this.settings.lbWidget.settings.competition.activeCompetition.description:""},this.extractImage=function(t,e,n){var i=oe(t,".cl-main-section-image-banner-active"),s=!1,a="boolean"==typeof n&&n;this.settings.lbWidget.settings.competition.extractImageHeader&&$t(ee(t,"img"),(function(t,n,i){if(0===i){s=!0;var a=t.cloneNode(!0);se(a,"cl-main-widget-lb-details-image"),e.appendChild(a),me(t)}})),s||null===i?s&&null===i&&this.settings.lbWidget.settings.leaderboard.layoutSettings.imageBanner&&!a&&se(oe(t,".cl-main-section-item"),"cl-main-section-image-banner-active"):ae(i,"cl-main-section-image-banner-active")},this.leaderboardDetailsUpdate=function(){var t=ee(this.settings.section,".cl-main-widget-lb-details-content-label-text"),e=null;if(this.settings.lbWidget.settings.leaderboard.layoutSettings.titleLinkToDetailsPage||((e=ee(this.settings.section,".cl-main-widget-lb-details-description")).innerHTML=this.getActiveCompetitionDescription()),this.settings.lbWidget.settings.leaderboard.layoutSettings.imageBanner){var n=ee(this.settings.section,".cl-main-widget-lb-details-image-container");n.innerHTML="",null===e?((e=document.createElement("div")).innerHTML=this.getActiveCompetitionDescription(),this.extractImage(e,n,!0)):this.extractImage(e,n,!1)}t.innerHTML=null!==this.settings.lbWidget.settings.competition.activeContest?this.settings.lbWidget.settings.competition.activeContest.label:this.settings.lbWidget.settings.translation.tournaments.noAvailableCompetitions},this.showEmbeddedCompetitionDetailsContent=function(t){ie(this.settings.section,"cl-main-active-embedded-description")?ae(this.settings.section,"cl-main-active-embedded-description"):se(this.settings.section,"cl-main-active-embedded-description"),"function"==typeof t&&t()},this.hideEmbeddedCompetitionDetailsContent=function(t){ae(this.settings.section,"cl-main-active-embedded-description"),"function"==typeof t&&t()},this.leaderboardOptInCheck=function(){var t=ee(this.settings.section,".cl-main-widget-lb-optin-action");void 0!==this.settings.lbWidget.settings.competition.activeCompetition&&null!==this.settings.lbWidget.settings.competition.activeCompetition&&"boolean"==typeof this.settings.lbWidget.settings.competition.activeCompetition.optinRequired&&this.settings.lbWidget.settings.competition.activeCompetition.optinRequired?"boolean"!=typeof this.settings.lbWidget.settings.competition.activeCompetition.optin||this.settings.lbWidget.settings.competition.activeCompetition.optin?t.parentNode.style.display="none":(t.innerHTML=this.settings.lbWidget.settings.translation.tournaments.enter,t.parentNode.style.display="block"):t.parentNode.style.display="none"},this.preLoaderRerun=function(){this.settings.preLoader.preLoaderActive&&null!==this.settings.preLoader.preloaderCallbackRecovery&&null!==this.settings.preLoader.preLoaderlastAttempt&&"number"==typeof this.settings.preLoader.preLoaderlastAttempt&&this.settings.preLoader.preLoaderlastAttempt+8e3<(new Date).getTime()&&this.settings.preLoader.preloaderCallbackRecovery()},this.preloader=function(){var t=this,e=ee(t.settings.section,".cl-main-widget-pre-loader");return{show:function(n){t.settings.preLoader.preLoaderActive=!0,t.settings.preLoader.preLoaderlastAttempt=(new Date).getTime(),e.style.display="block",setTimeout((function(){e.style.opacity=1}),20),null===t.settings.preLoader.preloaderCallbackRecovery&&"function"==typeof n&&(t.settings.preLoader.preloaderCallbackRecovery=n),n()},hide:function(){t.settings.preLoader.preLoaderActive=!1,t.settings.preLoader.preLoaderlastAttempt=null,e.style.opacity=0,null!==t.settings.preLoader.preloaderCallbackRecovery&&(t.settings.preLoader.preloaderCallbackRecovery=null),setTimeout((function(){e.style.display="none"}),200)}}},this.destroyLayout=function(){null!==this.settings.container&&(me(this.settings.container),me(this.settings.overlayContainer)),this.settings.container=null,this.settings.overlayContainer=null},this.loadLeaderboard=function(t){null===this.settings.container&&(this.settings.container=this.settings.lbWidget.settings.bindContainer.appendChild(this.layout()),this.settings.overlayContainer=this.settings.lbWidget.settings.bindContainer.appendChild(this.overlayLayout()),this.settings.navigation=ee(this.settings.container,".cl-main-widget-navigation-container"),this.settings.section=ee(this.settings.container,".cl-main-widget-section-container"),this.settings.leaderboard.container=ee(this.settings.section,".cl-main-widget-lb-leaderboard"),this.settings.leaderboard.header=ee(this.settings.leaderboard.container,".cl-main-widget-lb-leaderboard-header-labels"),this.settings.leaderboard.resultContainer=ee(this.settings.leaderboard.container,".cl-main-widget-lb-leaderboard-res-container"),this.settings.leaderboard.list=ee(this.settings.leaderboard.container,".cl-main-widget-lb-leaderboard-body-res"),this.settings.leaderboard.topResults=ee(this.settings.leaderboard.container,".cl-main-widget-lb-leaderboard-header-top-res"),this.settings.detailsContainer=ee(this.settings.container,".cl-main-widget-lb-details-container"),this.settings.tournamentListContainer=ee(this.settings.container,".cl-main-widget-tournaments-list"),this.settings.detailsContainerDate=ee(this.settings.container,".cl-main-widget-lb-details-header-date"),this.settings.headerDate=ee(this.settings.container,".cl-main-widget-lb-header-date"),this.settings.labelDate=ee(this.settings.container,".cl-main-widget-lb-details-content-date"),this.settings.achievement.container=ee(this.settings.container,"."+this.settings.lbWidget.settings.navigation.achievements.containerClass),this.settings.achievement.detailsContainer=ee(this.settings.container,".cl-main-widget-ach-details-container"),this.settings.reward.container=ee(this.settings.container,"."+this.settings.lbWidget.settings.navigation.rewards.containerClass),this.settings.reward.detailsContainer=ee(this.settings.container,".cl-main-widget-reward-details-container"),this.settings.messages.container=ee(this.settings.container,"."+this.settings.lbWidget.settings.navigation.inbox.containerClass),this.settings.messages.detailsContainer=ee(this.settings.container,".cl-main-widget-inbox-details-container"),this.mainNavigationCheck(),this.leaderboardHeader()),this.eventListeners(),this.leaderboardOptInCheck(),this.leaderboardDetailsUpdate(),this.updateLeaderboard(),null!==this.settings.lbWidget.settings.competition.activeContest&&this.updateLeaderboardTime(),"function"==typeof t&&t()},this.clearAll=function(){this.settings.active=!1,this.settings.leaderboard.timerInterval&&clearTimeout(this.settings.leaderboard.timerInterval),this.settings.preLoader.preLoaderActive=!1},this.hide=function(t){var e=this;e.clearAll(),null!==e.settings.container?(ae(e.settings.container,"cl-show"),setTimeout((function(){e.settings.container.style.display="none",e.settings.overlayContainer.style.display="none",e.hideCompetitionDetails(),e.hideAchievementDetails(),"function"==typeof t&&t()}),30)):"function"==typeof t&&t()},this.missingMember=function(t){var e=ee(this.settings.container,".cl-main-widget-lb-missing-member"),n=ee(this.settings.leaderboard.list,".cl-lb-member-row");null!==e&&null!==n&&(e.innerHTML=n.innerHTML),e.style.display=t?"none":null!==e&&null!==n?"block":"none"},this.missingMemberReset=function(){ee(this.settings.container,".cl-main-widget-lb-missing-member").innerHTML=""},this.isElementVisibleInView=function(t,e){var n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),s=n.top,a=n.bottom,r=n.height;return s<=i.top?i.top-s<=r:a-i.bottom<=r};var n,i,a=!1;this.eventListeners=function(){var t=this;null!==t.settings.leaderboard.resultContainer&&null===t.settings.leaderboard.resultContainer.onscroll&&(t.settings.leaderboard.resultContainer.onscroll=function(e){e.preventDefault();var n=ee(t.settings.leaderboard.list,".cl-lb-member-row");null!==n&&t.missingMember(t.isElementVisibleInView(n,e.target))}),null!==t.settings.leaderboard.list&&null===t.settings.leaderboard.list.parentNode.onscroll&&(t.settings.leaderboard.list.parentNode.onscroll=function(e){e.preventDefault();var n=ee(t.settings.leaderboard.list,".cl-lb-member-row");null!==n&&t.missingMember(t.isElementVisibleInView(n,e.target))}),a||(a=!0,window.onresize=function(e){var n=ee(t.settings.leaderboard.list,".cl-lb-member-row");null!==n&&(t.missingMember(t.isElementVisibleInView(n,t.settings.leaderboard.list.parentNode)),t.missingMember(t.isElementVisibleInView(n,t.settings.leaderboard.resultContainer)))})},this.competitionDetailsOptInButtonState=function(){var t=ee(this.settings.detailsContainer,".cl-main-widget-lb-details-optin-action");"boolean"==typeof this.settings.lbWidget.settings.competition.activeCompetition.optinRequired&&this.settings.lbWidget.settings.competition.activeCompetition.optinRequired?("boolean"!=typeof this.settings.lbWidget.settings.competition.activeCompetition.optin||this.settings.lbWidget.settings.competition.activeCompetition.optin?(t.innerHTML=this.settings.lbWidget.settings.translation.tournaments.registered,se(t,"cl-disabled")):(t.innerHTML=this.settings.lbWidget.settings.translation.tournaments.enter,ae(t,"cl-disabled")),t.parentNode.style.display="block"):t.parentNode.style.display="none"},this.loadCompetitionDetails=function(t){var e=this,n=ee(e.settings.detailsContainer,".cl-main-widget-lb-details-header-label"),i=ee(e.settings.detailsContainer,".cl-main-widget-lb-details-body"),s=ee(e.settings.detailsContainer,".cl-main-widget-lb-details-body-image-cont");s.innerHTML="",n.innerHTML=e.settings.lbWidget.settings.competition.activeContest.label.length>0?e.settings.lbWidget.settings.competition.activeContest.label:e.settings.lbWidget.settings.competition.activeCompetition.label,i.innerHTML=e.settings.lbWidget.settings.competition.activeContest.description.length>0?e.settings.lbWidget.settings.competition.activeContest.description:e.settings.lbWidget.settings.competition.activeCompetition.description,e.competitionDetailsOptInButtonState(),e.settings.detailsContainer.style.display="block",e.settings.headerDate.style.display="none",e.extractImage(i,s),setTimeout((function(){se(e.settings.detailsContainer,"cl-show"),"function"==typeof t&&t()}),50)},this.loadCompetitionList=function(t,e){var n=this,i=ee(n.settings.tournamentListContainer,".cl-main-widget-tournaments-list-body-res"),s=ee(n.settings.container,".cl-main-widget-lb-header-list-icon"),a=n.preloader();a.show((function(){s.style.opacity="0",n.settings.lbWidget.checkForAvailableCompetitions((function(){var e=n.accordionStyle(n.settings.tournamentsSection.accordionLayout,(function(t,e,i,s){var a=n.settings.lbWidget.settings.tournaments[s.type];void 0!==a&&(0===a.length&&(t.style.display="none"),Object(Xt.a)(a,(function(t,a,r){if(r+1<=s.showTopResults&&null===ee(i,".cl-tournament-"+t.id)){var o=n.tournamentItem(t);i.appendChild(o)}if(null===ee(e,".cl-tournament-"+t.id)){var l=n.tournamentItem(t);e.appendChild(l)}})))}));i.innerHTML="",i.appendChild(e),n.settings.tournamentListContainer.style.display="block",setTimeout((function(){se(n.settings.tournamentListContainer,"cl-show"),"function"==typeof t&&t(),a.hide()}),50)}),e)}))},this.hideCompetitionList=function(t){var e=this;ee(e.settings.container,".cl-main-widget-lb-header-list-icon").style.opacity="1",e.hideEmbeddedCompetitionDetailsContent(),e.missingMemberReset(),ae(e.settings.tournamentListContainer,"cl-show"),setTimeout((function(){e.settings.tournamentListContainer.style.display="none","function"==typeof t&&t()}),200)},this.hideCompetitionDetails=function(t){var e=this;ae(e.settings.detailsContainer,"cl-show"),setTimeout((function(){e.settings.detailsContainer.style.display="none",e.settings.headerDate.style.display="block","function"==typeof t&&t()}),200)},this.achievementItem=function(t,e,n){var i=document.createElement("div"),s=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),o=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div"),u=document.createElement("div"),h=document.createElement("a"),g=void 0!==t.icon&&t.icon.length>0;if(i.setAttribute("class","cl-ach-list-item cl-ach-"+t.id+(g?" cl-ach-with-image":"")),s.setAttribute("class","cl-ach-list-details-cont"),a.setAttribute("class","cl-ach-list-details-wrap"),r.setAttribute("class","cl-ach-list-details-label"),o.setAttribute("class","cl-ach-list-details-category"),l.setAttribute("class","cl-ach-list-details-description"),c.setAttribute("class","cl-ach-list-progression"),d.setAttribute("class","cl-ach-list-progression-cont"),u.setAttribute("class","cl-ach-list-progression-bar"),h.setAttribute("class","cl-ach-list-more"),h.dataset.id=t.id,h.innerHTML=this.settings.lbWidget.settings.translation.achievements.more,h.href="javascript:void(0);",i.dataset.id=t.id,r.innerHTML=t.name,o.innerHTML=t.category.join(", "),a.appendChild(r),a.appendChild(o),a.appendChild(l),g){var f=new Image,m=document.createElement("div");m.setAttribute("class","cl-ach-list-item-img-wrapper"),f.setAttribute("class","cl-ach-list-item-img"),f.src=this.settings.lbWidget.settings.uri.gatewayDomain+this.settings.lbWidget.settings.uri.assets.replace(":attachmentId",t.icon),f.alt=t.name,m.appendChild(f),s.appendChild(m)}return s.appendChild(a),d.appendChild(u),c.appendChild(d),c.appendChild(h),i.appendChild(s),i.appendChild(c),i},this.achievementListLayout=function(t){var e=this,n=ee(e.settings.section,"."+e.settings.lbWidget.settings.navigation.achievements.containerClass+" .cl-main-widget-ach-list-body-res");Object(Xt.a)(t,(function(t){if(null===ee(n,".cl-ach-"+t.id)){var i=e.achievementItem(t);n.appendChild(i)}}))},this.loadAchievementDetails=function(t,e){var n=this,i=ee(n.settings.achievement.detailsContainer,".cl-main-widget-ach-details-header-label"),s=ee(n.settings.achievement.detailsContainer,".cl-main-widget-ach-details-body"),a=ee(n.settings.achievement.detailsContainer,".cl-main-widget-ach-details-body-image-cont");if(a.innerHTML="",i.innerHTML=t.data.name,s.innerHTML=t.data.description,n.settings.lbWidget.settings.achievements.extractImageHeader){var r=ee(s,"img");$t(r,(function(t,e,n){if(0===n){var i=t.cloneNode(!0);a.appendChild(i),me(t)}}))}n.settings.achievement.detailsContainer.style.display="block",setTimeout((function(){se(n.settings.achievement.detailsContainer,"cl-show"),"function"==typeof e&&e()}),50)},this.hideAchievementDetails=function(t){var e=this;ae(e.settings.achievement.detailsContainer,"cl-show"),setTimeout((function(){e.settings.achievement.detailsContainer.style.display="none","function"==typeof t&&t()}),200)},this.loadRewardDetails=function(t,e){var n=this,i=ee(n.settings.reward.detailsContainer,".cl-main-widget-reward-details-header-label"),s=ee(n.settings.reward.detailsContainer,".cl-main-widget-reward-details-body"),a=ee(n.settings.reward.detailsContainer,".cl-main-widget-reward-details-body-image-cont"),r=ee(n.settings.reward.detailsContainer,".cl-main-widget-reward-claim-btn"),o=ee(n.settings.reward.detailsContainer,".cl-main-widget-reward-winnings-icon"),l=ee(n.settings.reward.detailsContainer,".cl-main-widget-reward-winnings-value");if(i.innerHTML=t.data.reward.rewardName,s.innerHTML=t.data.reward.description,l.innerHTML=n.settings.lbWidget.settings.partialFunctions.rewardFormatter(t.data.reward),r.dataset.id=t.data.id,t.data.claimed?(se(r,"cl-claimed"),r.innerHTML=n.settings.lbWidget.settings.translation.rewards.claimed):(ae(r,"cl-claimed"),r.innerHTML=n.settings.lbWidget.settings.translation.rewards.claim),void 0!==t.data.reward.icon){o.innerHTML="";var c=new Image;document.createElement("div").setAttribute("class","cl-reward-list-item-img-wrapper"),c.setAttribute("class","cl-reward-list-item-img"),c.src=n.settings.lbWidget.settings.uri.gatewayDomain+n.settings.lbWidget.settings.uri.assets.replace(":attachmentId",t.data.reward.icon),c.alt=n.settings.lbWidget.settings.partialFunctions.rewardFormatter(t.data.reward),o.appendChild(c)}else o.innerHTML="<span class='cl-place-holder-reward-image'></span>";$t(ee(s,"img"),(function(t,e,n){if(0===n){var i=t.cloneNode(!0);a.innerHTML="",a.appendChild(i),me(t)}})),n.settings.reward.detailsContainer.style.display="block",setTimeout((function(){se(n.settings.reward.detailsContainer,"cl-show"),"function"==typeof e&&e()}),50)},this.loadMessageDetails=function(t,e){var n=this,i=ee(n.settings.messages.detailsContainer,".cl-main-widget-inbox-details-header-label"),s=ee(n.settings.messages.detailsContainer,".cl-main-widget-inbox-details-body");i.innerHTML=t.data.subject,s.innerHTML=t.data.body,n.settings.messages.detailsContainer.style.display="block",setTimeout((function(){se(n.settings.messages.detailsContainer,"cl-show"),"function"==typeof e&&e()}),50)},this.hideRewardDetails=function(t){var e=this;ae(e.settings.reward.detailsContainer,"cl-show"),setTimeout((function(){e.settings.reward.detailsContainer.style.display="none","function"==typeof t&&t()}),200)},this.hideMessageDetails=function(t){var e=this;ae(e.settings.messages.detailsContainer,"cl-show"),setTimeout((function(){e.settings.messages.detailsContainer.style.display="none","function"==typeof t&&t()}),200)},this.updateAchievementProgressionAndIssued=function(t,e){var n=this,i=ee(n.settings.section,"."+n.settings.lbWidget.settings.navigation.achievements.containerClass+" .cl-main-widget-ach-list-body-res");$t(ee(i,".cl-ach-list-item"),(function(i){var s=i.dataset.id,a=-1!==t.indexOf(s),r=0;if(Object(Xt.a)(e,(function(t){t.achievementId===s&&(r=(100*parseFloat(t.goalPercentageComplete)).toFixed(1))})),null!==i){var o=ee(i,".cl-ach-list-progression-bar");if(a)se(o,"cl-ach-complete"),o.innerHTML=n.settings.lbWidget.settings.translation.achievements.complete,o.style.width="100%";else{var l=(r>1||0===r?r:1)+"%";o.innerHTML=r>25||r>15&&parseInt(n.settings.section.offsetWidth)>450?l:"",o.style.width=l}}}))},this.loadAchievements=function(t){var e=this;e.settings.lbWidget.checkForAvailableAchievements((function(n){e.settings.lbWidget.updateAchievementNavigationCounts(),e.achievementListLayout(n);var i=[];Object(Xt.a)(e.settings.lbWidget.settings.achievements.list,(function(t){i.push(t.id)})),setTimeout((function(){e.settings.lbWidget.checkForMemberAchievementsIssued((function(t){e.settings.lbWidget.checkForMemberAchievementsProgression(i,(function(n){e.updateAchievementProgressionAndIssued(t,n)}))}))}),400),"function"==typeof t&&t()}))},this.rewardItem=function(t){var e=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),a=document.createElement("div");e.setAttribute("class","cl-rew-list-item cl-rew-"+t.id),n.setAttribute("class","cl-rew-list-details-cont"),i.setAttribute("class","cl-rew-list-details-wrap"),s.setAttribute("class","cl-rew-list-details-label"),a.setAttribute("class","cl-rew-list-details-description"),e.dataset.id=t.id;var r=ge(t.subject),o=ge(t.body);return void 0!==t.prize&&(e.dataset.rewardId=t.prize.id,r=ge(t.subject+" - "+t.prize.reward.rewardName+" ("+this.settings.lbWidget.settings.partialFunctions.rewardFormatter(t.prize.reward)+")"),o=ge(void 0!==t.prize.reward.description&&t.prize.reward.description.length>0?t.prize.reward.description:t.body)),s.innerHTML=r.length>80?r.substr(0,80)+"...":r,a.innerHTML=o.length>200?o.substr(0,200)+"...":o,i.appendChild(s),i.appendChild(a),n.appendChild(i),e.appendChild(n),e},this.messageItem=function(t){var e=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),a=document.createElement("div"),r=ge(t.body);return e.setAttribute("class","cl-inbox-list-item cl-inbox-"+t.id),n.setAttribute("class","cl-inbox-list-details-cont"),i.setAttribute("class","cl-inbox-list-details-wrap"),s.setAttribute("class","cl-inbox-list-details-label"),a.setAttribute("class","cl-inbox-list-details-description"),e.dataset.id=t.id,s.innerHTML=t.subject.length>36?t.subject.substr(0,36)+"...":t.subject,a.innerHTML=r.length>60?r.substr(0,60)+"...":r,i.appendChild(s),i.appendChild(a),n.appendChild(i),e.appendChild(n),e},this.tournamentItem=function(t){var e=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),a=document.createElement("div"),r=ge(t.description);return e.setAttribute("class","cl-tour-list-item cl-tour-"+t.id),n.setAttribute("class","cl-tour-list-details-cont"),i.setAttribute("class","cl-tour-list-details-wrap"),s.setAttribute("class","cl-tour-list-details-label"),a.setAttribute("class","cl-tour-list-details-description"),e.dataset.id=t.id,s.innerHTML=t.label,a.innerHTML=r.length>100?r.substr(0,100)+"...":r,i.appendChild(s),i.appendChild(a),n.appendChild(i),e.appendChild(n),e},this.rewardsListLayout=function(t,e,n){var i=this,s=ee(i.settings.section,"."+i.settings.lbWidget.settings.navigation.rewards.containerClass+" .cl-main-widget-reward-list-body-res"),a=i.accordionStyle(i.settings.rewardsSection.accordionLayout,(function(t,e,n,s){var a=i.settings.lbWidget.settings.rewards[s.type];void 0!==a&&(0===a.length&&(t.style.display="none"),Object(Xt.a)(a,(function(t,a,r){if(r+1<=s.showTopResults&&null===ee(n,".cl-reward-"+t.id)){var o=i.rewardItem(t);n.appendChild(o)}if(null===ee(e,".cl-reward-"+t.id)){var l=i.rewardItem(t);e.appendChild(l)}})))}));s.innerHTML="",s.appendChild(a)},this.messagesListLayout=function(t,e,n){var i=this,s=ee(i.settings.section,"."+i.settings.lbWidget.settings.navigation.inbox.containerClass+" .cl-main-widget-inbox-list-body-res");s.innerHTML="",Object(Xt.a)(i.settings.lbWidget.settings.messages.messages,(function(t,e,n){var a=i.messageItem(t);s.appendChild(a)}))},this.loadRewards=function(t){var e=this;e.settings.lbWidget.checkForAvailableRewards((function(n,i,s){e.settings.lbWidget.updateRewardsNavigationCounts(),e.rewardsListLayout(n,i,s),"function"==typeof t&&t()}))},this.loadMessages=function(t){var e=this;e.settings.lbWidget.checkForAvailableMessages((function(n,i,s){e.messagesListLayout(n,i,s),"function"==typeof t&&t()}))},this.navigationSwitch=function(t,e){var s=this,a=s.preloader();s.settings.navigationSwitchInProgress&&s.settings.navigationSwitchLastAtempt+3e3<(new Date).getTime()&&(s.settings.navigationSwitchInProgress=!1),s.settings.navigationSwitchInProgress||(s.settings.navigationSwitchInProgress=!0,s.settings.navigationSwitchLastAtempt=(new Date).getTime(),ie(t.parentNode,"cl-active-nav")?"function"==typeof e&&(s.settings.navigationSwitchInProgress=!1,e()):a.show((function(){n&&clearTimeout(n),i&&clearTimeout(i),$t(ee(s.settings.container,".cl-main-widget-navigation-items .cl-active-nav"),(function(t){ae(t,"cl-active-nav")})),$t(ee(s.settings.container,".cl-main-widget-section-container .cl-main-active-section"),(function(t){ae(t,"cl-main-active-section"),setTimeout((function(){t.style.display="none"}),150)})),i=setTimeout((function(){ie(t,"cl-main-widget-navigation-lb-icon")?s.loadLeaderboard((function(){var t=ee(s.settings.container,".cl-main-widget-section-container ."+s.settings.lbWidget.settings.navigation.tournaments.containerClass);t.style.display="block",n=setTimeout((function(){se(t,"cl-main-active-section")}),30),"function"==typeof e&&e(),a.hide(),s.settings.navigationSwitchInProgress=!1})):ie(t,"cl-main-widget-navigation-ach-icon")?s.loadAchievements((function(){var t=ee(s.settings.container,".cl-main-widget-section-container ."+s.settings.lbWidget.settings.navigation.achievements.containerClass);s.settings.achievement.detailsContainer.style.display="none",t.style.display="block",n=setTimeout((function(){se(t,"cl-main-active-section"),"function"==typeof e&&e()}),30),a.hide(),s.settings.navigationSwitchInProgress=!1})):ie(t,"cl-main-widget-navigation-rewards-icon")?s.loadRewards((function(){var t=ee(s.settings.container,".cl-main-widget-section-container ."+s.settings.lbWidget.settings.navigation.rewards.containerClass);t.style.display="block",n=setTimeout((function(){se(t,"cl-main-active-section")}),30),"function"==typeof e&&e(),a.hide(),s.settings.navigationSwitchInProgress=!1})):ie(t,"cl-main-widget-navigation-inbox-icon")&&s.loadMessages((function(){var t=ee(s.settings.container,".cl-main-widget-section-container ."+s.settings.lbWidget.settings.navigation.inbox.containerClass);t.style.display="block",n=setTimeout((function(){se(t,"cl-main-active-section")}),30),a.hide(),s.settings.navigationSwitchInProgress=!1}))}),250),se(t.parentNode,"cl-active-nav")})))},this.resetNavigation=function(t){var e=this,n=ee(e.settings.container,".cl-main-widget-lb-header-list-icon");$t(ee(e.settings.container,".cl-main-widget-navigation-items .cl-active-nav"),(function(t){ae(t,"cl-active-nav")})),$t(ee(e.settings.container,".cl-main-widget-section-container .cl-main-active-section"),(function(t){t.style.display="none",ae(t,"cl-main-active-section")}));var i=!1;$t(ee(e.settings.container,".cl-main-widget-navigation-container .cl-main-widget-navigation-item"),(function(t,n,s){i||ie(t,"cl-hidden-navigation-item")||(e.navigationSwitch(ee(t,".cl-main-navigation-item")),i=!0)})),n.style.opacity="1",e.hideEmbeddedCompetitionDetailsContent(),e.hideCompetitionList(),setTimeout((function(){void 0!==t&&t()}),70)},this.initLayout=function(t){var e=this;e.settings.active=!0,e.loadLeaderboard(),e.settings.container.style.display="block",e.settings.overlayContainer.style.display="block",setTimeout((function(){se(e.settings.container,"cl-show");var n=ee(e.settings.leaderboard.list,".cl-lb-member-row");null!==n?(e.missingMember(e.isElementVisibleInView(n,e.settings.leaderboard.list.parentNode)),e.missingMember(e.isElementVisibleInView(n,e.settings.leaderboard.resultContainer))):e.missingMemberReset(),e.resetNavigation(t)}),30)}},Ce=function(){var t,e,n,i,s,a,r=[0,4,2,1],o=[8,8,4,2],l=249,c=254,d=255,u=1,h=44,g=59,f=function(t){this.data=new Uint8ClampedArray(t),this.pos=0;var e=this.data.length;this.getString=function(t){for(var e="";t--;)e+=String.fromCharCode(this.data[this.pos++]);return e},this.readSubBlocks=function(){var t,n,i="";do{for(n=t=this.data[this.pos++];n--;)i+=String.fromCharCode(this.data[this.pos++])}while(0!==t&&this.pos<e);return i},this.readSubBlocksB=function(){var t,n,i=[];do{for(n=t=this.data[this.pos++];n--;)i.push(this.data[this.pos++])}while(0!==t&&this.pos<e);return i}};function m(t){for(var n=[],i=0;i<t;i++)n.push([e.data[e.pos++],e.data[e.pos++],e.data[e.pos++]]);return n}function p(){var t,l,c;t=function(t){var e,l,c,d;for(e=s/t,l=0,n!==s&&(i=new Uint8Array(s),n=s),c=0;c<4;c++)for(d=r[c];d<e;d+=o[c])i.set(a.subArray(l,l+t),d*t),l+=t},l={},E.frames.push(l),l.disposalMethod=E.disposalMethod,l.time=E.length,l.delay=10*E.delayTime,E.length+=l.delay,E.transparencyGiven?l.transparencyIndex=E.transparencyIndex:l.transparencyIndex=void 0,l.leftPos=e.data[e.pos++]+(e.data[e.pos++]<<8),l.topPos=e.data[e.pos++]+(e.data[e.pos++]<<8),l.width=e.data[e.pos++]+(e.data[e.pos++]<<8),l.height=e.data[e.pos++]+(e.data[e.pos++]<<8),c=e.data[e.pos++],l.localColourTableFlag=!!(128&c),l.localColourTableFlag&&(l.localColourTable=m(1<<1+(7&c))),s!==l.width*l.height&&(a=new Uint8Array(l.width*l.height),s=l.width*l.height),function(t,e){var n,i,s,r,o,l,c,d,u,h,g,f;for(s=i=0,d=[],o=(r=1<<t)+1,l=t+1,c=!1;!c;){for(h=u,u=0,n=0;n<l;n++)e[s>>3]&1<<(7&s)&&(u|=1<<n),s++;if(u===r){for(d=[],l=t+1,n=0;n<r;n++)d[n]=[n];d[r]=[],d[o]=null}else{if(u===o)return void(c=!0);for(u>=d.length?d.push(d[h].concat(d[h][0])):h!==r&&d.push(d[h].concat(d[u][0])),f=(g=d[u]).length,n=0;n<f;n++)a[i++]=g[n];d.length===1<<l&&l<12&&l++}}}(e.data[e.pos++],e.readSubBlocksB()),64&c?(l.interlaced=!0,t(l.width)):l.interlaced=!1,function(t){var e,n,s,r,o,l,c,d,u,h,g;t.image=document.createElement("canvas"),t.image.width=E.width,t.image.height=E.height,t.image.ctx=t.image.getContext("2d"),e=t.localColourTableFlag?t.localColourTable:E.globalColourTable,null===E.lastFrame&&(E.lastFrame=t);(l=2===E.lastFrame.disposalMethod||3===E.lastFrame.disposalMethod)||t.image.ctx.drawImage(E.lastFrame.image,0,0,E.width,E.height);n=t.image.ctx.getImageData(t.leftPos,t.topPos,t.width,t.height),g=t.transparencyIndex,s=n.data,u=t.interlaced?i:a;for(r=u.length,o=0,c=0;c<r;c++)d=u[c],h=e[d],g!==d?(s[o++]=h[0],s[o++]=h[1],s[o++]=h[2],s[o++]=255):l?(s[o+3]=0,o+=4):o+=4;t.image.ctx.putImageData(n,t.leftPos,t.topPos),E.lastFrame=t,E.waitTillDone||"function"!=typeof E.onload||C()}(l)}function v(){E.loading=!1,E.frameCount=E.frames.length,e=void 0,E.complete=!0,E.disposalMethod=void 0,E.transparencyGiven=void 0,E.delayTime=void 0,E.transparencyIndex=void 0,E.waitTillDone=void 0,a=void 0,i=void 0,s=void 0,i=void 0,E.currentFrame=0,E.frames.length>0&&(E.image=E.frames[0].image),C(),"function"==typeof E.onloadall&&E.onloadall.bind(E)({type:"loadall",path:[E]}),E.playOnLoad&&E.play(),E.finished(E,E.lastFrame)}function b(){var t,n=e.data[e.pos++];n===l?(e.pos++,t=e.data[e.pos++],E.disposalMethod=(28&t)>>2,E.transparencyGiven=!!(1&t),E.delayTime=e.data[e.pos++]+(e.data[e.pos++]<<8),E.transparencyIndex=e.data[e.pos++],e.pos++):n===c?E.comment+=e.readSubBlocks():n===d?(e.pos+=1,"NETSCAPE"===e.getString(8)?e.pos+=8:(e.pos+=3,e.readSubBlocks())):(n===u&&(e.pos+=13),e.readSubBlocks())}function w(){if(void 0!==E.cancel&&!0===E.cancel)return v(),void("function"==typeof E.cancelCallback&&E.cancelCallback.bind(E)({type:"canceled",path:[E]}));var t=e.data[e.pos++];if(t===h){if(p(),E.firstFrameOnly)return void v()}else{if(t===g)return void v();b()}"function"==typeof E.onprogress&&E.onprogress({bytesRead:e.pos,totalBytes:e.data.length,frame:E.frames.length}),setTimeout(w,0)}function y(t){"function"==typeof E.onerror&&E.onerror.bind(this)({type:t,path:[this]}),E.onload=E.onerror=void 0,E.loading=!1}function C(){E.currentFrame=0,E.nextFrameAt=E.lastFrameAt=(new Date).valueOf(),"function"==typeof E.onload&&E.onload.bind(E)({type:"load",path:[E]}),E.onerror=E.onload=void 0}function _(t){var n;(e=new f(t)).pos+=6,E.width=e.data[e.pos++]+(e.data[e.pos++]<<8),E.height=e.data[e.pos++]+(e.data[e.pos++]<<8),n=e.data[e.pos++],E.colorRes=(112&n)>>4,E.globalColourCount=1<<1+(7&n),E.bgColourIndex=e.data[e.pos++],e.pos++,128&n&&(E.globalColourTable=m(E.globalColourCount)),setTimeout(w,0)}function S(){var e,n;0===E.playSpeed?E.pause():(E.playSpeed<0?(E.currentFrame-=1,E.currentFrame<0&&(E.currentFrame=E.frames.length-1),n=E.currentFrame,(n-=1)<0&&(n=E.frames.length-1),e=1*-E.frames[n].delay/E.playSpeed):(E.currentFrame+=1,E.currentFrame%=E.frames.length,e=1*E.frames[E.currentFrame].delay/E.playSpeed),E.image=E.frames[E.currentFrame].image,t=setTimeout(S,e))}var E={onload:null,onerror:null,onprogress:null,onloadall:null,paused:!1,playing:!1,waitTillDone:!0,loading:!1,firstFrameOnly:!1,width:null,height:null,frames:[],comment:"",length:0,currentFrame:0,frameCount:0,playSpeed:1,lastFrame:null,image:null,playOnLoad:!0,load:function(t){var e=new XMLHttpRequest;e.responseType="arraybuffer",e.onload=function(t){404===t.target.status?y("File not found"):t.target.status>=200&&t.target.status<300?_(e.response):y("Loading error : "+t.target.status)},e.open("GET",t,!0),e.send(),e.onerror=function(t){y("File error")},this.src=t,this.loading=!0},cancel:function(t){return!E.complete&&(E.cancelCallback=t,E.cancel=!0,!0)},play:function(){E.playing||(E.paused=!1,E.playing=!0,S())},pause:function(){E.paused=!0,E.playing=!1,clearTimeout(t)},seek:function(e){clearTimeout(t),e<0&&(e=0),e*=1e3,e%=E.length;for(var n=0;e>E.frames[n].time+E.frames[n].delay&&n<E.frames.length;)n+=1;E.currentFrame=n,E.playing?S():E.image=E.frames[E.currentFrame].image},seekFrame:function(e){clearTimeout(t),E.currentFrame=e%E.frames.length,E.playing?S():E.image=E.frames[E.currentFrame].image},togglePlay:function(){E.paused||!E.playing?E.play():E.pause()},finished:function(t){}};return E},_e=function(t){var e=this;function n(t){e.settings.updateActive&&(e.settings.ctx.setTransform(1,0,0,1,0,0),e.settings.canvasWidth!==innerWidth||e.settings.canvasHeight!==innerHeight?(e.settings.canvasWidthHalf=(e.settings.canvasWidth=e.settings.container.width=innerWidth)/2,e.settings.canvasHeightHalf=(e.settings.canvasHeight=e.settings.container.height=innerHeight)/2):e.settings.ctx.clearRect(0,0,e.settings.canvasWidth,e.settings.canvasHeight),null!==e.settings.gifInstance&&e.settings.gifInstance.loading&&null!==e.settings.gifInstance.lastFrame&&e.settings.ctx.drawImage(e.settings.gifInstance.lastFrame.image,e.settings.canvasWidthHalf-e.settings.gifInstance.width/2,e.settings.canvasHeightHalf-e.settings.gifInstance.height/2),requestAnimationFrame(n))}this.settings={container:null,containerWrapper:null,gifInstance:null,lbWidget:null,imageSrc:"",ctx:null,canvasWidth:null,canvasHeight:null,canvasWidthHalf:null,canvasHeightHalf:null,updateActive:!0},void 0!==t&&(this.settings=qt(this.settings,t)),this.clearCanvas=function(){e.settings.ctx.setTransform(1,0,0,1,0,0)},this.overlayLayout=function(){var t=document.createElement("div"),e=document.createElement("canvas");return t.setAttribute("class","cl-widget-canvas-overlay-wrapper"),e.setAttribute("class","cl-widget-canvas"),t.appendChild(e),t},this.init=function(){if(null===this.settings.container&&(this.settings.containerWrapper=this.settings.lbWidget.settings.bindContainer.appendChild(e.overlayLayout()),this.settings.container=ee(this.settings.containerWrapper,".cl-widget-canvas")),null!==this.settings.container&&this.settings.imageSrc.length>0){e.settings.containerWrapper.style.display="block",e.settings.containerWrapper.style.opacity=1,e.settings.ctx=e.settings.container.getContext("2d"),e.settings.updateActive=!0;var t=e.settings.imageSrc;setTimeout((function(){e.settings.gifInstance=Ce(),e.settings.gifInstance.onerror=function(t){console.log("asset loading error "+t.type)},e.settings.gifInstance.load(t),e.settings.gifInstance.finished=function(t,n){e.settings.updateActive=!1,setTimeout((function(){e.settings.containerWrapper.style.opacity=0,setTimeout((function(){e.settings.containerWrapper.style.display="none"}),300)}),2e3)}}),0),e.settings.canvasWidth=e.settings.container.width,e.settings.canvasHeight=e.settings.container.height,e.settings.canvasWidthHalf=e.settings.canvasWidth/2,e.settings.canvasHeightHalf=e.settings.canvasHeight/2,requestAnimationFrame(n)}}};function Se(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Ee(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Se(Object(n),!0).forEach((function(e){Ae(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ae(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Te(t,e,n,i,s,a,r){try{var o=t[a](r),l=o.value}catch(t){return void n(t)}o.done?e(l):Promise.resolve(l).then(i,s)}var ke=n(39),Le=function(t){this.settings={debug:!0,bindContainer:document.body,autoStart:!0,sseMessaging:null,notifications:null,miniScoreBoard:null,canvasAnimation:null,enableNotifications:!0,mainWidget:null,globalAjax:new Qt.Ajax,checkAjax:new Qt.Ajax,language:"en",currency:"",spaceName:"",memberId:"",groups:"",gameId:"",enforceGameLookup:!1,apiKey:"",member:null,layout:{enableMiniScoreBoardDragging:!0,miniScoreBoardPosition:{left:null,right:null,top:null,bottom:null},allowOrientationChange:!0,miniScoreBoardOrientation:"horizontal"},competition:{activeCompetitionId:null,activeContestId:null,activeCompetition:null,activeContest:null,refreshInterval:null,refreshIntervalMillis:1e4,allowNegativeCountdown:!1,includeMetadata:!1,extractImageHeader:!0},achievements:{limit:100,totalCount:0,list:[],availableRewards:[],rewards:[],expiredRewards:[],extractImageHeader:!0},rewards:{availableRewards:[],rewards:[],expiredRewards:[],rewardFormatter:function(t){var e=t.value;return void 0!==t.unitOfMeasure&&void 0!==t.unitOfMeasure.symbol&&null!==t.unitOfMeasure.symbol&&(e=t.unitOfMeasure.symbol+t.value),e}},messages:{messages:[]},tournaments:{activeCompetitionId:null,readyCompetitions:[],activeCompetitions:[],finishedCompetitions:[]},leaderboard:{fullLeaderboardSize:100,refreshIntervalMillis:3e3,refreshInterval:null,refreshLbDataInterval:null,leaderboardData:[],loadLeaderboardHistory:{},layoutSettings:{imageBanner:!0,titleLinkToDetailsPage:!1},miniScoreBoard:{enableRankings:!0,rankingsCount:2},pointsFormatter:function(t){return t}},navigation:{tournaments:{enable:!0,navigationClass:"cl-main-widget-navigation-lb",navigationClassIcon:"cl-main-widget-navigation-lb-icon",containerClass:"cl-main-widget-lb",order:1},achievements:{enable:!0,navigationClass:"cl-main-widget-navigation-ach",navigationClassIcon:"cl-main-widget-navigation-ach-icon",containerClass:"cl-main-widget-section-ach",order:2},rewards:{enable:!0,navigationClass:"cl-main-widget-navigation-rewards",navigationClassIcon:"cl-main-widget-navigation-rewards-icon",containerClass:"cl-main-widget-section-reward",order:3},inbox:{enable:!0,navigationClass:"cl-main-widget-navigation-inbox",navigationClassIcon:"cl-main-widget-navigation-inbox-icon",containerClass:"cl-main-widget-section-inbox",order:4}},uri:{gatewayDomain:Qt.api.url,members:"/api/v1/:space/members/reference/:id",assets:"/assets/attachments/:attachmentId",memberSSE:"/api/v1/:space/sse/reference/:id",memberSSEHeartbeat:"/api/v1/:space/sse/reference/:id/heartbeat",competitions:"/api/v1/:space/competitions",competitionById:"/api/v1/:space/competitions/:id",contestLeaderboard:"/api/v1/:space/contests/:id/leaderboard",achievement:"/api/v1/:space/achievements/:id",achievements:"/api/v1/:space/achievements/members/reference/:id",achievementsProgression:"/api/v1/:space/members/reference/:id/achievements",achievementsIssued:"/api/v1/:space/members/reference/:id/achievements/issued",messages:"/api/v1/:space/members/reference/:id/messages",messageById:"/api/v1/:space/members/reference/:id/messages/:messageId",memberReward:"/api/v1/:space/members/reference/:id/award/:awardId",memberRewardClaim:"/api/v1/:space/members/reference/:id/award/:awardId/award",memberCompetitions:"/api/v1/:space/members/reference/:id/competitions",memberCompetitionById:"/api/v1/:space/members/reference/:id/competition/:competitionId",memberCompetitionOptIn:"/api/v1/:space/members/reference/:id/competition/:competitionId/optin",memberCompetitionOptInCheck:"/api/v1/:space/members/reference/:id/competition/:competitionId/optin-check",translationPath:""},loadTranslations:!0,showCopyright:!0,translation:ke,resources:[],styles:null,partialFunctions:{uri:{availableCompetitionsListParameters:function(t){return t},finishedCompetitionsListParameters:function(t){return t},competitionByIdParameters:function(t){return t},leaderboardParameters:function(t){return t},achievementsAvailableForAllListParameters:function(t){return t},achievementsForMemberListParameters:function(t){return t},achievementByIdParameters:function(t){return t},claimedRewardsListParameters:function(t){return t},notClaimedRewardsListParameters:function(t){return t},expiredRewardsListParameters:function(t){return t},availableMessagesListParameters:function(t){return t}},startupCallback:function(t){},rewardFormatter:function(t){var e=t.value;return void 0!==t.unitOfMeasure&&void 0!==t.unitOfMeasure.symbol&&null!==t.unitOfMeasure.symbol&&(e=t.unitOfMeasure.symbol+t.value),e},competitionDataAvailableResponseParser:function(t,e){e(t)},competitionDataFinishedResponseParser:function(t,e){e(t)},activeCompetitionDataResponseParser:function(t,e){e(t)},activeContestDataResponseParser:function(t,e){e(t)},leaderboardDataResponseParser:function(t,e){e(t)},achievementDataForAllResponseParser:function(t,e){e(t)},achievementDataForMemberGroupResponseParser:function(t,e){e(t)},achievementDataResponseParser:function(t,e){e(t)},rewardDataResponseParser:function(t,e){e(t)},messageDataResponseParser:function(t,e){e(t)},claimRewardDataResponseParser:function(t,e){e(t)},issuedAchievementsDataResponseParser:function(t,e){e(t)},memberAchievementsProgressionDataResponseParser:function(t,e){e(t)},claimedRewardsDataResponseParser:function(t,e){e(t)},notClaimedRewardsDataResponseParser:function(t,e){e(t)},expiredRewardsDataResponseParser:function(t,e){e(t)},availableMessagesDataResponseParser:function(t,e){e(t)}},callback:null},void 0!==t&&(this.settings=qt(this.settings,t)),this.CanvasAnimation=_e,this.Notifications=fe,this.MiniScoreBoard=we,this.MainWidget=ye,this.log=function(t){this.settings.debug&&console.error(t)},this.formatDateTime=function(t){var e=[],n=[];return t.days()&&e.push(t.days()+'<span class="time-ind">'+this.settings.translation.time.days+"</span>"),t.hours()||t.days()>0?n.push(Jt(t.hours(),2)+'<span class="time-ind">'+this.settings.translation.time.hours+"</span>"):n.push('00<span class="time-ind">'+this.settings.translation.time.hours+"</span>"),t.minutes()||t.hours()>0||t.days()>0?n.push(Jt(t.minutes(),2)+(t.days()>0?'<span class="time-ind">'+this.settings.translation.time.minutes+"</span>":'<span class="time-ind">'+this.settings.translation.time.minutesShortHand+"</span>")):n.push("00"+(t.days()>0?'<span class="time-ind">'+this.settings.translation.time.minutes+"</span>":'<span class="time-ind">'+this.settings.translation.time.minutesShortHand+"</span>")),n.push(Jt(t.seconds(),2)+'<span class="time-ind">'+this.settings.translation.time.seconds+"</span>"),e.length>0?e.join(" ")+" "+n.join(":"):n.join(":")},this.populateIdenticonBase64Image=function(t){if(t.length>0){var e=new class{constructor(t,e,n){if("SHA-1"==t)this.O=new R(t,e,n);else if("SHA-224"==t||"SHA-256"==t)this.O=new H(t,e,n);else if("SHA-384"==t||"SHA-512"==t)this.O=new tt(t,e,n);else{if("SHA3-224"!=t&&"SHA3-256"!=t&&"SHA3-384"!=t&&"SHA3-512"!=t&&"SHAKE128"!=t&&"SHAKE256"!=t&&"CSHAKE128"!=t&&"CSHAKE256"!=t&&"KMAC128"!=t&&"KMAC256"!=t)throw new Error(f);this.O=new ct(t,e,n)}}update(t){this.O.update(t)}getHash(t,e){return this.O.getHash(t,e)}setHMACKey(t,e,n){this.O.setHMACKey(t,e,n)}getHMAC(t,e){return this.O.getHMAC(t,e)}}("SHA-512","TEXT");e.update(t);var n=e.getHash("HEX",1);return"data:image/svg+xml;base64,"+new r.a(n,{background:[255,255,255,255],margin:.1,size:22,format:"svg"}).toString()}return""};var e=new Qt.Ajax;this.checkForAvailableCompetitions=function(t,n){var i=this,s=0===i.settings.memberId.length?i.settings.uri.competitions.replace(":space",i.settings.spaceName):i.settings.uri.memberCompetitions.replace(":space",i.settings.spaceName).replace(":id",i.settings.memberId),a=["statusCode>==3","statusCode<==5","_sortByFields=options.scheduledDates.end:desc","_lang="+i.settings.language],r=null!=n?n:e;"string"==typeof i.settings.currency&&i.settings.currency.length>0&&a.push("_uomKey="+i.settings.currency),i.settings.gameId.length>0&&i.settings.enforceGameLookup&&a.push("options.products.productRefId="+i.settings.gameId),i.settings.groups.length>0&&0===i.settings.memberId.length&&a.push("options.limitEntrantsTo="+i.settings.groups),a=i.settings.partialFunctions.uri.availableCompetitionsListParameters(a),r.abort().getData({type:"GET",url:i.settings.uri.gatewayDomain+s+(a.length>0?"?"+a.join("&"):""),headers:{"X-API-KEY":i.settings.apiKey},success:function(e,s,a){if(200===a.status){var r=JSON.parse(e);i.settings.partialFunctions.competitionDataAvailableResponseParser(r.data,(function(e){i.settings.tournaments.readyCompetitions=[],i.settings.tournaments.activeCompetitions=[],Object(Xt.a)(e,(function(t){3===t.statusCode?i.settings.tournaments.readyCompetitions.push(t):5===t.statusCode&&i.settings.tournaments.activeCompetitions.push(t)})),i.checkForFinishedCompetitions(t,n)}))}else i.log("failed to checkForActiveCompetitions "+e)}})};var n=new Qt.Ajax;this.checkForFinishedCompetitions=function(t,e){var i=this,s=0===i.settings.memberId.length?i.settings.uri.competitions.replace(":space",i.settings.spaceName):i.settings.uri.memberCompetitions.replace(":space",i.settings.spaceName).replace(":id",i.settings.memberId),a=["statusCode=7","_limit=10","_sortByFields=options.scheduledDates.end:desc","_lang="+i.settings.language],r=null!=e?e:n;"string"==typeof i.settings.currency&&i.settings.currency.length>0&&a.push("_uomKey="+i.settings.currency),i.settings.gameId.length>0&&i.settings.enforceGameLookup&&a.push("options.products.productRefId="+i.settings.gameId),i.settings.groups.length>0&&0===i.settings.memberId.length&&a.push("options.limitEntrantsTo="+i.settings.groups),a=i.settings.partialFunctions.uri.finishedCompetitionsListParameters(a),r.abort().getData({type:"GET",url:i.settings.uri.gatewayDomain+s+(a.length>0?"?"+a.join("&"):""),headers:{"X-API-KEY":i.settings.apiKey},success:function(e,n,s){if(200===s.status){var a=JSON.parse(e);i.settings.partialFunctions.competitionDataFinishedResponseParser(a.data,(function(e){i.settings.tournaments.finishedCompetitions=[],Object(Xt.a)(e,(function(t){7===t.statusCode&&i.settings.tournaments.finishedCompetitions.push(t)})),"function"==typeof t&&t()}))}else i.log("failed to checkForActiveCompetitions "+e)}})},this.prepareActiveCompetition=function(t){var e=this,n=null,i=null;null!==e.settings.tournaments.activeCompetitionId&&(Object(Xt.a)(e.settings.tournaments.activeCompetitions,(function(t){t.id===e.settings.tournaments.activeCompetitionId&&(n=t)})),Object(Xt.a)(e.settings.tournaments.readyCompetitions,(function(t){t.id===e.settings.tournaments.activeCompetitionId&&(n=t)})),Object(Xt.a)(e.settings.tournaments.finishedCompetitions,(function(t){t.id===e.settings.tournaments.activeCompetitionId&&(n=t)})),null!==n?i=e.settings.tournaments.activeCompetitionId:e.settings.tournaments.activeCompetitionId=null),null===n&&e.settings.tournaments.activeCompetitions.length>0?i=(n=e.settings.tournaments.activeCompetitions[0]).id:null===n&&e.settings.tournaments.readyCompetitions.length>0&&(i=(n=e.settings.tournaments.readyCompetitions[0]).id),null===i?e.deactivateCompetitionsAndLeaderboards():(e.settings.competition.activeCompetitionId!==i&&null!==i&&(e.settings.competition.activeCompetition=n,e.settings.competition.activeCompetitionId=i),null!==i?e.loadActiveCompetition((function(n){e.setActiveCompetition(n,t)})):"function"==typeof t&&t())},this.loadActiveCompetition=function(t){var e=this,n=0===e.settings.memberId.length?e.settings.uri.competitionById.replace(":space",e.settings.spaceName).replace(":id",e.settings.competition.activeCompetitionId):e.settings.uri.memberCompetitionById.replace(":space",e.settings.spaceName).replace(":id",e.settings.memberId).replace(":competitionId",e.settings.competition.activeCompetitionId),i=["_include=strategy"+(e.settings.competition.includeMetadata?",metadata":""),"_lang="+e.settings.language];"string"==typeof e.settings.currency&&e.settings.currency.length>0&&i.push("_uomKey="+e.settings.currency),i=e.settings.partialFunctions.uri.competitionByIdParameters(i),e.settings.globalAjax.abort().getData({type:"GET",url:e.settings.uri.gatewayDomain+n+(i.length>0?"?"+i.join("&"):""),headers:{"X-API-KEY":e.settings.apiKey},success:function(n,i,s){if(200===s.status){var a=JSON.parse(n);e.settings.partialFunctions.activeCompetitionDataResponseParser(a,(function(e){"function"==typeof t&&t(e)}))}else e.log("failed to loadActiveCompetition "+n)}})},this.setActiveCompetition=function(t,e){var n=this;n.settings.competition.activeCompetition=t.data,n.settings.competition.activeContest=null,n.settings.competition.activeContestId=null,void 0!==t.data.contests&&t.data.contests.length>0&&n.settings.partialFunctions.activeContestDataResponseParser(t.data.contests,(function(t){Object(Xt.a)(t,(function(t){if(t.statusCode<7&&null===n.settings.competition.activeContest){n.settings.competition.activeContest=t,n.settings.competition.activeContestId=t.id,void 0===n.settings.competition.activeContest.rewards&&(n.settings.competition.activeContest.rewards=[]);var e=[];Object(Xt.a)(n.settings.competition.activeContest.rewards,(function(t){if("string"==typeof t.rewardRank){var n=t.rewardRank.split(","),i=[];Object(Xt.a)(n,(function(t){if(Zt(t,"-"))for(var e=t.split("-"),n=parseInt(e[0]),s=parseInt(e[1]),a=n;a<=s;a++)i.push(a);else i.push(parseInt(t))})),t.rewardRank=i}e.push(t)})),n.settings.competition.activeContest.rewards=e}}))})),"function"==typeof e&&e()},this.getLeaderboardData=function(t,e){if(null!==this.settings.competition.activeContestId){var n=this,i=n.settings.uri.contestLeaderboard.replace(":space",n.settings.spaceName).replace(":id",n.settings.competition.activeContestId),s=["_limit="+t];n.settings.leaderboard.miniScoreBoard.enableRankings&&s.push("rankings="+n.settings.leaderboard.miniScoreBoard.rankingsCount),"string"==typeof n.settings.memberId&&n.settings.memberId.length>0&&s.push("memberId="+n.settings.memberId),s=n.settings.partialFunctions.uri.leaderboardParameters(s),n.settings.globalAjax.abort().getData({type:"GET",url:n.settings.uri.gatewayDomain+i+(s.length>0?"?"+s.join("&"):""),headers:{"X-API-KEY":n.settings.apiKey},success:function(t,i,s){if(200===s.status){var a=JSON.parse(t);n.settings.partialFunctions.leaderboardDataResponseParser(a.data,(function(t){n.settings.leaderboard.leaderboardData=t,e(t)}))}else n.log("failed to getLeaderboardData "+t)}})}else e()},this.updateLeaderboardNavigationCounts=function(){null!==this.settings.mainWidget.settings.navigation&&(ee(this.settings.mainWidget.settings.navigation,"."+this.settings.navigation.tournaments.navigationClass+" .cl-main-navigation-item-count").innerHTML=this.settings.tournaments.activeCompetitions.length)},this.updateAchievementNavigationCounts=function(){null!==this.settings.mainWidget.settings.navigation&&(ee(this.settings.mainWidget.settings.navigation,"."+this.settings.navigation.achievements.navigationClass+" .cl-main-navigation-item-count").innerHTML=this.settings.achievements.totalCount)},this.updateRewardsNavigationCounts=function(){null!==this.settings.mainWidget.settings.navigation&&(ee(this.settings.mainWidget.settings.navigation,"."+this.settings.navigation.rewards.navigationClass+" .cl-main-navigation-item-count").innerHTML=this.settings.rewards.availableRewards.length)},this.updateMessagesNavigationCounts=function(){null!==this.settings.mainWidget.settings.navigation&&(ee(this.settings.mainWidget.settings.navigation,"."+this.settings.navigation.inbox.navigationClass+" .cl-main-navigation-item-count").innerHTML=this.settings.messages.messages.length)};var i=new Qt.Ajax;this.checkForAvailableAchievements=function(t){var e=this,n=e.settings.uri.achievements.replace(":space",e.settings.spaceName).replace(":id",e.settings.memberId),s=["_limit="+e.settings.achievements.limit,"_include=rewards","_lang="+e.settings.language];"string"==typeof e.settings.currency&&e.settings.currency.length>0&&s.push("_uomKey="+e.settings.currency),s=e.settings.partialFunctions.uri.achievementsAvailableForAllListParameters(s),i.abort().getData({type:"GET",url:e.settings.uri.gatewayDomain+n+(s.length>0?"?"+s.join("&"):""),headers:{"X-API-KEY":e.settings.apiKey},success:function(a,r,o){if(200===o.status){var l=JSON.parse(a);e.settings.partialFunctions.achievementDataForAllResponseParser(l,(function(a){if(e.settings.achievements.totalCount=parseInt(a.meta.totalRecordsFound),e.settings.achievements.list=[],Object(Xt.a)(a.data,(function(t){e.settings.achievements.list.push(t)})),void 0!==e.settings.member.groups&&e.settings.member.groups.length>0){s.push("memberGroups="+e.settings.member.groups.join(","));var r=(s=e.settings.partialFunctions.uri.achievementsForMemberListParameters(s)).length>0?"?"+s.join("&"):"";i.abort().getData({type:"GET",url:e.settings.uri.gatewayDomain+n+r,headers:{"X-API-KEY":e.settings.apiKey},success:function(n,i,s){if(200===s.status){var a=JSON.parse(n);e.settings.partialFunctions.achievementDataForMemberGroupResponseParser(a,(function(n){Object(Xt.a)(n.data,(function(t){var n=!1;Object(Xt.a)(e.settings.achievements.list,(function(e){e.id===t.id&&(n=!0)})),n||e.settings.achievements.list.push(t)})),e.settings.achievements.totalCount=e.settings.achievements.list.length,"function"==typeof t&&t(e.settings.achievements.list)}))}else e.log("failed to checkForAvailableAchievements "+n)}})}else"function"==typeof t&&t(a.data)}))}else e.log("failed to checkForAvailableAchievements "+a)}})};var a=new Qt.Ajax;this.getAchievement=function(t,e){var n=this,i=["_lang="+n.settings.language];"string"==typeof n.settings.currency&&n.settings.currency.length>0&&i.push("_uomKey="+n.settings.currency),i=n.settings.partialFunctions.uri.achievementByIdParameters(i),a.abort().getData({url:n.settings.uri.gatewayDomain+n.settings.uri.achievement.replace(":space",n.settings.spaceName).replace(":id",t)+(i.length>0?"?"+i.join("&"):""),headers:{"X-API-KEY":n.settings.apiKey},type:"GET",success:function(t,i,s){var a=null;if(200===s.status)try{a=JSON.parse(t)}catch(t){}"function"==typeof e&&n.settings.partialFunctions.achievementDataResponseParser(a,(function(t){e(t)}))},error:function(){"function"==typeof e&&e(null)}})};var o=new Qt.Ajax;this.getReward=function(t,e){var n=this;o.abort().getData({url:n.settings.uri.gatewayDomain+n.settings.uri.memberReward.replace(":space",n.settings.spaceName).replace(":id",n.settings.memberId).replace(":awardId",t),headers:{"X-API-KEY":n.settings.apiKey},type:"GET",success:function(t,i,s){var a=null;if(200===s.status)try{a=JSON.parse(t)}catch(t){}"function"==typeof e&&n.settings.partialFunctions.rewardDataResponseParser(a,(function(t){e(t)}))},error:function(){"function"==typeof e&&e(null)}})};var l=new Qt.Ajax;this.getMessage=function(t,e){var n=this;l.abort().getData({url:n.settings.uri.gatewayDomain+n.settings.uri.messageById.replace(":space",n.settings.spaceName).replace(":id",n.settings.memberId).replace(":messageId",t),headers:{"X-API-KEY":n.settings.apiKey},type:"GET",success:function(t,i,s){var a=null;if(200===s.status)try{a=JSON.parse(t)}catch(t){}"function"==typeof e&&n.settings.partialFunctions.messageDataResponseParser(a,(function(t){e(t)}))},error:function(){"function"==typeof e&&e(null)}})};var c=new Qt.Ajax;this.claimReward=function(t,e){var n=this;c.abort().getData({url:n.settings.uri.gatewayDomain+n.settings.uri.memberRewardClaim.replace(":space",n.settings.spaceName).replace(":id",n.settings.memberId).replace(":awardId",t),headers:{"X-API-KEY":n.settings.apiKey},type:"POST",success:function(t,i,s){var a=null;if(200===s.status)try{a=JSON.parse(t)}catch(t){}"function"==typeof e&&n.settings.partialFunctions.claimRewardDataResponseParser(a,(function(t){e(t)}))},error:function(){"function"==typeof e&&e(null)}})};var d=new Qt.Ajax;this.checkForMemberAchievementsIssued=function(t){var e=this,n=e.settings.uri.achievementsIssued.replace(":space",e.settings.spaceName).replace(":id",e.settings.memberId);d.abort().getData({type:"GET",url:e.settings.uri.gatewayDomain+n,headers:{"X-API-KEY":e.settings.apiKey},success:function(n,i,s){if(200===s.status){var a=JSON.parse(n);e.settings.partialFunctions.issuedAchievementsDataResponseParser(a,(function(e){var n=[];void 0!==e.aggregations&&e.aggregations.length>0&&Object(Xt.a)(e.aggregations[0].items,(function(t){n.push(t.value)})),"function"==typeof t&&t(n)}))}else e.log("failed to checkForMemberAchievementsIssued "+n)}})};var u=new Qt.Ajax;this.checkForMemberAchievementsProgression=function(t,e){var n=this,i=n.settings.uri.achievementsProgression.replace(":space",n.settings.spaceName).replace(":id",n.settings.memberId);u.abort().getData({type:"GET",url:n.settings.uri.gatewayDomain+i+(t.length>0?"?id="+t.join(","):""),headers:{"X-API-KEY":n.settings.apiKey},success:function(t,i,s){if(200===s.status){var a=JSON.parse(t);"function"==typeof e&&n.settings.partialFunctions.memberAchievementsProgressionDataResponseParser(a.data,(function(t){e(t)}))}else n.log("failed to checkForMemberAchievementsProgression "+t)}})};var h=new Qt.Ajax;this.checkForAvailableRewards=function(t){var e=this,n=e.settings.uri.messages.replace(":space",e.settings.spaceName).replace(":id",e.settings.memberId),i=["_sortByFields=created:desc","messageType=Reward","prize.claimed=true","_hasValuesFor=prize","_limit=100"],a=["_sortByFields=created:desc","messageType=Reward","prize.claimed=false","_hasValuesFor=prize","_limit=100"];i=e.settings.partialFunctions.uri.claimedRewardsListParameters(i),h.abort().getData({type:"GET",url:e.settings.uri.gatewayDomain+n+(i.length>0?"?"+i.join("&"):""),headers:{"X-API-KEY":e.settings.apiKey},success:function(i,r,o){if(200===o.status){var l=JSON.parse(i);e.settings.rewards.rewards=[],e.settings.rewards.availableRewards=[],e.settings.rewards.expiredRewards=[],e.settings.partialFunctions.claimedRewardsDataResponseParser(l.data,(function(i){Object(Xt.a)(i,(function(t){void 0!==t.expiry&&s()(t.expiry).diff(s()())<0||e.settings.rewards.rewards.push(t)})),a=e.settings.partialFunctions.uri.notClaimedRewardsListParameters(a),h.abort().getData({type:"GET",url:e.settings.uri.gatewayDomain+n+(a.length>0?"?"+a.join("&"):""),headers:{"X-API-KEY":e.settings.apiKey},success:function(i,a,r){if(200===r.status){var o=JSON.parse(i);e.settings.partialFunctions.notClaimedRewardsDataResponseParser(o.data,(function(i){Object(Xt.a)(i,(function(t){void 0!==t.expiry&&s()(t.expiry).diff(s()())<0||e.settings.rewards.availableRewards.push(t)}));var a=new Date,r=["_sortByFields=created:desc","messageType=Reward","_hasValuesFor=expiry","_limit=100","expiry<=="+(a.getUTCFullYear()+"-"+Jt(a.getUTCMonth()+1,2)+"-"+Jt(a.getUTCDate(),2)+"T"+Jt(a.getUTCHours(),2)+":"+Jt(a.getUTCMinutes(),2)+":00")];r=e.settings.partialFunctions.uri.expiredRewardsListParameters(r),h.abort().getData({type:"GET",url:e.settings.uri.gatewayDomain+n+(r.length>0?"?"+r.join("&"):""),headers:{"X-API-KEY":e.settings.apiKey},success:function(n,i,s){if(200===s.status){var a=JSON.parse(n);e.settings.partialFunctions.expiredRewardsDataResponseParser(a.data,(function(n){Object(Xt.a)(n,(function(t){e.settings.rewards.expiredRewards.push(t)})),"function"==typeof t&&t(e.settings.rewards.rewards,e.settings.rewards.availableRewards,e.settings.rewards.expiredRewards)}))}else e.log("failed to checkForAvailableRewards expired "+n)}})}))}else e.log("failed to checkForAvailableRewards not-claimed "+i)}})}))}else e.log("failed to checkForAvailableRewards claimed "+i)}})};var g=new Qt.Ajax;this.checkForAvailableMessages=function(t){var e=this,n=e.settings.uri.messages.replace(":space",e.settings.spaceName).replace(":id",e.settings.memberId),i=new Date;i.setDate(i.getMonth()-1);var s=["_sortByFields=created:desc","_hasNoValuesFor=prize","_limit=100","created>=="+(i.getFullYear()+"-"+Jt(i.getMonth()+1,2)+"-"+Jt(i.getDate(),2))];s=e.settings.partialFunctions.uri.availableMessagesListParameters(s),g.abort().getData({type:"GET",url:e.settings.uri.gatewayDomain+n+(s.length>0?"?"+s.join("&"):""),headers:{"X-API-KEY":e.settings.apiKey},success:function(n,i,s){if(200===s.status){var a=JSON.parse(n);e.settings.partialFunctions.availableMessagesDataResponseParser(a.data,(function(n){e.settings.messages.messages=[],Object(Xt.a)(n,(function(t){e.settings.messages.messages.push(t)})),"function"==typeof t&&t(e.settings.messages.messages)}))}else e.log("failed to checkForAvailableMessages "+n)}})};var m=new Qt.Ajax;this.optInMemberToActiveCompetition=function(t){var e=this,n=e.settings.uri.memberCompetitionOptIn.replace(":space",e.settings.spaceName).replace(":id",e.settings.memberId).replace(":competitionId",e.settings.competition.activeCompetitionId);m.abort().getData({type:"GET",url:e.settings.uri.gatewayDomain+n,headers:{"X-API-KEY":e.settings.apiKey},success:function(n,i,s){200===s.status?t():e.log("failed to optInMemberToActiveCompetition "+n)}})};var p,v=0;this.revalidateIfSuccessfullOptIn=function(t){var e=this;e.loadActiveCompetition((function(n){"boolean"!=typeof n.data.optin||n.data.optin?"boolean"==typeof n.data.optin&&n.data.optin&&t(n):++v<5?setTimeout((function(){e.revalidateIfSuccessfullOptIn(t)}),100):v=0}))},this.leaderboardDataRefresh=function(){var t=this;if(t.settings.leaderboard.refreshLbDataInterval&&clearTimeout(t.settings.leaderboard.refreshLbDataInterval),null!==t.settings.competition.activeCompetition&&"boolean"==typeof t.settings.competition.activeCompetition.optinRequired&&!t.settings.competition.activeCompetition.optinRequired||"boolean"==typeof t.settings.competition.activeCompetition.optin&&t.settings.competition.activeCompetition.optin){var e=t.settings.miniScoreBoard.settings.active?0:t.settings.leaderboard.fullLeaderboardSize;t.getLeaderboardData(e,(function(e){t.settings.miniScoreBoard.settings.active&&t.settings.miniScoreBoard.loadScoreBoard(),t.settings.mainWidget.settings.active&&t.settings.mainWidget.loadLeaderboard()}))}t.settings.leaderboard.refreshLbDataInterval=setTimeout((function(){t.leaderboardDataRefresh()}),t.settings.leaderboard.refreshIntervalMillis)},this.activeDataRefresh=function(t){var e=this;e.settings.competition.refreshInterval&&clearTimeout(e.settings.competition.refreshInterval),e.checkForAvailableCompetitions((function(){e.updateLeaderboardNavigationCounts(),e.prepareActiveCompetition((function(){var n=e.settings.miniScoreBoard.settings.active?0:e.settings.leaderboard.fullLeaderboardSize;e.settings.leaderboard.refreshInterval&&clearTimeout(e.settings.leaderboard.refreshInterval),e.settings.miniScoreBoard.settings.active||e.settings.mainWidget.settings.active?null!==e.settings.competition.activeCompetition&&"boolean"==typeof e.settings.competition.activeCompetition.optinRequired&&!e.settings.competition.activeCompetition.optinRequired||null!==e.settings.competition.activeCompetition&&"boolean"==typeof e.settings.competition.activeCompetition.optin&&e.settings.competition.activeCompetition.optin?e.getLeaderboardData(n,(function(n){e.settings.miniScoreBoard.settings.active&&e.settings.miniScoreBoard.loadScoreBoard(),e.settings.mainWidget.settings.active&&e.settings.mainWidget.loadLeaderboard(),e.leaderboardDataRefresh(),"function"==typeof t&&t()})):(e.settings.miniScoreBoard.settings.active&&e.settings.miniScoreBoard.loadScoreBoard(),e.settings.mainWidget.settings.active&&e.getLeaderboardData(n,(function(t){e.settings.mainWidget.loadLeaderboard()})),e.leaderboardDataRefresh(),"function"==typeof t&&t()):(e.settings.miniScoreBoard.settings.active&&e.settings.miniScoreBoard.loadScoreBoard(),"function"==typeof t&&t())}))})),e.settings.competition.refreshInterval=setTimeout((function(){e.activeDataRefresh()}),e.settings.competition.refreshIntervalMillis)},this.deactivateCompetitionsAndLeaderboards=function(t){this.settings.leaderboard.refreshInterval&&clearTimeout(this.settings.leaderboard.refreshInterval),this.settings.miniScoreBoard.clearAll(),this.settings.mainWidget.clearAll(),"function"==typeof t&&t()},this.stopActivity=function(t){this.settings.leaderboard.refreshInterval&&(clearTimeout(this.settings.leaderboard.refreshInterval),clearInterval(this.settings.leaderboard.refreshInterval)),this.settings.competition.refreshInterval&&(clearTimeout(this.settings.competition.refreshInterval),clearInterval(this.settings.competition.refreshInterval)),this.settings.leaderboard.refreshLbDataInterval&&(clearTimeout(this.settings.leaderboard.refreshLbDataInterval),clearInterval(this.settings.leaderboard.refreshLbDataInterval)),this.settings.miniScoreBoard.settings.updateInterval&&(clearTimeout(this.settings.miniScoreBoard.settings.updateInterval),clearInterval(this.settings.leaderboard.refreshInterval)),"function"==typeof t&&t()},this.restartActivity=function(t){this.activeDataRefresh(),this.settings.miniScoreBoard.updateScoreBoard(),"function"==typeof t&&t()},this.loadMember=function(){var t,e=(t=regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=this).settings.globalAjax.abort().getData({type:"GET",url:n.settings.uri.gatewayDomain+n.settings.uri.members.replace(":space",n.settings.spaceName).replace(":id",n.settings.memberId),headers:{"X-API-KEY":n.settings.apiKey},success:function(t,i,s){if(200===s.status){var a=JSON.parse(t);n.settings.member=a.data,e(a.data)}else n.log("failed to loadMember "+t)}});case 2:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(i,s){var a=t.apply(e,n);function r(t){Te(a,i,s,r,o,"next",t)}function o(t){Te(a,i,s,r,o,"throw",t)}r(void 0)}))});return function(t){return e.apply(this,arguments)}}(),this.loadWidgetTranslations=function(t){var e=this;if("string"==typeof e.settings.uri.translationPath&&e.settings.uri.translationPath.length>0&&e.settings.loadTranslations){var n=Zt(e.settings.uri.translationPath,"http")?e.settings.uri.translationPath.replace(":language",e.settings.language):e.settings.uri.gatewayDomain+e.settings.uri.translationPath.replace(":language",e.settings.language);e.settings.globalAjax.abort().getData({type:"GET",url:n,headers:{"X-API-KEY":e.settings.apiKey},success:function(n,i,s){if(200===s.status){var a=JSON.parse(n);e.settings.translation=qt(e.settings.translation,a),t()}else e.log("no translation foound "+n),t()}})}else t()},this.startup=function(){var t=this;t.settings.miniScoreBoard.initLayout((function(){t.settings.miniScoreBoard.settings.active=!0,t.activeDataRefresh((function(){t.settings.partialFunctions.startupCallback(t)})),t.settings.enableNotifications&&(t.settings.notifications.init(),t.settings.canvasAnimation.init()),t.cleanup(),"function"==typeof t.settings.callback&&t.settings.callback()}))},this.cleanup=function(){var t=this;p&&clearTimeout(p),p=setTimeout((function(){t.settings.mainWidget.preLoaderRerun(),t.cleanup()}),3e3)},this.loadStylesheet=function(t){var e=!1,n=[];$t(ee("link"),(function(t){null!==t&&n.push(new URL(t.href,document.baseURI).href)})),Object(Xt.a)(this.settings.resources,(function(i,s,a){var r=!1;if(Object(Xt.a)(n,(function(t){t===new URL(i,document.baseURI).href&&(r=!0)})),!r){var o=document.createElement("link");o.setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),o.setAttribute("href",i),0===a&&(o.onload=function(){"function"==typeof t&&t()},o.onerror=function(e){"function"==typeof t&&t()}),document.body.appendChild(o),e=!0}})),e||"function"!=typeof t||t()},this.clickedMiniScoreBoard=function(){var t=this;t.settings.miniScoreBoard.settings.dragging||t.deactivateCompetitionsAndLeaderboards((function(){t.settings.leaderboard.leaderboardData=[],t.settings.mainWidget.initLayout((function(){t.settings.navigation.tournaments.enable&&t.activeDataRefresh(),t.settings.navigation.achievements.enable&&t.checkForAvailableAchievements((function(e){t.updateAchievementNavigationCounts()})),t.settings.navigation.rewards.enable&&t.checkForAvailableRewards((function(){t.updateRewardsNavigationCounts()})),t.settings.navigation.inbox.enable&&t.checkForAvailableMessages((function(){t.updateMessagesNavigationCounts()}))})),setTimeout((function(){t.settings.miniScoreBoard.settings.container.style.display="none"}),200)}))},this.openWithTabAndAction=function(t,e){var n=this;if(n.settings.mainWidget.settings.active){var i=ee(n.settings.mainWidget.settings.container,t);n.settings.mainWidget.navigationSwitch(i,(function(){n.activeDataRefresh(),"function"==typeof e&&e()})),setTimeout((function(){n.settings.miniScoreBoard.settings.container.style.display="none"}),200)}else n.deactivateCompetitionsAndLeaderboards((function(){n.settings.mainWidget.initLayout((function(){n.settings.mainWidget.navigationSwitch(ee(n.settings.mainWidget.settings.container,t),(function(){n.activeDataRefresh(),"function"==typeof e&&e()}))})),setTimeout((function(){n.settings.miniScoreBoard.settings.container.style.display="none"}),200)}))};var b,w=new Qt.Ajax;this.eventHandlers=function(t){var e=this;if(ie(t,"cl-widget-ms-optin-action")&&!ie(t,"checking"))se(t,"checking"),e.optInMemberToActiveCompetition((function(){e.revalidateIfSuccessfullOptIn((function(n){e.settings.competition.activeCompetition=n.data,e.deactivateCompetitionsAndLeaderboards((function(){e.settings.leaderboard.leaderboardData=[],e.settings.mainWidget.initLayout((function(){e.activeDataRefresh(),e.settings.mainWidget.loadCompetitionDetails((function(){}))})),setTimeout((function(){e.settings.miniScoreBoard.settings.container.style.display="none"}),200)})),ae(t,"checking")}))}));else if(ie(t,"cl-main-widget-lb-details-optin-action")&&!ie(t,"checking"))se(t,"checking"),e.optInMemberToActiveCompetition((function(){e.revalidateIfSuccessfullOptIn((function(n){e.settings.competition.activeCompetition=n.data,e.settings.mainWidget.competitionDetailsOptInButtonState(),ae(t,"checking")}))}));else if(ie(t,"cl-main-widget-lb-optin-action")&&!ie(t,"checking"))se(t,"checking"),e.optInMemberToActiveCompetition((function(){e.revalidateIfSuccessfullOptIn((function(n){e.settings.competition.activeCompetition=n.data,e.settings.mainWidget.loadCompetitionDetails((function(){})),ae(t,"checking"),t.parentNode.style.display="none"}))}));else if(ie(t,"cl-widget-ms-information-close")&&!ie(t,"checking"))e.settings.miniScoreBoard.clearAll();else if(ie(t,"cl-widget-notif-information-close")&&!ie(t,"checking"))e.settings.notifications.hideNotification();else if(ie(t,"cl-main-widget-lb-header-close")||ie(t,"cl-main-widget-ach-header-close")||ie(t,"cl-main-widget-reward-header-close")||ie(t,"cl-main-widget-inbox-header-close")||ie(t,"cl-widget-main-widget-overlay-wrapper"))e.settings.mainWidget.hide((function(){e.settings.miniScoreBoard.settings.active=!0,e.settings.miniScoreBoard.settings.container.style.display="block",e.activeDataRefresh()}));else if(e.settings.leaderboard.layoutSettings.titleLinkToDetailsPage||!ie(t,"cl-main-widget-lb-details-content-label")&&null===oe(t,".cl-main-widget-lb-details-content-label"))if(!e.settings.leaderboard.layoutSettings.titleLinkToDetailsPage&&ie(t,"cl-main-widget-lb-details-description-close"))e.settings.mainWidget.hideEmbeddedCompetitionDetailsContent((function(){}));else if(ie(t,"cl-main-widget-lb-details-content-label")||null!==oe(t,".cl-main-widget-lb-details-content-label"))null!==e.settings.competition.activeContest&&e.settings.mainWidget.loadCompetitionDetails((function(){}));else if(ie(t,"cl-ach-list-more"))e.getAchievement(t.dataset.id,(function(t){e.settings.mainWidget.loadAchievementDetails(t,(function(){}))}));else if(ie(t,"cl-main-widget-lb-details-back-btn"))e.settings.mainWidget.hideCompetitionDetails();else if(ie(t,"cl-main-widget-ach-details-back-btn"))e.settings.mainWidget.hideAchievementDetails((function(){}));else if(ie(t,"cl-main-widget-reward-details-back-btn"))e.settings.mainWidget.hideRewardDetails((function(){}));else if(ie(t,"cl-main-widget-inbox-details-back-btn"))e.settings.mainWidget.hideMessageDetails((function(){}));else if(ie(t,"cl-rew-list-item")||null!==oe(t,".cl-rew-list-item")){var n=ie(t,"cl-rew-list-item")?t.dataset.rewardId:oe(t,".cl-rew-list-item").dataset.rewardId;e.getReward(n,(function(t){e.settings.mainWidget.loadRewardDetails(t,(function(){}))}))}else if(ie(t,"cl-inbox-list-item")||null!==oe(t,".cl-inbox-list-item")){var i=ie(t,"cl-inbox-list-item")?t.dataset.rewardId:oe(t,".cl-inbox-list-item").dataset.id;e.getMessage(i,(function(t){e.settings.mainWidget.loadMessageDetails(t,(function(){}))}))}else if(ie(t,"cl-main-widget-reward-claim-btn"))e.claimReward(t.dataset.id,(function(n){n.data.claimed?(e.settings.mainWidget.loadRewards(),se(t,"cl-claimed"),t.innerHTML=e.settings.translation.rewards.claimed):(ae(t,"cl-claimed"),t.innerHTML=e.settings.translation.rewards.claim)}));else if(ie(t,"cl-widget-notif-information-details-wrapper")||null!==oe(t,".cl-widget-notif-information-details-wrapper"))e.openWithTabAndAction(".cl-main-widget-navigation-ach-icon",(function(){var n=ie(t,"cl-widget-notif-information-details-wrapper")?t.dataset.id:oe(t,".cl-widget-notif-information-details-wrapper").dataset.id;e.settings.notifications.hideNotification(),e.settings.mainWidget.hideAchievementDetails((function(){e.getAchievement(n,(function(t){e.settings.mainWidget.loadAchievementDetails(t)}))}))}));else if(ie(t,"cl-main-navigation-item"))e.settings.mainWidget.navigationSwitch(t);else if(ie(t,"cl-main-widget-lb-header-list-icon"))e.settings.leaderboard.refreshInterval&&clearTimeout(e.settings.leaderboard.refreshInterval),e.settings.mainWidget.loadCompetitionList((function(){e.activeDataRefresh()}),w);else if(ie(t,"cl-tour-list-item")||null!==oe(t,".cl-tour-list-item")){var s=ie(t,"cl-tour-list-item")?t.dataset.id:oe(t,".cl-tour-list-item").dataset.id,a=e.settings.mainWidget.preloader();a.show((function(){e.settings.mainWidget.settings.active=!0,e.settings.tournaments.activeCompetitionId=s,e.activeDataRefresh((function(){e.settings.mainWidget.hideCompetitionList((function(){e.settings.leaderboard.layoutSettings.titleLinkToDetailsPage?null!==e.settings.competition.activeContest&&e.settings.mainWidget.loadCompetitionDetails((function(){})):e.settings.mainWidget.showEmbeddedCompetitionDetailsContent((function(){})),a.hide()}))}))}))}else ie(t,"cl-main-widget-tournaments-back-btn")?e.settings.mainWidget.hideCompetitionList():ie(t,"cl-widget-ms-icon-wrapper")||null!==oe(t,".cl-widget-ms-icon-wrapper")||ie(t,"cl-widget-ms-information-wrapper")||null!==oe(t,".cl-widget-ms-information-wrapper")?e.clickedMiniScoreBoard():ie(t,"cl-accordion-label")&&e.settings.mainWidget.accordionNavigation(t);else e.settings.mainWidget.showEmbeddedCompetitionDetailsContent((function(){}))},this.eventListeners=function(){var t=this;document.body.addEventListener("keyup",(function(e){switch(e.keyCode){case 27:t.settings.mainWidget.settings.active&&t.settings.mainWidget.hide((function(){t.settings.miniScoreBoard.settings.active=!0,t.settings.miniScoreBoard.settings.container.style.display="block",t.activeDataRefresh()}))}})),t.isMobile()?document.body.addEventListener("touchend",(function(e){var n=e.target;t.settings.miniScoreBoard.settings.dragging||t.eventHandlers(n)})):document.body.addEventListener("click",(function(e){var n=e.target;t.eventHandlers(n)}))},this.closeEverything=function(){var t=this;t.deactivateCompetitionsAndLeaderboards((function(){t.settings.leaderboard.leaderboardData=[],setTimeout((function(){t.settings.miniScoreBoard.settings.container.style.display="none"}),200)})),t.settings.mainWidget.hide(),t.settings.mainWidget.settings.preLoader.preLoaderActive=!1},this.restart=function(){var t=this;t.settings.mainWidget.hide((function(){t.deactivateCompetitionsAndLeaderboards((function(){t.stopActivity((function(){t.loadMember((function(e){t.loadWidgetTranslations((function(){b&&clearTimeout(b),t.settings.mainWidget.destroyLayout(),b=setTimeout((function(){t.settings.miniScoreBoard.settings.active=!0,t.settings.miniScoreBoard.settings.container.style.display="block",t.startup()}),300)}))}))}))}))}))},this.isMobile=function(){return le()},this.applyAppearance=function(){var t=this;if(null!==this.settings.styles){var e=Object.keys(this.settings.styles).reduce((function(e,n){return Ee(Ee({},e),{},Ae({},"--lb3-".concat(ce(n)),t.settings.styles[n]))}),{});zt({include:"link[rel=stylesheet],style",watch:!0,onlyLegacy:!1,variables:Ee({},e)})}},this.init=function(){var t=this;this.loadStylesheet((function(){t.applyAppearance(),t.loadMember((function(e){t.loadWidgetTranslations((function(){null===t.settings.miniScoreBoard?(t.settings.canvasAnimation=new _e,t.settings.notifications=new fe({canvasInstance:t.settings.canvasAnimation}),t.settings.miniScoreBoard=new we({active:!0}),t.settings.mainWidget=new ye,t.settings.notifications.settings.lbWidget=t,t.settings.miniScoreBoard.settings.lbWidget=t,t.settings.mainWidget.settings.lbWidget=t,t.settings.canvasAnimation.settings.lbWidget=t,t.startup(),t.eventListeners()):t.settings.mainWidget.hide((function(){t.deactivateCompetitionsAndLeaderboards((function(){t.settings.miniScoreBoard.settings.active=!0,t.settings.miniScoreBoard.settings.container.style.display="block",t.startup()}))}))}))}))}))},this.settings.autoStart&&this.init()}},function(module,exports,__webpack_require__){function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}window.console||(window.console=function(){},"undefined"!=typeof XDomainRequest&&(window.console.prototype.log=function(t){throw new SyntaxError(t)},window.console.prototype.warn=function(t){throw new SyntaxError(t)},window.console.prototype.error=function(t){throw new SyntaxError(t)}));try{Event.prototype.preventDefault||(Event.prototype.preventDefault=function(){this.returnValue=!1})}catch(t){console.log(t)}try{Event.prototype.stopPropagation||(Event.prototype.stopPropagation=function(){this.cancelBubble=!0})}catch(t){console.log(t)}try{if(!Element.prototype.addEventListener){var eventListeners=[],addEventListener=function(t,e){var n,i=this;if(n=function(t){t.target=t.srcElement,t.currentTarget=i,t.pageX=event.clientX+document.body.scrollLeft,t.pageY=event.clientY+document.body.scrollTop,e.handleEvent?e.handleEvent(t):e.call(i,t)},"DOMContentLoaded"===t){var s=function(t){"complete"===document.readyState&&n(t)};if(document.attachEvent("onreadystatechange",s),eventListeners.push({object:this,type:t,listener:e,wrapper:s}),"complete"==document.readyState){var a=new Event;a.srcElement=window,s(a)}}else this.attachEvent("on"+t,n),eventListeners.push({object:this,type:t,listener:e,wrapper:n})},removeEventListener=function(t,e){for(var n=0;n<eventListeners.length;){var i=eventListeners[n];if(i.object==this&&i.type==t&&i.listener==e){"DOMContentLoaded"==t?this.detachEvent("onreadystatechange",i.wrapper):this.detachEvent("on"+t,i.wrapper);break}++n}};Element.prototype.addEventListener=addEventListener,Element.prototype.removeEventListener=removeEventListener,HTMLDocument&&(HTMLDocument.prototype.addEventListener=addEventListener,HTMLDocument.prototype.removeEventListener=removeEventListener),Window&&(Window.prototype.addEventListener=addEventListener,Window.prototype.removeEventListener=removeEventListener)}Element.prototype.remove||(Element.prototype.remove=function(){this.parentElement.removeChild(this)},NodeList.prototype.remove=HTMLCollection.prototype.remove=function(){for(var t=0,e=this.length;e>t;t++)this[t]&&this[t].parentElement&&this[t].parentElement.removeChild(this[t])})}catch(t){console.log(t)}"undefined"!=typeof XDomainRequest&&("object"!==_typeof(window.JSON)&&(window.JSON={}),function(){"use strict";function f(t){return t<10?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,(function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+t+'"'}function str(t,e){var n,i,s,a,r,o=gap,l=e[t];switch(l&&"object"===_typeof(l)&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),"function"==typeof rep&&(l=rep.call(e,t,l)),_typeof(l)){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,r=[],"[object Array]"===Object.prototype.toString.apply(l)){for(a=l.length,n=0;a>n;n+=1)r[n]=str(n,l)||"null";return s=0===r.length?"[]":gap?"[\n"+gap+r.join(",\n"+gap)+"\n"+o+"]":"["+r.join(",")+"]",gap=o,s}if(rep&&"object"===_typeof(rep))for(a=rep.length,n=0;a>n;n+=1)"string"==typeof rep[n]&&((s=str(i=rep[n],l))&&r.push(quote(i)+(gap?": ":":")+s));else for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&((s=str(i,l))&&r.push(quote(i)+(gap?": ":":")+s));return s=0===r.length?"{}":gap?"{\n"+gap+r.join(",\n"+gap)+"\n"+o+"}":"{"+r.join(",")+"}",gap=o,s}}var cx,escapable,gap,indent,meta,rep;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),"function"!=typeof window.JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},window.JSON.stringify=function(t,e,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!==_typeof(e)||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof window.JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,window.JSON.parse=function(text,reviver){function walk(t,e){var n,i,s=t[e];if(s&&"object"===_typeof(s))for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(void 0!==(i=walk(s,n))?s[n]=i:delete s[n]);return reviver.call(t,e,s)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,(function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}))),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}());var _slice=Array.prototype.slice;try{_slice.call(document.documentElement)}catch(t){Array.prototype.slice=function(t,e){if(e=void 0!==e?e:this.length,"[object Array]"===Object.prototype.toString.call(this))return _slice.call(this,t,e);var n,i,s=[],a=this.length,r=t||0,o=e||a;if(e<0&&(o=a+e),(i=o-(r=r>=0?r:a+r))>0)if(s=new Array(i),this.charAt)for(n=0;i>n;n++)s[n]=this.charAt(r+n);else for(n=0;i>n;n++)s[n]=this[r+n];return s}}!function(t){if(!("EventSource"in t)){var e=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,n=function(t){var n=this,s=500,a=null,r="";if(!t||"string"!=typeof t)throw new SyntaxError("Not enough arguments");function o(t){n._pollTimer=setTimeout((function(){l.call(n)}),t)}function l(){try{if(n.readyState===n.CLOSED)return;var t=new XMLHttpRequest;t.open("GET",n.URL,!0),t.setRequestHeader("Accept","text/event-stream"),t.setRequestHeader("Cache-Control","no-cache"),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),null!=a&&t.setRequestHeader("Last-Event-ID",a),r="",t.timeout=5e4,t.onreadystatechange=function(){if(3==this.readyState||4==this.readyState&&200==this.status){n.readyState==n.CONNECTING&&(n.readyState=n.OPEN,n.dispatchEvent("open",{type:"open"}));var t="";try{t=this.responseText||""}catch(t){}var l=t.substr(r.length).split("\n"),c="message",d=[],u=0,h="";for(r=t;u<l.length;u++)if(0===(h=l[u].replace(e,"")).indexOf("event"))c=h.replace(/event:?\s*/,"");else if(0===h.indexOf("retry")){var g=parseInt(h.replace(/retry:?\s*/,""));isNaN(g)||(s=g)}else if(0===h.indexOf("data"))d.push(h.replace(/data:?\s*/,""));else if(0===h.indexOf("id:"))a=h.replace(/id:?\s*/,"");else if(0===h.indexOf("id"))a=null;else if(""===h&&d.length){var f=new i(d.join("\n"),n.url,a);n.dispatchEvent(c,f),d=[],c="message"}4===this.readyState&&o(s)}else n.readyState!==n.CLOSED&&(4===this.readyState?(n.readyState=n.CONNECTING,n.dispatchEvent("error",{type:"error"}),o(s)):0===this.readyState&&o(s))},t.send(),setTimeout((function(){t.abort()}),t.timeout),n._xhr=t}catch(t){n.dispatchEvent("error",{type:"error",data:t.message})}}this.URL=t,this.readyState=this.CONNECTING,this._pollTimer=null,this._xhr=null,l()};n.prototype={close:function(){this.readyState=this.CLOSED,clearInterval(this._pollTimer),this._xhr.abort()},CONNECTING:0,OPEN:1,CLOSED:2,dispatchEvent:function(t,e){var n=this["_"+t+"Handlers"];if(n)for(var i=0;i<n.length;i++)n[i].call(this,e);this["on"+t]&&this["on"+t].call(this,e)},addEventListener:function(t,e){this["_"+t+"Handlers"]||(this["_"+t+"Handlers"]=[]),this["_"+t+"Handlers"].push(e)},removeEventListener:function(t,e){var n=this["_"+t+"Handlers"];if(n)for(var i=n.length-1;i>=0;--i)if(n[i]===e){n.splice(i,1);break}},onerror:null,onmessage:null,onopen:null,readyState:0,URL:""};var i=function(t,e,n){this.data=t,this.origin=e,this.lastEventId=n||""};i.prototype={data:null,type:"message",lastEventId:"",origin:""},"module"in t&&(module.exports=n),t.EventSource=n}}(window)},function(t,e,n){"use strict";var i=n(0);try{if("function"!=typeof setTimeoutGlobal){window._setTimeoutGlobalRepository=[],window.setTimeoutGlobal=function(t,e,n){var s=!1;if(Object(i.a)(window._setTimeoutGlobalRepository,(function(e,n,i){t===e.id&&(s=!0)})),s)throw new Error("setTimeoutGlobal - ID ["+t+"] already in use");var a=setTimeout((function(){Object(i.a)(window._setTimeoutGlobalRepository,(function(e,n,i){t===e.id&&window._setTimeoutGlobalRepository.splice(n,1)})),"function"==typeof e&&e()}),n);return window._setTimeoutGlobalRepository.push({id:t,func:e,timer:n,interval:a}),a};!function(){var t="hidden";function e(e){var n="",s="visible",a="hidden",r={focus:s,focusin:s,pageshow:s,blur:a,focusout:a,pagehide:a};"visible"===(n=(e=e||window.event).type in r?r[e.type]:this[t]?"hidden":"visible")?function(){if(window._setTimeoutGlobalRepository.length>0){var t=[];Object(i.a)(window._setTimeoutGlobalRepository,(function(e,n,i){t.push(e)})),window._setTimeoutGlobalRepository=[],Object(i.a)(t,(function(t,e,n){window.setTimeoutGlobal(t.id,t.func,t.timer)}))}}():"hidden"===n&&window._setTimeoutGlobalRepository.length>0&&Object(i.a)(window._setTimeoutGlobalRepository,(function(t,e,n){t.interval&&(clearInterval(t.interval),t.interval=null)}))}t in document?document.addEventListener("visibilitychange",e):(t="mozHidden")in document?document.addEventListener("mozvisibilitychange",e):(t="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",e):(t="msHidden")in document?document.addEventListener("msvisibilitychange",e):"onfocusin"in document?document.onfocusin=document.onfocusout=e:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=e,void 0!==document[t]&&e({type:document[t]?"blur":"focus"})}()}}catch(t){console.log(t)}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var i=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",r=i.toStringTag||"@@toStringTag";function o(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{o({},"")}catch(t){o=function(t,e,n){return t[e]=n}}function l(t,e,n,i){var s=e&&e.prototype instanceof u?e:u,a=Object.create(s.prototype),r=new S(i||[]);return a._invoke=function(t,e,n){var i="suspendedStart";return function(s,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===s)throw a;return A()}for(n.method=s,n.arg=a;;){var r=n.delegate;if(r){var o=y(r,n);if(o){if(o===d)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=c(t,e,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}(t,n,r),a}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var d={};function u(){}function h(){}function g(){}var f={};o(f,s,(function(){return this}));var m=Object.getPrototypeOf,p=m&&m(m(E([])));p&&p!==e&&n.call(p,s)&&(f=p);var v=g.prototype=u.prototype=Object.create(f);function b(t){["next","throw","return"].forEach((function(e){o(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var i;this._invoke=function(s,a){function r(){return new e((function(i,r){!function i(s,a,r,o){var l=c(t[s],t,a);if("throw"!==l.type){var d=l.arg,u=d.value;return u&&"object"==typeof u&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){i("next",t,r,o)}),(function(t){i("throw",t,r,o)})):e.resolve(u).then((function(t){d.value=t,r(d)}),(function(t){return i("throw",t,r,o)}))}o(l.arg)}(s,a,i,r)}))}return i=i?i.then(r,r):r()}}function y(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,y(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=c(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var s=i.arg;return s?s.done?(e[t.resultName]=s.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):s:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function E(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=g,o(v,"constructor",g),o(g,"constructor",h),h.displayName=o(g,r,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,o(t,r,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},b(w.prototype),o(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,i,s,a){void 0===a&&(a=Promise);var r=new w(l(e,n,i,s),a);return t.isGeneratorFunction(n)?r:r.next().then((function(t){return t.done?t.value:r.next()}))},b(v),o(v,r,"Generator"),o(v,s,(function(){return this})),o(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=E,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return r.type="throw",r.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var s=this.tryEntries.length-1;s>=0;--s){var a=this.tryEntries[s],r=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var o=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(o&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(o){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i];if(s.tryLoc<=this.prev&&n.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var a=s;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=t,r.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var s=i.arg;_(n)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}(t.exports);try{regeneratorRuntime=i}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var i=n(18),s=n(19),a=n(20);function r(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}return c(this,t,e,n)}function c(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i);l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=h(t,e);return t}(t,e,n,i):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|f(e,n),s=(t=o(t,i)).write(e,n);s!==i&&(t=t.slice(0,s));return t}(t,e,n):function(t,e){if(l.isBuffer(e)){var n=0|g(e.length);return 0===(t=o(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(i=e.length)!=i?o(t,0):h(t,e);if("Buffer"===e.type&&a(e.data))return h(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function d(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e){if(d(e),t=o(t,e<0?0:0|g(e)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e){var n=e.length<0?0:0|g(e.length);t=o(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function g(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function f(t,e){if(l.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return j(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(t).length;default:if(i)return j(t).length;e=(""+e).toLowerCase(),i=!0}}function m(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return M(this,e,n);case"utf8":case"utf-8":return T(this,e,n);case"ascii":return k(this,e,n);case"latin1":case"binary":return L(this,e,n);case"base64":return A(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function p(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function v(t,e,n,i,s){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=s?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(s)return-1;n=t.length-1}else if(n<0){if(!s)return-1;n=0}if("string"==typeof e&&(e=l.from(e,i)),l.isBuffer(e))return 0===e.length?-1:b(t,e,n,i,s);if("number"==typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):b(t,[e],n,i,s);throw new TypeError("val must be string, number or Buffer")}function b(t,e,n,i,s){var a,r=1,o=t.length,l=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;r=2,o/=2,l/=2,n/=2}function c(t,e){return 1===r?t[e]:t.readUInt16BE(e*r)}if(s){var d=-1;for(a=n;a<o;a++)if(c(t,a)===c(e,-1===d?0:a-d)){if(-1===d&&(d=a),a-d+1===l)return d*r}else-1!==d&&(a-=a-d),d=-1}else for(n+l>o&&(n=o-l),a=n;a>=0;a--){for(var u=!0,h=0;h<l;h++)if(c(t,a+h)!==c(e,h)){u=!1;break}if(u)return a}return-1}function w(t,e,n,i){n=Number(n)||0;var s=t.length-n;i?(i=Number(i))>s&&(i=s):i=s;var a=e.length;if(a%2!=0)throw new TypeError("Invalid hex string");i>a/2&&(i=a/2);for(var r=0;r<i;++r){var o=parseInt(e.substr(2*r,2),16);if(isNaN(o))return r;t[n+r]=o}return r}function y(t,e,n,i){return B(j(e,t.length-n),t,n,i)}function C(t,e,n,i){return B(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function _(t,e,n,i){return C(t,e,n,i)}function S(t,e,n,i){return B(F(e),t,n,i)}function E(t,e,n,i){return B(function(t,e){for(var n,i,s,a=[],r=0;r<t.length&&!((e-=2)<0);++r)n=t.charCodeAt(r),i=n>>8,s=n%256,a.push(s),a.push(i);return a}(e,t.length-n),t,n,i)}function A(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function T(t,e,n){n=Math.min(t.length,n);for(var i=[],s=e;s<n;){var a,r,o,l,c=t[s],d=null,u=c>239?4:c>223?3:c>191?2:1;if(s+u<=n)switch(u){case 1:c<128&&(d=c);break;case 2:128==(192&(a=t[s+1]))&&(l=(31&c)<<6|63&a)>127&&(d=l);break;case 3:a=t[s+1],r=t[s+2],128==(192&a)&&128==(192&r)&&(l=(15&c)<<12|(63&a)<<6|63&r)>2047&&(l<55296||l>57343)&&(d=l);break;case 4:a=t[s+1],r=t[s+2],o=t[s+3],128==(192&a)&&128==(192&r)&&128==(192&o)&&(l=(15&c)<<18|(63&a)<<12|(63&r)<<6|63&o)>65535&&l<1114112&&(d=l)}null===d?(d=65533,u=1):d>65535&&(d-=65536,i.push(d>>>10&1023|55296),d=56320|1023&d),i.push(d),s+=u}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=4096));return n}(i)}e.Buffer=l,e.SlowBuffer=function(t){+t!=t&&(t=0);return l.alloc(+t)},e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=r(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,n){return c(null,t,e,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,n){return function(t,e,n,i){return d(e),e<=0?o(t,e):void 0!==n?"string"==typeof i?o(t,e).fill(n,i):o(t,e).fill(n):o(t,e)}(null,t,e,n)},l.allocUnsafe=function(t){return u(null,t)},l.allocUnsafeSlow=function(t){return u(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,s=0,a=Math.min(n,i);s<a;++s)if(t[s]!==e[s]){n=t[s],i=e[s];break}return n<i?-1:i<n?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!a(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=l.allocUnsafe(e),s=0;for(n=0;n<t.length;++n){var r=t[n];if(!l.isBuffer(r))throw new TypeError('"list" argument must be an Array of Buffers');r.copy(i,s),s+=r.length}return i},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)p(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)p(this,e,e+3),p(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)p(this,e,e+7),p(this,e+1,e+6),p(this,e+2,e+5),p(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?T(this,0,t):m.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,n,i,s){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===s&&(s=this.length),e<0||n>t.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&e>=n)return 0;if(i>=s)return-1;if(e>=n)return 1;if(this===t)return 0;for(var a=(s>>>=0)-(i>>>=0),r=(n>>>=0)-(e>>>=0),o=Math.min(a,r),c=this.slice(i,s),d=t.slice(e,n),u=0;u<o;++u)if(c[u]!==d[u]){a=c[u],r=d[u];break}return a<r?-1:r<a?1:0},l.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},l.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},l.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},l.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var s=this.length-e;if((void 0===n||n>s)&&(n=s),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return y(this,t,e,n);case"ascii":return C(this,t,e,n);case"latin1":case"binary":return _(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function k(t,e,n){var i="";n=Math.min(t.length,n);for(var s=e;s<n;++s)i+=String.fromCharCode(127&t[s]);return i}function L(t,e,n){var i="";n=Math.min(t.length,n);for(var s=e;s<n;++s)i+=String.fromCharCode(t[s]);return i}function M(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var s="",a=e;a<n;++a)s+=N(t[a]);return s}function x(t,e,n){for(var i=t.slice(e,n),s="",a=0;a<i.length;a+=2)s+=String.fromCharCode(i[a]+256*i[a+1]);return s}function D(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function I(t,e,n,i,s,a){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>s||e<a)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function O(t,e,n,i){e<0&&(e=65535+e+1);for(var s=0,a=Math.min(t.length-n,2);s<a;++s)t[n+s]=(e&255<<8*(i?s:1-s))>>>8*(i?s:1-s)}function R(t,e,n,i){e<0&&(e=4294967295+e+1);for(var s=0,a=Math.min(t.length-n,4);s<a;++s)t[n+s]=e>>>8*(i?s:3-s)&255}function W(t,e,n,i,s,a){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(t,e,n,i,a){return a||W(t,0,n,4),s.write(t,e,n,i,23,4),n+4}function H(t,e,n,i,a){return a||W(t,0,n,8),s.write(t,e,n,i,52,8),n+8}l.prototype.slice=function(t,e){var n,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=l.prototype;else{var s=e-t;n=new l(s,void 0);for(var a=0;a<s;++a)n[a]=this[a+t]}return n},l.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var i=this[t],s=1,a=0;++a<e&&(s*=256);)i+=this[t+a]*s;return i},l.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var i=this[t+--e],s=1;e>0&&(s*=256);)i+=this[t+--e]*s;return i},l.prototype.readUInt8=function(t,e){return e||D(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||D(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||D(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||D(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var i=this[t],s=1,a=0;++a<e&&(s*=256);)i+=this[t+a]*s;return i>=(s*=128)&&(i-=Math.pow(2,8*e)),i},l.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var i=e,s=1,a=this[t+--i];i>0&&(s*=256);)a+=this[t+--i]*s;return a>=(s*=128)&&(a-=Math.pow(2,8*e)),a},l.prototype.readInt8=function(t,e){return e||D(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||D(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(t,e){e||D(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(t,e){return e||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||D(t,4,this.length),s.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||D(t,4,this.length),s.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||D(t,8,this.length),s.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||D(t,8,this.length),s.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||I(this,t,e,n,Math.pow(2,8*n)-1,0);var s=1,a=0;for(this[e]=255&t;++a<n&&(s*=256);)this[e+a]=t/s&255;return e+n},l.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||I(this,t,e,n,Math.pow(2,8*n)-1,0);var s=n-1,a=1;for(this[e+s]=255&t;--s>=0&&(a*=256);)this[e+s]=t/a&255;return e+n},l.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):R(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var s=Math.pow(2,8*n-1);I(this,t,e,n,s-1,-s)}var a=0,r=1,o=0;for(this[e]=255&t;++a<n&&(r*=256);)t<0&&0===o&&0!==this[e+a-1]&&(o=1),this[e+a]=(t/r>>0)-o&255;return e+n},l.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var s=Math.pow(2,8*n-1);I(this,t,e,n,s-1,-s)}var a=n-1,r=1,o=0;for(this[e+a]=255&t;--a>=0&&(r*=256);)t<0&&0===o&&0!==this[e+a+1]&&(o=1),this[e+a]=(t/r>>0)-o&255;return e+n},l.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):R(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,n){return P(this,t,e,!0,n)},l.prototype.writeFloatBE=function(t,e,n){return P(this,t,e,!1,n)},l.prototype.writeDoubleLE=function(t,e,n){return H(this,t,e,!0,n)},l.prototype.writeDoubleBE=function(t,e,n){return H(this,t,e,!1,n)},l.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var s,a=i-n;if(this===t&&n<e&&e<i)for(s=a-1;s>=0;--s)t[s+e]=this[s+n];else if(a<1e3||!l.TYPED_ARRAY_SUPPORT)for(s=0;s<a;++s)t[s+e]=this[s+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+a),e);return a},l.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var s=t.charCodeAt(0);s<256&&(t=s)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var a;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(a=e;a<n;++a)this[a]=t;else{var r=l.isBuffer(t)?t:j(new l(t,i).toString()),o=r.length;for(a=0;a<n-e;++a)this[a+e]=r[a%o]}return this};var Y=/[^+\/0-9A-Za-z-_]/g;function N(t){return t<16?"0"+t.toString(16):t.toString(16)}function j(t,e){var n;e=e||1/0;for(var i=t.length,s=null,a=[],r=0;r<i;++r){if((n=t.charCodeAt(r))>55295&&n<57344){if(!s){if(n>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(r+1===i){(e-=3)>-1&&a.push(239,191,189);continue}s=n;continue}if(n<56320){(e-=3)>-1&&a.push(239,191,189),s=n;continue}n=65536+(s-55296<<10|n-56320)}else s&&(e-=3)>-1&&a.push(239,191,189);if(s=null,n<128){if((e-=1)<0)break;a.push(n)}else if(n<2048){if((e-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function F(t){return i.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(Y,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function B(t,e,n,i){for(var s=0;s<i&&!(s+n>=e.length||s>=t.length);++s)e[s+n]=t[s];return s}}).call(this,n(6))},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],i=e[1];return 3*(n+i)/4-i},e.toByteArray=function(t){var e,n,i=c(t),r=i[0],o=i[1],l=new a(function(t,e,n){return 3*(e+n)/4-n}(0,r,o)),d=0,u=o>0?r-4:r;for(n=0;n<u;n+=4)e=s[t.charCodeAt(n)]<<18|s[t.charCodeAt(n+1)]<<12|s[t.charCodeAt(n+2)]<<6|s[t.charCodeAt(n+3)],l[d++]=e>>16&255,l[d++]=e>>8&255,l[d++]=255&e;2===o&&(e=s[t.charCodeAt(n)]<<2|s[t.charCodeAt(n+1)]>>4,l[d++]=255&e);1===o&&(e=s[t.charCodeAt(n)]<<10|s[t.charCodeAt(n+1)]<<4|s[t.charCodeAt(n+2)]>>2,l[d++]=e>>8&255,l[d++]=255&e);return l},e.fromByteArray=function(t){for(var e,n=t.length,s=n%3,a=[],r=0,o=n-s;r<o;r+=16383)a.push(d(t,r,r+16383>o?o:r+16383));1===s?(e=t[n-1],a.push(i[e>>2]+i[e<<4&63]+"==")):2===s&&(e=(t[n-2]<<8)+t[n-1],a.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"="));return a.join("")};for(var i=[],s=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,l=r.length;o<l;++o)i[o]=r[o],s[r.charCodeAt(o)]=o;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function d(t,e,n){for(var s,a,r=[],o=e;o<n;o+=3)s=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),r.push(i[(a=s)>>18&63]+i[a>>12&63]+i[a>>6&63]+i[63&a]);return r.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,n,i,s){var a,r,o=8*s-i-1,l=(1<<o)-1,c=l>>1,d=-7,u=n?s-1:0,h=n?-1:1,g=t[e+u];for(u+=h,a=g&(1<<-d)-1,g>>=-d,d+=o;d>0;a=256*a+t[e+u],u+=h,d-=8);for(r=a&(1<<-d)-1,a>>=-d,d+=i;d>0;r=256*r+t[e+u],u+=h,d-=8);if(0===a)a=1-c;else{if(a===l)return r?NaN:1/0*(g?-1:1);r+=Math.pow(2,i),a-=c}return(g?-1:1)*r*Math.pow(2,a-i)},e.write=function(t,e,n,i,s,a){var r,o,l,c=8*a-s-1,d=(1<<c)-1,u=d>>1,h=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,g=i?0:a-1,f=i?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,r=d):(r=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-r))<1&&(r--,l*=2),(e+=r+u>=1?h/l:h*Math.pow(2,1-u))*l>=2&&(r++,l/=2),r+u>=d?(o=0,r=d):r+u>=1?(o=(e*l-1)*Math.pow(2,s),r+=u):(o=e*Math.pow(2,u-1)*Math.pow(2,s),r=0));s>=8;t[n+g]=255&o,g+=f,o/=256,s-=8);for(r=r<<s|o,c+=s;c>0;t[n+g]=255&r,g+=f,r/=256,c-=8);t[n+g-f]|=128*m}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){
/**
* A handy class to calculate color values.
*
* @version 1.0
* @author Robert Eisele <robert@xarg.org>
* @copyright Copyright (c) 2010, Robert Eisele
* @link http://www.xarg.org/2010/03/generate-client-side-png-files-using-javascript/
* @license http://www.opensource.org/licenses/bsd-license.php BSD License
*
*/
!function(){function e(t,e){for(var n=2;n<arguments.length;n++)for(var i=0;i<arguments[n].length;i++)t[e++]=arguments[n].charAt(i)}function n(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)}function i(t){return String.fromCharCode(255&t,t>>8&255)}var s=function(t,s,a){this.width=t,this.height=s,this.depth=a,this.pix_size=s*(t+1),this.data_size=2+this.pix_size+5*Math.floor((65534+this.pix_size)/65535)+4,this.ihdr_offs=0,this.ihdr_size=25,this.plte_offs=this.ihdr_offs+this.ihdr_size,this.plte_size=8+3*a+4,this.trns_offs=this.plte_offs+this.plte_size,this.trns_size=8+a+4,this.idat_offs=this.trns_offs+this.trns_size,this.idat_size=8+this.data_size+4,this.iend_offs=this.idat_offs+this.idat_size,this.iend_size=12,this.buffer_size=this.iend_offs+this.iend_size,this.buffer=new Array,this.palette=new Object,this.pindex=0;for(var r=new Array,o=0;o<this.buffer_size;o++)this.buffer[o]="\0";e(this.buffer,this.ihdr_offs,n(this.ihdr_size-12),"IHDR",n(t),n(s),"\b"),e(this.buffer,this.plte_offs,n(this.plte_size-12),"PLTE"),e(this.buffer,this.trns_offs,n(this.trns_size-12),"tRNS"),e(this.buffer,this.idat_offs,n(this.idat_size-12),"IDAT"),e(this.buffer,this.iend_offs,n(this.iend_size-12),"IEND");var l,c=30912;c+=31-c%31,e(this.buffer,this.idat_offs+8,(l=c,String.fromCharCode(l>>8&255,255&l)));for(o=0;(o<<16)-1<this.pix_size;o++){var d,u;o+65535<this.pix_size?(d=65535,u="\0"):(d=this.pix_size-(o<<16)-o,u=""),e(this.buffer,this.idat_offs+8+2+(o<<16)+(o<<2),u,i(d),i(~d))}for(o=0;o<256;o++){for(var h=o,g=0;g<8;g++)h=1&h?-306674912^h>>1&2147483647:h>>1&2147483647;r[o]=h}this.index=function(t,e){var n=e*(this.width+1)+t+1;return this.idat_offs+8+2+5*Math.floor(n/65535+1)+n},this.color=function(t,e,n,i){var s=(((i=i>=0?i:255)<<8|t)<<8|e)<<8|n;if(void 0===this.palette[s]){if(this.pindex==this.depth)return"\0";var a=this.plte_offs+8+3*this.pindex;this.buffer[a+0]=String.fromCharCode(t),this.buffer[a+1]=String.fromCharCode(e),this.buffer[a+2]=String.fromCharCode(n),this.buffer[this.trns_offs+8+this.pindex]=String.fromCharCode(i),this.palette[s]=String.fromCharCode(this.pindex++)}return this.palette[s]},this.getBase64=function(){var t,e,n,i,s,a,r,o=this.getDump(),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=o.length,d=0,u="";do{i=(t=o.charCodeAt(d))>>2,s=(3&t)<<4|(e=o.charCodeAt(d+1))>>4,n=o.charCodeAt(d+2),a=c<d+2?64:(15&e)<<2|n>>6,r=c<d+3?64:63&n,u+=l.charAt(i)+l.charAt(s)+l.charAt(a)+l.charAt(r)}while((d+=3)<c);return u},this.getDump=function(){for(var t=1,i=0,s=5552,a=0;a<this.height;a++)for(var o=-1;o<this.width;o++)i+=t+=this.buffer[this.index(o,a)].charCodeAt(0),0==(s-=1)&&(t%=65521,i%=65521,s=5552);function l(t,i,s){for(var a=-1,o=4;o<s-4;o+=1)a=r[255&(a^t[i+o].charCodeAt(0))]^a>>8&16777215;e(t,i+s-4,n(-1^a))}return t%=65521,i%=65521,e(this.buffer,this.idat_offs+this.idat_size-8,n(i<<16|t)),l(this.buffer,this.ihdr_offs,this.ihdr_size),l(this.buffer,this.plte_offs,this.plte_size),l(this.buffer,this.trns_offs,this.trns_size),l(this.buffer,this.idat_offs,this.idat_size),l(this.buffer,this.iend_offs,this.iend_size),"PNG\r\n\n"+this.buffer.join("")}};void 0!==t.exports?t.exports=s:window.PNGlib=s}()},function(t,e,n){var i=n(23);t.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,s){return'<div class="cl-widget-ms-icon-wrapper mf">\n    <div class="cl-widget-ms-icon"></div>\n</div>\n<div class="cl-widget-ms-information-top-wrapper">\n    <div class="cl-widget-ms-information-wrapper">\n        <div class="cl-widget-ms-information-close-wrapper">\n            <a class="cl-widget-ms-information-close" href="javascript:void(0);">x</a>\n        </div>\n    </div>\n</div>'},useData:!0})},function(t,e,n){t.exports=n(24).default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}e.__esModule=!0;var a=s(n(7)),r=i(n(35)),o=i(n(4)),l=s(n(2)),c=s(n(36)),d=i(n(38));function u(){var t=new a.HandlebarsEnvironment;return l.extend(t,a),t.SafeString=r.default,t.Exception=o.default,t.Utils=l,t.escapeExpression=l.escapeExpression,t.VM=c,t.template=function(e){return c.template(e,t)},t}var h=u();h.create=u,d.default(h),h.default=h,e.default=h,t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var i=n(2);e.default=function(t){t.registerHelper("blockHelperMissing",(function(e,n){var s=n.inverse,a=n.fn;if(!0===e)return a(this);if(!1===e||null==e)return s(this);if(i.isArray(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):s(this);if(n.data&&n.ids){var r=i.createFrame(n.data);r.contextPath=i.appendContextPath(n.data.contextPath,n.name),n={data:r}}return a(e,n)}))},t.exports=e.default},function(t,e,n){"use strict";(function(i){e.__esModule=!0;var s,a=n(2),r=n(4),o=(s=r)&&s.__esModule?s:{default:s};e.default=function(t){t.registerHelper("each",(function(t,e){if(!e)throw new o.default("Must pass iterator to #each");var n,s=e.fn,r=e.inverse,l=0,c="",d=void 0,u=void 0;function h(e,n,i){d&&(d.key=e,d.index=n,d.first=0===n,d.last=!!i,u&&(d.contextPath=u+e)),c+=s(t[e],{data:d,blockParams:a.blockParams([t[e],e],[u+e,null])})}if(e.data&&e.ids&&(u=a.appendContextPath(e.data.contextPath,e.ids[0])+"."),a.isFunction(t)&&(t=t.call(this)),e.data&&(d=a.createFrame(e.data)),t&&"object"==typeof t)if(a.isArray(t))for(var g=t.length;l<g;l++)l in t&&h(l,l,l===t.length-1);else if(i.Symbol&&t[i.Symbol.iterator]){for(var f=[],m=t[i.Symbol.iterator](),p=m.next();!p.done;p=m.next())f.push(p.value);for(g=(t=f).length;l<g;l++)h(l,l,l===t.length-1)}else n=void 0,Object.keys(t).forEach((function(t){void 0!==n&&h(n,l-1),n=t,l++})),void 0!==n&&h(n,l-1,!0);return 0===l&&(c=r(this)),c}))},t.exports=e.default}).call(this,n(6))},function(t,e,n){"use strict";e.__esModule=!0;var i,s=n(4),a=(i=s)&&i.__esModule?i:{default:i};e.default=function(t){t.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new a.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var i,s=n(2),a=n(4),r=(i=a)&&i.__esModule?i:{default:i};e.default=function(t){t.registerHelper("if",(function(t,e){if(2!=arguments.length)throw new r.default("#if requires exactly one argument");return s.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||s.isEmpty(t)?e.inverse(this):e.fn(this)})),t.registerHelper("unless",(function(e,n){if(2!=arguments.length)throw new r.default("#unless requires exactly one argument");return t.helpers.if.call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})}))},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("log",(function(){for(var e=[void 0],n=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)e.push(arguments[i]);var s=1;null!=n.hash.level?s=n.hash.level:n.data&&null!=n.data.level&&(s=n.data.level),e[0]=s,t.log.apply(t,e)}))},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",(function(t,e,n){return t?n.lookupProperty(t,e):t}))},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var i,s=n(2),a=n(4),r=(i=a)&&i.__esModule?i:{default:i};e.default=function(t){t.registerHelper("with",(function(t,e){if(2!=arguments.length)throw new r.default("#with requires exactly one argument");s.isFunction(t)&&(t=t.call(this));var n=e.fn;if(s.isEmpty(t))return e.inverse(this);var i=e.data;return e.data&&e.ids&&((i=s.createFrame(e.data)).contextPath=s.appendContextPath(e.data.contextPath,e.ids[0])),n(t,{data:i,blockParams:s.blockParams([t],[i&&i.contextPath])})}))},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.registerDefaultDecorators=function(t){a.default(t)};var i,s=n(33),a=(i=s)&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";e.__esModule=!0;var i=n(2);e.default=function(t){t.registerDecorator("inline",(function(t,e,n,s){var a=t;return e.partials||(e.partials={},a=function(s,a){var r=n.partials;n.partials=i.extend({},r,e.partials);var o=t(s,a);return n.partials=r,o}),e.partials[s.args[0]]=s.fn,a}))},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.createNewLookupObject=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.extend.apply(void 0,[Object.create(null)].concat(e))};var i=n(2)},function(t,e,n){"use strict";function i(t){this.string=t}e.__esModule=!0,i.prototype.toString=i.prototype.toHTML=function(){return""+this.string},e.default=i,t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.checkRevision=function(t){var e=t&&t[0]||1,n=o.COMPILER_REVISION;if(e>=o.LAST_COMPATIBLE_COMPILER_REVISION&&e<=o.COMPILER_REVISION)return;if(e<o.LAST_COMPATIBLE_COMPILER_REVISION){var i=o.REVISION_CHANGES[n],s=o.REVISION_CHANGES[e];throw new r.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+s+").")}throw new r.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")},e.template=function(t,e){if(!e)throw new r.default("No environment passed to template");if(!t||!t.main)throw new r.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var n=t.compiler&&7===t.compiler[0];var i={strict:function(t,e,n){if(!t||!(e in t))throw new r.default('"'+e+'" not defined in '+t,{loc:n});return i.lookupProperty(t,e)},lookupProperty:function(t,e){var n=t[e];return null==n||Object.prototype.hasOwnProperty.call(t,e)||d.resultIsAllowed(n,i.protoAccessControl,e)?n:void 0},lookup:function(t,e){for(var n=t.length,s=0;s<n;s++){if(null!=(t[s]&&i.lookupProperty(t[s],e)))return t[s][e]}},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:s.escapeExpression,invokePartial:function(n,i,a){a.hash&&(i=s.extend({},i,a.hash),a.ids&&(a.ids[0]=!0)),n=e.VM.resolvePartial.call(this,n,i,a);var o=s.extend({},a,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),l=e.VM.invokePartial.call(this,n,i,o);if(null==l&&e.compile&&(a.partials[a.name]=e.compile(n,t.compilerOptions,e),l=a.partials[a.name](i,o)),null!=l){if(a.indent){for(var c=l.split("\n"),d=0,u=c.length;d<u&&(c[d]||d+1!==u);d++)c[d]=a.indent+c[d];l=c.join("\n")}return l}throw new r.default("The partial "+a.name+" could not be compiled when running in runtime-only mode")},fn:function(e){var n=t[e];return n.decorator=t[e+"_d"],n},programs:[],program:function(t,e,n,i,s){var a=this.programs[t],r=this.fn(t);return e||s||i||n?a=u(this,t,r,e,n,i,s):a||(a=this.programs[t]=u(this,t,r)),a},data:function(t,e){for(;t&&e--;)t=t._parent;return t},mergeIfNeeded:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=s.extend({},e,t)),n},nullContext:Object.seal({}),noop:e.VM.noop,compilerInfo:t.compiler};function a(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=n.data;a._setup(n),!n.partial&&t.useData&&(s=g(e,s));var r=void 0,o=t.useBlockParams?[]:void 0;function l(e){return""+t.main(i,e,i.helpers,i.partials,s,o,r)}return t.useDepths&&(r=n.depths?e!=n.depths[0]?[e].concat(n.depths):n.depths:[e]),(l=f(t.main,l,i,n.depths||[],s,o))(e,n)}return a.isTop=!0,a._setup=function(a){if(a.partial)i.protoAccessControl=a.protoAccessControl,i.helpers=a.helpers,i.partials=a.partials,i.decorators=a.decorators,i.hooks=a.hooks;else{var r=s.extend({},e.helpers,a.helpers);!function(t,e){Object.keys(t).forEach((function(n){var i=t[n];t[n]=function(t,e){var n=e.lookupProperty;return c.wrapHelper(t,(function(t){return s.extend({lookupProperty:n},t)}))}(i,e)}))}(r,i),i.helpers=r,t.usePartial&&(i.partials=i.mergeIfNeeded(a.partials,e.partials)),(t.usePartial||t.useDecorators)&&(i.decorators=s.extend({},e.decorators,a.decorators)),i.hooks={},i.protoAccessControl=d.createProtoAccessControl(a);var o=a.allowCallsToHelperMissing||n;l.moveHelperToHooks(i,"helperMissing",o),l.moveHelperToHooks(i,"blockHelperMissing",o)}},a._child=function(e,n,s,a){if(t.useBlockParams&&!s)throw new r.default("must pass block params");if(t.useDepths&&!a)throw new r.default("must pass parent depths");return u(i,e,t[e],n,0,s,a)},a},e.wrapProgram=u,e.resolvePartial=function(t,e,n){t?t.call||n.name||(n.name=t,t=n.partials[t]):t="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name];return t},e.invokePartial=function(t,e,n){var i=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var a=void 0;n.fn&&n.fn!==h&&function(){n.data=o.createFrame(n.data);var t=n.fn;a=n.data["partial-block"]=function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=o.createFrame(n.data),n.data["partial-block"]=i,t(e,n)},t.partials&&(n.partials=s.extend({},n.partials,t.partials))}();void 0===t&&a&&(t=a);if(void 0===t)throw new r.default("The partial "+n.name+" could not be found");if(t instanceof Function)return t(e,n)},e.noop=h;var i,s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(2)),a=n(4),r=(i=a)&&i.__esModule?i:{default:i},o=n(7),l=n(8),c=n(37),d=n(10);function u(t,e,n,i,s,a,r){function o(e){var s=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=r;return!r||e==r[0]||e===t.nullContext&&null===r[0]||(o=[e].concat(r)),n(t,e,t.helpers,t.partials,s.data||i,a&&[s.blockParams].concat(a),o)}return(o=f(n,o,t,r,i,a)).program=e,o.depth=r?r.length:0,o.blockParams=s||0,o}function h(){return""}function g(t,e){return e&&"root"in e||((e=e?o.createFrame(e):{}).root=t),e}function f(t,e,n,i,a,r){if(t.decorator){var o={};e=t.decorator(e,o,n,i&&i[0],a,r,i),s.extend(e,o)}return e}},function(t,e,n){"use strict";e.__esModule=!0,e.wrapHelper=function(t,e){if("function"!=typeof t)return t;return function(){var n=arguments[arguments.length-1];return arguments[arguments.length-1]=e(n),t.apply(this,arguments)}}},function(t,e,n){"use strict";(function(n){e.__esModule=!0,e.default=function(t){var e=void 0!==n?n:window,i=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=i),t}},t.exports=e.default}).call(this,n(6))},function(t){t.exports=JSON.parse('{"time":{"days":"d","hours":"h","minutesShortHand":"min","minutes":"m","seconds":"s"},"achievements":{"label":"Achievements","more":"More","complete":"complete 100%"},"tournaments":{"label":"Tournaments","enter":"Enter Tournament","readyCompetitions":"Upcoming Tournaments","activeCompetitions":"Active Tournaments","finishedCompetitions":"Finished Tournaments","finishing":"Finishing","finished":"Finished","registered":"Registered","noAvailableCompetitions":"No available competition"},"leaderboard":{"rank":"Rank","name":"Name","points":"Points","prize":"Prize","you":"You"},"miniLeaderboard":{"highScore":"High Score","lastScore":"Last Score","rank":"Rank","startsIn":"Starting In","started":"started","starting":"starting","finishing":"finishing","finished":"finished"},"rewards":{"label":"Rewards","claim":"Claim Now","claimed":"Claimed","availableRewards":"Available Rewards","rewards":"Claimed Rewards","expiredRewards":"Expired Rewards"},"messages":{"label":"Messages"},"global":{"copy":"Powered By Ziqni"}}')},function(t,e,n){n(41),t.exports=n(42)},function(t,e,n){"use strict";n.r(e);n(13),n(14);var i=n(12);void 0===window._CLLBV3Opt&&(window._CLLBV3Opt={autoStart:!1}),void 0===window._clLeaderBoardV3?window._clLeaderBoardV3=new i.a(window._CLLBV3Opt):console.warn("window._clLeaderBoardV3 is already defined, widget is configured to run as a single instance")},function(t,e,n){"use strict";n.r(e),e.default=n.p+"../css/theme/cl-style-1-light-theme.css"}]);
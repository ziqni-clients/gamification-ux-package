/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 1);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/ansi-html/index.js":
/*!*****************************************!*\
  !*** ./node_modules/ansi-html/index.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = ansiHTML

// Reference to https://github.com/sindresorhus/ansi-regex
var _regANSI = /(?:(?:\u001b\[)|\u009b)(?:(?:[0-9]{1,3})?(?:(?:;[0-9]{0,3})*)?[A-M|f-m])|\u001b[A-M]/

var _defColors = {
  reset: ['fff', '000'], // [FOREGROUD_COLOR, BACKGROUND_COLOR]
  black: '000',
  red: 'ff0000',
  green: '209805',
  yellow: 'e8bf03',
  blue: '0000ff',
  magenta: 'ff00ff',
  cyan: '00ffee',
  lightgrey: 'f0f0f0',
  darkgrey: '888'
}
var _styles = {
  30: 'black',
  31: 'red',
  32: 'green',
  33: 'yellow',
  34: 'blue',
  35: 'magenta',
  36: 'cyan',
  37: 'lightgrey'
}
var _openTags = {
  '1': 'font-weight:bold', // bold
  '2': 'opacity:0.5', // dim
  '3': '<i>', // italic
  '4': '<u>', // underscore
  '8': 'display:none', // hidden
  '9': '<del>' // delete
}
var _closeTags = {
  '23': '</i>', // reset italic
  '24': '</u>', // reset underscore
  '29': '</del>' // reset delete
}

;[0, 21, 22, 27, 28, 39, 49].forEach(function (n) {
  _closeTags[n] = '</span>'
})

/**
 * Converts text with ANSI color codes to HTML markup.
 * @param {String} text
 * @returns {*}
 */
function ansiHTML (text) {
  // Returns the text if the string has no ANSI escape code.
  if (!_regANSI.test(text)) {
    return text
  }

  // Cache opened sequence.
  var ansiCodes = []
  // Replace with markup.
  var ret = text.replace(/\033\[(\d+)*m/g, function (match, seq) {
    var ot = _openTags[seq]
    if (ot) {
      // If current sequence has been opened, close it.
      if (!!~ansiCodes.indexOf(seq)) { // eslint-disable-line no-extra-boolean-cast
        ansiCodes.pop()
        return '</span>'
      }
      // Open tag.
      ansiCodes.push(seq)
      return ot[0] === '<' ? ot : '<span style="' + ot + ';">'
    }

    var ct = _closeTags[seq]
    if (ct) {
      // Pop sequence
      ansiCodes.pop()
      return ct
    }
    return ''
  })

  // Make sure tags are closed.
  var l = ansiCodes.length
  ;(l > 0) && (ret += Array(l + 1).join('</span>'))

  return ret
}

/**
 * Customize colors.
 * @param {Object} colors reference to _defColors
 */
ansiHTML.setColors = function (colors) {
  if (typeof colors !== 'object') {
    throw new Error('`colors` parameter must be an Object.')
  }

  var _finalColors = {}
  for (var key in _defColors) {
    var hex = colors.hasOwnProperty(key) ? colors[key] : null
    if (!hex) {
      _finalColors[key] = _defColors[key]
      continue
    }
    if ('reset' === key) {
      if (typeof hex === 'string') {
        hex = [hex]
      }
      if (!Array.isArray(hex) || hex.length === 0 || hex.some(function (h) {
        return typeof h !== 'string'
      })) {
        throw new Error('The value of `' + key + '` property must be an Array and each item could only be a hex string, e.g.: FF0000')
      }
      var defHexColor = _defColors[key]
      if (!hex[0]) {
        hex[0] = defHexColor[0]
      }
      if (hex.length === 1 || !hex[1]) {
        hex = [hex[0]]
        hex.push(defHexColor[1])
      }

      hex = hex.slice(0, 2)
    } else if (typeof hex !== 'string') {
      throw new Error('The value of `' + key + '` property must be a hex string, e.g.: FF0000')
    }
    _finalColors[key] = hex
  }
  _setTags(_finalColors)
}

/**
 * Reset colors.
 */
ansiHTML.reset = function () {
  _setTags(_defColors)
}

/**
 * Expose tags, including open and close.
 * @type {Object}
 */
ansiHTML.tags = {}

if (Object.defineProperty) {
  Object.defineProperty(ansiHTML.tags, 'open', {
    get: function () { return _openTags }
  })
  Object.defineProperty(ansiHTML.tags, 'close', {
    get: function () { return _closeTags }
  })
} else {
  ansiHTML.tags.open = _openTags
  ansiHTML.tags.close = _closeTags
}

function _setTags (colors) {
  // reset all
  _openTags['0'] = 'font-weight:normal;opacity:1;color:#' + colors.reset[0] + ';background:#' + colors.reset[1]
  // inverse
  _openTags['7'] = 'color:#' + colors.reset[1] + ';background:#' + colors.reset[0]
  // dark grey
  _openTags['90'] = 'color:#' + colors.darkgrey

  for (var code in _styles) {
    var color = _styles[code]
    var oriColor = colors[color] || '000'
    _openTags[code] = 'color:#' + oriColor
    code = parseInt(code)
    _openTags[(code + 10).toString()] = 'background:#' + oriColor
  }
}

ansiHTML.reset()


/***/ }),

/***/ "./node_modules/base64-js/index.js":
/*!*****************************************!*\
  !*** ./node_modules/base64-js/index.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.byteLength = byteLength
exports.toByteArray = toByteArray
exports.fromByteArray = fromByteArray

var lookup = []
var revLookup = []
var Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array

var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
for (var i = 0, len = code.length; i < len; ++i) {
  lookup[i] = code[i]
  revLookup[code.charCodeAt(i)] = i
}

// Support decoding URL-safe base64 strings, as Node.js does.
// See: https://en.wikipedia.org/wiki/Base64#URL_applications
revLookup['-'.charCodeAt(0)] = 62
revLookup['_'.charCodeAt(0)] = 63

function getLens (b64) {
  var len = b64.length

  if (len % 4 > 0) {
    throw new Error('Invalid string. Length must be a multiple of 4')
  }

  // Trim off extra bytes after placeholder bytes are found
  // See: https://github.com/beatgammit/base64-js/issues/42
  var validLen = b64.indexOf('=')
  if (validLen === -1) validLen = len

  var placeHoldersLen = validLen === len
    ? 0
    : 4 - (validLen % 4)

  return [validLen, placeHoldersLen]
}

// base64 is 4/3 + up to two characters of the original data
function byteLength (b64) {
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function _byteLength (b64, validLen, placeHoldersLen) {
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function toByteArray (b64) {
  var tmp
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]

  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))

  var curByte = 0

  // if there are placeholders, only get up to the last complete 4 chars
  var len = placeHoldersLen > 0
    ? validLen - 4
    : validLen

  var i
  for (i = 0; i < len; i += 4) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 18) |
      (revLookup[b64.charCodeAt(i + 1)] << 12) |
      (revLookup[b64.charCodeAt(i + 2)] << 6) |
      revLookup[b64.charCodeAt(i + 3)]
    arr[curByte++] = (tmp >> 16) & 0xFF
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 2) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 2) |
      (revLookup[b64.charCodeAt(i + 1)] >> 4)
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 1) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 10) |
      (revLookup[b64.charCodeAt(i + 1)] << 4) |
      (revLookup[b64.charCodeAt(i + 2)] >> 2)
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  return arr
}

function tripletToBase64 (num) {
  return lookup[num >> 18 & 0x3F] +
    lookup[num >> 12 & 0x3F] +
    lookup[num >> 6 & 0x3F] +
    lookup[num & 0x3F]
}

function encodeChunk (uint8, start, end) {
  var tmp
  var output = []
  for (var i = start; i < end; i += 3) {
    tmp =
      ((uint8[i] << 16) & 0xFF0000) +
      ((uint8[i + 1] << 8) & 0xFF00) +
      (uint8[i + 2] & 0xFF)
    output.push(tripletToBase64(tmp))
  }
  return output.join('')
}

function fromByteArray (uint8) {
  var tmp
  var len = uint8.length
  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes
  var parts = []
  var maxChunkLength = 16383 // must be multiple of 3

  // go through the array every three bytes, we'll deal with trailing stuff later
  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {
    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))
  }

  // pad the end with zeros, but make sure to not forget the extra bytes
  if (extraBytes === 1) {
    tmp = uint8[len - 1]
    parts.push(
      lookup[tmp >> 2] +
      lookup[(tmp << 4) & 0x3F] +
      '=='
    )
  } else if (extraBytes === 2) {
    tmp = (uint8[len - 2] << 8) + uint8[len - 1]
    parts.push(
      lookup[tmp >> 10] +
      lookup[(tmp >> 4) & 0x3F] +
      lookup[(tmp << 2) & 0x3F] +
      '='
    )
  }

  return parts.join('')
}


/***/ }),

/***/ "./node_modules/buffer/index.js":
/*!**************************************!*\
  !*** ./node_modules/buffer/index.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
/* eslint-disable no-proto */



var base64 = __webpack_require__(/*! base64-js */ "./node_modules/base64-js/index.js")
var ieee754 = __webpack_require__(/*! ieee754 */ "./node_modules/ieee754/index.js")
var isArray = __webpack_require__(/*! isarray */ "./node_modules/isarray/index.js")

exports.Buffer = Buffer
exports.SlowBuffer = SlowBuffer
exports.INSPECT_MAX_BYTES = 50

/**
 * If `Buffer.TYPED_ARRAY_SUPPORT`:
 *   === true    Use Uint8Array implementation (fastest)
 *   === false   Use Object implementation (most compatible, even IE6)
 *
 * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,
 * Opera 11.6+, iOS 4.2+.
 *
 * Due to various browser bugs, sometimes the Object implementation will be used even
 * when the browser supports typed arrays.
 *
 * Note:
 *
 *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,
 *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.
 *
 *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.
 *
 *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of
 *     incorrect length in some situations.

 * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they
 * get the Object implementation, which is slower but behaves correctly.
 */
Buffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined
  ? global.TYPED_ARRAY_SUPPORT
  : typedArraySupport()

/*
 * Export kMaxLength after typed array support is determined.
 */
exports.kMaxLength = kMaxLength()

function typedArraySupport () {
  try {
    var arr = new Uint8Array(1)
    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}
    return arr.foo() === 42 && // typed array instances can be augmented
        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`
        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`
  } catch (e) {
    return false
  }
}

function kMaxLength () {
  return Buffer.TYPED_ARRAY_SUPPORT
    ? 0x7fffffff
    : 0x3fffffff
}

function createBuffer (that, length) {
  if (kMaxLength() < length) {
    throw new RangeError('Invalid typed array length')
  }
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    // Return an augmented `Uint8Array` instance, for best performance
    that = new Uint8Array(length)
    that.__proto__ = Buffer.prototype
  } else {
    // Fallback: Return an object instance of the Buffer class
    if (that === null) {
      that = new Buffer(length)
    }
    that.length = length
  }

  return that
}

/**
 * The Buffer constructor returns instances of `Uint8Array` that have their
 * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of
 * `Uint8Array`, so the returned instances will have all the node `Buffer` methods
 * and the `Uint8Array` methods. Square bracket notation works as expected -- it
 * returns a single octet.
 *
 * The `Uint8Array` prototype remains unmodified.
 */

function Buffer (arg, encodingOrOffset, length) {
  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {
    return new Buffer(arg, encodingOrOffset, length)
  }

  // Common case.
  if (typeof arg === 'number') {
    if (typeof encodingOrOffset === 'string') {
      throw new Error(
        'If encoding is specified then the first argument must be a string'
      )
    }
    return allocUnsafe(this, arg)
  }
  return from(this, arg, encodingOrOffset, length)
}

Buffer.poolSize = 8192 // not used by this implementation

// TODO: Legacy, not needed anymore. Remove in next major version.
Buffer._augment = function (arr) {
  arr.__proto__ = Buffer.prototype
  return arr
}

function from (that, value, encodingOrOffset, length) {
  if (typeof value === 'number') {
    throw new TypeError('"value" argument must not be a number')
  }

  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {
    return fromArrayBuffer(that, value, encodingOrOffset, length)
  }

  if (typeof value === 'string') {
    return fromString(that, value, encodingOrOffset)
  }

  return fromObject(that, value)
}

/**
 * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError
 * if value is a number.
 * Buffer.from(str[, encoding])
 * Buffer.from(array)
 * Buffer.from(buffer)
 * Buffer.from(arrayBuffer[, byteOffset[, length]])
 **/
Buffer.from = function (value, encodingOrOffset, length) {
  return from(null, value, encodingOrOffset, length)
}

if (Buffer.TYPED_ARRAY_SUPPORT) {
  Buffer.prototype.__proto__ = Uint8Array.prototype
  Buffer.__proto__ = Uint8Array
  if (typeof Symbol !== 'undefined' && Symbol.species &&
      Buffer[Symbol.species] === Buffer) {
    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97
    Object.defineProperty(Buffer, Symbol.species, {
      value: null,
      configurable: true
    })
  }
}

function assertSize (size) {
  if (typeof size !== 'number') {
    throw new TypeError('"size" argument must be a number')
  } else if (size < 0) {
    throw new RangeError('"size" argument must not be negative')
  }
}

function alloc (that, size, fill, encoding) {
  assertSize(size)
  if (size <= 0) {
    return createBuffer(that, size)
  }
  if (fill !== undefined) {
    // Only pay attention to encoding if it's a string. This
    // prevents accidentally sending in a number that would
    // be interpretted as a start offset.
    return typeof encoding === 'string'
      ? createBuffer(that, size).fill(fill, encoding)
      : createBuffer(that, size).fill(fill)
  }
  return createBuffer(that, size)
}

/**
 * Creates a new filled Buffer instance.
 * alloc(size[, fill[, encoding]])
 **/
Buffer.alloc = function (size, fill, encoding) {
  return alloc(null, size, fill, encoding)
}

function allocUnsafe (that, size) {
  assertSize(size)
  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)
  if (!Buffer.TYPED_ARRAY_SUPPORT) {
    for (var i = 0; i < size; ++i) {
      that[i] = 0
    }
  }
  return that
}

/**
 * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.
 * */
Buffer.allocUnsafe = function (size) {
  return allocUnsafe(null, size)
}
/**
 * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.
 */
Buffer.allocUnsafeSlow = function (size) {
  return allocUnsafe(null, size)
}

function fromString (that, string, encoding) {
  if (typeof encoding !== 'string' || encoding === '') {
    encoding = 'utf8'
  }

  if (!Buffer.isEncoding(encoding)) {
    throw new TypeError('"encoding" must be a valid string encoding')
  }

  var length = byteLength(string, encoding) | 0
  that = createBuffer(that, length)

  var actual = that.write(string, encoding)

  if (actual !== length) {
    // Writing a hex string, for example, that contains invalid characters will
    // cause everything after the first invalid character to be ignored. (e.g.
    // 'abxxcd' will be treated as 'ab')
    that = that.slice(0, actual)
  }

  return that
}

function fromArrayLike (that, array) {
  var length = array.length < 0 ? 0 : checked(array.length) | 0
  that = createBuffer(that, length)
  for (var i = 0; i < length; i += 1) {
    that[i] = array[i] & 255
  }
  return that
}

function fromArrayBuffer (that, array, byteOffset, length) {
  array.byteLength // this throws if `array` is not a valid ArrayBuffer

  if (byteOffset < 0 || array.byteLength < byteOffset) {
    throw new RangeError('\'offset\' is out of bounds')
  }

  if (array.byteLength < byteOffset + (length || 0)) {
    throw new RangeError('\'length\' is out of bounds')
  }

  if (byteOffset === undefined && length === undefined) {
    array = new Uint8Array(array)
  } else if (length === undefined) {
    array = new Uint8Array(array, byteOffset)
  } else {
    array = new Uint8Array(array, byteOffset, length)
  }

  if (Buffer.TYPED_ARRAY_SUPPORT) {
    // Return an augmented `Uint8Array` instance, for best performance
    that = array
    that.__proto__ = Buffer.prototype
  } else {
    // Fallback: Return an object instance of the Buffer class
    that = fromArrayLike(that, array)
  }
  return that
}

function fromObject (that, obj) {
  if (Buffer.isBuffer(obj)) {
    var len = checked(obj.length) | 0
    that = createBuffer(that, len)

    if (that.length === 0) {
      return that
    }

    obj.copy(that, 0, 0, len)
    return that
  }

  if (obj) {
    if ((typeof ArrayBuffer !== 'undefined' &&
        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {
      if (typeof obj.length !== 'number' || isnan(obj.length)) {
        return createBuffer(that, 0)
      }
      return fromArrayLike(that, obj)
    }

    if (obj.type === 'Buffer' && isArray(obj.data)) {
      return fromArrayLike(that, obj.data)
    }
  }

  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')
}

function checked (length) {
  // Note: cannot use `length < kMaxLength()` here because that fails when
  // length is NaN (which is otherwise coerced to zero.)
  if (length >= kMaxLength()) {
    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +
                         'size: 0x' + kMaxLength().toString(16) + ' bytes')
  }
  return length | 0
}

function SlowBuffer (length) {
  if (+length != length) { // eslint-disable-line eqeqeq
    length = 0
  }
  return Buffer.alloc(+length)
}

Buffer.isBuffer = function isBuffer (b) {
  return !!(b != null && b._isBuffer)
}

Buffer.compare = function compare (a, b) {
  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {
    throw new TypeError('Arguments must be Buffers')
  }

  if (a === b) return 0

  var x = a.length
  var y = b.length

  for (var i = 0, len = Math.min(x, y); i < len; ++i) {
    if (a[i] !== b[i]) {
      x = a[i]
      y = b[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

Buffer.isEncoding = function isEncoding (encoding) {
  switch (String(encoding).toLowerCase()) {
    case 'hex':
    case 'utf8':
    case 'utf-8':
    case 'ascii':
    case 'latin1':
    case 'binary':
    case 'base64':
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      return true
    default:
      return false
  }
}

Buffer.concat = function concat (list, length) {
  if (!isArray(list)) {
    throw new TypeError('"list" argument must be an Array of Buffers')
  }

  if (list.length === 0) {
    return Buffer.alloc(0)
  }

  var i
  if (length === undefined) {
    length = 0
    for (i = 0; i < list.length; ++i) {
      length += list[i].length
    }
  }

  var buffer = Buffer.allocUnsafe(length)
  var pos = 0
  for (i = 0; i < list.length; ++i) {
    var buf = list[i]
    if (!Buffer.isBuffer(buf)) {
      throw new TypeError('"list" argument must be an Array of Buffers')
    }
    buf.copy(buffer, pos)
    pos += buf.length
  }
  return buffer
}

function byteLength (string, encoding) {
  if (Buffer.isBuffer(string)) {
    return string.length
  }
  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&
      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {
    return string.byteLength
  }
  if (typeof string !== 'string') {
    string = '' + string
  }

  var len = string.length
  if (len === 0) return 0

  // Use a for loop to avoid recursion
  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'ascii':
      case 'latin1':
      case 'binary':
        return len
      case 'utf8':
      case 'utf-8':
      case undefined:
        return utf8ToBytes(string).length
      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return len * 2
      case 'hex':
        return len >>> 1
      case 'base64':
        return base64ToBytes(string).length
      default:
        if (loweredCase) return utf8ToBytes(string).length // assume utf8
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}
Buffer.byteLength = byteLength

function slowToString (encoding, start, end) {
  var loweredCase = false

  // No need to verify that "this.length <= MAX_UINT32" since it's a read-only
  // property of a typed array.

  // This behaves neither like String nor Uint8Array in that we set start/end
  // to their upper/lower bounds if the value passed is out of range.
  // undefined is handled specially as per ECMA-262 6th Edition,
  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.
  if (start === undefined || start < 0) {
    start = 0
  }
  // Return early if start > this.length. Done here to prevent potential uint32
  // coercion fail below.
  if (start > this.length) {
    return ''
  }

  if (end === undefined || end > this.length) {
    end = this.length
  }

  if (end <= 0) {
    return ''
  }

  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.
  end >>>= 0
  start >>>= 0

  if (end <= start) {
    return ''
  }

  if (!encoding) encoding = 'utf8'

  while (true) {
    switch (encoding) {
      case 'hex':
        return hexSlice(this, start, end)

      case 'utf8':
      case 'utf-8':
        return utf8Slice(this, start, end)

      case 'ascii':
        return asciiSlice(this, start, end)

      case 'latin1':
      case 'binary':
        return latin1Slice(this, start, end)

      case 'base64':
        return base64Slice(this, start, end)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return utf16leSlice(this, start, end)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = (encoding + '').toLowerCase()
        loweredCase = true
    }
  }
}

// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect
// Buffer instances.
Buffer.prototype._isBuffer = true

function swap (b, n, m) {
  var i = b[n]
  b[n] = b[m]
  b[m] = i
}

Buffer.prototype.swap16 = function swap16 () {
  var len = this.length
  if (len % 2 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 16-bits')
  }
  for (var i = 0; i < len; i += 2) {
    swap(this, i, i + 1)
  }
  return this
}

Buffer.prototype.swap32 = function swap32 () {
  var len = this.length
  if (len % 4 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 32-bits')
  }
  for (var i = 0; i < len; i += 4) {
    swap(this, i, i + 3)
    swap(this, i + 1, i + 2)
  }
  return this
}

Buffer.prototype.swap64 = function swap64 () {
  var len = this.length
  if (len % 8 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 64-bits')
  }
  for (var i = 0; i < len; i += 8) {
    swap(this, i, i + 7)
    swap(this, i + 1, i + 6)
    swap(this, i + 2, i + 5)
    swap(this, i + 3, i + 4)
  }
  return this
}

Buffer.prototype.toString = function toString () {
  var length = this.length | 0
  if (length === 0) return ''
  if (arguments.length === 0) return utf8Slice(this, 0, length)
  return slowToString.apply(this, arguments)
}

Buffer.prototype.equals = function equals (b) {
  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')
  if (this === b) return true
  return Buffer.compare(this, b) === 0
}

Buffer.prototype.inspect = function inspect () {
  var str = ''
  var max = exports.INSPECT_MAX_BYTES
  if (this.length > 0) {
    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')
    if (this.length > max) str += ' ... '
  }
  return '<Buffer ' + str + '>'
}

Buffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {
  if (!Buffer.isBuffer(target)) {
    throw new TypeError('Argument must be a Buffer')
  }

  if (start === undefined) {
    start = 0
  }
  if (end === undefined) {
    end = target ? target.length : 0
  }
  if (thisStart === undefined) {
    thisStart = 0
  }
  if (thisEnd === undefined) {
    thisEnd = this.length
  }

  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {
    throw new RangeError('out of range index')
  }

  if (thisStart >= thisEnd && start >= end) {
    return 0
  }
  if (thisStart >= thisEnd) {
    return -1
  }
  if (start >= end) {
    return 1
  }

  start >>>= 0
  end >>>= 0
  thisStart >>>= 0
  thisEnd >>>= 0

  if (this === target) return 0

  var x = thisEnd - thisStart
  var y = end - start
  var len = Math.min(x, y)

  var thisCopy = this.slice(thisStart, thisEnd)
  var targetCopy = target.slice(start, end)

  for (var i = 0; i < len; ++i) {
    if (thisCopy[i] !== targetCopy[i]) {
      x = thisCopy[i]
      y = targetCopy[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,
// OR the last index of `val` in `buffer` at offset <= `byteOffset`.
//
// Arguments:
// - buffer - a Buffer to search
// - val - a string, Buffer, or number
// - byteOffset - an index into `buffer`; will be clamped to an int32
// - encoding - an optional encoding, relevant is val is a string
// - dir - true for indexOf, false for lastIndexOf
function bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {
  // Empty buffer means no match
  if (buffer.length === 0) return -1

  // Normalize byteOffset
  if (typeof byteOffset === 'string') {
    encoding = byteOffset
    byteOffset = 0
  } else if (byteOffset > 0x7fffffff) {
    byteOffset = 0x7fffffff
  } else if (byteOffset < -0x80000000) {
    byteOffset = -0x80000000
  }
  byteOffset = +byteOffset  // Coerce to Number.
  if (isNaN(byteOffset)) {
    // byteOffset: it it's undefined, null, NaN, "foo", etc, search whole buffer
    byteOffset = dir ? 0 : (buffer.length - 1)
  }

  // Normalize byteOffset: negative offsets start from the end of the buffer
  if (byteOffset < 0) byteOffset = buffer.length + byteOffset
  if (byteOffset >= buffer.length) {
    if (dir) return -1
    else byteOffset = buffer.length - 1
  } else if (byteOffset < 0) {
    if (dir) byteOffset = 0
    else return -1
  }

  // Normalize val
  if (typeof val === 'string') {
    val = Buffer.from(val, encoding)
  }

  // Finally, search either indexOf (if dir is true) or lastIndexOf
  if (Buffer.isBuffer(val)) {
    // Special case: looking for empty string/buffer always fails
    if (val.length === 0) {
      return -1
    }
    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)
  } else if (typeof val === 'number') {
    val = val & 0xFF // Search for a byte value [0-255]
    if (Buffer.TYPED_ARRAY_SUPPORT &&
        typeof Uint8Array.prototype.indexOf === 'function') {
      if (dir) {
        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)
      } else {
        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)
      }
    }
    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)
  }

  throw new TypeError('val must be string, number or Buffer')
}

function arrayIndexOf (arr, val, byteOffset, encoding, dir) {
  var indexSize = 1
  var arrLength = arr.length
  var valLength = val.length

  if (encoding !== undefined) {
    encoding = String(encoding).toLowerCase()
    if (encoding === 'ucs2' || encoding === 'ucs-2' ||
        encoding === 'utf16le' || encoding === 'utf-16le') {
      if (arr.length < 2 || val.length < 2) {
        return -1
      }
      indexSize = 2
      arrLength /= 2
      valLength /= 2
      byteOffset /= 2
    }
  }

  function read (buf, i) {
    if (indexSize === 1) {
      return buf[i]
    } else {
      return buf.readUInt16BE(i * indexSize)
    }
  }

  var i
  if (dir) {
    var foundIndex = -1
    for (i = byteOffset; i < arrLength; i++) {
      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {
        if (foundIndex === -1) foundIndex = i
        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize
      } else {
        if (foundIndex !== -1) i -= i - foundIndex
        foundIndex = -1
      }
    }
  } else {
    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength
    for (i = byteOffset; i >= 0; i--) {
      var found = true
      for (var j = 0; j < valLength; j++) {
        if (read(arr, i + j) !== read(val, j)) {
          found = false
          break
        }
      }
      if (found) return i
    }
  }

  return -1
}

Buffer.prototype.includes = function includes (val, byteOffset, encoding) {
  return this.indexOf(val, byteOffset, encoding) !== -1
}

Buffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)
}

Buffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)
}

function hexWrite (buf, string, offset, length) {
  offset = Number(offset) || 0
  var remaining = buf.length - offset
  if (!length) {
    length = remaining
  } else {
    length = Number(length)
    if (length > remaining) {
      length = remaining
    }
  }

  // must be an even number of digits
  var strLen = string.length
  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')

  if (length > strLen / 2) {
    length = strLen / 2
  }
  for (var i = 0; i < length; ++i) {
    var parsed = parseInt(string.substr(i * 2, 2), 16)
    if (isNaN(parsed)) return i
    buf[offset + i] = parsed
  }
  return i
}

function utf8Write (buf, string, offset, length) {
  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)
}

function asciiWrite (buf, string, offset, length) {
  return blitBuffer(asciiToBytes(string), buf, offset, length)
}

function latin1Write (buf, string, offset, length) {
  return asciiWrite(buf, string, offset, length)
}

function base64Write (buf, string, offset, length) {
  return blitBuffer(base64ToBytes(string), buf, offset, length)
}

function ucs2Write (buf, string, offset, length) {
  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)
}

Buffer.prototype.write = function write (string, offset, length, encoding) {
  // Buffer#write(string)
  if (offset === undefined) {
    encoding = 'utf8'
    length = this.length
    offset = 0
  // Buffer#write(string, encoding)
  } else if (length === undefined && typeof offset === 'string') {
    encoding = offset
    length = this.length
    offset = 0
  // Buffer#write(string, offset[, length][, encoding])
  } else if (isFinite(offset)) {
    offset = offset | 0
    if (isFinite(length)) {
      length = length | 0
      if (encoding === undefined) encoding = 'utf8'
    } else {
      encoding = length
      length = undefined
    }
  // legacy write(string, encoding, offset, length) - remove in v0.13
  } else {
    throw new Error(
      'Buffer.write(string, encoding, offset[, length]) is no longer supported'
    )
  }

  var remaining = this.length - offset
  if (length === undefined || length > remaining) length = remaining

  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {
    throw new RangeError('Attempt to write outside buffer bounds')
  }

  if (!encoding) encoding = 'utf8'

  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'hex':
        return hexWrite(this, string, offset, length)

      case 'utf8':
      case 'utf-8':
        return utf8Write(this, string, offset, length)

      case 'ascii':
        return asciiWrite(this, string, offset, length)

      case 'latin1':
      case 'binary':
        return latin1Write(this, string, offset, length)

      case 'base64':
        // Warning: maxLength not taken into account in base64Write
        return base64Write(this, string, offset, length)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return ucs2Write(this, string, offset, length)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}

Buffer.prototype.toJSON = function toJSON () {
  return {
    type: 'Buffer',
    data: Array.prototype.slice.call(this._arr || this, 0)
  }
}

function base64Slice (buf, start, end) {
  if (start === 0 && end === buf.length) {
    return base64.fromByteArray(buf)
  } else {
    return base64.fromByteArray(buf.slice(start, end))
  }
}

function utf8Slice (buf, start, end) {
  end = Math.min(buf.length, end)
  var res = []

  var i = start
  while (i < end) {
    var firstByte = buf[i]
    var codePoint = null
    var bytesPerSequence = (firstByte > 0xEF) ? 4
      : (firstByte > 0xDF) ? 3
      : (firstByte > 0xBF) ? 2
      : 1

    if (i + bytesPerSequence <= end) {
      var secondByte, thirdByte, fourthByte, tempCodePoint

      switch (bytesPerSequence) {
        case 1:
          if (firstByte < 0x80) {
            codePoint = firstByte
          }
          break
        case 2:
          secondByte = buf[i + 1]
          if ((secondByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)
            if (tempCodePoint > 0x7F) {
              codePoint = tempCodePoint
            }
          }
          break
        case 3:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)
            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {
              codePoint = tempCodePoint
            }
          }
          break
        case 4:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          fourthByte = buf[i + 3]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)
            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {
              codePoint = tempCodePoint
            }
          }
      }
    }

    if (codePoint === null) {
      // we did not generate a valid codePoint so insert a
      // replacement char (U+FFFD) and advance only 1 byte
      codePoint = 0xFFFD
      bytesPerSequence = 1
    } else if (codePoint > 0xFFFF) {
      // encode to utf16 (surrogate pair dance)
      codePoint -= 0x10000
      res.push(codePoint >>> 10 & 0x3FF | 0xD800)
      codePoint = 0xDC00 | codePoint & 0x3FF
    }

    res.push(codePoint)
    i += bytesPerSequence
  }

  return decodeCodePointsArray(res)
}

// Based on http://stackoverflow.com/a/22747272/680742, the browser with
// the lowest limit is Chrome, with 0x10000 args.
// We go 1 magnitude less, for safety
var MAX_ARGUMENTS_LENGTH = 0x1000

function decodeCodePointsArray (codePoints) {
  var len = codePoints.length
  if (len <= MAX_ARGUMENTS_LENGTH) {
    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()
  }

  // Decode in chunks to avoid "call stack size exceeded".
  var res = ''
  var i = 0
  while (i < len) {
    res += String.fromCharCode.apply(
      String,
      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)
    )
  }
  return res
}

function asciiSlice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i] & 0x7F)
  }
  return ret
}

function latin1Slice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i])
  }
  return ret
}

function hexSlice (buf, start, end) {
  var len = buf.length

  if (!start || start < 0) start = 0
  if (!end || end < 0 || end > len) end = len

  var out = ''
  for (var i = start; i < end; ++i) {
    out += toHex(buf[i])
  }
  return out
}

function utf16leSlice (buf, start, end) {
  var bytes = buf.slice(start, end)
  var res = ''
  for (var i = 0; i < bytes.length; i += 2) {
    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)
  }
  return res
}

Buffer.prototype.slice = function slice (start, end) {
  var len = this.length
  start = ~~start
  end = end === undefined ? len : ~~end

  if (start < 0) {
    start += len
    if (start < 0) start = 0
  } else if (start > len) {
    start = len
  }

  if (end < 0) {
    end += len
    if (end < 0) end = 0
  } else if (end > len) {
    end = len
  }

  if (end < start) end = start

  var newBuf
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    newBuf = this.subarray(start, end)
    newBuf.__proto__ = Buffer.prototype
  } else {
    var sliceLen = end - start
    newBuf = new Buffer(sliceLen, undefined)
    for (var i = 0; i < sliceLen; ++i) {
      newBuf[i] = this[i + start]
    }
  }

  return newBuf
}

/*
 * Need to make sure that buffer isn't trying to write out of bounds.
 */
function checkOffset (offset, ext, length) {
  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')
  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')
}

Buffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }

  return val
}

Buffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    checkOffset(offset, byteLength, this.length)
  }

  var val = this[offset + --byteLength]
  var mul = 1
  while (byteLength > 0 && (mul *= 0x100)) {
    val += this[offset + --byteLength] * mul
  }

  return val
}

Buffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 1, this.length)
  return this[offset]
}

Buffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  return this[offset] | (this[offset + 1] << 8)
}

Buffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  return (this[offset] << 8) | this[offset + 1]
}

Buffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return ((this[offset]) |
      (this[offset + 1] << 8) |
      (this[offset + 2] << 16)) +
      (this[offset + 3] * 0x1000000)
}

Buffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] * 0x1000000) +
    ((this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    this[offset + 3])
}

Buffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var i = byteLength
  var mul = 1
  var val = this[offset + --i]
  while (i > 0 && (mul *= 0x100)) {
    val += this[offset + --i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readInt8 = function readInt8 (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 1, this.length)
  if (!(this[offset] & 0x80)) return (this[offset])
  return ((0xff - this[offset] + 1) * -1)
}

Buffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset] | (this[offset + 1] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset + 1] | (this[offset] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset]) |
    (this[offset + 1] << 8) |
    (this[offset + 2] << 16) |
    (this[offset + 3] << 24)
}

Buffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] << 24) |
    (this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    (this[offset + 3])
}

Buffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, true, 23, 4)
}

Buffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, false, 23, 4)
}

Buffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, true, 52, 8)
}

Buffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, false, 52, 8)
}

function checkInt (buf, value, offset, ext, max, min) {
  if (!Buffer.isBuffer(buf)) throw new TypeError('"buffer" argument must be a Buffer instance')
  if (value > max || value < min) throw new RangeError('"value" argument is out of bounds')
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
}

Buffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var mul = 1
  var i = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var i = byteLength - 1
  var mul = 1
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)
  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)
  this[offset] = (value & 0xff)
  return offset + 1
}

function objectWriteUInt16 (buf, value, offset, littleEndian) {
  if (value < 0) value = 0xffff + value + 1
  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {
    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>
      (littleEndian ? i : 1 - i) * 8
  }
}

Buffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
  } else {
    objectWriteUInt16(this, value, offset, true)
  }
  return offset + 2
}

Buffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 8)
    this[offset + 1] = (value & 0xff)
  } else {
    objectWriteUInt16(this, value, offset, false)
  }
  return offset + 2
}

function objectWriteUInt32 (buf, value, offset, littleEndian) {
  if (value < 0) value = 0xffffffff + value + 1
  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {
    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff
  }
}

Buffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset + 3] = (value >>> 24)
    this[offset + 2] = (value >>> 16)
    this[offset + 1] = (value >>> 8)
    this[offset] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, true)
  }
  return offset + 4
}

Buffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 24)
    this[offset + 1] = (value >>> 16)
    this[offset + 2] = (value >>> 8)
    this[offset + 3] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, false)
  }
  return offset + 4
}

Buffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = 0
  var mul = 1
  var sub = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = byteLength - 1
  var mul = 1
  var sub = 0
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)
  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)
  if (value < 0) value = 0xff + value + 1
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
  } else {
    objectWriteUInt16(this, value, offset, true)
  }
  return offset + 2
}

Buffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 8)
    this[offset + 1] = (value & 0xff)
  } else {
    objectWriteUInt16(this, value, offset, false)
  }
  return offset + 2
}

Buffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
    this[offset + 2] = (value >>> 16)
    this[offset + 3] = (value >>> 24)
  } else {
    objectWriteUInt32(this, value, offset, true)
  }
  return offset + 4
}

Buffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (value < 0) value = 0xffffffff + value + 1
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 24)
    this[offset + 1] = (value >>> 16)
    this[offset + 2] = (value >>> 8)
    this[offset + 3] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, false)
  }
  return offset + 4
}

function checkIEEE754 (buf, value, offset, ext, max, min) {
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
  if (offset < 0) throw new RangeError('Index out of range')
}

function writeFloat (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)
  }
  ieee754.write(buf, value, offset, littleEndian, 23, 4)
  return offset + 4
}

Buffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {
  return writeFloat(this, value, offset, true, noAssert)
}

Buffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {
  return writeFloat(this, value, offset, false, noAssert)
}

function writeDouble (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)
  }
  ieee754.write(buf, value, offset, littleEndian, 52, 8)
  return offset + 8
}

Buffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {
  return writeDouble(this, value, offset, true, noAssert)
}

Buffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {
  return writeDouble(this, value, offset, false, noAssert)
}

// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
Buffer.prototype.copy = function copy (target, targetStart, start, end) {
  if (!start) start = 0
  if (!end && end !== 0) end = this.length
  if (targetStart >= target.length) targetStart = target.length
  if (!targetStart) targetStart = 0
  if (end > 0 && end < start) end = start

  // Copy 0 bytes; we're done
  if (end === start) return 0
  if (target.length === 0 || this.length === 0) return 0

  // Fatal error conditions
  if (targetStart < 0) {
    throw new RangeError('targetStart out of bounds')
  }
  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')
  if (end < 0) throw new RangeError('sourceEnd out of bounds')

  // Are we oob?
  if (end > this.length) end = this.length
  if (target.length - targetStart < end - start) {
    end = target.length - targetStart + start
  }

  var len = end - start
  var i

  if (this === target && start < targetStart && targetStart < end) {
    // descending copy from end
    for (i = len - 1; i >= 0; --i) {
      target[i + targetStart] = this[i + start]
    }
  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {
    // ascending copy from start
    for (i = 0; i < len; ++i) {
      target[i + targetStart] = this[i + start]
    }
  } else {
    Uint8Array.prototype.set.call(
      target,
      this.subarray(start, start + len),
      targetStart
    )
  }

  return len
}

// Usage:
//    buffer.fill(number[, offset[, end]])
//    buffer.fill(buffer[, offset[, end]])
//    buffer.fill(string[, offset[, end]][, encoding])
Buffer.prototype.fill = function fill (val, start, end, encoding) {
  // Handle string cases:
  if (typeof val === 'string') {
    if (typeof start === 'string') {
      encoding = start
      start = 0
      end = this.length
    } else if (typeof end === 'string') {
      encoding = end
      end = this.length
    }
    if (val.length === 1) {
      var code = val.charCodeAt(0)
      if (code < 256) {
        val = code
      }
    }
    if (encoding !== undefined && typeof encoding !== 'string') {
      throw new TypeError('encoding must be a string')
    }
    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {
      throw new TypeError('Unknown encoding: ' + encoding)
    }
  } else if (typeof val === 'number') {
    val = val & 255
  }

  // Invalid ranges are not set to a default, so can range check early.
  if (start < 0 || this.length < start || this.length < end) {
    throw new RangeError('Out of range index')
  }

  if (end <= start) {
    return this
  }

  start = start >>> 0
  end = end === undefined ? this.length : end >>> 0

  if (!val) val = 0

  var i
  if (typeof val === 'number') {
    for (i = start; i < end; ++i) {
      this[i] = val
    }
  } else {
    var bytes = Buffer.isBuffer(val)
      ? val
      : utf8ToBytes(new Buffer(val, encoding).toString())
    var len = bytes.length
    for (i = 0; i < end - start; ++i) {
      this[i + start] = bytes[i % len]
    }
  }

  return this
}

// HELPER FUNCTIONS
// ================

var INVALID_BASE64_RE = /[^+\/0-9A-Za-z-_]/g

function base64clean (str) {
  // Node strips out invalid characters like \n and \t from the string, base64-js does not
  str = stringtrim(str).replace(INVALID_BASE64_RE, '')
  // Node converts strings with length < 2 to ''
  if (str.length < 2) return ''
  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not
  while (str.length % 4 !== 0) {
    str = str + '='
  }
  return str
}

function stringtrim (str) {
  if (str.trim) return str.trim()
  return str.replace(/^\s+|\s+$/g, '')
}

function toHex (n) {
  if (n < 16) return '0' + n.toString(16)
  return n.toString(16)
}

function utf8ToBytes (string, units) {
  units = units || Infinity
  var codePoint
  var length = string.length
  var leadSurrogate = null
  var bytes = []

  for (var i = 0; i < length; ++i) {
    codePoint = string.charCodeAt(i)

    // is surrogate component
    if (codePoint > 0xD7FF && codePoint < 0xE000) {
      // last char was a lead
      if (!leadSurrogate) {
        // no lead yet
        if (codePoint > 0xDBFF) {
          // unexpected trail
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        } else if (i + 1 === length) {
          // unpaired lead
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        }

        // valid lead
        leadSurrogate = codePoint

        continue
      }

      // 2 leads in a row
      if (codePoint < 0xDC00) {
        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
        leadSurrogate = codePoint
        continue
      }

      // valid surrogate pair
      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000
    } else if (leadSurrogate) {
      // valid bmp char, but last char was a lead
      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
    }

    leadSurrogate = null

    // encode utf8
    if (codePoint < 0x80) {
      if ((units -= 1) < 0) break
      bytes.push(codePoint)
    } else if (codePoint < 0x800) {
      if ((units -= 2) < 0) break
      bytes.push(
        codePoint >> 0x6 | 0xC0,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x10000) {
      if ((units -= 3) < 0) break
      bytes.push(
        codePoint >> 0xC | 0xE0,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x110000) {
      if ((units -= 4) < 0) break
      bytes.push(
        codePoint >> 0x12 | 0xF0,
        codePoint >> 0xC & 0x3F | 0x80,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else {
      throw new Error('Invalid code point')
    }
  }

  return bytes
}

function asciiToBytes (str) {
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    // Node's code seems to be doing this and not & 0x7F..
    byteArray.push(str.charCodeAt(i) & 0xFF)
  }
  return byteArray
}

function utf16leToBytes (str, units) {
  var c, hi, lo
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    if ((units -= 2) < 0) break

    c = str.charCodeAt(i)
    hi = c >> 8
    lo = c % 256
    byteArray.push(lo)
    byteArray.push(hi)
  }

  return byteArray
}

function base64ToBytes (str) {
  return base64.toByteArray(base64clean(str))
}

function blitBuffer (src, dst, offset, length) {
  for (var i = 0; i < length; ++i) {
    if ((i + offset >= dst.length) || (i >= src.length)) break
    dst[i + offset] = src[i]
  }
  return i
}

function isnan (val) {
  return val !== val // eslint-disable-line no-self-compare
}

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/css-vars-ponyfill/dist/css-vars-ponyfill.esm.js":
/*!**********************************************************************!*\
  !*** ./node_modules/css-vars-ponyfill/dist/css-vars-ponyfill.esm.js ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/*!
 * css-vars-ponyfill
 * v2.4.1
 * https://jhildenbiddle.github.io/css-vars-ponyfill/
 * (c) 2018-2020 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */
function _extends() {
    _extends = Object.assign || function(target) {
        for (var i = 1; i < arguments.length; i++) {
            var source = arguments[i];
            for (var key in source) {
                if (Object.prototype.hasOwnProperty.call(source, key)) {
                    target[key] = source[key];
                }
            }
        }
        return target;
    };
    return _extends.apply(this, arguments);
}

/*!
 * get-css-data
 * v1.9.0
 * https://github.com/jhildenbiddle/get-css-data
 * (c) 2018-2020 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */ function getUrls(urls) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    var settings = {
        mimeType: options.mimeType || null,
        onBeforeSend: options.onBeforeSend || Function.prototype,
        onSuccess: options.onSuccess || Function.prototype,
        onError: options.onError || Function.prototype,
        onComplete: options.onComplete || Function.prototype
    };
    var urlArray = Array.isArray(urls) ? urls : [ urls ];
    var urlQueue = Array.apply(null, Array(urlArray.length)).map((function(x) {
        return null;
    }));
    function isValidCss(cssText) {
        var isHTML = cssText && cssText.trim().charAt(0) === "<";
        return cssText && !isHTML;
    }
    function onError(xhr, urlIndex) {
        settings.onError(xhr, urlArray[urlIndex], urlIndex);
    }
    function onSuccess(responseText, urlIndex) {
        var returnVal = settings.onSuccess(responseText, urlArray[urlIndex], urlIndex);
        responseText = returnVal === false ? "" : returnVal || responseText;
        urlQueue[urlIndex] = responseText;
        if (urlQueue.indexOf(null) === -1) {
            settings.onComplete(urlQueue);
        }
    }
    var parser = document.createElement("a");
    urlArray.forEach((function(url, i) {
        parser.setAttribute("href", url);
        parser.href = String(parser.href);
        var isIElte9 = Boolean(document.all && !window.atob);
        var isIElte9CORS = isIElte9 && parser.host.split(":")[0] !== location.host.split(":")[0];
        if (isIElte9CORS) {
            var isSameProtocol = parser.protocol === location.protocol;
            if (isSameProtocol) {
                var xdr = new XDomainRequest;
                xdr.open("GET", url);
                xdr.timeout = 0;
                xdr.onprogress = Function.prototype;
                xdr.ontimeout = Function.prototype;
                xdr.onload = function() {
                    if (isValidCss(xdr.responseText)) {
                        onSuccess(xdr.responseText, i);
                    } else {
                        onError(xdr, i);
                    }
                };
                xdr.onerror = function(err) {
                    onError(xdr, i);
                };
                setTimeout((function() {
                    xdr.send();
                }), 0);
            } else {
                console.warn("Internet Explorer 9 Cross-Origin (CORS) requests must use the same protocol (".concat(url, ")"));
                onError(null, i);
            }
        } else {
            var xhr = new XMLHttpRequest;
            xhr.open("GET", url);
            if (settings.mimeType && xhr.overrideMimeType) {
                xhr.overrideMimeType(settings.mimeType);
            }
            settings.onBeforeSend(xhr, url, i);
            xhr.onreadystatechange = function() {
                if (xhr.readyState === 4) {
                    if (xhr.status === 200 && isValidCss(xhr.responseText)) {
                        onSuccess(xhr.responseText, i);
                    } else if (xhr.status === 0 && isValidCss(xhr.responseText)) {
                        onSuccess(xhr.responseText, i);
                    } else {
                        onError(xhr, i);
                    }
                }
            };
            xhr.send();
        }
    }));
}

/**
 * Gets CSS data from <style> and <link> nodes (including @imports), then
 * returns data in order processed by DOM. Allows specifying nodes to
 * include/exclude and filtering CSS data using RegEx.
 *
 * @preserve
 * @param {object}   [options] The options object
 * @param {object}   [options.rootElement=document] Root element to traverse for
 *                   <link> and <style> nodes.
 * @param {string}   [options.include] CSS selector matching <link> and <style>
 *                   nodes to include
 * @param {string}   [options.exclude] CSS selector matching <link> and <style>
 *                   nodes to exclude
 * @param {object}   [options.filter] Regular expression used to filter node CSS
 *                   data. Each block of CSS data is tested against the filter,
 *                   and only matching data is included.
 * @param {boolean}  [options.skipDisabled=true] Determines if disabled
 *                   stylesheets will be skipped while collecting CSS data.
 * @param {boolean}  [options.useCSSOM=false] Determines if CSS data will be
 *                   collected from a stylesheet's runtime values instead of its
 *                   text content. This is required to get accurate CSS data
 *                   when a stylesheet has been modified using the deleteRule()
 *                   or insertRule() methods because these modifications will
 *                   not be reflected in the stylesheet's text content.
 * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes
 *                   1) the XHR object, 2) source node reference, and 3) the
 *                   source URL as arguments.
 * @param {function} [options.onSuccess] Callback on each CSS node read. Passes
 *                   1) CSS text, 2) source node reference, and 3) the source
 *                   URL as arguments.
 * @param {function} [options.onError] Callback on each error. Passes 1) the XHR
 *                   object for inspection, 2) soure node reference, and 3) the
 *                   source URL that failed (either a <link> href or an @import)
 *                   as arguments
 * @param {function} [options.onComplete] Callback after all nodes have been
 *                   processed. Passes 1) concatenated CSS text, 2) an array of
 *                   CSS text in DOM order, and 3) an array of nodes in DOM
 *                   order as arguments.
 *
 * @example
 *
 *   getCssData({
 *     rootElement : document,
 *     include     : 'style,link[rel="stylesheet"]',
 *     exclude     : '[href="skip.css"]',
 *     filter      : /red/,
 *     skipDisabled: true,
 *     useCSSOM    : false,
 *     onBeforeSend(xhr, node, url) {
 *       // ...
 *     }
 *     onSuccess(cssText, node, url) {
 *       // ...
 *     }
 *     onError(xhr, node, url) {
 *       // ...
 *     },
 *     onComplete(cssText, cssArray, nodeArray) {
 *       // ...
 *     }
 *   });
 */ function getCssData(options) {
    var regex = {
        cssComments: /\/\*[\s\S]+?\*\//g,
        cssImports: /(?:@import\s*)(?:url\(\s*)?(?:['"])([^'"]*)(?:['"])(?:\s*\))?(?:[^;]*;)/g
    };
    var settings = {
        rootElement: options.rootElement || document,
        include: options.include || 'style,link[rel="stylesheet"]',
        exclude: options.exclude || null,
        filter: options.filter || null,
        skipDisabled: options.skipDisabled !== false,
        useCSSOM: options.useCSSOM || false,
        onBeforeSend: options.onBeforeSend || Function.prototype,
        onSuccess: options.onSuccess || Function.prototype,
        onError: options.onError || Function.prototype,
        onComplete: options.onComplete || Function.prototype
    };
    var sourceNodes = Array.apply(null, settings.rootElement.querySelectorAll(settings.include)).filter((function(node) {
        return !matchesSelector(node, settings.exclude);
    }));
    var cssArray = Array.apply(null, Array(sourceNodes.length)).map((function(x) {
        return null;
    }));
    function handleComplete() {
        var isComplete = cssArray.indexOf(null) === -1;
        if (isComplete) {
            var cssText = cssArray.join("");
            settings.onComplete(cssText, cssArray, sourceNodes);
        }
    }
    function handleSuccess(cssText, cssIndex, node, sourceUrl) {
        var returnVal = settings.onSuccess(cssText, node, sourceUrl);
        cssText = returnVal !== undefined && Boolean(returnVal) === false ? "" : returnVal || cssText;
        resolveImports(cssText, node, sourceUrl, (function(resolvedCssText, errorData) {
            if (cssArray[cssIndex] === null) {
                errorData.forEach((function(data) {
                    return settings.onError(data.xhr, node, data.url);
                }));
                if (!settings.filter || settings.filter.test(resolvedCssText)) {
                    cssArray[cssIndex] = resolvedCssText;
                } else {
                    cssArray[cssIndex] = "";
                }
                handleComplete();
            }
        }));
    }
    function parseImportData(cssText, baseUrl) {
        var ignoreRules = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];
        var importData = {};
        importData.rules = (cssText.replace(regex.cssComments, "").match(regex.cssImports) || []).filter((function(rule) {
            return ignoreRules.indexOf(rule) === -1;
        }));
        importData.urls = importData.rules.map((function(rule) {
            return rule.replace(regex.cssImports, "$1");
        }));
        importData.absoluteUrls = importData.urls.map((function(url) {
            return getFullUrl(url, baseUrl);
        }));
        importData.absoluteRules = importData.rules.map((function(rule, i) {
            var oldUrl = importData.urls[i];
            var newUrl = getFullUrl(importData.absoluteUrls[i], baseUrl);
            return rule.replace(oldUrl, newUrl);
        }));
        return importData;
    }
    function resolveImports(cssText, node, baseUrl, callbackFn) {
        var __errorData = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [];
        var __errorRules = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : [];
        var importData = parseImportData(cssText, baseUrl, __errorRules);
        if (importData.rules.length) {
            getUrls(importData.absoluteUrls, {
                onBeforeSend: function onBeforeSend(xhr, url, urlIndex) {
                    settings.onBeforeSend(xhr, node, url);
                },
                onSuccess: function onSuccess(cssText, url, urlIndex) {
                    var returnVal = settings.onSuccess(cssText, node, url);
                    cssText = returnVal === false ? "" : returnVal || cssText;
                    var responseImportData = parseImportData(cssText, url, __errorRules);
                    responseImportData.rules.forEach((function(rule, i) {
                        cssText = cssText.replace(rule, responseImportData.absoluteRules[i]);
                    }));
                    return cssText;
                },
                onError: function onError(xhr, url, urlIndex) {
                    __errorData.push({
                        xhr: xhr,
                        url: url
                    });
                    __errorRules.push(importData.rules[urlIndex]);
                    resolveImports(cssText, node, baseUrl, callbackFn, __errorData, __errorRules);
                },
                onComplete: function onComplete(responseArray) {
                    responseArray.forEach((function(importText, i) {
                        cssText = cssText.replace(importData.rules[i], importText);
                    }));
                    resolveImports(cssText, node, baseUrl, callbackFn, __errorData, __errorRules);
                }
            });
        } else {
            callbackFn(cssText, __errorData);
        }
    }
    if (sourceNodes.length) {
        sourceNodes.forEach((function(node, i) {
            var linkHref = node.getAttribute("href");
            var linkRel = node.getAttribute("rel");
            var isLink = node.nodeName === "LINK" && linkHref && linkRel && linkRel.toLowerCase().indexOf("stylesheet") !== -1;
            var isSkip = settings.skipDisabled === false ? false : node.disabled;
            var isStyle = node.nodeName === "STYLE";
            if (isLink && !isSkip) {
                getUrls(linkHref, {
                    mimeType: "text/css",
                    onBeforeSend: function onBeforeSend(xhr, url, urlIndex) {
                        settings.onBeforeSend(xhr, node, url);
                    },
                    onSuccess: function onSuccess(cssText, url, urlIndex) {
                        var sourceUrl = getFullUrl(linkHref);
                        handleSuccess(cssText, i, node, sourceUrl);
                    },
                    onError: function onError(xhr, url, urlIndex) {
                        cssArray[i] = "";
                        settings.onError(xhr, node, url);
                        handleComplete();
                    }
                });
            } else if (isStyle && !isSkip) {
                var cssText = node.textContent;
                if (settings.useCSSOM) {
                    cssText = Array.apply(null, node.sheet.cssRules).map((function(rule) {
                        return rule.cssText;
                    })).join("");
                }
                handleSuccess(cssText, i, node, location.href);
            } else {
                cssArray[i] = "";
                handleComplete();
            }
        }));
    } else {
        settings.onComplete("", []);
    }
}

function getFullUrl(url, base) {
    var d = document.implementation.createHTMLDocument("");
    var b = d.createElement("base");
    var a = d.createElement("a");
    d.head.appendChild(b);
    d.body.appendChild(a);
    b.href = base || document.baseURI || (document.querySelector("base") || {}).href || location.href;
    a.href = url;
    return a.href;
}

function matchesSelector(elm, selector) {
    var matches = elm.matches || elm.matchesSelector || elm.webkitMatchesSelector || elm.mozMatchesSelector || elm.msMatchesSelector || elm.oMatchesSelector;
    return matches.call(elm, selector);
}

var balancedMatch = balanced;

function balanced(a, b, str) {
    if (a instanceof RegExp) a = maybeMatch(a, str);
    if (b instanceof RegExp) b = maybeMatch(b, str);
    var r = range(a, b, str);
    return r && {
        start: r[0],
        end: r[1],
        pre: str.slice(0, r[0]),
        body: str.slice(r[0] + a.length, r[1]),
        post: str.slice(r[1] + b.length)
    };
}

function maybeMatch(reg, str) {
    var m = str.match(reg);
    return m ? m[0] : null;
}

balanced.range = range;

function range(a, b, str) {
    var begs, beg, left, right, result;
    var ai = str.indexOf(a);
    var bi = str.indexOf(b, ai + 1);
    var i = ai;
    if (ai >= 0 && bi > 0) {
        begs = [];
        left = str.length;
        while (i >= 0 && !result) {
            if (i == ai) {
                begs.push(i);
                ai = str.indexOf(a, i + 1);
            } else if (begs.length == 1) {
                result = [ begs.pop(), bi ];
            } else {
                beg = begs.pop();
                if (beg < left) {
                    left = beg;
                    right = bi;
                }
                bi = str.indexOf(b, i + 1);
            }
            i = ai < bi && ai >= 0 ? ai : bi;
        }
        if (begs.length) {
            result = [ left, right ];
        }
    }
    return result;
}

function parseCss(css) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    var defaults = {
        preserveStatic: true,
        removeComments: false
    };
    var settings = _extends({}, defaults, options);
    var errors = [];
    function error(msg) {
        throw new Error("CSS parse error: ".concat(msg));
    }
    function match(re) {
        var m = re.exec(css);
        if (m) {
            css = css.slice(m[0].length);
            return m;
        }
    }
    function open() {
        return match(/^{\s*/);
    }
    function close() {
        return match(/^}/);
    }
    function whitespace() {
        match(/^\s*/);
    }
    function comment() {
        whitespace();
        if (css[0] !== "/" || css[1] !== "*") {
            return;
        }
        var i = 2;
        while (css[i] && (css[i] !== "*" || css[i + 1] !== "/")) {
            i++;
        }
        if (!css[i]) {
            return error("end of comment is missing");
        }
        var str = css.slice(2, i);
        css = css.slice(i + 2);
        return {
            type: "comment",
            comment: str
        };
    }
    function comments() {
        var cmnts = [];
        var c;
        while (c = comment()) {
            cmnts.push(c);
        }
        return settings.removeComments ? [] : cmnts;
    }
    function selector() {
        whitespace();
        while (css[0] === "}") {
            error("extra closing bracket");
        }
        var m = match(/^(("(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^{])+)/);
        if (m) {
            return m[0].trim().replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g, "").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g, (function(m) {
                return m.replace(/,/g, "");
            })).split(/\s*(?![^(]*\)),\s*/).map((function(s) {
                return s.replace(/\u200C/g, ",");
            }));
        }
    }
    function declaration() {
        if (css[0] === "@") {
            return at_rule();
        }
        match(/^([;\s]*)+/);
        var comment_regexp = /\/\*[^*]*\*+([^/*][^*]*\*+)*\//g;
        var prop = match(/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);
        if (!prop) {
            return;
        }
        prop = prop[0].trim();
        if (!match(/^:\s*/)) {
            return error("property missing ':'");
        }
        var val = match(/^((?:\/\*.*?\*\/|'(?:\\'|.)*?'|"(?:\\"|.)*?"|\((\s*'(?:\\'|.)*?'|"(?:\\"|.)*?"|[^)]*?)\s*\)|[^};])+)/);
        var ret = {
            type: "declaration",
            property: prop.replace(comment_regexp, ""),
            value: val ? val[0].replace(comment_regexp, "").trim() : ""
        };
        match(/^[;\s]*/);
        return ret;
    }
    function declarations() {
        if (!open()) {
            return error("missing '{'");
        }
        var d;
        var decls = comments();
        while (d = declaration()) {
            decls.push(d);
            decls = decls.concat(comments());
        }
        if (!close()) {
            return error("missing '}'");
        }
        return decls;
    }
    function keyframe() {
        whitespace();
        var vals = [];
        var m;
        while (m = match(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/)) {
            vals.push(m[1]);
            match(/^,\s*/);
        }
        if (vals.length) {
            return {
                type: "keyframe",
                values: vals,
                declarations: declarations()
            };
        }
    }
    function at_keyframes() {
        var m = match(/^@([-\w]+)?keyframes\s*/);
        if (!m) {
            return;
        }
        var vendor = m[1];
        m = match(/^([-\w]+)\s*/);
        if (!m) {
            return error("@keyframes missing name");
        }
        var name = m[1];
        if (!open()) {
            return error("@keyframes missing '{'");
        }
        var frame;
        var frames = comments();
        while (frame = keyframe()) {
            frames.push(frame);
            frames = frames.concat(comments());
        }
        if (!close()) {
            return error("@keyframes missing '}'");
        }
        return {
            type: "keyframes",
            name: name,
            vendor: vendor,
            keyframes: frames
        };
    }
    function at_page() {
        var m = match(/^@page */);
        if (m) {
            var sel = selector() || [];
            return {
                type: "page",
                selectors: sel,
                declarations: declarations()
            };
        }
    }
    function at_page_margin_box() {
        var m = match(/@(top|bottom|left|right)-(left|center|right|top|middle|bottom)-?(corner)?\s*/);
        if (m) {
            var name = "".concat(m[1], "-").concat(m[2]) + (m[3] ? "-".concat(m[3]) : "");
            return {
                type: "page-margin-box",
                name: name,
                declarations: declarations()
            };
        }
    }
    function at_fontface() {
        var m = match(/^@font-face\s*/);
        if (m) {
            return {
                type: "font-face",
                declarations: declarations()
            };
        }
    }
    function at_supports() {
        var m = match(/^@supports *([^{]+)/);
        if (m) {
            return {
                type: "supports",
                supports: m[1].trim(),
                rules: rules()
            };
        }
    }
    function at_host() {
        var m = match(/^@host\s*/);
        if (m) {
            return {
                type: "host",
                rules: rules()
            };
        }
    }
    function at_media() {
        var m = match(/^@media([^{]+)*/);
        if (m) {
            return {
                type: "media",
                media: (m[1] || "").trim(),
                rules: rules()
            };
        }
    }
    function at_custom_m() {
        var m = match(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);
        if (m) {
            return {
                type: "custom-media",
                name: m[1].trim(),
                media: m[2].trim()
            };
        }
    }
    function at_document() {
        var m = match(/^@([-\w]+)?document *([^{]+)/);
        if (m) {
            return {
                type: "document",
                document: m[2].trim(),
                vendor: m[1] ? m[1].trim() : null,
                rules: rules()
            };
        }
    }
    function at_x() {
        var m = match(/^@(import|charset|namespace)\s*([^;]+);/);
        if (m) {
            return {
                type: m[1],
                name: m[2].trim()
            };
        }
    }
    function at_rule() {
        whitespace();
        if (css[0] === "@") {
            var ret = at_x() || at_fontface() || at_media() || at_keyframes() || at_supports() || at_document() || at_custom_m() || at_host() || at_page() || at_page_margin_box();
            if (ret && !settings.preserveStatic) {
                var hasVarFunc = false;
                if (ret.declarations) {
                    hasVarFunc = ret.declarations.some((function(decl) {
                        return /var\(/.test(decl.value);
                    }));
                } else {
                    var arr = ret.keyframes || ret.rules || [];
                    hasVarFunc = arr.some((function(obj) {
                        return (obj.declarations || []).some((function(decl) {
                            return /var\(/.test(decl.value);
                        }));
                    }));
                }
                return hasVarFunc ? ret : {};
            }
            return ret;
        }
    }
    function rule() {
        if (!settings.preserveStatic) {
            var balancedMatch$1 = balancedMatch("{", "}", css);
            if (balancedMatch$1) {
                var hasVarDecl = /:(?:root|host)(?![.:#(])/.test(balancedMatch$1.pre) && /--\S*\s*:/.test(balancedMatch$1.body);
                var hasVarFunc = /var\(/.test(balancedMatch$1.body);
                if (!hasVarDecl && !hasVarFunc) {
                    css = css.slice(balancedMatch$1.end + 1);
                    return {};
                }
            }
        }
        var sel = selector() || [];
        var decls = settings.preserveStatic ? declarations() : declarations().filter((function(decl) {
            var hasVarDecl = sel.some((function(s) {
                return /:(?:root|host)(?![.:#(])/.test(s);
            })) && /^--\S/.test(decl.property);
            var hasVarFunc = /var\(/.test(decl.value);
            return hasVarDecl || hasVarFunc;
        }));
        if (!sel.length) {
            error("selector missing");
        }
        return {
            type: "rule",
            selectors: sel,
            declarations: decls
        };
    }
    function rules(core) {
        if (!core && !open()) {
            return error("missing '{'");
        }
        var node;
        var rules = comments();
        while (css.length && (core || css[0] !== "}") && (node = at_rule() || rule())) {
            if (node.type) {
                rules.push(node);
            }
            rules = rules.concat(comments());
        }
        if (!core && !close()) {
            return error("missing '}'");
        }
        return rules;
    }
    return {
        type: "stylesheet",
        stylesheet: {
            rules: rules(true),
            errors: errors
        }
    };
}

function parseVars(cssData) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    var defaults = {
        parseHost: false,
        store: {},
        onWarning: function onWarning() {}
    };
    var settings = _extends({}, defaults, options);
    var reVarDeclSelectors = new RegExp(":".concat(settings.parseHost ? "host" : "root", "$"));
    if (typeof cssData === "string") {
        cssData = parseCss(cssData, settings);
    }
    cssData.stylesheet.rules.forEach((function(rule) {
        if (rule.type !== "rule" || !rule.selectors.some((function(s) {
            return reVarDeclSelectors.test(s);
        }))) {
            return;
        }
        rule.declarations.forEach((function(decl, i) {
            var prop = decl.property;
            var value = decl.value;
            if (prop && prop.indexOf("--") === 0) {
                settings.store[prop] = value;
            }
        }));
    }));
    return settings.store;
}

function stringifyCss(tree) {
    var delim = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "";
    var cb = arguments.length > 2 ? arguments[2] : undefined;
    var renderMethods = {
        charset: function charset(node) {
            return "@charset " + node.name + ";";
        },
        comment: function comment(node) {
            return node.comment.indexOf("__CSSVARSPONYFILL") === 0 ? "/*" + node.comment + "*/" : "";
        },
        "custom-media": function customMedia(node) {
            return "@custom-media " + node.name + " " + node.media + ";";
        },
        declaration: function declaration(node) {
            return node.property + ":" + node.value + ";";
        },
        document: function document(node) {
            return "@" + (node.vendor || "") + "document " + node.document + "{" + visit(node.rules) + "}";
        },
        "font-face": function fontFace(node) {
            return "@font-face" + "{" + visit(node.declarations) + "}";
        },
        host: function host(node) {
            return "@host" + "{" + visit(node.rules) + "}";
        },
        import: function _import(node) {
            return "@import " + node.name + ";";
        },
        keyframe: function keyframe(node) {
            return node.values.join(",") + "{" + visit(node.declarations) + "}";
        },
        keyframes: function keyframes(node) {
            return "@" + (node.vendor || "") + "keyframes " + node.name + "{" + visit(node.keyframes) + "}";
        },
        media: function media(node) {
            return "@media " + node.media + "{" + visit(node.rules) + "}";
        },
        namespace: function namespace(node) {
            return "@namespace " + node.name + ";";
        },
        page: function page(node) {
            return "@page " + (node.selectors.length ? node.selectors.join(", ") : "") + "{" + visit(node.declarations) + "}";
        },
        "page-margin-box": function pageMarginBox(node) {
            return "@" + node.name + "{" + visit(node.declarations) + "}";
        },
        rule: function rule(node) {
            var decls = node.declarations;
            if (decls.length) {
                return node.selectors.join(",") + "{" + visit(decls) + "}";
            }
        },
        supports: function supports(node) {
            return "@supports " + node.supports + "{" + visit(node.rules) + "}";
        }
    };
    function visit(nodes) {
        var buf = "";
        for (var i = 0; i < nodes.length; i++) {
            var n = nodes[i];
            if (cb) {
                cb(n);
            }
            var txt = renderMethods[n.type](n);
            if (txt) {
                buf += txt;
                if (txt.length && n.selectors) {
                    buf += delim;
                }
            }
        }
        return buf;
    }
    return visit(tree.stylesheet.rules);
}

function walkCss(node, fn) {
    node.rules.forEach((function(rule) {
        if (rule.rules) {
            walkCss(rule, fn);
            return;
        }
        if (rule.keyframes) {
            rule.keyframes.forEach((function(keyframe) {
                if (keyframe.type === "keyframe") {
                    fn(keyframe.declarations, rule);
                }
            }));
            return;
        }
        if (!rule.declarations) {
            return;
        }
        fn(rule.declarations, node);
    }));
}

var VAR_PROP_IDENTIFIER = "--";

var VAR_FUNC_IDENTIFIER = "var";

function transformCss(cssData) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    var defaults = {
        preserveStatic: true,
        preserveVars: false,
        variables: {},
        onWarning: function onWarning() {}
    };
    var settings = _extends({}, defaults, options);
    if (typeof cssData === "string") {
        cssData = parseCss(cssData, settings);
    }
    walkCss(cssData.stylesheet, (function(declarations, node) {
        for (var i = 0; i < declarations.length; i++) {
            var decl = declarations[i];
            var type = decl.type;
            var prop = decl.property;
            var value = decl.value;
            if (type !== "declaration") {
                continue;
            }
            if (!settings.preserveVars && prop && prop.indexOf(VAR_PROP_IDENTIFIER) === 0) {
                declarations.splice(i, 1);
                i--;
                continue;
            }
            if (value.indexOf(VAR_FUNC_IDENTIFIER + "(") !== -1) {
                var resolvedValue = resolveValue(value, settings);
                if (resolvedValue !== decl.value) {
                    resolvedValue = fixNestedCalc(resolvedValue);
                    if (!settings.preserveVars) {
                        decl.value = resolvedValue;
                    } else {
                        declarations.splice(i, 0, {
                            type: type,
                            property: prop,
                            value: resolvedValue
                        });
                        i++;
                    }
                }
            }
        }
    }));
    return stringifyCss(cssData);
}

function fixNestedCalc(value) {
    var reCalcVal = /calc\(([^)]+)\)/g;
    (value.match(reCalcVal) || []).forEach((function(match) {
        var newVal = "calc".concat(match.split("calc").join(""));
        value = value.replace(match, newVal);
    }));
    return value;
}

function resolveValue(value) {
    var settings = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    var __recursiveFallback = arguments.length > 2 ? arguments[2] : undefined;
    if (value.indexOf("var(") === -1) {
        return value;
    }
    var valueData = balancedMatch("(", ")", value);
    function resolveFunc(value) {
        var name = value.split(",")[0].replace(/[\s\n\t]/g, "");
        var fallback = (value.match(/(?:\s*,\s*){1}(.*)?/) || [])[1];
        var match = Object.prototype.hasOwnProperty.call(settings.variables, name) ? String(settings.variables[name]) : undefined;
        var replacement = match || (fallback ? String(fallback) : undefined);
        var unresolvedFallback = __recursiveFallback || value;
        if (!match) {
            settings.onWarning('variable "'.concat(name, '" is undefined'));
        }
        if (replacement && replacement !== "undefined" && replacement.length > 0) {
            return resolveValue(replacement, settings, unresolvedFallback);
        } else {
            return "var(".concat(unresolvedFallback, ")");
        }
    }
    if (!valueData) {
        if (value.indexOf("var(") !== -1) {
            settings.onWarning('missing closing ")" in the value "'.concat(value, '"'));
        }
        return value;
    } else if (valueData.pre.slice(-3) === "var") {
        var isEmptyVarFunc = valueData.body.trim().length === 0;
        if (isEmptyVarFunc) {
            settings.onWarning("var() must contain a non-whitespace string");
            return value;
        } else {
            return valueData.pre.slice(0, -3) + resolveFunc(valueData.body) + resolveValue(valueData.post, settings);
        }
    } else {
        return valueData.pre + "(".concat(resolveValue(valueData.body, settings), ")") + resolveValue(valueData.post, settings);
    }
}

var isBrowser = typeof window !== "undefined";

var isNativeSupport = isBrowser && window.CSS && window.CSS.supports && window.CSS.supports("(--a: 0)");

var counters = {
    group: 0,
    job: 0
};

var defaults = {
    rootElement: isBrowser ? document : null,
    shadowDOM: false,
    include: "style,link[rel=stylesheet]",
    exclude: "",
    variables: {},
    onlyLegacy: true,
    preserveStatic: true,
    preserveVars: false,
    silent: false,
    updateDOM: true,
    updateURLs: true,
    watch: null,
    onBeforeSend: function onBeforeSend() {},
    onError: function onError() {},
    onWarning: function onWarning() {},
    onSuccess: function onSuccess() {},
    onComplete: function onComplete() {},
    onFinally: function onFinally() {}
};

var regex = {
    cssComments: /\/\*[\s\S]+?\*\//g,
    cssKeyframes: /@(?:-\w*-)?keyframes/,
    cssMediaQueries: /@media[^{]+\{([\s\S]+?})\s*}/g,
    cssUrls: /url\((?!['"]?(?:data|http|\/\/):)['"]?([^'")]*)['"]?\)/g,
    cssVarDeclRules: /(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^}]*})/g,
    cssVarDecls: /(?:[\s;]*)(-{2}\w[\w-]*)(?:\s*:\s*)([^;]*);/g,
    cssVarFunc: /var\(\s*--[\w-]/,
    cssVars: /(?:(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^;]*;*\s*)|(?:var\(\s*))(--[^:)]+)(?:\s*[:)])/
};

var variableStore = {
    dom: {},
    job: {},
    user: {}
};

var cssVarsIsRunning = false;

var cssVarsObserver = null;

var cssVarsSrcNodeCount = 0;

var debounceTimer = null;

var isShadowDOMReady = false;

/**
 * Fetches, parses, and transforms CSS custom properties from specified
 * <style> and <link> elements into static values, then appends a new <style>
 * element with static values to the DOM to provide CSS custom property
 * compatibility for legacy browsers. Also provides a single interface for
 * live updates of runtime values in both modern and legacy browsers.
 *
 * @preserve
 * @param {object}   [options] Options object
 * @param {object}   [options.rootElement=document] Root element to traverse for
 *                   <link> and <style> nodes
 * @param {boolean}  [options.shadowDOM=false] Determines if shadow DOM <link>
 *                   and <style> nodes will be processed.
 * @param {string}   [options.include="style,link[rel=stylesheet]"] CSS selector
 *                   matching <link re="stylesheet"> and <style> nodes to
 *                   process
 * @param {string}   [options.exclude] CSS selector matching <link
 *                   rel="stylehseet"> and <style> nodes to exclude from those
 *                   matches by options.include
 * @param {object}   [options.variables] A map of custom property name/value
 *                   pairs. Property names can omit or include the leading
 *                   double-hyphen (), and values specified will override
 *                   previous values
 * @param {boolean}  [options.onlyLegacy=true] Determines if the ponyfill will
 *                   only generate legacy-compatible CSS in browsers that lack
 *                   native support (i.e., legacy browsers)
 * @param {boolean}  [options.preserveStatic=true] Determines if CSS
 *                   declarations that do not reference a custom property will
 *                   be preserved in the transformed CSS
 * @param {boolean}  [options.preserveVars=false] Determines if CSS custom
 *                   property declarations will be preserved in the transformed
 *                   CSS
 * @param {boolean}  [options.silent=false] Determines if warning and error
 *                   messages will be displayed on the console
 * @param {boolean}  [options.updateDOM=true] Determines if the ponyfill will
 *                   update the DOM after processing CSS custom properties
 * @param {boolean}  [options.updateURLs=true] Determines if relative url()
 *                   paths will be converted to absolute urls in external CSS
 * @param {boolean}  [options.watch=false] Determines if a MutationObserver will
 *                   be created that will execute the ponyfill when a <link> or
 *                   <style> DOM mutation is observed
 * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes
 *                   1) the XHR object, 2) source node reference, and 3) the
 *                   source URL as arguments
 * @param {function} [options.onError] Callback after a CSS parsing error has
 *                   occurred or an XHR request has failed. Passes 1) an error
 *                   message, and 2) source node reference, 3) xhr, and 4 url as
 *                   arguments.
 * @param {function} [options.onWarning] Callback after each CSS parsing warning
 *                   has occurred. Passes 1) a warning message as an argument.
 * @param {function} [options.onSuccess] Callback after CSS data has been
 *                   collected from each node and before CSS custom properties
 *                   have been transformed. Allows modifying the CSS data before
 *                   it is transformed by returning any string value (or false
 *                   to skip). Passes 1) CSS text, 2) source node reference, and
 *                   3) the source URL as arguments.
 * @param {function} [options.onComplete] Callback after all CSS has been
 *                   processed, legacy-compatible CSS has been generated, and
 *                   (optionally) the DOM has been updated. Passes 1) a CSS
 *                   string with CSS variable values resolved, 2) an array of
 *                   output <style> node references that have been appended to
 *                   the DOM, 3) an object containing all custom properies names
 *                   and values, and 4) the ponyfill execution time in
 *                   milliseconds.
 * @param {function} [options.onFinally] Callback in modern and legacy browsers
 *                   after the ponyfill has finished all tasks. Passes 1) a
 *                   boolean indicating if the last ponyfill call resulted in a
 *                   style change, 2) a boolean indicating if the current
 *                   browser provides native support for CSS custom properties,
 *                   and 3) the ponyfill execution time in milliseconds.
 * @example
 *
 *   cssVars({
 *     rootElement   : document,
 *     shadowDOM     : false,
 *     include       : 'style,link[rel="stylesheet"]',
 *     exclude       : '',
 *     variables     : {},
 *     onlyLegacy    : true,
 *     preserveStatic: true,
 *     preserveVars  : false,
 *     silent        : false,
 *     updateDOM     : true,
 *     updateURLs    : true,
 *     watch         : false,
 *     onBeforeSend(xhr, node, url) {},
 *     onError(message, node, xhr, url) {},
 *     onWarning(message) {},
 *     onSuccess(cssText, node, url) {},
 *     onComplete(cssText, styleNode, cssVariables, benchmark) {},
 *     onFinally(hasChanged, hasNativeSupport, benchmark)
 *   });
 */ function cssVars() {
    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    var msgPrefix = "cssVars(): ";
    var settings = _extends({}, defaults, options);
    function handleError(message, sourceNode, xhr, url) {
        if (!settings.silent && window.console) {
            console.error("".concat(msgPrefix).concat(message, "\n"), sourceNode);
        }
        settings.onError(message, sourceNode, xhr, url);
    }
    function handleWarning(message) {
        if (!settings.silent && window.console) {
            console.warn("".concat(msgPrefix).concat(message));
        }
        settings.onWarning(message);
    }
    function handleFinally(hasChanged) {
        settings.onFinally(Boolean(hasChanged), isNativeSupport, getTimeStamp() - settings.__benchmark);
    }
    if (!isBrowser) {
        return;
    }
    if (settings.watch) {
        settings.watch = defaults.watch;
        addMutationObserver(settings);
        cssVars(settings);
        return;
    } else if (settings.watch === false && cssVarsObserver) {
        cssVarsObserver.disconnect();
        cssVarsObserver = null;
    }
    if (!settings.__benchmark) {
        if (cssVarsIsRunning === settings.rootElement) {
            cssVarsDebounced(options);
            return;
        }
        var srcNodes = Array.apply(null, settings.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])'));
        settings.__benchmark = getTimeStamp();
        settings.exclude = [ cssVarsObserver ? '[data-cssvars]:not([data-cssvars=""])' : '[data-cssvars="out"]', "link[disabled]", settings.exclude ].filter((function(selector) {
            return selector;
        })).join(",");
        settings.variables = fixVarNames(settings.variables);
        srcNodes.forEach((function(srcNode) {
            var hasStyleCache = srcNode.tagName === "STYLE" && srcNode.__cssVars.text;
            var hasStyleChanged = hasStyleCache && srcNode.textContent !== srcNode.__cssVars.text;
            if (hasStyleCache && hasStyleChanged) {
                srcNode.sheet.disabled = false;
                srcNode.setAttribute("data-cssvars", "");
            }
        }));
        if (!cssVarsObserver) {
            var outNodes = Array.apply(null, settings.rootElement.querySelectorAll('[data-cssvars="out"]'));
            outNodes.forEach((function(outNode) {
                var dataGroup = outNode.getAttribute("data-cssvars-group");
                var srcNode = dataGroup ? settings.rootElement.querySelector('[data-cssvars="src"][data-cssvars-group="'.concat(dataGroup, '"]')) : null;
                if (!srcNode) {
                    outNode.parentNode.removeChild(outNode);
                }
            }));
            if (cssVarsSrcNodeCount && srcNodes.length < cssVarsSrcNodeCount) {
                cssVarsSrcNodeCount = srcNodes.length;
                variableStore.dom = {};
            }
        }
    }
    if (document.readyState !== "loading") {
        if (isNativeSupport && settings.onlyLegacy) {
            var hasVarChange = false;
            if (settings.updateDOM) {
                var targetElm = settings.rootElement.host || (settings.rootElement === document ? document.documentElement : settings.rootElement);
                Object.keys(settings.variables).forEach((function(key) {
                    var varValue = settings.variables[key];
                    hasVarChange = hasVarChange || varValue !== getComputedStyle(targetElm).getPropertyValue(key);
                    targetElm.style.setProperty(key, varValue);
                }));
            }
            handleFinally(hasVarChange);
        } else if (!isShadowDOMReady && (settings.shadowDOM || settings.rootElement.shadowRoot || settings.rootElement.host)) {
            getCssData({
                rootElement: defaults.rootElement,
                include: defaults.include,
                exclude: settings.exclude,
                skipDisabled: false,
                onSuccess: function onSuccess(cssText, node, url) {
                    cssText = cssText.replace(regex.cssComments, "").replace(regex.cssMediaQueries, "");
                    cssText = (cssText.match(regex.cssVarDeclRules) || []).join("");
                    return cssText || false;
                },
                onComplete: function onComplete(cssText, cssArray, nodeArray) {
                    parseVars(cssText, {
                        store: variableStore.dom,
                        onWarning: handleWarning
                    });
                    isShadowDOMReady = true;
                    cssVars(settings);
                }
            });
        } else {
            cssVarsIsRunning = settings.rootElement;
            getCssData({
                rootElement: settings.rootElement,
                include: settings.include,
                exclude: settings.exclude,
                skipDisabled: false,
                onBeforeSend: settings.onBeforeSend,
                onError: function onError(xhr, node, url) {
                    var responseUrl = xhr.responseURL || getFullUrl$1(url, location.href);
                    var statusText = xhr.statusText ? "(".concat(xhr.statusText, ")") : "Unspecified Error" + (xhr.status === 0 ? " (possibly CORS related)" : "");
                    var errorMsg = "CSS XHR Error: ".concat(responseUrl, " ").concat(xhr.status, " ").concat(statusText);
                    handleError(errorMsg, node, xhr, responseUrl);
                },
                onSuccess: function onSuccess(cssText, node, url) {
                    var isLink = node.tagName === "LINK";
                    var isStyleImport = node.tagName === "STYLE" && cssText !== node.textContent;
                    var returnVal = settings.onSuccess(cssText, node, url);
                    cssText = returnVal !== undefined && Boolean(returnVal) === false ? "" : returnVal || cssText;
                    if (settings.updateURLs && (isLink || isStyleImport)) {
                        cssText = fixRelativeCssUrls(cssText, url);
                    }
                    return cssText;
                },
                onComplete: function onComplete(cssText, cssArray) {
                    var nodeArray = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];
                    var currentVars = _extends({}, variableStore.dom, variableStore.user);
                    var hasVarChange = false;
                    variableStore.job = {};
                    nodeArray.forEach((function(node, i) {
                        var nodeCSS = cssArray[i];
                        node.__cssVars = node.__cssVars || {};
                        node.__cssVars.text = nodeCSS;
                        if (regex.cssVars.test(nodeCSS)) {
                            try {
                                var cssTree = parseCss(nodeCSS, {
                                    preserveStatic: settings.preserveStatic,
                                    removeComments: true
                                });
                                parseVars(cssTree, {
                                    parseHost: Boolean(settings.rootElement.host),
                                    store: variableStore.dom,
                                    onWarning: handleWarning
                                });
                                node.__cssVars.tree = cssTree;
                            } catch (err) {
                                handleError(err.message, node);
                            }
                        }
                    }));
                    _extends(variableStore.job, variableStore.dom);
                    if (settings.updateDOM) {
                        _extends(variableStore.user, settings.variables);
                        _extends(variableStore.job, variableStore.user);
                    } else {
                        _extends(variableStore.job, variableStore.user, settings.variables);
                        _extends(currentVars, settings.variables);
                    }
                    hasVarChange = counters.job > 0 && Boolean(Object.keys(variableStore.job).length > Object.keys(currentVars).length || Boolean(Object.keys(currentVars).length && Object.keys(variableStore.job).some((function(key) {
                        return variableStore.job[key] !== currentVars[key];
                    }))));
                    if (hasVarChange) {
                        resetCssNodes(settings.rootElement);
                        cssVars(settings);
                    } else {
                        var outCssArray = [];
                        var outNodeArray = [];
                        var hasKeyframesWithVars = false;
                        if (settings.updateDOM) {
                            counters.job++;
                        }
                        nodeArray.forEach((function(node, i) {
                            var isSkip = !node.__cssVars.tree;
                            if (node.__cssVars.tree) {
                                try {
                                    transformCss(node.__cssVars.tree, _extends({}, settings, {
                                        variables: variableStore.job,
                                        onWarning: handleWarning
                                    }));
                                    var outCss = stringifyCss(node.__cssVars.tree);
                                    if (settings.updateDOM) {
                                        var nodeCSS = cssArray[i];
                                        var hasCSSVarFunc = regex.cssVarFunc.test(nodeCSS);
                                        if (!node.getAttribute("data-cssvars")) {
                                            node.setAttribute("data-cssvars", "src");
                                        }
                                        if (outCss.length && hasCSSVarFunc) {
                                            var dataGroup = node.getAttribute("data-cssvars-group") || ++counters.group;
                                            var outCssNoSpaces = outCss.replace(/\s/g, "");
                                            var outNode = settings.rootElement.querySelector('[data-cssvars="out"][data-cssvars-group="'.concat(dataGroup, '"]')) || document.createElement("style");
                                            hasKeyframesWithVars = hasKeyframesWithVars || regex.cssKeyframes.test(outCss);
                                            if (settings.preserveStatic) {
                                                node.sheet.disabled = true;
                                            }
                                            if (!outNode.hasAttribute("data-cssvars")) {
                                                outNode.setAttribute("data-cssvars", "out");
                                            }
                                            if (outCssNoSpaces === node.textContent.replace(/\s/g, "")) {
                                                isSkip = true;
                                                if (outNode && outNode.parentNode) {
                                                    node.removeAttribute("data-cssvars-group");
                                                    outNode.parentNode.removeChild(outNode);
                                                }
                                            } else if (outCssNoSpaces !== outNode.textContent.replace(/\s/g, "")) {
                                                [ node, outNode ].forEach((function(n) {
                                                    n.setAttribute("data-cssvars-job", counters.job);
                                                    n.setAttribute("data-cssvars-group", dataGroup);
                                                }));
                                                outNode.textContent = outCss;
                                                outCssArray.push(outCss);
                                                outNodeArray.push(outNode);
                                                if (!outNode.parentNode) {
                                                    node.parentNode.insertBefore(outNode, node.nextSibling);
                                                }
                                            }
                                        }
                                    } else {
                                        if (node.textContent.replace(/\s/g, "") !== outCss) {
                                            outCssArray.push(outCss);
                                        }
                                    }
                                } catch (err) {
                                    handleError(err.message, node);
                                }
                            }
                            if (isSkip) {
                                node.setAttribute("data-cssvars", "skip");
                            }
                            if (!node.hasAttribute("data-cssvars-job")) {
                                node.setAttribute("data-cssvars-job", counters.job);
                            }
                        }));
                        cssVarsSrcNodeCount = settings.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])').length;
                        if (settings.shadowDOM) {
                            var elms = [].concat(settings.rootElement).concat(Array.apply(null, settings.rootElement.querySelectorAll("*")));
                            for (var i = 0, elm; elm = elms[i]; ++i) {
                                if (elm.shadowRoot && elm.shadowRoot.querySelector("style")) {
                                    var shadowSettings = _extends({}, settings, {
                                        rootElement: elm.shadowRoot
                                    });
                                    cssVars(shadowSettings);
                                }
                            }
                        }
                        if (settings.updateDOM && hasKeyframesWithVars) {
                            fixKeyframes(settings.rootElement);
                        }
                        cssVarsIsRunning = false;
                        settings.onComplete(outCssArray.join(""), outNodeArray, JSON.parse(JSON.stringify(variableStore.job)), getTimeStamp() - settings.__benchmark);
                        handleFinally(outNodeArray.length);
                    }
                }
            });
        }
    } else {
        document.addEventListener("DOMContentLoaded", (function init(evt) {
            cssVars(options);
            document.removeEventListener("DOMContentLoaded", init);
        }));
    }
}

cssVars.reset = function() {
    counters.job = 0;
    counters.group = 0;
    cssVarsIsRunning = false;
    if (cssVarsObserver) {
        cssVarsObserver.disconnect();
        cssVarsObserver = null;
    }
    cssVarsSrcNodeCount = 0;
    debounceTimer = null;
    isShadowDOMReady = false;
    for (var prop in variableStore) {
        variableStore[prop] = {};
    }
};

function addMutationObserver(settings) {
    function isDisabled(node) {
        var isDisabledAttr = isLink(node) && node.hasAttribute("disabled");
        var isDisabledSheet = (node.sheet || {}).disabled;
        return isDisabledAttr || isDisabledSheet;
    }
    function isLink(node) {
        var isStylesheet = node.tagName === "LINK" && (node.getAttribute("rel") || "").indexOf("stylesheet") !== -1;
        return isStylesheet;
    }
    function isStyle(node) {
        return node.tagName === "STYLE";
    }
    function isValidAttributeMutation(mutation) {
        var isValid = false;
        if (mutation.type === "attributes" && isLink(mutation.target) && !isDisabled(mutation.target)) {
            var isEnabledMutation = mutation.attributeName === "disabled";
            var isHrefMutation = mutation.attributeName === "href";
            var isSkipNode = mutation.target.getAttribute("data-cssvars") === "skip";
            var isSrcNode = mutation.target.getAttribute("data-cssvars") === "src";
            if (isEnabledMutation) {
                isValid = !isSkipNode && !isSrcNode;
            } else if (isHrefMutation) {
                if (isSkipNode) {
                    mutation.target.setAttribute("data-cssvars", "");
                } else if (isSrcNode) {
                    resetCssNodes(settings.rootElement, true);
                }
                isValid = true;
            }
        }
        return isValid;
    }
    function isValidStyleTextMutation(mutation) {
        var isValid = false;
        if (mutation.type === "childList") {
            var isStyleElm = isStyle(mutation.target);
            var isOutNode = mutation.target.getAttribute("data-cssvars") === "out";
            isValid = isStyleElm && !isOutNode;
        }
        return isValid;
    }
    function isValidAddMutation(mutation) {
        var isValid = false;
        if (mutation.type === "childList") {
            isValid = Array.apply(null, mutation.addedNodes).some((function(node) {
                var isElm = node.nodeType === 1;
                var hasAttr = isElm && node.hasAttribute("data-cssvars");
                var isStyleWithVars = isStyle(node) && regex.cssVars.test(node.textContent);
                var isValid = !hasAttr && (isLink(node) || isStyleWithVars);
                return isValid && !isDisabled(node);
            }));
        }
        return isValid;
    }
    function isValidRemoveMutation(mutation) {
        var isValid = false;
        if (mutation.type === "childList") {
            isValid = Array.apply(null, mutation.removedNodes).some((function(node) {
                var isElm = node.nodeType === 1;
                var isOutNode = isElm && node.getAttribute("data-cssvars") === "out";
                var isSrcNode = isElm && node.getAttribute("data-cssvars") === "src";
                var isValid = isSrcNode;
                if (isSrcNode || isOutNode) {
                    var dataGroup = node.getAttribute("data-cssvars-group");
                    var orphanNode = settings.rootElement.querySelector('[data-cssvars-group="'.concat(dataGroup, '"]'));
                    if (isSrcNode) {
                        resetCssNodes(settings.rootElement, true);
                    }
                    if (orphanNode) {
                        orphanNode.parentNode.removeChild(orphanNode);
                    }
                }
                return isValid;
            }));
        }
        return isValid;
    }
    if (!window.MutationObserver) {
        return;
    }
    if (cssVarsObserver) {
        cssVarsObserver.disconnect();
        cssVarsObserver = null;
    }
    cssVarsObserver = new MutationObserver((function(mutations) {
        var hasValidMutation = mutations.some((function(mutation) {
            return isValidAttributeMutation(mutation) || isValidStyleTextMutation(mutation) || isValidAddMutation(mutation) || isValidRemoveMutation(mutation);
        }));
        if (hasValidMutation) {
            cssVars(settings);
        }
    }));
    cssVarsObserver.observe(document.documentElement, {
        attributes: true,
        attributeFilter: [ "disabled", "href" ],
        childList: true,
        subtree: true
    });
}

function cssVarsDebounced(settings) {
    var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100;
    clearTimeout(debounceTimer);
    debounceTimer = setTimeout((function() {
        settings.__benchmark = null;
        cssVars(settings);
    }), delay);
}

function fixKeyframes(rootElement) {
    var animationNameProp = [ "animation-name", "-moz-animation-name", "-webkit-animation-name" ].filter((function(prop) {
        return getComputedStyle(document.body)[prop];
    }))[0];
    if (animationNameProp) {
        var allNodes = rootElement.getElementsByTagName("*");
        var keyframeNodes = [];
        var nameMarker = "__CSSVARSPONYFILL-KEYFRAMES__";
        for (var i = 0, len = allNodes.length; i < len; i++) {
            var node = allNodes[i];
            var animationName = getComputedStyle(node)[animationNameProp];
            if (animationName !== "none") {
                node.style[animationNameProp] += nameMarker;
                keyframeNodes.push(node);
            }
        }
        void document.body.offsetHeight;
        for (var _i = 0, _len = keyframeNodes.length; _i < _len; _i++) {
            var nodeStyle = keyframeNodes[_i].style;
            nodeStyle[animationNameProp] = nodeStyle[animationNameProp].replace(nameMarker, "");
        }
    }
}

function fixRelativeCssUrls(cssText, baseUrl) {
    var cssUrls = cssText.replace(regex.cssComments, "").match(regex.cssUrls) || [];
    cssUrls.forEach((function(cssUrl) {
        var oldUrl = cssUrl.replace(regex.cssUrls, "$1");
        var newUrl = getFullUrl$1(oldUrl, baseUrl);
        cssText = cssText.replace(cssUrl, cssUrl.replace(oldUrl, newUrl));
    }));
    return cssText;
}

function fixVarNames() {
    var varObj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    var reLeadingHyphens = /^-{2}/;
    return Object.keys(varObj).reduce((function(obj, value) {
        var key = reLeadingHyphens.test(value) ? value : "--".concat(value.replace(/^-+/, ""));
        obj[key] = varObj[value];
        return obj;
    }), {});
}

function getFullUrl$1(url) {
    var base = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : location.href;
    var d = document.implementation.createHTMLDocument("");
    var b = d.createElement("base");
    var a = d.createElement("a");
    d.head.appendChild(b);
    d.body.appendChild(a);
    b.href = base;
    a.href = url;
    return a.href;
}

function getTimeStamp() {
    return isBrowser && (window.performance || {}).now ? window.performance.now() : (new Date).getTime();
}

function resetCssNodes(rootElement) {
    var resetDOMVariableStore = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
    var resetNodes = Array.apply(null, rootElement.querySelectorAll('[data-cssvars="skip"],[data-cssvars="src"]'));
    resetNodes.forEach((function(node) {
        return node.setAttribute("data-cssvars", "");
    }));
    if (resetDOMVariableStore) {
        variableStore.dom = {};
    }
}

/* harmony default export */ __webpack_exports__["default"] = (cssVars);
//# sourceMappingURL=css-vars-ponyfill.esm.js.map


/***/ }),

/***/ "./node_modules/events/events.js":
/*!***************************************!*\
  !*** ./node_modules/events/events.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.



var R = typeof Reflect === 'object' ? Reflect : null
var ReflectApply = R && typeof R.apply === 'function'
  ? R.apply
  : function ReflectApply(target, receiver, args) {
    return Function.prototype.apply.call(target, receiver, args);
  }

var ReflectOwnKeys
if (R && typeof R.ownKeys === 'function') {
  ReflectOwnKeys = R.ownKeys
} else if (Object.getOwnPropertySymbols) {
  ReflectOwnKeys = function ReflectOwnKeys(target) {
    return Object.getOwnPropertyNames(target)
      .concat(Object.getOwnPropertySymbols(target));
  };
} else {
  ReflectOwnKeys = function ReflectOwnKeys(target) {
    return Object.getOwnPropertyNames(target);
  };
}

function ProcessEmitWarning(warning) {
  if (console && console.warn) console.warn(warning);
}

var NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {
  return value !== value;
}

function EventEmitter() {
  EventEmitter.init.call(this);
}
module.exports = EventEmitter;
module.exports.once = once;

// Backwards-compat with node 0.10.x
EventEmitter.EventEmitter = EventEmitter;

EventEmitter.prototype._events = undefined;
EventEmitter.prototype._eventsCount = 0;
EventEmitter.prototype._maxListeners = undefined;

// By default EventEmitters will print a warning if more than 10 listeners are
// added to it. This is a useful default which helps finding memory leaks.
var defaultMaxListeners = 10;

function checkListener(listener) {
  if (typeof listener !== 'function') {
    throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof listener);
  }
}

Object.defineProperty(EventEmitter, 'defaultMaxListeners', {
  enumerable: true,
  get: function() {
    return defaultMaxListeners;
  },
  set: function(arg) {
    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {
      throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + arg + '.');
    }
    defaultMaxListeners = arg;
  }
});

EventEmitter.init = function() {

  if (this._events === undefined ||
      this._events === Object.getPrototypeOf(this)._events) {
    this._events = Object.create(null);
    this._eventsCount = 0;
  }

  this._maxListeners = this._maxListeners || undefined;
};

// Obviously not all Emitters should be limited to 10. This function allows
// that to be increased. Set to zero for unlimited.
EventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {
  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {
    throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + n + '.');
  }
  this._maxListeners = n;
  return this;
};

function _getMaxListeners(that) {
  if (that._maxListeners === undefined)
    return EventEmitter.defaultMaxListeners;
  return that._maxListeners;
}

EventEmitter.prototype.getMaxListeners = function getMaxListeners() {
  return _getMaxListeners(this);
};

EventEmitter.prototype.emit = function emit(type) {
  var args = [];
  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);
  var doError = (type === 'error');

  var events = this._events;
  if (events !== undefined)
    doError = (doError && events.error === undefined);
  else if (!doError)
    return false;

  // If there is no 'error' event listener then throw.
  if (doError) {
    var er;
    if (args.length > 0)
      er = args[0];
    if (er instanceof Error) {
      // Note: The comments on the `throw` lines are intentional, they show
      // up in Node's output if this results in an unhandled exception.
      throw er; // Unhandled 'error' event
    }
    // At least give some kind of context to the user
    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));
    err.context = er;
    throw err; // Unhandled 'error' event
  }

  var handler = events[type];

  if (handler === undefined)
    return false;

  if (typeof handler === 'function') {
    ReflectApply(handler, this, args);
  } else {
    var len = handler.length;
    var listeners = arrayClone(handler, len);
    for (var i = 0; i < len; ++i)
      ReflectApply(listeners[i], this, args);
  }

  return true;
};

function _addListener(target, type, listener, prepend) {
  var m;
  var events;
  var existing;

  checkListener(listener);

  events = target._events;
  if (events === undefined) {
    events = target._events = Object.create(null);
    target._eventsCount = 0;
  } else {
    // To avoid recursion in the case that type === "newListener"! Before
    // adding it to the listeners, first emit "newListener".
    if (events.newListener !== undefined) {
      target.emit('newListener', type,
                  listener.listener ? listener.listener : listener);

      // Re-assign `events` because a newListener handler could have caused the
      // this._events to be assigned to a new object
      events = target._events;
    }
    existing = events[type];
  }

  if (existing === undefined) {
    // Optimize the case of one listener. Don't need the extra array object.
    existing = events[type] = listener;
    ++target._eventsCount;
  } else {
    if (typeof existing === 'function') {
      // Adding the second element, need to change to array.
      existing = events[type] =
        prepend ? [listener, existing] : [existing, listener];
      // If we've already got an array, just append.
    } else if (prepend) {
      existing.unshift(listener);
    } else {
      existing.push(listener);
    }

    // Check for listener leak
    m = _getMaxListeners(target);
    if (m > 0 && existing.length > m && !existing.warned) {
      existing.warned = true;
      // No error code for this since it is a Warning
      // eslint-disable-next-line no-restricted-syntax
      var w = new Error('Possible EventEmitter memory leak detected. ' +
                          existing.length + ' ' + String(type) + ' listeners ' +
                          'added. Use emitter.setMaxListeners() to ' +
                          'increase limit');
      w.name = 'MaxListenersExceededWarning';
      w.emitter = target;
      w.type = type;
      w.count = existing.length;
      ProcessEmitWarning(w);
    }
  }

  return target;
}

EventEmitter.prototype.addListener = function addListener(type, listener) {
  return _addListener(this, type, listener, false);
};

EventEmitter.prototype.on = EventEmitter.prototype.addListener;

EventEmitter.prototype.prependListener =
    function prependListener(type, listener) {
      return _addListener(this, type, listener, true);
    };

function onceWrapper() {
  if (!this.fired) {
    this.target.removeListener(this.type, this.wrapFn);
    this.fired = true;
    if (arguments.length === 0)
      return this.listener.call(this.target);
    return this.listener.apply(this.target, arguments);
  }
}

function _onceWrap(target, type, listener) {
  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };
  var wrapped = onceWrapper.bind(state);
  wrapped.listener = listener;
  state.wrapFn = wrapped;
  return wrapped;
}

EventEmitter.prototype.once = function once(type, listener) {
  checkListener(listener);
  this.on(type, _onceWrap(this, type, listener));
  return this;
};

EventEmitter.prototype.prependOnceListener =
    function prependOnceListener(type, listener) {
      checkListener(listener);
      this.prependListener(type, _onceWrap(this, type, listener));
      return this;
    };

// Emits a 'removeListener' event if and only if the listener was removed.
EventEmitter.prototype.removeListener =
    function removeListener(type, listener) {
      var list, events, position, i, originalListener;

      checkListener(listener);

      events = this._events;
      if (events === undefined)
        return this;

      list = events[type];
      if (list === undefined)
        return this;

      if (list === listener || list.listener === listener) {
        if (--this._eventsCount === 0)
          this._events = Object.create(null);
        else {
          delete events[type];
          if (events.removeListener)
            this.emit('removeListener', type, list.listener || listener);
        }
      } else if (typeof list !== 'function') {
        position = -1;

        for (i = list.length - 1; i >= 0; i--) {
          if (list[i] === listener || list[i].listener === listener) {
            originalListener = list[i].listener;
            position = i;
            break;
          }
        }

        if (position < 0)
          return this;

        if (position === 0)
          list.shift();
        else {
          spliceOne(list, position);
        }

        if (list.length === 1)
          events[type] = list[0];

        if (events.removeListener !== undefined)
          this.emit('removeListener', type, originalListener || listener);
      }

      return this;
    };

EventEmitter.prototype.off = EventEmitter.prototype.removeListener;

EventEmitter.prototype.removeAllListeners =
    function removeAllListeners(type) {
      var listeners, events, i;

      events = this._events;
      if (events === undefined)
        return this;

      // not listening for removeListener, no need to emit
      if (events.removeListener === undefined) {
        if (arguments.length === 0) {
          this._events = Object.create(null);
          this._eventsCount = 0;
        } else if (events[type] !== undefined) {
          if (--this._eventsCount === 0)
            this._events = Object.create(null);
          else
            delete events[type];
        }
        return this;
      }

      // emit removeListener for all listeners on all events
      if (arguments.length === 0) {
        var keys = Object.keys(events);
        var key;
        for (i = 0; i < keys.length; ++i) {
          key = keys[i];
          if (key === 'removeListener') continue;
          this.removeAllListeners(key);
        }
        this.removeAllListeners('removeListener');
        this._events = Object.create(null);
        this._eventsCount = 0;
        return this;
      }

      listeners = events[type];

      if (typeof listeners === 'function') {
        this.removeListener(type, listeners);
      } else if (listeners !== undefined) {
        // LIFO order
        for (i = listeners.length - 1; i >= 0; i--) {
          this.removeListener(type, listeners[i]);
        }
      }

      return this;
    };

function _listeners(target, type, unwrap) {
  var events = target._events;

  if (events === undefined)
    return [];

  var evlistener = events[type];
  if (evlistener === undefined)
    return [];

  if (typeof evlistener === 'function')
    return unwrap ? [evlistener.listener || evlistener] : [evlistener];

  return unwrap ?
    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);
}

EventEmitter.prototype.listeners = function listeners(type) {
  return _listeners(this, type, true);
};

EventEmitter.prototype.rawListeners = function rawListeners(type) {
  return _listeners(this, type, false);
};

EventEmitter.listenerCount = function(emitter, type) {
  if (typeof emitter.listenerCount === 'function') {
    return emitter.listenerCount(type);
  } else {
    return listenerCount.call(emitter, type);
  }
};

EventEmitter.prototype.listenerCount = listenerCount;
function listenerCount(type) {
  var events = this._events;

  if (events !== undefined) {
    var evlistener = events[type];

    if (typeof evlistener === 'function') {
      return 1;
    } else if (evlistener !== undefined) {
      return evlistener.length;
    }
  }

  return 0;
}

EventEmitter.prototype.eventNames = function eventNames() {
  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];
};

function arrayClone(arr, n) {
  var copy = new Array(n);
  for (var i = 0; i < n; ++i)
    copy[i] = arr[i];
  return copy;
}

function spliceOne(list, index) {
  for (; index + 1 < list.length; index++)
    list[index] = list[index + 1];
  list.pop();
}

function unwrapListeners(arr) {
  var ret = new Array(arr.length);
  for (var i = 0; i < ret.length; ++i) {
    ret[i] = arr[i].listener || arr[i];
  }
  return ret;
}

function once(emitter, name) {
  return new Promise(function (resolve, reject) {
    function eventListener() {
      if (errorListener !== undefined) {
        emitter.removeListener('error', errorListener);
      }
      resolve([].slice.call(arguments));
    };
    var errorListener;

    // Adding an error listener is not optional because
    // if an error is thrown on an event emitter we cannot
    // guarantee that the actual event we are waiting will
    // be fired. The result could be a silent way to create
    // memory or file descriptor leaks, which is something
    // we should avoid.
    if (name !== 'error') {
      errorListener = function errorListener(err) {
        emitter.removeListener(name, eventListener);
        reject(err);
      };

      emitter.once('error', errorListener);
    }

    emitter.once(name, eventListener);
  });
}


/***/ }),

/***/ "./node_modules/html-entities/lib/html4-entities.js":
/*!**********************************************************!*\
  !*** ./node_modules/html-entities/lib/html4-entities.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var HTML_ALPHA = ['apos', 'nbsp', 'iexcl', 'cent', 'pound', 'curren', 'yen', 'brvbar', 'sect', 'uml', 'copy', 'ordf', 'laquo', 'not', 'shy', 'reg', 'macr', 'deg', 'plusmn', 'sup2', 'sup3', 'acute', 'micro', 'para', 'middot', 'cedil', 'sup1', 'ordm', 'raquo', 'frac14', 'frac12', 'frac34', 'iquest', 'Agrave', 'Aacute', 'Acirc', 'Atilde', 'Auml', 'Aring', 'Aelig', 'Ccedil', 'Egrave', 'Eacute', 'Ecirc', 'Euml', 'Igrave', 'Iacute', 'Icirc', 'Iuml', 'ETH', 'Ntilde', 'Ograve', 'Oacute', 'Ocirc', 'Otilde', 'Ouml', 'times', 'Oslash', 'Ugrave', 'Uacute', 'Ucirc', 'Uuml', 'Yacute', 'THORN', 'szlig', 'agrave', 'aacute', 'acirc', 'atilde', 'auml', 'aring', 'aelig', 'ccedil', 'egrave', 'eacute', 'ecirc', 'euml', 'igrave', 'iacute', 'icirc', 'iuml', 'eth', 'ntilde', 'ograve', 'oacute', 'ocirc', 'otilde', 'ouml', 'divide', 'oslash', 'ugrave', 'uacute', 'ucirc', 'uuml', 'yacute', 'thorn', 'yuml', 'quot', 'amp', 'lt', 'gt', 'OElig', 'oelig', 'Scaron', 'scaron', 'Yuml', 'circ', 'tilde', 'ensp', 'emsp', 'thinsp', 'zwnj', 'zwj', 'lrm', 'rlm', 'ndash', 'mdash', 'lsquo', 'rsquo', 'sbquo', 'ldquo', 'rdquo', 'bdquo', 'dagger', 'Dagger', 'permil', 'lsaquo', 'rsaquo', 'euro', 'fnof', 'Alpha', 'Beta', 'Gamma', 'Delta', 'Epsilon', 'Zeta', 'Eta', 'Theta', 'Iota', 'Kappa', 'Lambda', 'Mu', 'Nu', 'Xi', 'Omicron', 'Pi', 'Rho', 'Sigma', 'Tau', 'Upsilon', 'Phi', 'Chi', 'Psi', 'Omega', 'alpha', 'beta', 'gamma', 'delta', 'epsilon', 'zeta', 'eta', 'theta', 'iota', 'kappa', 'lambda', 'mu', 'nu', 'xi', 'omicron', 'pi', 'rho', 'sigmaf', 'sigma', 'tau', 'upsilon', 'phi', 'chi', 'psi', 'omega', 'thetasym', 'upsih', 'piv', 'bull', 'hellip', 'prime', 'Prime', 'oline', 'frasl', 'weierp', 'image', 'real', 'trade', 'alefsym', 'larr', 'uarr', 'rarr', 'darr', 'harr', 'crarr', 'lArr', 'uArr', 'rArr', 'dArr', 'hArr', 'forall', 'part', 'exist', 'empty', 'nabla', 'isin', 'notin', 'ni', 'prod', 'sum', 'minus', 'lowast', 'radic', 'prop', 'infin', 'ang', 'and', 'or', 'cap', 'cup', 'int', 'there4', 'sim', 'cong', 'asymp', 'ne', 'equiv', 'le', 'ge', 'sub', 'sup', 'nsub', 'sube', 'supe', 'oplus', 'otimes', 'perp', 'sdot', 'lceil', 'rceil', 'lfloor', 'rfloor', 'lang', 'rang', 'loz', 'spades', 'clubs', 'hearts', 'diams'];
var HTML_CODES = [39, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 34, 38, 60, 62, 338, 339, 352, 353, 376, 710, 732, 8194, 8195, 8201, 8204, 8205, 8206, 8207, 8211, 8212, 8216, 8217, 8218, 8220, 8221, 8222, 8224, 8225, 8240, 8249, 8250, 8364, 402, 913, 914, 915, 916, 917, 918, 919, 920, 921, 922, 923, 924, 925, 926, 927, 928, 929, 931, 932, 933, 934, 935, 936, 937, 945, 946, 947, 948, 949, 950, 951, 952, 953, 954, 955, 956, 957, 958, 959, 960, 961, 962, 963, 964, 965, 966, 967, 968, 969, 977, 978, 982, 8226, 8230, 8242, 8243, 8254, 8260, 8472, 8465, 8476, 8482, 8501, 8592, 8593, 8594, 8595, 8596, 8629, 8656, 8657, 8658, 8659, 8660, 8704, 8706, 8707, 8709, 8711, 8712, 8713, 8715, 8719, 8721, 8722, 8727, 8730, 8733, 8734, 8736, 8743, 8744, 8745, 8746, 8747, 8756, 8764, 8773, 8776, 8800, 8801, 8804, 8805, 8834, 8835, 8836, 8838, 8839, 8853, 8855, 8869, 8901, 8968, 8969, 8970, 8971, 9001, 9002, 9674, 9824, 9827, 9829, 9830];
var alphaIndex = {};
var numIndex = {};
(function () {
    var i = 0;
    var length = HTML_ALPHA.length;
    while (i < length) {
        var a = HTML_ALPHA[i];
        var c = HTML_CODES[i];
        alphaIndex[a] = String.fromCharCode(c);
        numIndex[c] = a;
        i++;
    }
})();
var Html4Entities = /** @class */ (function () {
    function Html4Entities() {
    }
    Html4Entities.prototype.decode = function (str) {
        if (!str || !str.length) {
            return '';
        }
        return str.replace(/&(#?[\w\d]+);?/g, function (s, entity) {
            var chr;
            if (entity.charAt(0) === "#") {
                var code = entity.charAt(1).toLowerCase() === 'x' ?
                    parseInt(entity.substr(2), 16) :
                    parseInt(entity.substr(1));
                if (!(isNaN(code) || code < -32768 || code > 65535)) {
                    chr = String.fromCharCode(code);
                }
            }
            else {
                chr = alphaIndex[entity];
            }
            return chr || s;
        });
    };
    Html4Entities.decode = function (str) {
        return new Html4Entities().decode(str);
    };
    Html4Entities.prototype.encode = function (str) {
        if (!str || !str.length) {
            return '';
        }
        var strLength = str.length;
        var result = '';
        var i = 0;
        while (i < strLength) {
            var alpha = numIndex[str.charCodeAt(i)];
            result += alpha ? "&" + alpha + ";" : str.charAt(i);
            i++;
        }
        return result;
    };
    Html4Entities.encode = function (str) {
        return new Html4Entities().encode(str);
    };
    Html4Entities.prototype.encodeNonUTF = function (str) {
        if (!str || !str.length) {
            return '';
        }
        var strLength = str.length;
        var result = '';
        var i = 0;
        while (i < strLength) {
            var cc = str.charCodeAt(i);
            var alpha = numIndex[cc];
            if (alpha) {
                result += "&" + alpha + ";";
            }
            else if (cc < 32 || cc > 126) {
                result += "&#" + cc + ";";
            }
            else {
                result += str.charAt(i);
            }
            i++;
        }
        return result;
    };
    Html4Entities.encodeNonUTF = function (str) {
        return new Html4Entities().encodeNonUTF(str);
    };
    Html4Entities.prototype.encodeNonASCII = function (str) {
        if (!str || !str.length) {
            return '';
        }
        var strLength = str.length;
        var result = '';
        var i = 0;
        while (i < strLength) {
            var c = str.charCodeAt(i);
            if (c <= 255) {
                result += str[i++];
                continue;
            }
            result += '&#' + c + ';';
            i++;
        }
        return result;
    };
    Html4Entities.encodeNonASCII = function (str) {
        return new Html4Entities().encodeNonASCII(str);
    };
    return Html4Entities;
}());
exports.Html4Entities = Html4Entities;


/***/ }),

/***/ "./node_modules/html-entities/lib/html5-entities.js":
/*!**********************************************************!*\
  !*** ./node_modules/html-entities/lib/html5-entities.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var ENTITIES = [['Aacute', [193]], ['aacute', [225]], ['Abreve', [258]], ['abreve', [259]], ['ac', [8766]], ['acd', [8767]], ['acE', [8766, 819]], ['Acirc', [194]], ['acirc', [226]], ['acute', [180]], ['Acy', [1040]], ['acy', [1072]], ['AElig', [198]], ['aelig', [230]], ['af', [8289]], ['Afr', [120068]], ['afr', [120094]], ['Agrave', [192]], ['agrave', [224]], ['alefsym', [8501]], ['aleph', [8501]], ['Alpha', [913]], ['alpha', [945]], ['Amacr', [256]], ['amacr', [257]], ['amalg', [10815]], ['amp', [38]], ['AMP', [38]], ['andand', [10837]], ['And', [10835]], ['and', [8743]], ['andd', [10844]], ['andslope', [10840]], ['andv', [10842]], ['ang', [8736]], ['ange', [10660]], ['angle', [8736]], ['angmsdaa', [10664]], ['angmsdab', [10665]], ['angmsdac', [10666]], ['angmsdad', [10667]], ['angmsdae', [10668]], ['angmsdaf', [10669]], ['angmsdag', [10670]], ['angmsdah', [10671]], ['angmsd', [8737]], ['angrt', [8735]], ['angrtvb', [8894]], ['angrtvbd', [10653]], ['angsph', [8738]], ['angst', [197]], ['angzarr', [9084]], ['Aogon', [260]], ['aogon', [261]], ['Aopf', [120120]], ['aopf', [120146]], ['apacir', [10863]], ['ap', [8776]], ['apE', [10864]], ['ape', [8778]], ['apid', [8779]], ['apos', [39]], ['ApplyFunction', [8289]], ['approx', [8776]], ['approxeq', [8778]], ['Aring', [197]], ['aring', [229]], ['Ascr', [119964]], ['ascr', [119990]], ['Assign', [8788]], ['ast', [42]], ['asymp', [8776]], ['asympeq', [8781]], ['Atilde', [195]], ['atilde', [227]], ['Auml', [196]], ['auml', [228]], ['awconint', [8755]], ['awint', [10769]], ['backcong', [8780]], ['backepsilon', [1014]], ['backprime', [8245]], ['backsim', [8765]], ['backsimeq', [8909]], ['Backslash', [8726]], ['Barv', [10983]], ['barvee', [8893]], ['barwed', [8965]], ['Barwed', [8966]], ['barwedge', [8965]], ['bbrk', [9141]], ['bbrktbrk', [9142]], ['bcong', [8780]], ['Bcy', [1041]], ['bcy', [1073]], ['bdquo', [8222]], ['becaus', [8757]], ['because', [8757]], ['Because', [8757]], ['bemptyv', [10672]], ['bepsi', [1014]], ['bernou', [8492]], ['Bernoullis', [8492]], ['Beta', [914]], ['beta', [946]], ['beth', [8502]], ['between', [8812]], ['Bfr', [120069]], ['bfr', [120095]], ['bigcap', [8898]], ['bigcirc', [9711]], ['bigcup', [8899]], ['bigodot', [10752]], ['bigoplus', [10753]], ['bigotimes', [10754]], ['bigsqcup', [10758]], ['bigstar', [9733]], ['bigtriangledown', [9661]], ['bigtriangleup', [9651]], ['biguplus', [10756]], ['bigvee', [8897]], ['bigwedge', [8896]], ['bkarow', [10509]], ['blacklozenge', [10731]], ['blacksquare', [9642]], ['blacktriangle', [9652]], ['blacktriangledown', [9662]], ['blacktriangleleft', [9666]], ['blacktriangleright', [9656]], ['blank', [9251]], ['blk12', [9618]], ['blk14', [9617]], ['blk34', [9619]], ['block', [9608]], ['bne', [61, 8421]], ['bnequiv', [8801, 8421]], ['bNot', [10989]], ['bnot', [8976]], ['Bopf', [120121]], ['bopf', [120147]], ['bot', [8869]], ['bottom', [8869]], ['bowtie', [8904]], ['boxbox', [10697]], ['boxdl', [9488]], ['boxdL', [9557]], ['boxDl', [9558]], ['boxDL', [9559]], ['boxdr', [9484]], ['boxdR', [9554]], ['boxDr', [9555]], ['boxDR', [9556]], ['boxh', [9472]], ['boxH', [9552]], ['boxhd', [9516]], ['boxHd', [9572]], ['boxhD', [9573]], ['boxHD', [9574]], ['boxhu', [9524]], ['boxHu', [9575]], ['boxhU', [9576]], ['boxHU', [9577]], ['boxminus', [8863]], ['boxplus', [8862]], ['boxtimes', [8864]], ['boxul', [9496]], ['boxuL', [9563]], ['boxUl', [9564]], ['boxUL', [9565]], ['boxur', [9492]], ['boxuR', [9560]], ['boxUr', [9561]], ['boxUR', [9562]], ['boxv', [9474]], ['boxV', [9553]], ['boxvh', [9532]], ['boxvH', [9578]], ['boxVh', [9579]], ['boxVH', [9580]], ['boxvl', [9508]], ['boxvL', [9569]], ['boxVl', [9570]], ['boxVL', [9571]], ['boxvr', [9500]], ['boxvR', [9566]], ['boxVr', [9567]], ['boxVR', [9568]], ['bprime', [8245]], ['breve', [728]], ['Breve', [728]], ['brvbar', [166]], ['bscr', [119991]], ['Bscr', [8492]], ['bsemi', [8271]], ['bsim', [8765]], ['bsime', [8909]], ['bsolb', [10693]], ['bsol', [92]], ['bsolhsub', [10184]], ['bull', [8226]], ['bullet', [8226]], ['bump', [8782]], ['bumpE', [10926]], ['bumpe', [8783]], ['Bumpeq', [8782]], ['bumpeq', [8783]], ['Cacute', [262]], ['cacute', [263]], ['capand', [10820]], ['capbrcup', [10825]], ['capcap', [10827]], ['cap', [8745]], ['Cap', [8914]], ['capcup', [10823]], ['capdot', [10816]], ['CapitalDifferentialD', [8517]], ['caps', [8745, 65024]], ['caret', [8257]], ['caron', [711]], ['Cayleys', [8493]], ['ccaps', [10829]], ['Ccaron', [268]], ['ccaron', [269]], ['Ccedil', [199]], ['ccedil', [231]], ['Ccirc', [264]], ['ccirc', [265]], ['Cconint', [8752]], ['ccups', [10828]], ['ccupssm', [10832]], ['Cdot', [266]], ['cdot', [267]], ['cedil', [184]], ['Cedilla', [184]], ['cemptyv', [10674]], ['cent', [162]], ['centerdot', [183]], ['CenterDot', [183]], ['cfr', [120096]], ['Cfr', [8493]], ['CHcy', [1063]], ['chcy', [1095]], ['check', [10003]], ['checkmark', [10003]], ['Chi', [935]], ['chi', [967]], ['circ', [710]], ['circeq', [8791]], ['circlearrowleft', [8634]], ['circlearrowright', [8635]], ['circledast', [8859]], ['circledcirc', [8858]], ['circleddash', [8861]], ['CircleDot', [8857]], ['circledR', [174]], ['circledS', [9416]], ['CircleMinus', [8854]], ['CirclePlus', [8853]], ['CircleTimes', [8855]], ['cir', [9675]], ['cirE', [10691]], ['cire', [8791]], ['cirfnint', [10768]], ['cirmid', [10991]], ['cirscir', [10690]], ['ClockwiseContourIntegral', [8754]], ['clubs', [9827]], ['clubsuit', [9827]], ['colon', [58]], ['Colon', [8759]], ['Colone', [10868]], ['colone', [8788]], ['coloneq', [8788]], ['comma', [44]], ['commat', [64]], ['comp', [8705]], ['compfn', [8728]], ['complement', [8705]], ['complexes', [8450]], ['cong', [8773]], ['congdot', [10861]], ['Congruent', [8801]], ['conint', [8750]], ['Conint', [8751]], ['ContourIntegral', [8750]], ['copf', [120148]], ['Copf', [8450]], ['coprod', [8720]], ['Coproduct', [8720]], ['copy', [169]], ['COPY', [169]], ['copysr', [8471]], ['CounterClockwiseContourIntegral', [8755]], ['crarr', [8629]], ['cross', [10007]], ['Cross', [10799]], ['Cscr', [119966]], ['cscr', [119992]], ['csub', [10959]], ['csube', [10961]], ['csup', [10960]], ['csupe', [10962]], ['ctdot', [8943]], ['cudarrl', [10552]], ['cudarrr', [10549]], ['cuepr', [8926]], ['cuesc', [8927]], ['cularr', [8630]], ['cularrp', [10557]], ['cupbrcap', [10824]], ['cupcap', [10822]], ['CupCap', [8781]], ['cup', [8746]], ['Cup', [8915]], ['cupcup', [10826]], ['cupdot', [8845]], ['cupor', [10821]], ['cups', [8746, 65024]], ['curarr', [8631]], ['curarrm', [10556]], ['curlyeqprec', [8926]], ['curlyeqsucc', [8927]], ['curlyvee', [8910]], ['curlywedge', [8911]], ['curren', [164]], ['curvearrowleft', [8630]], ['curvearrowright', [8631]], ['cuvee', [8910]], ['cuwed', [8911]], ['cwconint', [8754]], ['cwint', [8753]], ['cylcty', [9005]], ['dagger', [8224]], ['Dagger', [8225]], ['daleth', [8504]], ['darr', [8595]], ['Darr', [8609]], ['dArr', [8659]], ['dash', [8208]], ['Dashv', [10980]], ['dashv', [8867]], ['dbkarow', [10511]], ['dblac', [733]], ['Dcaron', [270]], ['dcaron', [271]], ['Dcy', [1044]], ['dcy', [1076]], ['ddagger', [8225]], ['ddarr', [8650]], ['DD', [8517]], ['dd', [8518]], ['DDotrahd', [10513]], ['ddotseq', [10871]], ['deg', [176]], ['Del', [8711]], ['Delta', [916]], ['delta', [948]], ['demptyv', [10673]], ['dfisht', [10623]], ['Dfr', [120071]], ['dfr', [120097]], ['dHar', [10597]], ['dharl', [8643]], ['dharr', [8642]], ['DiacriticalAcute', [180]], ['DiacriticalDot', [729]], ['DiacriticalDoubleAcute', [733]], ['DiacriticalGrave', [96]], ['DiacriticalTilde', [732]], ['diam', [8900]], ['diamond', [8900]], ['Diamond', [8900]], ['diamondsuit', [9830]], ['diams', [9830]], ['die', [168]], ['DifferentialD', [8518]], ['digamma', [989]], ['disin', [8946]], ['div', [247]], ['divide', [247]], ['divideontimes', [8903]], ['divonx', [8903]], ['DJcy', [1026]], ['djcy', [1106]], ['dlcorn', [8990]], ['dlcrop', [8973]], ['dollar', [36]], ['Dopf', [120123]], ['dopf', [120149]], ['Dot', [168]], ['dot', [729]], ['DotDot', [8412]], ['doteq', [8784]], ['doteqdot', [8785]], ['DotEqual', [8784]], ['dotminus', [8760]], ['dotplus', [8724]], ['dotsquare', [8865]], ['doublebarwedge', [8966]], ['DoubleContourIntegral', [8751]], ['DoubleDot', [168]], ['DoubleDownArrow', [8659]], ['DoubleLeftArrow', [8656]], ['DoubleLeftRightArrow', [8660]], ['DoubleLeftTee', [10980]], ['DoubleLongLeftArrow', [10232]], ['DoubleLongLeftRightArrow', [10234]], ['DoubleLongRightArrow', [10233]], ['DoubleRightArrow', [8658]], ['DoubleRightTee', [8872]], ['DoubleUpArrow', [8657]], ['DoubleUpDownArrow', [8661]], ['DoubleVerticalBar', [8741]], ['DownArrowBar', [10515]], ['downarrow', [8595]], ['DownArrow', [8595]], ['Downarrow', [8659]], ['DownArrowUpArrow', [8693]], ['DownBreve', [785]], ['downdownarrows', [8650]], ['downharpoonleft', [8643]], ['downharpoonright', [8642]], ['DownLeftRightVector', [10576]], ['DownLeftTeeVector', [10590]], ['DownLeftVectorBar', [10582]], ['DownLeftVector', [8637]], ['DownRightTeeVector', [10591]], ['DownRightVectorBar', [10583]], ['DownRightVector', [8641]], ['DownTeeArrow', [8615]], ['DownTee', [8868]], ['drbkarow', [10512]], ['drcorn', [8991]], ['drcrop', [8972]], ['Dscr', [119967]], ['dscr', [119993]], ['DScy', [1029]], ['dscy', [1109]], ['dsol', [10742]], ['Dstrok', [272]], ['dstrok', [273]], ['dtdot', [8945]], ['dtri', [9663]], ['dtrif', [9662]], ['duarr', [8693]], ['duhar', [10607]], ['dwangle', [10662]], ['DZcy', [1039]], ['dzcy', [1119]], ['dzigrarr', [10239]], ['Eacute', [201]], ['eacute', [233]], ['easter', [10862]], ['Ecaron', [282]], ['ecaron', [283]], ['Ecirc', [202]], ['ecirc', [234]], ['ecir', [8790]], ['ecolon', [8789]], ['Ecy', [1069]], ['ecy', [1101]], ['eDDot', [10871]], ['Edot', [278]], ['edot', [279]], ['eDot', [8785]], ['ee', [8519]], ['efDot', [8786]], ['Efr', [120072]], ['efr', [120098]], ['eg', [10906]], ['Egrave', [200]], ['egrave', [232]], ['egs', [10902]], ['egsdot', [10904]], ['el', [10905]], ['Element', [8712]], ['elinters', [9191]], ['ell', [8467]], ['els', [10901]], ['elsdot', [10903]], ['Emacr', [274]], ['emacr', [275]], ['empty', [8709]], ['emptyset', [8709]], ['EmptySmallSquare', [9723]], ['emptyv', [8709]], ['EmptyVerySmallSquare', [9643]], ['emsp13', [8196]], ['emsp14', [8197]], ['emsp', [8195]], ['ENG', [330]], ['eng', [331]], ['ensp', [8194]], ['Eogon', [280]], ['eogon', [281]], ['Eopf', [120124]], ['eopf', [120150]], ['epar', [8917]], ['eparsl', [10723]], ['eplus', [10865]], ['epsi', [949]], ['Epsilon', [917]], ['epsilon', [949]], ['epsiv', [1013]], ['eqcirc', [8790]], ['eqcolon', [8789]], ['eqsim', [8770]], ['eqslantgtr', [10902]], ['eqslantless', [10901]], ['Equal', [10869]], ['equals', [61]], ['EqualTilde', [8770]], ['equest', [8799]], ['Equilibrium', [8652]], ['equiv', [8801]], ['equivDD', [10872]], ['eqvparsl', [10725]], ['erarr', [10609]], ['erDot', [8787]], ['escr', [8495]], ['Escr', [8496]], ['esdot', [8784]], ['Esim', [10867]], ['esim', [8770]], ['Eta', [919]], ['eta', [951]], ['ETH', [208]], ['eth', [240]], ['Euml', [203]], ['euml', [235]], ['euro', [8364]], ['excl', [33]], ['exist', [8707]], ['Exists', [8707]], ['expectation', [8496]], ['exponentiale', [8519]], ['ExponentialE', [8519]], ['fallingdotseq', [8786]], ['Fcy', [1060]], ['fcy', [1092]], ['female', [9792]], ['ffilig', [64259]], ['fflig', [64256]], ['ffllig', [64260]], ['Ffr', [120073]], ['ffr', [120099]], ['filig', [64257]], ['FilledSmallSquare', [9724]], ['FilledVerySmallSquare', [9642]], ['fjlig', [102, 106]], ['flat', [9837]], ['fllig', [64258]], ['fltns', [9649]], ['fnof', [402]], ['Fopf', [120125]], ['fopf', [120151]], ['forall', [8704]], ['ForAll', [8704]], ['fork', [8916]], ['forkv', [10969]], ['Fouriertrf', [8497]], ['fpartint', [10765]], ['frac12', [189]], ['frac13', [8531]], ['frac14', [188]], ['frac15', [8533]], ['frac16', [8537]], ['frac18', [8539]], ['frac23', [8532]], ['frac25', [8534]], ['frac34', [190]], ['frac35', [8535]], ['frac38', [8540]], ['frac45', [8536]], ['frac56', [8538]], ['frac58', [8541]], ['frac78', [8542]], ['frasl', [8260]], ['frown', [8994]], ['fscr', [119995]], ['Fscr', [8497]], ['gacute', [501]], ['Gamma', [915]], ['gamma', [947]], ['Gammad', [988]], ['gammad', [989]], ['gap', [10886]], ['Gbreve', [286]], ['gbreve', [287]], ['Gcedil', [290]], ['Gcirc', [284]], ['gcirc', [285]], ['Gcy', [1043]], ['gcy', [1075]], ['Gdot', [288]], ['gdot', [289]], ['ge', [8805]], ['gE', [8807]], ['gEl', [10892]], ['gel', [8923]], ['geq', [8805]], ['geqq', [8807]], ['geqslant', [10878]], ['gescc', [10921]], ['ges', [10878]], ['gesdot', [10880]], ['gesdoto', [10882]], ['gesdotol', [10884]], ['gesl', [8923, 65024]], ['gesles', [10900]], ['Gfr', [120074]], ['gfr', [120100]], ['gg', [8811]], ['Gg', [8921]], ['ggg', [8921]], ['gimel', [8503]], ['GJcy', [1027]], ['gjcy', [1107]], ['gla', [10917]], ['gl', [8823]], ['glE', [10898]], ['glj', [10916]], ['gnap', [10890]], ['gnapprox', [10890]], ['gne', [10888]], ['gnE', [8809]], ['gneq', [10888]], ['gneqq', [8809]], ['gnsim', [8935]], ['Gopf', [120126]], ['gopf', [120152]], ['grave', [96]], ['GreaterEqual', [8805]], ['GreaterEqualLess', [8923]], ['GreaterFullEqual', [8807]], ['GreaterGreater', [10914]], ['GreaterLess', [8823]], ['GreaterSlantEqual', [10878]], ['GreaterTilde', [8819]], ['Gscr', [119970]], ['gscr', [8458]], ['gsim', [8819]], ['gsime', [10894]], ['gsiml', [10896]], ['gtcc', [10919]], ['gtcir', [10874]], ['gt', [62]], ['GT', [62]], ['Gt', [8811]], ['gtdot', [8919]], ['gtlPar', [10645]], ['gtquest', [10876]], ['gtrapprox', [10886]], ['gtrarr', [10616]], ['gtrdot', [8919]], ['gtreqless', [8923]], ['gtreqqless', [10892]], ['gtrless', [8823]], ['gtrsim', [8819]], ['gvertneqq', [8809, 65024]], ['gvnE', [8809, 65024]], ['Hacek', [711]], ['hairsp', [8202]], ['half', [189]], ['hamilt', [8459]], ['HARDcy', [1066]], ['hardcy', [1098]], ['harrcir', [10568]], ['harr', [8596]], ['hArr', [8660]], ['harrw', [8621]], ['Hat', [94]], ['hbar', [8463]], ['Hcirc', [292]], ['hcirc', [293]], ['hearts', [9829]], ['heartsuit', [9829]], ['hellip', [8230]], ['hercon', [8889]], ['hfr', [120101]], ['Hfr', [8460]], ['HilbertSpace', [8459]], ['hksearow', [10533]], ['hkswarow', [10534]], ['hoarr', [8703]], ['homtht', [8763]], ['hookleftarrow', [8617]], ['hookrightarrow', [8618]], ['hopf', [120153]], ['Hopf', [8461]], ['horbar', [8213]], ['HorizontalLine', [9472]], ['hscr', [119997]], ['Hscr', [8459]], ['hslash', [8463]], ['Hstrok', [294]], ['hstrok', [295]], ['HumpDownHump', [8782]], ['HumpEqual', [8783]], ['hybull', [8259]], ['hyphen', [8208]], ['Iacute', [205]], ['iacute', [237]], ['ic', [8291]], ['Icirc', [206]], ['icirc', [238]], ['Icy', [1048]], ['icy', [1080]], ['Idot', [304]], ['IEcy', [1045]], ['iecy', [1077]], ['iexcl', [161]], ['iff', [8660]], ['ifr', [120102]], ['Ifr', [8465]], ['Igrave', [204]], ['igrave', [236]], ['ii', [8520]], ['iiiint', [10764]], ['iiint', [8749]], ['iinfin', [10716]], ['iiota', [8489]], ['IJlig', [306]], ['ijlig', [307]], ['Imacr', [298]], ['imacr', [299]], ['image', [8465]], ['ImaginaryI', [8520]], ['imagline', [8464]], ['imagpart', [8465]], ['imath', [305]], ['Im', [8465]], ['imof', [8887]], ['imped', [437]], ['Implies', [8658]], ['incare', [8453]], ['in', [8712]], ['infin', [8734]], ['infintie', [10717]], ['inodot', [305]], ['intcal', [8890]], ['int', [8747]], ['Int', [8748]], ['integers', [8484]], ['Integral', [8747]], ['intercal', [8890]], ['Intersection', [8898]], ['intlarhk', [10775]], ['intprod', [10812]], ['InvisibleComma', [8291]], ['InvisibleTimes', [8290]], ['IOcy', [1025]], ['iocy', [1105]], ['Iogon', [302]], ['iogon', [303]], ['Iopf', [120128]], ['iopf', [120154]], ['Iota', [921]], ['iota', [953]], ['iprod', [10812]], ['iquest', [191]], ['iscr', [119998]], ['Iscr', [8464]], ['isin', [8712]], ['isindot', [8949]], ['isinE', [8953]], ['isins', [8948]], ['isinsv', [8947]], ['isinv', [8712]], ['it', [8290]], ['Itilde', [296]], ['itilde', [297]], ['Iukcy', [1030]], ['iukcy', [1110]], ['Iuml', [207]], ['iuml', [239]], ['Jcirc', [308]], ['jcirc', [309]], ['Jcy', [1049]], ['jcy', [1081]], ['Jfr', [120077]], ['jfr', [120103]], ['jmath', [567]], ['Jopf', [120129]], ['jopf', [120155]], ['Jscr', [119973]], ['jscr', [119999]], ['Jsercy', [1032]], ['jsercy', [1112]], ['Jukcy', [1028]], ['jukcy', [1108]], ['Kappa', [922]], ['kappa', [954]], ['kappav', [1008]], ['Kcedil', [310]], ['kcedil', [311]], ['Kcy', [1050]], ['kcy', [1082]], ['Kfr', [120078]], ['kfr', [120104]], ['kgreen', [312]], ['KHcy', [1061]], ['khcy', [1093]], ['KJcy', [1036]], ['kjcy', [1116]], ['Kopf', [120130]], ['kopf', [120156]], ['Kscr', [119974]], ['kscr', [120000]], ['lAarr', [8666]], ['Lacute', [313]], ['lacute', [314]], ['laemptyv', [10676]], ['lagran', [8466]], ['Lambda', [923]], ['lambda', [955]], ['lang', [10216]], ['Lang', [10218]], ['langd', [10641]], ['langle', [10216]], ['lap', [10885]], ['Laplacetrf', [8466]], ['laquo', [171]], ['larrb', [8676]], ['larrbfs', [10527]], ['larr', [8592]], ['Larr', [8606]], ['lArr', [8656]], ['larrfs', [10525]], ['larrhk', [8617]], ['larrlp', [8619]], ['larrpl', [10553]], ['larrsim', [10611]], ['larrtl', [8610]], ['latail', [10521]], ['lAtail', [10523]], ['lat', [10923]], ['late', [10925]], ['lates', [10925, 65024]], ['lbarr', [10508]], ['lBarr', [10510]], ['lbbrk', [10098]], ['lbrace', [123]], ['lbrack', [91]], ['lbrke', [10635]], ['lbrksld', [10639]], ['lbrkslu', [10637]], ['Lcaron', [317]], ['lcaron', [318]], ['Lcedil', [315]], ['lcedil', [316]], ['lceil', [8968]], ['lcub', [123]], ['Lcy', [1051]], ['lcy', [1083]], ['ldca', [10550]], ['ldquo', [8220]], ['ldquor', [8222]], ['ldrdhar', [10599]], ['ldrushar', [10571]], ['ldsh', [8626]], ['le', [8804]], ['lE', [8806]], ['LeftAngleBracket', [10216]], ['LeftArrowBar', [8676]], ['leftarrow', [8592]], ['LeftArrow', [8592]], ['Leftarrow', [8656]], ['LeftArrowRightArrow', [8646]], ['leftarrowtail', [8610]], ['LeftCeiling', [8968]], ['LeftDoubleBracket', [10214]], ['LeftDownTeeVector', [10593]], ['LeftDownVectorBar', [10585]], ['LeftDownVector', [8643]], ['LeftFloor', [8970]], ['leftharpoondown', [8637]], ['leftharpoonup', [8636]], ['leftleftarrows', [8647]], ['leftrightarrow', [8596]], ['LeftRightArrow', [8596]], ['Leftrightarrow', [8660]], ['leftrightarrows', [8646]], ['leftrightharpoons', [8651]], ['leftrightsquigarrow', [8621]], ['LeftRightVector', [10574]], ['LeftTeeArrow', [8612]], ['LeftTee', [8867]], ['LeftTeeVector', [10586]], ['leftthreetimes', [8907]], ['LeftTriangleBar', [10703]], ['LeftTriangle', [8882]], ['LeftTriangleEqual', [8884]], ['LeftUpDownVector', [10577]], ['LeftUpTeeVector', [10592]], ['LeftUpVectorBar', [10584]], ['LeftUpVector', [8639]], ['LeftVectorBar', [10578]], ['LeftVector', [8636]], ['lEg', [10891]], ['leg', [8922]], ['leq', [8804]], ['leqq', [8806]], ['leqslant', [10877]], ['lescc', [10920]], ['les', [10877]], ['lesdot', [10879]], ['lesdoto', [10881]], ['lesdotor', [10883]], ['lesg', [8922, 65024]], ['lesges', [10899]], ['lessapprox', [10885]], ['lessdot', [8918]], ['lesseqgtr', [8922]], ['lesseqqgtr', [10891]], ['LessEqualGreater', [8922]], ['LessFullEqual', [8806]], ['LessGreater', [8822]], ['lessgtr', [8822]], ['LessLess', [10913]], ['lesssim', [8818]], ['LessSlantEqual', [10877]], ['LessTilde', [8818]], ['lfisht', [10620]], ['lfloor', [8970]], ['Lfr', [120079]], ['lfr', [120105]], ['lg', [8822]], ['lgE', [10897]], ['lHar', [10594]], ['lhard', [8637]], ['lharu', [8636]], ['lharul', [10602]], ['lhblk', [9604]], ['LJcy', [1033]], ['ljcy', [1113]], ['llarr', [8647]], ['ll', [8810]], ['Ll', [8920]], ['llcorner', [8990]], ['Lleftarrow', [8666]], ['llhard', [10603]], ['lltri', [9722]], ['Lmidot', [319]], ['lmidot', [320]], ['lmoustache', [9136]], ['lmoust', [9136]], ['lnap', [10889]], ['lnapprox', [10889]], ['lne', [10887]], ['lnE', [8808]], ['lneq', [10887]], ['lneqq', [8808]], ['lnsim', [8934]], ['loang', [10220]], ['loarr', [8701]], ['lobrk', [10214]], ['longleftarrow', [10229]], ['LongLeftArrow', [10229]], ['Longleftarrow', [10232]], ['longleftrightarrow', [10231]], ['LongLeftRightArrow', [10231]], ['Longleftrightarrow', [10234]], ['longmapsto', [10236]], ['longrightarrow', [10230]], ['LongRightArrow', [10230]], ['Longrightarrow', [10233]], ['looparrowleft', [8619]], ['looparrowright', [8620]], ['lopar', [10629]], ['Lopf', [120131]], ['lopf', [120157]], ['loplus', [10797]], ['lotimes', [10804]], ['lowast', [8727]], ['lowbar', [95]], ['LowerLeftArrow', [8601]], ['LowerRightArrow', [8600]], ['loz', [9674]], ['lozenge', [9674]], ['lozf', [10731]], ['lpar', [40]], ['lparlt', [10643]], ['lrarr', [8646]], ['lrcorner', [8991]], ['lrhar', [8651]], ['lrhard', [10605]], ['lrm', [8206]], ['lrtri', [8895]], ['lsaquo', [8249]], ['lscr', [120001]], ['Lscr', [8466]], ['lsh', [8624]], ['Lsh', [8624]], ['lsim', [8818]], ['lsime', [10893]], ['lsimg', [10895]], ['lsqb', [91]], ['lsquo', [8216]], ['lsquor', [8218]], ['Lstrok', [321]], ['lstrok', [322]], ['ltcc', [10918]], ['ltcir', [10873]], ['lt', [60]], ['LT', [60]], ['Lt', [8810]], ['ltdot', [8918]], ['lthree', [8907]], ['ltimes', [8905]], ['ltlarr', [10614]], ['ltquest', [10875]], ['ltri', [9667]], ['ltrie', [8884]], ['ltrif', [9666]], ['ltrPar', [10646]], ['lurdshar', [10570]], ['luruhar', [10598]], ['lvertneqq', [8808, 65024]], ['lvnE', [8808, 65024]], ['macr', [175]], ['male', [9794]], ['malt', [10016]], ['maltese', [10016]], ['Map', [10501]], ['map', [8614]], ['mapsto', [8614]], ['mapstodown', [8615]], ['mapstoleft', [8612]], ['mapstoup', [8613]], ['marker', [9646]], ['mcomma', [10793]], ['Mcy', [1052]], ['mcy', [1084]], ['mdash', [8212]], ['mDDot', [8762]], ['measuredangle', [8737]], ['MediumSpace', [8287]], ['Mellintrf', [8499]], ['Mfr', [120080]], ['mfr', [120106]], ['mho', [8487]], ['micro', [181]], ['midast', [42]], ['midcir', [10992]], ['mid', [8739]], ['middot', [183]], ['minusb', [8863]], ['minus', [8722]], ['minusd', [8760]], ['minusdu', [10794]], ['MinusPlus', [8723]], ['mlcp', [10971]], ['mldr', [8230]], ['mnplus', [8723]], ['models', [8871]], ['Mopf', [120132]], ['mopf', [120158]], ['mp', [8723]], ['mscr', [120002]], ['Mscr', [8499]], ['mstpos', [8766]], ['Mu', [924]], ['mu', [956]], ['multimap', [8888]], ['mumap', [8888]], ['nabla', [8711]], ['Nacute', [323]], ['nacute', [324]], ['nang', [8736, 8402]], ['nap', [8777]], ['napE', [10864, 824]], ['napid', [8779, 824]], ['napos', [329]], ['napprox', [8777]], ['natural', [9838]], ['naturals', [8469]], ['natur', [9838]], ['nbsp', [160]], ['nbump', [8782, 824]], ['nbumpe', [8783, 824]], ['ncap', [10819]], ['Ncaron', [327]], ['ncaron', [328]], ['Ncedil', [325]], ['ncedil', [326]], ['ncong', [8775]], ['ncongdot', [10861, 824]], ['ncup', [10818]], ['Ncy', [1053]], ['ncy', [1085]], ['ndash', [8211]], ['nearhk', [10532]], ['nearr', [8599]], ['neArr', [8663]], ['nearrow', [8599]], ['ne', [8800]], ['nedot', [8784, 824]], ['NegativeMediumSpace', [8203]], ['NegativeThickSpace', [8203]], ['NegativeThinSpace', [8203]], ['NegativeVeryThinSpace', [8203]], ['nequiv', [8802]], ['nesear', [10536]], ['nesim', [8770, 824]], ['NestedGreaterGreater', [8811]], ['NestedLessLess', [8810]], ['nexist', [8708]], ['nexists', [8708]], ['Nfr', [120081]], ['nfr', [120107]], ['ngE', [8807, 824]], ['nge', [8817]], ['ngeq', [8817]], ['ngeqq', [8807, 824]], ['ngeqslant', [10878, 824]], ['nges', [10878, 824]], ['nGg', [8921, 824]], ['ngsim', [8821]], ['nGt', [8811, 8402]], ['ngt', [8815]], ['ngtr', [8815]], ['nGtv', [8811, 824]], ['nharr', [8622]], ['nhArr', [8654]], ['nhpar', [10994]], ['ni', [8715]], ['nis', [8956]], ['nisd', [8954]], ['niv', [8715]], ['NJcy', [1034]], ['njcy', [1114]], ['nlarr', [8602]], ['nlArr', [8653]], ['nldr', [8229]], ['nlE', [8806, 824]], ['nle', [8816]], ['nleftarrow', [8602]], ['nLeftarrow', [8653]], ['nleftrightarrow', [8622]], ['nLeftrightarrow', [8654]], ['nleq', [8816]], ['nleqq', [8806, 824]], ['nleqslant', [10877, 824]], ['nles', [10877, 824]], ['nless', [8814]], ['nLl', [8920, 824]], ['nlsim', [8820]], ['nLt', [8810, 8402]], ['nlt', [8814]], ['nltri', [8938]], ['nltrie', [8940]], ['nLtv', [8810, 824]], ['nmid', [8740]], ['NoBreak', [8288]], ['NonBreakingSpace', [160]], ['nopf', [120159]], ['Nopf', [8469]], ['Not', [10988]], ['not', [172]], ['NotCongruent', [8802]], ['NotCupCap', [8813]], ['NotDoubleVerticalBar', [8742]], ['NotElement', [8713]], ['NotEqual', [8800]], ['NotEqualTilde', [8770, 824]], ['NotExists', [8708]], ['NotGreater', [8815]], ['NotGreaterEqual', [8817]], ['NotGreaterFullEqual', [8807, 824]], ['NotGreaterGreater', [8811, 824]], ['NotGreaterLess', [8825]], ['NotGreaterSlantEqual', [10878, 824]], ['NotGreaterTilde', [8821]], ['NotHumpDownHump', [8782, 824]], ['NotHumpEqual', [8783, 824]], ['notin', [8713]], ['notindot', [8949, 824]], ['notinE', [8953, 824]], ['notinva', [8713]], ['notinvb', [8951]], ['notinvc', [8950]], ['NotLeftTriangleBar', [10703, 824]], ['NotLeftTriangle', [8938]], ['NotLeftTriangleEqual', [8940]], ['NotLess', [8814]], ['NotLessEqual', [8816]], ['NotLessGreater', [8824]], ['NotLessLess', [8810, 824]], ['NotLessSlantEqual', [10877, 824]], ['NotLessTilde', [8820]], ['NotNestedGreaterGreater', [10914, 824]], ['NotNestedLessLess', [10913, 824]], ['notni', [8716]], ['notniva', [8716]], ['notnivb', [8958]], ['notnivc', [8957]], ['NotPrecedes', [8832]], ['NotPrecedesEqual', [10927, 824]], ['NotPrecedesSlantEqual', [8928]], ['NotReverseElement', [8716]], ['NotRightTriangleBar', [10704, 824]], ['NotRightTriangle', [8939]], ['NotRightTriangleEqual', [8941]], ['NotSquareSubset', [8847, 824]], ['NotSquareSubsetEqual', [8930]], ['NotSquareSuperset', [8848, 824]], ['NotSquareSupersetEqual', [8931]], ['NotSubset', [8834, 8402]], ['NotSubsetEqual', [8840]], ['NotSucceeds', [8833]], ['NotSucceedsEqual', [10928, 824]], ['NotSucceedsSlantEqual', [8929]], ['NotSucceedsTilde', [8831, 824]], ['NotSuperset', [8835, 8402]], ['NotSupersetEqual', [8841]], ['NotTilde', [8769]], ['NotTildeEqual', [8772]], ['NotTildeFullEqual', [8775]], ['NotTildeTilde', [8777]], ['NotVerticalBar', [8740]], ['nparallel', [8742]], ['npar', [8742]], ['nparsl', [11005, 8421]], ['npart', [8706, 824]], ['npolint', [10772]], ['npr', [8832]], ['nprcue', [8928]], ['nprec', [8832]], ['npreceq', [10927, 824]], ['npre', [10927, 824]], ['nrarrc', [10547, 824]], ['nrarr', [8603]], ['nrArr', [8655]], ['nrarrw', [8605, 824]], ['nrightarrow', [8603]], ['nRightarrow', [8655]], ['nrtri', [8939]], ['nrtrie', [8941]], ['nsc', [8833]], ['nsccue', [8929]], ['nsce', [10928, 824]], ['Nscr', [119977]], ['nscr', [120003]], ['nshortmid', [8740]], ['nshortparallel', [8742]], ['nsim', [8769]], ['nsime', [8772]], ['nsimeq', [8772]], ['nsmid', [8740]], ['nspar', [8742]], ['nsqsube', [8930]], ['nsqsupe', [8931]], ['nsub', [8836]], ['nsubE', [10949, 824]], ['nsube', [8840]], ['nsubset', [8834, 8402]], ['nsubseteq', [8840]], ['nsubseteqq', [10949, 824]], ['nsucc', [8833]], ['nsucceq', [10928, 824]], ['nsup', [8837]], ['nsupE', [10950, 824]], ['nsupe', [8841]], ['nsupset', [8835, 8402]], ['nsupseteq', [8841]], ['nsupseteqq', [10950, 824]], ['ntgl', [8825]], ['Ntilde', [209]], ['ntilde', [241]], ['ntlg', [8824]], ['ntriangleleft', [8938]], ['ntrianglelefteq', [8940]], ['ntriangleright', [8939]], ['ntrianglerighteq', [8941]], ['Nu', [925]], ['nu', [957]], ['num', [35]], ['numero', [8470]], ['numsp', [8199]], ['nvap', [8781, 8402]], ['nvdash', [8876]], ['nvDash', [8877]], ['nVdash', [8878]], ['nVDash', [8879]], ['nvge', [8805, 8402]], ['nvgt', [62, 8402]], ['nvHarr', [10500]], ['nvinfin', [10718]], ['nvlArr', [10498]], ['nvle', [8804, 8402]], ['nvlt', [60, 8402]], ['nvltrie', [8884, 8402]], ['nvrArr', [10499]], ['nvrtrie', [8885, 8402]], ['nvsim', [8764, 8402]], ['nwarhk', [10531]], ['nwarr', [8598]], ['nwArr', [8662]], ['nwarrow', [8598]], ['nwnear', [10535]], ['Oacute', [211]], ['oacute', [243]], ['oast', [8859]], ['Ocirc', [212]], ['ocirc', [244]], ['ocir', [8858]], ['Ocy', [1054]], ['ocy', [1086]], ['odash', [8861]], ['Odblac', [336]], ['odblac', [337]], ['odiv', [10808]], ['odot', [8857]], ['odsold', [10684]], ['OElig', [338]], ['oelig', [339]], ['ofcir', [10687]], ['Ofr', [120082]], ['ofr', [120108]], ['ogon', [731]], ['Ograve', [210]], ['ograve', [242]], ['ogt', [10689]], ['ohbar', [10677]], ['ohm', [937]], ['oint', [8750]], ['olarr', [8634]], ['olcir', [10686]], ['olcross', [10683]], ['oline', [8254]], ['olt', [10688]], ['Omacr', [332]], ['omacr', [333]], ['Omega', [937]], ['omega', [969]], ['Omicron', [927]], ['omicron', [959]], ['omid', [10678]], ['ominus', [8854]], ['Oopf', [120134]], ['oopf', [120160]], ['opar', [10679]], ['OpenCurlyDoubleQuote', [8220]], ['OpenCurlyQuote', [8216]], ['operp', [10681]], ['oplus', [8853]], ['orarr', [8635]], ['Or', [10836]], ['or', [8744]], ['ord', [10845]], ['order', [8500]], ['orderof', [8500]], ['ordf', [170]], ['ordm', [186]], ['origof', [8886]], ['oror', [10838]], ['orslope', [10839]], ['orv', [10843]], ['oS', [9416]], ['Oscr', [119978]], ['oscr', [8500]], ['Oslash', [216]], ['oslash', [248]], ['osol', [8856]], ['Otilde', [213]], ['otilde', [245]], ['otimesas', [10806]], ['Otimes', [10807]], ['otimes', [8855]], ['Ouml', [214]], ['ouml', [246]], ['ovbar', [9021]], ['OverBar', [8254]], ['OverBrace', [9182]], ['OverBracket', [9140]], ['OverParenthesis', [9180]], ['para', [182]], ['parallel', [8741]], ['par', [8741]], ['parsim', [10995]], ['parsl', [11005]], ['part', [8706]], ['PartialD', [8706]], ['Pcy', [1055]], ['pcy', [1087]], ['percnt', [37]], ['period', [46]], ['permil', [8240]], ['perp', [8869]], ['pertenk', [8241]], ['Pfr', [120083]], ['pfr', [120109]], ['Phi', [934]], ['phi', [966]], ['phiv', [981]], ['phmmat', [8499]], ['phone', [9742]], ['Pi', [928]], ['pi', [960]], ['pitchfork', [8916]], ['piv', [982]], ['planck', [8463]], ['planckh', [8462]], ['plankv', [8463]], ['plusacir', [10787]], ['plusb', [8862]], ['pluscir', [10786]], ['plus', [43]], ['plusdo', [8724]], ['plusdu', [10789]], ['pluse', [10866]], ['PlusMinus', [177]], ['plusmn', [177]], ['plussim', [10790]], ['plustwo', [10791]], ['pm', [177]], ['Poincareplane', [8460]], ['pointint', [10773]], ['popf', [120161]], ['Popf', [8473]], ['pound', [163]], ['prap', [10935]], ['Pr', [10939]], ['pr', [8826]], ['prcue', [8828]], ['precapprox', [10935]], ['prec', [8826]], ['preccurlyeq', [8828]], ['Precedes', [8826]], ['PrecedesEqual', [10927]], ['PrecedesSlantEqual', [8828]], ['PrecedesTilde', [8830]], ['preceq', [10927]], ['precnapprox', [10937]], ['precneqq', [10933]], ['precnsim', [8936]], ['pre', [10927]], ['prE', [10931]], ['precsim', [8830]], ['prime', [8242]], ['Prime', [8243]], ['primes', [8473]], ['prnap', [10937]], ['prnE', [10933]], ['prnsim', [8936]], ['prod', [8719]], ['Product', [8719]], ['profalar', [9006]], ['profline', [8978]], ['profsurf', [8979]], ['prop', [8733]], ['Proportional', [8733]], ['Proportion', [8759]], ['propto', [8733]], ['prsim', [8830]], ['prurel', [8880]], ['Pscr', [119979]], ['pscr', [120005]], ['Psi', [936]], ['psi', [968]], ['puncsp', [8200]], ['Qfr', [120084]], ['qfr', [120110]], ['qint', [10764]], ['qopf', [120162]], ['Qopf', [8474]], ['qprime', [8279]], ['Qscr', [119980]], ['qscr', [120006]], ['quaternions', [8461]], ['quatint', [10774]], ['quest', [63]], ['questeq', [8799]], ['quot', [34]], ['QUOT', [34]], ['rAarr', [8667]], ['race', [8765, 817]], ['Racute', [340]], ['racute', [341]], ['radic', [8730]], ['raemptyv', [10675]], ['rang', [10217]], ['Rang', [10219]], ['rangd', [10642]], ['range', [10661]], ['rangle', [10217]], ['raquo', [187]], ['rarrap', [10613]], ['rarrb', [8677]], ['rarrbfs', [10528]], ['rarrc', [10547]], ['rarr', [8594]], ['Rarr', [8608]], ['rArr', [8658]], ['rarrfs', [10526]], ['rarrhk', [8618]], ['rarrlp', [8620]], ['rarrpl', [10565]], ['rarrsim', [10612]], ['Rarrtl', [10518]], ['rarrtl', [8611]], ['rarrw', [8605]], ['ratail', [10522]], ['rAtail', [10524]], ['ratio', [8758]], ['rationals', [8474]], ['rbarr', [10509]], ['rBarr', [10511]], ['RBarr', [10512]], ['rbbrk', [10099]], ['rbrace', [125]], ['rbrack', [93]], ['rbrke', [10636]], ['rbrksld', [10638]], ['rbrkslu', [10640]], ['Rcaron', [344]], ['rcaron', [345]], ['Rcedil', [342]], ['rcedil', [343]], ['rceil', [8969]], ['rcub', [125]], ['Rcy', [1056]], ['rcy', [1088]], ['rdca', [10551]], ['rdldhar', [10601]], ['rdquo', [8221]], ['rdquor', [8221]], ['CloseCurlyDoubleQuote', [8221]], ['rdsh', [8627]], ['real', [8476]], ['realine', [8475]], ['realpart', [8476]], ['reals', [8477]], ['Re', [8476]], ['rect', [9645]], ['reg', [174]], ['REG', [174]], ['ReverseElement', [8715]], ['ReverseEquilibrium', [8651]], ['ReverseUpEquilibrium', [10607]], ['rfisht', [10621]], ['rfloor', [8971]], ['rfr', [120111]], ['Rfr', [8476]], ['rHar', [10596]], ['rhard', [8641]], ['rharu', [8640]], ['rharul', [10604]], ['Rho', [929]], ['rho', [961]], ['rhov', [1009]], ['RightAngleBracket', [10217]], ['RightArrowBar', [8677]], ['rightarrow', [8594]], ['RightArrow', [8594]], ['Rightarrow', [8658]], ['RightArrowLeftArrow', [8644]], ['rightarrowtail', [8611]], ['RightCeiling', [8969]], ['RightDoubleBracket', [10215]], ['RightDownTeeVector', [10589]], ['RightDownVectorBar', [10581]], ['RightDownVector', [8642]], ['RightFloor', [8971]], ['rightharpoondown', [8641]], ['rightharpoonup', [8640]], ['rightleftarrows', [8644]], ['rightleftharpoons', [8652]], ['rightrightarrows', [8649]], ['rightsquigarrow', [8605]], ['RightTeeArrow', [8614]], ['RightTee', [8866]], ['RightTeeVector', [10587]], ['rightthreetimes', [8908]], ['RightTriangleBar', [10704]], ['RightTriangle', [8883]], ['RightTriangleEqual', [8885]], ['RightUpDownVector', [10575]], ['RightUpTeeVector', [10588]], ['RightUpVectorBar', [10580]], ['RightUpVector', [8638]], ['RightVectorBar', [10579]], ['RightVector', [8640]], ['ring', [730]], ['risingdotseq', [8787]], ['rlarr', [8644]], ['rlhar', [8652]], ['rlm', [8207]], ['rmoustache', [9137]], ['rmoust', [9137]], ['rnmid', [10990]], ['roang', [10221]], ['roarr', [8702]], ['robrk', [10215]], ['ropar', [10630]], ['ropf', [120163]], ['Ropf', [8477]], ['roplus', [10798]], ['rotimes', [10805]], ['RoundImplies', [10608]], ['rpar', [41]], ['rpargt', [10644]], ['rppolint', [10770]], ['rrarr', [8649]], ['Rrightarrow', [8667]], ['rsaquo', [8250]], ['rscr', [120007]], ['Rscr', [8475]], ['rsh', [8625]], ['Rsh', [8625]], ['rsqb', [93]], ['rsquo', [8217]], ['rsquor', [8217]], ['CloseCurlyQuote', [8217]], ['rthree', [8908]], ['rtimes', [8906]], ['rtri', [9657]], ['rtrie', [8885]], ['rtrif', [9656]], ['rtriltri', [10702]], ['RuleDelayed', [10740]], ['ruluhar', [10600]], ['rx', [8478]], ['Sacute', [346]], ['sacute', [347]], ['sbquo', [8218]], ['scap', [10936]], ['Scaron', [352]], ['scaron', [353]], ['Sc', [10940]], ['sc', [8827]], ['sccue', [8829]], ['sce', [10928]], ['scE', [10932]], ['Scedil', [350]], ['scedil', [351]], ['Scirc', [348]], ['scirc', [349]], ['scnap', [10938]], ['scnE', [10934]], ['scnsim', [8937]], ['scpolint', [10771]], ['scsim', [8831]], ['Scy', [1057]], ['scy', [1089]], ['sdotb', [8865]], ['sdot', [8901]], ['sdote', [10854]], ['searhk', [10533]], ['searr', [8600]], ['seArr', [8664]], ['searrow', [8600]], ['sect', [167]], ['semi', [59]], ['seswar', [10537]], ['setminus', [8726]], ['setmn', [8726]], ['sext', [10038]], ['Sfr', [120086]], ['sfr', [120112]], ['sfrown', [8994]], ['sharp', [9839]], ['SHCHcy', [1065]], ['shchcy', [1097]], ['SHcy', [1064]], ['shcy', [1096]], ['ShortDownArrow', [8595]], ['ShortLeftArrow', [8592]], ['shortmid', [8739]], ['shortparallel', [8741]], ['ShortRightArrow', [8594]], ['ShortUpArrow', [8593]], ['shy', [173]], ['Sigma', [931]], ['sigma', [963]], ['sigmaf', [962]], ['sigmav', [962]], ['sim', [8764]], ['simdot', [10858]], ['sime', [8771]], ['simeq', [8771]], ['simg', [10910]], ['simgE', [10912]], ['siml', [10909]], ['simlE', [10911]], ['simne', [8774]], ['simplus', [10788]], ['simrarr', [10610]], ['slarr', [8592]], ['SmallCircle', [8728]], ['smallsetminus', [8726]], ['smashp', [10803]], ['smeparsl', [10724]], ['smid', [8739]], ['smile', [8995]], ['smt', [10922]], ['smte', [10924]], ['smtes', [10924, 65024]], ['SOFTcy', [1068]], ['softcy', [1100]], ['solbar', [9023]], ['solb', [10692]], ['sol', [47]], ['Sopf', [120138]], ['sopf', [120164]], ['spades', [9824]], ['spadesuit', [9824]], ['spar', [8741]], ['sqcap', [8851]], ['sqcaps', [8851, 65024]], ['sqcup', [8852]], ['sqcups', [8852, 65024]], ['Sqrt', [8730]], ['sqsub', [8847]], ['sqsube', [8849]], ['sqsubset', [8847]], ['sqsubseteq', [8849]], ['sqsup', [8848]], ['sqsupe', [8850]], ['sqsupset', [8848]], ['sqsupseteq', [8850]], ['square', [9633]], ['Square', [9633]], ['SquareIntersection', [8851]], ['SquareSubset', [8847]], ['SquareSubsetEqual', [8849]], ['SquareSuperset', [8848]], ['SquareSupersetEqual', [8850]], ['SquareUnion', [8852]], ['squarf', [9642]], ['squ', [9633]], ['squf', [9642]], ['srarr', [8594]], ['Sscr', [119982]], ['sscr', [120008]], ['ssetmn', [8726]], ['ssmile', [8995]], ['sstarf', [8902]], ['Star', [8902]], ['star', [9734]], ['starf', [9733]], ['straightepsilon', [1013]], ['straightphi', [981]], ['strns', [175]], ['sub', [8834]], ['Sub', [8912]], ['subdot', [10941]], ['subE', [10949]], ['sube', [8838]], ['subedot', [10947]], ['submult', [10945]], ['subnE', [10955]], ['subne', [8842]], ['subplus', [10943]], ['subrarr', [10617]], ['subset', [8834]], ['Subset', [8912]], ['subseteq', [8838]], ['subseteqq', [10949]], ['SubsetEqual', [8838]], ['subsetneq', [8842]], ['subsetneqq', [10955]], ['subsim', [10951]], ['subsub', [10965]], ['subsup', [10963]], ['succapprox', [10936]], ['succ', [8827]], ['succcurlyeq', [8829]], ['Succeeds', [8827]], ['SucceedsEqual', [10928]], ['SucceedsSlantEqual', [8829]], ['SucceedsTilde', [8831]], ['succeq', [10928]], ['succnapprox', [10938]], ['succneqq', [10934]], ['succnsim', [8937]], ['succsim', [8831]], ['SuchThat', [8715]], ['sum', [8721]], ['Sum', [8721]], ['sung', [9834]], ['sup1', [185]], ['sup2', [178]], ['sup3', [179]], ['sup', [8835]], ['Sup', [8913]], ['supdot', [10942]], ['supdsub', [10968]], ['supE', [10950]], ['supe', [8839]], ['supedot', [10948]], ['Superset', [8835]], ['SupersetEqual', [8839]], ['suphsol', [10185]], ['suphsub', [10967]], ['suplarr', [10619]], ['supmult', [10946]], ['supnE', [10956]], ['supne', [8843]], ['supplus', [10944]], ['supset', [8835]], ['Supset', [8913]], ['supseteq', [8839]], ['supseteqq', [10950]], ['supsetneq', [8843]], ['supsetneqq', [10956]], ['supsim', [10952]], ['supsub', [10964]], ['supsup', [10966]], ['swarhk', [10534]], ['swarr', [8601]], ['swArr', [8665]], ['swarrow', [8601]], ['swnwar', [10538]], ['szlig', [223]], ['Tab', [9]], ['target', [8982]], ['Tau', [932]], ['tau', [964]], ['tbrk', [9140]], ['Tcaron', [356]], ['tcaron', [357]], ['Tcedil', [354]], ['tcedil', [355]], ['Tcy', [1058]], ['tcy', [1090]], ['tdot', [8411]], ['telrec', [8981]], ['Tfr', [120087]], ['tfr', [120113]], ['there4', [8756]], ['therefore', [8756]], ['Therefore', [8756]], ['Theta', [920]], ['theta', [952]], ['thetasym', [977]], ['thetav', [977]], ['thickapprox', [8776]], ['thicksim', [8764]], ['ThickSpace', [8287, 8202]], ['ThinSpace', [8201]], ['thinsp', [8201]], ['thkap', [8776]], ['thksim', [8764]], ['THORN', [222]], ['thorn', [254]], ['tilde', [732]], ['Tilde', [8764]], ['TildeEqual', [8771]], ['TildeFullEqual', [8773]], ['TildeTilde', [8776]], ['timesbar', [10801]], ['timesb', [8864]], ['times', [215]], ['timesd', [10800]], ['tint', [8749]], ['toea', [10536]], ['topbot', [9014]], ['topcir', [10993]], ['top', [8868]], ['Topf', [120139]], ['topf', [120165]], ['topfork', [10970]], ['tosa', [10537]], ['tprime', [8244]], ['trade', [8482]], ['TRADE', [8482]], ['triangle', [9653]], ['triangledown', [9663]], ['triangleleft', [9667]], ['trianglelefteq', [8884]], ['triangleq', [8796]], ['triangleright', [9657]], ['trianglerighteq', [8885]], ['tridot', [9708]], ['trie', [8796]], ['triminus', [10810]], ['TripleDot', [8411]], ['triplus', [10809]], ['trisb', [10701]], ['tritime', [10811]], ['trpezium', [9186]], ['Tscr', [119983]], ['tscr', [120009]], ['TScy', [1062]], ['tscy', [1094]], ['TSHcy', [1035]], ['tshcy', [1115]], ['Tstrok', [358]], ['tstrok', [359]], ['twixt', [8812]], ['twoheadleftarrow', [8606]], ['twoheadrightarrow', [8608]], ['Uacute', [218]], ['uacute', [250]], ['uarr', [8593]], ['Uarr', [8607]], ['uArr', [8657]], ['Uarrocir', [10569]], ['Ubrcy', [1038]], ['ubrcy', [1118]], ['Ubreve', [364]], ['ubreve', [365]], ['Ucirc', [219]], ['ucirc', [251]], ['Ucy', [1059]], ['ucy', [1091]], ['udarr', [8645]], ['Udblac', [368]], ['udblac', [369]], ['udhar', [10606]], ['ufisht', [10622]], ['Ufr', [120088]], ['ufr', [120114]], ['Ugrave', [217]], ['ugrave', [249]], ['uHar', [10595]], ['uharl', [8639]], ['uharr', [8638]], ['uhblk', [9600]], ['ulcorn', [8988]], ['ulcorner', [8988]], ['ulcrop', [8975]], ['ultri', [9720]], ['Umacr', [362]], ['umacr', [363]], ['uml', [168]], ['UnderBar', [95]], ['UnderBrace', [9183]], ['UnderBracket', [9141]], ['UnderParenthesis', [9181]], ['Union', [8899]], ['UnionPlus', [8846]], ['Uogon', [370]], ['uogon', [371]], ['Uopf', [120140]], ['uopf', [120166]], ['UpArrowBar', [10514]], ['uparrow', [8593]], ['UpArrow', [8593]], ['Uparrow', [8657]], ['UpArrowDownArrow', [8645]], ['updownarrow', [8597]], ['UpDownArrow', [8597]], ['Updownarrow', [8661]], ['UpEquilibrium', [10606]], ['upharpoonleft', [8639]], ['upharpoonright', [8638]], ['uplus', [8846]], ['UpperLeftArrow', [8598]], ['UpperRightArrow', [8599]], ['upsi', [965]], ['Upsi', [978]], ['upsih', [978]], ['Upsilon', [933]], ['upsilon', [965]], ['UpTeeArrow', [8613]], ['UpTee', [8869]], ['upuparrows', [8648]], ['urcorn', [8989]], ['urcorner', [8989]], ['urcrop', [8974]], ['Uring', [366]], ['uring', [367]], ['urtri', [9721]], ['Uscr', [119984]], ['uscr', [120010]], ['utdot', [8944]], ['Utilde', [360]], ['utilde', [361]], ['utri', [9653]], ['utrif', [9652]], ['uuarr', [8648]], ['Uuml', [220]], ['uuml', [252]], ['uwangle', [10663]], ['vangrt', [10652]], ['varepsilon', [1013]], ['varkappa', [1008]], ['varnothing', [8709]], ['varphi', [981]], ['varpi', [982]], ['varpropto', [8733]], ['varr', [8597]], ['vArr', [8661]], ['varrho', [1009]], ['varsigma', [962]], ['varsubsetneq', [8842, 65024]], ['varsubsetneqq', [10955, 65024]], ['varsupsetneq', [8843, 65024]], ['varsupsetneqq', [10956, 65024]], ['vartheta', [977]], ['vartriangleleft', [8882]], ['vartriangleright', [8883]], ['vBar', [10984]], ['Vbar', [10987]], ['vBarv', [10985]], ['Vcy', [1042]], ['vcy', [1074]], ['vdash', [8866]], ['vDash', [8872]], ['Vdash', [8873]], ['VDash', [8875]], ['Vdashl', [10982]], ['veebar', [8891]], ['vee', [8744]], ['Vee', [8897]], ['veeeq', [8794]], ['vellip', [8942]], ['verbar', [124]], ['Verbar', [8214]], ['vert', [124]], ['Vert', [8214]], ['VerticalBar', [8739]], ['VerticalLine', [124]], ['VerticalSeparator', [10072]], ['VerticalTilde', [8768]], ['VeryThinSpace', [8202]], ['Vfr', [120089]], ['vfr', [120115]], ['vltri', [8882]], ['vnsub', [8834, 8402]], ['vnsup', [8835, 8402]], ['Vopf', [120141]], ['vopf', [120167]], ['vprop', [8733]], ['vrtri', [8883]], ['Vscr', [119985]], ['vscr', [120011]], ['vsubnE', [10955, 65024]], ['vsubne', [8842, 65024]], ['vsupnE', [10956, 65024]], ['vsupne', [8843, 65024]], ['Vvdash', [8874]], ['vzigzag', [10650]], ['Wcirc', [372]], ['wcirc', [373]], ['wedbar', [10847]], ['wedge', [8743]], ['Wedge', [8896]], ['wedgeq', [8793]], ['weierp', [8472]], ['Wfr', [120090]], ['wfr', [120116]], ['Wopf', [120142]], ['wopf', [120168]], ['wp', [8472]], ['wr', [8768]], ['wreath', [8768]], ['Wscr', [119986]], ['wscr', [120012]], ['xcap', [8898]], ['xcirc', [9711]], ['xcup', [8899]], ['xdtri', [9661]], ['Xfr', [120091]], ['xfr', [120117]], ['xharr', [10231]], ['xhArr', [10234]], ['Xi', [926]], ['xi', [958]], ['xlarr', [10229]], ['xlArr', [10232]], ['xmap', [10236]], ['xnis', [8955]], ['xodot', [10752]], ['Xopf', [120143]], ['xopf', [120169]], ['xoplus', [10753]], ['xotime', [10754]], ['xrarr', [10230]], ['xrArr', [10233]], ['Xscr', [119987]], ['xscr', [120013]], ['xsqcup', [10758]], ['xuplus', [10756]], ['xutri', [9651]], ['xvee', [8897]], ['xwedge', [8896]], ['Yacute', [221]], ['yacute', [253]], ['YAcy', [1071]], ['yacy', [1103]], ['Ycirc', [374]], ['ycirc', [375]], ['Ycy', [1067]], ['ycy', [1099]], ['yen', [165]], ['Yfr', [120092]], ['yfr', [120118]], ['YIcy', [1031]], ['yicy', [1111]], ['Yopf', [120144]], ['yopf', [120170]], ['Yscr', [119988]], ['yscr', [120014]], ['YUcy', [1070]], ['yucy', [1102]], ['yuml', [255]], ['Yuml', [376]], ['Zacute', [377]], ['zacute', [378]], ['Zcaron', [381]], ['zcaron', [382]], ['Zcy', [1047]], ['zcy', [1079]], ['Zdot', [379]], ['zdot', [380]], ['zeetrf', [8488]], ['ZeroWidthSpace', [8203]], ['Zeta', [918]], ['zeta', [950]], ['zfr', [120119]], ['Zfr', [8488]], ['ZHcy', [1046]], ['zhcy', [1078]], ['zigrarr', [8669]], ['zopf', [120171]], ['Zopf', [8484]], ['Zscr', [119989]], ['zscr', [120015]], ['zwj', [8205]], ['zwnj', [8204]]];
var alphaIndex = {};
var charIndex = {};
createIndexes(alphaIndex, charIndex);
var Html5Entities = /** @class */ (function () {
    function Html5Entities() {
    }
    Html5Entities.prototype.decode = function (str) {
        if (!str || !str.length) {
            return '';
        }
        return str.replace(/&(#?[\w\d]+);?/g, function (s, entity) {
            var chr;
            if (entity.charAt(0) === "#") {
                var code = entity.charAt(1) === 'x' ?
                    parseInt(entity.substr(2).toLowerCase(), 16) :
                    parseInt(entity.substr(1));
                if (!(isNaN(code) || code < -32768 || code > 65535)) {
                    chr = String.fromCharCode(code);
                }
            }
            else {
                chr = alphaIndex[entity];
            }
            return chr || s;
        });
    };
    Html5Entities.decode = function (str) {
        return new Html5Entities().decode(str);
    };
    Html5Entities.prototype.encode = function (str) {
        if (!str || !str.length) {
            return '';
        }
        var strLength = str.length;
        var result = '';
        var i = 0;
        while (i < strLength) {
            var charInfo = charIndex[str.charCodeAt(i)];
            if (charInfo) {
                var alpha = charInfo[str.charCodeAt(i + 1)];
                if (alpha) {
                    i++;
                }
                else {
                    alpha = charInfo[''];
                }
                if (alpha) {
                    result += "&" + alpha + ";";
                    i++;
                    continue;
                }
            }
            result += str.charAt(i);
            i++;
        }
        return result;
    };
    Html5Entities.encode = function (str) {
        return new Html5Entities().encode(str);
    };
    Html5Entities.prototype.encodeNonUTF = function (str) {
        if (!str || !str.length) {
            return '';
        }
        var strLength = str.length;
        var result = '';
        var i = 0;
        while (i < strLength) {
            var c = str.charCodeAt(i);
            var charInfo = charIndex[c];
            if (charInfo) {
                var alpha = charInfo[str.charCodeAt(i + 1)];
                if (alpha) {
                    i++;
                }
                else {
                    alpha = charInfo[''];
                }
                if (alpha) {
                    result += "&" + alpha + ";";
                    i++;
                    continue;
                }
            }
            if (c < 32 || c > 126) {
                result += '&#' + c + ';';
            }
            else {
                result += str.charAt(i);
            }
            i++;
        }
        return result;
    };
    Html5Entities.encodeNonUTF = function (str) {
        return new Html5Entities().encodeNonUTF(str);
    };
    Html5Entities.prototype.encodeNonASCII = function (str) {
        if (!str || !str.length) {
            return '';
        }
        var strLength = str.length;
        var result = '';
        var i = 0;
        while (i < strLength) {
            var c = str.charCodeAt(i);
            if (c <= 255) {
                result += str[i++];
                continue;
            }
            result += '&#' + c + ';';
            i++;
        }
        return result;
    };
    Html5Entities.encodeNonASCII = function (str) {
        return new Html5Entities().encodeNonASCII(str);
    };
    return Html5Entities;
}());
exports.Html5Entities = Html5Entities;
function createIndexes(alphaIndex, charIndex) {
    var i = ENTITIES.length;
    while (i--) {
        var e = ENTITIES[i];
        var alpha = e[0];
        var chars = e[1];
        var chr = chars[0];
        var addChar = (chr < 32 || chr > 126) || chr === 62 || chr === 60 || chr === 38 || chr === 34 || chr === 39;
        var charInfo = void 0;
        if (addChar) {
            charInfo = charIndex[chr] = charIndex[chr] || {};
        }
        if (chars[1]) {
            var chr2 = chars[1];
            alphaIndex[alpha] = String.fromCharCode(chr) + String.fromCharCode(chr2);
            addChar && (charInfo[chr2] = alpha);
        }
        else {
            alphaIndex[alpha] = String.fromCharCode(chr);
            addChar && (charInfo[''] = alpha);
        }
    }
}


/***/ }),

/***/ "./node_modules/html-entities/lib/index.js":
/*!*************************************************!*\
  !*** ./node_modules/html-entities/lib/index.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var xml_entities_1 = __webpack_require__(/*! ./xml-entities */ "./node_modules/html-entities/lib/xml-entities.js");
exports.XmlEntities = xml_entities_1.XmlEntities;
var html4_entities_1 = __webpack_require__(/*! ./html4-entities */ "./node_modules/html-entities/lib/html4-entities.js");
exports.Html4Entities = html4_entities_1.Html4Entities;
var html5_entities_1 = __webpack_require__(/*! ./html5-entities */ "./node_modules/html-entities/lib/html5-entities.js");
exports.Html5Entities = html5_entities_1.Html5Entities;
exports.AllHtmlEntities = html5_entities_1.Html5Entities;


/***/ }),

/***/ "./node_modules/html-entities/lib/xml-entities.js":
/*!********************************************************!*\
  !*** ./node_modules/html-entities/lib/xml-entities.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var ALPHA_INDEX = {
    '&lt': '<',
    '&gt': '>',
    '&quot': '"',
    '&apos': '\'',
    '&amp': '&',
    '&lt;': '<',
    '&gt;': '>',
    '&quot;': '"',
    '&apos;': '\'',
    '&amp;': '&'
};
var CHAR_INDEX = {
    60: 'lt',
    62: 'gt',
    34: 'quot',
    39: 'apos',
    38: 'amp'
};
var CHAR_S_INDEX = {
    '<': '&lt;',
    '>': '&gt;',
    '"': '&quot;',
    '\'': '&apos;',
    '&': '&amp;'
};
var XmlEntities = /** @class */ (function () {
    function XmlEntities() {
    }
    XmlEntities.prototype.encode = function (str) {
        if (!str || !str.length) {
            return '';
        }
        return str.replace(/[<>"'&]/g, function (s) {
            return CHAR_S_INDEX[s];
        });
    };
    XmlEntities.encode = function (str) {
        return new XmlEntities().encode(str);
    };
    XmlEntities.prototype.decode = function (str) {
        if (!str || !str.length) {
            return '';
        }
        return str.replace(/&#?[0-9a-zA-Z]+;?/g, function (s) {
            if (s.charAt(1) === '#') {
                var code = s.charAt(2).toLowerCase() === 'x' ?
                    parseInt(s.substr(3), 16) :
                    parseInt(s.substr(2));
                if (isNaN(code) || code < -32768 || code > 65535) {
                    return '';
                }
                return String.fromCharCode(code);
            }
            return ALPHA_INDEX[s] || s;
        });
    };
    XmlEntities.decode = function (str) {
        return new XmlEntities().decode(str);
    };
    XmlEntities.prototype.encodeNonUTF = function (str) {
        if (!str || !str.length) {
            return '';
        }
        var strLength = str.length;
        var result = '';
        var i = 0;
        while (i < strLength) {
            var c = str.charCodeAt(i);
            var alpha = CHAR_INDEX[c];
            if (alpha) {
                result += "&" + alpha + ";";
                i++;
                continue;
            }
            if (c < 32 || c > 126) {
                result += '&#' + c + ';';
            }
            else {
                result += str.charAt(i);
            }
            i++;
        }
        return result;
    };
    XmlEntities.encodeNonUTF = function (str) {
        return new XmlEntities().encodeNonUTF(str);
    };
    XmlEntities.prototype.encodeNonASCII = function (str) {
        if (!str || !str.length) {
            return '';
        }
        var strLenght = str.length;
        var result = '';
        var i = 0;
        while (i < strLenght) {
            var c = str.charCodeAt(i);
            if (c <= 255) {
                result += str[i++];
                continue;
            }
            result += '&#' + c + ';';
            i++;
        }
        return result;
    };
    XmlEntities.encodeNonASCII = function (str) {
        return new XmlEntities().encodeNonASCII(str);
    };
    return XmlEntities;
}());
exports.XmlEntities = XmlEntities;


/***/ }),

/***/ "./node_modules/identicon.js/identicon.js":
/*!************************************************!*\
  !*** ./node_modules/identicon.js/identicon.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(Buffer) {/**
 * Identicon.js 2.3.3
 * http://github.com/stewartlord/identicon.js
 *
 * PNGLib required for PNG output
 * http://www.xarg.org/download/pnglib.js
 *
 * Copyright 2018, Stewart Lord
 * Released under the BSD license
 * http://www.opensource.org/licenses/bsd-license.php
 */

(function() {
    var PNGlib;
    if ( true && typeof module.exports !== 'undefined') {
        PNGlib = __webpack_require__(/*! ./pnglib */ "./node_modules/identicon.js/pnglib.js");
    } else {
        PNGlib = window.PNGlib;
    }

    var Identicon = function(hash, options){
        if (typeof(hash) !== 'string' || hash.length < 15) {
            throw 'A hash of at least 15 characters is required.';
        }

        this.defaults = {
            background: [240, 240, 240, 255],
            margin:     0.08,
            size:       64,
            saturation: 0.7,
            brightness: 0.5,
            format:     'png'
        };

        this.options = typeof(options) === 'object' ? options : this.defaults;

        // backward compatibility with old constructor (hash, size, margin)
        if (typeof(arguments[1]) === 'number') { this.options.size   = arguments[1]; }
        if (arguments[2])                      { this.options.margin = arguments[2]; }

        this.hash        = hash
        this.background  = this.options.background || this.defaults.background;
        this.size        = this.options.size       || this.defaults.size;
        this.format      = this.options.format     || this.defaults.format;
        this.margin      = this.options.margin !== undefined ? this.options.margin : this.defaults.margin;

        // foreground defaults to last 7 chars as hue at 70% saturation, 50% brightness
        var hue          = parseInt(this.hash.substr(-7), 16) / 0xfffffff;
        var saturation   = this.options.saturation || this.defaults.saturation;
        var brightness   = this.options.brightness || this.defaults.brightness;
        this.foreground  = this.options.foreground || this.hsl2rgb(hue, saturation, brightness);
    };

    Identicon.prototype = {
        background: null,
        foreground: null,
        hash:       null,
        margin:     null,
        size:       null,
        format:     null,

        image: function(){
            return this.isSvg()
                ? new Svg(this.size, this.foreground, this.background)
                : new PNGlib(this.size, this.size, 256);
        },

        render: function(){
            var image      = this.image(),
                size       = this.size,
                baseMargin = Math.floor(size * this.margin),
                cell       = Math.floor((size - (baseMargin * 2)) / 5),
                margin     = Math.floor((size - cell * 5) / 2),
                bg         = image.color.apply(image, this.background),
                fg         = image.color.apply(image, this.foreground);

            // the first 15 characters of the hash control the pixels (even/odd)
            // they are drawn down the middle first, then mirrored outwards
            var i, color;
            for (i = 0; i < 15; i++) {
                color = parseInt(this.hash.charAt(i), 16) % 2 ? bg : fg;
                if (i < 5) {
                    this.rectangle(2 * cell + margin, i * cell + margin, cell, cell, color, image);
                } else if (i < 10) {
                    this.rectangle(1 * cell + margin, (i - 5) * cell + margin, cell, cell, color, image);
                    this.rectangle(3 * cell + margin, (i - 5) * cell + margin, cell, cell, color, image);
                } else if (i < 15) {
                    this.rectangle(0 * cell + margin, (i - 10) * cell + margin, cell, cell, color, image);
                    this.rectangle(4 * cell + margin, (i - 10) * cell + margin, cell, cell, color, image);
                }
            }

            return image;
        },

        rectangle: function(x, y, w, h, color, image){
            if (this.isSvg()) {
                image.rectangles.push({x: x, y: y, w: w, h: h, color: color});
            } else {
                var i, j;
                for (i = x; i < x + w; i++) {
                    for (j = y; j < y + h; j++) {
                        image.buffer[image.index(i, j)] = color;
                    }
                }
            }
        },

        // adapted from: https://gist.github.com/aemkei/1325937
        hsl2rgb: function(h, s, b){
            h *= 6;
            s = [
                b += s *= b < .5 ? b : 1 - b,
                b - h % 1 * s * 2,
                b -= s *= 2,
                b,
                b + h % 1 * s,
                b + s
            ];

            return[
                s[ ~~h    % 6 ] * 255, // red
                s[ (h|16) % 6 ] * 255, // green
                s[ (h|8)  % 6 ] * 255  // blue
            ];
        },

        toString: function(raw){
            // backward compatibility with old toString, default to base64
            if (raw) {
                return this.render().getDump();
            } else {
                return this.render().getBase64();
            }
        },

        isSvg: function(){
            return this.format.match(/svg/i)
        }
    };

    var Svg = function(size, foreground, background){
        this.size       = size;
        this.foreground = this.color.apply(this, foreground);
        this.background = this.color.apply(this, background);
        this.rectangles = [];
    };

    Svg.prototype = {
        size:       null,
        foreground: null,
        background: null,
        rectangles: null,

        color: function(r, g, b, a){
            var values = [r, g, b].map(Math.round);
            values.push((a >= 0) && (a <= 255) ? a/255 : 1);
            return 'rgba(' + values.join(',') + ')';
        },

        getDump: function(){
          var i,
                xml,
                rect,
                fg     = this.foreground,
                bg     = this.background,
                stroke = this.size * 0.005;

            xml = "<svg xmlns='http://www.w3.org/2000/svg'"
                + " width='" + this.size + "' height='" + this.size + "'"
                + " style='background-color:" + bg + ";'>"
                + "<g style='fill:" + fg + "; stroke:" + fg + "; stroke-width:" + stroke + ";'>";

            for (i = 0; i < this.rectangles.length; i++) {
                rect = this.rectangles[i];
                if (rect.color == bg) continue;
                xml += "<rect "
                    + " x='"      + rect.x + "'"
                    + " y='"      + rect.y + "'"
                    + " width='"  + rect.w + "'"
                    + " height='" + rect.h + "'"
                    + "/>";
            }
            xml += "</g></svg>"

            return xml;
        },

        getBase64: function(){
            if ('function' === typeof btoa) {
                return btoa(this.getDump());
            } else if (Buffer) {
                return new Buffer(this.getDump(), 'binary').toString('base64');
            } else {
                throw 'Cannot generate base64 output';
            }
        }
    };

    if ( true && typeof module.exports !== 'undefined') {
        module.exports = Identicon;
    } else {
        window.Identicon = Identicon;
    }
})();

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../buffer/index.js */ "./node_modules/buffer/index.js").Buffer))

/***/ }),

/***/ "./node_modules/identicon.js/pnglib.js":
/*!*********************************************!*\
  !*** ./node_modules/identicon.js/pnglib.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/**
* A handy class to calculate color values.
*
* @version 1.0
* @author Robert Eisele <robert@xarg.org>
* @copyright Copyright (c) 2010, Robert Eisele
* @link http://www.xarg.org/2010/03/generate-client-side-png-files-using-javascript/
* @license http://www.opensource.org/licenses/bsd-license.php BSD License
*
*/

(function() {

	// helper functions for that ctx
	function write(buffer, offs) {
		for (var i = 2; i < arguments.length; i++) {
			for (var j = 0; j < arguments[i].length; j++) {
				buffer[offs++] = arguments[i].charAt(j);
			}
		}
	}

	function byte2(w) {
		return String.fromCharCode((w >> 8) & 255, w & 255);
	}

	function byte4(w) {
		return String.fromCharCode((w >> 24) & 255, (w >> 16) & 255, (w >> 8) & 255, w & 255);
	}

	function byte2lsb(w) {
		return String.fromCharCode(w & 255, (w >> 8) & 255);
	}

	// modified from original source to support NPM
	var PNGlib = function(width,height,depth) {

		this.width   = width;
		this.height  = height;
		this.depth   = depth;

		// pixel data and row filter identifier size
		this.pix_size = height * (width + 1);

		// deflate header, pix_size, block headers, adler32 checksum
		this.data_size = 2 + this.pix_size + 5 * Math.floor((0xfffe + this.pix_size) / 0xffff) + 4;

		// offsets and sizes of Png chunks
		this.ihdr_offs = 0;									// IHDR offset and size
		this.ihdr_size = 4 + 4 + 13 + 4;
		this.plte_offs = this.ihdr_offs + this.ihdr_size;	// PLTE offset and size
		this.plte_size = 4 + 4 + 3 * depth + 4;
		this.trns_offs = this.plte_offs + this.plte_size;	// tRNS offset and size
		this.trns_size = 4 + 4 + depth + 4;
		this.idat_offs = this.trns_offs + this.trns_size;	// IDAT offset and size
		this.idat_size = 4 + 4 + this.data_size + 4;
		this.iend_offs = this.idat_offs + this.idat_size;	// IEND offset and size
		this.iend_size = 4 + 4 + 4;
		this.buffer_size  = this.iend_offs + this.iend_size;	// total PNG size

		this.buffer  = new Array();
		this.palette = new Object();
		this.pindex  = 0;

		var _crc32 = new Array();

		// initialize buffer with zero bytes
		for (var i = 0; i < this.buffer_size; i++) {
			this.buffer[i] = "\x00";
		}

		// initialize non-zero elements
		write(this.buffer, this.ihdr_offs, byte4(this.ihdr_size - 12), 'IHDR', byte4(width), byte4(height), "\x08\x03");
		write(this.buffer, this.plte_offs, byte4(this.plte_size - 12), 'PLTE');
		write(this.buffer, this.trns_offs, byte4(this.trns_size - 12), 'tRNS');
		write(this.buffer, this.idat_offs, byte4(this.idat_size - 12), 'IDAT');
		write(this.buffer, this.iend_offs, byte4(this.iend_size - 12), 'IEND');

		// initialize deflate header
		var header = ((8 + (7 << 4)) << 8) | (3 << 6);
		header+= 31 - (header % 31);

		write(this.buffer, this.idat_offs + 8, byte2(header));

		// initialize deflate block headers
		for (var i = 0; (i << 16) - 1 < this.pix_size; i++) {
			var size, bits;
			if (i + 0xffff < this.pix_size) {
				size = 0xffff;
				bits = "\x00";
			} else {
				size = this.pix_size - (i << 16) - i;
				bits = "\x01";
			}
			write(this.buffer, this.idat_offs + 8 + 2 + (i << 16) + (i << 2), bits, byte2lsb(size), byte2lsb(~size));
		}

		/* Create crc32 lookup table */
		for (var i = 0; i < 256; i++) {
			var c = i;
			for (var j = 0; j < 8; j++) {
				if (c & 1) {
					c = -306674912 ^ ((c >> 1) & 0x7fffffff);
				} else {
					c = (c >> 1) & 0x7fffffff;
				}
			}
			_crc32[i] = c;
		}

		// compute the index into a png for a given pixel
		this.index = function(x,y) {
			var i = y * (this.width + 1) + x + 1;
			var j = this.idat_offs + 8 + 2 + 5 * Math.floor((i / 0xffff) + 1) + i;
			return j;
		}

		// convert a color and build up the palette
		this.color = function(red, green, blue, alpha) {

			alpha = alpha >= 0 ? alpha : 255;
			var color = (((((alpha << 8) | red) << 8) | green) << 8) | blue;

			if (typeof this.palette[color] == "undefined") {
				if (this.pindex == this.depth) return "\x00";

				var ndx = this.plte_offs + 8 + 3 * this.pindex;

				this.buffer[ndx + 0] = String.fromCharCode(red);
				this.buffer[ndx + 1] = String.fromCharCode(green);
				this.buffer[ndx + 2] = String.fromCharCode(blue);
				this.buffer[this.trns_offs+8+this.pindex] = String.fromCharCode(alpha);

				this.palette[color] = String.fromCharCode(this.pindex++);
			}
			return this.palette[color];
		}

		// output a PNG string, Base64 encoded
		this.getBase64 = function() {

			var s = this.getDump();

			var ch = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
			var c1, c2, c3, e1, e2, e3, e4;
			var l = s.length;
			var i = 0;
			var r = "";

			do {
				c1 = s.charCodeAt(i);
				e1 = c1 >> 2;
				c2 = s.charCodeAt(i+1);
				e2 = ((c1 & 3) << 4) | (c2 >> 4);
				c3 = s.charCodeAt(i+2);
				if (l < i+2) { e3 = 64; } else { e3 = ((c2 & 0xf) << 2) | (c3 >> 6); }
				if (l < i+3) { e4 = 64; } else { e4 = c3 & 0x3f; }
				r+= ch.charAt(e1) + ch.charAt(e2) + ch.charAt(e3) + ch.charAt(e4);
			} while ((i+= 3) < l);
			return r;
		}

		// output a PNG string
		this.getDump = function() {

			// compute adler32 of output pixels + row filter bytes
			var BASE = 65521; /* largest prime smaller than 65536 */
			var NMAX = 5552;  /* NMAX is the largest n such that 255n(n+1)/2 + (n+1)(BASE-1) <= 2^32-1 */
			var s1 = 1;
			var s2 = 0;
			var n = NMAX;

			for (var y = 0; y < this.height; y++) {
				for (var x = -1; x < this.width; x++) {
					s1+= this.buffer[this.index(x, y)].charCodeAt(0);
					s2+= s1;
					if ((n-= 1) == 0) {
						s1%= BASE;
						s2%= BASE;
						n = NMAX;
					}
				}
			}
			s1%= BASE;
			s2%= BASE;
			write(this.buffer, this.idat_offs + this.idat_size - 8, byte4((s2 << 16) | s1));

			// compute crc32 of the PNG chunks
			function crc32(png, offs, size) {
				var crc = -1;
				for (var i = 4; i < size-4; i += 1) {
					crc = _crc32[(crc ^ png[offs+i].charCodeAt(0)) & 0xff] ^ ((crc >> 8) & 0x00ffffff);
				}
				write(png, offs+size-4, byte4(crc ^ -1));
			}

			crc32(this.buffer, this.ihdr_offs, this.ihdr_size);
			crc32(this.buffer, this.plte_offs, this.plte_size);
			crc32(this.buffer, this.trns_offs, this.trns_size);
			crc32(this.buffer, this.idat_offs, this.idat_size);
			crc32(this.buffer, this.iend_offs, this.iend_size);

			// convert PNG to string
			return "\x89PNG\r\n\x1a\n"+this.buffer.join('');
		}
	}

	// modified from original source to support NPM
	if ( true && typeof module.exports !== 'undefined') {
		module.exports = PNGlib;
	} else {
		window.PNGlib = PNGlib;
	}
})();


/***/ }),

/***/ "./node_modules/ieee754/index.js":
/*!***************************************!*\
  !*** ./node_modules/ieee754/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
exports.read = function (buffer, offset, isLE, mLen, nBytes) {
  var e, m
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var nBits = -7
  var i = isLE ? (nBytes - 1) : 0
  var d = isLE ? -1 : 1
  var s = buffer[offset + i]

  i += d

  e = s & ((1 << (-nBits)) - 1)
  s >>= (-nBits)
  nBits += eLen
  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  m = e & ((1 << (-nBits)) - 1)
  e >>= (-nBits)
  nBits += mLen
  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  if (e === 0) {
    e = 1 - eBias
  } else if (e === eMax) {
    return m ? NaN : ((s ? -1 : 1) * Infinity)
  } else {
    m = m + Math.pow(2, mLen)
    e = e - eBias
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)
}

exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {
  var e, m, c
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)
  var i = isLE ? 0 : (nBytes - 1)
  var d = isLE ? 1 : -1
  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0

  value = Math.abs(value)

  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0
    e = eMax
  } else {
    e = Math.floor(Math.log(value) / Math.LN2)
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--
      c *= 2
    }
    if (e + eBias >= 1) {
      value += rt / c
    } else {
      value += rt * Math.pow(2, 1 - eBias)
    }
    if (value * c >= 2) {
      e++
      c /= 2
    }

    if (e + eBias >= eMax) {
      m = 0
      e = eMax
    } else if (e + eBias >= 1) {
      m = ((value * c) - 1) * Math.pow(2, mLen)
      e = e + eBias
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)
      e = 0
    }
  }

  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}

  e = (e << mLen) | m
  eLen += mLen
  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}

  buffer[offset + i - d] |= s * 128
}


/***/ }),

/***/ "./node_modules/isarray/index.js":
/*!***************************************!*\
  !*** ./node_modules/isarray/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

var toString = {}.toString;

module.exports = Array.isArray || function (arr) {
  return toString.call(arr) == '[object Array]';
};


/***/ }),

/***/ "./node_modules/jssha/dist/sha.mjs":
/*!*****************************************!*\
  !*** ./node_modules/jssha/dist/sha.mjs ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(__webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * A JavaScript implementation of the SHA family of hashes - defined in FIPS PUB 180-4, FIPS PUB 202,
 * and SP 800-185 - as well as the corresponding HMAC implementation as defined in FIPS PUB 198-1.
 *
 * Copyright 2008-2020 Brian Turek, 1998-2009 Paul Johnston & Contributors
 * Distributed under the BSD License
 * See http://caligatio.github.com/jsSHA/ for more information
 */
const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function n(t,n,e,r){let i,s,o;const h=n||[0],u=(e=e||0)>>>3,w=-1===r?3:0;for(i=0;i<t.length;i+=1)o=i+u,s=o>>>2,h.length<=s&&h.push(0),h[s]|=t[i]<<8*(w+r*(o%4));return{value:h,binLen:8*t.length+e}}function e(e,r,i){switch(r){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(e){case"HEX":return function(t,n,e){return function(t,n,e,r){let i,s,o,h;if(0!=t.length%2)throw new Error("String of HEX type must be in byte increments");const u=n||[0],w=(e=e||0)>>>3,c=-1===r?3:0;for(i=0;i<t.length;i+=2){if(s=parseInt(t.substr(i,2),16),isNaN(s))throw new Error("String of HEX type contains invalid characters");for(h=(i>>>1)+w,o=h>>>2;u.length<=o;)u.push(0);u[o]|=s<<8*(c+r*(h%4))}return{value:u,binLen:4*t.length+e}}(t,n,e,i)};case"TEXT":return function(t,n,e){return function(t,n,e,r,i){let s,o,h,u,w,c,f,a,l=0;const A=e||[0],E=(r=r||0)>>>3;if("UTF8"===n)for(f=-1===i?3:0,h=0;h<t.length;h+=1)for(s=t.charCodeAt(h),o=[],128>s?o.push(s):2048>s?(o.push(192|s>>>6),o.push(128|63&s)):55296>s||57344<=s?o.push(224|s>>>12,128|s>>>6&63,128|63&s):(h+=1,s=65536+((1023&s)<<10|1023&t.charCodeAt(h)),o.push(240|s>>>18,128|s>>>12&63,128|s>>>6&63,128|63&s)),u=0;u<o.length;u+=1){for(c=l+E,w=c>>>2;A.length<=w;)A.push(0);A[w]|=o[u]<<8*(f+i*(c%4)),l+=1}else for(f=-1===i?2:0,a="UTF16LE"===n&&1!==i||"UTF16LE"!==n&&1===i,h=0;h<t.length;h+=1){for(s=t.charCodeAt(h),!0===a&&(u=255&s,s=u<<8|s>>>8),c=l+E,w=c>>>2;A.length<=w;)A.push(0);A[w]|=s<<8*(f+i*(c%4)),l+=2}return{value:A,binLen:8*l+r}}(t,r,n,e,i)};case"B64":return function(n,e,r){return function(n,e,r,i){let s,o,h,u,w,c,f,a=0;const l=e||[0],A=(r=r||0)>>>3,E=-1===i?3:0,H=n.indexOf("=");if(-1===n.search(/^[a-zA-Z0-9=+/]+$/))throw new Error("Invalid character in base-64 string");if(n=n.replace(/=/g,""),-1!==H&&H<n.length)throw new Error("Invalid '=' found in base-64 string");for(o=0;o<n.length;o+=4){for(w=n.substr(o,4),u=0,h=0;h<w.length;h+=1)s=t.indexOf(w.charAt(h)),u|=s<<18-6*h;for(h=0;h<w.length-1;h+=1){for(f=a+A,c=f>>>2;l.length<=c;)l.push(0);l[c]|=(u>>>16-8*h&255)<<8*(E+i*(f%4)),a+=1}}return{value:l,binLen:8*a+r}}(n,e,r,i)};case"BYTES":return function(t,n,e){return function(t,n,e,r){let i,s,o,h;const u=n||[0],w=(e=e||0)>>>3,c=-1===r?3:0;for(s=0;s<t.length;s+=1)i=t.charCodeAt(s),h=s+w,o=h>>>2,u.length<=o&&u.push(0),u[o]|=i<<8*(c+r*(h%4));return{value:u,binLen:8*t.length+e}}(t,n,e,i)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(t){throw new Error("ARRAYBUFFER not supported by this environment")}return function(t,e,r){return function(t,e,r,i){return n(new Uint8Array(t),e,r,i)}(t,e,r,i)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(t){throw new Error("UINT8ARRAY not supported by this environment")}return function(t,e,r){return n(t,e,r,i)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function r(n,e,r,i){switch(n){case"HEX":return function(t){return function(t,n,e,r){let i,s,o="";const h=n/8,u=-1===e?3:0;for(i=0;i<h;i+=1)s=t[i>>>2]>>>8*(u+e*(i%4)),o+="0123456789abcdef".charAt(s>>>4&15)+"0123456789abcdef".charAt(15&s);return r.outputUpper?o.toUpperCase():o}(t,e,r,i)};case"B64":return function(n){return function(n,e,r,i){let s,o,h,u,w,c="";const f=e/8,a=-1===r?3:0;for(s=0;s<f;s+=3)for(u=s+1<f?n[s+1>>>2]:0,w=s+2<f?n[s+2>>>2]:0,h=(n[s>>>2]>>>8*(a+r*(s%4))&255)<<16|(u>>>8*(a+r*((s+1)%4))&255)<<8|w>>>8*(a+r*((s+2)%4))&255,o=0;o<4;o+=1)c+=8*s+6*o<=e?t.charAt(h>>>6*(3-o)&63):i.b64Pad;return c}(n,e,r,i)};case"BYTES":return function(t){return function(t,n,e){let r,i,s="";const o=n/8,h=-1===e?3:0;for(r=0;r<o;r+=1)i=t[r>>>2]>>>8*(h+e*(r%4))&255,s+=String.fromCharCode(i);return s}(t,e,r)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(t){throw new Error("ARRAYBUFFER not supported by this environment")}return function(t){return function(t,n,e){let r;const i=n/8,s=new ArrayBuffer(i),o=new Uint8Array(s),h=-1===e?3:0;for(r=0;r<i;r+=1)o[r]=t[r>>>2]>>>8*(h+e*(r%4))&255;return s}(t,e,r)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(t){throw new Error("UINT8ARRAY not supported by this environment")}return function(t){return function(t,n,e){let r;const i=n/8,s=-1===e?3:0,o=new Uint8Array(i);for(r=0;r<i;r+=1)o[r]=t[r>>>2]>>>8*(s+e*(r%4))&255;return o}(t,e,r)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}const i=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],o=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],h="Chosen SHA variant is not supported";function u(t,n){let e,r;const i=t.binLen>>>3,s=n.binLen>>>3,o=i<<3,h=4-i<<3;if(i%4!=0){for(e=0;e<s;e+=4)r=i+e>>>2,t.value[r]|=n.value[e>>>2]<<o,t.value.push(0),t.value[r+1]|=n.value[e>>>2]>>>h;return(t.value.length<<2)-4>=s+i&&t.value.pop(),{value:t.value,binLen:t.binLen+n.binLen}}return{value:t.value.concat(n.value),binLen:t.binLen+n.binLen}}function w(t){const n={outputUpper:!1,b64Pad:"=",outputLen:-1},e=t||{},r="Output length must be a multiple of 8";if(n.outputUpper=e.outputUpper||!1,e.b64Pad&&(n.b64Pad=e.b64Pad),e.outputLen){if(e.outputLen%8!=0)throw new Error(r);n.outputLen=e.outputLen}else if(e.shakeLen){if(e.shakeLen%8!=0)throw new Error(r);n.outputLen=e.shakeLen}if("boolean"!=typeof n.outputUpper)throw new Error("Invalid outputUpper formatting option");if("string"!=typeof n.b64Pad)throw new Error("Invalid b64Pad formatting option");return n}function c(t,n,r,i){const s=t+" must include a value and format";if(!n){if(!i)throw new Error(s);return i}if(void 0===n.value||!n.format)throw new Error(s);return e(n.format,n.encoding||"UTF8",r)(n.value)}class f{constructor(t,n,e){const r=e||{};if(this.t=n,this.i=r.encoding||"UTF8",this.numRounds=r.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.s=t,this.o=[],this.h=0,this.u=!1,this.l=0,this.A=!1,this.H=[],this.S=[]}update(t){let n,e=0;const r=this.p>>>5,i=this.m(t,this.o,this.h),s=i.binLen,o=i.value,h=s>>>5;for(n=0;n<h;n+=r)e+this.p<=s&&(this.C=this.R(o.slice(n,n+r),this.C),e+=this.p);this.l+=e,this.o=o.slice(e>>>5),this.h=s%this.p,this.u=!0}getHash(t,n){let e,i,s=this.U;const o=w(n);if(this.v){if(-1===o.outputLen)throw new Error("Output length must be specified in options");s=o.outputLen}const h=r(t,s,this.K,o);if(this.A&&this.T)return h(this.T(o));for(i=this.F(this.o.slice(),this.h,this.l,this.g(this.C),s),e=1;e<this.numRounds;e+=1)this.v&&s%32!=0&&(i[i.length-1]&=16777215>>>24-s%32),i=this.F(i,s,0,this.B(this.s),s);return h(i)}setHMACKey(t,n,r){if(!this.L)throw new Error("Variant does not support HMAC");if(this.u)throw new Error("Cannot set MAC key after calling update");const i=e(n,(r||{}).encoding||"UTF8",this.K);this.M(i(t))}M(t){const n=this.p>>>3,e=n/4-1;let r;if(1!==this.numRounds)throw new Error("Cannot set numRounds with MAC");if(this.A)throw new Error("MAC key already set");for(n<t.binLen/8&&(t.value=this.F(t.value,t.binLen,0,this.B(this.s),this.U));t.value.length<=e;)t.value.push(0);for(r=0;r<=e;r+=1)this.H[r]=909522486^t.value[r],this.S[r]=1549556828^t.value[r];this.C=this.R(this.H,this.C),this.l=this.p,this.A=!0}getHMAC(t,n){const e=w(n);return r(t,this.U,this.K,e)(this.k())}k(){let t;if(!this.A)throw new Error("Cannot call getHMAC without first setting MAC key");const n=this.F(this.o.slice(),this.h,this.l,this.g(this.C),this.U);return t=this.R(this.S,this.B(this.s)),t=this.F(n,this.U,this.p,t,this.U),t}}function a(t,n){return t<<n|t>>>32-n}function l(t,n){return t>>>n|t<<32-n}function A(t,n){return t>>>n}function E(t,n,e){return t^n^e}function H(t,n,e){return t&n^~t&e}function S(t,n,e){return t&n^t&e^n&e}function b(t){return l(t,2)^l(t,13)^l(t,22)}function p(t,n){const e=(65535&t)+(65535&n);return(65535&(t>>>16)+(n>>>16)+(e>>>16))<<16|65535&e}function d(t,n,e,r){const i=(65535&t)+(65535&n)+(65535&e)+(65535&r);return(65535&(t>>>16)+(n>>>16)+(e>>>16)+(r>>>16)+(i>>>16))<<16|65535&i}function m(t,n,e,r,i){const s=(65535&t)+(65535&n)+(65535&e)+(65535&r)+(65535&i);return(65535&(t>>>16)+(n>>>16)+(e>>>16)+(r>>>16)+(i>>>16)+(s>>>16))<<16|65535&s}function C(t){return l(t,7)^l(t,18)^A(t,3)}function y(t){return l(t,6)^l(t,11)^l(t,25)}function R(t){return[1732584193,4023233417,2562383102,271733878,3285377520]}function U(t,n){let e,r,i,s,o,h,u;const w=[];for(e=n[0],r=n[1],i=n[2],s=n[3],o=n[4],u=0;u<80;u+=1)w[u]=u<16?t[u]:a(w[u-3]^w[u-8]^w[u-14]^w[u-16],1),h=u<20?m(a(e,5),H(r,i,s),o,1518500249,w[u]):u<40?m(a(e,5),E(r,i,s),o,1859775393,w[u]):u<60?m(a(e,5),S(r,i,s),o,2400959708,w[u]):m(a(e,5),E(r,i,s),o,3395469782,w[u]),o=s,s=i,i=a(r,30),r=e,e=h;return n[0]=p(e,n[0]),n[1]=p(r,n[1]),n[2]=p(i,n[2]),n[3]=p(s,n[3]),n[4]=p(o,n[4]),n}function v(t,n,e,r){let i;const s=15+(n+65>>>9<<4),o=n+e;for(;t.length<=s;)t.push(0);for(t[n>>>5]|=128<<24-n%32,t[s]=4294967295&o,t[s-1]=o/4294967296|0,i=0;i<t.length;i+=16)r=U(t.slice(i,i+16),r);return r}class K extends f{constructor(t,n,r){if("SHA-1"!==t)throw new Error(h);super(t,n,r);const i=r||{};this.L=!0,this.T=this.k,this.K=-1,this.m=e(this.t,this.i,this.K),this.R=U,this.g=function(t){return t.slice()},this.B=R,this.F=v,this.C=[1732584193,4023233417,2562383102,271733878,3285377520],this.p=512,this.U=160,this.v=!1,i.hmacKey&&this.M(c("hmacKey",i.hmacKey,this.K))}}function T(t){let n;return n="SHA-224"==t?s.slice():o.slice(),n}function F(t,n){let e,r,s,o,h,u,w,c,f,a,E;const R=[];for(e=n[0],r=n[1],s=n[2],o=n[3],h=n[4],u=n[5],w=n[6],c=n[7],E=0;E<64;E+=1)R[E]=E<16?t[E]:d(l(U=R[E-2],17)^l(U,19)^A(U,10),R[E-7],C(R[E-15]),R[E-16]),f=m(c,y(h),H(h,u,w),i[E],R[E]),a=p(b(e),S(e,r,s)),c=w,w=u,u=h,h=p(o,f),o=s,s=r,r=e,e=p(f,a);var U;return n[0]=p(e,n[0]),n[1]=p(r,n[1]),n[2]=p(s,n[2]),n[3]=p(o,n[3]),n[4]=p(h,n[4]),n[5]=p(u,n[5]),n[6]=p(w,n[6]),n[7]=p(c,n[7]),n}class g extends f{constructor(t,n,r){if("SHA-224"!==t&&"SHA-256"!==t)throw new Error(h);super(t,n,r);const i=r||{};this.T=this.k,this.L=!0,this.K=-1,this.m=e(this.t,this.i,this.K),this.R=F,this.g=function(t){return t.slice()},this.B=T,this.F=function(n,e,r,i){return function(t,n,e,r,i){let s,o;const h=15+(n+65>>>9<<4),u=n+e;for(;t.length<=h;)t.push(0);for(t[n>>>5]|=128<<24-n%32,t[h]=4294967295&u,t[h-1]=u/4294967296|0,s=0;s<t.length;s+=16)r=F(t.slice(s,s+16),r);return o="SHA-224"===i?[r[0],r[1],r[2],r[3],r[4],r[5],r[6]]:r,o}(n,e,r,i,t)},this.C=T(t),this.p=512,this.U="SHA-224"===t?224:256,this.v=!1,i.hmacKey&&this.M(c("hmacKey",i.hmacKey,this.K))}}class B{constructor(t,n){this.Y=t,this.N=n}}function L(t,n){let e;return n>32?(e=64-n,new B(t.N<<n|t.Y>>>e,t.Y<<n|t.N>>>e)):0!==n?(e=32-n,new B(t.Y<<n|t.N>>>e,t.N<<n|t.Y>>>e)):t}function M(t,n){let e;return n<32?(e=32-n,new B(t.Y>>>n|t.N<<e,t.N>>>n|t.Y<<e)):(e=64-n,new B(t.N>>>n|t.Y<<e,t.Y>>>n|t.N<<e))}function k(t,n){return new B(t.Y>>>n,t.N>>>n|t.Y<<32-n)}function Y(t,n,e){return new B(t.Y&n.Y^t.Y&e.Y^n.Y&e.Y,t.N&n.N^t.N&e.N^n.N&e.N)}function N(t){const n=M(t,28),e=M(t,34),r=M(t,39);return new B(n.Y^e.Y^r.Y,n.N^e.N^r.N)}function I(t,n){let e,r;e=(65535&t.N)+(65535&n.N),r=(t.N>>>16)+(n.N>>>16)+(e>>>16);const i=(65535&r)<<16|65535&e;e=(65535&t.Y)+(65535&n.Y)+(r>>>16),r=(t.Y>>>16)+(n.Y>>>16)+(e>>>16);return new B((65535&r)<<16|65535&e,i)}function X(t,n,e,r){let i,s;i=(65535&t.N)+(65535&n.N)+(65535&e.N)+(65535&r.N),s=(t.N>>>16)+(n.N>>>16)+(e.N>>>16)+(r.N>>>16)+(i>>>16);const o=(65535&s)<<16|65535&i;i=(65535&t.Y)+(65535&n.Y)+(65535&e.Y)+(65535&r.Y)+(s>>>16),s=(t.Y>>>16)+(n.Y>>>16)+(e.Y>>>16)+(r.Y>>>16)+(i>>>16);return new B((65535&s)<<16|65535&i,o)}function z(t,n,e,r,i){let s,o;s=(65535&t.N)+(65535&n.N)+(65535&e.N)+(65535&r.N)+(65535&i.N),o=(t.N>>>16)+(n.N>>>16)+(e.N>>>16)+(r.N>>>16)+(i.N>>>16)+(s>>>16);const h=(65535&o)<<16|65535&s;s=(65535&t.Y)+(65535&n.Y)+(65535&e.Y)+(65535&r.Y)+(65535&i.Y)+(o>>>16),o=(t.Y>>>16)+(n.Y>>>16)+(e.Y>>>16)+(r.Y>>>16)+(i.Y>>>16)+(s>>>16);return new B((65535&o)<<16|65535&s,h)}function x(t,n){return new B(t.Y^n.Y,t.N^n.N)}function _(t){const n=M(t,19),e=M(t,61),r=k(t,6);return new B(n.Y^e.Y^r.Y,n.N^e.N^r.N)}function O(t){const n=M(t,1),e=M(t,8),r=k(t,7);return new B(n.Y^e.Y^r.Y,n.N^e.N^r.N)}function P(t){const n=M(t,14),e=M(t,18),r=M(t,41);return new B(n.Y^e.Y^r.Y,n.N^e.N^r.N)}const V=[new B(i[0],3609767458),new B(i[1],602891725),new B(i[2],3964484399),new B(i[3],2173295548),new B(i[4],4081628472),new B(i[5],3053834265),new B(i[6],2937671579),new B(i[7],3664609560),new B(i[8],2734883394),new B(i[9],1164996542),new B(i[10],1323610764),new B(i[11],3590304994),new B(i[12],4068182383),new B(i[13],991336113),new B(i[14],633803317),new B(i[15],3479774868),new B(i[16],2666613458),new B(i[17],944711139),new B(i[18],2341262773),new B(i[19],2007800933),new B(i[20],1495990901),new B(i[21],1856431235),new B(i[22],3175218132),new B(i[23],2198950837),new B(i[24],3999719339),new B(i[25],766784016),new B(i[26],2566594879),new B(i[27],3203337956),new B(i[28],1034457026),new B(i[29],2466948901),new B(i[30],3758326383),new B(i[31],168717936),new B(i[32],1188179964),new B(i[33],1546045734),new B(i[34],1522805485),new B(i[35],2643833823),new B(i[36],2343527390),new B(i[37],1014477480),new B(i[38],1206759142),new B(i[39],344077627),new B(i[40],1290863460),new B(i[41],3158454273),new B(i[42],3505952657),new B(i[43],106217008),new B(i[44],3606008344),new B(i[45],1432725776),new B(i[46],1467031594),new B(i[47],851169720),new B(i[48],3100823752),new B(i[49],1363258195),new B(i[50],3750685593),new B(i[51],3785050280),new B(i[52],3318307427),new B(i[53],3812723403),new B(i[54],2003034995),new B(i[55],3602036899),new B(i[56],1575990012),new B(i[57],1125592928),new B(i[58],2716904306),new B(i[59],442776044),new B(i[60],593698344),new B(i[61],3733110249),new B(i[62],2999351573),new B(i[63],3815920427),new B(3391569614,3928383900),new B(3515267271,566280711),new B(3940187606,3454069534),new B(4118630271,4000239992),new B(116418474,1914138554),new B(174292421,2731055270),new B(289380356,3203993006),new B(460393269,320620315),new B(685471733,587496836),new B(852142971,1086792851),new B(1017036298,365543100),new B(1126000580,2618297676),new B(1288033470,3409855158),new B(1501505948,4234509866),new B(1607167915,987167468),new B(1816402316,1246189591)];function Z(t){return"SHA-384"===t?[new B(3418070365,s[0]),new B(1654270250,s[1]),new B(2438529370,s[2]),new B(355462360,s[3]),new B(1731405415,s[4]),new B(41048885895,s[5]),new B(3675008525,s[6]),new B(1203062813,s[7])]:[new B(o[0],4089235720),new B(o[1],2227873595),new B(o[2],4271175723),new B(o[3],1595750129),new B(o[4],2917565137),new B(o[5],725511199),new B(o[6],4215389547),new B(o[7],327033209)]}function j(t,n){let e,r,i,s,o,h,u,w,c,f,a,l;const A=[];for(e=n[0],r=n[1],i=n[2],s=n[3],o=n[4],h=n[5],u=n[6],w=n[7],a=0;a<80;a+=1)a<16?(l=2*a,A[a]=new B(t[l],t[l+1])):A[a]=X(_(A[a-2]),A[a-7],O(A[a-15]),A[a-16]),c=z(w,P(o),(H=h,S=u,new B((E=o).Y&H.Y^~E.Y&S.Y,E.N&H.N^~E.N&S.N)),V[a],A[a]),f=I(N(e),Y(e,r,i)),w=u,u=h,h=o,o=I(s,c),s=i,i=r,r=e,e=I(c,f);var E,H,S;return n[0]=I(e,n[0]),n[1]=I(r,n[1]),n[2]=I(i,n[2]),n[3]=I(s,n[3]),n[4]=I(o,n[4]),n[5]=I(h,n[5]),n[6]=I(u,n[6]),n[7]=I(w,n[7]),n}class q extends f{constructor(t,n,r){if("SHA-384"!==t&&"SHA-512"!==t)throw new Error(h);super(t,n,r);const i=r||{};this.T=this.k,this.L=!0,this.K=-1,this.m=e(this.t,this.i,this.K),this.R=j,this.g=function(t){return t.slice()},this.B=Z,this.F=function(n,e,r,i){return function(t,n,e,r,i){let s,o;const h=31+(n+129>>>10<<5),u=n+e;for(;t.length<=h;)t.push(0);for(t[n>>>5]|=128<<24-n%32,t[h]=4294967295&u,t[h-1]=u/4294967296|0,s=0;s<t.length;s+=32)r=j(t.slice(s,s+32),r);return o="SHA-384"===i?[(r=r)[0].Y,r[0].N,r[1].Y,r[1].N,r[2].Y,r[2].N,r[3].Y,r[3].N,r[4].Y,r[4].N,r[5].Y,r[5].N]:[r[0].Y,r[0].N,r[1].Y,r[1].N,r[2].Y,r[2].N,r[3].Y,r[3].N,r[4].Y,r[4].N,r[5].Y,r[5].N,r[6].Y,r[6].N,r[7].Y,r[7].N],o}(n,e,r,i,t)},this.C=Z(t),this.p=1024,this.U="SHA-384"===t?384:512,this.v=!1,i.hmacKey&&this.M(c("hmacKey",i.hmacKey,this.K))}}const D=[new B(0,1),new B(0,32898),new B(2147483648,32906),new B(2147483648,2147516416),new B(0,32907),new B(0,2147483649),new B(2147483648,2147516545),new B(2147483648,32777),new B(0,138),new B(0,136),new B(0,2147516425),new B(0,2147483658),new B(0,2147516555),new B(2147483648,139),new B(2147483648,32905),new B(2147483648,32771),new B(2147483648,32770),new B(2147483648,128),new B(0,32778),new B(2147483648,2147483658),new B(2147483648,2147516545),new B(2147483648,32896),new B(0,2147483649),new B(2147483648,2147516424)],G=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function J(t){let n;const e=[];for(n=0;n<5;n+=1)e[n]=[new B(0,0),new B(0,0),new B(0,0),new B(0,0),new B(0,0)];return e}function Q(t){let n;const e=[];for(n=0;n<5;n+=1)e[n]=t[n].slice();return e}function W(t,n){let e,r,i,s;const o=[],h=[];if(null!==t)for(r=0;r<t.length;r+=2)n[(r>>>1)%5][(r>>>1)/5|0]=x(n[(r>>>1)%5][(r>>>1)/5|0],new B(t[r+1],t[r]));for(e=0;e<24;e+=1){for(s=J(),r=0;r<5;r+=1)o[r]=(u=n[r][0],w=n[r][1],c=n[r][2],f=n[r][3],a=n[r][4],new B(u.Y^w.Y^c.Y^f.Y^a.Y,u.N^w.N^c.N^f.N^a.N));for(r=0;r<5;r+=1)h[r]=x(o[(r+4)%5],L(o[(r+1)%5],1));for(r=0;r<5;r+=1)for(i=0;i<5;i+=1)n[r][i]=x(n[r][i],h[r]);for(r=0;r<5;r+=1)for(i=0;i<5;i+=1)s[i][(2*r+3*i)%5]=L(n[r][i],G[r][i]);for(r=0;r<5;r+=1)for(i=0;i<5;i+=1)n[r][i]=x(s[r][i],new B(~s[(r+1)%5][i].Y&s[(r+2)%5][i].Y,~s[(r+1)%5][i].N&s[(r+2)%5][i].N));n[0][0]=x(n[0][0],D[e])}var u,w,c,f,a;return n}function $(t){let n,e,r=0;const i=[0,0],s=[4294967295&t,t/4294967296&2097151];for(n=6;n>=0;n--)e=s[n>>2]>>>8*n&255,0===e&&0===r||(i[r+1>>2]|=e<<8*(r+1),r+=1);return r=0!==r?r:1,i[0]|=r,{value:r+1>4?i:[i[0]],binLen:8+8*r}}function tt(t){return u($(t.binLen),t)}function nt(t,n){let e,r=$(n);r=u(r,t);const i=n>>>2,s=(i-r.value.length%i)%i;for(e=0;e<s;e++)r.value.push(0);return r.value}class et extends f{constructor(t,n,r){let i=6,s=0;super(t,n,r);const o=r||{};if(1!==this.numRounds){if(o.kmacKey||o.hmacKey)throw new Error("Cannot set numRounds with MAC");if("CSHAKE128"===this.s||"CSHAKE256"===this.s)throw new Error("Cannot set numRounds for CSHAKE variants")}switch(this.K=1,this.m=e(this.t,this.i,this.K),this.R=W,this.g=Q,this.B=J,this.C=J(),this.v=!1,t){case"SHA3-224":this.p=s=1152,this.U=224,this.L=!0,this.T=this.k;break;case"SHA3-256":this.p=s=1088,this.U=256,this.L=!0,this.T=this.k;break;case"SHA3-384":this.p=s=832,this.U=384,this.L=!0,this.T=this.k;break;case"SHA3-512":this.p=s=576,this.U=512,this.L=!0,this.T=this.k;break;case"SHAKE128":i=31,this.p=s=1344,this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"SHAKE256":i=31,this.p=s=1088,this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"KMAC128":i=4,this.p=s=1344,this.I(r),this.U=-1,this.v=!0,this.L=!1,this.T=this.X;break;case"KMAC256":i=4,this.p=s=1088,this.I(r),this.U=-1,this.v=!0,this.L=!1,this.T=this.X;break;case"CSHAKE128":this.p=s=1344,i=this._(r),this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"CSHAKE256":this.p=s=1088,i=this._(r),this.U=-1,this.v=!0,this.L=!1,this.T=null;break;default:throw new Error(h)}this.F=function(t,n,e,r,o){return function(t,n,e,r,i,s,o){let h,u,w=0;const c=[],f=i>>>5,a=n>>>5;for(h=0;h<a&&n>=i;h+=f)r=W(t.slice(h,h+f),r),n-=i;for(t=t.slice(h),n%=i;t.length<f;)t.push(0);for(h=n>>>3,t[h>>2]^=s<<h%4*8,t[f-1]^=2147483648,r=W(t,r);32*c.length<o&&(u=r[w%5][w/5|0],c.push(u.N),!(32*c.length>=o));)c.push(u.Y),w+=1,0==64*w%i&&(W(null,r),w=0);return c}(t,n,0,r,s,i,o)},o.hmacKey&&this.M(c("hmacKey",o.hmacKey,this.K))}_(t,n){const e=function(t){const n=t||{};return{funcName:c("funcName",n.funcName,1,{value:[],binLen:0}),customization:c("Customization",n.customization,1,{value:[],binLen:0})}}(t||{});n&&(e.funcName=n);const r=u(tt(e.funcName),tt(e.customization));if(0!==e.customization.binLen||0!==e.funcName.binLen){const t=nt(r,this.p>>>3);for(let n=0;n<t.length;n+=this.p>>>5)this.C=this.R(t.slice(n,n+(this.p>>>5)),this.C),this.l+=this.p;return 4}return 31}I(t){const n=function(t){const n=t||{};return{kmacKey:c("kmacKey",n.kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:c("Customization",n.customization,1,{value:[],binLen:0})}}(t||{});this._(t,n.funcName);const e=nt(tt(n.kmacKey),this.p>>>3);for(let t=0;t<e.length;t+=this.p>>>5)this.C=this.R(e.slice(t,t+(this.p>>>5)),this.C),this.l+=this.p;this.A=!0}X(t){const n=u({value:this.o.slice(),binLen:this.h},function(t){let n,e,r=0;const i=[0,0],s=[4294967295&t,t/4294967296&2097151];for(n=6;n>=0;n--)e=s[n>>2]>>>8*n&255,0===e&&0===r||(i[r>>2]|=e<<8*r,r+=1);return r=0!==r?r:1,i[r>>2]|=r<<8*r,{value:r+1>4?i:[i[0]],binLen:8+8*r}}(t.outputLen));return this.F(n.value,n.binLen,this.l,this.g(this.C),t.outputLen)}}/* harmony default export */ __webpack_exports__["default"] = (class{constructor(t,n,e){if("SHA-1"==t)this.O=new K(t,n,e);else if("SHA-224"==t||"SHA-256"==t)this.O=new g(t,n,e);else if("SHA-384"==t||"SHA-512"==t)this.O=new q(t,n,e);else{if("SHA3-224"!=t&&"SHA3-256"!=t&&"SHA3-384"!=t&&"SHA3-512"!=t&&"SHAKE128"!=t&&"SHAKE256"!=t&&"CSHAKE128"!=t&&"CSHAKE256"!=t&&"KMAC128"!=t&&"KMAC256"!=t)throw new Error(h);this.O=new et(t,n,e)}}update(t){this.O.update(t)}getHash(t,n){return this.O.getHash(t,n)}setHMACKey(t,n,e){this.O.setHMACKey(t,n,e)}getHMAC(t,n){return this.O.getHMAC(t,n)}});
//# sourceMappingURL=sha.mjs.map


/***/ }),

/***/ "./node_modules/loglevel/lib/loglevel.js":
/*!***********************************************!*\
  !*** ./node_modules/loglevel/lib/loglevel.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*
* loglevel - https://github.com/pimterry/loglevel
*
* Copyright (c) 2013 Tim Perry
* Licensed under the MIT license.
*/
(function (root, definition) {
    "use strict";
    if (true) {
        !(__WEBPACK_AMD_DEFINE_FACTORY__ = (definition),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :
				__WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    } else {}
}(this, function () {
    "use strict";

    // Slightly dubious tricks to cut down minimized file size
    var noop = function() {};
    var undefinedType = "undefined";
    var isIE = (typeof window !== undefinedType) && (typeof window.navigator !== undefinedType) && (
        /Trident\/|MSIE /.test(window.navigator.userAgent)
    );

    var logMethods = [
        "trace",
        "debug",
        "info",
        "warn",
        "error"
    ];

    // Cross-browser bind equivalent that works at least back to IE6
    function bindMethod(obj, methodName) {
        var method = obj[methodName];
        if (typeof method.bind === 'function') {
            return method.bind(obj);
        } else {
            try {
                return Function.prototype.bind.call(method, obj);
            } catch (e) {
                // Missing bind shim or IE8 + Modernizr, fallback to wrapping
                return function() {
                    return Function.prototype.apply.apply(method, [obj, arguments]);
                };
            }
        }
    }

    // Trace() doesn't print the message in IE, so for that case we need to wrap it
    function traceForIE() {
        if (console.log) {
            if (console.log.apply) {
                console.log.apply(console, arguments);
            } else {
                // In old IE, native console methods themselves don't have apply().
                Function.prototype.apply.apply(console.log, [console, arguments]);
            }
        }
        if (console.trace) console.trace();
    }

    // Build the best logging method possible for this env
    // Wherever possible we want to bind, not wrap, to preserve stack traces
    function realMethod(methodName) {
        if (methodName === 'debug') {
            methodName = 'log';
        }

        if (typeof console === undefinedType) {
            return false; // No method possible, for now - fixed later by enableLoggingWhenConsoleArrives
        } else if (methodName === 'trace' && isIE) {
            return traceForIE;
        } else if (console[methodName] !== undefined) {
            return bindMethod(console, methodName);
        } else if (console.log !== undefined) {
            return bindMethod(console, 'log');
        } else {
            return noop;
        }
    }

    // These private functions always need `this` to be set properly

    function replaceLoggingMethods(level, loggerName) {
        /*jshint validthis:true */
        for (var i = 0; i < logMethods.length; i++) {
            var methodName = logMethods[i];
            this[methodName] = (i < level) ?
                noop :
                this.methodFactory(methodName, level, loggerName);
        }

        // Define log.log as an alias for log.debug
        this.log = this.debug;
    }

    // In old IE versions, the console isn't present until you first open it.
    // We build realMethod() replacements here that regenerate logging methods
    function enableLoggingWhenConsoleArrives(methodName, level, loggerName) {
        return function () {
            if (typeof console !== undefinedType) {
                replaceLoggingMethods.call(this, level, loggerName);
                this[methodName].apply(this, arguments);
            }
        };
    }

    // By default, we use closely bound real methods wherever possible, and
    // otherwise we wait for a console to appear, and then try again.
    function defaultMethodFactory(methodName, level, loggerName) {
        /*jshint validthis:true */
        return realMethod(methodName) ||
               enableLoggingWhenConsoleArrives.apply(this, arguments);
    }

    function Logger(name, defaultLevel, factory) {
      var self = this;
      var currentLevel;

      var storageKey = "loglevel";
      if (typeof name === "string") {
        storageKey += ":" + name;
      } else if (typeof name === "symbol") {
        storageKey = undefined;
      }

      function persistLevelIfPossible(levelNum) {
          var levelName = (logMethods[levelNum] || 'silent').toUpperCase();

          if (typeof window === undefinedType || !storageKey) return;

          // Use localStorage if available
          try {
              window.localStorage[storageKey] = levelName;
              return;
          } catch (ignore) {}

          // Use session cookie as fallback
          try {
              window.document.cookie =
                encodeURIComponent(storageKey) + "=" + levelName + ";";
          } catch (ignore) {}
      }

      function getPersistedLevel() {
          var storedLevel;

          if (typeof window === undefinedType || !storageKey) return;

          try {
              storedLevel = window.localStorage[storageKey];
          } catch (ignore) {}

          // Fallback to cookies if local storage gives us nothing
          if (typeof storedLevel === undefinedType) {
              try {
                  var cookie = window.document.cookie;
                  var location = cookie.indexOf(
                      encodeURIComponent(storageKey) + "=");
                  if (location !== -1) {
                      storedLevel = /^([^;]+)/.exec(cookie.slice(location))[1];
                  }
              } catch (ignore) {}
          }

          // If the stored level is not valid, treat it as if nothing was stored.
          if (self.levels[storedLevel] === undefined) {
              storedLevel = undefined;
          }

          return storedLevel;
      }

      /*
       *
       * Public logger API - see https://github.com/pimterry/loglevel for details
       *
       */

      self.name = name;

      self.levels = { "TRACE": 0, "DEBUG": 1, "INFO": 2, "WARN": 3,
          "ERROR": 4, "SILENT": 5};

      self.methodFactory = factory || defaultMethodFactory;

      self.getLevel = function () {
          return currentLevel;
      };

      self.setLevel = function (level, persist) {
          if (typeof level === "string" && self.levels[level.toUpperCase()] !== undefined) {
              level = self.levels[level.toUpperCase()];
          }
          if (typeof level === "number" && level >= 0 && level <= self.levels.SILENT) {
              currentLevel = level;
              if (persist !== false) {  // defaults to true
                  persistLevelIfPossible(level);
              }
              replaceLoggingMethods.call(self, level, name);
              if (typeof console === undefinedType && level < self.levels.SILENT) {
                  return "No console available for logging";
              }
          } else {
              throw "log.setLevel() called with invalid level: " + level;
          }
      };

      self.setDefaultLevel = function (level) {
          if (!getPersistedLevel()) {
              self.setLevel(level, false);
          }
      };

      self.enableAll = function(persist) {
          self.setLevel(self.levels.TRACE, persist);
      };

      self.disableAll = function(persist) {
          self.setLevel(self.levels.SILENT, persist);
      };

      // Initialize with the right level
      var initialLevel = getPersistedLevel();
      if (initialLevel == null) {
          initialLevel = defaultLevel == null ? "WARN" : defaultLevel;
      }
      self.setLevel(initialLevel, false);
    }

    /*
     *
     * Top-level API
     *
     */

    var defaultLogger = new Logger();

    var _loggersByName = {};
    defaultLogger.getLogger = function getLogger(name) {
        if ((typeof name !== "symbol" && typeof name !== "string") || name === "") {
          throw new TypeError("You must supply a name when creating a logger.");
        }

        var logger = _loggersByName[name];
        if (!logger) {
          logger = _loggersByName[name] = new Logger(
            name, defaultLogger.getLevel(), defaultLogger.methodFactory);
        }
        return logger;
    };

    // Grab the current global log variable in case of overwrite
    var _log = (typeof window !== undefinedType) ? window.log : undefined;
    defaultLogger.noConflict = function() {
        if (typeof window !== undefinedType &&
               window.log === defaultLogger) {
            window.log = _log;
        }

        return defaultLogger;
    };

    defaultLogger.getLoggers = function getLoggers() {
        return _loggersByName;
    };

    // ES6 default export, for compatibility
    defaultLogger['default'] = defaultLogger;

    return defaultLogger;
}));


/***/ }),

/***/ "./node_modules/moment/moment.js":
/*!***************************************!*\
  !*** ./node_modules/moment/moment.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {var require;//! moment.js

;(function (global, factory) {
     true ? module.exports = factory() :
    undefined
}(this, (function () { 'use strict';

    var hookCallback;

    function hooks () {
        return hookCallback.apply(null, arguments);
    }

    // This is done to register the method called with moment()
    // without creating circular dependencies.
    function setHookCallback (callback) {
        hookCallback = callback;
    }

    function isArray(input) {
        return input instanceof Array || Object.prototype.toString.call(input) === '[object Array]';
    }

    function isObject(input) {
        // IE8 will treat undefined and null as object if it wasn't for
        // input != null
        return input != null && Object.prototype.toString.call(input) === '[object Object]';
    }

    function isObjectEmpty(obj) {
        if (Object.getOwnPropertyNames) {
            return (Object.getOwnPropertyNames(obj).length === 0);
        } else {
            var k;
            for (k in obj) {
                if (obj.hasOwnProperty(k)) {
                    return false;
                }
            }
            return true;
        }
    }

    function isUndefined(input) {
        return input === void 0;
    }

    function isNumber(input) {
        return typeof input === 'number' || Object.prototype.toString.call(input) === '[object Number]';
    }

    function isDate(input) {
        return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';
    }

    function map(arr, fn) {
        var res = [], i;
        for (i = 0; i < arr.length; ++i) {
            res.push(fn(arr[i], i));
        }
        return res;
    }

    function hasOwnProp(a, b) {
        return Object.prototype.hasOwnProperty.call(a, b);
    }

    function extend(a, b) {
        for (var i in b) {
            if (hasOwnProp(b, i)) {
                a[i] = b[i];
            }
        }

        if (hasOwnProp(b, 'toString')) {
            a.toString = b.toString;
        }

        if (hasOwnProp(b, 'valueOf')) {
            a.valueOf = b.valueOf;
        }

        return a;
    }

    function createUTC (input, format, locale, strict) {
        return createLocalOrUTC(input, format, locale, strict, true).utc();
    }

    function defaultParsingFlags() {
        // We need to deep clone this object.
        return {
            empty           : false,
            unusedTokens    : [],
            unusedInput     : [],
            overflow        : -2,
            charsLeftOver   : 0,
            nullInput       : false,
            invalidMonth    : null,
            invalidFormat   : false,
            userInvalidated : false,
            iso             : false,
            parsedDateParts : [],
            meridiem        : null,
            rfc2822         : false,
            weekdayMismatch : false
        };
    }

    function getParsingFlags(m) {
        if (m._pf == null) {
            m._pf = defaultParsingFlags();
        }
        return m._pf;
    }

    var some;
    if (Array.prototype.some) {
        some = Array.prototype.some;
    } else {
        some = function (fun) {
            var t = Object(this);
            var len = t.length >>> 0;

            for (var i = 0; i < len; i++) {
                if (i in t && fun.call(this, t[i], i, t)) {
                    return true;
                }
            }

            return false;
        };
    }

    function isValid(m) {
        if (m._isValid == null) {
            var flags = getParsingFlags(m);
            var parsedParts = some.call(flags.parsedDateParts, function (i) {
                return i != null;
            });
            var isNowValid = !isNaN(m._d.getTime()) &&
                flags.overflow < 0 &&
                !flags.empty &&
                !flags.invalidMonth &&
                !flags.invalidWeekday &&
                !flags.weekdayMismatch &&
                !flags.nullInput &&
                !flags.invalidFormat &&
                !flags.userInvalidated &&
                (!flags.meridiem || (flags.meridiem && parsedParts));

            if (m._strict) {
                isNowValid = isNowValid &&
                    flags.charsLeftOver === 0 &&
                    flags.unusedTokens.length === 0 &&
                    flags.bigHour === undefined;
            }

            if (Object.isFrozen == null || !Object.isFrozen(m)) {
                m._isValid = isNowValid;
            }
            else {
                return isNowValid;
            }
        }
        return m._isValid;
    }

    function createInvalid (flags) {
        var m = createUTC(NaN);
        if (flags != null) {
            extend(getParsingFlags(m), flags);
        }
        else {
            getParsingFlags(m).userInvalidated = true;
        }

        return m;
    }

    // Plugins that add properties should also add the key here (null value),
    // so we can properly clone ourselves.
    var momentProperties = hooks.momentProperties = [];

    function copyConfig(to, from) {
        var i, prop, val;

        if (!isUndefined(from._isAMomentObject)) {
            to._isAMomentObject = from._isAMomentObject;
        }
        if (!isUndefined(from._i)) {
            to._i = from._i;
        }
        if (!isUndefined(from._f)) {
            to._f = from._f;
        }
        if (!isUndefined(from._l)) {
            to._l = from._l;
        }
        if (!isUndefined(from._strict)) {
            to._strict = from._strict;
        }
        if (!isUndefined(from._tzm)) {
            to._tzm = from._tzm;
        }
        if (!isUndefined(from._isUTC)) {
            to._isUTC = from._isUTC;
        }
        if (!isUndefined(from._offset)) {
            to._offset = from._offset;
        }
        if (!isUndefined(from._pf)) {
            to._pf = getParsingFlags(from);
        }
        if (!isUndefined(from._locale)) {
            to._locale = from._locale;
        }

        if (momentProperties.length > 0) {
            for (i = 0; i < momentProperties.length; i++) {
                prop = momentProperties[i];
                val = from[prop];
                if (!isUndefined(val)) {
                    to[prop] = val;
                }
            }
        }

        return to;
    }

    var updateInProgress = false;

    // Moment prototype object
    function Moment(config) {
        copyConfig(this, config);
        this._d = new Date(config._d != null ? config._d.getTime() : NaN);
        if (!this.isValid()) {
            this._d = new Date(NaN);
        }
        // Prevent infinite loop in case updateOffset creates new moment
        // objects.
        if (updateInProgress === false) {
            updateInProgress = true;
            hooks.updateOffset(this);
            updateInProgress = false;
        }
    }

    function isMoment (obj) {
        return obj instanceof Moment || (obj != null && obj._isAMomentObject != null);
    }

    function absFloor (number) {
        if (number < 0) {
            // -0 -> 0
            return Math.ceil(number) || 0;
        } else {
            return Math.floor(number);
        }
    }

    function toInt(argumentForCoercion) {
        var coercedNumber = +argumentForCoercion,
            value = 0;

        if (coercedNumber !== 0 && isFinite(coercedNumber)) {
            value = absFloor(coercedNumber);
        }

        return value;
    }

    // compare two arrays, return the number of differences
    function compareArrays(array1, array2, dontConvert) {
        var len = Math.min(array1.length, array2.length),
            lengthDiff = Math.abs(array1.length - array2.length),
            diffs = 0,
            i;
        for (i = 0; i < len; i++) {
            if ((dontConvert && array1[i] !== array2[i]) ||
                (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {
                diffs++;
            }
        }
        return diffs + lengthDiff;
    }

    function warn(msg) {
        if (hooks.suppressDeprecationWarnings === false &&
                (typeof console !==  'undefined') && console.warn) {
            console.warn('Deprecation warning: ' + msg);
        }
    }

    function deprecate(msg, fn) {
        var firstTime = true;

        return extend(function () {
            if (hooks.deprecationHandler != null) {
                hooks.deprecationHandler(null, msg);
            }
            if (firstTime) {
                var args = [];
                var arg;
                for (var i = 0; i < arguments.length; i++) {
                    arg = '';
                    if (typeof arguments[i] === 'object') {
                        arg += '\n[' + i + '] ';
                        for (var key in arguments[0]) {
                            arg += key + ': ' + arguments[0][key] + ', ';
                        }
                        arg = arg.slice(0, -2); // Remove trailing comma and space
                    } else {
                        arg = arguments[i];
                    }
                    args.push(arg);
                }
                warn(msg + '\nArguments: ' + Array.prototype.slice.call(args).join('') + '\n' + (new Error()).stack);
                firstTime = false;
            }
            return fn.apply(this, arguments);
        }, fn);
    }

    var deprecations = {};

    function deprecateSimple(name, msg) {
        if (hooks.deprecationHandler != null) {
            hooks.deprecationHandler(name, msg);
        }
        if (!deprecations[name]) {
            warn(msg);
            deprecations[name] = true;
        }
    }

    hooks.suppressDeprecationWarnings = false;
    hooks.deprecationHandler = null;

    function isFunction(input) {
        return input instanceof Function || Object.prototype.toString.call(input) === '[object Function]';
    }

    function set (config) {
        var prop, i;
        for (i in config) {
            prop = config[i];
            if (isFunction(prop)) {
                this[i] = prop;
            } else {
                this['_' + i] = prop;
            }
        }
        this._config = config;
        // Lenient ordinal parsing accepts just a number in addition to
        // number + (possibly) stuff coming from _dayOfMonthOrdinalParse.
        // TODO: Remove "ordinalParse" fallback in next major release.
        this._dayOfMonthOrdinalParseLenient = new RegExp(
            (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) +
                '|' + (/\d{1,2}/).source);
    }

    function mergeConfigs(parentConfig, childConfig) {
        var res = extend({}, parentConfig), prop;
        for (prop in childConfig) {
            if (hasOwnProp(childConfig, prop)) {
                if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {
                    res[prop] = {};
                    extend(res[prop], parentConfig[prop]);
                    extend(res[prop], childConfig[prop]);
                } else if (childConfig[prop] != null) {
                    res[prop] = childConfig[prop];
                } else {
                    delete res[prop];
                }
            }
        }
        for (prop in parentConfig) {
            if (hasOwnProp(parentConfig, prop) &&
                    !hasOwnProp(childConfig, prop) &&
                    isObject(parentConfig[prop])) {
                // make sure changes to properties don't modify parent config
                res[prop] = extend({}, res[prop]);
            }
        }
        return res;
    }

    function Locale(config) {
        if (config != null) {
            this.set(config);
        }
    }

    var keys;

    if (Object.keys) {
        keys = Object.keys;
    } else {
        keys = function (obj) {
            var i, res = [];
            for (i in obj) {
                if (hasOwnProp(obj, i)) {
                    res.push(i);
                }
            }
            return res;
        };
    }

    var defaultCalendar = {
        sameDay : '[Today at] LT',
        nextDay : '[Tomorrow at] LT',
        nextWeek : 'dddd [at] LT',
        lastDay : '[Yesterday at] LT',
        lastWeek : '[Last] dddd [at] LT',
        sameElse : 'L'
    };

    function calendar (key, mom, now) {
        var output = this._calendar[key] || this._calendar['sameElse'];
        return isFunction(output) ? output.call(mom, now) : output;
    }

    var defaultLongDateFormat = {
        LTS  : 'h:mm:ss A',
        LT   : 'h:mm A',
        L    : 'MM/DD/YYYY',
        LL   : 'MMMM D, YYYY',
        LLL  : 'MMMM D, YYYY h:mm A',
        LLLL : 'dddd, MMMM D, YYYY h:mm A'
    };

    function longDateFormat (key) {
        var format = this._longDateFormat[key],
            formatUpper = this._longDateFormat[key.toUpperCase()];

        if (format || !formatUpper) {
            return format;
        }

        this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val) {
            return val.slice(1);
        });

        return this._longDateFormat[key];
    }

    var defaultInvalidDate = 'Invalid date';

    function invalidDate () {
        return this._invalidDate;
    }

    var defaultOrdinal = '%d';
    var defaultDayOfMonthOrdinalParse = /\d{1,2}/;

    function ordinal (number) {
        return this._ordinal.replace('%d', number);
    }

    var defaultRelativeTime = {
        future : 'in %s',
        past   : '%s ago',
        s  : 'a few seconds',
        ss : '%d seconds',
        m  : 'a minute',
        mm : '%d minutes',
        h  : 'an hour',
        hh : '%d hours',
        d  : 'a day',
        dd : '%d days',
        M  : 'a month',
        MM : '%d months',
        y  : 'a year',
        yy : '%d years'
    };

    function relativeTime (number, withoutSuffix, string, isFuture) {
        var output = this._relativeTime[string];
        return (isFunction(output)) ?
            output(number, withoutSuffix, string, isFuture) :
            output.replace(/%d/i, number);
    }

    function pastFuture (diff, output) {
        var format = this._relativeTime[diff > 0 ? 'future' : 'past'];
        return isFunction(format) ? format(output) : format.replace(/%s/i, output);
    }

    var aliases = {};

    function addUnitAlias (unit, shorthand) {
        var lowerCase = unit.toLowerCase();
        aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;
    }

    function normalizeUnits(units) {
        return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;
    }

    function normalizeObjectUnits(inputObject) {
        var normalizedInput = {},
            normalizedProp,
            prop;

        for (prop in inputObject) {
            if (hasOwnProp(inputObject, prop)) {
                normalizedProp = normalizeUnits(prop);
                if (normalizedProp) {
                    normalizedInput[normalizedProp] = inputObject[prop];
                }
            }
        }

        return normalizedInput;
    }

    var priorities = {};

    function addUnitPriority(unit, priority) {
        priorities[unit] = priority;
    }

    function getPrioritizedUnits(unitsObj) {
        var units = [];
        for (var u in unitsObj) {
            units.push({unit: u, priority: priorities[u]});
        }
        units.sort(function (a, b) {
            return a.priority - b.priority;
        });
        return units;
    }

    function zeroFill(number, targetLength, forceSign) {
        var absNumber = '' + Math.abs(number),
            zerosToFill = targetLength - absNumber.length,
            sign = number >= 0;
        return (sign ? (forceSign ? '+' : '') : '-') +
            Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;
    }

    var formattingTokens = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;

    var localFormattingTokens = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;

    var formatFunctions = {};

    var formatTokenFunctions = {};

    // token:    'M'
    // padded:   ['MM', 2]
    // ordinal:  'Mo'
    // callback: function () { this.month() + 1 }
    function addFormatToken (token, padded, ordinal, callback) {
        var func = callback;
        if (typeof callback === 'string') {
            func = function () {
                return this[callback]();
            };
        }
        if (token) {
            formatTokenFunctions[token] = func;
        }
        if (padded) {
            formatTokenFunctions[padded[0]] = function () {
                return zeroFill(func.apply(this, arguments), padded[1], padded[2]);
            };
        }
        if (ordinal) {
            formatTokenFunctions[ordinal] = function () {
                return this.localeData().ordinal(func.apply(this, arguments), token);
            };
        }
    }

    function removeFormattingTokens(input) {
        if (input.match(/\[[\s\S]/)) {
            return input.replace(/^\[|\]$/g, '');
        }
        return input.replace(/\\/g, '');
    }

    function makeFormatFunction(format) {
        var array = format.match(formattingTokens), i, length;

        for (i = 0, length = array.length; i < length; i++) {
            if (formatTokenFunctions[array[i]]) {
                array[i] = formatTokenFunctions[array[i]];
            } else {
                array[i] = removeFormattingTokens(array[i]);
            }
        }

        return function (mom) {
            var output = '', i;
            for (i = 0; i < length; i++) {
                output += isFunction(array[i]) ? array[i].call(mom, format) : array[i];
            }
            return output;
        };
    }

    // format date using native date object
    function formatMoment(m, format) {
        if (!m.isValid()) {
            return m.localeData().invalidDate();
        }

        format = expandFormat(format, m.localeData());
        formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);

        return formatFunctions[format](m);
    }

    function expandFormat(format, locale) {
        var i = 5;

        function replaceLongDateFormatTokens(input) {
            return locale.longDateFormat(input) || input;
        }

        localFormattingTokens.lastIndex = 0;
        while (i >= 0 && localFormattingTokens.test(format)) {
            format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);
            localFormattingTokens.lastIndex = 0;
            i -= 1;
        }

        return format;
    }

    var match1         = /\d/;            //       0 - 9
    var match2         = /\d\d/;          //      00 - 99
    var match3         = /\d{3}/;         //     000 - 999
    var match4         = /\d{4}/;         //    0000 - 9999
    var match6         = /[+-]?\d{6}/;    // -999999 - 999999
    var match1to2      = /\d\d?/;         //       0 - 99
    var match3to4      = /\d\d\d\d?/;     //     999 - 9999
    var match5to6      = /\d\d\d\d\d\d?/; //   99999 - 999999
    var match1to3      = /\d{1,3}/;       //       0 - 999
    var match1to4      = /\d{1,4}/;       //       0 - 9999
    var match1to6      = /[+-]?\d{1,6}/;  // -999999 - 999999

    var matchUnsigned  = /\d+/;           //       0 - inf
    var matchSigned    = /[+-]?\d+/;      //    -inf - inf

    var matchOffset    = /Z|[+-]\d\d:?\d\d/gi; // +00:00 -00:00 +0000 -0000 or Z
    var matchShortOffset = /Z|[+-]\d\d(?::?\d\d)?/gi; // +00 -00 +00:00 -00:00 +0000 -0000 or Z

    var matchTimestamp = /[+-]?\d+(\.\d{1,3})?/; // 123456789 123456789.123

    // any word (or two) characters or numbers including two/three word month in arabic.
    // includes scottish gaelic two word and hyphenated months
    var matchWord = /[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;

    var regexes = {};

    function addRegexToken (token, regex, strictRegex) {
        regexes[token] = isFunction(regex) ? regex : function (isStrict, localeData) {
            return (isStrict && strictRegex) ? strictRegex : regex;
        };
    }

    function getParseRegexForToken (token, config) {
        if (!hasOwnProp(regexes, token)) {
            return new RegExp(unescapeFormat(token));
        }

        return regexes[token](config._strict, config._locale);
    }

    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript
    function unescapeFormat(s) {
        return regexEscape(s.replace('\\', '').replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (matched, p1, p2, p3, p4) {
            return p1 || p2 || p3 || p4;
        }));
    }

    function regexEscape(s) {
        return s.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
    }

    var tokens = {};

    function addParseToken (token, callback) {
        var i, func = callback;
        if (typeof token === 'string') {
            token = [token];
        }
        if (isNumber(callback)) {
            func = function (input, array) {
                array[callback] = toInt(input);
            };
        }
        for (i = 0; i < token.length; i++) {
            tokens[token[i]] = func;
        }
    }

    function addWeekParseToken (token, callback) {
        addParseToken(token, function (input, array, config, token) {
            config._w = config._w || {};
            callback(input, config._w, config, token);
        });
    }

    function addTimeToArrayFromToken(token, input, config) {
        if (input != null && hasOwnProp(tokens, token)) {
            tokens[token](input, config._a, config, token);
        }
    }

    var YEAR = 0;
    var MONTH = 1;
    var DATE = 2;
    var HOUR = 3;
    var MINUTE = 4;
    var SECOND = 5;
    var MILLISECOND = 6;
    var WEEK = 7;
    var WEEKDAY = 8;

    // FORMATTING

    addFormatToken('Y', 0, 0, function () {
        var y = this.year();
        return y <= 9999 ? '' + y : '+' + y;
    });

    addFormatToken(0, ['YY', 2], 0, function () {
        return this.year() % 100;
    });

    addFormatToken(0, ['YYYY',   4],       0, 'year');
    addFormatToken(0, ['YYYYY',  5],       0, 'year');
    addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');

    // ALIASES

    addUnitAlias('year', 'y');

    // PRIORITIES

    addUnitPriority('year', 1);

    // PARSING

    addRegexToken('Y',      matchSigned);
    addRegexToken('YY',     match1to2, match2);
    addRegexToken('YYYY',   match1to4, match4);
    addRegexToken('YYYYY',  match1to6, match6);
    addRegexToken('YYYYYY', match1to6, match6);

    addParseToken(['YYYYY', 'YYYYYY'], YEAR);
    addParseToken('YYYY', function (input, array) {
        array[YEAR] = input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);
    });
    addParseToken('YY', function (input, array) {
        array[YEAR] = hooks.parseTwoDigitYear(input);
    });
    addParseToken('Y', function (input, array) {
        array[YEAR] = parseInt(input, 10);
    });

    // HELPERS

    function daysInYear(year) {
        return isLeapYear(year) ? 366 : 365;
    }

    function isLeapYear(year) {
        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;
    }

    // HOOKS

    hooks.parseTwoDigitYear = function (input) {
        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);
    };

    // MOMENTS

    var getSetYear = makeGetSet('FullYear', true);

    function getIsLeapYear () {
        return isLeapYear(this.year());
    }

    function makeGetSet (unit, keepTime) {
        return function (value) {
            if (value != null) {
                set$1(this, unit, value);
                hooks.updateOffset(this, keepTime);
                return this;
            } else {
                return get(this, unit);
            }
        };
    }

    function get (mom, unit) {
        return mom.isValid() ?
            mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]() : NaN;
    }

    function set$1 (mom, unit, value) {
        if (mom.isValid() && !isNaN(value)) {
            if (unit === 'FullYear' && isLeapYear(mom.year()) && mom.month() === 1 && mom.date() === 29) {
                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value, mom.month(), daysInMonth(value, mom.month()));
            }
            else {
                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);
            }
        }
    }

    // MOMENTS

    function stringGet (units) {
        units = normalizeUnits(units);
        if (isFunction(this[units])) {
            return this[units]();
        }
        return this;
    }


    function stringSet (units, value) {
        if (typeof units === 'object') {
            units = normalizeObjectUnits(units);
            var prioritized = getPrioritizedUnits(units);
            for (var i = 0; i < prioritized.length; i++) {
                this[prioritized[i].unit](units[prioritized[i].unit]);
            }
        } else {
            units = normalizeUnits(units);
            if (isFunction(this[units])) {
                return this[units](value);
            }
        }
        return this;
    }

    function mod(n, x) {
        return ((n % x) + x) % x;
    }

    var indexOf;

    if (Array.prototype.indexOf) {
        indexOf = Array.prototype.indexOf;
    } else {
        indexOf = function (o) {
            // I know
            var i;
            for (i = 0; i < this.length; ++i) {
                if (this[i] === o) {
                    return i;
                }
            }
            return -1;
        };
    }

    function daysInMonth(year, month) {
        if (isNaN(year) || isNaN(month)) {
            return NaN;
        }
        var modMonth = mod(month, 12);
        year += (month - modMonth) / 12;
        return modMonth === 1 ? (isLeapYear(year) ? 29 : 28) : (31 - modMonth % 7 % 2);
    }

    // FORMATTING

    addFormatToken('M', ['MM', 2], 'Mo', function () {
        return this.month() + 1;
    });

    addFormatToken('MMM', 0, 0, function (format) {
        return this.localeData().monthsShort(this, format);
    });

    addFormatToken('MMMM', 0, 0, function (format) {
        return this.localeData().months(this, format);
    });

    // ALIASES

    addUnitAlias('month', 'M');

    // PRIORITY

    addUnitPriority('month', 8);

    // PARSING

    addRegexToken('M',    match1to2);
    addRegexToken('MM',   match1to2, match2);
    addRegexToken('MMM',  function (isStrict, locale) {
        return locale.monthsShortRegex(isStrict);
    });
    addRegexToken('MMMM', function (isStrict, locale) {
        return locale.monthsRegex(isStrict);
    });

    addParseToken(['M', 'MM'], function (input, array) {
        array[MONTH] = toInt(input) - 1;
    });

    addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {
        var month = config._locale.monthsParse(input, token, config._strict);
        // if we didn't find a month name, mark the date as invalid.
        if (month != null) {
            array[MONTH] = month;
        } else {
            getParsingFlags(config).invalidMonth = input;
        }
    });

    // LOCALES

    var MONTHS_IN_FORMAT = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;
    var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');
    function localeMonths (m, format) {
        if (!m) {
            return isArray(this._months) ? this._months :
                this._months['standalone'];
        }
        return isArray(this._months) ? this._months[m.month()] :
            this._months[(this._months.isFormat || MONTHS_IN_FORMAT).test(format) ? 'format' : 'standalone'][m.month()];
    }

    var defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');
    function localeMonthsShort (m, format) {
        if (!m) {
            return isArray(this._monthsShort) ? this._monthsShort :
                this._monthsShort['standalone'];
        }
        return isArray(this._monthsShort) ? this._monthsShort[m.month()] :
            this._monthsShort[MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'][m.month()];
    }

    function handleStrictParse(monthName, format, strict) {
        var i, ii, mom, llc = monthName.toLocaleLowerCase();
        if (!this._monthsParse) {
            // this is not used
            this._monthsParse = [];
            this._longMonthsParse = [];
            this._shortMonthsParse = [];
            for (i = 0; i < 12; ++i) {
                mom = createUTC([2000, i]);
                this._shortMonthsParse[i] = this.monthsShort(mom, '').toLocaleLowerCase();
                this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();
            }
        }

        if (strict) {
            if (format === 'MMM') {
                ii = indexOf.call(this._shortMonthsParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._longMonthsParse, llc);
                return ii !== -1 ? ii : null;
            }
        } else {
            if (format === 'MMM') {
                ii = indexOf.call(this._shortMonthsParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._longMonthsParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._longMonthsParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._shortMonthsParse, llc);
                return ii !== -1 ? ii : null;
            }
        }
    }

    function localeMonthsParse (monthName, format, strict) {
        var i, mom, regex;

        if (this._monthsParseExact) {
            return handleStrictParse.call(this, monthName, format, strict);
        }

        if (!this._monthsParse) {
            this._monthsParse = [];
            this._longMonthsParse = [];
            this._shortMonthsParse = [];
        }

        // TODO: add sorting
        // Sorting makes sure if one month (or abbr) is a prefix of another
        // see sorting in computeMonthsParse
        for (i = 0; i < 12; i++) {
            // make the regex if we don't have it already
            mom = createUTC([2000, i]);
            if (strict && !this._longMonthsParse[i]) {
                this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');
                this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');
            }
            if (!strict && !this._monthsParse[i]) {
                regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');
                this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');
            }
            // test the regex
            if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {
                return i;
            } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {
                return i;
            } else if (!strict && this._monthsParse[i].test(monthName)) {
                return i;
            }
        }
    }

    // MOMENTS

    function setMonth (mom, value) {
        var dayOfMonth;

        if (!mom.isValid()) {
            // No op
            return mom;
        }

        if (typeof value === 'string') {
            if (/^\d+$/.test(value)) {
                value = toInt(value);
            } else {
                value = mom.localeData().monthsParse(value);
                // TODO: Another silent failure?
                if (!isNumber(value)) {
                    return mom;
                }
            }
        }

        dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));
        mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);
        return mom;
    }

    function getSetMonth (value) {
        if (value != null) {
            setMonth(this, value);
            hooks.updateOffset(this, true);
            return this;
        } else {
            return get(this, 'Month');
        }
    }

    function getDaysInMonth () {
        return daysInMonth(this.year(), this.month());
    }

    var defaultMonthsShortRegex = matchWord;
    function monthsShortRegex (isStrict) {
        if (this._monthsParseExact) {
            if (!hasOwnProp(this, '_monthsRegex')) {
                computeMonthsParse.call(this);
            }
            if (isStrict) {
                return this._monthsShortStrictRegex;
            } else {
                return this._monthsShortRegex;
            }
        } else {
            if (!hasOwnProp(this, '_monthsShortRegex')) {
                this._monthsShortRegex = defaultMonthsShortRegex;
            }
            return this._monthsShortStrictRegex && isStrict ?
                this._monthsShortStrictRegex : this._monthsShortRegex;
        }
    }

    var defaultMonthsRegex = matchWord;
    function monthsRegex (isStrict) {
        if (this._monthsParseExact) {
            if (!hasOwnProp(this, '_monthsRegex')) {
                computeMonthsParse.call(this);
            }
            if (isStrict) {
                return this._monthsStrictRegex;
            } else {
                return this._monthsRegex;
            }
        } else {
            if (!hasOwnProp(this, '_monthsRegex')) {
                this._monthsRegex = defaultMonthsRegex;
            }
            return this._monthsStrictRegex && isStrict ?
                this._monthsStrictRegex : this._monthsRegex;
        }
    }

    function computeMonthsParse () {
        function cmpLenRev(a, b) {
            return b.length - a.length;
        }

        var shortPieces = [], longPieces = [], mixedPieces = [],
            i, mom;
        for (i = 0; i < 12; i++) {
            // make the regex if we don't have it already
            mom = createUTC([2000, i]);
            shortPieces.push(this.monthsShort(mom, ''));
            longPieces.push(this.months(mom, ''));
            mixedPieces.push(this.months(mom, ''));
            mixedPieces.push(this.monthsShort(mom, ''));
        }
        // Sorting makes sure if one month (or abbr) is a prefix of another it
        // will match the longer piece.
        shortPieces.sort(cmpLenRev);
        longPieces.sort(cmpLenRev);
        mixedPieces.sort(cmpLenRev);
        for (i = 0; i < 12; i++) {
            shortPieces[i] = regexEscape(shortPieces[i]);
            longPieces[i] = regexEscape(longPieces[i]);
        }
        for (i = 0; i < 24; i++) {
            mixedPieces[i] = regexEscape(mixedPieces[i]);
        }

        this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
        this._monthsShortRegex = this._monthsRegex;
        this._monthsStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');
        this._monthsShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');
    }

    function createDate (y, m, d, h, M, s, ms) {
        // can't just apply() to create a date:
        // https://stackoverflow.com/q/181348
        var date;
        // the date constructor remaps years 0-99 to 1900-1999
        if (y < 100 && y >= 0) {
            // preserve leap years using a full 400 year cycle, then reset
            date = new Date(y + 400, m, d, h, M, s, ms);
            if (isFinite(date.getFullYear())) {
                date.setFullYear(y);
            }
        } else {
            date = new Date(y, m, d, h, M, s, ms);
        }

        return date;
    }

    function createUTCDate (y) {
        var date;
        // the Date.UTC function remaps years 0-99 to 1900-1999
        if (y < 100 && y >= 0) {
            var args = Array.prototype.slice.call(arguments);
            // preserve leap years using a full 400 year cycle, then reset
            args[0] = y + 400;
            date = new Date(Date.UTC.apply(null, args));
            if (isFinite(date.getUTCFullYear())) {
                date.setUTCFullYear(y);
            }
        } else {
            date = new Date(Date.UTC.apply(null, arguments));
        }

        return date;
    }

    // start-of-first-week - start-of-year
    function firstWeekOffset(year, dow, doy) {
        var // first-week day -- which january is always in the first week (4 for iso, 1 for other)
            fwd = 7 + dow - doy,
            // first-week day local weekday -- which local weekday is fwd
            fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;

        return -fwdlw + fwd - 1;
    }

    // https://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday
    function dayOfYearFromWeeks(year, week, weekday, dow, doy) {
        var localWeekday = (7 + weekday - dow) % 7,
            weekOffset = firstWeekOffset(year, dow, doy),
            dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,
            resYear, resDayOfYear;

        if (dayOfYear <= 0) {
            resYear = year - 1;
            resDayOfYear = daysInYear(resYear) + dayOfYear;
        } else if (dayOfYear > daysInYear(year)) {
            resYear = year + 1;
            resDayOfYear = dayOfYear - daysInYear(year);
        } else {
            resYear = year;
            resDayOfYear = dayOfYear;
        }

        return {
            year: resYear,
            dayOfYear: resDayOfYear
        };
    }

    function weekOfYear(mom, dow, doy) {
        var weekOffset = firstWeekOffset(mom.year(), dow, doy),
            week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,
            resWeek, resYear;

        if (week < 1) {
            resYear = mom.year() - 1;
            resWeek = week + weeksInYear(resYear, dow, doy);
        } else if (week > weeksInYear(mom.year(), dow, doy)) {
            resWeek = week - weeksInYear(mom.year(), dow, doy);
            resYear = mom.year() + 1;
        } else {
            resYear = mom.year();
            resWeek = week;
        }

        return {
            week: resWeek,
            year: resYear
        };
    }

    function weeksInYear(year, dow, doy) {
        var weekOffset = firstWeekOffset(year, dow, doy),
            weekOffsetNext = firstWeekOffset(year + 1, dow, doy);
        return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;
    }

    // FORMATTING

    addFormatToken('w', ['ww', 2], 'wo', 'week');
    addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');

    // ALIASES

    addUnitAlias('week', 'w');
    addUnitAlias('isoWeek', 'W');

    // PRIORITIES

    addUnitPriority('week', 5);
    addUnitPriority('isoWeek', 5);

    // PARSING

    addRegexToken('w',  match1to2);
    addRegexToken('ww', match1to2, match2);
    addRegexToken('W',  match1to2);
    addRegexToken('WW', match1to2, match2);

    addWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {
        week[token.substr(0, 1)] = toInt(input);
    });

    // HELPERS

    // LOCALES

    function localeWeek (mom) {
        return weekOfYear(mom, this._week.dow, this._week.doy).week;
    }

    var defaultLocaleWeek = {
        dow : 0, // Sunday is the first day of the week.
        doy : 6  // The week that contains Jan 6th is the first week of the year.
    };

    function localeFirstDayOfWeek () {
        return this._week.dow;
    }

    function localeFirstDayOfYear () {
        return this._week.doy;
    }

    // MOMENTS

    function getSetWeek (input) {
        var week = this.localeData().week(this);
        return input == null ? week : this.add((input - week) * 7, 'd');
    }

    function getSetISOWeek (input) {
        var week = weekOfYear(this, 1, 4).week;
        return input == null ? week : this.add((input - week) * 7, 'd');
    }

    // FORMATTING

    addFormatToken('d', 0, 'do', 'day');

    addFormatToken('dd', 0, 0, function (format) {
        return this.localeData().weekdaysMin(this, format);
    });

    addFormatToken('ddd', 0, 0, function (format) {
        return this.localeData().weekdaysShort(this, format);
    });

    addFormatToken('dddd', 0, 0, function (format) {
        return this.localeData().weekdays(this, format);
    });

    addFormatToken('e', 0, 0, 'weekday');
    addFormatToken('E', 0, 0, 'isoWeekday');

    // ALIASES

    addUnitAlias('day', 'd');
    addUnitAlias('weekday', 'e');
    addUnitAlias('isoWeekday', 'E');

    // PRIORITY
    addUnitPriority('day', 11);
    addUnitPriority('weekday', 11);
    addUnitPriority('isoWeekday', 11);

    // PARSING

    addRegexToken('d',    match1to2);
    addRegexToken('e',    match1to2);
    addRegexToken('E',    match1to2);
    addRegexToken('dd',   function (isStrict, locale) {
        return locale.weekdaysMinRegex(isStrict);
    });
    addRegexToken('ddd',   function (isStrict, locale) {
        return locale.weekdaysShortRegex(isStrict);
    });
    addRegexToken('dddd',   function (isStrict, locale) {
        return locale.weekdaysRegex(isStrict);
    });

    addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {
        var weekday = config._locale.weekdaysParse(input, token, config._strict);
        // if we didn't get a weekday name, mark the date as invalid
        if (weekday != null) {
            week.d = weekday;
        } else {
            getParsingFlags(config).invalidWeekday = input;
        }
    });

    addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {
        week[token] = toInt(input);
    });

    // HELPERS

    function parseWeekday(input, locale) {
        if (typeof input !== 'string') {
            return input;
        }

        if (!isNaN(input)) {
            return parseInt(input, 10);
        }

        input = locale.weekdaysParse(input);
        if (typeof input === 'number') {
            return input;
        }

        return null;
    }

    function parseIsoWeekday(input, locale) {
        if (typeof input === 'string') {
            return locale.weekdaysParse(input) % 7 || 7;
        }
        return isNaN(input) ? null : input;
    }

    // LOCALES
    function shiftWeekdays (ws, n) {
        return ws.slice(n, 7).concat(ws.slice(0, n));
    }

    var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');
    function localeWeekdays (m, format) {
        var weekdays = isArray(this._weekdays) ? this._weekdays :
            this._weekdays[(m && m !== true && this._weekdays.isFormat.test(format)) ? 'format' : 'standalone'];
        return (m === true) ? shiftWeekdays(weekdays, this._week.dow)
            : (m) ? weekdays[m.day()] : weekdays;
    }

    var defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');
    function localeWeekdaysShort (m) {
        return (m === true) ? shiftWeekdays(this._weekdaysShort, this._week.dow)
            : (m) ? this._weekdaysShort[m.day()] : this._weekdaysShort;
    }

    var defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');
    function localeWeekdaysMin (m) {
        return (m === true) ? shiftWeekdays(this._weekdaysMin, this._week.dow)
            : (m) ? this._weekdaysMin[m.day()] : this._weekdaysMin;
    }

    function handleStrictParse$1(weekdayName, format, strict) {
        var i, ii, mom, llc = weekdayName.toLocaleLowerCase();
        if (!this._weekdaysParse) {
            this._weekdaysParse = [];
            this._shortWeekdaysParse = [];
            this._minWeekdaysParse = [];

            for (i = 0; i < 7; ++i) {
                mom = createUTC([2000, 1]).day(i);
                this._minWeekdaysParse[i] = this.weekdaysMin(mom, '').toLocaleLowerCase();
                this._shortWeekdaysParse[i] = this.weekdaysShort(mom, '').toLocaleLowerCase();
                this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();
            }
        }

        if (strict) {
            if (format === 'dddd') {
                ii = indexOf.call(this._weekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else if (format === 'ddd') {
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._minWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            }
        } else {
            if (format === 'dddd') {
                ii = indexOf.call(this._weekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._minWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else if (format === 'ddd') {
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._weekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._minWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._minWeekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._weekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            }
        }
    }

    function localeWeekdaysParse (weekdayName, format, strict) {
        var i, mom, regex;

        if (this._weekdaysParseExact) {
            return handleStrictParse$1.call(this, weekdayName, format, strict);
        }

        if (!this._weekdaysParse) {
            this._weekdaysParse = [];
            this._minWeekdaysParse = [];
            this._shortWeekdaysParse = [];
            this._fullWeekdaysParse = [];
        }

        for (i = 0; i < 7; i++) {
            // make the regex if we don't have it already

            mom = createUTC([2000, 1]).day(i);
            if (strict && !this._fullWeekdaysParse[i]) {
                this._fullWeekdaysParse[i] = new RegExp('^' + this.weekdays(mom, '').replace('.', '\\.?') + '$', 'i');
                this._shortWeekdaysParse[i] = new RegExp('^' + this.weekdaysShort(mom, '').replace('.', '\\.?') + '$', 'i');
                this._minWeekdaysParse[i] = new RegExp('^' + this.weekdaysMin(mom, '').replace('.', '\\.?') + '$', 'i');
            }
            if (!this._weekdaysParse[i]) {
                regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');
                this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');
            }
            // test the regex
            if (strict && format === 'dddd' && this._fullWeekdaysParse[i].test(weekdayName)) {
                return i;
            } else if (strict && format === 'ddd' && this._shortWeekdaysParse[i].test(weekdayName)) {
                return i;
            } else if (strict && format === 'dd' && this._minWeekdaysParse[i].test(weekdayName)) {
                return i;
            } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {
                return i;
            }
        }
    }

    // MOMENTS

    function getSetDayOfWeek (input) {
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }
        var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
        if (input != null) {
            input = parseWeekday(input, this.localeData());
            return this.add(input - day, 'd');
        } else {
            return day;
        }
    }

    function getSetLocaleDayOfWeek (input) {
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }
        var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;
        return input == null ? weekday : this.add(input - weekday, 'd');
    }

    function getSetISODayOfWeek (input) {
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }

        // behaves the same as moment#day except
        // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)
        // as a setter, sunday should belong to the previous week.

        if (input != null) {
            var weekday = parseIsoWeekday(input, this.localeData());
            return this.day(this.day() % 7 ? weekday : weekday - 7);
        } else {
            return this.day() || 7;
        }
    }

    var defaultWeekdaysRegex = matchWord;
    function weekdaysRegex (isStrict) {
        if (this._weekdaysParseExact) {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                computeWeekdaysParse.call(this);
            }
            if (isStrict) {
                return this._weekdaysStrictRegex;
            } else {
                return this._weekdaysRegex;
            }
        } else {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                this._weekdaysRegex = defaultWeekdaysRegex;
            }
            return this._weekdaysStrictRegex && isStrict ?
                this._weekdaysStrictRegex : this._weekdaysRegex;
        }
    }

    var defaultWeekdaysShortRegex = matchWord;
    function weekdaysShortRegex (isStrict) {
        if (this._weekdaysParseExact) {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                computeWeekdaysParse.call(this);
            }
            if (isStrict) {
                return this._weekdaysShortStrictRegex;
            } else {
                return this._weekdaysShortRegex;
            }
        } else {
            if (!hasOwnProp(this, '_weekdaysShortRegex')) {
                this._weekdaysShortRegex = defaultWeekdaysShortRegex;
            }
            return this._weekdaysShortStrictRegex && isStrict ?
                this._weekdaysShortStrictRegex : this._weekdaysShortRegex;
        }
    }

    var defaultWeekdaysMinRegex = matchWord;
    function weekdaysMinRegex (isStrict) {
        if (this._weekdaysParseExact) {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                computeWeekdaysParse.call(this);
            }
            if (isStrict) {
                return this._weekdaysMinStrictRegex;
            } else {
                return this._weekdaysMinRegex;
            }
        } else {
            if (!hasOwnProp(this, '_weekdaysMinRegex')) {
                this._weekdaysMinRegex = defaultWeekdaysMinRegex;
            }
            return this._weekdaysMinStrictRegex && isStrict ?
                this._weekdaysMinStrictRegex : this._weekdaysMinRegex;
        }
    }


    function computeWeekdaysParse () {
        function cmpLenRev(a, b) {
            return b.length - a.length;
        }

        var minPieces = [], shortPieces = [], longPieces = [], mixedPieces = [],
            i, mom, minp, shortp, longp;
        for (i = 0; i < 7; i++) {
            // make the regex if we don't have it already
            mom = createUTC([2000, 1]).day(i);
            minp = this.weekdaysMin(mom, '');
            shortp = this.weekdaysShort(mom, '');
            longp = this.weekdays(mom, '');
            minPieces.push(minp);
            shortPieces.push(shortp);
            longPieces.push(longp);
            mixedPieces.push(minp);
            mixedPieces.push(shortp);
            mixedPieces.push(longp);
        }
        // Sorting makes sure if one weekday (or abbr) is a prefix of another it
        // will match the longer piece.
        minPieces.sort(cmpLenRev);
        shortPieces.sort(cmpLenRev);
        longPieces.sort(cmpLenRev);
        mixedPieces.sort(cmpLenRev);
        for (i = 0; i < 7; i++) {
            shortPieces[i] = regexEscape(shortPieces[i]);
            longPieces[i] = regexEscape(longPieces[i]);
            mixedPieces[i] = regexEscape(mixedPieces[i]);
        }

        this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
        this._weekdaysShortRegex = this._weekdaysRegex;
        this._weekdaysMinRegex = this._weekdaysRegex;

        this._weekdaysStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');
        this._weekdaysShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');
        this._weekdaysMinStrictRegex = new RegExp('^(' + minPieces.join('|') + ')', 'i');
    }

    // FORMATTING

    function hFormat() {
        return this.hours() % 12 || 12;
    }

    function kFormat() {
        return this.hours() || 24;
    }

    addFormatToken('H', ['HH', 2], 0, 'hour');
    addFormatToken('h', ['hh', 2], 0, hFormat);
    addFormatToken('k', ['kk', 2], 0, kFormat);

    addFormatToken('hmm', 0, 0, function () {
        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);
    });

    addFormatToken('hmmss', 0, 0, function () {
        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2) +
            zeroFill(this.seconds(), 2);
    });

    addFormatToken('Hmm', 0, 0, function () {
        return '' + this.hours() + zeroFill(this.minutes(), 2);
    });

    addFormatToken('Hmmss', 0, 0, function () {
        return '' + this.hours() + zeroFill(this.minutes(), 2) +
            zeroFill(this.seconds(), 2);
    });

    function meridiem (token, lowercase) {
        addFormatToken(token, 0, 0, function () {
            return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);
        });
    }

    meridiem('a', true);
    meridiem('A', false);

    // ALIASES

    addUnitAlias('hour', 'h');

    // PRIORITY
    addUnitPriority('hour', 13);

    // PARSING

    function matchMeridiem (isStrict, locale) {
        return locale._meridiemParse;
    }

    addRegexToken('a',  matchMeridiem);
    addRegexToken('A',  matchMeridiem);
    addRegexToken('H',  match1to2);
    addRegexToken('h',  match1to2);
    addRegexToken('k',  match1to2);
    addRegexToken('HH', match1to2, match2);
    addRegexToken('hh', match1to2, match2);
    addRegexToken('kk', match1to2, match2);

    addRegexToken('hmm', match3to4);
    addRegexToken('hmmss', match5to6);
    addRegexToken('Hmm', match3to4);
    addRegexToken('Hmmss', match5to6);

    addParseToken(['H', 'HH'], HOUR);
    addParseToken(['k', 'kk'], function (input, array, config) {
        var kInput = toInt(input);
        array[HOUR] = kInput === 24 ? 0 : kInput;
    });
    addParseToken(['a', 'A'], function (input, array, config) {
        config._isPm = config._locale.isPM(input);
        config._meridiem = input;
    });
    addParseToken(['h', 'hh'], function (input, array, config) {
        array[HOUR] = toInt(input);
        getParsingFlags(config).bigHour = true;
    });
    addParseToken('hmm', function (input, array, config) {
        var pos = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos));
        array[MINUTE] = toInt(input.substr(pos));
        getParsingFlags(config).bigHour = true;
    });
    addParseToken('hmmss', function (input, array, config) {
        var pos1 = input.length - 4;
        var pos2 = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos1));
        array[MINUTE] = toInt(input.substr(pos1, 2));
        array[SECOND] = toInt(input.substr(pos2));
        getParsingFlags(config).bigHour = true;
    });
    addParseToken('Hmm', function (input, array, config) {
        var pos = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos));
        array[MINUTE] = toInt(input.substr(pos));
    });
    addParseToken('Hmmss', function (input, array, config) {
        var pos1 = input.length - 4;
        var pos2 = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos1));
        array[MINUTE] = toInt(input.substr(pos1, 2));
        array[SECOND] = toInt(input.substr(pos2));
    });

    // LOCALES

    function localeIsPM (input) {
        // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays
        // Using charAt should be more compatible.
        return ((input + '').toLowerCase().charAt(0) === 'p');
    }

    var defaultLocaleMeridiemParse = /[ap]\.?m?\.?/i;
    function localeMeridiem (hours, minutes, isLower) {
        if (hours > 11) {
            return isLower ? 'pm' : 'PM';
        } else {
            return isLower ? 'am' : 'AM';
        }
    }


    // MOMENTS

    // Setting the hour should keep the time, because the user explicitly
    // specified which hour they want. So trying to maintain the same hour (in
    // a new timezone) makes sense. Adding/subtracting hours does not follow
    // this rule.
    var getSetHour = makeGetSet('Hours', true);

    var baseConfig = {
        calendar: defaultCalendar,
        longDateFormat: defaultLongDateFormat,
        invalidDate: defaultInvalidDate,
        ordinal: defaultOrdinal,
        dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,
        relativeTime: defaultRelativeTime,

        months: defaultLocaleMonths,
        monthsShort: defaultLocaleMonthsShort,

        week: defaultLocaleWeek,

        weekdays: defaultLocaleWeekdays,
        weekdaysMin: defaultLocaleWeekdaysMin,
        weekdaysShort: defaultLocaleWeekdaysShort,

        meridiemParse: defaultLocaleMeridiemParse
    };

    // internal storage for locale config files
    var locales = {};
    var localeFamilies = {};
    var globalLocale;

    function normalizeLocale(key) {
        return key ? key.toLowerCase().replace('_', '-') : key;
    }

    // pick the locale from the array
    // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each
    // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root
    function chooseLocale(names) {
        var i = 0, j, next, locale, split;

        while (i < names.length) {
            split = normalizeLocale(names[i]).split('-');
            j = split.length;
            next = normalizeLocale(names[i + 1]);
            next = next ? next.split('-') : null;
            while (j > 0) {
                locale = loadLocale(split.slice(0, j).join('-'));
                if (locale) {
                    return locale;
                }
                if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {
                    //the next array item is better than a shallower substring of this one
                    break;
                }
                j--;
            }
            i++;
        }
        return globalLocale;
    }

    function loadLocale(name) {
        var oldLocale = null;
        // TODO: Find a better way to register and load all the locales in Node
        if (!locales[name] && (typeof module !== 'undefined') &&
                module && module.exports) {
            try {
                oldLocale = globalLocale._abbr;
                var aliasedRequire = require;
                !(function webpackMissingModule() { var e = new Error("Cannot find module 'undefined'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
                getSetGlobalLocale(oldLocale);
            } catch (e) {}
        }
        return locales[name];
    }

    // This function will load locale and then set the global locale.  If
    // no arguments are passed in, it will simply return the current global
    // locale key.
    function getSetGlobalLocale (key, values) {
        var data;
        if (key) {
            if (isUndefined(values)) {
                data = getLocale(key);
            }
            else {
                data = defineLocale(key, values);
            }

            if (data) {
                // moment.duration._locale = moment._locale = data;
                globalLocale = data;
            }
            else {
                if ((typeof console !==  'undefined') && console.warn) {
                    //warn user if arguments are passed but the locale could not be set
                    console.warn('Locale ' + key +  ' not found. Did you forget to load it?');
                }
            }
        }

        return globalLocale._abbr;
    }

    function defineLocale (name, config) {
        if (config !== null) {
            var locale, parentConfig = baseConfig;
            config.abbr = name;
            if (locales[name] != null) {
                deprecateSimple('defineLocaleOverride',
                        'use moment.updateLocale(localeName, config) to change ' +
                        'an existing locale. moment.defineLocale(localeName, ' +
                        'config) should only be used for creating a new locale ' +
                        'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.');
                parentConfig = locales[name]._config;
            } else if (config.parentLocale != null) {
                if (locales[config.parentLocale] != null) {
                    parentConfig = locales[config.parentLocale]._config;
                } else {
                    locale = loadLocale(config.parentLocale);
                    if (locale != null) {
                        parentConfig = locale._config;
                    } else {
                        if (!localeFamilies[config.parentLocale]) {
                            localeFamilies[config.parentLocale] = [];
                        }
                        localeFamilies[config.parentLocale].push({
                            name: name,
                            config: config
                        });
                        return null;
                    }
                }
            }
            locales[name] = new Locale(mergeConfigs(parentConfig, config));

            if (localeFamilies[name]) {
                localeFamilies[name].forEach(function (x) {
                    defineLocale(x.name, x.config);
                });
            }

            // backwards compat for now: also set the locale
            // make sure we set the locale AFTER all child locales have been
            // created, so we won't end up with the child locale set.
            getSetGlobalLocale(name);


            return locales[name];
        } else {
            // useful for testing
            delete locales[name];
            return null;
        }
    }

    function updateLocale(name, config) {
        if (config != null) {
            var locale, tmpLocale, parentConfig = baseConfig;
            // MERGE
            tmpLocale = loadLocale(name);
            if (tmpLocale != null) {
                parentConfig = tmpLocale._config;
            }
            config = mergeConfigs(parentConfig, config);
            locale = new Locale(config);
            locale.parentLocale = locales[name];
            locales[name] = locale;

            // backwards compat for now: also set the locale
            getSetGlobalLocale(name);
        } else {
            // pass null for config to unupdate, useful for tests
            if (locales[name] != null) {
                if (locales[name].parentLocale != null) {
                    locales[name] = locales[name].parentLocale;
                } else if (locales[name] != null) {
                    delete locales[name];
                }
            }
        }
        return locales[name];
    }

    // returns locale data
    function getLocale (key) {
        var locale;

        if (key && key._locale && key._locale._abbr) {
            key = key._locale._abbr;
        }

        if (!key) {
            return globalLocale;
        }

        if (!isArray(key)) {
            //short-circuit everything else
            locale = loadLocale(key);
            if (locale) {
                return locale;
            }
            key = [key];
        }

        return chooseLocale(key);
    }

    function listLocales() {
        return keys(locales);
    }

    function checkOverflow (m) {
        var overflow;
        var a = m._a;

        if (a && getParsingFlags(m).overflow === -2) {
            overflow =
                a[MONTH]       < 0 || a[MONTH]       > 11  ? MONTH :
                a[DATE]        < 1 || a[DATE]        > daysInMonth(a[YEAR], a[MONTH]) ? DATE :
                a[HOUR]        < 0 || a[HOUR]        > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :
                a[MINUTE]      < 0 || a[MINUTE]      > 59  ? MINUTE :
                a[SECOND]      < 0 || a[SECOND]      > 59  ? SECOND :
                a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND :
                -1;

            if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {
                overflow = DATE;
            }
            if (getParsingFlags(m)._overflowWeeks && overflow === -1) {
                overflow = WEEK;
            }
            if (getParsingFlags(m)._overflowWeekday && overflow === -1) {
                overflow = WEEKDAY;
            }

            getParsingFlags(m).overflow = overflow;
        }

        return m;
    }

    // Pick the first defined of two or three arguments.
    function defaults(a, b, c) {
        if (a != null) {
            return a;
        }
        if (b != null) {
            return b;
        }
        return c;
    }

    function currentDateArray(config) {
        // hooks is actually the exported moment object
        var nowValue = new Date(hooks.now());
        if (config._useUTC) {
            return [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];
        }
        return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];
    }

    // convert an array to a date.
    // the array should mirror the parameters below
    // note: all values past the year are optional and will default to the lowest possible value.
    // [year, month, day , hour, minute, second, millisecond]
    function configFromArray (config) {
        var i, date, input = [], currentDate, expectedWeekday, yearToUse;

        if (config._d) {
            return;
        }

        currentDate = currentDateArray(config);

        //compute day of the year from weeks and weekdays
        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {
            dayOfYearFromWeekInfo(config);
        }

        //if the day of the year is set, figure out what it is
        if (config._dayOfYear != null) {
            yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);

            if (config._dayOfYear > daysInYear(yearToUse) || config._dayOfYear === 0) {
                getParsingFlags(config)._overflowDayOfYear = true;
            }

            date = createUTCDate(yearToUse, 0, config._dayOfYear);
            config._a[MONTH] = date.getUTCMonth();
            config._a[DATE] = date.getUTCDate();
        }

        // Default to current date.
        // * if no year, month, day of month are given, default to today
        // * if day of month is given, default month and year
        // * if month is given, default only year
        // * if year is given, don't default anything
        for (i = 0; i < 3 && config._a[i] == null; ++i) {
            config._a[i] = input[i] = currentDate[i];
        }

        // Zero out whatever was not defaulted, including time
        for (; i < 7; i++) {
            config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];
        }

        // Check for 24:00:00.000
        if (config._a[HOUR] === 24 &&
                config._a[MINUTE] === 0 &&
                config._a[SECOND] === 0 &&
                config._a[MILLISECOND] === 0) {
            config._nextDay = true;
            config._a[HOUR] = 0;
        }

        config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);
        expectedWeekday = config._useUTC ? config._d.getUTCDay() : config._d.getDay();

        // Apply timezone offset from input. The actual utcOffset can be changed
        // with parseZone.
        if (config._tzm != null) {
            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);
        }

        if (config._nextDay) {
            config._a[HOUR] = 24;
        }

        // check for mismatching day of week
        if (config._w && typeof config._w.d !== 'undefined' && config._w.d !== expectedWeekday) {
            getParsingFlags(config).weekdayMismatch = true;
        }
    }

    function dayOfYearFromWeekInfo(config) {
        var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow;

        w = config._w;
        if (w.GG != null || w.W != null || w.E != null) {
            dow = 1;
            doy = 4;

            // TODO: We need to take the current isoWeekYear, but that depends on
            // how we interpret now (local, utc, fixed offset). So create
            // a now version of current config (take local/utc/offset flags, and
            // create now).
            weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(createLocal(), 1, 4).year);
            week = defaults(w.W, 1);
            weekday = defaults(w.E, 1);
            if (weekday < 1 || weekday > 7) {
                weekdayOverflow = true;
            }
        } else {
            dow = config._locale._week.dow;
            doy = config._locale._week.doy;

            var curWeek = weekOfYear(createLocal(), dow, doy);

            weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);

            // Default to current week.
            week = defaults(w.w, curWeek.week);

            if (w.d != null) {
                // weekday -- low day numbers are considered next week
                weekday = w.d;
                if (weekday < 0 || weekday > 6) {
                    weekdayOverflow = true;
                }
            } else if (w.e != null) {
                // local weekday -- counting starts from beginning of week
                weekday = w.e + dow;
                if (w.e < 0 || w.e > 6) {
                    weekdayOverflow = true;
                }
            } else {
                // default to beginning of week
                weekday = dow;
            }
        }
        if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {
            getParsingFlags(config)._overflowWeeks = true;
        } else if (weekdayOverflow != null) {
            getParsingFlags(config)._overflowWeekday = true;
        } else {
            temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);
            config._a[YEAR] = temp.year;
            config._dayOfYear = temp.dayOfYear;
        }
    }

    // iso 8601 regex
    // 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)
    var extendedIsoRegex = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;
    var basicIsoRegex = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;

    var tzRegex = /Z|[+-]\d\d(?::?\d\d)?/;

    var isoDates = [
        ['YYYYYY-MM-DD', /[+-]\d{6}-\d\d-\d\d/],
        ['YYYY-MM-DD', /\d{4}-\d\d-\d\d/],
        ['GGGG-[W]WW-E', /\d{4}-W\d\d-\d/],
        ['GGGG-[W]WW', /\d{4}-W\d\d/, false],
        ['YYYY-DDD', /\d{4}-\d{3}/],
        ['YYYY-MM', /\d{4}-\d\d/, false],
        ['YYYYYYMMDD', /[+-]\d{10}/],
        ['YYYYMMDD', /\d{8}/],
        // YYYYMM is NOT allowed by the standard
        ['GGGG[W]WWE', /\d{4}W\d{3}/],
        ['GGGG[W]WW', /\d{4}W\d{2}/, false],
        ['YYYYDDD', /\d{7}/]
    ];

    // iso time formats and regexes
    var isoTimes = [
        ['HH:mm:ss.SSSS', /\d\d:\d\d:\d\d\.\d+/],
        ['HH:mm:ss,SSSS', /\d\d:\d\d:\d\d,\d+/],
        ['HH:mm:ss', /\d\d:\d\d:\d\d/],
        ['HH:mm', /\d\d:\d\d/],
        ['HHmmss.SSSS', /\d\d\d\d\d\d\.\d+/],
        ['HHmmss,SSSS', /\d\d\d\d\d\d,\d+/],
        ['HHmmss', /\d\d\d\d\d\d/],
        ['HHmm', /\d\d\d\d/],
        ['HH', /\d\d/]
    ];

    var aspNetJsonRegex = /^\/?Date\((\-?\d+)/i;

    // date from iso format
    function configFromISO(config) {
        var i, l,
            string = config._i,
            match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),
            allowTime, dateFormat, timeFormat, tzFormat;

        if (match) {
            getParsingFlags(config).iso = true;

            for (i = 0, l = isoDates.length; i < l; i++) {
                if (isoDates[i][1].exec(match[1])) {
                    dateFormat = isoDates[i][0];
                    allowTime = isoDates[i][2] !== false;
                    break;
                }
            }
            if (dateFormat == null) {
                config._isValid = false;
                return;
            }
            if (match[3]) {
                for (i = 0, l = isoTimes.length; i < l; i++) {
                    if (isoTimes[i][1].exec(match[3])) {
                        // match[2] should be 'T' or space
                        timeFormat = (match[2] || ' ') + isoTimes[i][0];
                        break;
                    }
                }
                if (timeFormat == null) {
                    config._isValid = false;
                    return;
                }
            }
            if (!allowTime && timeFormat != null) {
                config._isValid = false;
                return;
            }
            if (match[4]) {
                if (tzRegex.exec(match[4])) {
                    tzFormat = 'Z';
                } else {
                    config._isValid = false;
                    return;
                }
            }
            config._f = dateFormat + (timeFormat || '') + (tzFormat || '');
            configFromStringAndFormat(config);
        } else {
            config._isValid = false;
        }
    }

    // RFC 2822 regex: For details see https://tools.ietf.org/html/rfc2822#section-3.3
    var rfc2822 = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;

    function extractFromRFC2822Strings(yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr) {
        var result = [
            untruncateYear(yearStr),
            defaultLocaleMonthsShort.indexOf(monthStr),
            parseInt(dayStr, 10),
            parseInt(hourStr, 10),
            parseInt(minuteStr, 10)
        ];

        if (secondStr) {
            result.push(parseInt(secondStr, 10));
        }

        return result;
    }

    function untruncateYear(yearStr) {
        var year = parseInt(yearStr, 10);
        if (year <= 49) {
            return 2000 + year;
        } else if (year <= 999) {
            return 1900 + year;
        }
        return year;
    }

    function preprocessRFC2822(s) {
        // Remove comments and folding whitespace and replace multiple-spaces with a single space
        return s.replace(/\([^)]*\)|[\n\t]/g, ' ').replace(/(\s\s+)/g, ' ').replace(/^\s\s*/, '').replace(/\s\s*$/, '');
    }

    function checkWeekday(weekdayStr, parsedInput, config) {
        if (weekdayStr) {
            // TODO: Replace the vanilla JS Date object with an indepentent day-of-week check.
            var weekdayProvided = defaultLocaleWeekdaysShort.indexOf(weekdayStr),
                weekdayActual = new Date(parsedInput[0], parsedInput[1], parsedInput[2]).getDay();
            if (weekdayProvided !== weekdayActual) {
                getParsingFlags(config).weekdayMismatch = true;
                config._isValid = false;
                return false;
            }
        }
        return true;
    }

    var obsOffsets = {
        UT: 0,
        GMT: 0,
        EDT: -4 * 60,
        EST: -5 * 60,
        CDT: -5 * 60,
        CST: -6 * 60,
        MDT: -6 * 60,
        MST: -7 * 60,
        PDT: -7 * 60,
        PST: -8 * 60
    };

    function calculateOffset(obsOffset, militaryOffset, numOffset) {
        if (obsOffset) {
            return obsOffsets[obsOffset];
        } else if (militaryOffset) {
            // the only allowed military tz is Z
            return 0;
        } else {
            var hm = parseInt(numOffset, 10);
            var m = hm % 100, h = (hm - m) / 100;
            return h * 60 + m;
        }
    }

    // date and time from ref 2822 format
    function configFromRFC2822(config) {
        var match = rfc2822.exec(preprocessRFC2822(config._i));
        if (match) {
            var parsedArray = extractFromRFC2822Strings(match[4], match[3], match[2], match[5], match[6], match[7]);
            if (!checkWeekday(match[1], parsedArray, config)) {
                return;
            }

            config._a = parsedArray;
            config._tzm = calculateOffset(match[8], match[9], match[10]);

            config._d = createUTCDate.apply(null, config._a);
            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);

            getParsingFlags(config).rfc2822 = true;
        } else {
            config._isValid = false;
        }
    }

    // date from iso format or fallback
    function configFromString(config) {
        var matched = aspNetJsonRegex.exec(config._i);

        if (matched !== null) {
            config._d = new Date(+matched[1]);
            return;
        }

        configFromISO(config);
        if (config._isValid === false) {
            delete config._isValid;
        } else {
            return;
        }

        configFromRFC2822(config);
        if (config._isValid === false) {
            delete config._isValid;
        } else {
            return;
        }

        // Final attempt, use Input Fallback
        hooks.createFromInputFallback(config);
    }

    hooks.createFromInputFallback = deprecate(
        'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' +
        'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' +
        'discouraged and will be removed in an upcoming major release. Please refer to ' +
        'http://momentjs.com/guides/#/warnings/js-date/ for more info.',
        function (config) {
            config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));
        }
    );

    // constant that refers to the ISO standard
    hooks.ISO_8601 = function () {};

    // constant that refers to the RFC 2822 form
    hooks.RFC_2822 = function () {};

    // date from string and format string
    function configFromStringAndFormat(config) {
        // TODO: Move this to another part of the creation flow to prevent circular deps
        if (config._f === hooks.ISO_8601) {
            configFromISO(config);
            return;
        }
        if (config._f === hooks.RFC_2822) {
            configFromRFC2822(config);
            return;
        }
        config._a = [];
        getParsingFlags(config).empty = true;

        // This array is used to make a Date, either with `new Date` or `Date.UTC`
        var string = '' + config._i,
            i, parsedInput, tokens, token, skipped,
            stringLength = string.length,
            totalParsedInputLength = 0;

        tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];

        for (i = 0; i < tokens.length; i++) {
            token = tokens[i];
            parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];
            // console.log('token', token, 'parsedInput', parsedInput,
            //         'regex', getParseRegexForToken(token, config));
            if (parsedInput) {
                skipped = string.substr(0, string.indexOf(parsedInput));
                if (skipped.length > 0) {
                    getParsingFlags(config).unusedInput.push(skipped);
                }
                string = string.slice(string.indexOf(parsedInput) + parsedInput.length);
                totalParsedInputLength += parsedInput.length;
            }
            // don't parse if it's not a known token
            if (formatTokenFunctions[token]) {
                if (parsedInput) {
                    getParsingFlags(config).empty = false;
                }
                else {
                    getParsingFlags(config).unusedTokens.push(token);
                }
                addTimeToArrayFromToken(token, parsedInput, config);
            }
            else if (config._strict && !parsedInput) {
                getParsingFlags(config).unusedTokens.push(token);
            }
        }

        // add remaining unparsed input length to the string
        getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;
        if (string.length > 0) {
            getParsingFlags(config).unusedInput.push(string);
        }

        // clear _12h flag if hour is <= 12
        if (config._a[HOUR] <= 12 &&
            getParsingFlags(config).bigHour === true &&
            config._a[HOUR] > 0) {
            getParsingFlags(config).bigHour = undefined;
        }

        getParsingFlags(config).parsedDateParts = config._a.slice(0);
        getParsingFlags(config).meridiem = config._meridiem;
        // handle meridiem
        config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);

        configFromArray(config);
        checkOverflow(config);
    }


    function meridiemFixWrap (locale, hour, meridiem) {
        var isPm;

        if (meridiem == null) {
            // nothing to do
            return hour;
        }
        if (locale.meridiemHour != null) {
            return locale.meridiemHour(hour, meridiem);
        } else if (locale.isPM != null) {
            // Fallback
            isPm = locale.isPM(meridiem);
            if (isPm && hour < 12) {
                hour += 12;
            }
            if (!isPm && hour === 12) {
                hour = 0;
            }
            return hour;
        } else {
            // this is not supposed to happen
            return hour;
        }
    }

    // date from string and array of format strings
    function configFromStringAndArray(config) {
        var tempConfig,
            bestMoment,

            scoreToBeat,
            i,
            currentScore;

        if (config._f.length === 0) {
            getParsingFlags(config).invalidFormat = true;
            config._d = new Date(NaN);
            return;
        }

        for (i = 0; i < config._f.length; i++) {
            currentScore = 0;
            tempConfig = copyConfig({}, config);
            if (config._useUTC != null) {
                tempConfig._useUTC = config._useUTC;
            }
            tempConfig._f = config._f[i];
            configFromStringAndFormat(tempConfig);

            if (!isValid(tempConfig)) {
                continue;
            }

            // if there is any input that was not parsed add a penalty for that format
            currentScore += getParsingFlags(tempConfig).charsLeftOver;

            //or tokens
            currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;

            getParsingFlags(tempConfig).score = currentScore;

            if (scoreToBeat == null || currentScore < scoreToBeat) {
                scoreToBeat = currentScore;
                bestMoment = tempConfig;
            }
        }

        extend(config, bestMoment || tempConfig);
    }

    function configFromObject(config) {
        if (config._d) {
            return;
        }

        var i = normalizeObjectUnits(config._i);
        config._a = map([i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond], function (obj) {
            return obj && parseInt(obj, 10);
        });

        configFromArray(config);
    }

    function createFromConfig (config) {
        var res = new Moment(checkOverflow(prepareConfig(config)));
        if (res._nextDay) {
            // Adding is smart enough around DST
            res.add(1, 'd');
            res._nextDay = undefined;
        }

        return res;
    }

    function prepareConfig (config) {
        var input = config._i,
            format = config._f;

        config._locale = config._locale || getLocale(config._l);

        if (input === null || (format === undefined && input === '')) {
            return createInvalid({nullInput: true});
        }

        if (typeof input === 'string') {
            config._i = input = config._locale.preparse(input);
        }

        if (isMoment(input)) {
            return new Moment(checkOverflow(input));
        } else if (isDate(input)) {
            config._d = input;
        } else if (isArray(format)) {
            configFromStringAndArray(config);
        } else if (format) {
            configFromStringAndFormat(config);
        }  else {
            configFromInput(config);
        }

        if (!isValid(config)) {
            config._d = null;
        }

        return config;
    }

    function configFromInput(config) {
        var input = config._i;
        if (isUndefined(input)) {
            config._d = new Date(hooks.now());
        } else if (isDate(input)) {
            config._d = new Date(input.valueOf());
        } else if (typeof input === 'string') {
            configFromString(config);
        } else if (isArray(input)) {
            config._a = map(input.slice(0), function (obj) {
                return parseInt(obj, 10);
            });
            configFromArray(config);
        } else if (isObject(input)) {
            configFromObject(config);
        } else if (isNumber(input)) {
            // from milliseconds
            config._d = new Date(input);
        } else {
            hooks.createFromInputFallback(config);
        }
    }

    function createLocalOrUTC (input, format, locale, strict, isUTC) {
        var c = {};

        if (locale === true || locale === false) {
            strict = locale;
            locale = undefined;
        }

        if ((isObject(input) && isObjectEmpty(input)) ||
                (isArray(input) && input.length === 0)) {
            input = undefined;
        }
        // object construction must be done this way.
        // https://github.com/moment/moment/issues/1423
        c._isAMomentObject = true;
        c._useUTC = c._isUTC = isUTC;
        c._l = locale;
        c._i = input;
        c._f = format;
        c._strict = strict;

        return createFromConfig(c);
    }

    function createLocal (input, format, locale, strict) {
        return createLocalOrUTC(input, format, locale, strict, false);
    }

    var prototypeMin = deprecate(
        'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',
        function () {
            var other = createLocal.apply(null, arguments);
            if (this.isValid() && other.isValid()) {
                return other < this ? this : other;
            } else {
                return createInvalid();
            }
        }
    );

    var prototypeMax = deprecate(
        'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',
        function () {
            var other = createLocal.apply(null, arguments);
            if (this.isValid() && other.isValid()) {
                return other > this ? this : other;
            } else {
                return createInvalid();
            }
        }
    );

    // Pick a moment m from moments so that m[fn](other) is true for all
    // other. This relies on the function fn to be transitive.
    //
    // moments should either be an array of moment objects or an array, whose
    // first element is an array of moment objects.
    function pickBy(fn, moments) {
        var res, i;
        if (moments.length === 1 && isArray(moments[0])) {
            moments = moments[0];
        }
        if (!moments.length) {
            return createLocal();
        }
        res = moments[0];
        for (i = 1; i < moments.length; ++i) {
            if (!moments[i].isValid() || moments[i][fn](res)) {
                res = moments[i];
            }
        }
        return res;
    }

    // TODO: Use [].sort instead?
    function min () {
        var args = [].slice.call(arguments, 0);

        return pickBy('isBefore', args);
    }

    function max () {
        var args = [].slice.call(arguments, 0);

        return pickBy('isAfter', args);
    }

    var now = function () {
        return Date.now ? Date.now() : +(new Date());
    };

    var ordering = ['year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second', 'millisecond'];

    function isDurationValid(m) {
        for (var key in m) {
            if (!(indexOf.call(ordering, key) !== -1 && (m[key] == null || !isNaN(m[key])))) {
                return false;
            }
        }

        var unitHasDecimal = false;
        for (var i = 0; i < ordering.length; ++i) {
            if (m[ordering[i]]) {
                if (unitHasDecimal) {
                    return false; // only allow non-integers for smallest unit
                }
                if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {
                    unitHasDecimal = true;
                }
            }
        }

        return true;
    }

    function isValid$1() {
        return this._isValid;
    }

    function createInvalid$1() {
        return createDuration(NaN);
    }

    function Duration (duration) {
        var normalizedInput = normalizeObjectUnits(duration),
            years = normalizedInput.year || 0,
            quarters = normalizedInput.quarter || 0,
            months = normalizedInput.month || 0,
            weeks = normalizedInput.week || normalizedInput.isoWeek || 0,
            days = normalizedInput.day || 0,
            hours = normalizedInput.hour || 0,
            minutes = normalizedInput.minute || 0,
            seconds = normalizedInput.second || 0,
            milliseconds = normalizedInput.millisecond || 0;

        this._isValid = isDurationValid(normalizedInput);

        // representation for dateAddRemove
        this._milliseconds = +milliseconds +
            seconds * 1e3 + // 1000
            minutes * 6e4 + // 1000 * 60
            hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978
        // Because of dateAddRemove treats 24 hours as different from a
        // day when working around DST, we need to store them separately
        this._days = +days +
            weeks * 7;
        // It is impossible to translate months into days without knowing
        // which months you are are talking about, so we have to store
        // it separately.
        this._months = +months +
            quarters * 3 +
            years * 12;

        this._data = {};

        this._locale = getLocale();

        this._bubble();
    }

    function isDuration (obj) {
        return obj instanceof Duration;
    }

    function absRound (number) {
        if (number < 0) {
            return Math.round(-1 * number) * -1;
        } else {
            return Math.round(number);
        }
    }

    // FORMATTING

    function offset (token, separator) {
        addFormatToken(token, 0, 0, function () {
            var offset = this.utcOffset();
            var sign = '+';
            if (offset < 0) {
                offset = -offset;
                sign = '-';
            }
            return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);
        });
    }

    offset('Z', ':');
    offset('ZZ', '');

    // PARSING

    addRegexToken('Z',  matchShortOffset);
    addRegexToken('ZZ', matchShortOffset);
    addParseToken(['Z', 'ZZ'], function (input, array, config) {
        config._useUTC = true;
        config._tzm = offsetFromString(matchShortOffset, input);
    });

    // HELPERS

    // timezone chunker
    // '+10:00' > ['10',  '00']
    // '-1530'  > ['-15', '30']
    var chunkOffset = /([\+\-]|\d\d)/gi;

    function offsetFromString(matcher, string) {
        var matches = (string || '').match(matcher);

        if (matches === null) {
            return null;
        }

        var chunk   = matches[matches.length - 1] || [];
        var parts   = (chunk + '').match(chunkOffset) || ['-', 0, 0];
        var minutes = +(parts[1] * 60) + toInt(parts[2]);

        return minutes === 0 ?
          0 :
          parts[0] === '+' ? minutes : -minutes;
    }

    // Return a moment from input, that is local/utc/zone equivalent to model.
    function cloneWithOffset(input, model) {
        var res, diff;
        if (model._isUTC) {
            res = model.clone();
            diff = (isMoment(input) || isDate(input) ? input.valueOf() : createLocal(input).valueOf()) - res.valueOf();
            // Use low-level api, because this fn is low-level api.
            res._d.setTime(res._d.valueOf() + diff);
            hooks.updateOffset(res, false);
            return res;
        } else {
            return createLocal(input).local();
        }
    }

    function getDateOffset (m) {
        // On Firefox.24 Date#getTimezoneOffset returns a floating point.
        // https://github.com/moment/moment/pull/1871
        return -Math.round(m._d.getTimezoneOffset() / 15) * 15;
    }

    // HOOKS

    // This function will be called whenever a moment is mutated.
    // It is intended to keep the offset in sync with the timezone.
    hooks.updateOffset = function () {};

    // MOMENTS

    // keepLocalTime = true means only change the timezone, without
    // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->
    // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset
    // +0200, so we adjust the time as needed, to be valid.
    //
    // Keeping the time actually adds/subtracts (one hour)
    // from the actual represented time. That is why we call updateOffset
    // a second time. In case it wants us to change the offset again
    // _changeInProgress == true case, then we have to adjust, because
    // there is no such time in the given timezone.
    function getSetOffset (input, keepLocalTime, keepMinutes) {
        var offset = this._offset || 0,
            localAdjust;
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }
        if (input != null) {
            if (typeof input === 'string') {
                input = offsetFromString(matchShortOffset, input);
                if (input === null) {
                    return this;
                }
            } else if (Math.abs(input) < 16 && !keepMinutes) {
                input = input * 60;
            }
            if (!this._isUTC && keepLocalTime) {
                localAdjust = getDateOffset(this);
            }
            this._offset = input;
            this._isUTC = true;
            if (localAdjust != null) {
                this.add(localAdjust, 'm');
            }
            if (offset !== input) {
                if (!keepLocalTime || this._changeInProgress) {
                    addSubtract(this, createDuration(input - offset, 'm'), 1, false);
                } else if (!this._changeInProgress) {
                    this._changeInProgress = true;
                    hooks.updateOffset(this, true);
                    this._changeInProgress = null;
                }
            }
            return this;
        } else {
            return this._isUTC ? offset : getDateOffset(this);
        }
    }

    function getSetZone (input, keepLocalTime) {
        if (input != null) {
            if (typeof input !== 'string') {
                input = -input;
            }

            this.utcOffset(input, keepLocalTime);

            return this;
        } else {
            return -this.utcOffset();
        }
    }

    function setOffsetToUTC (keepLocalTime) {
        return this.utcOffset(0, keepLocalTime);
    }

    function setOffsetToLocal (keepLocalTime) {
        if (this._isUTC) {
            this.utcOffset(0, keepLocalTime);
            this._isUTC = false;

            if (keepLocalTime) {
                this.subtract(getDateOffset(this), 'm');
            }
        }
        return this;
    }

    function setOffsetToParsedOffset () {
        if (this._tzm != null) {
            this.utcOffset(this._tzm, false, true);
        } else if (typeof this._i === 'string') {
            var tZone = offsetFromString(matchOffset, this._i);
            if (tZone != null) {
                this.utcOffset(tZone);
            }
            else {
                this.utcOffset(0, true);
            }
        }
        return this;
    }

    function hasAlignedHourOffset (input) {
        if (!this.isValid()) {
            return false;
        }
        input = input ? createLocal(input).utcOffset() : 0;

        return (this.utcOffset() - input) % 60 === 0;
    }

    function isDaylightSavingTime () {
        return (
            this.utcOffset() > this.clone().month(0).utcOffset() ||
            this.utcOffset() > this.clone().month(5).utcOffset()
        );
    }

    function isDaylightSavingTimeShifted () {
        if (!isUndefined(this._isDSTShifted)) {
            return this._isDSTShifted;
        }

        var c = {};

        copyConfig(c, this);
        c = prepareConfig(c);

        if (c._a) {
            var other = c._isUTC ? createUTC(c._a) : createLocal(c._a);
            this._isDSTShifted = this.isValid() &&
                compareArrays(c._a, other.toArray()) > 0;
        } else {
            this._isDSTShifted = false;
        }

        return this._isDSTShifted;
    }

    function isLocal () {
        return this.isValid() ? !this._isUTC : false;
    }

    function isUtcOffset () {
        return this.isValid() ? this._isUTC : false;
    }

    function isUtc () {
        return this.isValid() ? this._isUTC && this._offset === 0 : false;
    }

    // ASP.NET json date format regex
    var aspNetRegex = /^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/;

    // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html
    // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere
    // and further modified to allow for strings containing both week and day
    var isoRegex = /^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;

    function createDuration (input, key) {
        var duration = input,
            // matching against regexp is expensive, do it on demand
            match = null,
            sign,
            ret,
            diffRes;

        if (isDuration(input)) {
            duration = {
                ms : input._milliseconds,
                d  : input._days,
                M  : input._months
            };
        } else if (isNumber(input)) {
            duration = {};
            if (key) {
                duration[key] = input;
            } else {
                duration.milliseconds = input;
            }
        } else if (!!(match = aspNetRegex.exec(input))) {
            sign = (match[1] === '-') ? -1 : 1;
            duration = {
                y  : 0,
                d  : toInt(match[DATE])                         * sign,
                h  : toInt(match[HOUR])                         * sign,
                m  : toInt(match[MINUTE])                       * sign,
                s  : toInt(match[SECOND])                       * sign,
                ms : toInt(absRound(match[MILLISECOND] * 1000)) * sign // the millisecond decimal point is included in the match
            };
        } else if (!!(match = isoRegex.exec(input))) {
            sign = (match[1] === '-') ? -1 : 1;
            duration = {
                y : parseIso(match[2], sign),
                M : parseIso(match[3], sign),
                w : parseIso(match[4], sign),
                d : parseIso(match[5], sign),
                h : parseIso(match[6], sign),
                m : parseIso(match[7], sign),
                s : parseIso(match[8], sign)
            };
        } else if (duration == null) {// checks for null or undefined
            duration = {};
        } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {
            diffRes = momentsDifference(createLocal(duration.from), createLocal(duration.to));

            duration = {};
            duration.ms = diffRes.milliseconds;
            duration.M = diffRes.months;
        }

        ret = new Duration(duration);

        if (isDuration(input) && hasOwnProp(input, '_locale')) {
            ret._locale = input._locale;
        }

        return ret;
    }

    createDuration.fn = Duration.prototype;
    createDuration.invalid = createInvalid$1;

    function parseIso (inp, sign) {
        // We'd normally use ~~inp for this, but unfortunately it also
        // converts floats to ints.
        // inp may be undefined, so careful calling replace on it.
        var res = inp && parseFloat(inp.replace(',', '.'));
        // apply sign while we're at it
        return (isNaN(res) ? 0 : res) * sign;
    }

    function positiveMomentsDifference(base, other) {
        var res = {};

        res.months = other.month() - base.month() +
            (other.year() - base.year()) * 12;
        if (base.clone().add(res.months, 'M').isAfter(other)) {
            --res.months;
        }

        res.milliseconds = +other - +(base.clone().add(res.months, 'M'));

        return res;
    }

    function momentsDifference(base, other) {
        var res;
        if (!(base.isValid() && other.isValid())) {
            return {milliseconds: 0, months: 0};
        }

        other = cloneWithOffset(other, base);
        if (base.isBefore(other)) {
            res = positiveMomentsDifference(base, other);
        } else {
            res = positiveMomentsDifference(other, base);
            res.milliseconds = -res.milliseconds;
            res.months = -res.months;
        }

        return res;
    }

    // TODO: remove 'name' arg after deprecation is removed
    function createAdder(direction, name) {
        return function (val, period) {
            var dur, tmp;
            //invert the arguments, but complain about it
            if (period !== null && !isNaN(+period)) {
                deprecateSimple(name, 'moment().' + name  + '(period, number) is deprecated. Please use moment().' + name + '(number, period). ' +
                'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.');
                tmp = val; val = period; period = tmp;
            }

            val = typeof val === 'string' ? +val : val;
            dur = createDuration(val, period);
            addSubtract(this, dur, direction);
            return this;
        };
    }

    function addSubtract (mom, duration, isAdding, updateOffset) {
        var milliseconds = duration._milliseconds,
            days = absRound(duration._days),
            months = absRound(duration._months);

        if (!mom.isValid()) {
            // No op
            return;
        }

        updateOffset = updateOffset == null ? true : updateOffset;

        if (months) {
            setMonth(mom, get(mom, 'Month') + months * isAdding);
        }
        if (days) {
            set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);
        }
        if (milliseconds) {
            mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);
        }
        if (updateOffset) {
            hooks.updateOffset(mom, days || months);
        }
    }

    var add      = createAdder(1, 'add');
    var subtract = createAdder(-1, 'subtract');

    function getCalendarFormat(myMoment, now) {
        var diff = myMoment.diff(now, 'days', true);
        return diff < -6 ? 'sameElse' :
                diff < -1 ? 'lastWeek' :
                diff < 0 ? 'lastDay' :
                diff < 1 ? 'sameDay' :
                diff < 2 ? 'nextDay' :
                diff < 7 ? 'nextWeek' : 'sameElse';
    }

    function calendar$1 (time, formats) {
        // We want to compare the start of today, vs this.
        // Getting start-of-today depends on whether we're local/utc/offset or not.
        var now = time || createLocal(),
            sod = cloneWithOffset(now, this).startOf('day'),
            format = hooks.calendarFormat(this, sod) || 'sameElse';

        var output = formats && (isFunction(formats[format]) ? formats[format].call(this, now) : formats[format]);

        return this.format(output || this.localeData().calendar(format, this, createLocal(now)));
    }

    function clone () {
        return new Moment(this);
    }

    function isAfter (input, units) {
        var localInput = isMoment(input) ? input : createLocal(input);
        if (!(this.isValid() && localInput.isValid())) {
            return false;
        }
        units = normalizeUnits(units) || 'millisecond';
        if (units === 'millisecond') {
            return this.valueOf() > localInput.valueOf();
        } else {
            return localInput.valueOf() < this.clone().startOf(units).valueOf();
        }
    }

    function isBefore (input, units) {
        var localInput = isMoment(input) ? input : createLocal(input);
        if (!(this.isValid() && localInput.isValid())) {
            return false;
        }
        units = normalizeUnits(units) || 'millisecond';
        if (units === 'millisecond') {
            return this.valueOf() < localInput.valueOf();
        } else {
            return this.clone().endOf(units).valueOf() < localInput.valueOf();
        }
    }

    function isBetween (from, to, units, inclusivity) {
        var localFrom = isMoment(from) ? from : createLocal(from),
            localTo = isMoment(to) ? to : createLocal(to);
        if (!(this.isValid() && localFrom.isValid() && localTo.isValid())) {
            return false;
        }
        inclusivity = inclusivity || '()';
        return (inclusivity[0] === '(' ? this.isAfter(localFrom, units) : !this.isBefore(localFrom, units)) &&
            (inclusivity[1] === ')' ? this.isBefore(localTo, units) : !this.isAfter(localTo, units));
    }

    function isSame (input, units) {
        var localInput = isMoment(input) ? input : createLocal(input),
            inputMs;
        if (!(this.isValid() && localInput.isValid())) {
            return false;
        }
        units = normalizeUnits(units) || 'millisecond';
        if (units === 'millisecond') {
            return this.valueOf() === localInput.valueOf();
        } else {
            inputMs = localInput.valueOf();
            return this.clone().startOf(units).valueOf() <= inputMs && inputMs <= this.clone().endOf(units).valueOf();
        }
    }

    function isSameOrAfter (input, units) {
        return this.isSame(input, units) || this.isAfter(input, units);
    }

    function isSameOrBefore (input, units) {
        return this.isSame(input, units) || this.isBefore(input, units);
    }

    function diff (input, units, asFloat) {
        var that,
            zoneDelta,
            output;

        if (!this.isValid()) {
            return NaN;
        }

        that = cloneWithOffset(input, this);

        if (!that.isValid()) {
            return NaN;
        }

        zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;

        units = normalizeUnits(units);

        switch (units) {
            case 'year': output = monthDiff(this, that) / 12; break;
            case 'month': output = monthDiff(this, that); break;
            case 'quarter': output = monthDiff(this, that) / 3; break;
            case 'second': output = (this - that) / 1e3; break; // 1000
            case 'minute': output = (this - that) / 6e4; break; // 1000 * 60
            case 'hour': output = (this - that) / 36e5; break; // 1000 * 60 * 60
            case 'day': output = (this - that - zoneDelta) / 864e5; break; // 1000 * 60 * 60 * 24, negate dst
            case 'week': output = (this - that - zoneDelta) / 6048e5; break; // 1000 * 60 * 60 * 24 * 7, negate dst
            default: output = this - that;
        }

        return asFloat ? output : absFloor(output);
    }

    function monthDiff (a, b) {
        // difference in months
        var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),
            // b is in (anchor - 1 month, anchor + 1 month)
            anchor = a.clone().add(wholeMonthDiff, 'months'),
            anchor2, adjust;

        if (b - anchor < 0) {
            anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');
            // linear across the month
            adjust = (b - anchor) / (anchor - anchor2);
        } else {
            anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');
            // linear across the month
            adjust = (b - anchor) / (anchor2 - anchor);
        }

        //check for negative zero, return zero if negative zero
        return -(wholeMonthDiff + adjust) || 0;
    }

    hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';
    hooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';

    function toString () {
        return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');
    }

    function toISOString(keepOffset) {
        if (!this.isValid()) {
            return null;
        }
        var utc = keepOffset !== true;
        var m = utc ? this.clone().utc() : this;
        if (m.year() < 0 || m.year() > 9999) {
            return formatMoment(m, utc ? 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ');
        }
        if (isFunction(Date.prototype.toISOString)) {
            // native implementation is ~50x faster, use it when we can
            if (utc) {
                return this.toDate().toISOString();
            } else {
                return new Date(this.valueOf() + this.utcOffset() * 60 * 1000).toISOString().replace('Z', formatMoment(m, 'Z'));
            }
        }
        return formatMoment(m, utc ? 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYY-MM-DD[T]HH:mm:ss.SSSZ');
    }

    /**
     * Return a human readable representation of a moment that can
     * also be evaluated to get a new moment which is the same
     *
     * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects
     */
    function inspect () {
        if (!this.isValid()) {
            return 'moment.invalid(/* ' + this._i + ' */)';
        }
        var func = 'moment';
        var zone = '';
        if (!this.isLocal()) {
            func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';
            zone = 'Z';
        }
        var prefix = '[' + func + '("]';
        var year = (0 <= this.year() && this.year() <= 9999) ? 'YYYY' : 'YYYYYY';
        var datetime = '-MM-DD[T]HH:mm:ss.SSS';
        var suffix = zone + '[")]';

        return this.format(prefix + year + datetime + suffix);
    }

    function format (inputString) {
        if (!inputString) {
            inputString = this.isUtc() ? hooks.defaultFormatUtc : hooks.defaultFormat;
        }
        var output = formatMoment(this, inputString);
        return this.localeData().postformat(output);
    }

    function from (time, withoutSuffix) {
        if (this.isValid() &&
                ((isMoment(time) && time.isValid()) ||
                 createLocal(time).isValid())) {
            return createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);
        } else {
            return this.localeData().invalidDate();
        }
    }

    function fromNow (withoutSuffix) {
        return this.from(createLocal(), withoutSuffix);
    }

    function to (time, withoutSuffix) {
        if (this.isValid() &&
                ((isMoment(time) && time.isValid()) ||
                 createLocal(time).isValid())) {
            return createDuration({from: this, to: time}).locale(this.locale()).humanize(!withoutSuffix);
        } else {
            return this.localeData().invalidDate();
        }
    }

    function toNow (withoutSuffix) {
        return this.to(createLocal(), withoutSuffix);
    }

    // If passed a locale key, it will set the locale for this
    // instance.  Otherwise, it will return the locale configuration
    // variables for this instance.
    function locale (key) {
        var newLocaleData;

        if (key === undefined) {
            return this._locale._abbr;
        } else {
            newLocaleData = getLocale(key);
            if (newLocaleData != null) {
                this._locale = newLocaleData;
            }
            return this;
        }
    }

    var lang = deprecate(
        'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',
        function (key) {
            if (key === undefined) {
                return this.localeData();
            } else {
                return this.locale(key);
            }
        }
    );

    function localeData () {
        return this._locale;
    }

    var MS_PER_SECOND = 1000;
    var MS_PER_MINUTE = 60 * MS_PER_SECOND;
    var MS_PER_HOUR = 60 * MS_PER_MINUTE;
    var MS_PER_400_YEARS = (365 * 400 + 97) * 24 * MS_PER_HOUR;

    // actual modulo - handles negative numbers (for dates before 1970):
    function mod$1(dividend, divisor) {
        return (dividend % divisor + divisor) % divisor;
    }

    function localStartOfDate(y, m, d) {
        // the date constructor remaps years 0-99 to 1900-1999
        if (y < 100 && y >= 0) {
            // preserve leap years using a full 400 year cycle, then reset
            return new Date(y + 400, m, d) - MS_PER_400_YEARS;
        } else {
            return new Date(y, m, d).valueOf();
        }
    }

    function utcStartOfDate(y, m, d) {
        // Date.UTC remaps years 0-99 to 1900-1999
        if (y < 100 && y >= 0) {
            // preserve leap years using a full 400 year cycle, then reset
            return Date.UTC(y + 400, m, d) - MS_PER_400_YEARS;
        } else {
            return Date.UTC(y, m, d);
        }
    }

    function startOf (units) {
        var time;
        units = normalizeUnits(units);
        if (units === undefined || units === 'millisecond' || !this.isValid()) {
            return this;
        }

        var startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;

        switch (units) {
            case 'year':
                time = startOfDate(this.year(), 0, 1);
                break;
            case 'quarter':
                time = startOfDate(this.year(), this.month() - this.month() % 3, 1);
                break;
            case 'month':
                time = startOfDate(this.year(), this.month(), 1);
                break;
            case 'week':
                time = startOfDate(this.year(), this.month(), this.date() - this.weekday());
                break;
            case 'isoWeek':
                time = startOfDate(this.year(), this.month(), this.date() - (this.isoWeekday() - 1));
                break;
            case 'day':
            case 'date':
                time = startOfDate(this.year(), this.month(), this.date());
                break;
            case 'hour':
                time = this._d.valueOf();
                time -= mod$1(time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE), MS_PER_HOUR);
                break;
            case 'minute':
                time = this._d.valueOf();
                time -= mod$1(time, MS_PER_MINUTE);
                break;
            case 'second':
                time = this._d.valueOf();
                time -= mod$1(time, MS_PER_SECOND);
                break;
        }

        this._d.setTime(time);
        hooks.updateOffset(this, true);
        return this;
    }

    function endOf (units) {
        var time;
        units = normalizeUnits(units);
        if (units === undefined || units === 'millisecond' || !this.isValid()) {
            return this;
        }

        var startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;

        switch (units) {
            case 'year':
                time = startOfDate(this.year() + 1, 0, 1) - 1;
                break;
            case 'quarter':
                time = startOfDate(this.year(), this.month() - this.month() % 3 + 3, 1) - 1;
                break;
            case 'month':
                time = startOfDate(this.year(), this.month() + 1, 1) - 1;
                break;
            case 'week':
                time = startOfDate(this.year(), this.month(), this.date() - this.weekday() + 7) - 1;
                break;
            case 'isoWeek':
                time = startOfDate(this.year(), this.month(), this.date() - (this.isoWeekday() - 1) + 7) - 1;
                break;
            case 'day':
            case 'date':
                time = startOfDate(this.year(), this.month(), this.date() + 1) - 1;
                break;
            case 'hour':
                time = this._d.valueOf();
                time += MS_PER_HOUR - mod$1(time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE), MS_PER_HOUR) - 1;
                break;
            case 'minute':
                time = this._d.valueOf();
                time += MS_PER_MINUTE - mod$1(time, MS_PER_MINUTE) - 1;
                break;
            case 'second':
                time = this._d.valueOf();
                time += MS_PER_SECOND - mod$1(time, MS_PER_SECOND) - 1;
                break;
        }

        this._d.setTime(time);
        hooks.updateOffset(this, true);
        return this;
    }

    function valueOf () {
        return this._d.valueOf() - ((this._offset || 0) * 60000);
    }

    function unix () {
        return Math.floor(this.valueOf() / 1000);
    }

    function toDate () {
        return new Date(this.valueOf());
    }

    function toArray () {
        var m = this;
        return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];
    }

    function toObject () {
        var m = this;
        return {
            years: m.year(),
            months: m.month(),
            date: m.date(),
            hours: m.hours(),
            minutes: m.minutes(),
            seconds: m.seconds(),
            milliseconds: m.milliseconds()
        };
    }

    function toJSON () {
        // new Date(NaN).toJSON() === null
        return this.isValid() ? this.toISOString() : null;
    }

    function isValid$2 () {
        return isValid(this);
    }

    function parsingFlags () {
        return extend({}, getParsingFlags(this));
    }

    function invalidAt () {
        return getParsingFlags(this).overflow;
    }

    function creationData() {
        return {
            input: this._i,
            format: this._f,
            locale: this._locale,
            isUTC: this._isUTC,
            strict: this._strict
        };
    }

    // FORMATTING

    addFormatToken(0, ['gg', 2], 0, function () {
        return this.weekYear() % 100;
    });

    addFormatToken(0, ['GG', 2], 0, function () {
        return this.isoWeekYear() % 100;
    });

    function addWeekYearFormatToken (token, getter) {
        addFormatToken(0, [token, token.length], 0, getter);
    }

    addWeekYearFormatToken('gggg',     'weekYear');
    addWeekYearFormatToken('ggggg',    'weekYear');
    addWeekYearFormatToken('GGGG',  'isoWeekYear');
    addWeekYearFormatToken('GGGGG', 'isoWeekYear');

    // ALIASES

    addUnitAlias('weekYear', 'gg');
    addUnitAlias('isoWeekYear', 'GG');

    // PRIORITY

    addUnitPriority('weekYear', 1);
    addUnitPriority('isoWeekYear', 1);


    // PARSING

    addRegexToken('G',      matchSigned);
    addRegexToken('g',      matchSigned);
    addRegexToken('GG',     match1to2, match2);
    addRegexToken('gg',     match1to2, match2);
    addRegexToken('GGGG',   match1to4, match4);
    addRegexToken('gggg',   match1to4, match4);
    addRegexToken('GGGGG',  match1to6, match6);
    addRegexToken('ggggg',  match1to6, match6);

    addWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {
        week[token.substr(0, 2)] = toInt(input);
    });

    addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {
        week[token] = hooks.parseTwoDigitYear(input);
    });

    // MOMENTS

    function getSetWeekYear (input) {
        return getSetWeekYearHelper.call(this,
                input,
                this.week(),
                this.weekday(),
                this.localeData()._week.dow,
                this.localeData()._week.doy);
    }

    function getSetISOWeekYear (input) {
        return getSetWeekYearHelper.call(this,
                input, this.isoWeek(), this.isoWeekday(), 1, 4);
    }

    function getISOWeeksInYear () {
        return weeksInYear(this.year(), 1, 4);
    }

    function getWeeksInYear () {
        var weekInfo = this.localeData()._week;
        return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);
    }

    function getSetWeekYearHelper(input, week, weekday, dow, doy) {
        var weeksTarget;
        if (input == null) {
            return weekOfYear(this, dow, doy).year;
        } else {
            weeksTarget = weeksInYear(input, dow, doy);
            if (week > weeksTarget) {
                week = weeksTarget;
            }
            return setWeekAll.call(this, input, week, weekday, dow, doy);
        }
    }

    function setWeekAll(weekYear, week, weekday, dow, doy) {
        var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),
            date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);

        this.year(date.getUTCFullYear());
        this.month(date.getUTCMonth());
        this.date(date.getUTCDate());
        return this;
    }

    // FORMATTING

    addFormatToken('Q', 0, 'Qo', 'quarter');

    // ALIASES

    addUnitAlias('quarter', 'Q');

    // PRIORITY

    addUnitPriority('quarter', 7);

    // PARSING

    addRegexToken('Q', match1);
    addParseToken('Q', function (input, array) {
        array[MONTH] = (toInt(input) - 1) * 3;
    });

    // MOMENTS

    function getSetQuarter (input) {
        return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);
    }

    // FORMATTING

    addFormatToken('D', ['DD', 2], 'Do', 'date');

    // ALIASES

    addUnitAlias('date', 'D');

    // PRIORITY
    addUnitPriority('date', 9);

    // PARSING

    addRegexToken('D',  match1to2);
    addRegexToken('DD', match1to2, match2);
    addRegexToken('Do', function (isStrict, locale) {
        // TODO: Remove "ordinalParse" fallback in next major release.
        return isStrict ?
          (locale._dayOfMonthOrdinalParse || locale._ordinalParse) :
          locale._dayOfMonthOrdinalParseLenient;
    });

    addParseToken(['D', 'DD'], DATE);
    addParseToken('Do', function (input, array) {
        array[DATE] = toInt(input.match(match1to2)[0]);
    });

    // MOMENTS

    var getSetDayOfMonth = makeGetSet('Date', true);

    // FORMATTING

    addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');

    // ALIASES

    addUnitAlias('dayOfYear', 'DDD');

    // PRIORITY
    addUnitPriority('dayOfYear', 4);

    // PARSING

    addRegexToken('DDD',  match1to3);
    addRegexToken('DDDD', match3);
    addParseToken(['DDD', 'DDDD'], function (input, array, config) {
        config._dayOfYear = toInt(input);
    });

    // HELPERS

    // MOMENTS

    function getSetDayOfYear (input) {
        var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;
        return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');
    }

    // FORMATTING

    addFormatToken('m', ['mm', 2], 0, 'minute');

    // ALIASES

    addUnitAlias('minute', 'm');

    // PRIORITY

    addUnitPriority('minute', 14);

    // PARSING

    addRegexToken('m',  match1to2);
    addRegexToken('mm', match1to2, match2);
    addParseToken(['m', 'mm'], MINUTE);

    // MOMENTS

    var getSetMinute = makeGetSet('Minutes', false);

    // FORMATTING

    addFormatToken('s', ['ss', 2], 0, 'second');

    // ALIASES

    addUnitAlias('second', 's');

    // PRIORITY

    addUnitPriority('second', 15);

    // PARSING

    addRegexToken('s',  match1to2);
    addRegexToken('ss', match1to2, match2);
    addParseToken(['s', 'ss'], SECOND);

    // MOMENTS

    var getSetSecond = makeGetSet('Seconds', false);

    // FORMATTING

    addFormatToken('S', 0, 0, function () {
        return ~~(this.millisecond() / 100);
    });

    addFormatToken(0, ['SS', 2], 0, function () {
        return ~~(this.millisecond() / 10);
    });

    addFormatToken(0, ['SSS', 3], 0, 'millisecond');
    addFormatToken(0, ['SSSS', 4], 0, function () {
        return this.millisecond() * 10;
    });
    addFormatToken(0, ['SSSSS', 5], 0, function () {
        return this.millisecond() * 100;
    });
    addFormatToken(0, ['SSSSSS', 6], 0, function () {
        return this.millisecond() * 1000;
    });
    addFormatToken(0, ['SSSSSSS', 7], 0, function () {
        return this.millisecond() * 10000;
    });
    addFormatToken(0, ['SSSSSSSS', 8], 0, function () {
        return this.millisecond() * 100000;
    });
    addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {
        return this.millisecond() * 1000000;
    });


    // ALIASES

    addUnitAlias('millisecond', 'ms');

    // PRIORITY

    addUnitPriority('millisecond', 16);

    // PARSING

    addRegexToken('S',    match1to3, match1);
    addRegexToken('SS',   match1to3, match2);
    addRegexToken('SSS',  match1to3, match3);

    var token;
    for (token = 'SSSS'; token.length <= 9; token += 'S') {
        addRegexToken(token, matchUnsigned);
    }

    function parseMs(input, array) {
        array[MILLISECOND] = toInt(('0.' + input) * 1000);
    }

    for (token = 'S'; token.length <= 9; token += 'S') {
        addParseToken(token, parseMs);
    }
    // MOMENTS

    var getSetMillisecond = makeGetSet('Milliseconds', false);

    // FORMATTING

    addFormatToken('z',  0, 0, 'zoneAbbr');
    addFormatToken('zz', 0, 0, 'zoneName');

    // MOMENTS

    function getZoneAbbr () {
        return this._isUTC ? 'UTC' : '';
    }

    function getZoneName () {
        return this._isUTC ? 'Coordinated Universal Time' : '';
    }

    var proto = Moment.prototype;

    proto.add               = add;
    proto.calendar          = calendar$1;
    proto.clone             = clone;
    proto.diff              = diff;
    proto.endOf             = endOf;
    proto.format            = format;
    proto.from              = from;
    proto.fromNow           = fromNow;
    proto.to                = to;
    proto.toNow             = toNow;
    proto.get               = stringGet;
    proto.invalidAt         = invalidAt;
    proto.isAfter           = isAfter;
    proto.isBefore          = isBefore;
    proto.isBetween         = isBetween;
    proto.isSame            = isSame;
    proto.isSameOrAfter     = isSameOrAfter;
    proto.isSameOrBefore    = isSameOrBefore;
    proto.isValid           = isValid$2;
    proto.lang              = lang;
    proto.locale            = locale;
    proto.localeData        = localeData;
    proto.max               = prototypeMax;
    proto.min               = prototypeMin;
    proto.parsingFlags      = parsingFlags;
    proto.set               = stringSet;
    proto.startOf           = startOf;
    proto.subtract          = subtract;
    proto.toArray           = toArray;
    proto.toObject          = toObject;
    proto.toDate            = toDate;
    proto.toISOString       = toISOString;
    proto.inspect           = inspect;
    proto.toJSON            = toJSON;
    proto.toString          = toString;
    proto.unix              = unix;
    proto.valueOf           = valueOf;
    proto.creationData      = creationData;
    proto.year       = getSetYear;
    proto.isLeapYear = getIsLeapYear;
    proto.weekYear    = getSetWeekYear;
    proto.isoWeekYear = getSetISOWeekYear;
    proto.quarter = proto.quarters = getSetQuarter;
    proto.month       = getSetMonth;
    proto.daysInMonth = getDaysInMonth;
    proto.week           = proto.weeks        = getSetWeek;
    proto.isoWeek        = proto.isoWeeks     = getSetISOWeek;
    proto.weeksInYear    = getWeeksInYear;
    proto.isoWeeksInYear = getISOWeeksInYear;
    proto.date       = getSetDayOfMonth;
    proto.day        = proto.days             = getSetDayOfWeek;
    proto.weekday    = getSetLocaleDayOfWeek;
    proto.isoWeekday = getSetISODayOfWeek;
    proto.dayOfYear  = getSetDayOfYear;
    proto.hour = proto.hours = getSetHour;
    proto.minute = proto.minutes = getSetMinute;
    proto.second = proto.seconds = getSetSecond;
    proto.millisecond = proto.milliseconds = getSetMillisecond;
    proto.utcOffset            = getSetOffset;
    proto.utc                  = setOffsetToUTC;
    proto.local                = setOffsetToLocal;
    proto.parseZone            = setOffsetToParsedOffset;
    proto.hasAlignedHourOffset = hasAlignedHourOffset;
    proto.isDST                = isDaylightSavingTime;
    proto.isLocal              = isLocal;
    proto.isUtcOffset          = isUtcOffset;
    proto.isUtc                = isUtc;
    proto.isUTC                = isUtc;
    proto.zoneAbbr = getZoneAbbr;
    proto.zoneName = getZoneName;
    proto.dates  = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);
    proto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);
    proto.years  = deprecate('years accessor is deprecated. Use year instead', getSetYear);
    proto.zone   = deprecate('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/', getSetZone);
    proto.isDSTShifted = deprecate('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information', isDaylightSavingTimeShifted);

    function createUnix (input) {
        return createLocal(input * 1000);
    }

    function createInZone () {
        return createLocal.apply(null, arguments).parseZone();
    }

    function preParsePostFormat (string) {
        return string;
    }

    var proto$1 = Locale.prototype;

    proto$1.calendar        = calendar;
    proto$1.longDateFormat  = longDateFormat;
    proto$1.invalidDate     = invalidDate;
    proto$1.ordinal         = ordinal;
    proto$1.preparse        = preParsePostFormat;
    proto$1.postformat      = preParsePostFormat;
    proto$1.relativeTime    = relativeTime;
    proto$1.pastFuture      = pastFuture;
    proto$1.set             = set;

    proto$1.months            =        localeMonths;
    proto$1.monthsShort       =        localeMonthsShort;
    proto$1.monthsParse       =        localeMonthsParse;
    proto$1.monthsRegex       = monthsRegex;
    proto$1.monthsShortRegex  = monthsShortRegex;
    proto$1.week = localeWeek;
    proto$1.firstDayOfYear = localeFirstDayOfYear;
    proto$1.firstDayOfWeek = localeFirstDayOfWeek;

    proto$1.weekdays       =        localeWeekdays;
    proto$1.weekdaysMin    =        localeWeekdaysMin;
    proto$1.weekdaysShort  =        localeWeekdaysShort;
    proto$1.weekdaysParse  =        localeWeekdaysParse;

    proto$1.weekdaysRegex       =        weekdaysRegex;
    proto$1.weekdaysShortRegex  =        weekdaysShortRegex;
    proto$1.weekdaysMinRegex    =        weekdaysMinRegex;

    proto$1.isPM = localeIsPM;
    proto$1.meridiem = localeMeridiem;

    function get$1 (format, index, field, setter) {
        var locale = getLocale();
        var utc = createUTC().set(setter, index);
        return locale[field](utc, format);
    }

    function listMonthsImpl (format, index, field) {
        if (isNumber(format)) {
            index = format;
            format = undefined;
        }

        format = format || '';

        if (index != null) {
            return get$1(format, index, field, 'month');
        }

        var i;
        var out = [];
        for (i = 0; i < 12; i++) {
            out[i] = get$1(format, i, field, 'month');
        }
        return out;
    }

    // ()
    // (5)
    // (fmt, 5)
    // (fmt)
    // (true)
    // (true, 5)
    // (true, fmt, 5)
    // (true, fmt)
    function listWeekdaysImpl (localeSorted, format, index, field) {
        if (typeof localeSorted === 'boolean') {
            if (isNumber(format)) {
                index = format;
                format = undefined;
            }

            format = format || '';
        } else {
            format = localeSorted;
            index = format;
            localeSorted = false;

            if (isNumber(format)) {
                index = format;
                format = undefined;
            }

            format = format || '';
        }

        var locale = getLocale(),
            shift = localeSorted ? locale._week.dow : 0;

        if (index != null) {
            return get$1(format, (index + shift) % 7, field, 'day');
        }

        var i;
        var out = [];
        for (i = 0; i < 7; i++) {
            out[i] = get$1(format, (i + shift) % 7, field, 'day');
        }
        return out;
    }

    function listMonths (format, index) {
        return listMonthsImpl(format, index, 'months');
    }

    function listMonthsShort (format, index) {
        return listMonthsImpl(format, index, 'monthsShort');
    }

    function listWeekdays (localeSorted, format, index) {
        return listWeekdaysImpl(localeSorted, format, index, 'weekdays');
    }

    function listWeekdaysShort (localeSorted, format, index) {
        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');
    }

    function listWeekdaysMin (localeSorted, format, index) {
        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');
    }

    getSetGlobalLocale('en', {
        dayOfMonthOrdinalParse: /\d{1,2}(th|st|nd|rd)/,
        ordinal : function (number) {
            var b = number % 10,
                output = (toInt(number % 100 / 10) === 1) ? 'th' :
                (b === 1) ? 'st' :
                (b === 2) ? 'nd' :
                (b === 3) ? 'rd' : 'th';
            return number + output;
        }
    });

    // Side effect imports

    hooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', getSetGlobalLocale);
    hooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', getLocale);

    var mathAbs = Math.abs;

    function abs () {
        var data           = this._data;

        this._milliseconds = mathAbs(this._milliseconds);
        this._days         = mathAbs(this._days);
        this._months       = mathAbs(this._months);

        data.milliseconds  = mathAbs(data.milliseconds);
        data.seconds       = mathAbs(data.seconds);
        data.minutes       = mathAbs(data.minutes);
        data.hours         = mathAbs(data.hours);
        data.months        = mathAbs(data.months);
        data.years         = mathAbs(data.years);

        return this;
    }

    function addSubtract$1 (duration, input, value, direction) {
        var other = createDuration(input, value);

        duration._milliseconds += direction * other._milliseconds;
        duration._days         += direction * other._days;
        duration._months       += direction * other._months;

        return duration._bubble();
    }

    // supports only 2.0-style add(1, 's') or add(duration)
    function add$1 (input, value) {
        return addSubtract$1(this, input, value, 1);
    }

    // supports only 2.0-style subtract(1, 's') or subtract(duration)
    function subtract$1 (input, value) {
        return addSubtract$1(this, input, value, -1);
    }

    function absCeil (number) {
        if (number < 0) {
            return Math.floor(number);
        } else {
            return Math.ceil(number);
        }
    }

    function bubble () {
        var milliseconds = this._milliseconds;
        var days         = this._days;
        var months       = this._months;
        var data         = this._data;
        var seconds, minutes, hours, years, monthsFromDays;

        // if we have a mix of positive and negative values, bubble down first
        // check: https://github.com/moment/moment/issues/2166
        if (!((milliseconds >= 0 && days >= 0 && months >= 0) ||
                (milliseconds <= 0 && days <= 0 && months <= 0))) {
            milliseconds += absCeil(monthsToDays(months) + days) * 864e5;
            days = 0;
            months = 0;
        }

        // The following code bubbles up values, see the tests for
        // examples of what that means.
        data.milliseconds = milliseconds % 1000;

        seconds           = absFloor(milliseconds / 1000);
        data.seconds      = seconds % 60;

        minutes           = absFloor(seconds / 60);
        data.minutes      = minutes % 60;

        hours             = absFloor(minutes / 60);
        data.hours        = hours % 24;

        days += absFloor(hours / 24);

        // convert days to months
        monthsFromDays = absFloor(daysToMonths(days));
        months += monthsFromDays;
        days -= absCeil(monthsToDays(monthsFromDays));

        // 12 months -> 1 year
        years = absFloor(months / 12);
        months %= 12;

        data.days   = days;
        data.months = months;
        data.years  = years;

        return this;
    }

    function daysToMonths (days) {
        // 400 years have 146097 days (taking into account leap year rules)
        // 400 years have 12 months === 4800
        return days * 4800 / 146097;
    }

    function monthsToDays (months) {
        // the reverse of daysToMonths
        return months * 146097 / 4800;
    }

    function as (units) {
        if (!this.isValid()) {
            return NaN;
        }
        var days;
        var months;
        var milliseconds = this._milliseconds;

        units = normalizeUnits(units);

        if (units === 'month' || units === 'quarter' || units === 'year') {
            days = this._days + milliseconds / 864e5;
            months = this._months + daysToMonths(days);
            switch (units) {
                case 'month':   return months;
                case 'quarter': return months / 3;
                case 'year':    return months / 12;
            }
        } else {
            // handle milliseconds separately because of floating point math errors (issue #1867)
            days = this._days + Math.round(monthsToDays(this._months));
            switch (units) {
                case 'week'   : return days / 7     + milliseconds / 6048e5;
                case 'day'    : return days         + milliseconds / 864e5;
                case 'hour'   : return days * 24    + milliseconds / 36e5;
                case 'minute' : return days * 1440  + milliseconds / 6e4;
                case 'second' : return days * 86400 + milliseconds / 1000;
                // Math.floor prevents floating point math errors here
                case 'millisecond': return Math.floor(days * 864e5) + milliseconds;
                default: throw new Error('Unknown unit ' + units);
            }
        }
    }

    // TODO: Use this.as('ms')?
    function valueOf$1 () {
        if (!this.isValid()) {
            return NaN;
        }
        return (
            this._milliseconds +
            this._days * 864e5 +
            (this._months % 12) * 2592e6 +
            toInt(this._months / 12) * 31536e6
        );
    }

    function makeAs (alias) {
        return function () {
            return this.as(alias);
        };
    }

    var asMilliseconds = makeAs('ms');
    var asSeconds      = makeAs('s');
    var asMinutes      = makeAs('m');
    var asHours        = makeAs('h');
    var asDays         = makeAs('d');
    var asWeeks        = makeAs('w');
    var asMonths       = makeAs('M');
    var asQuarters     = makeAs('Q');
    var asYears        = makeAs('y');

    function clone$1 () {
        return createDuration(this);
    }

    function get$2 (units) {
        units = normalizeUnits(units);
        return this.isValid() ? this[units + 's']() : NaN;
    }

    function makeGetter(name) {
        return function () {
            return this.isValid() ? this._data[name] : NaN;
        };
    }

    var milliseconds = makeGetter('milliseconds');
    var seconds      = makeGetter('seconds');
    var minutes      = makeGetter('minutes');
    var hours        = makeGetter('hours');
    var days         = makeGetter('days');
    var months       = makeGetter('months');
    var years        = makeGetter('years');

    function weeks () {
        return absFloor(this.days() / 7);
    }

    var round = Math.round;
    var thresholds = {
        ss: 44,         // a few seconds to seconds
        s : 45,         // seconds to minute
        m : 45,         // minutes to hour
        h : 22,         // hours to day
        d : 26,         // days to month
        M : 11          // months to year
    };

    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize
    function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {
        return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);
    }

    function relativeTime$1 (posNegDuration, withoutSuffix, locale) {
        var duration = createDuration(posNegDuration).abs();
        var seconds  = round(duration.as('s'));
        var minutes  = round(duration.as('m'));
        var hours    = round(duration.as('h'));
        var days     = round(duration.as('d'));
        var months   = round(duration.as('M'));
        var years    = round(duration.as('y'));

        var a = seconds <= thresholds.ss && ['s', seconds]  ||
                seconds < thresholds.s   && ['ss', seconds] ||
                minutes <= 1             && ['m']           ||
                minutes < thresholds.m   && ['mm', minutes] ||
                hours   <= 1             && ['h']           ||
                hours   < thresholds.h   && ['hh', hours]   ||
                days    <= 1             && ['d']           ||
                days    < thresholds.d   && ['dd', days]    ||
                months  <= 1             && ['M']           ||
                months  < thresholds.M   && ['MM', months]  ||
                years   <= 1             && ['y']           || ['yy', years];

        a[2] = withoutSuffix;
        a[3] = +posNegDuration > 0;
        a[4] = locale;
        return substituteTimeAgo.apply(null, a);
    }

    // This function allows you to set the rounding function for relative time strings
    function getSetRelativeTimeRounding (roundingFunction) {
        if (roundingFunction === undefined) {
            return round;
        }
        if (typeof(roundingFunction) === 'function') {
            round = roundingFunction;
            return true;
        }
        return false;
    }

    // This function allows you to set a threshold for relative time strings
    function getSetRelativeTimeThreshold (threshold, limit) {
        if (thresholds[threshold] === undefined) {
            return false;
        }
        if (limit === undefined) {
            return thresholds[threshold];
        }
        thresholds[threshold] = limit;
        if (threshold === 's') {
            thresholds.ss = limit - 1;
        }
        return true;
    }

    function humanize (withSuffix) {
        if (!this.isValid()) {
            return this.localeData().invalidDate();
        }

        var locale = this.localeData();
        var output = relativeTime$1(this, !withSuffix, locale);

        if (withSuffix) {
            output = locale.pastFuture(+this, output);
        }

        return locale.postformat(output);
    }

    var abs$1 = Math.abs;

    function sign(x) {
        return ((x > 0) - (x < 0)) || +x;
    }

    function toISOString$1() {
        // for ISO strings we do not use the normal bubbling rules:
        //  * milliseconds bubble up until they become hours
        //  * days do not bubble at all
        //  * months bubble up until they become years
        // This is because there is no context-free conversion between hours and days
        // (think of clock changes)
        // and also not between days and months (28-31 days per month)
        if (!this.isValid()) {
            return this.localeData().invalidDate();
        }

        var seconds = abs$1(this._milliseconds) / 1000;
        var days         = abs$1(this._days);
        var months       = abs$1(this._months);
        var minutes, hours, years;

        // 3600 seconds -> 60 minutes -> 1 hour
        minutes           = absFloor(seconds / 60);
        hours             = absFloor(minutes / 60);
        seconds %= 60;
        minutes %= 60;

        // 12 months -> 1 year
        years  = absFloor(months / 12);
        months %= 12;


        // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js
        var Y = years;
        var M = months;
        var D = days;
        var h = hours;
        var m = minutes;
        var s = seconds ? seconds.toFixed(3).replace(/\.?0+$/, '') : '';
        var total = this.asSeconds();

        if (!total) {
            // this is the same as C#'s (Noda) and python (isodate)...
            // but not other JS (goog.date)
            return 'P0D';
        }

        var totalSign = total < 0 ? '-' : '';
        var ymSign = sign(this._months) !== sign(total) ? '-' : '';
        var daysSign = sign(this._days) !== sign(total) ? '-' : '';
        var hmsSign = sign(this._milliseconds) !== sign(total) ? '-' : '';

        return totalSign + 'P' +
            (Y ? ymSign + Y + 'Y' : '') +
            (M ? ymSign + M + 'M' : '') +
            (D ? daysSign + D + 'D' : '') +
            ((h || m || s) ? 'T' : '') +
            (h ? hmsSign + h + 'H' : '') +
            (m ? hmsSign + m + 'M' : '') +
            (s ? hmsSign + s + 'S' : '');
    }

    var proto$2 = Duration.prototype;

    proto$2.isValid        = isValid$1;
    proto$2.abs            = abs;
    proto$2.add            = add$1;
    proto$2.subtract       = subtract$1;
    proto$2.as             = as;
    proto$2.asMilliseconds = asMilliseconds;
    proto$2.asSeconds      = asSeconds;
    proto$2.asMinutes      = asMinutes;
    proto$2.asHours        = asHours;
    proto$2.asDays         = asDays;
    proto$2.asWeeks        = asWeeks;
    proto$2.asMonths       = asMonths;
    proto$2.asQuarters     = asQuarters;
    proto$2.asYears        = asYears;
    proto$2.valueOf        = valueOf$1;
    proto$2._bubble        = bubble;
    proto$2.clone          = clone$1;
    proto$2.get            = get$2;
    proto$2.milliseconds   = milliseconds;
    proto$2.seconds        = seconds;
    proto$2.minutes        = minutes;
    proto$2.hours          = hours;
    proto$2.days           = days;
    proto$2.weeks          = weeks;
    proto$2.months         = months;
    proto$2.years          = years;
    proto$2.humanize       = humanize;
    proto$2.toISOString    = toISOString$1;
    proto$2.toString       = toISOString$1;
    proto$2.toJSON         = toISOString$1;
    proto$2.locale         = locale;
    proto$2.localeData     = localeData;

    proto$2.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', toISOString$1);
    proto$2.lang = lang;

    // Side effect imports

    // FORMATTING

    addFormatToken('X', 0, 0, 'unix');
    addFormatToken('x', 0, 0, 'valueOf');

    // PARSING

    addRegexToken('x', matchSigned);
    addRegexToken('X', matchTimestamp);
    addParseToken('X', function (input, array, config) {
        config._d = new Date(parseFloat(input, 10) * 1000);
    });
    addParseToken('x', function (input, array, config) {
        config._d = new Date(toInt(input));
    });

    // Side effect imports


    hooks.version = '2.24.0';

    setHookCallback(createLocal);

    hooks.fn                    = proto;
    hooks.min                   = min;
    hooks.max                   = max;
    hooks.now                   = now;
    hooks.utc                   = createUTC;
    hooks.unix                  = createUnix;
    hooks.months                = listMonths;
    hooks.isDate                = isDate;
    hooks.locale                = getSetGlobalLocale;
    hooks.invalid               = createInvalid;
    hooks.duration              = createDuration;
    hooks.isMoment              = isMoment;
    hooks.weekdays              = listWeekdays;
    hooks.parseZone             = createInZone;
    hooks.localeData            = getLocale;
    hooks.isDuration            = isDuration;
    hooks.monthsShort           = listMonthsShort;
    hooks.weekdaysMin           = listWeekdaysMin;
    hooks.defineLocale          = defineLocale;
    hooks.updateLocale          = updateLocale;
    hooks.locales               = listLocales;
    hooks.weekdaysShort         = listWeekdaysShort;
    hooks.normalizeUnits        = normalizeUnits;
    hooks.relativeTimeRounding  = getSetRelativeTimeRounding;
    hooks.relativeTimeThreshold = getSetRelativeTimeThreshold;
    hooks.calendarFormat        = getCalendarFormat;
    hooks.prototype             = proto;

    // currently HTML5 input type only supports 24-hour formats
    hooks.HTML5_FMT = {
        DATETIME_LOCAL: 'YYYY-MM-DDTHH:mm',             // <input type="datetime-local" />
        DATETIME_LOCAL_SECONDS: 'YYYY-MM-DDTHH:mm:ss',  // <input type="datetime-local" step="1" />
        DATETIME_LOCAL_MS: 'YYYY-MM-DDTHH:mm:ss.SSS',   // <input type="datetime-local" step="0.001" />
        DATE: 'YYYY-MM-DD',                             // <input type="date" />
        TIME: 'HH:mm',                                  // <input type="time" />
        TIME_SECONDS: 'HH:mm:ss',                       // <input type="time" step="1" />
        TIME_MS: 'HH:mm:ss.SSS',                        // <input type="time" step="0.001" />
        WEEK: 'GGGG-[W]WW',                             // <input type="week" />
        MONTH: 'YYYY-MM'                                // <input type="month" />
    };

    return hooks;

})));

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/module.js */ "./node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./node_modules/node-libs-browser/node_modules/punycode/punycode.js":
/*!**************************************************************************!*\
  !*** ./node_modules/node-libs-browser/node_modules/punycode/punycode.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module, global) {var __WEBPACK_AMD_DEFINE_RESULT__;/*! https://mths.be/punycode v1.4.1 by @mathias */
;(function(root) {

	/** Detect free variables */
	var freeExports =  true && exports &&
		!exports.nodeType && exports;
	var freeModule =  true && module &&
		!module.nodeType && module;
	var freeGlobal = typeof global == 'object' && global;
	if (
		freeGlobal.global === freeGlobal ||
		freeGlobal.window === freeGlobal ||
		freeGlobal.self === freeGlobal
	) {
		root = freeGlobal;
	}

	/**
	 * The `punycode` object.
	 * @name punycode
	 * @type Object
	 */
	var punycode,

	/** Highest positive signed 32-bit float value */
	maxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1

	/** Bootstring parameters */
	base = 36,
	tMin = 1,
	tMax = 26,
	skew = 38,
	damp = 700,
	initialBias = 72,
	initialN = 128, // 0x80
	delimiter = '-', // '\x2D'

	/** Regular expressions */
	regexPunycode = /^xn--/,
	regexNonASCII = /[^\x20-\x7E]/, // unprintable ASCII chars + non-ASCII chars
	regexSeparators = /[\x2E\u3002\uFF0E\uFF61]/g, // RFC 3490 separators

	/** Error messages */
	errors = {
		'overflow': 'Overflow: input needs wider integers to process',
		'not-basic': 'Illegal input >= 0x80 (not a basic code point)',
		'invalid-input': 'Invalid input'
	},

	/** Convenience shortcuts */
	baseMinusTMin = base - tMin,
	floor = Math.floor,
	stringFromCharCode = String.fromCharCode,

	/** Temporary variable */
	key;

	/*--------------------------------------------------------------------------*/

	/**
	 * A generic error utility function.
	 * @private
	 * @param {String} type The error type.
	 * @returns {Error} Throws a `RangeError` with the applicable error message.
	 */
	function error(type) {
		throw new RangeError(errors[type]);
	}

	/**
	 * A generic `Array#map` utility function.
	 * @private
	 * @param {Array} array The array to iterate over.
	 * @param {Function} callback The function that gets called for every array
	 * item.
	 * @returns {Array} A new array of values returned by the callback function.
	 */
	function map(array, fn) {
		var length = array.length;
		var result = [];
		while (length--) {
			result[length] = fn(array[length]);
		}
		return result;
	}

	/**
	 * A simple `Array#map`-like wrapper to work with domain name strings or email
	 * addresses.
	 * @private
	 * @param {String} domain The domain name or email address.
	 * @param {Function} callback The function that gets called for every
	 * character.
	 * @returns {Array} A new string of characters returned by the callback
	 * function.
	 */
	function mapDomain(string, fn) {
		var parts = string.split('@');
		var result = '';
		if (parts.length > 1) {
			// In email addresses, only the domain name should be punycoded. Leave
			// the local part (i.e. everything up to `@`) intact.
			result = parts[0] + '@';
			string = parts[1];
		}
		// Avoid `split(regex)` for IE8 compatibility. See #17.
		string = string.replace(regexSeparators, '\x2E');
		var labels = string.split('.');
		var encoded = map(labels, fn).join('.');
		return result + encoded;
	}

	/**
	 * Creates an array containing the numeric code points of each Unicode
	 * character in the string. While JavaScript uses UCS-2 internally,
	 * this function will convert a pair of surrogate halves (each of which
	 * UCS-2 exposes as separate characters) into a single code point,
	 * matching UTF-16.
	 * @see `punycode.ucs2.encode`
	 * @see <https://mathiasbynens.be/notes/javascript-encoding>
	 * @memberOf punycode.ucs2
	 * @name decode
	 * @param {String} string The Unicode input string (UCS-2).
	 * @returns {Array} The new array of code points.
	 */
	function ucs2decode(string) {
		var output = [],
		    counter = 0,
		    length = string.length,
		    value,
		    extra;
		while (counter < length) {
			value = string.charCodeAt(counter++);
			if (value >= 0xD800 && value <= 0xDBFF && counter < length) {
				// high surrogate, and there is a next character
				extra = string.charCodeAt(counter++);
				if ((extra & 0xFC00) == 0xDC00) { // low surrogate
					output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);
				} else {
					// unmatched surrogate; only append this code unit, in case the next
					// code unit is the high surrogate of a surrogate pair
					output.push(value);
					counter--;
				}
			} else {
				output.push(value);
			}
		}
		return output;
	}

	/**
	 * Creates a string based on an array of numeric code points.
	 * @see `punycode.ucs2.decode`
	 * @memberOf punycode.ucs2
	 * @name encode
	 * @param {Array} codePoints The array of numeric code points.
	 * @returns {String} The new Unicode string (UCS-2).
	 */
	function ucs2encode(array) {
		return map(array, function(value) {
			var output = '';
			if (value > 0xFFFF) {
				value -= 0x10000;
				output += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);
				value = 0xDC00 | value & 0x3FF;
			}
			output += stringFromCharCode(value);
			return output;
		}).join('');
	}

	/**
	 * Converts a basic code point into a digit/integer.
	 * @see `digitToBasic()`
	 * @private
	 * @param {Number} codePoint The basic numeric code point value.
	 * @returns {Number} The numeric value of a basic code point (for use in
	 * representing integers) in the range `0` to `base - 1`, or `base` if
	 * the code point does not represent a value.
	 */
	function basicToDigit(codePoint) {
		if (codePoint - 48 < 10) {
			return codePoint - 22;
		}
		if (codePoint - 65 < 26) {
			return codePoint - 65;
		}
		if (codePoint - 97 < 26) {
			return codePoint - 97;
		}
		return base;
	}

	/**
	 * Converts a digit/integer into a basic code point.
	 * @see `basicToDigit()`
	 * @private
	 * @param {Number} digit The numeric value of a basic code point.
	 * @returns {Number} The basic code point whose value (when used for
	 * representing integers) is `digit`, which needs to be in the range
	 * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is
	 * used; else, the lowercase form is used. The behavior is undefined
	 * if `flag` is non-zero and `digit` has no uppercase form.
	 */
	function digitToBasic(digit, flag) {
		//  0..25 map to ASCII a..z or A..Z
		// 26..35 map to ASCII 0..9
		return digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);
	}

	/**
	 * Bias adaptation function as per section 3.4 of RFC 3492.
	 * https://tools.ietf.org/html/rfc3492#section-3.4
	 * @private
	 */
	function adapt(delta, numPoints, firstTime) {
		var k = 0;
		delta = firstTime ? floor(delta / damp) : delta >> 1;
		delta += floor(delta / numPoints);
		for (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {
			delta = floor(delta / baseMinusTMin);
		}
		return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));
	}

	/**
	 * Converts a Punycode string of ASCII-only symbols to a string of Unicode
	 * symbols.
	 * @memberOf punycode
	 * @param {String} input The Punycode string of ASCII-only symbols.
	 * @returns {String} The resulting string of Unicode symbols.
	 */
	function decode(input) {
		// Don't use UCS-2
		var output = [],
		    inputLength = input.length,
		    out,
		    i = 0,
		    n = initialN,
		    bias = initialBias,
		    basic,
		    j,
		    index,
		    oldi,
		    w,
		    k,
		    digit,
		    t,
		    /** Cached calculation results */
		    baseMinusT;

		// Handle the basic code points: let `basic` be the number of input code
		// points before the last delimiter, or `0` if there is none, then copy
		// the first basic code points to the output.

		basic = input.lastIndexOf(delimiter);
		if (basic < 0) {
			basic = 0;
		}

		for (j = 0; j < basic; ++j) {
			// if it's not a basic code point
			if (input.charCodeAt(j) >= 0x80) {
				error('not-basic');
			}
			output.push(input.charCodeAt(j));
		}

		// Main decoding loop: start just after the last delimiter if any basic code
		// points were copied; start at the beginning otherwise.

		for (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {

			// `index` is the index of the next character to be consumed.
			// Decode a generalized variable-length integer into `delta`,
			// which gets added to `i`. The overflow checking is easier
			// if we increase `i` as we go, then subtract off its starting
			// value at the end to obtain `delta`.
			for (oldi = i, w = 1, k = base; /* no condition */; k += base) {

				if (index >= inputLength) {
					error('invalid-input');
				}

				digit = basicToDigit(input.charCodeAt(index++));

				if (digit >= base || digit > floor((maxInt - i) / w)) {
					error('overflow');
				}

				i += digit * w;
				t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);

				if (digit < t) {
					break;
				}

				baseMinusT = base - t;
				if (w > floor(maxInt / baseMinusT)) {
					error('overflow');
				}

				w *= baseMinusT;

			}

			out = output.length + 1;
			bias = adapt(i - oldi, out, oldi == 0);

			// `i` was supposed to wrap around from `out` to `0`,
			// incrementing `n` each time, so we'll fix that now:
			if (floor(i / out) > maxInt - n) {
				error('overflow');
			}

			n += floor(i / out);
			i %= out;

			// Insert `n` at position `i` of the output
			output.splice(i++, 0, n);

		}

		return ucs2encode(output);
	}

	/**
	 * Converts a string of Unicode symbols (e.g. a domain name label) to a
	 * Punycode string of ASCII-only symbols.
	 * @memberOf punycode
	 * @param {String} input The string of Unicode symbols.
	 * @returns {String} The resulting Punycode string of ASCII-only symbols.
	 */
	function encode(input) {
		var n,
		    delta,
		    handledCPCount,
		    basicLength,
		    bias,
		    j,
		    m,
		    q,
		    k,
		    t,
		    currentValue,
		    output = [],
		    /** `inputLength` will hold the number of code points in `input`. */
		    inputLength,
		    /** Cached calculation results */
		    handledCPCountPlusOne,
		    baseMinusT,
		    qMinusT;

		// Convert the input in UCS-2 to Unicode
		input = ucs2decode(input);

		// Cache the length
		inputLength = input.length;

		// Initialize the state
		n = initialN;
		delta = 0;
		bias = initialBias;

		// Handle the basic code points
		for (j = 0; j < inputLength; ++j) {
			currentValue = input[j];
			if (currentValue < 0x80) {
				output.push(stringFromCharCode(currentValue));
			}
		}

		handledCPCount = basicLength = output.length;

		// `handledCPCount` is the number of code points that have been handled;
		// `basicLength` is the number of basic code points.

		// Finish the basic string - if it is not empty - with a delimiter
		if (basicLength) {
			output.push(delimiter);
		}

		// Main encoding loop:
		while (handledCPCount < inputLength) {

			// All non-basic code points < n have been handled already. Find the next
			// larger one:
			for (m = maxInt, j = 0; j < inputLength; ++j) {
				currentValue = input[j];
				if (currentValue >= n && currentValue < m) {
					m = currentValue;
				}
			}

			// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,
			// but guard against overflow
			handledCPCountPlusOne = handledCPCount + 1;
			if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {
				error('overflow');
			}

			delta += (m - n) * handledCPCountPlusOne;
			n = m;

			for (j = 0; j < inputLength; ++j) {
				currentValue = input[j];

				if (currentValue < n && ++delta > maxInt) {
					error('overflow');
				}

				if (currentValue == n) {
					// Represent delta as a generalized variable-length integer
					for (q = delta, k = base; /* no condition */; k += base) {
						t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);
						if (q < t) {
							break;
						}
						qMinusT = q - t;
						baseMinusT = base - t;
						output.push(
							stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))
						);
						q = floor(qMinusT / baseMinusT);
					}

					output.push(stringFromCharCode(digitToBasic(q, 0)));
					bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);
					delta = 0;
					++handledCPCount;
				}
			}

			++delta;
			++n;

		}
		return output.join('');
	}

	/**
	 * Converts a Punycode string representing a domain name or an email address
	 * to Unicode. Only the Punycoded parts of the input will be converted, i.e.
	 * it doesn't matter if you call it on a string that has already been
	 * converted to Unicode.
	 * @memberOf punycode
	 * @param {String} input The Punycoded domain name or email address to
	 * convert to Unicode.
	 * @returns {String} The Unicode representation of the given Punycode
	 * string.
	 */
	function toUnicode(input) {
		return mapDomain(input, function(string) {
			return regexPunycode.test(string)
				? decode(string.slice(4).toLowerCase())
				: string;
		});
	}

	/**
	 * Converts a Unicode string representing a domain name or an email address to
	 * Punycode. Only the non-ASCII parts of the domain name will be converted,
	 * i.e. it doesn't matter if you call it with a domain that's already in
	 * ASCII.
	 * @memberOf punycode
	 * @param {String} input The domain name or email address to convert, as a
	 * Unicode string.
	 * @returns {String} The Punycode representation of the given domain name or
	 * email address.
	 */
	function toASCII(input) {
		return mapDomain(input, function(string) {
			return regexNonASCII.test(string)
				? 'xn--' + encode(string)
				: string;
		});
	}

	/*--------------------------------------------------------------------------*/

	/** Define the public API */
	punycode = {
		/**
		 * A string representing the current Punycode.js version number.
		 * @memberOf punycode
		 * @type String
		 */
		'version': '1.4.1',
		/**
		 * An object of methods to convert from JavaScript's internal character
		 * representation (UCS-2) to Unicode code points, and back.
		 * @see <https://mathiasbynens.be/notes/javascript-encoding>
		 * @memberOf punycode
		 * @type Object
		 */
		'ucs2': {
			'decode': ucs2decode,
			'encode': ucs2encode
		},
		'decode': decode,
		'encode': encode,
		'toASCII': toASCII,
		'toUnicode': toUnicode
	};

	/** Expose `punycode` */
	// Some AMD build optimizers, like r.js, check for specific condition patterns
	// like the following:
	if (
		true
	) {
		!(__WEBPACK_AMD_DEFINE_RESULT__ = (function() {
			return punycode;
		}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}

}(this));

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../webpack/buildin/module.js */ "./node_modules/webpack/buildin/module.js")(module), __webpack_require__(/*! ./../../../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/querystring-es3/decode.js":
/*!************************************************!*\
  !*** ./node_modules/querystring-es3/decode.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.



// If obj.hasOwnProperty has been overridden, then calling
// obj.hasOwnProperty(prop) will break.
// See: https://github.com/joyent/node/issues/1707
function hasOwnProperty(obj, prop) {
  return Object.prototype.hasOwnProperty.call(obj, prop);
}

module.exports = function(qs, sep, eq, options) {
  sep = sep || '&';
  eq = eq || '=';
  var obj = {};

  if (typeof qs !== 'string' || qs.length === 0) {
    return obj;
  }

  var regexp = /\+/g;
  qs = qs.split(sep);

  var maxKeys = 1000;
  if (options && typeof options.maxKeys === 'number') {
    maxKeys = options.maxKeys;
  }

  var len = qs.length;
  // maxKeys <= 0 means that we should not limit keys count
  if (maxKeys > 0 && len > maxKeys) {
    len = maxKeys;
  }

  for (var i = 0; i < len; ++i) {
    var x = qs[i].replace(regexp, '%20'),
        idx = x.indexOf(eq),
        kstr, vstr, k, v;

    if (idx >= 0) {
      kstr = x.substr(0, idx);
      vstr = x.substr(idx + 1);
    } else {
      kstr = x;
      vstr = '';
    }

    k = decodeURIComponent(kstr);
    v = decodeURIComponent(vstr);

    if (!hasOwnProperty(obj, k)) {
      obj[k] = v;
    } else if (isArray(obj[k])) {
      obj[k].push(v);
    } else {
      obj[k] = [obj[k], v];
    }
  }

  return obj;
};

var isArray = Array.isArray || function (xs) {
  return Object.prototype.toString.call(xs) === '[object Array]';
};


/***/ }),

/***/ "./node_modules/querystring-es3/encode.js":
/*!************************************************!*\
  !*** ./node_modules/querystring-es3/encode.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.



var stringifyPrimitive = function(v) {
  switch (typeof v) {
    case 'string':
      return v;

    case 'boolean':
      return v ? 'true' : 'false';

    case 'number':
      return isFinite(v) ? v : '';

    default:
      return '';
  }
};

module.exports = function(obj, sep, eq, name) {
  sep = sep || '&';
  eq = eq || '=';
  if (obj === null) {
    obj = undefined;
  }

  if (typeof obj === 'object') {
    return map(objectKeys(obj), function(k) {
      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;
      if (isArray(obj[k])) {
        return map(obj[k], function(v) {
          return ks + encodeURIComponent(stringifyPrimitive(v));
        }).join(sep);
      } else {
        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));
      }
    }).join(sep);

  }

  if (!name) return '';
  return encodeURIComponent(stringifyPrimitive(name)) + eq +
         encodeURIComponent(stringifyPrimitive(obj));
};

var isArray = Array.isArray || function (xs) {
  return Object.prototype.toString.call(xs) === '[object Array]';
};

function map (xs, f) {
  if (xs.map) return xs.map(f);
  var res = [];
  for (var i = 0; i < xs.length; i++) {
    res.push(f(xs[i], i));
  }
  return res;
}

var objectKeys = Object.keys || function (obj) {
  var res = [];
  for (var key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);
  }
  return res;
};


/***/ }),

/***/ "./node_modules/querystring-es3/index.js":
/*!***********************************************!*\
  !*** ./node_modules/querystring-es3/index.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.decode = exports.parse = __webpack_require__(/*! ./decode */ "./node_modules/querystring-es3/decode.js");
exports.encode = exports.stringify = __webpack_require__(/*! ./encode */ "./node_modules/querystring-es3/encode.js");


/***/ }),

/***/ "./node_modules/sockjs-client/dist/sockjs.js":
/*!***************************************************!*\
  !*** ./node_modules/sockjs-client/dist/sockjs.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {var require;var require;/* sockjs-client v1.4.0 | http://sockjs.org | MIT license */
(function(f){if(true){module.exports=f()}else { var g; }})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return require(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
(function (global){
'use strict';

var transportList = require('./transport-list');

module.exports = require('./main')(transportList);

// TODO can't get rid of this until all servers do
if ('_sockjs_onload' in global) {
  setTimeout(global._sockjs_onload, 1);
}

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./main":14,"./transport-list":16}],2:[function(require,module,exports){
'use strict';

var inherits = require('inherits')
  , Event = require('./event')
  ;

function CloseEvent() {
  Event.call(this);
  this.initEvent('close', false, false);
  this.wasClean = false;
  this.code = 0;
  this.reason = '';
}

inherits(CloseEvent, Event);

module.exports = CloseEvent;

},{"./event":4,"inherits":57}],3:[function(require,module,exports){
'use strict';

var inherits = require('inherits')
  , EventTarget = require('./eventtarget')
  ;

function EventEmitter() {
  EventTarget.call(this);
}

inherits(EventEmitter, EventTarget);

EventEmitter.prototype.removeAllListeners = function(type) {
  if (type) {
    delete this._listeners[type];
  } else {
    this._listeners = {};
  }
};

EventEmitter.prototype.once = function(type, listener) {
  var self = this
    , fired = false;

  function g() {
    self.removeListener(type, g);

    if (!fired) {
      fired = true;
      listener.apply(this, arguments);
    }
  }

  this.on(type, g);
};

EventEmitter.prototype.emit = function() {
  var type = arguments[0];
  var listeners = this._listeners[type];
  if (!listeners) {
    return;
  }
  // equivalent of Array.prototype.slice.call(arguments, 1);
  var l = arguments.length;
  var args = new Array(l - 1);
  for (var ai = 1; ai < l; ai++) {
    args[ai - 1] = arguments[ai];
  }
  for (var i = 0; i < listeners.length; i++) {
    listeners[i].apply(this, args);
  }
};

EventEmitter.prototype.on = EventEmitter.prototype.addListener = EventTarget.prototype.addEventListener;
EventEmitter.prototype.removeListener = EventTarget.prototype.removeEventListener;

module.exports.EventEmitter = EventEmitter;

},{"./eventtarget":5,"inherits":57}],4:[function(require,module,exports){
'use strict';

function Event(eventType) {
  this.type = eventType;
}

Event.prototype.initEvent = function(eventType, canBubble, cancelable) {
  this.type = eventType;
  this.bubbles = canBubble;
  this.cancelable = cancelable;
  this.timeStamp = +new Date();
  return this;
};

Event.prototype.stopPropagation = function() {};
Event.prototype.preventDefault = function() {};

Event.CAPTURING_PHASE = 1;
Event.AT_TARGET = 2;
Event.BUBBLING_PHASE = 3;

module.exports = Event;

},{}],5:[function(require,module,exports){
'use strict';

/* Simplified implementation of DOM2 EventTarget.
 *   http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-EventTarget
 */

function EventTarget() {
  this._listeners = {};
}

EventTarget.prototype.addEventListener = function(eventType, listener) {
  if (!(eventType in this._listeners)) {
    this._listeners[eventType] = [];
  }
  var arr = this._listeners[eventType];
  // #4
  if (arr.indexOf(listener) === -1) {
    // Make a copy so as not to interfere with a current dispatchEvent.
    arr = arr.concat([listener]);
  }
  this._listeners[eventType] = arr;
};

EventTarget.prototype.removeEventListener = function(eventType, listener) {
  var arr = this._listeners[eventType];
  if (!arr) {
    return;
  }
  var idx = arr.indexOf(listener);
  if (idx !== -1) {
    if (arr.length > 1) {
      // Make a copy so as not to interfere with a current dispatchEvent.
      this._listeners[eventType] = arr.slice(0, idx).concat(arr.slice(idx + 1));
    } else {
      delete this._listeners[eventType];
    }
    return;
  }
};

EventTarget.prototype.dispatchEvent = function() {
  var event = arguments[0];
  var t = event.type;
  // equivalent of Array.prototype.slice.call(arguments, 0);
  var args = arguments.length === 1 ? [event] : Array.apply(null, arguments);
  // TODO: This doesn't match the real behavior; per spec, onfoo get
  // their place in line from the /first/ time they're set from
  // non-null. Although WebKit bumps it to the end every time it's
  // set.
  if (this['on' + t]) {
    this['on' + t].apply(this, args);
  }
  if (t in this._listeners) {
    // Grab a reference to the listeners list. removeEventListener may alter the list.
    var listeners = this._listeners[t];
    for (var i = 0; i < listeners.length; i++) {
      listeners[i].apply(this, args);
    }
  }
};

module.exports = EventTarget;

},{}],6:[function(require,module,exports){
'use strict';

var inherits = require('inherits')
  , Event = require('./event')
  ;

function TransportMessageEvent(data) {
  Event.call(this);
  this.initEvent('message', false, false);
  this.data = data;
}

inherits(TransportMessageEvent, Event);

module.exports = TransportMessageEvent;

},{"./event":4,"inherits":57}],7:[function(require,module,exports){
'use strict';

var JSON3 = require('json3')
  , iframeUtils = require('./utils/iframe')
  ;

function FacadeJS(transport) {
  this._transport = transport;
  transport.on('message', this._transportMessage.bind(this));
  transport.on('close', this._transportClose.bind(this));
}

FacadeJS.prototype._transportClose = function(code, reason) {
  iframeUtils.postMessage('c', JSON3.stringify([code, reason]));
};
FacadeJS.prototype._transportMessage = function(frame) {
  iframeUtils.postMessage('t', frame);
};
FacadeJS.prototype._send = function(data) {
  this._transport.send(data);
};
FacadeJS.prototype._close = function() {
  this._transport.close();
  this._transport.removeAllListeners();
};

module.exports = FacadeJS;

},{"./utils/iframe":47,"json3":58}],8:[function(require,module,exports){
(function (process){
'use strict';

var urlUtils = require('./utils/url')
  , eventUtils = require('./utils/event')
  , JSON3 = require('json3')
  , FacadeJS = require('./facade')
  , InfoIframeReceiver = require('./info-iframe-receiver')
  , iframeUtils = require('./utils/iframe')
  , loc = require('./location')
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:iframe-bootstrap');
}

module.exports = function(SockJS, availableTransports) {
  var transportMap = {};
  availableTransports.forEach(function(at) {
    if (at.facadeTransport) {
      transportMap[at.facadeTransport.transportName] = at.facadeTransport;
    }
  });

  // hard-coded for the info iframe
  // TODO see if we can make this more dynamic
  transportMap[InfoIframeReceiver.transportName] = InfoIframeReceiver;
  var parentOrigin;

  /* eslint-disable camelcase */
  SockJS.bootstrap_iframe = function() {
    /* eslint-enable camelcase */
    var facade;
    iframeUtils.currentWindowId = loc.hash.slice(1);
    var onMessage = function(e) {
      if (e.source !== parent) {
        return;
      }
      if (typeof parentOrigin === 'undefined') {
        parentOrigin = e.origin;
      }
      if (e.origin !== parentOrigin) {
        return;
      }

      var iframeMessage;
      try {
        iframeMessage = JSON3.parse(e.data);
      } catch (ignored) {
        debug('bad json', e.data);
        return;
      }

      if (iframeMessage.windowId !== iframeUtils.currentWindowId) {
        return;
      }
      switch (iframeMessage.type) {
      case 's':
        var p;
        try {
          p = JSON3.parse(iframeMessage.data);
        } catch (ignored) {
          debug('bad json', iframeMessage.data);
          break;
        }
        var version = p[0];
        var transport = p[1];
        var transUrl = p[2];
        var baseUrl = p[3];
        debug(version, transport, transUrl, baseUrl);
        // change this to semver logic
        if (version !== SockJS.version) {
          throw new Error('Incompatible SockJS! Main site uses:' +
                    ' "' + version + '", the iframe:' +
                    ' "' + SockJS.version + '".');
        }

        if (!urlUtils.isOriginEqual(transUrl, loc.href) ||
            !urlUtils.isOriginEqual(baseUrl, loc.href)) {
          throw new Error('Can\'t connect to different domain from within an ' +
                    'iframe. (' + loc.href + ', ' + transUrl + ', ' + baseUrl + ')');
        }
        facade = new FacadeJS(new transportMap[transport](transUrl, baseUrl));
        break;
      case 'm':
        facade._send(iframeMessage.data);
        break;
      case 'c':
        if (facade) {
          facade._close();
        }
        facade = null;
        break;
      }
    };

    eventUtils.attachEvent('message', onMessage);

    // Start
    iframeUtils.postMessage('s');
  };
};

}).call(this,{ env: {} })

},{"./facade":7,"./info-iframe-receiver":10,"./location":13,"./utils/event":46,"./utils/iframe":47,"./utils/url":52,"debug":55,"json3":58}],9:[function(require,module,exports){
(function (process){
'use strict';

var EventEmitter = require('events').EventEmitter
  , inherits = require('inherits')
  , JSON3 = require('json3')
  , objectUtils = require('./utils/object')
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:info-ajax');
}

function InfoAjax(url, AjaxObject) {
  EventEmitter.call(this);

  var self = this;
  var t0 = +new Date();
  this.xo = new AjaxObject('GET', url);

  this.xo.once('finish', function(status, text) {
    var info, rtt;
    if (status === 200) {
      rtt = (+new Date()) - t0;
      if (text) {
        try {
          info = JSON3.parse(text);
        } catch (e) {
          debug('bad json', text);
        }
      }

      if (!objectUtils.isObject(info)) {
        info = {};
      }
    }
    self.emit('finish', info, rtt);
    self.removeAllListeners();
  });
}

inherits(InfoAjax, EventEmitter);

InfoAjax.prototype.close = function() {
  this.removeAllListeners();
  this.xo.close();
};

module.exports = InfoAjax;

}).call(this,{ env: {} })

},{"./utils/object":49,"debug":55,"events":3,"inherits":57,"json3":58}],10:[function(require,module,exports){
'use strict';

var inherits = require('inherits')
  , EventEmitter = require('events').EventEmitter
  , JSON3 = require('json3')
  , XHRLocalObject = require('./transport/sender/xhr-local')
  , InfoAjax = require('./info-ajax')
  ;

function InfoReceiverIframe(transUrl) {
  var self = this;
  EventEmitter.call(this);

  this.ir = new InfoAjax(transUrl, XHRLocalObject);
  this.ir.once('finish', function(info, rtt) {
    self.ir = null;
    self.emit('message', JSON3.stringify([info, rtt]));
  });
}

inherits(InfoReceiverIframe, EventEmitter);

InfoReceiverIframe.transportName = 'iframe-info-receiver';

InfoReceiverIframe.prototype.close = function() {
  if (this.ir) {
    this.ir.close();
    this.ir = null;
  }
  this.removeAllListeners();
};

module.exports = InfoReceiverIframe;

},{"./info-ajax":9,"./transport/sender/xhr-local":37,"events":3,"inherits":57,"json3":58}],11:[function(require,module,exports){
(function (process,global){
'use strict';

var EventEmitter = require('events').EventEmitter
  , inherits = require('inherits')
  , JSON3 = require('json3')
  , utils = require('./utils/event')
  , IframeTransport = require('./transport/iframe')
  , InfoReceiverIframe = require('./info-iframe-receiver')
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:info-iframe');
}

function InfoIframe(baseUrl, url) {
  var self = this;
  EventEmitter.call(this);

  var go = function() {
    var ifr = self.ifr = new IframeTransport(InfoReceiverIframe.transportName, url, baseUrl);

    ifr.once('message', function(msg) {
      if (msg) {
        var d;
        try {
          d = JSON3.parse(msg);
        } catch (e) {
          debug('bad json', msg);
          self.emit('finish');
          self.close();
          return;
        }

        var info = d[0], rtt = d[1];
        self.emit('finish', info, rtt);
      }
      self.close();
    });

    ifr.once('close', function() {
      self.emit('finish');
      self.close();
    });
  };

  // TODO this seems the same as the 'needBody' from transports
  if (!global.document.body) {
    utils.attachEvent('load', go);
  } else {
    go();
  }
}

inherits(InfoIframe, EventEmitter);

InfoIframe.enabled = function() {
  return IframeTransport.enabled();
};

InfoIframe.prototype.close = function() {
  if (this.ifr) {
    this.ifr.close();
  }
  this.removeAllListeners();
  this.ifr = null;
};

module.exports = InfoIframe;

}).call(this,{ env: {} },typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./info-iframe-receiver":10,"./transport/iframe":22,"./utils/event":46,"debug":55,"events":3,"inherits":57,"json3":58}],12:[function(require,module,exports){
(function (process){
'use strict';

var EventEmitter = require('events').EventEmitter
  , inherits = require('inherits')
  , urlUtils = require('./utils/url')
  , XDR = require('./transport/sender/xdr')
  , XHRCors = require('./transport/sender/xhr-cors')
  , XHRLocal = require('./transport/sender/xhr-local')
  , XHRFake = require('./transport/sender/xhr-fake')
  , InfoIframe = require('./info-iframe')
  , InfoAjax = require('./info-ajax')
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:info-receiver');
}

function InfoReceiver(baseUrl, urlInfo) {
  debug(baseUrl);
  var self = this;
  EventEmitter.call(this);

  setTimeout(function() {
    self.doXhr(baseUrl, urlInfo);
  }, 0);
}

inherits(InfoReceiver, EventEmitter);

// TODO this is currently ignoring the list of available transports and the whitelist

InfoReceiver._getReceiver = function(baseUrl, url, urlInfo) {
  // determine method of CORS support (if needed)
  if (urlInfo.sameOrigin) {
    return new InfoAjax(url, XHRLocal);
  }
  if (XHRCors.enabled) {
    return new InfoAjax(url, XHRCors);
  }
  if (XDR.enabled && urlInfo.sameScheme) {
    return new InfoAjax(url, XDR);
  }
  if (InfoIframe.enabled()) {
    return new InfoIframe(baseUrl, url);
  }
  return new InfoAjax(url, XHRFake);
};

InfoReceiver.prototype.doXhr = function(baseUrl, urlInfo) {
  var self = this
    , url = urlUtils.addPath(baseUrl, '/info')
    ;
  debug('doXhr', url);

  this.xo = InfoReceiver._getReceiver(baseUrl, url, urlInfo);

  this.timeoutRef = setTimeout(function() {
    debug('timeout');
    self._cleanup(false);
    self.emit('finish');
  }, InfoReceiver.timeout);

  this.xo.once('finish', function(info, rtt) {
    debug('finish', info, rtt);
    self._cleanup(true);
    self.emit('finish', info, rtt);
  });
};

InfoReceiver.prototype._cleanup = function(wasClean) {
  debug('_cleanup');
  clearTimeout(this.timeoutRef);
  this.timeoutRef = null;
  if (!wasClean && this.xo) {
    this.xo.close();
  }
  this.xo = null;
};

InfoReceiver.prototype.close = function() {
  debug('close');
  this.removeAllListeners();
  this._cleanup(false);
};

InfoReceiver.timeout = 8000;

module.exports = InfoReceiver;

}).call(this,{ env: {} })

},{"./info-ajax":9,"./info-iframe":11,"./transport/sender/xdr":34,"./transport/sender/xhr-cors":35,"./transport/sender/xhr-fake":36,"./transport/sender/xhr-local":37,"./utils/url":52,"debug":55,"events":3,"inherits":57}],13:[function(require,module,exports){
(function (global){
'use strict';

module.exports = global.location || {
  origin: 'http://localhost:80'
, protocol: 'http:'
, host: 'localhost'
, port: 80
, href: 'http://localhost/'
, hash: ''
};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],14:[function(require,module,exports){
(function (process,global){
'use strict';

require('./shims');

var URL = require('url-parse')
  , inherits = require('inherits')
  , JSON3 = require('json3')
  , random = require('./utils/random')
  , escape = require('./utils/escape')
  , urlUtils = require('./utils/url')
  , eventUtils = require('./utils/event')
  , transport = require('./utils/transport')
  , objectUtils = require('./utils/object')
  , browser = require('./utils/browser')
  , log = require('./utils/log')
  , Event = require('./event/event')
  , EventTarget = require('./event/eventtarget')
  , loc = require('./location')
  , CloseEvent = require('./event/close')
  , TransportMessageEvent = require('./event/trans-message')
  , InfoReceiver = require('./info-receiver')
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:main');
}

var transports;

// follow constructor steps defined at http://dev.w3.org/html5/websockets/#the-websocket-interface
function SockJS(url, protocols, options) {
  if (!(this instanceof SockJS)) {
    return new SockJS(url, protocols, options);
  }
  if (arguments.length < 1) {
    throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");
  }
  EventTarget.call(this);

  this.readyState = SockJS.CONNECTING;
  this.extensions = '';
  this.protocol = '';

  // non-standard extension
  options = options || {};
  if (options.protocols_whitelist) {
    log.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead.");
  }
  this._transportsWhitelist = options.transports;
  this._transportOptions = options.transportOptions || {};
  this._timeout = options.timeout || 0;

  var sessionId = options.sessionId || 8;
  if (typeof sessionId === 'function') {
    this._generateSessionId = sessionId;
  } else if (typeof sessionId === 'number') {
    this._generateSessionId = function() {
      return random.string(sessionId);
    };
  } else {
    throw new TypeError('If sessionId is used in the options, it needs to be a number or a function.');
  }

  this._server = options.server || random.numberString(1000);

  // Step 1 of WS spec - parse and validate the url. Issue #8
  var parsedUrl = new URL(url);
  if (!parsedUrl.host || !parsedUrl.protocol) {
    throw new SyntaxError("The URL '" + url + "' is invalid");
  } else if (parsedUrl.hash) {
    throw new SyntaxError('The URL must not contain a fragment');
  } else if (parsedUrl.protocol !== 'http:' && parsedUrl.protocol !== 'https:') {
    throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '" + parsedUrl.protocol + "' is not allowed.");
  }

  var secure = parsedUrl.protocol === 'https:';
  // Step 2 - don't allow secure origin with an insecure protocol
  if (loc.protocol === 'https:' && !secure) {
    throw new Error('SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS');
  }

  // Step 3 - check port access - no need here
  // Step 4 - parse protocols argument
  if (!protocols) {
    protocols = [];
  } else if (!Array.isArray(protocols)) {
    protocols = [protocols];
  }

  // Step 5 - check protocols argument
  var sortedProtocols = protocols.sort();
  sortedProtocols.forEach(function(proto, i) {
    if (!proto) {
      throw new SyntaxError("The protocols entry '" + proto + "' is invalid.");
    }
    if (i < (sortedProtocols.length - 1) && proto === sortedProtocols[i + 1]) {
      throw new SyntaxError("The protocols entry '" + proto + "' is duplicated.");
    }
  });

  // Step 6 - convert origin
  var o = urlUtils.getOrigin(loc.href);
  this._origin = o ? o.toLowerCase() : null;

  // remove the trailing slash
  parsedUrl.set('pathname', parsedUrl.pathname.replace(/\/+$/, ''));

  // store the sanitized url
  this.url = parsedUrl.href;
  debug('using url', this.url);

  // Step 7 - start connection in background
  // obtain server info
  // http://sockjs.github.io/sockjs-protocol/sockjs-protocol-0.3.3.html#section-26
  this._urlInfo = {
    nullOrigin: !browser.hasDomain()
  , sameOrigin: urlUtils.isOriginEqual(this.url, loc.href)
  , sameScheme: urlUtils.isSchemeEqual(this.url, loc.href)
  };

  this._ir = new InfoReceiver(this.url, this._urlInfo);
  this._ir.once('finish', this._receiveInfo.bind(this));
}

inherits(SockJS, EventTarget);

function userSetCode(code) {
  return code === 1000 || (code >= 3000 && code <= 4999);
}

SockJS.prototype.close = function(code, reason) {
  // Step 1
  if (code && !userSetCode(code)) {
    throw new Error('InvalidAccessError: Invalid code');
  }
  // Step 2.4 states the max is 123 bytes, but we are just checking length
  if (reason && reason.length > 123) {
    throw new SyntaxError('reason argument has an invalid length');
  }

  // Step 3.1
  if (this.readyState === SockJS.CLOSING || this.readyState === SockJS.CLOSED) {
    return;
  }

  // TODO look at docs to determine how to set this
  var wasClean = true;
  this._close(code || 1000, reason || 'Normal closure', wasClean);
};

SockJS.prototype.send = function(data) {
  // #13 - convert anything non-string to string
  // TODO this currently turns objects into [object Object]
  if (typeof data !== 'string') {
    data = '' + data;
  }
  if (this.readyState === SockJS.CONNECTING) {
    throw new Error('InvalidStateError: The connection has not been established yet');
  }
  if (this.readyState !== SockJS.OPEN) {
    return;
  }
  this._transport.send(escape.quote(data));
};

SockJS.version = require('./version');

SockJS.CONNECTING = 0;
SockJS.OPEN = 1;
SockJS.CLOSING = 2;
SockJS.CLOSED = 3;

SockJS.prototype._receiveInfo = function(info, rtt) {
  debug('_receiveInfo', rtt);
  this._ir = null;
  if (!info) {
    this._close(1002, 'Cannot connect to server');
    return;
  }

  // establish a round-trip timeout (RTO) based on the
  // round-trip time (RTT)
  this._rto = this.countRTO(rtt);
  // allow server to override url used for the actual transport
  this._transUrl = info.base_url ? info.base_url : this.url;
  info = objectUtils.extend(info, this._urlInfo);
  debug('info', info);
  // determine list of desired and supported transports
  var enabledTransports = transports.filterToEnabled(this._transportsWhitelist, info);
  this._transports = enabledTransports.main;
  debug(this._transports.length + ' enabled transports');

  this._connect();
};

SockJS.prototype._connect = function() {
  for (var Transport = this._transports.shift(); Transport; Transport = this._transports.shift()) {
    debug('attempt', Transport.transportName);
    if (Transport.needBody) {
      if (!global.document.body ||
          (typeof global.document.readyState !== 'undefined' &&
            global.document.readyState !== 'complete' &&
            global.document.readyState !== 'interactive')) {
        debug('waiting for body');
        this._transports.unshift(Transport);
        eventUtils.attachEvent('load', this._connect.bind(this));
        return;
      }
    }

    // calculate timeout based on RTO and round trips. Default to 5s
    var timeoutMs = Math.max(this._timeout, (this._rto * Transport.roundTrips) || 5000);
    this._transportTimeoutId = setTimeout(this._transportTimeout.bind(this), timeoutMs);
    debug('using timeout', timeoutMs);

    var transportUrl = urlUtils.addPath(this._transUrl, '/' + this._server + '/' + this._generateSessionId());
    var options = this._transportOptions[Transport.transportName];
    debug('transport url', transportUrl);
    var transportObj = new Transport(transportUrl, this._transUrl, options);
    transportObj.on('message', this._transportMessage.bind(this));
    transportObj.once('close', this._transportClose.bind(this));
    transportObj.transportName = Transport.transportName;
    this._transport = transportObj;

    return;
  }
  this._close(2000, 'All transports failed', false);
};

SockJS.prototype._transportTimeout = function() {
  debug('_transportTimeout');
  if (this.readyState === SockJS.CONNECTING) {
    if (this._transport) {
      this._transport.close();
    }

    this._transportClose(2007, 'Transport timed out');
  }
};

SockJS.prototype._transportMessage = function(msg) {
  debug('_transportMessage', msg);
  var self = this
    , type = msg.slice(0, 1)
    , content = msg.slice(1)
    , payload
    ;

  // first check for messages that don't need a payload
  switch (type) {
    case 'o':
      this._open();
      return;
    case 'h':
      this.dispatchEvent(new Event('heartbeat'));
      debug('heartbeat', this.transport);
      return;
  }

  if (content) {
    try {
      payload = JSON3.parse(content);
    } catch (e) {
      debug('bad json', content);
    }
  }

  if (typeof payload === 'undefined') {
    debug('empty payload', content);
    return;
  }

  switch (type) {
    case 'a':
      if (Array.isArray(payload)) {
        payload.forEach(function(p) {
          debug('message', self.transport, p);
          self.dispatchEvent(new TransportMessageEvent(p));
        });
      }
      break;
    case 'm':
      debug('message', this.transport, payload);
      this.dispatchEvent(new TransportMessageEvent(payload));
      break;
    case 'c':
      if (Array.isArray(payload) && payload.length === 2) {
        this._close(payload[0], payload[1], true);
      }
      break;
  }
};

SockJS.prototype._transportClose = function(code, reason) {
  debug('_transportClose', this.transport, code, reason);
  if (this._transport) {
    this._transport.removeAllListeners();
    this._transport = null;
    this.transport = null;
  }

  if (!userSetCode(code) && code !== 2000 && this.readyState === SockJS.CONNECTING) {
    this._connect();
    return;
  }

  this._close(code, reason);
};

SockJS.prototype._open = function() {
  debug('_open', this._transport && this._transport.transportName, this.readyState);
  if (this.readyState === SockJS.CONNECTING) {
    if (this._transportTimeoutId) {
      clearTimeout(this._transportTimeoutId);
      this._transportTimeoutId = null;
    }
    this.readyState = SockJS.OPEN;
    this.transport = this._transport.transportName;
    this.dispatchEvent(new Event('open'));
    debug('connected', this.transport);
  } else {
    // The server might have been restarted, and lost track of our
    // connection.
    this._close(1006, 'Server lost session');
  }
};

SockJS.prototype._close = function(code, reason, wasClean) {
  debug('_close', this.transport, code, reason, wasClean, this.readyState);
  var forceFail = false;

  if (this._ir) {
    forceFail = true;
    this._ir.close();
    this._ir = null;
  }
  if (this._transport) {
    this._transport.close();
    this._transport = null;
    this.transport = null;
  }

  if (this.readyState === SockJS.CLOSED) {
    throw new Error('InvalidStateError: SockJS has already been closed');
  }

  this.readyState = SockJS.CLOSING;
  setTimeout(function() {
    this.readyState = SockJS.CLOSED;

    if (forceFail) {
      this.dispatchEvent(new Event('error'));
    }

    var e = new CloseEvent('close');
    e.wasClean = wasClean || false;
    e.code = code || 1000;
    e.reason = reason;

    this.dispatchEvent(e);
    this.onmessage = this.onclose = this.onerror = null;
    debug('disconnected');
  }.bind(this), 0);
};

// See: http://www.erg.abdn.ac.uk/~gerrit/dccp/notes/ccid2/rto_estimator/
// and RFC 2988.
SockJS.prototype.countRTO = function(rtt) {
  // In a local environment, when using IE8/9 and the `jsonp-polling`
  // transport the time needed to establish a connection (the time that pass
  // from the opening of the transport to the call of `_dispatchOpen`) is
  // around 200msec (the lower bound used in the article above) and this
  // causes spurious timeouts. For this reason we calculate a value slightly
  // larger than that used in the article.
  if (rtt > 100) {
    return 4 * rtt; // rto > 400msec
  }
  return 300 + rtt; // 300msec < rto <= 400msec
};

module.exports = function(availableTransports) {
  transports = transport(availableTransports);
  require('./iframe-bootstrap')(SockJS, availableTransports);
  return SockJS;
};

}).call(this,{ env: {} },typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./event/close":2,"./event/event":4,"./event/eventtarget":5,"./event/trans-message":6,"./iframe-bootstrap":8,"./info-receiver":12,"./location":13,"./shims":15,"./utils/browser":44,"./utils/escape":45,"./utils/event":46,"./utils/log":48,"./utils/object":49,"./utils/random":50,"./utils/transport":51,"./utils/url":52,"./version":53,"debug":55,"inherits":57,"json3":58,"url-parse":61}],15:[function(require,module,exports){
/* eslint-disable */
/* jscs: disable */
'use strict';

// pulled specific shims from https://github.com/es-shims/es5-shim

var ArrayPrototype = Array.prototype;
var ObjectPrototype = Object.prototype;
var FunctionPrototype = Function.prototype;
var StringPrototype = String.prototype;
var array_slice = ArrayPrototype.slice;

var _toString = ObjectPrototype.toString;
var isFunction = function (val) {
    return ObjectPrototype.toString.call(val) === '[object Function]';
};
var isArray = function isArray(obj) {
    return _toString.call(obj) === '[object Array]';
};
var isString = function isString(obj) {
    return _toString.call(obj) === '[object String]';
};

var supportsDescriptors = Object.defineProperty && (function () {
    try {
        Object.defineProperty({}, 'x', {});
        return true;
    } catch (e) { /* this is ES3 */
        return false;
    }
}());

// Define configurable, writable and non-enumerable props
// if they don't exist.
var defineProperty;
if (supportsDescriptors) {
    defineProperty = function (object, name, method, forceAssign) {
        if (!forceAssign && (name in object)) { return; }
        Object.defineProperty(object, name, {
            configurable: true,
            enumerable: false,
            writable: true,
            value: method
        });
    };
} else {
    defineProperty = function (object, name, method, forceAssign) {
        if (!forceAssign && (name in object)) { return; }
        object[name] = method;
    };
}
var defineProperties = function (object, map, forceAssign) {
    for (var name in map) {
        if (ObjectPrototype.hasOwnProperty.call(map, name)) {
          defineProperty(object, name, map[name], forceAssign);
        }
    }
};

var toObject = function (o) {
    if (o == null) { // this matches both null and undefined
        throw new TypeError("can't convert " + o + ' to object');
    }
    return Object(o);
};

//
// Util
// ======
//

// ES5 9.4
// http://es5.github.com/#x9.4
// http://jsperf.com/to-integer

function toInteger(num) {
    var n = +num;
    if (n !== n) { // isNaN
        n = 0;
    } else if (n !== 0 && n !== (1 / 0) && n !== -(1 / 0)) {
        n = (n > 0 || -1) * Math.floor(Math.abs(n));
    }
    return n;
}

function ToUint32(x) {
    return x >>> 0;
}

//
// Function
// ========
//

// ES-5 15.3.4.5
// http://es5.github.com/#x15.3.4.5

function Empty() {}

defineProperties(FunctionPrototype, {
    bind: function bind(that) { // .length is 1
        // 1. Let Target be the this value.
        var target = this;
        // 2. If IsCallable(Target) is false, throw a TypeError exception.
        if (!isFunction(target)) {
            throw new TypeError('Function.prototype.bind called on incompatible ' + target);
        }
        // 3. Let A be a new (possibly empty) internal list of all of the
        //   argument values provided after thisArg (arg1, arg2 etc), in order.
        // XXX slicedArgs will stand in for "A" if used
        var args = array_slice.call(arguments, 1); // for normal call
        // 4. Let F be a new native ECMAScript object.
        // 11. Set the [[Prototype]] internal property of F to the standard
        //   built-in Function prototype object as specified in 15.3.3.1.
        // 12. Set the [[Call]] internal property of F as described in
        //   15.3.4.5.1.
        // 13. Set the [[Construct]] internal property of F as described in
        //   15.3.4.5.2.
        // 14. Set the [[HasInstance]] internal property of F as described in
        //   15.3.4.5.3.
        var binder = function () {

            if (this instanceof bound) {
                // 15.3.4.5.2 [[Construct]]
                // When the [[Construct]] internal method of a function object,
                // F that was created using the bind function is called with a
                // list of arguments ExtraArgs, the following steps are taken:
                // 1. Let target be the value of F's [[TargetFunction]]
                //   internal property.
                // 2. If target has no [[Construct]] internal method, a
                //   TypeError exception is thrown.
                // 3. Let boundArgs be the value of F's [[BoundArgs]] internal
                //   property.
                // 4. Let args be a new list containing the same values as the
                //   list boundArgs in the same order followed by the same
                //   values as the list ExtraArgs in the same order.
                // 5. Return the result of calling the [[Construct]] internal
                //   method of target providing args as the arguments.

                var result = target.apply(
                    this,
                    args.concat(array_slice.call(arguments))
                );
                if (Object(result) === result) {
                    return result;
                }
                return this;

            } else {
                // 15.3.4.5.1 [[Call]]
                // When the [[Call]] internal method of a function object, F,
                // which was created using the bind function is called with a
                // this value and a list of arguments ExtraArgs, the following
                // steps are taken:
                // 1. Let boundArgs be the value of F's [[BoundArgs]] internal
                //   property.
                // 2. Let boundThis be the value of F's [[BoundThis]] internal
                //   property.
                // 3. Let target be the value of F's [[TargetFunction]] internal
                //   property.
                // 4. Let args be a new list containing the same values as the
                //   list boundArgs in the same order followed by the same
                //   values as the list ExtraArgs in the same order.
                // 5. Return the result of calling the [[Call]] internal method
                //   of target providing boundThis as the this value and
                //   providing args as the arguments.

                // equiv: target.call(this, ...boundArgs, ...args)
                return target.apply(
                    that,
                    args.concat(array_slice.call(arguments))
                );

            }

        };

        // 15. If the [[Class]] internal property of Target is "Function", then
        //     a. Let L be the length property of Target minus the length of A.
        //     b. Set the length own property of F to either 0 or L, whichever is
        //       larger.
        // 16. Else set the length own property of F to 0.

        var boundLength = Math.max(0, target.length - args.length);

        // 17. Set the attributes of the length own property of F to the values
        //   specified in 15.3.5.1.
        var boundArgs = [];
        for (var i = 0; i < boundLength; i++) {
            boundArgs.push('$' + i);
        }

        // XXX Build a dynamic function with desired amount of arguments is the only
        // way to set the length property of a function.
        // In environments where Content Security Policies enabled (Chrome extensions,
        // for ex.) all use of eval or Function costructor throws an exception.
        // However in all of these environments Function.prototype.bind exists
        // and so this code will never be executed.
        var bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this, arguments); }')(binder);

        if (target.prototype) {
            Empty.prototype = target.prototype;
            bound.prototype = new Empty();
            // Clean up dangling references.
            Empty.prototype = null;
        }

        // TODO
        // 18. Set the [[Extensible]] internal property of F to true.

        // TODO
        // 19. Let thrower be the [[ThrowTypeError]] function Object (13.2.3).
        // 20. Call the [[DefineOwnProperty]] internal method of F with
        //   arguments "caller", PropertyDescriptor {[[Get]]: thrower, [[Set]]:
        //   thrower, [[Enumerable]]: false, [[Configurable]]: false}, and
        //   false.
        // 21. Call the [[DefineOwnProperty]] internal method of F with
        //   arguments "arguments", PropertyDescriptor {[[Get]]: thrower,
        //   [[Set]]: thrower, [[Enumerable]]: false, [[Configurable]]: false},
        //   and false.

        // TODO
        // NOTE Function objects created using Function.prototype.bind do not
        // have a prototype property or the [[Code]], [[FormalParameters]], and
        // [[Scope]] internal properties.
        // XXX can't delete prototype in pure-js.

        // 22. Return F.
        return bound;
    }
});

//
// Array
// =====
//

// ES5 15.4.3.2
// http://es5.github.com/#x15.4.3.2
// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/isArray
defineProperties(Array, { isArray: isArray });


var boxedString = Object('a');
var splitString = boxedString[0] !== 'a' || !(0 in boxedString);

var properlyBoxesContext = function properlyBoxed(method) {
    // Check node 0.6.21 bug where third parameter is not boxed
    var properlyBoxesNonStrict = true;
    var properlyBoxesStrict = true;
    if (method) {
        method.call('foo', function (_, __, context) {
            if (typeof context !== 'object') { properlyBoxesNonStrict = false; }
        });

        method.call([1], function () {
            'use strict';
            properlyBoxesStrict = typeof this === 'string';
        }, 'x');
    }
    return !!method && properlyBoxesNonStrict && properlyBoxesStrict;
};

defineProperties(ArrayPrototype, {
    forEach: function forEach(fun /*, thisp*/) {
        var object = toObject(this),
            self = splitString && isString(this) ? this.split('') : object,
            thisp = arguments[1],
            i = -1,
            length = self.length >>> 0;

        // If no callback function or if callback is not a callable function
        if (!isFunction(fun)) {
            throw new TypeError(); // TODO message
        }

        while (++i < length) {
            if (i in self) {
                // Invoke the callback function with call, passing arguments:
                // context, property value, property key, thisArg object
                // context
                fun.call(thisp, self[i], i, object);
            }
        }
    }
}, !properlyBoxesContext(ArrayPrototype.forEach));

// ES5 15.4.4.14
// http://es5.github.com/#x15.4.4.14
// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/indexOf
var hasFirefox2IndexOfBug = Array.prototype.indexOf && [0, 1].indexOf(1, 2) !== -1;
defineProperties(ArrayPrototype, {
    indexOf: function indexOf(sought /*, fromIndex */ ) {
        var self = splitString && isString(this) ? this.split('') : toObject(this),
            length = self.length >>> 0;

        if (!length) {
            return -1;
        }

        var i = 0;
        if (arguments.length > 1) {
            i = toInteger(arguments[1]);
        }

        // handle negative indices
        i = i >= 0 ? i : Math.max(0, length + i);
        for (; i < length; i++) {
            if (i in self && self[i] === sought) {
                return i;
            }
        }
        return -1;
    }
}, hasFirefox2IndexOfBug);

//
// String
// ======
//

// ES5 15.5.4.14
// http://es5.github.com/#x15.5.4.14

// [bugfix, IE lt 9, firefox 4, Konqueror, Opera, obscure browsers]
// Many browsers do not split properly with regular expressions or they
// do not perform the split correctly under obscure conditions.
// See http://blog.stevenlevithan.com/archives/cross-browser-split
// I've tested in many browsers and this seems to cover the deviant ones:
//    'ab'.split(/(?:ab)*/) should be ["", ""], not [""]
//    '.'.split(/(.?)(.?)/) should be ["", ".", "", ""], not ["", ""]
//    'tesst'.split(/(s)*/) should be ["t", undefined, "e", "s", "t"], not
//       [undefined, "t", undefined, "e", ...]
//    ''.split(/.?/) should be [], not [""]
//    '.'.split(/()()/) should be ["."], not ["", "", "."]

var string_split = StringPrototype.split;
if (
    'ab'.split(/(?:ab)*/).length !== 2 ||
    '.'.split(/(.?)(.?)/).length !== 4 ||
    'tesst'.split(/(s)*/)[1] === 't' ||
    'test'.split(/(?:)/, -1).length !== 4 ||
    ''.split(/.?/).length ||
    '.'.split(/()()/).length > 1
) {
    (function () {
        var compliantExecNpcg = /()??/.exec('')[1] === void 0; // NPCG: nonparticipating capturing group

        StringPrototype.split = function (separator, limit) {
            var string = this;
            if (separator === void 0 && limit === 0) {
                return [];
            }

            // If `separator` is not a regex, use native split
            if (_toString.call(separator) !== '[object RegExp]') {
                return string_split.call(this, separator, limit);
            }

            var output = [],
                flags = (separator.ignoreCase ? 'i' : '') +
                        (separator.multiline  ? 'm' : '') +
                        (separator.extended   ? 'x' : '') + // Proposed for ES6
                        (separator.sticky     ? 'y' : ''), // Firefox 3+
                lastLastIndex = 0,
                // Make `global` and avoid `lastIndex` issues by working with a copy
                separator2, match, lastIndex, lastLength;
            separator = new RegExp(separator.source, flags + 'g');
            string += ''; // Type-convert
            if (!compliantExecNpcg) {
                // Doesn't need flags gy, but they don't hurt
                separator2 = new RegExp('^' + separator.source + '$(?!\\s)', flags);
            }
            /* Values for `limit`, per the spec:
             * If undefined: 4294967295 // Math.pow(2, 32) - 1
             * If 0, Infinity, or NaN: 0
             * If positive number: limit = Math.floor(limit); if (limit > 4294967295) limit -= 4294967296;
             * If negative number: 4294967296 - Math.floor(Math.abs(limit))
             * If other: Type-convert, then use the above rules
             */
            limit = limit === void 0 ?
                -1 >>> 0 : // Math.pow(2, 32) - 1
                ToUint32(limit);
            while (match = separator.exec(string)) {
                // `separator.lastIndex` is not reliable cross-browser
                lastIndex = match.index + match[0].length;
                if (lastIndex > lastLastIndex) {
                    output.push(string.slice(lastLastIndex, match.index));
                    // Fix browsers whose `exec` methods don't consistently return `undefined` for
                    // nonparticipating capturing groups
                    if (!compliantExecNpcg && match.length > 1) {
                        match[0].replace(separator2, function () {
                            for (var i = 1; i < arguments.length - 2; i++) {
                                if (arguments[i] === void 0) {
                                    match[i] = void 0;
                                }
                            }
                        });
                    }
                    if (match.length > 1 && match.index < string.length) {
                        ArrayPrototype.push.apply(output, match.slice(1));
                    }
                    lastLength = match[0].length;
                    lastLastIndex = lastIndex;
                    if (output.length >= limit) {
                        break;
                    }
                }
                if (separator.lastIndex === match.index) {
                    separator.lastIndex++; // Avoid an infinite loop
                }
            }
            if (lastLastIndex === string.length) {
                if (lastLength || !separator.test('')) {
                    output.push('');
                }
            } else {
                output.push(string.slice(lastLastIndex));
            }
            return output.length > limit ? output.slice(0, limit) : output;
        };
    }());

// [bugfix, chrome]
// If separator is undefined, then the result array contains just one String,
// which is the this value (converted to a String). If limit is not undefined,
// then the output array is truncated so that it contains no more than limit
// elements.
// "0".split(undefined, 0) -> []
} else if ('0'.split(void 0, 0).length) {
    StringPrototype.split = function split(separator, limit) {
        if (separator === void 0 && limit === 0) { return []; }
        return string_split.call(this, separator, limit);
    };
}

// ECMA-262, 3rd B.2.3
// Not an ECMAScript standard, although ECMAScript 3rd Edition has a
// non-normative section suggesting uniform semantics and it should be
// normalized across all browsers
// [bugfix, IE lt 9] IE < 9 substr() with negative value not working in IE
var string_substr = StringPrototype.substr;
var hasNegativeSubstrBug = ''.substr && '0b'.substr(-1) !== 'b';
defineProperties(StringPrototype, {
    substr: function substr(start, length) {
        return string_substr.call(
            this,
            start < 0 ? ((start = this.length + start) < 0 ? 0 : start) : start,
            length
        );
    }
}, hasNegativeSubstrBug);

},{}],16:[function(require,module,exports){
'use strict';

module.exports = [
  // streaming transports
  require('./transport/websocket')
, require('./transport/xhr-streaming')
, require('./transport/xdr-streaming')
, require('./transport/eventsource')
, require('./transport/lib/iframe-wrap')(require('./transport/eventsource'))

  // polling transports
, require('./transport/htmlfile')
, require('./transport/lib/iframe-wrap')(require('./transport/htmlfile'))
, require('./transport/xhr-polling')
, require('./transport/xdr-polling')
, require('./transport/lib/iframe-wrap')(require('./transport/xhr-polling'))
, require('./transport/jsonp-polling')
];

},{"./transport/eventsource":20,"./transport/htmlfile":21,"./transport/jsonp-polling":23,"./transport/lib/iframe-wrap":26,"./transport/websocket":38,"./transport/xdr-polling":39,"./transport/xdr-streaming":40,"./transport/xhr-polling":41,"./transport/xhr-streaming":42}],17:[function(require,module,exports){
(function (process,global){
'use strict';

var EventEmitter = require('events').EventEmitter
  , inherits = require('inherits')
  , utils = require('../../utils/event')
  , urlUtils = require('../../utils/url')
  , XHR = global.XMLHttpRequest
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:browser:xhr');
}

function AbstractXHRObject(method, url, payload, opts) {
  debug(method, url);
  var self = this;
  EventEmitter.call(this);

  setTimeout(function () {
    self._start(method, url, payload, opts);
  }, 0);
}

inherits(AbstractXHRObject, EventEmitter);

AbstractXHRObject.prototype._start = function(method, url, payload, opts) {
  var self = this;

  try {
    this.xhr = new XHR();
  } catch (x) {
    // intentionally empty
  }

  if (!this.xhr) {
    debug('no xhr');
    this.emit('finish', 0, 'no xhr support');
    this._cleanup();
    return;
  }

  // several browsers cache POSTs
  url = urlUtils.addQuery(url, 't=' + (+new Date()));

  // Explorer tends to keep connection open, even after the
  // tab gets closed: http://bugs.jquery.com/ticket/5280
  this.unloadRef = utils.unloadAdd(function() {
    debug('unload cleanup');
    self._cleanup(true);
  });
  try {
    this.xhr.open(method, url, true);
    if (this.timeout && 'timeout' in this.xhr) {
      this.xhr.timeout = this.timeout;
      this.xhr.ontimeout = function() {
        debug('xhr timeout');
        self.emit('finish', 0, '');
        self._cleanup(false);
      };
    }
  } catch (e) {
    debug('exception', e);
    // IE raises an exception on wrong port.
    this.emit('finish', 0, '');
    this._cleanup(false);
    return;
  }

  if ((!opts || !opts.noCredentials) && AbstractXHRObject.supportsCORS) {
    debug('withCredentials');
    // Mozilla docs says https://developer.mozilla.org/en/XMLHttpRequest :
    // "This never affects same-site requests."

    this.xhr.withCredentials = true;
  }
  if (opts && opts.headers) {
    for (var key in opts.headers) {
      this.xhr.setRequestHeader(key, opts.headers[key]);
    }
  }

  this.xhr.onreadystatechange = function() {
    if (self.xhr) {
      var x = self.xhr;
      var text, status;
      debug('readyState', x.readyState);
      switch (x.readyState) {
      case 3:
        // IE doesn't like peeking into responseText or status
        // on Microsoft.XMLHTTP and readystate=3
        try {
          status = x.status;
          text = x.responseText;
        } catch (e) {
          // intentionally empty
        }
        debug('status', status);
        // IE returns 1223 for 204: http://bugs.jquery.com/ticket/1450
        if (status === 1223) {
          status = 204;
        }

        // IE does return readystate == 3 for 404 answers.
        if (status === 200 && text && text.length > 0) {
          debug('chunk');
          self.emit('chunk', status, text);
        }
        break;
      case 4:
        status = x.status;
        debug('status', status);
        // IE returns 1223 for 204: http://bugs.jquery.com/ticket/1450
        if (status === 1223) {
          status = 204;
        }
        // IE returns this for a bad port
        // http://msdn.microsoft.com/en-us/library/windows/desktop/aa383770(v=vs.85).aspx
        if (status === 12005 || status === 12029) {
          status = 0;
        }

        debug('finish', status, x.responseText);
        self.emit('finish', status, x.responseText);
        self._cleanup(false);
        break;
      }
    }
  };

  try {
    self.xhr.send(payload);
  } catch (e) {
    self.emit('finish', 0, '');
    self._cleanup(false);
  }
};

AbstractXHRObject.prototype._cleanup = function(abort) {
  debug('cleanup');
  if (!this.xhr) {
    return;
  }
  this.removeAllListeners();
  utils.unloadDel(this.unloadRef);

  // IE needs this field to be a function
  this.xhr.onreadystatechange = function() {};
  if (this.xhr.ontimeout) {
    this.xhr.ontimeout = null;
  }

  if (abort) {
    try {
      this.xhr.abort();
    } catch (x) {
      // intentionally empty
    }
  }
  this.unloadRef = this.xhr = null;
};

AbstractXHRObject.prototype.close = function() {
  debug('close');
  this._cleanup(true);
};

AbstractXHRObject.enabled = !!XHR;
// override XMLHttpRequest for IE6/7
// obfuscate to avoid firewalls
var axo = ['Active'].concat('Object').join('X');
if (!AbstractXHRObject.enabled && (axo in global)) {
  debug('overriding xmlhttprequest');
  XHR = function() {
    try {
      return new global[axo]('Microsoft.XMLHTTP');
    } catch (e) {
      return null;
    }
  };
  AbstractXHRObject.enabled = !!new XHR();
}

var cors = false;
try {
  cors = 'withCredentials' in new XHR();
} catch (ignored) {
  // intentionally empty
}

AbstractXHRObject.supportsCORS = cors;

module.exports = AbstractXHRObject;

}).call(this,{ env: {} },typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../../utils/event":46,"../../utils/url":52,"debug":55,"events":3,"inherits":57}],18:[function(require,module,exports){
(function (global){
module.exports = global.EventSource;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],19:[function(require,module,exports){
(function (global){
'use strict';

var Driver = global.WebSocket || global.MozWebSocket;
if (Driver) {
	module.exports = function WebSocketBrowserDriver(url) {
		return new Driver(url);
	};
} else {
	module.exports = undefined;
}

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],20:[function(require,module,exports){
'use strict';

var inherits = require('inherits')
  , AjaxBasedTransport = require('./lib/ajax-based')
  , EventSourceReceiver = require('./receiver/eventsource')
  , XHRCorsObject = require('./sender/xhr-cors')
  , EventSourceDriver = require('eventsource')
  ;

function EventSourceTransport(transUrl) {
  if (!EventSourceTransport.enabled()) {
    throw new Error('Transport created when disabled');
  }

  AjaxBasedTransport.call(this, transUrl, '/eventsource', EventSourceReceiver, XHRCorsObject);
}

inherits(EventSourceTransport, AjaxBasedTransport);

EventSourceTransport.enabled = function() {
  return !!EventSourceDriver;
};

EventSourceTransport.transportName = 'eventsource';
EventSourceTransport.roundTrips = 2;

module.exports = EventSourceTransport;

},{"./lib/ajax-based":24,"./receiver/eventsource":29,"./sender/xhr-cors":35,"eventsource":18,"inherits":57}],21:[function(require,module,exports){
'use strict';

var inherits = require('inherits')
  , HtmlfileReceiver = require('./receiver/htmlfile')
  , XHRLocalObject = require('./sender/xhr-local')
  , AjaxBasedTransport = require('./lib/ajax-based')
  ;

function HtmlFileTransport(transUrl) {
  if (!HtmlfileReceiver.enabled) {
    throw new Error('Transport created when disabled');
  }
  AjaxBasedTransport.call(this, transUrl, '/htmlfile', HtmlfileReceiver, XHRLocalObject);
}

inherits(HtmlFileTransport, AjaxBasedTransport);

HtmlFileTransport.enabled = function(info) {
  return HtmlfileReceiver.enabled && info.sameOrigin;
};

HtmlFileTransport.transportName = 'htmlfile';
HtmlFileTransport.roundTrips = 2;

module.exports = HtmlFileTransport;

},{"./lib/ajax-based":24,"./receiver/htmlfile":30,"./sender/xhr-local":37,"inherits":57}],22:[function(require,module,exports){
(function (process){
'use strict';

// Few cool transports do work only for same-origin. In order to make
// them work cross-domain we shall use iframe, served from the
// remote domain. New browsers have capabilities to communicate with
// cross domain iframe using postMessage(). In IE it was implemented
// from IE 8+, but of course, IE got some details wrong:
//    http://msdn.microsoft.com/en-us/library/cc197015(v=VS.85).aspx
//    http://stevesouders.com/misc/test-postmessage.php

var inherits = require('inherits')
  , JSON3 = require('json3')
  , EventEmitter = require('events').EventEmitter
  , version = require('../version')
  , urlUtils = require('../utils/url')
  , iframeUtils = require('../utils/iframe')
  , eventUtils = require('../utils/event')
  , random = require('../utils/random')
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:transport:iframe');
}

function IframeTransport(transport, transUrl, baseUrl) {
  if (!IframeTransport.enabled()) {
    throw new Error('Transport created when disabled');
  }
  EventEmitter.call(this);

  var self = this;
  this.origin = urlUtils.getOrigin(baseUrl);
  this.baseUrl = baseUrl;
  this.transUrl = transUrl;
  this.transport = transport;
  this.windowId = random.string(8);

  var iframeUrl = urlUtils.addPath(baseUrl, '/iframe.html') + '#' + this.windowId;
  debug(transport, transUrl, iframeUrl);

  this.iframeObj = iframeUtils.createIframe(iframeUrl, function(r) {
    debug('err callback');
    self.emit('close', 1006, 'Unable to load an iframe (' + r + ')');
    self.close();
  });

  this.onmessageCallback = this._message.bind(this);
  eventUtils.attachEvent('message', this.onmessageCallback);
}

inherits(IframeTransport, EventEmitter);

IframeTransport.prototype.close = function() {
  debug('close');
  this.removeAllListeners();
  if (this.iframeObj) {
    eventUtils.detachEvent('message', this.onmessageCallback);
    try {
      // When the iframe is not loaded, IE raises an exception
      // on 'contentWindow'.
      this.postMessage('c');
    } catch (x) {
      // intentionally empty
    }
    this.iframeObj.cleanup();
    this.iframeObj = null;
    this.onmessageCallback = this.iframeObj = null;
  }
};

IframeTransport.prototype._message = function(e) {
  debug('message', e.data);
  if (!urlUtils.isOriginEqual(e.origin, this.origin)) {
    debug('not same origin', e.origin, this.origin);
    return;
  }

  var iframeMessage;
  try {
    iframeMessage = JSON3.parse(e.data);
  } catch (ignored) {
    debug('bad json', e.data);
    return;
  }

  if (iframeMessage.windowId !== this.windowId) {
    debug('mismatched window id', iframeMessage.windowId, this.windowId);
    return;
  }

  switch (iframeMessage.type) {
  case 's':
    this.iframeObj.loaded();
    // window global dependency
    this.postMessage('s', JSON3.stringify([
      version
    , this.transport
    , this.transUrl
    , this.baseUrl
    ]));
    break;
  case 't':
    this.emit('message', iframeMessage.data);
    break;
  case 'c':
    var cdata;
    try {
      cdata = JSON3.parse(iframeMessage.data);
    } catch (ignored) {
      debug('bad json', iframeMessage.data);
      return;
    }
    this.emit('close', cdata[0], cdata[1]);
    this.close();
    break;
  }
};

IframeTransport.prototype.postMessage = function(type, data) {
  debug('postMessage', type, data);
  this.iframeObj.post(JSON3.stringify({
    windowId: this.windowId
  , type: type
  , data: data || ''
  }), this.origin);
};

IframeTransport.prototype.send = function(message) {
  debug('send', message);
  this.postMessage('m', message);
};

IframeTransport.enabled = function() {
  return iframeUtils.iframeEnabled;
};

IframeTransport.transportName = 'iframe';
IframeTransport.roundTrips = 2;

module.exports = IframeTransport;

}).call(this,{ env: {} })

},{"../utils/event":46,"../utils/iframe":47,"../utils/random":50,"../utils/url":52,"../version":53,"debug":55,"events":3,"inherits":57,"json3":58}],23:[function(require,module,exports){
(function (global){
'use strict';

// The simplest and most robust transport, using the well-know cross
// domain hack - JSONP. This transport is quite inefficient - one
// message could use up to one http request. But at least it works almost
// everywhere.
// Known limitations:
//   o you will get a spinning cursor
//   o for Konqueror a dumb timer is needed to detect errors

var inherits = require('inherits')
  , SenderReceiver = require('./lib/sender-receiver')
  , JsonpReceiver = require('./receiver/jsonp')
  , jsonpSender = require('./sender/jsonp')
  ;

function JsonPTransport(transUrl) {
  if (!JsonPTransport.enabled()) {
    throw new Error('Transport created when disabled');
  }
  SenderReceiver.call(this, transUrl, '/jsonp', jsonpSender, JsonpReceiver);
}

inherits(JsonPTransport, SenderReceiver);

JsonPTransport.enabled = function() {
  return !!global.document;
};

JsonPTransport.transportName = 'jsonp-polling';
JsonPTransport.roundTrips = 1;
JsonPTransport.needBody = true;

module.exports = JsonPTransport;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./lib/sender-receiver":28,"./receiver/jsonp":31,"./sender/jsonp":33,"inherits":57}],24:[function(require,module,exports){
(function (process){
'use strict';

var inherits = require('inherits')
  , urlUtils = require('../../utils/url')
  , SenderReceiver = require('./sender-receiver')
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:ajax-based');
}

function createAjaxSender(AjaxObject) {
  return function(url, payload, callback) {
    debug('create ajax sender', url, payload);
    var opt = {};
    if (typeof payload === 'string') {
      opt.headers = {'Content-type': 'text/plain'};
    }
    var ajaxUrl = urlUtils.addPath(url, '/xhr_send');
    var xo = new AjaxObject('POST', ajaxUrl, payload, opt);
    xo.once('finish', function(status) {
      debug('finish', status);
      xo = null;

      if (status !== 200 && status !== 204) {
        return callback(new Error('http status ' + status));
      }
      callback();
    });
    return function() {
      debug('abort');
      xo.close();
      xo = null;

      var err = new Error('Aborted');
      err.code = 1000;
      callback(err);
    };
  };
}

function AjaxBasedTransport(transUrl, urlSuffix, Receiver, AjaxObject) {
  SenderReceiver.call(this, transUrl, urlSuffix, createAjaxSender(AjaxObject), Receiver, AjaxObject);
}

inherits(AjaxBasedTransport, SenderReceiver);

module.exports = AjaxBasedTransport;

}).call(this,{ env: {} })

},{"../../utils/url":52,"./sender-receiver":28,"debug":55,"inherits":57}],25:[function(require,module,exports){
(function (process){
'use strict';

var inherits = require('inherits')
  , EventEmitter = require('events').EventEmitter
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:buffered-sender');
}

function BufferedSender(url, sender) {
  debug(url);
  EventEmitter.call(this);
  this.sendBuffer = [];
  this.sender = sender;
  this.url = url;
}

inherits(BufferedSender, EventEmitter);

BufferedSender.prototype.send = function(message) {
  debug('send', message);
  this.sendBuffer.push(message);
  if (!this.sendStop) {
    this.sendSchedule();
  }
};

// For polling transports in a situation when in the message callback,
// new message is being send. If the sending connection was started
// before receiving one, it is possible to saturate the network and
// timeout due to the lack of receiving socket. To avoid that we delay
// sending messages by some small time, in order to let receiving
// connection be started beforehand. This is only a halfmeasure and
// does not fix the big problem, but it does make the tests go more
// stable on slow networks.
BufferedSender.prototype.sendScheduleWait = function() {
  debug('sendScheduleWait');
  var self = this;
  var tref;
  this.sendStop = function() {
    debug('sendStop');
    self.sendStop = null;
    clearTimeout(tref);
  };
  tref = setTimeout(function() {
    debug('timeout');
    self.sendStop = null;
    self.sendSchedule();
  }, 25);
};

BufferedSender.prototype.sendSchedule = function() {
  debug('sendSchedule', this.sendBuffer.length);
  var self = this;
  if (this.sendBuffer.length > 0) {
    var payload = '[' + this.sendBuffer.join(',') + ']';
    this.sendStop = this.sender(this.url, payload, function(err) {
      self.sendStop = null;
      if (err) {
        debug('error', err);
        self.emit('close', err.code || 1006, 'Sending error: ' + err);
        self.close();
      } else {
        self.sendScheduleWait();
      }
    });
    this.sendBuffer = [];
  }
};

BufferedSender.prototype._cleanup = function() {
  debug('_cleanup');
  this.removeAllListeners();
};

BufferedSender.prototype.close = function() {
  debug('close');
  this._cleanup();
  if (this.sendStop) {
    this.sendStop();
    this.sendStop = null;
  }
};

module.exports = BufferedSender;

}).call(this,{ env: {} })

},{"debug":55,"events":3,"inherits":57}],26:[function(require,module,exports){
(function (global){
'use strict';

var inherits = require('inherits')
  , IframeTransport = require('../iframe')
  , objectUtils = require('../../utils/object')
  ;

module.exports = function(transport) {

  function IframeWrapTransport(transUrl, baseUrl) {
    IframeTransport.call(this, transport.transportName, transUrl, baseUrl);
  }

  inherits(IframeWrapTransport, IframeTransport);

  IframeWrapTransport.enabled = function(url, info) {
    if (!global.document) {
      return false;
    }

    var iframeInfo = objectUtils.extend({}, info);
    iframeInfo.sameOrigin = true;
    return transport.enabled(iframeInfo) && IframeTransport.enabled();
  };

  IframeWrapTransport.transportName = 'iframe-' + transport.transportName;
  IframeWrapTransport.needBody = true;
  IframeWrapTransport.roundTrips = IframeTransport.roundTrips + transport.roundTrips - 1; // html, javascript (2) + transport - no CORS (1)

  IframeWrapTransport.facadeTransport = transport;

  return IframeWrapTransport;
};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../../utils/object":49,"../iframe":22,"inherits":57}],27:[function(require,module,exports){
(function (process){
'use strict';

var inherits = require('inherits')
  , EventEmitter = require('events').EventEmitter
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:polling');
}

function Polling(Receiver, receiveUrl, AjaxObject) {
  debug(receiveUrl);
  EventEmitter.call(this);
  this.Receiver = Receiver;
  this.receiveUrl = receiveUrl;
  this.AjaxObject = AjaxObject;
  this._scheduleReceiver();
}

inherits(Polling, EventEmitter);

Polling.prototype._scheduleReceiver = function() {
  debug('_scheduleReceiver');
  var self = this;
  var poll = this.poll = new this.Receiver(this.receiveUrl, this.AjaxObject);

  poll.on('message', function(msg) {
    debug('message', msg);
    self.emit('message', msg);
  });

  poll.once('close', function(code, reason) {
    debug('close', code, reason, self.pollIsClosing);
    self.poll = poll = null;

    if (!self.pollIsClosing) {
      if (reason === 'network') {
        self._scheduleReceiver();
      } else {
        self.emit('close', code || 1006, reason);
        self.removeAllListeners();
      }
    }
  });
};

Polling.prototype.abort = function() {
  debug('abort');
  this.removeAllListeners();
  this.pollIsClosing = true;
  if (this.poll) {
    this.poll.abort();
  }
};

module.exports = Polling;

}).call(this,{ env: {} })

},{"debug":55,"events":3,"inherits":57}],28:[function(require,module,exports){
(function (process){
'use strict';

var inherits = require('inherits')
  , urlUtils = require('../../utils/url')
  , BufferedSender = require('./buffered-sender')
  , Polling = require('./polling')
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:sender-receiver');
}

function SenderReceiver(transUrl, urlSuffix, senderFunc, Receiver, AjaxObject) {
  var pollUrl = urlUtils.addPath(transUrl, urlSuffix);
  debug(pollUrl);
  var self = this;
  BufferedSender.call(this, transUrl, senderFunc);

  this.poll = new Polling(Receiver, pollUrl, AjaxObject);
  this.poll.on('message', function(msg) {
    debug('poll message', msg);
    self.emit('message', msg);
  });
  this.poll.once('close', function(code, reason) {
    debug('poll close', code, reason);
    self.poll = null;
    self.emit('close', code, reason);
    self.close();
  });
}

inherits(SenderReceiver, BufferedSender);

SenderReceiver.prototype.close = function() {
  BufferedSender.prototype.close.call(this);
  debug('close');
  this.removeAllListeners();
  if (this.poll) {
    this.poll.abort();
    this.poll = null;
  }
};

module.exports = SenderReceiver;

}).call(this,{ env: {} })

},{"../../utils/url":52,"./buffered-sender":25,"./polling":27,"debug":55,"inherits":57}],29:[function(require,module,exports){
(function (process){
'use strict';

var inherits = require('inherits')
  , EventEmitter = require('events').EventEmitter
  , EventSourceDriver = require('eventsource')
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:receiver:eventsource');
}

function EventSourceReceiver(url) {
  debug(url);
  EventEmitter.call(this);

  var self = this;
  var es = this.es = new EventSourceDriver(url);
  es.onmessage = function(e) {
    debug('message', e.data);
    self.emit('message', decodeURI(e.data));
  };
  es.onerror = function(e) {
    debug('error', es.readyState, e);
    // ES on reconnection has readyState = 0 or 1.
    // on network error it's CLOSED = 2
    var reason = (es.readyState !== 2 ? 'network' : 'permanent');
    self._cleanup();
    self._close(reason);
  };
}

inherits(EventSourceReceiver, EventEmitter);

EventSourceReceiver.prototype.abort = function() {
  debug('abort');
  this._cleanup();
  this._close('user');
};

EventSourceReceiver.prototype._cleanup = function() {
  debug('cleanup');
  var es = this.es;
  if (es) {
    es.onmessage = es.onerror = null;
    es.close();
    this.es = null;
  }
};

EventSourceReceiver.prototype._close = function(reason) {
  debug('close', reason);
  var self = this;
  // Safari and chrome < 15 crash if we close window before
  // waiting for ES cleanup. See:
  // https://code.google.com/p/chromium/issues/detail?id=89155
  setTimeout(function() {
    self.emit('close', null, reason);
    self.removeAllListeners();
  }, 200);
};

module.exports = EventSourceReceiver;

}).call(this,{ env: {} })

},{"debug":55,"events":3,"eventsource":18,"inherits":57}],30:[function(require,module,exports){
(function (process,global){
'use strict';

var inherits = require('inherits')
  , iframeUtils = require('../../utils/iframe')
  , urlUtils = require('../../utils/url')
  , EventEmitter = require('events').EventEmitter
  , random = require('../../utils/random')
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:receiver:htmlfile');
}

function HtmlfileReceiver(url) {
  debug(url);
  EventEmitter.call(this);
  var self = this;
  iframeUtils.polluteGlobalNamespace();

  this.id = 'a' + random.string(6);
  url = urlUtils.addQuery(url, 'c=' + decodeURIComponent(iframeUtils.WPrefix + '.' + this.id));

  debug('using htmlfile', HtmlfileReceiver.htmlfileEnabled);
  var constructFunc = HtmlfileReceiver.htmlfileEnabled ?
      iframeUtils.createHtmlfile : iframeUtils.createIframe;

  global[iframeUtils.WPrefix][this.id] = {
    start: function() {
      debug('start');
      self.iframeObj.loaded();
    }
  , message: function(data) {
      debug('message', data);
      self.emit('message', data);
    }
  , stop: function() {
      debug('stop');
      self._cleanup();
      self._close('network');
    }
  };
  this.iframeObj = constructFunc(url, function() {
    debug('callback');
    self._cleanup();
    self._close('permanent');
  });
}

inherits(HtmlfileReceiver, EventEmitter);

HtmlfileReceiver.prototype.abort = function() {
  debug('abort');
  this._cleanup();
  this._close('user');
};

HtmlfileReceiver.prototype._cleanup = function() {
  debug('_cleanup');
  if (this.iframeObj) {
    this.iframeObj.cleanup();
    this.iframeObj = null;
  }
  delete global[iframeUtils.WPrefix][this.id];
};

HtmlfileReceiver.prototype._close = function(reason) {
  debug('_close', reason);
  this.emit('close', null, reason);
  this.removeAllListeners();
};

HtmlfileReceiver.htmlfileEnabled = false;

// obfuscate to avoid firewalls
var axo = ['Active'].concat('Object').join('X');
if (axo in global) {
  try {
    HtmlfileReceiver.htmlfileEnabled = !!new global[axo]('htmlfile');
  } catch (x) {
    // intentionally empty
  }
}

HtmlfileReceiver.enabled = HtmlfileReceiver.htmlfileEnabled || iframeUtils.iframeEnabled;

module.exports = HtmlfileReceiver;

}).call(this,{ env: {} },typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,"debug":55,"events":3,"inherits":57}],31:[function(require,module,exports){
(function (process,global){
'use strict';

var utils = require('../../utils/iframe')
  , random = require('../../utils/random')
  , browser = require('../../utils/browser')
  , urlUtils = require('../../utils/url')
  , inherits = require('inherits')
  , EventEmitter = require('events').EventEmitter
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:receiver:jsonp');
}

function JsonpReceiver(url) {
  debug(url);
  var self = this;
  EventEmitter.call(this);

  utils.polluteGlobalNamespace();

  this.id = 'a' + random.string(6);
  var urlWithId = urlUtils.addQuery(url, 'c=' + encodeURIComponent(utils.WPrefix + '.' + this.id));

  global[utils.WPrefix][this.id] = this._callback.bind(this);
  this._createScript(urlWithId);

  // Fallback mostly for Konqueror - stupid timer, 35 seconds shall be plenty.
  this.timeoutId = setTimeout(function() {
    debug('timeout');
    self._abort(new Error('JSONP script loaded abnormally (timeout)'));
  }, JsonpReceiver.timeout);
}

inherits(JsonpReceiver, EventEmitter);

JsonpReceiver.prototype.abort = function() {
  debug('abort');
  if (global[utils.WPrefix][this.id]) {
    var err = new Error('JSONP user aborted read');
    err.code = 1000;
    this._abort(err);
  }
};

JsonpReceiver.timeout = 35000;
JsonpReceiver.scriptErrorTimeout = 1000;

JsonpReceiver.prototype._callback = function(data) {
  debug('_callback', data);
  this._cleanup();

  if (this.aborting) {
    return;
  }

  if (data) {
    debug('message', data);
    this.emit('message', data);
  }
  this.emit('close', null, 'network');
  this.removeAllListeners();
};

JsonpReceiver.prototype._abort = function(err) {
  debug('_abort', err);
  this._cleanup();
  this.aborting = true;
  this.emit('close', err.code, err.message);
  this.removeAllListeners();
};

JsonpReceiver.prototype._cleanup = function() {
  debug('_cleanup');
  clearTimeout(this.timeoutId);
  if (this.script2) {
    this.script2.parentNode.removeChild(this.script2);
    this.script2 = null;
  }
  if (this.script) {
    var script = this.script;
    // Unfortunately, you can't really abort script loading of
    // the script.
    script.parentNode.removeChild(script);
    script.onreadystatechange = script.onerror =
        script.onload = script.onclick = null;
    this.script = null;
  }
  delete global[utils.WPrefix][this.id];
};

JsonpReceiver.prototype._scriptError = function() {
  debug('_scriptError');
  var self = this;
  if (this.errorTimer) {
    return;
  }

  this.errorTimer = setTimeout(function() {
    if (!self.loadedOkay) {
      self._abort(new Error('JSONP script loaded abnormally (onerror)'));
    }
  }, JsonpReceiver.scriptErrorTimeout);
};

JsonpReceiver.prototype._createScript = function(url) {
  debug('_createScript', url);
  var self = this;
  var script = this.script = global.document.createElement('script');
  var script2;  // Opera synchronous load trick.

  script.id = 'a' + random.string(8);
  script.src = url;
  script.type = 'text/javascript';
  script.charset = 'UTF-8';
  script.onerror = this._scriptError.bind(this);
  script.onload = function() {
    debug('onload');
    self._abort(new Error('JSONP script loaded abnormally (onload)'));
  };

  // IE9 fires 'error' event after onreadystatechange or before, in random order.
  // Use loadedOkay to determine if actually errored
  script.onreadystatechange = function() {
    debug('onreadystatechange', script.readyState);
    if (/loaded|closed/.test(script.readyState)) {
      if (script && script.htmlFor && script.onclick) {
        self.loadedOkay = true;
        try {
          // In IE, actually execute the script.
          script.onclick();
        } catch (x) {
          // intentionally empty
        }
      }
      if (script) {
        self._abort(new Error('JSONP script loaded abnormally (onreadystatechange)'));
      }
    }
  };
  // IE: event/htmlFor/onclick trick.
  // One can't rely on proper order for onreadystatechange. In order to
  // make sure, set a 'htmlFor' and 'event' properties, so that
  // script code will be installed as 'onclick' handler for the
  // script object. Later, onreadystatechange, manually execute this
  // code. FF and Chrome doesn't work with 'event' and 'htmlFor'
  // set. For reference see:
  //   http://jaubourg.net/2010/07/loading-script-as-onclick-handler-of.html
  // Also, read on that about script ordering:
  //   http://wiki.whatwg.org/wiki/Dynamic_Script_Execution_Order
  if (typeof script.async === 'undefined' && global.document.attachEvent) {
    // According to mozilla docs, in recent browsers script.async defaults
    // to 'true', so we may use it to detect a good browser:
    // https://developer.mozilla.org/en/HTML/Element/script
    if (!browser.isOpera()) {
      // Naively assume we're in IE
      try {
        script.htmlFor = script.id;
        script.event = 'onclick';
      } catch (x) {
        // intentionally empty
      }
      script.async = true;
    } else {
      // Opera, second sync script hack
      script2 = this.script2 = global.document.createElement('script');
      script2.text = "try{var a = document.getElementById('" + script.id + "'); if(a)a.onerror();}catch(x){};";
      script.async = script2.async = false;
    }
  }
  if (typeof script.async !== 'undefined') {
    script.async = true;
  }

  var head = global.document.getElementsByTagName('head')[0];
  head.insertBefore(script, head.firstChild);
  if (script2) {
    head.insertBefore(script2, head.firstChild);
  }
};

module.exports = JsonpReceiver;

}).call(this,{ env: {} },typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../../utils/browser":44,"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,"debug":55,"events":3,"inherits":57}],32:[function(require,module,exports){
(function (process){
'use strict';

var inherits = require('inherits')
  , EventEmitter = require('events').EventEmitter
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:receiver:xhr');
}

function XhrReceiver(url, AjaxObject) {
  debug(url);
  EventEmitter.call(this);
  var self = this;

  this.bufferPosition = 0;

  this.xo = new AjaxObject('POST', url, null);
  this.xo.on('chunk', this._chunkHandler.bind(this));
  this.xo.once('finish', function(status, text) {
    debug('finish', status, text);
    self._chunkHandler(status, text);
    self.xo = null;
    var reason = status === 200 ? 'network' : 'permanent';
    debug('close', reason);
    self.emit('close', null, reason);
    self._cleanup();
  });
}

inherits(XhrReceiver, EventEmitter);

XhrReceiver.prototype._chunkHandler = function(status, text) {
  debug('_chunkHandler', status);
  if (status !== 200 || !text) {
    return;
  }

  for (var idx = -1; ; this.bufferPosition += idx + 1) {
    var buf = text.slice(this.bufferPosition);
    idx = buf.indexOf('\n');
    if (idx === -1) {
      break;
    }
    var msg = buf.slice(0, idx);
    if (msg) {
      debug('message', msg);
      this.emit('message', msg);
    }
  }
};

XhrReceiver.prototype._cleanup = function() {
  debug('_cleanup');
  this.removeAllListeners();
};

XhrReceiver.prototype.abort = function() {
  debug('abort');
  if (this.xo) {
    this.xo.close();
    debug('close');
    this.emit('close', null, 'user');
    this.xo = null;
  }
  this._cleanup();
};

module.exports = XhrReceiver;

}).call(this,{ env: {} })

},{"debug":55,"events":3,"inherits":57}],33:[function(require,module,exports){
(function (process,global){
'use strict';

var random = require('../../utils/random')
  , urlUtils = require('../../utils/url')
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:sender:jsonp');
}

var form, area;

function createIframe(id) {
  debug('createIframe', id);
  try {
    // ie6 dynamic iframes with target="" support (thanks Chris Lambacher)
    return global.document.createElement('<iframe name="' + id + '">');
  } catch (x) {
    var iframe = global.document.createElement('iframe');
    iframe.name = id;
    return iframe;
  }
}

function createForm() {
  debug('createForm');
  form = global.document.createElement('form');
  form.style.display = 'none';
  form.style.position = 'absolute';
  form.method = 'POST';
  form.enctype = 'application/x-www-form-urlencoded';
  form.acceptCharset = 'UTF-8';

  area = global.document.createElement('textarea');
  area.name = 'd';
  form.appendChild(area);

  global.document.body.appendChild(form);
}

module.exports = function(url, payload, callback) {
  debug(url, payload);
  if (!form) {
    createForm();
  }
  var id = 'a' + random.string(8);
  form.target = id;
  form.action = urlUtils.addQuery(urlUtils.addPath(url, '/jsonp_send'), 'i=' + id);

  var iframe = createIframe(id);
  iframe.id = id;
  iframe.style.display = 'none';
  form.appendChild(iframe);

  try {
    area.value = payload;
  } catch (e) {
    // seriously broken browsers get here
  }
  form.submit();

  var completed = function(err) {
    debug('completed', id, err);
    if (!iframe.onerror) {
      return;
    }
    iframe.onreadystatechange = iframe.onerror = iframe.onload = null;
    // Opera mini doesn't like if we GC iframe
    // immediately, thus this timeout.
    setTimeout(function() {
      debug('cleaning up', id);
      iframe.parentNode.removeChild(iframe);
      iframe = null;
    }, 500);
    area.value = '';
    // It is not possible to detect if the iframe succeeded or
    // failed to submit our form.
    callback(err);
  };
  iframe.onerror = function() {
    debug('onerror', id);
    completed();
  };
  iframe.onload = function() {
    debug('onload', id);
    completed();
  };
  iframe.onreadystatechange = function(e) {
    debug('onreadystatechange', id, iframe.readyState, e);
    if (iframe.readyState === 'complete') {
      completed();
    }
  };
  return function() {
    debug('aborted', id);
    completed(new Error('Aborted'));
  };
};

}).call(this,{ env: {} },typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../../utils/random":50,"../../utils/url":52,"debug":55}],34:[function(require,module,exports){
(function (process,global){
'use strict';

var EventEmitter = require('events').EventEmitter
  , inherits = require('inherits')
  , eventUtils = require('../../utils/event')
  , browser = require('../../utils/browser')
  , urlUtils = require('../../utils/url')
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:sender:xdr');
}

// References:
//   http://ajaxian.com/archives/100-line-ajax-wrapper
//   http://msdn.microsoft.com/en-us/library/cc288060(v=VS.85).aspx

function XDRObject(method, url, payload) {
  debug(method, url);
  var self = this;
  EventEmitter.call(this);

  setTimeout(function() {
    self._start(method, url, payload);
  }, 0);
}

inherits(XDRObject, EventEmitter);

XDRObject.prototype._start = function(method, url, payload) {
  debug('_start');
  var self = this;
  var xdr = new global.XDomainRequest();
  // IE caches even POSTs
  url = urlUtils.addQuery(url, 't=' + (+new Date()));

  xdr.onerror = function() {
    debug('onerror');
    self._error();
  };
  xdr.ontimeout = function() {
    debug('ontimeout');
    self._error();
  };
  xdr.onprogress = function() {
    debug('progress', xdr.responseText);
    self.emit('chunk', 200, xdr.responseText);
  };
  xdr.onload = function() {
    debug('load');
    self.emit('finish', 200, xdr.responseText);
    self._cleanup(false);
  };
  this.xdr = xdr;
  this.unloadRef = eventUtils.unloadAdd(function() {
    self._cleanup(true);
  });
  try {
    // Fails with AccessDenied if port number is bogus
    this.xdr.open(method, url);
    if (this.timeout) {
      this.xdr.timeout = this.timeout;
    }
    this.xdr.send(payload);
  } catch (x) {
    this._error();
  }
};

XDRObject.prototype._error = function() {
  this.emit('finish', 0, '');
  this._cleanup(false);
};

XDRObject.prototype._cleanup = function(abort) {
  debug('cleanup', abort);
  if (!this.xdr) {
    return;
  }
  this.removeAllListeners();
  eventUtils.unloadDel(this.unloadRef);

  this.xdr.ontimeout = this.xdr.onerror = this.xdr.onprogress = this.xdr.onload = null;
  if (abort) {
    try {
      this.xdr.abort();
    } catch (x) {
      // intentionally empty
    }
  }
  this.unloadRef = this.xdr = null;
};

XDRObject.prototype.close = function() {
  debug('close');
  this._cleanup(true);
};

// IE 8/9 if the request target uses the same scheme - #79
XDRObject.enabled = !!(global.XDomainRequest && browser.hasDomain());

module.exports = XDRObject;

}).call(this,{ env: {} },typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../../utils/browser":44,"../../utils/event":46,"../../utils/url":52,"debug":55,"events":3,"inherits":57}],35:[function(require,module,exports){
'use strict';

var inherits = require('inherits')
  , XhrDriver = require('../driver/xhr')
  ;

function XHRCorsObject(method, url, payload, opts) {
  XhrDriver.call(this, method, url, payload, opts);
}

inherits(XHRCorsObject, XhrDriver);

XHRCorsObject.enabled = XhrDriver.enabled && XhrDriver.supportsCORS;

module.exports = XHRCorsObject;

},{"../driver/xhr":17,"inherits":57}],36:[function(require,module,exports){
'use strict';

var EventEmitter = require('events').EventEmitter
  , inherits = require('inherits')
  ;

function XHRFake(/* method, url, payload, opts */) {
  var self = this;
  EventEmitter.call(this);

  this.to = setTimeout(function() {
    self.emit('finish', 200, '{}');
  }, XHRFake.timeout);
}

inherits(XHRFake, EventEmitter);

XHRFake.prototype.close = function() {
  clearTimeout(this.to);
};

XHRFake.timeout = 2000;

module.exports = XHRFake;

},{"events":3,"inherits":57}],37:[function(require,module,exports){
'use strict';

var inherits = require('inherits')
  , XhrDriver = require('../driver/xhr')
  ;

function XHRLocalObject(method, url, payload /*, opts */) {
  XhrDriver.call(this, method, url, payload, {
    noCredentials: true
  });
}

inherits(XHRLocalObject, XhrDriver);

XHRLocalObject.enabled = XhrDriver.enabled;

module.exports = XHRLocalObject;

},{"../driver/xhr":17,"inherits":57}],38:[function(require,module,exports){
(function (process){
'use strict';

var utils = require('../utils/event')
  , urlUtils = require('../utils/url')
  , inherits = require('inherits')
  , EventEmitter = require('events').EventEmitter
  , WebsocketDriver = require('./driver/websocket')
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:websocket');
}

function WebSocketTransport(transUrl, ignore, options) {
  if (!WebSocketTransport.enabled()) {
    throw new Error('Transport created when disabled');
  }

  EventEmitter.call(this);
  debug('constructor', transUrl);

  var self = this;
  var url = urlUtils.addPath(transUrl, '/websocket');
  if (url.slice(0, 5) === 'https') {
    url = 'wss' + url.slice(5);
  } else {
    url = 'ws' + url.slice(4);
  }
  this.url = url;

  this.ws = new WebsocketDriver(this.url, [], options);
  this.ws.onmessage = function(e) {
    debug('message event', e.data);
    self.emit('message', e.data);
  };
  // Firefox has an interesting bug. If a websocket connection is
  // created after onunload, it stays alive even when user
  // navigates away from the page. In such situation let's lie -
  // let's not open the ws connection at all. See:
  // https://github.com/sockjs/sockjs-client/issues/28
  // https://bugzilla.mozilla.org/show_bug.cgi?id=696085
  this.unloadRef = utils.unloadAdd(function() {
    debug('unload');
    self.ws.close();
  });
  this.ws.onclose = function(e) {
    debug('close event', e.code, e.reason);
    self.emit('close', e.code, e.reason);
    self._cleanup();
  };
  this.ws.onerror = function(e) {
    debug('error event', e);
    self.emit('close', 1006, 'WebSocket connection broken');
    self._cleanup();
  };
}

inherits(WebSocketTransport, EventEmitter);

WebSocketTransport.prototype.send = function(data) {
  var msg = '[' + data + ']';
  debug('send', msg);
  this.ws.send(msg);
};

WebSocketTransport.prototype.close = function() {
  debug('close');
  var ws = this.ws;
  this._cleanup();
  if (ws) {
    ws.close();
  }
};

WebSocketTransport.prototype._cleanup = function() {
  debug('_cleanup');
  var ws = this.ws;
  if (ws) {
    ws.onmessage = ws.onclose = ws.onerror = null;
  }
  utils.unloadDel(this.unloadRef);
  this.unloadRef = this.ws = null;
  this.removeAllListeners();
};

WebSocketTransport.enabled = function() {
  debug('enabled');
  return !!WebsocketDriver;
};
WebSocketTransport.transportName = 'websocket';

// In theory, ws should require 1 round trip. But in chrome, this is
// not very stable over SSL. Most likely a ws connection requires a
// separate SSL connection, in which case 2 round trips are an
// absolute minumum.
WebSocketTransport.roundTrips = 2;

module.exports = WebSocketTransport;

}).call(this,{ env: {} })

},{"../utils/event":46,"../utils/url":52,"./driver/websocket":19,"debug":55,"events":3,"inherits":57}],39:[function(require,module,exports){
'use strict';

var inherits = require('inherits')
  , AjaxBasedTransport = require('./lib/ajax-based')
  , XdrStreamingTransport = require('./xdr-streaming')
  , XhrReceiver = require('./receiver/xhr')
  , XDRObject = require('./sender/xdr')
  ;

function XdrPollingTransport(transUrl) {
  if (!XDRObject.enabled) {
    throw new Error('Transport created when disabled');
  }
  AjaxBasedTransport.call(this, transUrl, '/xhr', XhrReceiver, XDRObject);
}

inherits(XdrPollingTransport, AjaxBasedTransport);

XdrPollingTransport.enabled = XdrStreamingTransport.enabled;
XdrPollingTransport.transportName = 'xdr-polling';
XdrPollingTransport.roundTrips = 2; // preflight, ajax

module.exports = XdrPollingTransport;

},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,"./xdr-streaming":40,"inherits":57}],40:[function(require,module,exports){
'use strict';

var inherits = require('inherits')
  , AjaxBasedTransport = require('./lib/ajax-based')
  , XhrReceiver = require('./receiver/xhr')
  , XDRObject = require('./sender/xdr')
  ;

// According to:
//   http://stackoverflow.com/questions/1641507/detect-browser-support-for-cross-domain-xmlhttprequests
//   http://hacks.mozilla.org/2009/07/cross-site-xmlhttprequest-with-cors/

function XdrStreamingTransport(transUrl) {
  if (!XDRObject.enabled) {
    throw new Error('Transport created when disabled');
  }
  AjaxBasedTransport.call(this, transUrl, '/xhr_streaming', XhrReceiver, XDRObject);
}

inherits(XdrStreamingTransport, AjaxBasedTransport);

XdrStreamingTransport.enabled = function(info) {
  if (info.cookie_needed || info.nullOrigin) {
    return false;
  }
  return XDRObject.enabled && info.sameScheme;
};

XdrStreamingTransport.transportName = 'xdr-streaming';
XdrStreamingTransport.roundTrips = 2; // preflight, ajax

module.exports = XdrStreamingTransport;

},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,"inherits":57}],41:[function(require,module,exports){
'use strict';

var inherits = require('inherits')
  , AjaxBasedTransport = require('./lib/ajax-based')
  , XhrReceiver = require('./receiver/xhr')
  , XHRCorsObject = require('./sender/xhr-cors')
  , XHRLocalObject = require('./sender/xhr-local')
  ;

function XhrPollingTransport(transUrl) {
  if (!XHRLocalObject.enabled && !XHRCorsObject.enabled) {
    throw new Error('Transport created when disabled');
  }
  AjaxBasedTransport.call(this, transUrl, '/xhr', XhrReceiver, XHRCorsObject);
}

inherits(XhrPollingTransport, AjaxBasedTransport);

XhrPollingTransport.enabled = function(info) {
  if (info.nullOrigin) {
    return false;
  }

  if (XHRLocalObject.enabled && info.sameOrigin) {
    return true;
  }
  return XHRCorsObject.enabled;
};

XhrPollingTransport.transportName = 'xhr-polling';
XhrPollingTransport.roundTrips = 2; // preflight, ajax

module.exports = XhrPollingTransport;

},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,"inherits":57}],42:[function(require,module,exports){
(function (global){
'use strict';

var inherits = require('inherits')
  , AjaxBasedTransport = require('./lib/ajax-based')
  , XhrReceiver = require('./receiver/xhr')
  , XHRCorsObject = require('./sender/xhr-cors')
  , XHRLocalObject = require('./sender/xhr-local')
  , browser = require('../utils/browser')
  ;

function XhrStreamingTransport(transUrl) {
  if (!XHRLocalObject.enabled && !XHRCorsObject.enabled) {
    throw new Error('Transport created when disabled');
  }
  AjaxBasedTransport.call(this, transUrl, '/xhr_streaming', XhrReceiver, XHRCorsObject);
}

inherits(XhrStreamingTransport, AjaxBasedTransport);

XhrStreamingTransport.enabled = function(info) {
  if (info.nullOrigin) {
    return false;
  }
  // Opera doesn't support xhr-streaming #60
  // But it might be able to #92
  if (browser.isOpera()) {
    return false;
  }

  return XHRCorsObject.enabled;
};

XhrStreamingTransport.transportName = 'xhr-streaming';
XhrStreamingTransport.roundTrips = 2; // preflight, ajax

// Safari gets confused when a streaming ajax request is started
// before onload. This causes the load indicator to spin indefinetely.
// Only require body when used in a browser
XhrStreamingTransport.needBody = !!global.document;

module.exports = XhrStreamingTransport;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../utils/browser":44,"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,"inherits":57}],43:[function(require,module,exports){
(function (global){
'use strict';

if (global.crypto && global.crypto.getRandomValues) {
  module.exports.randomBytes = function(length) {
    var bytes = new Uint8Array(length);
    global.crypto.getRandomValues(bytes);
    return bytes;
  };
} else {
  module.exports.randomBytes = function(length) {
    var bytes = new Array(length);
    for (var i = 0; i < length; i++) {
      bytes[i] = Math.floor(Math.random() * 256);
    }
    return bytes;
  };
}

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],44:[function(require,module,exports){
(function (global){
'use strict';

module.exports = {
  isOpera: function() {
    return global.navigator &&
      /opera/i.test(global.navigator.userAgent);
  }

, isKonqueror: function() {
    return global.navigator &&
      /konqueror/i.test(global.navigator.userAgent);
  }

  // #187 wrap document.domain in try/catch because of WP8 from file:///
, hasDomain: function () {
    // non-browser client always has a domain
    if (!global.document) {
      return true;
    }

    try {
      return !!global.document.domain;
    } catch (e) {
      return false;
    }
  }
};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],45:[function(require,module,exports){
'use strict';

var JSON3 = require('json3');

// Some extra characters that Chrome gets wrong, and substitutes with
// something else on the wire.
// eslint-disable-next-line no-control-regex
var extraEscapable = /[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g
  , extraLookup;

// This may be quite slow, so let's delay until user actually uses bad
// characters.
var unrollLookup = function(escapable) {
  var i;
  var unrolled = {};
  var c = [];
  for (i = 0; i < 65536; i++) {
    c.push( String.fromCharCode(i) );
  }
  escapable.lastIndex = 0;
  c.join('').replace(escapable, function(a) {
    unrolled[ a ] = '\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);
    return '';
  });
  escapable.lastIndex = 0;
  return unrolled;
};

// Quote string, also taking care of unicode characters that browsers
// often break. Especially, take care of unicode surrogates:
// http://en.wikipedia.org/wiki/Mapping_of_Unicode_characters#Surrogates
module.exports = {
  quote: function(string) {
    var quoted = JSON3.stringify(string);

    // In most cases this should be very fast and good enough.
    extraEscapable.lastIndex = 0;
    if (!extraEscapable.test(quoted)) {
      return quoted;
    }

    if (!extraLookup) {
      extraLookup = unrollLookup(extraEscapable);
    }

    return quoted.replace(extraEscapable, function(a) {
      return extraLookup[a];
    });
  }
};

},{"json3":58}],46:[function(require,module,exports){
(function (global){
'use strict';

var random = require('./random');

var onUnload = {}
  , afterUnload = false
    // detect google chrome packaged apps because they don't allow the 'unload' event
  , isChromePackagedApp = global.chrome && global.chrome.app && global.chrome.app.runtime
  ;

module.exports = {
  attachEvent: function(event, listener) {
    if (typeof global.addEventListener !== 'undefined') {
      global.addEventListener(event, listener, false);
    } else if (global.document && global.attachEvent) {
      // IE quirks.
      // According to: http://stevesouders.com/misc/test-postmessage.php
      // the message gets delivered only to 'document', not 'window'.
      global.document.attachEvent('on' + event, listener);
      // I get 'window' for ie8.
      global.attachEvent('on' + event, listener);
    }
  }

, detachEvent: function(event, listener) {
    if (typeof global.addEventListener !== 'undefined') {
      global.removeEventListener(event, listener, false);
    } else if (global.document && global.detachEvent) {
      global.document.detachEvent('on' + event, listener);
      global.detachEvent('on' + event, listener);
    }
  }

, unloadAdd: function(listener) {
    if (isChromePackagedApp) {
      return null;
    }

    var ref = random.string(8);
    onUnload[ref] = listener;
    if (afterUnload) {
      setTimeout(this.triggerUnloadCallbacks, 0);
    }
    return ref;
  }

, unloadDel: function(ref) {
    if (ref in onUnload) {
      delete onUnload[ref];
    }
  }

, triggerUnloadCallbacks: function() {
    for (var ref in onUnload) {
      onUnload[ref]();
      delete onUnload[ref];
    }
  }
};

var unloadTriggered = function() {
  if (afterUnload) {
    return;
  }
  afterUnload = true;
  module.exports.triggerUnloadCallbacks();
};

// 'unload' alone is not reliable in opera within an iframe, but we
// can't use `beforeunload` as IE fires it on javascript: links.
if (!isChromePackagedApp) {
  module.exports.attachEvent('unload', unloadTriggered);
}

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./random":50}],47:[function(require,module,exports){
(function (process,global){
'use strict';

var eventUtils = require('./event')
  , JSON3 = require('json3')
  , browser = require('./browser')
  ;

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:utils:iframe');
}

module.exports = {
  WPrefix: '_jp'
, currentWindowId: null

, polluteGlobalNamespace: function() {
    if (!(module.exports.WPrefix in global)) {
      global[module.exports.WPrefix] = {};
    }
  }

, postMessage: function(type, data) {
    if (global.parent !== global) {
      global.parent.postMessage(JSON3.stringify({
        windowId: module.exports.currentWindowId
      , type: type
      , data: data || ''
      }), '*');
    } else {
      debug('Cannot postMessage, no parent window.', type, data);
    }
  }

, createIframe: function(iframeUrl, errorCallback) {
    var iframe = global.document.createElement('iframe');
    var tref, unloadRef;
    var unattach = function() {
      debug('unattach');
      clearTimeout(tref);
      // Explorer had problems with that.
      try {
        iframe.onload = null;
      } catch (x) {
        // intentionally empty
      }
      iframe.onerror = null;
    };
    var cleanup = function() {
      debug('cleanup');
      if (iframe) {
        unattach();
        // This timeout makes chrome fire onbeforeunload event
        // within iframe. Without the timeout it goes straight to
        // onunload.
        setTimeout(function() {
          if (iframe) {
            iframe.parentNode.removeChild(iframe);
          }
          iframe = null;
        }, 0);
        eventUtils.unloadDel(unloadRef);
      }
    };
    var onerror = function(err) {
      debug('onerror', err);
      if (iframe) {
        cleanup();
        errorCallback(err);
      }
    };
    var post = function(msg, origin) {
      debug('post', msg, origin);
      setTimeout(function() {
        try {
          // When the iframe is not loaded, IE raises an exception
          // on 'contentWindow'.
          if (iframe && iframe.contentWindow) {
            iframe.contentWindow.postMessage(msg, origin);
          }
        } catch (x) {
          // intentionally empty
        }
      }, 0);
    };

    iframe.src = iframeUrl;
    iframe.style.display = 'none';
    iframe.style.position = 'absolute';
    iframe.onerror = function() {
      onerror('onerror');
    };
    iframe.onload = function() {
      debug('onload');
      // `onload` is triggered before scripts on the iframe are
      // executed. Give it few seconds to actually load stuff.
      clearTimeout(tref);
      tref = setTimeout(function() {
        onerror('onload timeout');
      }, 2000);
    };
    global.document.body.appendChild(iframe);
    tref = setTimeout(function() {
      onerror('timeout');
    }, 15000);
    unloadRef = eventUtils.unloadAdd(cleanup);
    return {
      post: post
    , cleanup: cleanup
    , loaded: unattach
    };
  }

/* eslint no-undef: "off", new-cap: "off" */
, createHtmlfile: function(iframeUrl, errorCallback) {
    var axo = ['Active'].concat('Object').join('X');
    var doc = new global[axo]('htmlfile');
    var tref, unloadRef;
    var iframe;
    var unattach = function() {
      clearTimeout(tref);
      iframe.onerror = null;
    };
    var cleanup = function() {
      if (doc) {
        unattach();
        eventUtils.unloadDel(unloadRef);
        iframe.parentNode.removeChild(iframe);
        iframe = doc = null;
        CollectGarbage();
      }
    };
    var onerror = function(r) {
      debug('onerror', r);
      if (doc) {
        cleanup();
        errorCallback(r);
      }
    };
    var post = function(msg, origin) {
      try {
        // When the iframe is not loaded, IE raises an exception
        // on 'contentWindow'.
        setTimeout(function() {
          if (iframe && iframe.contentWindow) {
              iframe.contentWindow.postMessage(msg, origin);
          }
        }, 0);
      } catch (x) {
        // intentionally empty
      }
    };

    doc.open();
    doc.write('<html><s' + 'cript>' +
              'document.domain="' + global.document.domain + '";' +
              '</s' + 'cript></html>');
    doc.close();
    doc.parentWindow[module.exports.WPrefix] = global[module.exports.WPrefix];
    var c = doc.createElement('div');
    doc.body.appendChild(c);
    iframe = doc.createElement('iframe');
    c.appendChild(iframe);
    iframe.src = iframeUrl;
    iframe.onerror = function() {
      onerror('onerror');
    };
    tref = setTimeout(function() {
      onerror('timeout');
    }, 15000);
    unloadRef = eventUtils.unloadAdd(cleanup);
    return {
      post: post
    , cleanup: cleanup
    , loaded: unattach
    };
  }
};

module.exports.iframeEnabled = false;
if (global.document) {
  // postMessage misbehaves in konqueror 4.6.5 - the messages are delivered with
  // huge delay, or not at all.
  module.exports.iframeEnabled = (typeof global.postMessage === 'function' ||
    typeof global.postMessage === 'object') && (!browser.isKonqueror());
}

}).call(this,{ env: {} },typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./browser":44,"./event":46,"debug":55,"json3":58}],48:[function(require,module,exports){
(function (global){
'use strict';

var logObject = {};
['log', 'debug', 'warn'].forEach(function (level) {
  var levelExists;

  try {
    levelExists = global.console && global.console[level] && global.console[level].apply;
  } catch(e) {
    // do nothing
  }

  logObject[level] = levelExists ? function () {
    return global.console[level].apply(global.console, arguments);
  } : (level === 'log' ? function () {} : logObject.log);
});

module.exports = logObject;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],49:[function(require,module,exports){
'use strict';

module.exports = {
  isObject: function(obj) {
    var type = typeof obj;
    return type === 'function' || type === 'object' && !!obj;
  }

, extend: function(obj) {
    if (!this.isObject(obj)) {
      return obj;
    }
    var source, prop;
    for (var i = 1, length = arguments.length; i < length; i++) {
      source = arguments[i];
      for (prop in source) {
        if (Object.prototype.hasOwnProperty.call(source, prop)) {
          obj[prop] = source[prop];
        }
      }
    }
    return obj;
  }
};

},{}],50:[function(require,module,exports){
'use strict';

/* global crypto:true */
var crypto = require('crypto');

// This string has length 32, a power of 2, so the modulus doesn't introduce a
// bias.
var _randomStringChars = 'abcdefghijklmnopqrstuvwxyz012345';
module.exports = {
  string: function(length) {
    var max = _randomStringChars.length;
    var bytes = crypto.randomBytes(length);
    var ret = [];
    for (var i = 0; i < length; i++) {
      ret.push(_randomStringChars.substr(bytes[i] % max, 1));
    }
    return ret.join('');
  }

, number: function(max) {
    return Math.floor(Math.random() * max);
  }

, numberString: function(max) {
    var t = ('' + (max - 1)).length;
    var p = new Array(t + 1).join('0');
    return (p + this.number(max)).slice(-t);
  }
};

},{"crypto":43}],51:[function(require,module,exports){
(function (process){
'use strict';

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:utils:transport');
}

module.exports = function(availableTransports) {
  return {
    filterToEnabled: function(transportsWhitelist, info) {
      var transports = {
        main: []
      , facade: []
      };
      if (!transportsWhitelist) {
        transportsWhitelist = [];
      } else if (typeof transportsWhitelist === 'string') {
        transportsWhitelist = [transportsWhitelist];
      }

      availableTransports.forEach(function(trans) {
        if (!trans) {
          return;
        }

        if (trans.transportName === 'websocket' && info.websocket === false) {
          debug('disabled from server', 'websocket');
          return;
        }

        if (transportsWhitelist.length &&
            transportsWhitelist.indexOf(trans.transportName) === -1) {
          debug('not in whitelist', trans.transportName);
          return;
        }

        if (trans.enabled(info)) {
          debug('enabled', trans.transportName);
          transports.main.push(trans);
          if (trans.facadeTransport) {
            transports.facade.push(trans.facadeTransport);
          }
        } else {
          debug('disabled', trans.transportName);
        }
      });
      return transports;
    }
  };
};

}).call(this,{ env: {} })

},{"debug":55}],52:[function(require,module,exports){
(function (process){
'use strict';

var URL = require('url-parse');

var debug = function() {};
if (process.env.NODE_ENV !== 'production') {
  debug = require('debug')('sockjs-client:utils:url');
}

module.exports = {
  getOrigin: function(url) {
    if (!url) {
      return null;
    }

    var p = new URL(url);
    if (p.protocol === 'file:') {
      return null;
    }

    var port = p.port;
    if (!port) {
      port = (p.protocol === 'https:') ? '443' : '80';
    }

    return p.protocol + '//' + p.hostname + ':' + port;
  }

, isOriginEqual: function(a, b) {
    var res = this.getOrigin(a) === this.getOrigin(b);
    debug('same', a, b, res);
    return res;
  }

, isSchemeEqual: function(a, b) {
    return (a.split(':')[0] === b.split(':')[0]);
  }

, addPath: function (url, path) {
    var qs = url.split('?');
    return qs[0] + path + (qs[1] ? '?' + qs[1] : '');
  }

, addQuery: function (url, q) {
    return url + (url.indexOf('?') === -1 ? ('?' + q) : ('&' + q));
  }
};

}).call(this,{ env: {} })

},{"debug":55,"url-parse":61}],53:[function(require,module,exports){
module.exports = '1.4.0';

},{}],54:[function(require,module,exports){
/**
 * Helpers.
 */

var s = 1000;
var m = s * 60;
var h = m * 60;
var d = h * 24;
var w = d * 7;
var y = d * 365.25;

/**
 * Parse or format the given `val`.
 *
 * Options:
 *
 *  - `long` verbose formatting [false]
 *
 * @param {String|Number} val
 * @param {Object} [options]
 * @throws {Error} throw an error if val is not a non-empty string or a number
 * @return {String|Number}
 * @api public
 */

module.exports = function(val, options) {
  options = options || {};
  var type = typeof val;
  if (type === 'string' && val.length > 0) {
    return parse(val);
  } else if (type === 'number' && isNaN(val) === false) {
    return options.long ? fmtLong(val) : fmtShort(val);
  }
  throw new Error(
    'val is not a non-empty string or a valid number. val=' +
      JSON.stringify(val)
  );
};

/**
 * Parse the given `str` and return milliseconds.
 *
 * @param {String} str
 * @return {Number}
 * @api private
 */

function parse(str) {
  str = String(str);
  if (str.length > 100) {
    return;
  }
  var match = /^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(
    str
  );
  if (!match) {
    return;
  }
  var n = parseFloat(match[1]);
  var type = (match[2] || 'ms').toLowerCase();
  switch (type) {
    case 'years':
    case 'year':
    case 'yrs':
    case 'yr':
    case 'y':
      return n * y;
    case 'weeks':
    case 'week':
    case 'w':
      return n * w;
    case 'days':
    case 'day':
    case 'd':
      return n * d;
    case 'hours':
    case 'hour':
    case 'hrs':
    case 'hr':
    case 'h':
      return n * h;
    case 'minutes':
    case 'minute':
    case 'mins':
    case 'min':
    case 'm':
      return n * m;
    case 'seconds':
    case 'second':
    case 'secs':
    case 'sec':
    case 's':
      return n * s;
    case 'milliseconds':
    case 'millisecond':
    case 'msecs':
    case 'msec':
    case 'ms':
      return n;
    default:
      return undefined;
  }
}

/**
 * Short format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtShort(ms) {
  var msAbs = Math.abs(ms);
  if (msAbs >= d) {
    return Math.round(ms / d) + 'd';
  }
  if (msAbs >= h) {
    return Math.round(ms / h) + 'h';
  }
  if (msAbs >= m) {
    return Math.round(ms / m) + 'm';
  }
  if (msAbs >= s) {
    return Math.round(ms / s) + 's';
  }
  return ms + 'ms';
}

/**
 * Long format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtLong(ms) {
  var msAbs = Math.abs(ms);
  if (msAbs >= d) {
    return plural(ms, msAbs, d, 'day');
  }
  if (msAbs >= h) {
    return plural(ms, msAbs, h, 'hour');
  }
  if (msAbs >= m) {
    return plural(ms, msAbs, m, 'minute');
  }
  if (msAbs >= s) {
    return plural(ms, msAbs, s, 'second');
  }
  return ms + ' ms';
}

/**
 * Pluralization helper.
 */

function plural(ms, msAbs, n, name) {
  var isPlural = msAbs >= n * 1.5;
  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');
}

},{}],55:[function(require,module,exports){
(function (process){
"use strict";

function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/* eslint-env browser */

/**
 * This is the web browser implementation of `debug()`.
 */
exports.log = log;
exports.formatArgs = formatArgs;
exports.save = save;
exports.load = load;
exports.useColors = useColors;
exports.storage = localstorage();
/**
 * Colors.
 */

exports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];
/**
 * Currently only WebKit-based Web Inspectors, Firefox >= v31,
 * and the Firebug extension (any Firefox version) are known
 * to support "%c" CSS customizations.
 *
 * TODO: add a `localStorage` variable to explicitly enable/disable colors
 */
// eslint-disable-next-line complexity

function useColors() {
  // NB: In an Electron preload script, document will be defined but not fully
  // initialized. Since we know we're in Chrome, we'll just detect this case
  // explicitly
  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {
    return true;
  } // Internet Explorer and Edge do not support colors.


  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) {
    return false;
  } // Is webkit? http://stackoverflow.com/a/16459606/376773
  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632


  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773
  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?
  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages
  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker
  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/);
}
/**
 * Colorize log arguments if enabled.
 *
 * @api public
 */


function formatArgs(args) {
  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);

  if (!this.useColors) {
    return;
  }

  var c = 'color: ' + this.color;
  args.splice(1, 0, c, 'color: inherit'); // The final "%c" is somewhat tricky, because there could be other
  // arguments passed either before or after the %c, so we need to
  // figure out the correct index to insert the CSS into

  var index = 0;
  var lastC = 0;
  args[0].replace(/%[a-zA-Z%]/g, function (match) {
    if (match === '%%') {
      return;
    }

    index++;

    if (match === '%c') {
      // We only are interested in the *last* %c
      // (the user may have provided their own)
      lastC = index;
    }
  });
  args.splice(lastC, 0, c);
}
/**
 * Invokes `console.log()` when available.
 * No-op when `console.log` is not a "function".
 *
 * @api public
 */


function log() {
  var _console;

  // This hackery is required for IE8/9, where
  // the `console.log` function doesn't have 'apply'
  return (typeof console === "undefined" ? "undefined" : _typeof(console)) === 'object' && console.log && (_console = console).log.apply(_console, arguments);
}
/**
 * Save `namespaces`.
 *
 * @param {String} namespaces
 * @api private
 */


function save(namespaces) {
  try {
    if (namespaces) {
      exports.storage.setItem('debug', namespaces);
    } else {
      exports.storage.removeItem('debug');
    }
  } catch (error) {// Swallow
    // XXX (@Qix-) should we be logging these?
  }
}
/**
 * Load `namespaces`.
 *
 * @return {String} returns the previously persisted debug modes
 * @api private
 */


function load() {
  var r;

  try {
    r = exports.storage.getItem('debug');
  } catch (error) {} // Swallow
  // XXX (@Qix-) should we be logging these?
  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG


  if (!r && typeof process !== 'undefined' && 'env' in process) {
    r = process.env.DEBUG;
  }

  return r;
}
/**
 * Localstorage attempts to return the localstorage.
 *
 * This is necessary because safari throws
 * when a user disables cookies/localstorage
 * and you attempt to access it.
 *
 * @return {LocalStorage}
 * @api private
 */


function localstorage() {
  try {
    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context
    // The Browser also has localStorage in the global context.
    return localStorage;
  } catch (error) {// Swallow
    // XXX (@Qix-) should we be logging these?
  }
}

module.exports = require('./common')(exports);
var formatters = module.exports.formatters;
/**
 * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.
 */

formatters.j = function (v) {
  try {
    return JSON.stringify(v);
  } catch (error) {
    return '[UnexpectedJSONParseError]: ' + error.message;
  }
};


}).call(this,{ env: {} })

},{"./common":56}],56:[function(require,module,exports){
"use strict";

/**
 * This is the common logic for both the Node.js and web browser
 * implementations of `debug()`.
 */
function setup(env) {
  createDebug.debug = createDebug;
  createDebug.default = createDebug;
  createDebug.coerce = coerce;
  createDebug.disable = disable;
  createDebug.enable = enable;
  createDebug.enabled = enabled;
  createDebug.humanize = require('ms');
  Object.keys(env).forEach(function (key) {
    createDebug[key] = env[key];
  });
  /**
  * Active `debug` instances.
  */

  createDebug.instances = [];
  /**
  * The currently active debug mode names, and names to skip.
  */

  createDebug.names = [];
  createDebug.skips = [];
  /**
  * Map of special "%n" handling functions, for the debug "format" argument.
  *
  * Valid key names are a single, lower or upper-case letter, i.e. "n" and "N".
  */

  createDebug.formatters = {};
  /**
  * Selects a color for a debug namespace
  * @param {String} namespace The namespace string for the for the debug instance to be colored
  * @return {Number|String} An ANSI color code for the given namespace
  * @api private
  */

  function selectColor(namespace) {
    var hash = 0;

    for (var i = 0; i < namespace.length; i++) {
      hash = (hash << 5) - hash + namespace.charCodeAt(i);
      hash |= 0; // Convert to 32bit integer
    }

    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];
  }

  createDebug.selectColor = selectColor;
  /**
  * Create a debugger with the given `namespace`.
  *
  * @param {String} namespace
  * @return {Function}
  * @api public
  */

  function createDebug(namespace) {
    var prevTime;

    function debug() {
      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      // Disabled?
      if (!debug.enabled) {
        return;
      }

      var self = debug; // Set `diff` timestamp

      var curr = Number(new Date());
      var ms = curr - (prevTime || curr);
      self.diff = ms;
      self.prev = prevTime;
      self.curr = curr;
      prevTime = curr;
      args[0] = createDebug.coerce(args[0]);

      if (typeof args[0] !== 'string') {
        // Anything else let's inspect with %O
        args.unshift('%O');
      } // Apply any `formatters` transformations


      var index = 0;
      args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {
        // If we encounter an escaped % then don't increase the array index
        if (match === '%%') {
          return match;
        }

        index++;
        var formatter = createDebug.formatters[format];

        if (typeof formatter === 'function') {
          var val = args[index];
          match = formatter.call(self, val); // Now we need to remove `args[index]` since it's inlined in the `format`

          args.splice(index, 1);
          index--;
        }

        return match;
      }); // Apply env-specific formatting (colors, etc.)

      createDebug.formatArgs.call(self, args);
      var logFn = self.log || createDebug.log;
      logFn.apply(self, args);
    }

    debug.namespace = namespace;
    debug.enabled = createDebug.enabled(namespace);
    debug.useColors = createDebug.useColors();
    debug.color = selectColor(namespace);
    debug.destroy = destroy;
    debug.extend = extend; // Debug.formatArgs = formatArgs;
    // debug.rawLog = rawLog;
    // env-specific initialization logic for debug instances

    if (typeof createDebug.init === 'function') {
      createDebug.init(debug);
    }

    createDebug.instances.push(debug);
    return debug;
  }

  function destroy() {
    var index = createDebug.instances.indexOf(this);

    if (index !== -1) {
      createDebug.instances.splice(index, 1);
      return true;
    }

    return false;
  }

  function extend(namespace, delimiter) {
    return createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);
  }
  /**
  * Enables a debug mode by namespaces. This can include modes
  * separated by a colon and wildcards.
  *
  * @param {String} namespaces
  * @api public
  */


  function enable(namespaces) {
    createDebug.save(namespaces);
    createDebug.names = [];
    createDebug.skips = [];
    var i;
    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\s,]+/);
    var len = split.length;

    for (i = 0; i < len; i++) {
      if (!split[i]) {
        // ignore empty strings
        continue;
      }

      namespaces = split[i].replace(/\*/g, '.*?');

      if (namespaces[0] === '-') {
        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));
      } else {
        createDebug.names.push(new RegExp('^' + namespaces + '$'));
      }
    }

    for (i = 0; i < createDebug.instances.length; i++) {
      var instance = createDebug.instances[i];
      instance.enabled = createDebug.enabled(instance.namespace);
    }
  }
  /**
  * Disable debug output.
  *
  * @api public
  */


  function disable() {
    createDebug.enable('');
  }
  /**
  * Returns true if the given mode name is enabled, false otherwise.
  *
  * @param {String} name
  * @return {Boolean}
  * @api public
  */


  function enabled(name) {
    if (name[name.length - 1] === '*') {
      return true;
    }

    var i;
    var len;

    for (i = 0, len = createDebug.skips.length; i < len; i++) {
      if (createDebug.skips[i].test(name)) {
        return false;
      }
    }

    for (i = 0, len = createDebug.names.length; i < len; i++) {
      if (createDebug.names[i].test(name)) {
        return true;
      }
    }

    return false;
  }
  /**
  * Coerce `val`.
  *
  * @param {Mixed} val
  * @return {Mixed}
  * @api private
  */


  function coerce(val) {
    if (val instanceof Error) {
      return val.stack || val.message;
    }

    return val;
  }

  createDebug.enable(createDebug.load());
  return createDebug;
}

module.exports = setup;


},{"ms":54}],57:[function(require,module,exports){
if (typeof Object.create === 'function') {
  // implementation from standard node.js 'util' module
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    ctor.prototype = Object.create(superCtor.prototype, {
      constructor: {
        value: ctor,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
  };
} else {
  // old school shim for old browsers
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    var TempCtor = function () {}
    TempCtor.prototype = superCtor.prototype
    ctor.prototype = new TempCtor()
    ctor.prototype.constructor = ctor
  }
}

},{}],58:[function(require,module,exports){
(function (global){
/*! JSON v3.3.2 | http://bestiejs.github.io/json3 | Copyright 2012-2014, Kit Cambridge | http://kit.mit-license.org */
;(function () {
  // Detect the `define` function exposed by asynchronous module loaders. The
  // strict `define` check is necessary for compatibility with `r.js`.
  var isLoader = typeof define === "function" && define.amd;

  // A set of types used to distinguish objects from primitives.
  var objectTypes = {
    "function": true,
    "object": true
  };

  // Detect the `exports` object exposed by CommonJS implementations.
  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;

  // Use the `global` object exposed by Node (including Browserify via
  // `insert-module-globals`), Narwhal, and Ringo as the default context,
  // and the `window` object in browsers. Rhino exports a `global` function
  // instead.
  var root = objectTypes[typeof window] && window || this,
      freeGlobal = freeExports && objectTypes[typeof module] && module && !module.nodeType && typeof global == "object" && global;

  if (freeGlobal && (freeGlobal["global"] === freeGlobal || freeGlobal["window"] === freeGlobal || freeGlobal["self"] === freeGlobal)) {
    root = freeGlobal;
  }

  // Public: Initializes JSON 3 using the given `context` object, attaching the
  // `stringify` and `parse` functions to the specified `exports` object.
  function runInContext(context, exports) {
    context || (context = root["Object"]());
    exports || (exports = root["Object"]());

    // Native constructor aliases.
    var Number = context["Number"] || root["Number"],
        String = context["String"] || root["String"],
        Object = context["Object"] || root["Object"],
        Date = context["Date"] || root["Date"],
        SyntaxError = context["SyntaxError"] || root["SyntaxError"],
        TypeError = context["TypeError"] || root["TypeError"],
        Math = context["Math"] || root["Math"],
        nativeJSON = context["JSON"] || root["JSON"];

    // Delegate to the native `stringify` and `parse` implementations.
    if (typeof nativeJSON == "object" && nativeJSON) {
      exports.stringify = nativeJSON.stringify;
      exports.parse = nativeJSON.parse;
    }

    // Convenience aliases.
    var objectProto = Object.prototype,
        getClass = objectProto.toString,
        isProperty, forEach, undef;

    // Test the `Date#getUTC*` methods. Based on work by @Yaffle.
    var isExtended = new Date(-3509827334573292);
    try {
      // The `getUTCFullYear`, `Month`, and `Date` methods return nonsensical
      // results for certain dates in Opera >= 10.53.
      isExtended = isExtended.getUTCFullYear() == -109252 && isExtended.getUTCMonth() === 0 && isExtended.getUTCDate() === 1 &&
        // Safari < 2.0.2 stores the internal millisecond time value correctly,
        // but clips the values returned by the date methods to the range of
        // signed 32-bit integers ([-2 ** 31, 2 ** 31 - 1]).
        isExtended.getUTCHours() == 10 && isExtended.getUTCMinutes() == 37 && isExtended.getUTCSeconds() == 6 && isExtended.getUTCMilliseconds() == 708;
    } catch (exception) {}

    // Internal: Determines whether the native `JSON.stringify` and `parse`
    // implementations are spec-compliant. Based on work by Ken Snyder.
    function has(name) {
      if (has[name] !== undef) {
        // Return cached feature test result.
        return has[name];
      }
      var isSupported;
      if (name == "bug-string-char-index") {
        // IE <= 7 doesn't support accessing string characters using square
        // bracket notation. IE 8 only supports this for primitives.
        isSupported = "a"[0] != "a";
      } else if (name == "json") {
        // Indicates whether both `JSON.stringify` and `JSON.parse` are
        // supported.
        isSupported = has("json-stringify") && has("json-parse");
      } else {
        var value, serialized = '{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';
        // Test `JSON.stringify`.
        if (name == "json-stringify") {
          var stringify = exports.stringify, stringifySupported = typeof stringify == "function" && isExtended;
          if (stringifySupported) {
            // A test function object with a custom `toJSON` method.
            (value = function () {
              return 1;
            }).toJSON = value;
            try {
              stringifySupported =
                // Firefox 3.1b1 and b2 serialize string, number, and boolean
                // primitives as object literals.
                stringify(0) === "0" &&
                // FF 3.1b1, b2, and JSON 2 serialize wrapped primitives as object
                // literals.
                stringify(new Number()) === "0" &&
                stringify(new String()) == '""' &&
                // FF 3.1b1, 2 throw an error if the value is `null`, `undefined`, or
                // does not define a canonical JSON representation (this applies to
                // objects with `toJSON` properties as well, *unless* they are nested
                // within an object or array).
                stringify(getClass) === undef &&
                // IE 8 serializes `undefined` as `"undefined"`. Safari <= 5.1.7 and
                // FF 3.1b3 pass this test.
                stringify(undef) === undef &&
                // Safari <= 5.1.7 and FF 3.1b3 throw `Error`s and `TypeError`s,
                // respectively, if the value is omitted entirely.
                stringify() === undef &&
                // FF 3.1b1, 2 throw an error if the given value is not a number,
                // string, array, object, Boolean, or `null` literal. This applies to
                // objects with custom `toJSON` methods as well, unless they are nested
                // inside object or array literals. YUI 3.0.0b1 ignores custom `toJSON`
                // methods entirely.
                stringify(value) === "1" &&
                stringify([value]) == "[1]" &&
                // Prototype <= 1.6.1 serializes `[undefined]` as `"[]"` instead of
                // `"[null]"`.
                stringify([undef]) == "[null]" &&
                // YUI 3.0.0b1 fails to serialize `null` literals.
                stringify(null) == "null" &&
                // FF 3.1b1, 2 halts serialization if an array contains a function:
                // `[1, true, getClass, 1]` serializes as "[1,true,],". FF 3.1b3
                // elides non-JSON values from objects and arrays, unless they
                // define custom `toJSON` methods.
                stringify([undef, getClass, null]) == "[null,null,null]" &&
                // Simple serialization test. FF 3.1b1 uses Unicode escape sequences
                // where character escape codes are expected (e.g., `\b` => `\u0008`).
                stringify({ "a": [value, true, false, null, "\x00\b\n\f\r\t"] }) == serialized &&
                // FF 3.1b1 and b2 ignore the `filter` and `width` arguments.
                stringify(null, value) === "1" &&
                stringify([1, 2], null, 1) == "[\n 1,\n 2\n]" &&
                // JSON 2, Prototype <= 1.7, and older WebKit builds incorrectly
                // serialize extended years.
                stringify(new Date(-8.64e15)) == '"-271821-04-20T00:00:00.000Z"' &&
                // The milliseconds are optional in ES 5, but required in 5.1.
                stringify(new Date(8.64e15)) == '"+275760-09-13T00:00:00.000Z"' &&
                // Firefox <= 11.0 incorrectly serializes years prior to 0 as negative
                // four-digit years instead of six-digit years. Credits: @Yaffle.
                stringify(new Date(-621987552e5)) == '"-000001-01-01T00:00:00.000Z"' &&
                // Safari <= 5.1.5 and Opera >= 10.53 incorrectly serialize millisecond
                // values less than 1000. Credits: @Yaffle.
                stringify(new Date(-1)) == '"1969-12-31T23:59:59.999Z"';
            } catch (exception) {
              stringifySupported = false;
            }
          }
          isSupported = stringifySupported;
        }
        // Test `JSON.parse`.
        if (name == "json-parse") {
          var parse = exports.parse;
          if (typeof parse == "function") {
            try {
              // FF 3.1b1, b2 will throw an exception if a bare literal is provided.
              // Conforming implementations should also coerce the initial argument to
              // a string prior to parsing.
              if (parse("0") === 0 && !parse(false)) {
                // Simple parsing test.
                value = parse(serialized);
                var parseSupported = value["a"].length == 5 && value["a"][0] === 1;
                if (parseSupported) {
                  try {
                    // Safari <= 5.1.2 and FF 3.1b1 allow unescaped tabs in strings.
                    parseSupported = !parse('"\t"');
                  } catch (exception) {}
                  if (parseSupported) {
                    try {
                      // FF 4.0 and 4.0.1 allow leading `+` signs and leading
                      // decimal points. FF 4.0, 4.0.1, and IE 9-10 also allow
                      // certain octal literals.
                      parseSupported = parse("01") !== 1;
                    } catch (exception) {}
                  }
                  if (parseSupported) {
                    try {
                      // FF 4.0, 4.0.1, and Rhino 1.7R3-R4 allow trailing decimal
                      // points. These environments, along with FF 3.1b1 and 2,
                      // also allow trailing commas in JSON objects and arrays.
                      parseSupported = parse("1.") !== 1;
                    } catch (exception) {}
                  }
                }
              }
            } catch (exception) {
              parseSupported = false;
            }
          }
          isSupported = parseSupported;
        }
      }
      return has[name] = !!isSupported;
    }

    if (!has("json")) {
      // Common `[[Class]]` name aliases.
      var functionClass = "[object Function]",
          dateClass = "[object Date]",
          numberClass = "[object Number]",
          stringClass = "[object String]",
          arrayClass = "[object Array]",
          booleanClass = "[object Boolean]";

      // Detect incomplete support for accessing string characters by index.
      var charIndexBuggy = has("bug-string-char-index");

      // Define additional utility methods if the `Date` methods are buggy.
      if (!isExtended) {
        var floor = Math.floor;
        // A mapping between the months of the year and the number of days between
        // January 1st and the first of the respective month.
        var Months = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];
        // Internal: Calculates the number of days between the Unix epoch and the
        // first day of the given month.
        var getDay = function (year, month) {
          return Months[month] + 365 * (year - 1970) + floor((year - 1969 + (month = +(month > 1))) / 4) - floor((year - 1901 + month) / 100) + floor((year - 1601 + month) / 400);
        };
      }

      // Internal: Determines if a property is a direct property of the given
      // object. Delegates to the native `Object#hasOwnProperty` method.
      if (!(isProperty = objectProto.hasOwnProperty)) {
        isProperty = function (property) {
          var members = {}, constructor;
          if ((members.__proto__ = null, members.__proto__ = {
            // The *proto* property cannot be set multiple times in recent
            // versions of Firefox and SeaMonkey.
            "toString": 1
          }, members).toString != getClass) {
            // Safari <= 2.0.3 doesn't implement `Object#hasOwnProperty`, but
            // supports the mutable *proto* property.
            isProperty = function (property) {
              // Capture and break the object's prototype chain (see section 8.6.2
              // of the ES 5.1 spec). The parenthesized expression prevents an
              // unsafe transformation by the Closure Compiler.
              var original = this.__proto__, result = property in (this.__proto__ = null, this);
              // Restore the original prototype chain.
              this.__proto__ = original;
              return result;
            };
          } else {
            // Capture a reference to the top-level `Object` constructor.
            constructor = members.constructor;
            // Use the `constructor` property to simulate `Object#hasOwnProperty` in
            // other environments.
            isProperty = function (property) {
              var parent = (this.constructor || constructor).prototype;
              return property in this && !(property in parent && this[property] === parent[property]);
            };
          }
          members = null;
          return isProperty.call(this, property);
        };
      }

      // Internal: Normalizes the `for...in` iteration algorithm across
      // environments. Each enumerated key is yielded to a `callback` function.
      forEach = function (object, callback) {
        var size = 0, Properties, members, property;

        // Tests for bugs in the current environment's `for...in` algorithm. The
        // `valueOf` property inherits the non-enumerable flag from
        // `Object.prototype` in older versions of IE, Netscape, and Mozilla.
        (Properties = function () {
          this.valueOf = 0;
        }).prototype.valueOf = 0;

        // Iterate over a new instance of the `Properties` class.
        members = new Properties();
        for (property in members) {
          // Ignore all properties inherited from `Object.prototype`.
          if (isProperty.call(members, property)) {
            size++;
          }
        }
        Properties = members = null;

        // Normalize the iteration algorithm.
        if (!size) {
          // A list of non-enumerable properties inherited from `Object.prototype`.
          members = ["valueOf", "toString", "toLocaleString", "propertyIsEnumerable", "isPrototypeOf", "hasOwnProperty", "constructor"];
          // IE <= 8, Mozilla 1.0, and Netscape 6.2 ignore shadowed non-enumerable
          // properties.
          forEach = function (object, callback) {
            var isFunction = getClass.call(object) == functionClass, property, length;
            var hasProperty = !isFunction && typeof object.constructor != "function" && objectTypes[typeof object.hasOwnProperty] && object.hasOwnProperty || isProperty;
            for (property in object) {
              // Gecko <= 1.0 enumerates the `prototype` property of functions under
              // certain conditions; IE does not.
              if (!(isFunction && property == "prototype") && hasProperty.call(object, property)) {
                callback(property);
              }
            }
            // Manually invoke the callback for each non-enumerable property.
            for (length = members.length; property = members[--length]; hasProperty.call(object, property) && callback(property));
          };
        } else if (size == 2) {
          // Safari <= 2.0.4 enumerates shadowed properties twice.
          forEach = function (object, callback) {
            // Create a set of iterated properties.
            var members = {}, isFunction = getClass.call(object) == functionClass, property;
            for (property in object) {
              // Store each property name to prevent double enumeration. The
              // `prototype` property of functions is not enumerated due to cross-
              // environment inconsistencies.
              if (!(isFunction && property == "prototype") && !isProperty.call(members, property) && (members[property] = 1) && isProperty.call(object, property)) {
                callback(property);
              }
            }
          };
        } else {
          // No bugs detected; use the standard `for...in` algorithm.
          forEach = function (object, callback) {
            var isFunction = getClass.call(object) == functionClass, property, isConstructor;
            for (property in object) {
              if (!(isFunction && property == "prototype") && isProperty.call(object, property) && !(isConstructor = property === "constructor")) {
                callback(property);
              }
            }
            // Manually invoke the callback for the `constructor` property due to
            // cross-environment inconsistencies.
            if (isConstructor || isProperty.call(object, (property = "constructor"))) {
              callback(property);
            }
          };
        }
        return forEach(object, callback);
      };

      // Public: Serializes a JavaScript `value` as a JSON string. The optional
      // `filter` argument may specify either a function that alters how object and
      // array members are serialized, or an array of strings and numbers that
      // indicates which properties should be serialized. The optional `width`
      // argument may be either a string or number that specifies the indentation
      // level of the output.
      if (!has("json-stringify")) {
        // Internal: A map of control characters and their escaped equivalents.
        var Escapes = {
          92: "\\\\",
          34: '\\"',
          8: "\\b",
          12: "\\f",
          10: "\\n",
          13: "\\r",
          9: "\\t"
        };

        // Internal: Converts `value` into a zero-padded string such that its
        // length is at least equal to `width`. The `width` must be <= 6.
        var leadingZeroes = "000000";
        var toPaddedString = function (width, value) {
          // The `|| 0` expression is necessary to work around a bug in
          // Opera <= 7.54u2 where `0 == -0`, but `String(-0) !== "0"`.
          return (leadingZeroes + (value || 0)).slice(-width);
        };

        // Internal: Double-quotes a string `value`, replacing all ASCII control
        // characters (characters with code unit values between 0 and 31) with
        // their escaped equivalents. This is an implementation of the
        // `Quote(value)` operation defined in ES 5.1 section 15.12.3.
        var unicodePrefix = "\\u00";
        var quote = function (value) {
          var result = '"', index = 0, length = value.length, useCharIndex = !charIndexBuggy || length > 10;
          var symbols = useCharIndex && (charIndexBuggy ? value.split("") : value);
          for (; index < length; index++) {
            var charCode = value.charCodeAt(index);
            // If the character is a control character, append its Unicode or
            // shorthand escape sequence; otherwise, append the character as-is.
            switch (charCode) {
              case 8: case 9: case 10: case 12: case 13: case 34: case 92:
                result += Escapes[charCode];
                break;
              default:
                if (charCode < 32) {
                  result += unicodePrefix + toPaddedString(2, charCode.toString(16));
                  break;
                }
                result += useCharIndex ? symbols[index] : value.charAt(index);
            }
          }
          return result + '"';
        };

        // Internal: Recursively serializes an object. Implements the
        // `Str(key, holder)`, `JO(value)`, and `JA(value)` operations.
        var serialize = function (property, object, callback, properties, whitespace, indentation, stack) {
          var value, className, year, month, date, time, hours, minutes, seconds, milliseconds, results, element, index, length, prefix, result;
          try {
            // Necessary for host object support.
            value = object[property];
          } catch (exception) {}
          if (typeof value == "object" && value) {
            className = getClass.call(value);
            if (className == dateClass && !isProperty.call(value, "toJSON")) {
              if (value > -1 / 0 && value < 1 / 0) {
                // Dates are serialized according to the `Date#toJSON` method
                // specified in ES 5.1 section 15.9.5.44. See section 15.9.1.15
                // for the ISO 8601 date time string format.
                if (getDay) {
                  // Manually compute the year, month, date, hours, minutes,
                  // seconds, and milliseconds if the `getUTC*` methods are
                  // buggy. Adapted from @Yaffle's `date-shim` project.
                  date = floor(value / 864e5);
                  for (year = floor(date / 365.2425) + 1970 - 1; getDay(year + 1, 0) <= date; year++);
                  for (month = floor((date - getDay(year, 0)) / 30.42); getDay(year, month + 1) <= date; month++);
                  date = 1 + date - getDay(year, month);
                  // The `time` value specifies the time within the day (see ES
                  // 5.1 section 15.9.1.2). The formula `(A % B + B) % B` is used
                  // to compute `A modulo B`, as the `%` operator does not
                  // correspond to the `modulo` operation for negative numbers.
                  time = (value % 864e5 + 864e5) % 864e5;
                  // The hours, minutes, seconds, and milliseconds are obtained by
                  // decomposing the time within the day. See section 15.9.1.10.
                  hours = floor(time / 36e5) % 24;
                  minutes = floor(time / 6e4) % 60;
                  seconds = floor(time / 1e3) % 60;
                  milliseconds = time % 1e3;
                } else {
                  year = value.getUTCFullYear();
                  month = value.getUTCMonth();
                  date = value.getUTCDate();
                  hours = value.getUTCHours();
                  minutes = value.getUTCMinutes();
                  seconds = value.getUTCSeconds();
                  milliseconds = value.getUTCMilliseconds();
                }
                // Serialize extended years correctly.
                value = (year <= 0 || year >= 1e4 ? (year < 0 ? "-" : "+") + toPaddedString(6, year < 0 ? -year : year) : toPaddedString(4, year)) +
                  "-" + toPaddedString(2, month + 1) + "-" + toPaddedString(2, date) +
                  // Months, dates, hours, minutes, and seconds should have two
                  // digits; milliseconds should have three.
                  "T" + toPaddedString(2, hours) + ":" + toPaddedString(2, minutes) + ":" + toPaddedString(2, seconds) +
                  // Milliseconds are optional in ES 5.0, but required in 5.1.
                  "." + toPaddedString(3, milliseconds) + "Z";
              } else {
                value = null;
              }
            } else if (typeof value.toJSON == "function" && ((className != numberClass && className != stringClass && className != arrayClass) || isProperty.call(value, "toJSON"))) {
              // Prototype <= 1.6.1 adds non-standard `toJSON` methods to the
              // `Number`, `String`, `Date`, and `Array` prototypes. JSON 3
              // ignores all `toJSON` methods on these objects unless they are
              // defined directly on an instance.
              value = value.toJSON(property);
            }
          }
          if (callback) {
            // If a replacement function was provided, call it to obtain the value
            // for serialization.
            value = callback.call(object, property, value);
          }
          if (value === null) {
            return "null";
          }
          className = getClass.call(value);
          if (className == booleanClass) {
            // Booleans are represented literally.
            return "" + value;
          } else if (className == numberClass) {
            // JSON numbers must be finite. `Infinity` and `NaN` are serialized as
            // `"null"`.
            return value > -1 / 0 && value < 1 / 0 ? "" + value : "null";
          } else if (className == stringClass) {
            // Strings are double-quoted and escaped.
            return quote("" + value);
          }
          // Recursively serialize objects and arrays.
          if (typeof value == "object") {
            // Check for cyclic structures. This is a linear search; performance
            // is inversely proportional to the number of unique nested objects.
            for (length = stack.length; length--;) {
              if (stack[length] === value) {
                // Cyclic structures cannot be serialized by `JSON.stringify`.
                throw TypeError();
              }
            }
            // Add the object to the stack of traversed objects.
            stack.push(value);
            results = [];
            // Save the current indentation level and indent one additional level.
            prefix = indentation;
            indentation += whitespace;
            if (className == arrayClass) {
              // Recursively serialize array elements.
              for (index = 0, length = value.length; index < length; index++) {
                element = serialize(index, value, callback, properties, whitespace, indentation, stack);
                results.push(element === undef ? "null" : element);
              }
              result = results.length ? (whitespace ? "[\n" + indentation + results.join(",\n" + indentation) + "\n" + prefix + "]" : ("[" + results.join(",") + "]")) : "[]";
            } else {
              // Recursively serialize object members. Members are selected from
              // either a user-specified list of property names, or the object
              // itself.
              forEach(properties || value, function (property) {
                var element = serialize(property, value, callback, properties, whitespace, indentation, stack);
                if (element !== undef) {
                  // According to ES 5.1 section 15.12.3: "If `gap` {whitespace}
                  // is not the empty string, let `member` {quote(property) + ":"}
                  // be the concatenation of `member` and the `space` character."
                  // The "`space` character" refers to the literal space
                  // character, not the `space` {width} argument provided to
                  // `JSON.stringify`.
                  results.push(quote(property) + ":" + (whitespace ? " " : "") + element);
                }
              });
              result = results.length ? (whitespace ? "{\n" + indentation + results.join(",\n" + indentation) + "\n" + prefix + "}" : ("{" + results.join(",") + "}")) : "{}";
            }
            // Remove the object from the traversed object stack.
            stack.pop();
            return result;
          }
        };

        // Public: `JSON.stringify`. See ES 5.1 section 15.12.3.
        exports.stringify = function (source, filter, width) {
          var whitespace, callback, properties, className;
          if (objectTypes[typeof filter] && filter) {
            if ((className = getClass.call(filter)) == functionClass) {
              callback = filter;
            } else if (className == arrayClass) {
              // Convert the property names array into a makeshift set.
              properties = {};
              for (var index = 0, length = filter.length, value; index < length; value = filter[index++], ((className = getClass.call(value)), className == stringClass || className == numberClass) && (properties[value] = 1));
            }
          }
          if (width) {
            if ((className = getClass.call(width)) == numberClass) {
              // Convert the `width` to an integer and create a string containing
              // `width` number of space characters.
              if ((width -= width % 1) > 0) {
                for (whitespace = "", width > 10 && (width = 10); whitespace.length < width; whitespace += " ");
              }
            } else if (className == stringClass) {
              whitespace = width.length <= 10 ? width : width.slice(0, 10);
            }
          }
          // Opera <= 7.54u2 discards the values associated with empty string keys
          // (`""`) only if they are used directly within an object member list
          // (e.g., `!("" in { "": 1})`).
          return serialize("", (value = {}, value[""] = source, value), callback, properties, whitespace, "", []);
        };
      }

      // Public: Parses a JSON source string.
      if (!has("json-parse")) {
        var fromCharCode = String.fromCharCode;

        // Internal: A map of escaped control characters and their unescaped
        // equivalents.
        var Unescapes = {
          92: "\\",
          34: '"',
          47: "/",
          98: "\b",
          116: "\t",
          110: "\n",
          102: "\f",
          114: "\r"
        };

        // Internal: Stores the parser state.
        var Index, Source;

        // Internal: Resets the parser state and throws a `SyntaxError`.
        var abort = function () {
          Index = Source = null;
          throw SyntaxError();
        };

        // Internal: Returns the next token, or `"$"` if the parser has reached
        // the end of the source string. A token may be a string, number, `null`
        // literal, or Boolean literal.
        var lex = function () {
          var source = Source, length = source.length, value, begin, position, isSigned, charCode;
          while (Index < length) {
            charCode = source.charCodeAt(Index);
            switch (charCode) {
              case 9: case 10: case 13: case 32:
                // Skip whitespace tokens, including tabs, carriage returns, line
                // feeds, and space characters.
                Index++;
                break;
              case 123: case 125: case 91: case 93: case 58: case 44:
                // Parse a punctuator token (`{`, `}`, `[`, `]`, `:`, or `,`) at
                // the current position.
                value = charIndexBuggy ? source.charAt(Index) : source[Index];
                Index++;
                return value;
              case 34:
                // `"` delimits a JSON string; advance to the next character and
                // begin parsing the string. String tokens are prefixed with the
                // sentinel `@` character to distinguish them from punctuators and
                // end-of-string tokens.
                for (value = "@", Index++; Index < length;) {
                  charCode = source.charCodeAt(Index);
                  if (charCode < 32) {
                    // Unescaped ASCII control characters (those with a code unit
                    // less than the space character) are not permitted.
                    abort();
                  } else if (charCode == 92) {
                    // A reverse solidus (`\`) marks the beginning of an escaped
                    // control character (including `"`, `\`, and `/`) or Unicode
                    // escape sequence.
                    charCode = source.charCodeAt(++Index);
                    switch (charCode) {
                      case 92: case 34: case 47: case 98: case 116: case 110: case 102: case 114:
                        // Revive escaped control characters.
                        value += Unescapes[charCode];
                        Index++;
                        break;
                      case 117:
                        // `\u` marks the beginning of a Unicode escape sequence.
                        // Advance to the first character and validate the
                        // four-digit code point.
                        begin = ++Index;
                        for (position = Index + 4; Index < position; Index++) {
                          charCode = source.charCodeAt(Index);
                          // A valid sequence comprises four hexdigits (case-
                          // insensitive) that form a single hexadecimal value.
                          if (!(charCode >= 48 && charCode <= 57 || charCode >= 97 && charCode <= 102 || charCode >= 65 && charCode <= 70)) {
                            // Invalid Unicode escape sequence.
                            abort();
                          }
                        }
                        // Revive the escaped character.
                        value += fromCharCode("0x" + source.slice(begin, Index));
                        break;
                      default:
                        // Invalid escape sequence.
                        abort();
                    }
                  } else {
                    if (charCode == 34) {
                      // An unescaped double-quote character marks the end of the
                      // string.
                      break;
                    }
                    charCode = source.charCodeAt(Index);
                    begin = Index;
                    // Optimize for the common case where a string is valid.
                    while (charCode >= 32 && charCode != 92 && charCode != 34) {
                      charCode = source.charCodeAt(++Index);
                    }
                    // Append the string as-is.
                    value += source.slice(begin, Index);
                  }
                }
                if (source.charCodeAt(Index) == 34) {
                  // Advance to the next character and return the revived string.
                  Index++;
                  return value;
                }
                // Unterminated string.
                abort();
              default:
                // Parse numbers and literals.
                begin = Index;
                // Advance past the negative sign, if one is specified.
                if (charCode == 45) {
                  isSigned = true;
                  charCode = source.charCodeAt(++Index);
                }
                // Parse an integer or floating-point value.
                if (charCode >= 48 && charCode <= 57) {
                  // Leading zeroes are interpreted as octal literals.
                  if (charCode == 48 && ((charCode = source.charCodeAt(Index + 1)), charCode >= 48 && charCode <= 57)) {
                    // Illegal octal literal.
                    abort();
                  }
                  isSigned = false;
                  // Parse the integer component.
                  for (; Index < length && ((charCode = source.charCodeAt(Index)), charCode >= 48 && charCode <= 57); Index++);
                  // Floats cannot contain a leading decimal point; however, this
                  // case is already accounted for by the parser.
                  if (source.charCodeAt(Index) == 46) {
                    position = ++Index;
                    // Parse the decimal component.
                    for (; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);
                    if (position == Index) {
                      // Illegal trailing decimal.
                      abort();
                    }
                    Index = position;
                  }
                  // Parse exponents. The `e` denoting the exponent is
                  // case-insensitive.
                  charCode = source.charCodeAt(Index);
                  if (charCode == 101 || charCode == 69) {
                    charCode = source.charCodeAt(++Index);
                    // Skip past the sign following the exponent, if one is
                    // specified.
                    if (charCode == 43 || charCode == 45) {
                      Index++;
                    }
                    // Parse the exponential component.
                    for (position = Index; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);
                    if (position == Index) {
                      // Illegal empty exponent.
                      abort();
                    }
                    Index = position;
                  }
                  // Coerce the parsed value to a JavaScript number.
                  return +source.slice(begin, Index);
                }
                // A negative sign may only precede numbers.
                if (isSigned) {
                  abort();
                }
                // `true`, `false`, and `null` literals.
                if (source.slice(Index, Index + 4) == "true") {
                  Index += 4;
                  return true;
                } else if (source.slice(Index, Index + 5) == "false") {
                  Index += 5;
                  return false;
                } else if (source.slice(Index, Index + 4) == "null") {
                  Index += 4;
                  return null;
                }
                // Unrecognized token.
                abort();
            }
          }
          // Return the sentinel `$` character if the parser has reached the end
          // of the source string.
          return "$";
        };

        // Internal: Parses a JSON `value` token.
        var get = function (value) {
          var results, hasMembers;
          if (value == "$") {
            // Unexpected end of input.
            abort();
          }
          if (typeof value == "string") {
            if ((charIndexBuggy ? value.charAt(0) : value[0]) == "@") {
              // Remove the sentinel `@` character.
              return value.slice(1);
            }
            // Parse object and array literals.
            if (value == "[") {
              // Parses a JSON array, returning a new JavaScript array.
              results = [];
              for (;; hasMembers || (hasMembers = true)) {
                value = lex();
                // A closing square bracket marks the end of the array literal.
                if (value == "]") {
                  break;
                }
                // If the array literal contains elements, the current token
                // should be a comma separating the previous element from the
                // next.
                if (hasMembers) {
                  if (value == ",") {
                    value = lex();
                    if (value == "]") {
                      // Unexpected trailing `,` in array literal.
                      abort();
                    }
                  } else {
                    // A `,` must separate each array element.
                    abort();
                  }
                }
                // Elisions and leading commas are not permitted.
                if (value == ",") {
                  abort();
                }
                results.push(get(value));
              }
              return results;
            } else if (value == "{") {
              // Parses a JSON object, returning a new JavaScript object.
              results = {};
              for (;; hasMembers || (hasMembers = true)) {
                value = lex();
                // A closing curly brace marks the end of the object literal.
                if (value == "}") {
                  break;
                }
                // If the object literal contains members, the current token
                // should be a comma separator.
                if (hasMembers) {
                  if (value == ",") {
                    value = lex();
                    if (value == "}") {
                      // Unexpected trailing `,` in object literal.
                      abort();
                    }
                  } else {
                    // A `,` must separate each object member.
                    abort();
                  }
                }
                // Leading commas are not permitted, object property names must be
                // double-quoted strings, and a `:` must separate each property
                // name and value.
                if (value == "," || typeof value != "string" || (charIndexBuggy ? value.charAt(0) : value[0]) != "@" || lex() != ":") {
                  abort();
                }
                results[value.slice(1)] = get(lex());
              }
              return results;
            }
            // Unexpected token encountered.
            abort();
          }
          return value;
        };

        // Internal: Updates a traversed object member.
        var update = function (source, property, callback) {
          var element = walk(source, property, callback);
          if (element === undef) {
            delete source[property];
          } else {
            source[property] = element;
          }
        };

        // Internal: Recursively traverses a parsed JSON object, invoking the
        // `callback` function for each value. This is an implementation of the
        // `Walk(holder, name)` operation defined in ES 5.1 section 15.12.2.
        var walk = function (source, property, callback) {
          var value = source[property], length;
          if (typeof value == "object" && value) {
            // `forEach` can't be used to traverse an array in Opera <= 8.54
            // because its `Object#hasOwnProperty` implementation returns `false`
            // for array indices (e.g., `![1, 2, 3].hasOwnProperty("0")`).
            if (getClass.call(value) == arrayClass) {
              for (length = value.length; length--;) {
                update(value, length, callback);
              }
            } else {
              forEach(value, function (property) {
                update(value, property, callback);
              });
            }
          }
          return callback.call(source, property, value);
        };

        // Public: `JSON.parse`. See ES 5.1 section 15.12.2.
        exports.parse = function (source, callback) {
          var result, value;
          Index = 0;
          Source = "" + source;
          result = get(lex());
          // If a JSON string contains multiple tokens, it is invalid.
          if (lex() != "$") {
            abort();
          }
          // Reset the parser state.
          Index = Source = null;
          return callback && getClass.call(callback) == functionClass ? walk((value = {}, value[""] = result, value), "", callback) : result;
        };
      }
    }

    exports["runInContext"] = runInContext;
    return exports;
  }

  if (freeExports && !isLoader) {
    // Export for CommonJS environments.
    runInContext(root, freeExports);
  } else {
    // Export for web browsers and JavaScript engines.
    var nativeJSON = root.JSON,
        previousJSON = root["JSON3"],
        isRestored = false;

    var JSON3 = runInContext(root, (root["JSON3"] = {
      // Public: Restores the original value of the global `JSON` object and
      // returns a reference to the `JSON3` object.
      "noConflict": function () {
        if (!isRestored) {
          isRestored = true;
          root.JSON = nativeJSON;
          root["JSON3"] = previousJSON;
          nativeJSON = previousJSON = null;
        }
        return JSON3;
      }
    }));

    root.JSON = {
      "parse": JSON3.parse,
      "stringify": JSON3.stringify
    };
  }

  // Export for asynchronous module loaders.
  if (isLoader) {
    define(function () {
      return JSON3;
    });
  }
}).call(this);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],59:[function(require,module,exports){
'use strict';

var has = Object.prototype.hasOwnProperty;

/**
 * Decode a URI encoded string.
 *
 * @param {String} input The URI encoded string.
 * @returns {String} The decoded string.
 * @api private
 */
function decode(input) {
  return decodeURIComponent(input.replace(/\+/g, ' '));
}

/**
 * Simple query string parser.
 *
 * @param {String} query The query string that needs to be parsed.
 * @returns {Object}
 * @api public
 */
function querystring(query) {
  var parser = /([^=?&]+)=?([^&]*)/g
    , result = {}
    , part;

  while (part = parser.exec(query)) {
    var key = decode(part[1])
      , value = decode(part[2]);

    //
    // Prevent overriding of existing properties. This ensures that build-in
    // methods like `toString` or __proto__ are not overriden by malicious
    // querystrings.
    //
    if (key in result) continue;
    result[key] = value;
  }

  return result;
}

/**
 * Transform a query string to an object.
 *
 * @param {Object} obj Object that should be transformed.
 * @param {String} prefix Optional prefix.
 * @returns {String}
 * @api public
 */
function querystringify(obj, prefix) {
  prefix = prefix || '';

  var pairs = [];

  //
  // Optionally prefix with a '?' if needed
  //
  if ('string' !== typeof prefix) prefix = '?';

  for (var key in obj) {
    if (has.call(obj, key)) {
      pairs.push(encodeURIComponent(key) +'='+ encodeURIComponent(obj[key]));
    }
  }

  return pairs.length ? prefix + pairs.join('&') : '';
}

//
// Expose the module.
//
exports.stringify = querystringify;
exports.parse = querystring;

},{}],60:[function(require,module,exports){
'use strict';

/**
 * Check if we're required to add a port number.
 *
 * @see https://url.spec.whatwg.org/#default-port
 * @param {Number|String} port Port number we need to check
 * @param {String} protocol Protocol we need to check against.
 * @returns {Boolean} Is it a default port for the given protocol
 * @api private
 */
module.exports = function required(port, protocol) {
  protocol = protocol.split(':')[0];
  port = +port;

  if (!port) return false;

  switch (protocol) {
    case 'http':
    case 'ws':
    return port !== 80;

    case 'https':
    case 'wss':
    return port !== 443;

    case 'ftp':
    return port !== 21;

    case 'gopher':
    return port !== 70;

    case 'file':
    return false;
  }

  return port !== 0;
};

},{}],61:[function(require,module,exports){
(function (global){
'use strict';

var required = require('requires-port')
  , qs = require('querystringify')
  , protocolre = /^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i
  , slashes = /^[A-Za-z][A-Za-z0-9+-.]*:\/\//;

/**
 * These are the parse rules for the URL parser, it informs the parser
 * about:
 *
 * 0. The char it Needs to parse, if it's a string it should be done using
 *    indexOf, RegExp using exec and NaN means set as current value.
 * 1. The property we should set when parsing this value.
 * 2. Indication if it's backwards or forward parsing, when set as number it's
 *    the value of extra chars that should be split off.
 * 3. Inherit from location if non existing in the parser.
 * 4. `toLowerCase` the resulting value.
 */
var rules = [
  ['#', 'hash'],                        // Extract from the back.
  ['?', 'query'],                       // Extract from the back.
  function sanitize(address) {          // Sanitize what is left of the address
    return address.replace('\\', '/');
  },
  ['/', 'pathname'],                    // Extract from the back.
  ['@', 'auth', 1],                     // Extract from the front.
  [NaN, 'host', undefined, 1, 1],       // Set left over value.
  [/:(\d+)$/, 'port', undefined, 1],    // RegExp the back.
  [NaN, 'hostname', undefined, 1, 1]    // Set left over.
];

/**
 * These properties should not be copied or inherited from. This is only needed
 * for all non blob URL's as a blob URL does not include a hash, only the
 * origin.
 *
 * @type {Object}
 * @private
 */
var ignore = { hash: 1, query: 1 };

/**
 * The location object differs when your code is loaded through a normal page,
 * Worker or through a worker using a blob. And with the blobble begins the
 * trouble as the location object will contain the URL of the blob, not the
 * location of the page where our code is loaded in. The actual origin is
 * encoded in the `pathname` so we can thankfully generate a good "default"
 * location from it so we can generate proper relative URL's again.
 *
 * @param {Object|String} loc Optional default location object.
 * @returns {Object} lolcation object.
 * @public
 */
function lolcation(loc) {
  var location = global && global.location || {};
  loc = loc || location;

  var finaldestination = {}
    , type = typeof loc
    , key;

  if ('blob:' === loc.protocol) {
    finaldestination = new Url(unescape(loc.pathname), {});
  } else if ('string' === type) {
    finaldestination = new Url(loc, {});
    for (key in ignore) delete finaldestination[key];
  } else if ('object' === type) {
    for (key in loc) {
      if (key in ignore) continue;
      finaldestination[key] = loc[key];
    }

    if (finaldestination.slashes === undefined) {
      finaldestination.slashes = slashes.test(loc.href);
    }
  }

  return finaldestination;
}

/**
 * @typedef ProtocolExtract
 * @type Object
 * @property {String} protocol Protocol matched in the URL, in lowercase.
 * @property {Boolean} slashes `true` if protocol is followed by "//", else `false`.
 * @property {String} rest Rest of the URL that is not part of the protocol.
 */

/**
 * Extract protocol information from a URL with/without double slash ("//").
 *
 * @param {String} address URL we want to extract from.
 * @return {ProtocolExtract} Extracted information.
 * @private
 */
function extractProtocol(address) {
  var match = protocolre.exec(address);

  return {
    protocol: match[1] ? match[1].toLowerCase() : '',
    slashes: !!match[2],
    rest: match[3]
  };
}

/**
 * Resolve a relative URL pathname against a base URL pathname.
 *
 * @param {String} relative Pathname of the relative URL.
 * @param {String} base Pathname of the base URL.
 * @return {String} Resolved pathname.
 * @private
 */
function resolve(relative, base) {
  var path = (base || '/').split('/').slice(0, -1).concat(relative.split('/'))
    , i = path.length
    , last = path[i - 1]
    , unshift = false
    , up = 0;

  while (i--) {
    if (path[i] === '.') {
      path.splice(i, 1);
    } else if (path[i] === '..') {
      path.splice(i, 1);
      up++;
    } else if (up) {
      if (i === 0) unshift = true;
      path.splice(i, 1);
      up--;
    }
  }

  if (unshift) path.unshift('');
  if (last === '.' || last === '..') path.push('');

  return path.join('/');
}

/**
 * The actual URL instance. Instead of returning an object we've opted-in to
 * create an actual constructor as it's much more memory efficient and
 * faster and it pleases my OCD.
 *
 * It is worth noting that we should not use `URL` as class name to prevent
 * clashes with the global URL instance that got introduced in browsers.
 *
 * @constructor
 * @param {String} address URL we want to parse.
 * @param {Object|String} location Location defaults for relative paths.
 * @param {Boolean|Function} parser Parser for the query string.
 * @private
 */
function Url(address, location, parser) {
  if (!(this instanceof Url)) {
    return new Url(address, location, parser);
  }

  var relative, extracted, parse, instruction, index, key
    , instructions = rules.slice()
    , type = typeof location
    , url = this
    , i = 0;

  //
  // The following if statements allows this module two have compatibility with
  // 2 different API:
  //
  // 1. Node.js's `url.parse` api which accepts a URL, boolean as arguments
  //    where the boolean indicates that the query string should also be parsed.
  //
  // 2. The `URL` interface of the browser which accepts a URL, object as
  //    arguments. The supplied object will be used as default values / fall-back
  //    for relative paths.
  //
  if ('object' !== type && 'string' !== type) {
    parser = location;
    location = null;
  }

  if (parser && 'function' !== typeof parser) parser = qs.parse;

  location = lolcation(location);

  //
  // Extract protocol information before running the instructions.
  //
  extracted = extractProtocol(address || '');
  relative = !extracted.protocol && !extracted.slashes;
  url.slashes = extracted.slashes || relative && location.slashes;
  url.protocol = extracted.protocol || location.protocol || '';
  address = extracted.rest;

  //
  // When the authority component is absent the URL starts with a path
  // component.
  //
  if (!extracted.slashes) instructions[3] = [/(.*)/, 'pathname'];

  for (; i < instructions.length; i++) {
    instruction = instructions[i];

    if (typeof instruction === 'function') {
      address = instruction(address);
      continue;
    }

    parse = instruction[0];
    key = instruction[1];

    if (parse !== parse) {
      url[key] = address;
    } else if ('string' === typeof parse) {
      if (~(index = address.indexOf(parse))) {
        if ('number' === typeof instruction[2]) {
          url[key] = address.slice(0, index);
          address = address.slice(index + instruction[2]);
        } else {
          url[key] = address.slice(index);
          address = address.slice(0, index);
        }
      }
    } else if ((index = parse.exec(address))) {
      url[key] = index[1];
      address = address.slice(0, index.index);
    }

    url[key] = url[key] || (
      relative && instruction[3] ? location[key] || '' : ''
    );

    //
    // Hostname, host and protocol should be lowercased so they can be used to
    // create a proper `origin`.
    //
    if (instruction[4]) url[key] = url[key].toLowerCase();
  }

  //
  // Also parse the supplied query string in to an object. If we're supplied
  // with a custom parser as function use that instead of the default build-in
  // parser.
  //
  if (parser) url.query = parser(url.query);

  //
  // If the URL is relative, resolve the pathname against the base URL.
  //
  if (
      relative
    && location.slashes
    && url.pathname.charAt(0) !== '/'
    && (url.pathname !== '' || location.pathname !== '')
  ) {
    url.pathname = resolve(url.pathname, location.pathname);
  }

  //
  // We should not add port numbers if they are already the default port number
  // for a given protocol. As the host also contains the port number we're going
  // override it with the hostname which contains no port number.
  //
  if (!required(url.port, url.protocol)) {
    url.host = url.hostname;
    url.port = '';
  }

  //
  // Parse down the `auth` for the username and password.
  //
  url.username = url.password = '';
  if (url.auth) {
    instruction = url.auth.split(':');
    url.username = instruction[0] || '';
    url.password = instruction[1] || '';
  }

  url.origin = url.protocol && url.host && url.protocol !== 'file:'
    ? url.protocol +'//'+ url.host
    : 'null';

  //
  // The href is just the compiled result.
  //
  url.href = url.toString();
}

/**
 * This is convenience method for changing properties in the URL instance to
 * insure that they all propagate correctly.
 *
 * @param {String} part          Property we need to adjust.
 * @param {Mixed} value          The newly assigned value.
 * @param {Boolean|Function} fn  When setting the query, it will be the function
 *                               used to parse the query.
 *                               When setting the protocol, double slash will be
 *                               removed from the final url if it is true.
 * @returns {URL} URL instance for chaining.
 * @public
 */
function set(part, value, fn) {
  var url = this;

  switch (part) {
    case 'query':
      if ('string' === typeof value && value.length) {
        value = (fn || qs.parse)(value);
      }

      url[part] = value;
      break;

    case 'port':
      url[part] = value;

      if (!required(value, url.protocol)) {
        url.host = url.hostname;
        url[part] = '';
      } else if (value) {
        url.host = url.hostname +':'+ value;
      }

      break;

    case 'hostname':
      url[part] = value;

      if (url.port) value += ':'+ url.port;
      url.host = value;
      break;

    case 'host':
      url[part] = value;

      if (/:\d+$/.test(value)) {
        value = value.split(':');
        url.port = value.pop();
        url.hostname = value.join(':');
      } else {
        url.hostname = value;
        url.port = '';
      }

      break;

    case 'protocol':
      url.protocol = value.toLowerCase();
      url.slashes = !fn;
      break;

    case 'pathname':
    case 'hash':
      if (value) {
        var char = part === 'pathname' ? '/' : '#';
        url[part] = value.charAt(0) !== char ? char + value : value;
      } else {
        url[part] = value;
      }
      break;

    default:
      url[part] = value;
  }

  for (var i = 0; i < rules.length; i++) {
    var ins = rules[i];

    if (ins[4]) url[ins[1]] = url[ins[1]].toLowerCase();
  }

  url.origin = url.protocol && url.host && url.protocol !== 'file:'
    ? url.protocol +'//'+ url.host
    : 'null';

  url.href = url.toString();

  return url;
}

/**
 * Transform the properties back in to a valid and full URL string.
 *
 * @param {Function} stringify Optional query stringify function.
 * @returns {String} Compiled version of the URL.
 * @public
 */
function toString(stringify) {
  if (!stringify || 'function' !== typeof stringify) stringify = qs.stringify;

  var query
    , url = this
    , protocol = url.protocol;

  if (protocol && protocol.charAt(protocol.length - 1) !== ':') protocol += ':';

  var result = protocol + (url.slashes ? '//' : '');

  if (url.username) {
    result += url.username;
    if (url.password) result += ':'+ url.password;
    result += '@';
  }

  result += url.host + url.pathname;

  query = 'object' === typeof url.query ? stringify(url.query) : url.query;
  if (query) result += '?' !== query.charAt(0) ? '?'+ query : query;

  if (url.hash) result += url.hash;

  return result;
}

Url.prototype = { set: set, toString: toString };

//
// Expose the URL parser and some additional properties that might be useful for
// others or testing.
//
Url.extractProtocol = extractProtocol;
Url.location = lolcation;
Url.qs = qs;

module.exports = Url;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"querystringify":59,"requires-port":60}]},{},[1])(1)
});


//# sourceMappingURL=sockjs.js.map

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/url/url.js":
/*!*********************************!*\
  !*** ./node_modules/url/url.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.



var punycode = __webpack_require__(/*! punycode */ "./node_modules/node-libs-browser/node_modules/punycode/punycode.js");
var util = __webpack_require__(/*! ./util */ "./node_modules/url/util.js");

exports.parse = urlParse;
exports.resolve = urlResolve;
exports.resolveObject = urlResolveObject;
exports.format = urlFormat;

exports.Url = Url;

function Url() {
  this.protocol = null;
  this.slashes = null;
  this.auth = null;
  this.host = null;
  this.port = null;
  this.hostname = null;
  this.hash = null;
  this.search = null;
  this.query = null;
  this.pathname = null;
  this.path = null;
  this.href = null;
}

// Reference: RFC 3986, RFC 1808, RFC 2396

// define these here so at least they only have to be
// compiled once on the first module load.
var protocolPattern = /^([a-z0-9.+-]+:)/i,
    portPattern = /:[0-9]*$/,

    // Special case for a simple path URL
    simplePathPattern = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,

    // RFC 2396: characters reserved for delimiting URLs.
    // We actually just auto-escape these.
    delims = ['<', '>', '"', '`', ' ', '\r', '\n', '\t'],

    // RFC 2396: characters not allowed for various reasons.
    unwise = ['{', '}', '|', '\\', '^', '`'].concat(delims),

    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.
    autoEscape = ['\''].concat(unwise),
    // Characters that are never ever allowed in a hostname.
    // Note that any invalid chars are also handled, but these
    // are the ones that are *expected* to be seen, so we fast-path
    // them.
    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),
    hostEndingChars = ['/', '?', '#'],
    hostnameMaxLen = 255,
    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,
    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,
    // protocols that can allow "unsafe" and "unwise" chars.
    unsafeProtocol = {
      'javascript': true,
      'javascript:': true
    },
    // protocols that never have a hostname.
    hostlessProtocol = {
      'javascript': true,
      'javascript:': true
    },
    // protocols that always contain a // bit.
    slashedProtocol = {
      'http': true,
      'https': true,
      'ftp': true,
      'gopher': true,
      'file': true,
      'http:': true,
      'https:': true,
      'ftp:': true,
      'gopher:': true,
      'file:': true
    },
    querystring = __webpack_require__(/*! querystring */ "./node_modules/querystring-es3/index.js");

function urlParse(url, parseQueryString, slashesDenoteHost) {
  if (url && util.isObject(url) && url instanceof Url) return url;

  var u = new Url;
  u.parse(url, parseQueryString, slashesDenoteHost);
  return u;
}

Url.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {
  if (!util.isString(url)) {
    throw new TypeError("Parameter 'url' must be a string, not " + typeof url);
  }

  // Copy chrome, IE, opera backslash-handling behavior.
  // Back slashes before the query string get converted to forward slashes
  // See: https://code.google.com/p/chromium/issues/detail?id=25916
  var queryIndex = url.indexOf('?'),
      splitter =
          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',
      uSplit = url.split(splitter),
      slashRegex = /\\/g;
  uSplit[0] = uSplit[0].replace(slashRegex, '/');
  url = uSplit.join(splitter);

  var rest = url;

  // trim before proceeding.
  // This is to support parse stuff like "  http://foo.com  \n"
  rest = rest.trim();

  if (!slashesDenoteHost && url.split('#').length === 1) {
    // Try fast path regexp
    var simplePath = simplePathPattern.exec(rest);
    if (simplePath) {
      this.path = rest;
      this.href = rest;
      this.pathname = simplePath[1];
      if (simplePath[2]) {
        this.search = simplePath[2];
        if (parseQueryString) {
          this.query = querystring.parse(this.search.substr(1));
        } else {
          this.query = this.search.substr(1);
        }
      } else if (parseQueryString) {
        this.search = '';
        this.query = {};
      }
      return this;
    }
  }

  var proto = protocolPattern.exec(rest);
  if (proto) {
    proto = proto[0];
    var lowerProto = proto.toLowerCase();
    this.protocol = lowerProto;
    rest = rest.substr(proto.length);
  }

  // figure out if it's got a host
  // user@server is *always* interpreted as a hostname, and url
  // resolution will treat //foo/bar as host=foo,path=bar because that's
  // how the browser resolves relative URLs.
  if (slashesDenoteHost || proto || rest.match(/^\/\/[^@\/]+@[^@\/]+/)) {
    var slashes = rest.substr(0, 2) === '//';
    if (slashes && !(proto && hostlessProtocol[proto])) {
      rest = rest.substr(2);
      this.slashes = true;
    }
  }

  if (!hostlessProtocol[proto] &&
      (slashes || (proto && !slashedProtocol[proto]))) {

    // there's a hostname.
    // the first instance of /, ?, ;, or # ends the host.
    //
    // If there is an @ in the hostname, then non-host chars *are* allowed
    // to the left of the last @ sign, unless some host-ending character
    // comes *before* the @-sign.
    // URLs are obnoxious.
    //
    // ex:
    // http://a@b@c/ => user:a@b host:c
    // http://a@b?@c => user:a host:c path:/?@c

    // v0.12 TODO(isaacs): This is not quite how Chrome does things.
    // Review our test case against browsers more comprehensively.

    // find the first instance of any hostEndingChars
    var hostEnd = -1;
    for (var i = 0; i < hostEndingChars.length; i++) {
      var hec = rest.indexOf(hostEndingChars[i]);
      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))
        hostEnd = hec;
    }

    // at this point, either we have an explicit point where the
    // auth portion cannot go past, or the last @ char is the decider.
    var auth, atSign;
    if (hostEnd === -1) {
      // atSign can be anywhere.
      atSign = rest.lastIndexOf('@');
    } else {
      // atSign must be in auth portion.
      // http://a@b/c@d => host:b auth:a path:/c@d
      atSign = rest.lastIndexOf('@', hostEnd);
    }

    // Now we have a portion which is definitely the auth.
    // Pull that off.
    if (atSign !== -1) {
      auth = rest.slice(0, atSign);
      rest = rest.slice(atSign + 1);
      this.auth = decodeURIComponent(auth);
    }

    // the host is the remaining to the left of the first non-host char
    hostEnd = -1;
    for (var i = 0; i < nonHostChars.length; i++) {
      var hec = rest.indexOf(nonHostChars[i]);
      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))
        hostEnd = hec;
    }
    // if we still have not hit it, then the entire thing is a host.
    if (hostEnd === -1)
      hostEnd = rest.length;

    this.host = rest.slice(0, hostEnd);
    rest = rest.slice(hostEnd);

    // pull out port.
    this.parseHost();

    // we've indicated that there is a hostname,
    // so even if it's empty, it has to be present.
    this.hostname = this.hostname || '';

    // if hostname begins with [ and ends with ]
    // assume that it's an IPv6 address.
    var ipv6Hostname = this.hostname[0] === '[' &&
        this.hostname[this.hostname.length - 1] === ']';

    // validate a little.
    if (!ipv6Hostname) {
      var hostparts = this.hostname.split(/\./);
      for (var i = 0, l = hostparts.length; i < l; i++) {
        var part = hostparts[i];
        if (!part) continue;
        if (!part.match(hostnamePartPattern)) {
          var newpart = '';
          for (var j = 0, k = part.length; j < k; j++) {
            if (part.charCodeAt(j) > 127) {
              // we replace non-ASCII char with a temporary placeholder
              // we need this to make sure size of hostname is not
              // broken by replacing non-ASCII by nothing
              newpart += 'x';
            } else {
              newpart += part[j];
            }
          }
          // we test again with ASCII char only
          if (!newpart.match(hostnamePartPattern)) {
            var validParts = hostparts.slice(0, i);
            var notHost = hostparts.slice(i + 1);
            var bit = part.match(hostnamePartStart);
            if (bit) {
              validParts.push(bit[1]);
              notHost.unshift(bit[2]);
            }
            if (notHost.length) {
              rest = '/' + notHost.join('.') + rest;
            }
            this.hostname = validParts.join('.');
            break;
          }
        }
      }
    }

    if (this.hostname.length > hostnameMaxLen) {
      this.hostname = '';
    } else {
      // hostnames are always lower case.
      this.hostname = this.hostname.toLowerCase();
    }

    if (!ipv6Hostname) {
      // IDNA Support: Returns a punycoded representation of "domain".
      // It only converts parts of the domain name that
      // have non-ASCII characters, i.e. it doesn't matter if
      // you call it with a domain that already is ASCII-only.
      this.hostname = punycode.toASCII(this.hostname);
    }

    var p = this.port ? ':' + this.port : '';
    var h = this.hostname || '';
    this.host = h + p;
    this.href += this.host;

    // strip [ and ] from the hostname
    // the host field still retains them, though
    if (ipv6Hostname) {
      this.hostname = this.hostname.substr(1, this.hostname.length - 2);
      if (rest[0] !== '/') {
        rest = '/' + rest;
      }
    }
  }

  // now rest is set to the post-host stuff.
  // chop off any delim chars.
  if (!unsafeProtocol[lowerProto]) {

    // First, make 100% sure that any "autoEscape" chars get
    // escaped, even if encodeURIComponent doesn't think they
    // need to be.
    for (var i = 0, l = autoEscape.length; i < l; i++) {
      var ae = autoEscape[i];
      if (rest.indexOf(ae) === -1)
        continue;
      var esc = encodeURIComponent(ae);
      if (esc === ae) {
        esc = escape(ae);
      }
      rest = rest.split(ae).join(esc);
    }
  }


  // chop off from the tail first.
  var hash = rest.indexOf('#');
  if (hash !== -1) {
    // got a fragment string.
    this.hash = rest.substr(hash);
    rest = rest.slice(0, hash);
  }
  var qm = rest.indexOf('?');
  if (qm !== -1) {
    this.search = rest.substr(qm);
    this.query = rest.substr(qm + 1);
    if (parseQueryString) {
      this.query = querystring.parse(this.query);
    }
    rest = rest.slice(0, qm);
  } else if (parseQueryString) {
    // no query string, but parseQueryString still requested
    this.search = '';
    this.query = {};
  }
  if (rest) this.pathname = rest;
  if (slashedProtocol[lowerProto] &&
      this.hostname && !this.pathname) {
    this.pathname = '/';
  }

  //to support http.request
  if (this.pathname || this.search) {
    var p = this.pathname || '';
    var s = this.search || '';
    this.path = p + s;
  }

  // finally, reconstruct the href based on what has been validated.
  this.href = this.format();
  return this;
};

// format a parsed object into a url string
function urlFormat(obj) {
  // ensure it's an object, and not a string url.
  // If it's an obj, this is a no-op.
  // this way, you can call url_format() on strings
  // to clean up potentially wonky urls.
  if (util.isString(obj)) obj = urlParse(obj);
  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);
  return obj.format();
}

Url.prototype.format = function() {
  var auth = this.auth || '';
  if (auth) {
    auth = encodeURIComponent(auth);
    auth = auth.replace(/%3A/i, ':');
    auth += '@';
  }

  var protocol = this.protocol || '',
      pathname = this.pathname || '',
      hash = this.hash || '',
      host = false,
      query = '';

  if (this.host) {
    host = auth + this.host;
  } else if (this.hostname) {
    host = auth + (this.hostname.indexOf(':') === -1 ?
        this.hostname :
        '[' + this.hostname + ']');
    if (this.port) {
      host += ':' + this.port;
    }
  }

  if (this.query &&
      util.isObject(this.query) &&
      Object.keys(this.query).length) {
    query = querystring.stringify(this.query);
  }

  var search = this.search || (query && ('?' + query)) || '';

  if (protocol && protocol.substr(-1) !== ':') protocol += ':';

  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.
  // unless they had them to begin with.
  if (this.slashes ||
      (!protocol || slashedProtocol[protocol]) && host !== false) {
    host = '//' + (host || '');
    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;
  } else if (!host) {
    host = '';
  }

  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;
  if (search && search.charAt(0) !== '?') search = '?' + search;

  pathname = pathname.replace(/[?#]/g, function(match) {
    return encodeURIComponent(match);
  });
  search = search.replace('#', '%23');

  return protocol + host + pathname + search + hash;
};

function urlResolve(source, relative) {
  return urlParse(source, false, true).resolve(relative);
}

Url.prototype.resolve = function(relative) {
  return this.resolveObject(urlParse(relative, false, true)).format();
};

function urlResolveObject(source, relative) {
  if (!source) return relative;
  return urlParse(source, false, true).resolveObject(relative);
}

Url.prototype.resolveObject = function(relative) {
  if (util.isString(relative)) {
    var rel = new Url();
    rel.parse(relative, false, true);
    relative = rel;
  }

  var result = new Url();
  var tkeys = Object.keys(this);
  for (var tk = 0; tk < tkeys.length; tk++) {
    var tkey = tkeys[tk];
    result[tkey] = this[tkey];
  }

  // hash is always overridden, no matter what.
  // even href="" will remove it.
  result.hash = relative.hash;

  // if the relative url is empty, then there's nothing left to do here.
  if (relative.href === '') {
    result.href = result.format();
    return result;
  }

  // hrefs like //foo/bar always cut to the protocol.
  if (relative.slashes && !relative.protocol) {
    // take everything except the protocol from relative
    var rkeys = Object.keys(relative);
    for (var rk = 0; rk < rkeys.length; rk++) {
      var rkey = rkeys[rk];
      if (rkey !== 'protocol')
        result[rkey] = relative[rkey];
    }

    //urlParse appends trailing / to urls like http://www.example.com
    if (slashedProtocol[result.protocol] &&
        result.hostname && !result.pathname) {
      result.path = result.pathname = '/';
    }

    result.href = result.format();
    return result;
  }

  if (relative.protocol && relative.protocol !== result.protocol) {
    // if it's a known url protocol, then changing
    // the protocol does weird things
    // first, if it's not file:, then we MUST have a host,
    // and if there was a path
    // to begin with, then we MUST have a path.
    // if it is file:, then the host is dropped,
    // because that's known to be hostless.
    // anything else is assumed to be absolute.
    if (!slashedProtocol[relative.protocol]) {
      var keys = Object.keys(relative);
      for (var v = 0; v < keys.length; v++) {
        var k = keys[v];
        result[k] = relative[k];
      }
      result.href = result.format();
      return result;
    }

    result.protocol = relative.protocol;
    if (!relative.host && !hostlessProtocol[relative.protocol]) {
      var relPath = (relative.pathname || '').split('/');
      while (relPath.length && !(relative.host = relPath.shift()));
      if (!relative.host) relative.host = '';
      if (!relative.hostname) relative.hostname = '';
      if (relPath[0] !== '') relPath.unshift('');
      if (relPath.length < 2) relPath.unshift('');
      result.pathname = relPath.join('/');
    } else {
      result.pathname = relative.pathname;
    }
    result.search = relative.search;
    result.query = relative.query;
    result.host = relative.host || '';
    result.auth = relative.auth;
    result.hostname = relative.hostname || relative.host;
    result.port = relative.port;
    // to support http.request
    if (result.pathname || result.search) {
      var p = result.pathname || '';
      var s = result.search || '';
      result.path = p + s;
    }
    result.slashes = result.slashes || relative.slashes;
    result.href = result.format();
    return result;
  }

  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),
      isRelAbs = (
          relative.host ||
          relative.pathname && relative.pathname.charAt(0) === '/'
      ),
      mustEndAbs = (isRelAbs || isSourceAbs ||
                    (result.host && relative.pathname)),
      removeAllDots = mustEndAbs,
      srcPath = result.pathname && result.pathname.split('/') || [],
      relPath = relative.pathname && relative.pathname.split('/') || [],
      psychotic = result.protocol && !slashedProtocol[result.protocol];

  // if the url is a non-slashed url, then relative
  // links like ../.. should be able
  // to crawl up to the hostname, as well.  This is strange.
  // result.protocol has already been set by now.
  // Later on, put the first path part into the host field.
  if (psychotic) {
    result.hostname = '';
    result.port = null;
    if (result.host) {
      if (srcPath[0] === '') srcPath[0] = result.host;
      else srcPath.unshift(result.host);
    }
    result.host = '';
    if (relative.protocol) {
      relative.hostname = null;
      relative.port = null;
      if (relative.host) {
        if (relPath[0] === '') relPath[0] = relative.host;
        else relPath.unshift(relative.host);
      }
      relative.host = null;
    }
    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');
  }

  if (isRelAbs) {
    // it's absolute.
    result.host = (relative.host || relative.host === '') ?
                  relative.host : result.host;
    result.hostname = (relative.hostname || relative.hostname === '') ?
                      relative.hostname : result.hostname;
    result.search = relative.search;
    result.query = relative.query;
    srcPath = relPath;
    // fall through to the dot-handling below.
  } else if (relPath.length) {
    // it's relative
    // throw away the existing file, and take the new path instead.
    if (!srcPath) srcPath = [];
    srcPath.pop();
    srcPath = srcPath.concat(relPath);
    result.search = relative.search;
    result.query = relative.query;
  } else if (!util.isNullOrUndefined(relative.search)) {
    // just pull out the search.
    // like href='?foo'.
    // Put this after the other two cases because it simplifies the booleans
    if (psychotic) {
      result.hostname = result.host = srcPath.shift();
      //occationaly the auth can get stuck only in host
      //this especially happens in cases like
      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')
      var authInHost = result.host && result.host.indexOf('@') > 0 ?
                       result.host.split('@') : false;
      if (authInHost) {
        result.auth = authInHost.shift();
        result.host = result.hostname = authInHost.shift();
      }
    }
    result.search = relative.search;
    result.query = relative.query;
    //to support http.request
    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {
      result.path = (result.pathname ? result.pathname : '') +
                    (result.search ? result.search : '');
    }
    result.href = result.format();
    return result;
  }

  if (!srcPath.length) {
    // no path at all.  easy.
    // we've already handled the other stuff above.
    result.pathname = null;
    //to support http.request
    if (result.search) {
      result.path = '/' + result.search;
    } else {
      result.path = null;
    }
    result.href = result.format();
    return result;
  }

  // if a url ENDs in . or .., then it must get a trailing slash.
  // however, if it ends in anything else non-slashy,
  // then it must NOT get a trailing slash.
  var last = srcPath.slice(-1)[0];
  var hasTrailingSlash = (
      (result.host || relative.host || srcPath.length > 1) &&
      (last === '.' || last === '..') || last === '');

  // strip single dots, resolve double dots to parent dir
  // if the path tries to go above the root, `up` ends up > 0
  var up = 0;
  for (var i = srcPath.length; i >= 0; i--) {
    last = srcPath[i];
    if (last === '.') {
      srcPath.splice(i, 1);
    } else if (last === '..') {
      srcPath.splice(i, 1);
      up++;
    } else if (up) {
      srcPath.splice(i, 1);
      up--;
    }
  }

  // if the path is allowed to go above the root, restore leading ..s
  if (!mustEndAbs && !removeAllDots) {
    for (; up--; up) {
      srcPath.unshift('..');
    }
  }

  if (mustEndAbs && srcPath[0] !== '' &&
      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {
    srcPath.unshift('');
  }

  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {
    srcPath.push('');
  }

  var isAbsolute = srcPath[0] === '' ||
      (srcPath[0] && srcPath[0].charAt(0) === '/');

  // put the host back
  if (psychotic) {
    result.hostname = result.host = isAbsolute ? '' :
                                    srcPath.length ? srcPath.shift() : '';
    //occationaly the auth can get stuck only in host
    //this especially happens in cases like
    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')
    var authInHost = result.host && result.host.indexOf('@') > 0 ?
                     result.host.split('@') : false;
    if (authInHost) {
      result.auth = authInHost.shift();
      result.host = result.hostname = authInHost.shift();
    }
  }

  mustEndAbs = mustEndAbs || (result.host && srcPath.length);

  if (mustEndAbs && !isAbsolute) {
    srcPath.unshift('');
  }

  if (!srcPath.length) {
    result.pathname = null;
    result.path = null;
  } else {
    result.pathname = srcPath.join('/');
  }

  //to support request.http
  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {
    result.path = (result.pathname ? result.pathname : '') +
                  (result.search ? result.search : '');
  }
  result.auth = relative.auth || result.auth;
  result.slashes = result.slashes || relative.slashes;
  result.href = result.format();
  return result;
};

Url.prototype.parseHost = function() {
  var host = this.host;
  var port = portPattern.exec(host);
  if (port) {
    port = port[0];
    if (port !== ':') {
      this.port = port.substr(1);
    }
    host = host.substr(0, host.length - port.length);
  }
  if (host) this.hostname = host;
};


/***/ }),

/***/ "./node_modules/url/util.js":
/*!**********************************!*\
  !*** ./node_modules/url/util.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = {
  isString: function(arg) {
    return typeof(arg) === 'string';
  },
  isObject: function(arg) {
    return typeof(arg) === 'object' && arg !== null;
  },
  isNull: function(arg) {
    return arg === null;
  },
  isNullOrUndefined: function(arg) {
    return arg == null;
  }
};


/***/ }),

/***/ "./node_modules/webpack-dev-server/client/clients/BaseClient.js":
/*!*********************************************************!*\
  !*** (webpack)-dev-server/client/clients/BaseClient.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/* eslint-disable
  no-unused-vars
*/

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

module.exports = /*#__PURE__*/function () {
  function BaseClient() {
    _classCallCheck(this, BaseClient);
  }

  _createClass(BaseClient, null, [{
    key: "getClientPath",
    value: function getClientPath(options) {
      throw new Error('Client needs implementation');
    }
  }]);

  return BaseClient;
}();

/***/ }),

/***/ "./node_modules/webpack-dev-server/client/clients/SockJSClient.js":
/*!***********************************************************!*\
  !*** (webpack)-dev-server/client/clients/SockJSClient.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/* eslint-disable
  no-unused-vars
*/

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var SockJS = __webpack_require__(/*! sockjs-client/dist/sockjs */ "./node_modules/sockjs-client/dist/sockjs.js");

var BaseClient = __webpack_require__(/*! ./BaseClient */ "./node_modules/webpack-dev-server/client/clients/BaseClient.js");

module.exports = /*#__PURE__*/function (_BaseClient) {
  _inherits(SockJSClient, _BaseClient);

  var _super = _createSuper(SockJSClient);

  function SockJSClient(url) {
    var _this;

    _classCallCheck(this, SockJSClient);

    _this = _super.call(this);
    _this.sock = new SockJS(url);

    _this.sock.onerror = function (err) {// TODO: use logger to log the error event once client and client-src
      // are reorganized to have the same directory structure
    };

    return _this;
  }

  _createClass(SockJSClient, [{
    key: "onOpen",
    value: function onOpen(f) {
      this.sock.onopen = f;
    }
  }, {
    key: "onClose",
    value: function onClose(f) {
      this.sock.onclose = f;
    } // call f with the message string as the first argument

  }, {
    key: "onMessage",
    value: function onMessage(f) {
      this.sock.onmessage = function (e) {
        f(e.data);
      };
    }
  }], [{
    key: "getClientPath",
    value: function getClientPath(options) {
      return /*require.resolve*/(/*! ./SockJSClient */ "./node_modules/webpack-dev-server/client/clients/SockJSClient.js");
    }
  }]);

  return SockJSClient;
}(BaseClient);

/***/ }),

/***/ "./node_modules/webpack-dev-server/client/index.js?http://localhost:9000":
/*!*********************************************************!*\
  !*** (webpack)-dev-server/client?http://localhost:9000 ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(__resourceQuery) {
/* global __resourceQuery WorkerGlobalScope self */

/* eslint prefer-destructuring: off */

var stripAnsi = __webpack_require__(/*! strip-ansi */ "./node_modules/webpack-dev-server/node_modules/strip-ansi/index.js");

var socket = __webpack_require__(/*! ./socket */ "./node_modules/webpack-dev-server/client/socket.js");

var overlay = __webpack_require__(/*! ./overlay */ "./node_modules/webpack-dev-server/client/overlay.js");

var _require = __webpack_require__(/*! ./utils/log */ "./node_modules/webpack-dev-server/client/utils/log.js"),
    log = _require.log,
    setLogLevel = _require.setLogLevel;

var sendMessage = __webpack_require__(/*! ./utils/sendMessage */ "./node_modules/webpack-dev-server/client/utils/sendMessage.js");

var reloadApp = __webpack_require__(/*! ./utils/reloadApp */ "./node_modules/webpack-dev-server/client/utils/reloadApp.js");

var createSocketUrl = __webpack_require__(/*! ./utils/createSocketUrl */ "./node_modules/webpack-dev-server/client/utils/createSocketUrl.js");

var status = {
  isUnloading: false,
  currentHash: ''
};
var options = {
  hot: false,
  hotReload: true,
  liveReload: false,
  initial: true,
  useWarningOverlay: false,
  useErrorOverlay: false,
  useProgress: false
};
var socketUrl = createSocketUrl(__resourceQuery);
self.addEventListener('beforeunload', function () {
  status.isUnloading = true;
});

if (typeof window !== 'undefined') {
  var qs = window.location.search.toLowerCase();
  options.hotReload = qs.indexOf('hotreload=false') === -1;
}

var onSocketMessage = {
  hot: function hot() {
    options.hot = true;
    log.info('[WDS] Hot Module Replacement enabled.');
  },
  liveReload: function liveReload() {
    options.liveReload = true;
    log.info('[WDS] Live Reloading enabled.');
  },
  invalid: function invalid() {
    log.info('[WDS] App updated. Recompiling...'); // fixes #1042. overlay doesn't clear if errors are fixed but warnings remain.

    if (options.useWarningOverlay || options.useErrorOverlay) {
      overlay.clear();
    }

    sendMessage('Invalid');
  },
  hash: function hash(_hash) {
    status.currentHash = _hash;
  },
  'still-ok': function stillOk() {
    log.info('[WDS] Nothing changed.');

    if (options.useWarningOverlay || options.useErrorOverlay) {
      overlay.clear();
    }

    sendMessage('StillOk');
  },
  'log-level': function logLevel(level) {
    var hotCtx = __webpack_require__("./node_modules/webpack/hot sync ^\\.\\/log$");

    if (hotCtx.keys().indexOf('./log') !== -1) {
      hotCtx('./log').setLogLevel(level);
    }

    setLogLevel(level);
  },
  overlay: function overlay(value) {
    if (typeof document !== 'undefined') {
      if (typeof value === 'boolean') {
        options.useWarningOverlay = false;
        options.useErrorOverlay = value;
      } else if (value) {
        options.useWarningOverlay = value.warnings;
        options.useErrorOverlay = value.errors;
      }
    }
  },
  progress: function progress(_progress) {
    if (typeof document !== 'undefined') {
      options.useProgress = _progress;
    }
  },
  'progress-update': function progressUpdate(data) {
    if (options.useProgress) {
      log.info("[WDS] ".concat(data.percent, "% - ").concat(data.msg, "."));
    }

    sendMessage('Progress', data);
  },
  ok: function ok() {
    sendMessage('Ok');

    if (options.useWarningOverlay || options.useErrorOverlay) {
      overlay.clear();
    }

    if (options.initial) {
      return options.initial = false;
    } // eslint-disable-line no-return-assign


    reloadApp(options, status);
  },
  'content-changed': function contentChanged() {
    log.info('[WDS] Content base changed. Reloading...');
    self.location.reload();
  },
  warnings: function warnings(_warnings) {
    log.warn('[WDS] Warnings while compiling.');

    var strippedWarnings = _warnings.map(function (warning) {
      return stripAnsi(warning);
    });

    sendMessage('Warnings', strippedWarnings);

    for (var i = 0; i < strippedWarnings.length; i++) {
      log.warn(strippedWarnings[i]);
    }

    if (options.useWarningOverlay) {
      overlay.showMessage(_warnings);
    }

    if (options.initial) {
      return options.initial = false;
    } // eslint-disable-line no-return-assign


    reloadApp(options, status);
  },
  errors: function errors(_errors) {
    log.error('[WDS] Errors while compiling. Reload prevented.');

    var strippedErrors = _errors.map(function (error) {
      return stripAnsi(error);
    });

    sendMessage('Errors', strippedErrors);

    for (var i = 0; i < strippedErrors.length; i++) {
      log.error(strippedErrors[i]);
    }

    if (options.useErrorOverlay) {
      overlay.showMessage(_errors);
    }

    options.initial = false;
  },
  error: function error(_error) {
    log.error(_error);
  },
  close: function close() {
    log.error('[WDS] Disconnected!');
    sendMessage('Close');
  }
};
socket(socketUrl, onSocketMessage);
/* WEBPACK VAR INJECTION */}.call(this, "?http://localhost:9000"))

/***/ }),

/***/ "./node_modules/webpack-dev-server/client/overlay.js":
/*!**********************************************!*\
  !*** (webpack)-dev-server/client/overlay.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
 // The error overlay is inspired (and mostly copied) from Create React App (https://github.com/facebookincubator/create-react-app)
// They, in turn, got inspired by webpack-hot-middleware (https://github.com/glenjamin/webpack-hot-middleware).

var ansiHTML = __webpack_require__(/*! ansi-html */ "./node_modules/ansi-html/index.js");

var _require = __webpack_require__(/*! html-entities */ "./node_modules/html-entities/lib/index.js"),
    AllHtmlEntities = _require.AllHtmlEntities;

var entities = new AllHtmlEntities();
var colors = {
  reset: ['transparent', 'transparent'],
  black: '181818',
  red: 'E36049',
  green: 'B3CB74',
  yellow: 'FFD080',
  blue: '7CAFC2',
  magenta: '7FACCA',
  cyan: 'C3C2EF',
  lightgrey: 'EBE7E3',
  darkgrey: '6D7891'
};
var overlayIframe = null;
var overlayDiv = null;
var lastOnOverlayDivReady = null;
ansiHTML.setColors(colors);

function createOverlayIframe(onIframeLoad) {
  var iframe = document.createElement('iframe');
  iframe.id = 'webpack-dev-server-client-overlay';
  iframe.src = 'about:blank';
  iframe.style.position = 'fixed';
  iframe.style.left = 0;
  iframe.style.top = 0;
  iframe.style.right = 0;
  iframe.style.bottom = 0;
  iframe.style.width = '100vw';
  iframe.style.height = '100vh';
  iframe.style.border = 'none';
  iframe.style.zIndex = 9999999999;
  iframe.onload = onIframeLoad;
  return iframe;
}

function addOverlayDivTo(iframe) {
  var div = iframe.contentDocument.createElement('div');
  div.id = 'webpack-dev-server-client-overlay-div';
  div.style.position = 'fixed';
  div.style.boxSizing = 'border-box';
  div.style.left = 0;
  div.style.top = 0;
  div.style.right = 0;
  div.style.bottom = 0;
  div.style.width = '100vw';
  div.style.height = '100vh';
  div.style.backgroundColor = 'rgba(0, 0, 0, 0.85)';
  div.style.color = '#E8E8E8';
  div.style.fontFamily = 'Menlo, Consolas, monospace';
  div.style.fontSize = 'large';
  div.style.padding = '2rem';
  div.style.lineHeight = '1.2';
  div.style.whiteSpace = 'pre-wrap';
  div.style.overflow = 'auto';
  iframe.contentDocument.body.appendChild(div);
  return div;
}

function ensureOverlayDivExists(onOverlayDivReady) {
  if (overlayDiv) {
    // Everything is ready, call the callback right away.
    onOverlayDivReady(overlayDiv);
    return;
  } // Creating an iframe may be asynchronous so we'll schedule the callback.
  // In case of multiple calls, last callback wins.


  lastOnOverlayDivReady = onOverlayDivReady;

  if (overlayIframe) {
    // We've already created it.
    return;
  } // Create iframe and, when it is ready, a div inside it.


  overlayIframe = createOverlayIframe(function () {
    overlayDiv = addOverlayDivTo(overlayIframe); // Now we can talk!

    lastOnOverlayDivReady(overlayDiv);
  }); // Zalgo alert: onIframeLoad() will be called either synchronously
  // or asynchronously depending on the browser.
  // We delay adding it so `overlayIframe` is set when `onIframeLoad` fires.

  document.body.appendChild(overlayIframe);
} // Successful compilation.


function clear() {
  if (!overlayDiv) {
    // It is not there in the first place.
    return;
  } // Clean up and reset internal state.


  document.body.removeChild(overlayIframe);
  overlayDiv = null;
  overlayIframe = null;
  lastOnOverlayDivReady = null;
} // Compilation with errors (e.g. syntax error or missing modules).


function showMessage(messages) {
  ensureOverlayDivExists(function (div) {
    // Make it look similar to our terminal.
    div.innerHTML = "<span style=\"color: #".concat(colors.red, "\">Failed to compile.</span><br><br>").concat(ansiHTML(entities.encode(messages[0])));
  });
}

module.exports = {
  clear: clear,
  showMessage: showMessage
};

/***/ }),

/***/ "./node_modules/webpack-dev-server/client/socket.js":
/*!*********************************************!*\
  !*** (webpack)-dev-server/client/socket.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(__webpack_dev_server_client__) {
/* global __webpack_dev_server_client__ */

/* eslint-disable
  camelcase
*/
// this SockJSClient is here as a default fallback, in case inline mode
// is off or the client is not injected. This will be switched to
// WebsocketClient when it becomes the default
// important: the path to SockJSClient here is made to work in the 'client'
// directory, but is updated via the webpack compilation when compiled from
// the 'client-src' directory

var Client = typeof __webpack_dev_server_client__ !== 'undefined' ? __webpack_dev_server_client__ : // eslint-disable-next-line import/no-unresolved
__webpack_require__(/*! ./clients/SockJSClient */ "./node_modules/webpack-dev-server/client/clients/SockJSClient.js");
var retries = 0;
var client = null;

var socket = function initSocket(url, handlers) {
  client = new Client(url);
  client.onOpen(function () {
    retries = 0;
  });
  client.onClose(function () {
    if (retries === 0) {
      handlers.close();
    } // Try to reconnect.


    client = null; // After 10 retries stop trying, to prevent logspam.

    if (retries <= 10) {
      // Exponentially increase timeout to reconnect.
      // Respectfully copied from the package `got`.
      // eslint-disable-next-line no-mixed-operators, no-restricted-properties
      var retryInMs = 1000 * Math.pow(2, retries) + Math.random() * 100;
      retries += 1;
      setTimeout(function () {
        socket(url, handlers);
      }, retryInMs);
    }
  });
  client.onMessage(function (data) {
    var msg = JSON.parse(data);

    if (handlers[msg.type]) {
      handlers[msg.type](msg.data);
    }
  });
};

module.exports = socket;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! (webpack)-dev-server/client/clients/SockJSClient.js */ "./node_modules/webpack-dev-server/client/clients/SockJSClient.js")))

/***/ }),

/***/ "./node_modules/webpack-dev-server/client/utils/createSocketUrl.js":
/*!************************************************************!*\
  !*** (webpack)-dev-server/client/utils/createSocketUrl.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/* global self */

var url = __webpack_require__(/*! url */ "./node_modules/url/url.js");

var getCurrentScriptSource = __webpack_require__(/*! ./getCurrentScriptSource */ "./node_modules/webpack-dev-server/client/utils/getCurrentScriptSource.js");

function createSocketUrl(resourceQuery, currentLocation) {
  var urlParts;

  if (typeof resourceQuery === 'string' && resourceQuery !== '') {
    // If this bundle is inlined, use the resource query to get the correct url.
    // format is like `?http://0.0.0.0:8096&sockPort=8097&sockHost=localhost`
    urlParts = url.parse(resourceQuery // strip leading `?` from query string to get a valid URL
    .substr(1) // replace first `&` with `?` to have a valid query string
    .replace('&', '?'), true);
  } else {
    // Else, get the url from the <script> this file was called with.
    var scriptHost = getCurrentScriptSource();
    urlParts = url.parse(scriptHost || '/', true, true);
  } // Use parameter to allow passing location in unit tests


  if (typeof currentLocation === 'string' && currentLocation !== '') {
    currentLocation = url.parse(currentLocation);
  } else {
    currentLocation = self.location;
  }

  return getSocketUrl(urlParts, currentLocation);
}
/*
 * Gets socket URL based on Script Source/Location
 * (scriptSrc: URL, location: URL) -> URL
 */


function getSocketUrl(urlParts, loc) {
  var auth = urlParts.auth,
      query = urlParts.query;
  var hostname = urlParts.hostname,
      protocol = urlParts.protocol,
      port = urlParts.port;

  if (!port || port === '0') {
    port = loc.port;
  } // check ipv4 and ipv6 `all hostname`
  // why do we need this check?
  // hostname n/a for file protocol (example, when using electron, ionic)
  // see: https://github.com/webpack/webpack-dev-server/pull/384


  if ((hostname === '0.0.0.0' || hostname === '::') && loc.hostname && loc.protocol.indexOf('http') === 0) {
    hostname = loc.hostname;
  } // `hostname` can be empty when the script path is relative. In that case, specifying
  // a protocol would result in an invalid URL.
  // When https is used in the app, secure websockets are always necessary
  // because the browser doesn't accept non-secure websockets.


  if (hostname && hostname !== '127.0.0.1' && (loc.protocol === 'https:' || urlParts.hostname === '0.0.0.0')) {
    protocol = loc.protocol;
  } // all of these sock url params are optionally passed in through
  // resourceQuery, so we need to fall back to the default if
  // they are not provided


  var sockHost = query.sockHost || hostname;
  var sockPath = query.sockPath || '/sockjs-node';
  var sockPort = query.sockPort || port;

  if (sockPort === 'location') {
    sockPort = loc.port;
  }

  return url.format({
    protocol: protocol,
    auth: auth,
    hostname: sockHost,
    port: sockPort,
    // If sockPath is provided it'll be passed in via the resourceQuery as a
    // query param so it has to be parsed out of the querystring in order for the
    // client to open the socket to the correct location.
    pathname: sockPath
  });
}

module.exports = createSocketUrl;

/***/ }),

/***/ "./node_modules/webpack-dev-server/client/utils/getCurrentScriptSource.js":
/*!*******************************************************************!*\
  !*** (webpack)-dev-server/client/utils/getCurrentScriptSource.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


function getCurrentScriptSource() {
  // `document.currentScript` is the most accurate way to find the current script,
  // but is not supported in all browsers.
  if (document.currentScript) {
    return document.currentScript.getAttribute('src');
  } // Fall back to getting all scripts in the document.


  var scriptElements = document.scripts || [];
  var currentScript = scriptElements[scriptElements.length - 1];

  if (currentScript) {
    return currentScript.getAttribute('src');
  } // Fail as there was no script to use.


  throw new Error('[WDS] Failed to get current script source.');
}

module.exports = getCurrentScriptSource;

/***/ }),

/***/ "./node_modules/webpack-dev-server/client/utils/log.js":
/*!************************************************!*\
  !*** (webpack)-dev-server/client/utils/log.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var log = __webpack_require__(/*! loglevel */ "./node_modules/loglevel/lib/loglevel.js").getLogger('webpack-dev-server');

var INFO = 'info';
var WARN = 'warn';
var ERROR = 'error';
var DEBUG = 'debug';
var TRACE = 'trace';
var SILENT = 'silent'; // deprecated
// TODO: remove these at major released
// https://github.com/webpack/webpack-dev-server/pull/1825

var WARNING = 'warning';
var NONE = 'none'; // Set the default log level

log.setDefaultLevel(INFO);

function setLogLevel(level) {
  switch (level) {
    case INFO:
    case WARN:
    case ERROR:
    case DEBUG:
    case TRACE:
      log.setLevel(level);
      break;
    // deprecated

    case WARNING:
      // loglevel's warning name is different from webpack's
      log.setLevel('warn');
      break;
    // deprecated

    case NONE:
    case SILENT:
      log.disableAll();
      break;

    default:
      log.error("[WDS] Unknown clientLogLevel '".concat(level, "'"));
  }
}

module.exports = {
  log: log,
  setLogLevel: setLogLevel
};

/***/ }),

/***/ "./node_modules/webpack-dev-server/client/utils/reloadApp.js":
/*!******************************************************!*\
  !*** (webpack)-dev-server/client/utils/reloadApp.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/* global WorkerGlobalScope self */

var _require = __webpack_require__(/*! ./log */ "./node_modules/webpack-dev-server/client/utils/log.js"),
    log = _require.log;

function reloadApp(_ref, _ref2) {
  var hotReload = _ref.hotReload,
      hot = _ref.hot,
      liveReload = _ref.liveReload;
  var isUnloading = _ref2.isUnloading,
      currentHash = _ref2.currentHash;

  if (isUnloading || !hotReload) {
    return;
  }

  if (hot) {
    log.info('[WDS] App hot update...');

    var hotEmitter = __webpack_require__(/*! webpack/hot/emitter */ "./node_modules/webpack/hot/emitter.js");

    hotEmitter.emit('webpackHotUpdate', currentHash);

    if (typeof self !== 'undefined' && self.window) {
      // broadcast update to window
      self.postMessage("webpackHotUpdate".concat(currentHash), '*');
    }
  } // allow refreshing the page only if liveReload isn't disabled
  else if (liveReload) {
      var rootWindow = self; // use parent window for reload (in case we're in an iframe with no valid src)

      var intervalId = self.setInterval(function () {
        if (rootWindow.location.protocol !== 'about:') {
          // reload immediately if protocol is valid
          applyReload(rootWindow, intervalId);
        } else {
          rootWindow = rootWindow.parent;

          if (rootWindow.parent === rootWindow) {
            // if parent equals current window we've reached the root which would continue forever, so trigger a reload anyways
            applyReload(rootWindow, intervalId);
          }
        }
      });
    }

  function applyReload(rootWindow, intervalId) {
    clearInterval(intervalId);
    log.info('[WDS] App updated. Reloading...');
    rootWindow.location.reload();
  }
}

module.exports = reloadApp;

/***/ }),

/***/ "./node_modules/webpack-dev-server/client/utils/sendMessage.js":
/*!********************************************************!*\
  !*** (webpack)-dev-server/client/utils/sendMessage.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/* global __resourceQuery WorkerGlobalScope self */
// Send messages to the outside, so plugins can consume it.

function sendMsg(type, data) {
  if (typeof self !== 'undefined' && (typeof WorkerGlobalScope === 'undefined' || !(self instanceof WorkerGlobalScope))) {
    self.postMessage({
      type: "webpack".concat(type),
      data: data
    }, '*');
  }
}

module.exports = sendMsg;

/***/ }),

/***/ "./node_modules/webpack-dev-server/node_modules/ansi-regex/index.js":
/*!*************************************************************!*\
  !*** (webpack)-dev-server/node_modules/ansi-regex/index.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

module.exports = function () {
	return /[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-PRZcf-nqry=><]/g;
};


/***/ }),

/***/ "./node_modules/webpack-dev-server/node_modules/strip-ansi/index.js":
/*!*************************************************************!*\
  !*** (webpack)-dev-server/node_modules/strip-ansi/index.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var ansiRegex = __webpack_require__(/*! ansi-regex */ "./node_modules/webpack-dev-server/node_modules/ansi-regex/index.js")();

module.exports = function (str) {
	return typeof str === 'string' ? str.replace(ansiRegex, '') : str;
};


/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),

/***/ "./node_modules/webpack/buildin/module.js":
/*!***********************************!*\
  !*** (webpack)/buildin/module.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function(module) {
	if (!module.webpackPolyfill) {
		module.deprecate = function() {};
		module.paths = [];
		// module.parent = undefined by default
		if (!module.children) module.children = [];
		Object.defineProperty(module, "loaded", {
			enumerable: true,
			get: function() {
				return module.l;
			}
		});
		Object.defineProperty(module, "id", {
			enumerable: true,
			get: function() {
				return module.i;
			}
		});
		module.webpackPolyfill = 1;
	}
	return module;
};


/***/ }),

/***/ "./node_modules/webpack/hot sync ^\\.\\/log$":
/*!*************************************************!*\
  !*** (webpack)/hot sync nonrecursive ^\.\/log$ ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./log": "./node_modules/webpack/hot/log.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/webpack/hot sync ^\\.\\/log$";

/***/ }),

/***/ "./node_modules/webpack/hot/emitter.js":
/*!********************************!*\
  !*** (webpack)/hot/emitter.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var EventEmitter = __webpack_require__(/*! events */ "./node_modules/events/events.js");
module.exports = new EventEmitter();


/***/ }),

/***/ "./node_modules/webpack/hot/log.js":
/*!****************************!*\
  !*** (webpack)/hot/log.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

var logLevel = "info";

function dummy() {}

function shouldLog(level) {
	var shouldLog =
		(logLevel === "info" && level === "info") ||
		(["info", "warning"].indexOf(logLevel) >= 0 && level === "warning") ||
		(["info", "warning", "error"].indexOf(logLevel) >= 0 && level === "error");
	return shouldLog;
}

function logGroup(logFn) {
	return function(level, msg) {
		if (shouldLog(level)) {
			logFn(msg);
		}
	};
}

module.exports = function(level, msg) {
	if (shouldLog(level)) {
		if (level === "info") {
			console.log(msg);
		} else if (level === "warning") {
			console.warn(msg);
		} else if (level === "error") {
			console.error(msg);
		}
	}
};

/* eslint-disable node/no-unsupported-features/node-builtins */
var group = console.group || dummy;
var groupCollapsed = console.groupCollapsed || dummy;
var groupEnd = console.groupEnd || dummy;
/* eslint-enable node/no-unsupported-features/node-builtins */

module.exports.group = logGroup(group);

module.exports.groupCollapsed = logGroup(groupCollapsed);

module.exports.groupEnd = logGroup(groupEnd);

module.exports.setLogLevel = function(level) {
	logLevel = level;
};

module.exports.formatError = function(err) {
	var message = err.message;
	var stack = err.stack;
	if (!stack) {
		return message;
	} else if (stack.indexOf(message) < 0) {
		return message + "\n" + stack;
	} else {
		return stack;
	}
};


/***/ }),

/***/ "./src/i18n/translation_en.json":
/*!**************************************!*\
  !*** ./src/i18n/translation_en.json ***!
  \**************************************/
/*! exports provided: time, achievements, tournaments, leaderboard, miniLeaderboard, rewards, messages, global, default */
/***/ (function(module) {

module.exports = JSON.parse("{\"time\":{\"days\":\"d\",\"hours\":\"h\",\"minutesShortHand\":\"min\",\"minutes\":\"m\",\"seconds\":\"s\"},\"achievements\":{\"label\":\"Achievements\",\"more\":\"More\",\"complete\":\"complete 100%\"},\"tournaments\":{\"label\":\"Tournaments\",\"enter\":\"Enter Tournament\",\"readyCompetitions\":\"Upcoming Tournaments\",\"activeCompetitions\":\"Active Tournaments\",\"finishedCompetitions\":\"Finished Tournaments\",\"finishing\":\"Finishing\",\"finished\":\"Finished\",\"registered\":\"Registered\",\"noAvailableCompetitions\":\"No available competition\"},\"leaderboard\":{\"rank\":\"Rank\",\"name\":\"Name\",\"points\":\"Points\",\"prize\":\"Prize\",\"you\":\"You\"},\"miniLeaderboard\":{\"highScore\":\"High Score\",\"lastScore\":\"Last Score\",\"rank\":\"Rank\",\"startsIn\":\"Starting In\",\"starting\":\"starting\",\"finishing\":\"finishing\",\"finished\":\"finished\"},\"rewards\":{\"label\":\"Rewards\",\"claim\":\"Claim Now\",\"claimed\":\"Claimed\",\"availableRewards\":\"Available Rewards\",\"rewards\":\"Claimed Rewards\",\"expiredRewards\":\"Expired Rewards\"},\"messages\":{\"label\":\"Messages\"},\"global\":{\"copy\":\"Powered By CompetitionLabs\"}}");

/***/ }),

/***/ "./src/javascript/gamification-ux-package.v3.js":
/*!******************************************************!*\
  !*** ./src/javascript/gamification-ux-package.v3.js ***!
  \******************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _polyfills__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./polyfills */ "./src/javascript/polyfills/index.js");
/* harmony import */ var _polyfills__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_polyfills__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _modules_setTimeoutGlobal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modules/setTimeoutGlobal */ "./src/javascript/modules/setTimeoutGlobal.js");
/* harmony import */ var _modules_LbWidget__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modules/LbWidget */ "./src/javascript/modules/LbWidget.js");
/*
 COMPETITION LABS LTD v1.0.5
 (c) 2015-2020 Aleksandr Bernotas
 License: www.competitionlabs.com/terms-of-service
*/




if (false) {}

(function () {
  if (typeof window._CLLBV3Opt === 'undefined') {
    window._CLLBV3Opt = {
      autoStart: false
    };
  }

  if (typeof window._clLeaderBoardV3 === 'undefined') {
    window._clLeaderBoardV3 = new _modules_LbWidget__WEBPACK_IMPORTED_MODULE_2__["LbWidget"](window._CLLBV3Opt);
  } else {
    console.warn('window._clLeaderBoardV3 is already defined, widget is configured to run as a single instance');
  }
})();

/***/ }),

/***/ "./src/javascript/modules/Ajax.js":
/*!****************************************!*\
  !*** ./src/javascript/modules/Ajax.js ***!
  \****************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _cLabs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cLabs */ "./src/javascript/modules/cLabs.js");
/* harmony import */ var _utils_sizeof__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/sizeof */ "./src/javascript/utils/sizeof.js");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }



/**
 * Ajax method
 *
 * @constructor
 */

_cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].Ajax = function () {
  this.xhr = new XMLHttpRequest();
};

_cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].Ajax.prototype.createCORSRequest = function (method, url) {
  var obj = this;

  if ('withCredentials' in obj.xhr) {
    // Most browsers.
    obj.xhr.open(method, url, true);
  } else if (typeof XDomainRequest !== 'undefined') {
    // IE8 & IE9

    /* eslint no-undef: "off" */
    obj.xhr = new XDomainRequest();
    url = url.indexOf('https') > -1 && location.protocol !== 'https:' ? url.replace('https', 'http') : url;
    obj.xhr.open(method, url);
  } else {
    // CORS not supported.
    obj.xhr = null;
  }

  return obj.xhr;
};
/**
 * Abort the request if it has already been sent
 *
 * @memberOf cLabs.Ajax
 * @method abort
 * @return { Object } cLabs.Ajax
 */


_cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].Ajax.prototype.abort = function () {
  var _this = this;

  if (_this.xhr && typeof _this.xhr.readyState !== 'undefined' && _this.xhr.readyState !== 4 && _this.xhr.readyState > 0) {
    // console.error("aborting Ajax", _this.xhr.readyState, _this.xhr);
    _this.xhr.abort();
  }

  return _this;
};
/**
 * Retrieves data from a URL without page refresh
 *
 * @memberOf cLabs.Ajax
 * @method getData
 * @param {Object} configuration object
 *  - object contains: HTTP method "type: POST, GET", url: to send the request to, data: {object}
 * @return {String} in success object
 */


_cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].Ajax.prototype.getData = function (data) {
  var obj = this;

  try {
    data.type = data.type !== undefined && typeof data.type === 'string' && data.type.length > 0 ? data.type : 'POST';
    data.data = data.data !== undefined && _typeof(data.data) === 'object' ? data.data : {};
    data.url = data.url !== undefined && typeof data.url === 'string' && data.url.length > 0 ? data.url : '';
    data.success = data.success !== undefined ? data.success : function () {};
    data.error = data.error !== undefined ? data.error : function () {};
    data.headers = data.headers !== undefined ? data.headers : {};
    data.extraCallback = data.extraCallback !== undefined ? data.extraCallback : function () {}; // cross browser CORS support

    obj.xhr = this.createCORSRequest(data.type, data.url);

    obj.xhr.onload = function () {
      data.extraCallback(data, obj.xhr);
      data.success(obj.xhr.responseText, data, obj.xhr);
    };

    obj.xhr.onerror = function () {
      data.error(obj.xhr.status);
    };

    if (typeof XDomainRequest === 'undefined') {
      if (Object(_utils_sizeof__WEBPACK_IMPORTED_MODULE_1__["default"])(data.headers) > 0) {
        var item;

        for (item in data.headers) {
          obj.xhr.setRequestHeader(item, data.headers[item]);
        }
      } else if ((data.type === 'POST' || data.type === 'PUT') && Object(_utils_sizeof__WEBPACK_IMPORTED_MODULE_1__["default"])(data.headers) === 0) {
        obj.xhr.setRequestHeader('Content-Type', 'application/json');
      } else {
        obj.xhr.setRequestHeader('Content-Type', 'text/plain');
      }
    }

    obj.xhr.send(JSON.stringify(data.data));
    return obj.xhr;
  } catch (err) {
    console.log(err);
  }
};

/***/ }),

/***/ "./src/javascript/modules/CanvasAnimation.js":
/*!***************************************************!*\
  !*** ./src/javascript/modules/CanvasAnimation.js ***!
  \***************************************************/
/*! exports provided: CanvasAnimation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CanvasAnimation", function() { return CanvasAnimation; });
/* harmony import */ var _utils_mergeObjects__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/mergeObjects */ "./src/javascript/utils/mergeObjects.js");
/* harmony import */ var _utils_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/query */ "./src/javascript/utils/query.js");

 // taken reference from https://stackoverflow.com/questions/48234696/how-to-put-a-gif-with-canvas/48348567#answer-48348567

var GIF = function GIF() {
  var timerID; // timer handle for set time out usage

  var st; // holds the stream object when loading.

  var interlaceOffsets = [0, 4, 2, 1]; // used in de-interlacing.

  var interlaceSteps = [8, 8, 4, 2];
  var interlacedBufSize; // this holds a buffer to de interlace. Created on the first frame and when size changed

  var deinterlaceBuf;
  var pixelBufSize; // this holds a buffer for pixels. Created on the first frame and when size changed

  var pixelBuf;
  var GIF_FILE = {
    // gif file data headers
    GCExt: 0xF9,
    COMMENT: 0xFE,
    APPExt: 0xFF,
    UNKNOWN: 0x01,
    // not sure what this is but need to skip it in parser
    IMAGE: 0x2C,
    EOF: 59,
    // This is entered as decimal
    EXT: 0x21
  }; // simple buffered stream used to read from the file

  var Stream = function Stream(data) {
    this.data = new Uint8ClampedArray(data);
    this.pos = 0;
    var len = this.data.length;

    this.getString = function (count) {
      // returns a string from current pos of len count
      var s = '';

      while (count--) {
        s += String.fromCharCode(this.data[this.pos++]);
      }

      return s;
    };

    this.readSubBlocks = function () {
      // reads a set of blocks as a string
      var size;
      var count;
      var data = '';

      do {
        count = size = this.data[this.pos++];

        while (count--) {
          data += String.fromCharCode(this.data[this.pos++]);
        }
      } while (size !== 0 && this.pos < len);

      return data;
    };

    this.readSubBlocksB = function () {
      // reads a set of blocks as binary
      var size;
      var count;
      var data = [];

      do {
        count = size = this.data[this.pos++];

        while (count--) {
          data.push(this.data[this.pos++]);
        }
      } while (size !== 0 && this.pos < len);

      return data;
    };
  }; // LZW decoder uncompressed each frames pixels
  // this needs to be optimised.
  // minSize is the min dictionary as powers of two
  // size and data is the compressed pixels


  function lzwDecode(minSize, data) {
    var i, pixelPos, pos, clear, eod, size, done, dic, code, last, d, len;
    pos = pixelPos = 0;
    dic = [];
    clear = 1 << minSize;
    eod = clear + 1;
    size = minSize + 1;
    done = false;

    while (!done) {
      // JavaScript optimisers like a clear exit though I never use 'done' apart from fooling the optimiser
      last = code;
      code = 0;

      for (i = 0; i < size; i++) {
        if (data[pos >> 3] & 1 << (pos & 7)) {
          code |= 1 << i;
        }

        pos++;
      }

      if (code === clear) {
        // clear and reset the dictionary
        dic = [];
        size = minSize + 1;

        for (i = 0; i < clear; i++) {
          dic[i] = [i];
        }

        dic[clear] = [];
        dic[eod] = null;
      } else {
        if (code === eod) {
          done = true;
          return;
        }

        if (code >= dic.length) {
          dic.push(dic[last].concat(dic[last][0]));
        } else if (last !== clear) {
          dic.push(dic[last].concat(dic[code][0]));
        }

        d = dic[code];
        len = d.length;

        for (i = 0; i < len; i++) {
          pixelBuf[pixelPos++] = d[i];
        }

        if (dic.length === 1 << size && size < 12) {
          size++;
        }
      }
    }
  }

  function parseColourTable(count) {
    // get a colour table of length count  Each entry is 3 bytes, for RGB.
    var colours = [];

    for (var i = 0; i < count; i++) {
      colours.push([st.data[st.pos++], st.data[st.pos++], st.data[st.pos++]]);
    }

    return colours;
  }

  function parse() {
    // read the header. This is the starting point of the decode and async calls parseBlock
    var bitField;
    st.pos += 6;
    gif.width = st.data[st.pos++] + (st.data[st.pos++] << 8);
    gif.height = st.data[st.pos++] + (st.data[st.pos++] << 8);
    bitField = st.data[st.pos++];
    gif.colorRes = (bitField & 112) >> 4;
    gif.globalColourCount = 1 << (bitField & 7) + 1;
    gif.bgColourIndex = st.data[st.pos++];
    st.pos++; // ignoring pixel aspect ratio. if not 0, aspectRatio = (pixelAspectRatio + 15) / 64

    if (bitField & 128) {
      gif.globalColourTable = parseColourTable(gif.globalColourCount);
    } // global colour flag


    setTimeout(parseBlock, 0);
  }

  function parseAppExt() {
    // get application specific data. Netscape added iterations and terminator. Ignoring that
    st.pos += 1;

    if (st.getString(8) === 'NETSCAPE') {
      st.pos += 8;
    } else {
      // ignoring this data. iterations (word) and terminator (byte)
      st.pos += 3; // 3 bytes of string usually "2.0" when identifier is NETSCAPE

      st.readSubBlocks(); // unknown app extension
    }
  }

  function parseGCExt() {
    // get GC data
    var bitField;
    st.pos++;
    bitField = st.data[st.pos++];
    gif.disposalMethod = (bitField & 28) >> 2;
    gif.transparencyGiven = !!(bitField & 1); // ignoring bit two that is marked as  userInput???

    gif.delayTime = st.data[st.pos++] + (st.data[st.pos++] << 8);
    gif.transparencyIndex = st.data[st.pos++];
    st.pos++;
  }

  function parseImg() {
    // decodes image data to create the indexed pixel image
    var deinterlace;
    var frame;
    var bitField;

    deinterlace = function deinterlace(width) {
      // de interlace pixel data if needed
      var lines, fromLine, pass, toLine;
      lines = pixelBufSize / width;
      fromLine = 0;

      if (interlacedBufSize !== pixelBufSize) {
        // create the buffer if size changed or undefined.
        deinterlaceBuf = new Uint8Array(pixelBufSize);
        interlacedBufSize = pixelBufSize;
      }

      for (pass = 0; pass < 4; pass++) {
        for (toLine = interlaceOffsets[pass]; toLine < lines; toLine += interlaceSteps[pass]) {
          deinterlaceBuf.set(pixelBuf.subArray(fromLine, fromLine + width), toLine * width);
          fromLine += width;
        }
      }
    };

    frame = {};
    gif.frames.push(frame);
    frame.disposalMethod = gif.disposalMethod;
    frame.time = gif.length;
    frame.delay = gif.delayTime * 10;
    gif.length += frame.delay;

    if (gif.transparencyGiven) {
      frame.transparencyIndex = gif.transparencyIndex;
    } else {
      frame.transparencyIndex = undefined;
    }

    frame.leftPos = st.data[st.pos++] + (st.data[st.pos++] << 8);
    frame.topPos = st.data[st.pos++] + (st.data[st.pos++] << 8);
    frame.width = st.data[st.pos++] + (st.data[st.pos++] << 8);
    frame.height = st.data[st.pos++] + (st.data[st.pos++] << 8);
    bitField = st.data[st.pos++];
    frame.localColourTableFlag = !!(bitField & 128);

    if (frame.localColourTableFlag) {
      frame.localColourTable = parseColourTable(1 << (bitField & 7) + 1);
    }

    if (pixelBufSize !== frame.width * frame.height) {
      // create a pixel buffer if not yet created or if current frame size is different from previous
      pixelBuf = new Uint8Array(frame.width * frame.height);
      pixelBufSize = frame.width * frame.height;
    }

    lzwDecode(st.data[st.pos++], st.readSubBlocksB()); // decode the pixels

    if (bitField & 64) {
      // de interlace if needed
      frame.interlaced = true;
      deinterlace(frame.width);
    } else {
      frame.interlaced = false;
    }

    processFrame(frame); // convert to canvas image
  }

  function processFrame(frame) {
    // creates a RGBA canvas image from the indexed pixel data.
    var ct;
    var cData;
    var dat;
    var pixCount;
    var ind;
    var useT;
    var i;
    var pixel;
    var pDat;
    var col; // var frame;

    var ti;
    frame.image = document.createElement('canvas');
    frame.image.width = gif.width;
    frame.image.height = gif.height;
    frame.image.ctx = frame.image.getContext('2d');
    ct = frame.localColourTableFlag ? frame.localColourTable : gif.globalColourTable;

    if (gif.lastFrame === null) {
      gif.lastFrame = frame;
    }

    useT = gif.lastFrame.disposalMethod === 2 || gif.lastFrame.disposalMethod === 3;

    if (!useT) {
      frame.image.ctx.drawImage(gif.lastFrame.image, 0, 0, gif.width, gif.height);
    }

    cData = frame.image.ctx.getImageData(frame.leftPos, frame.topPos, frame.width, frame.height);
    ti = frame.transparencyIndex;
    dat = cData.data;

    if (frame.interlaced) {
      pDat = deinterlaceBuf;
    } else {
      pDat = pixelBuf;
    }

    pixCount = pDat.length;
    ind = 0;

    for (i = 0; i < pixCount; i++) {
      pixel = pDat[i];
      col = ct[pixel];

      if (ti !== pixel) {
        dat[ind++] = col[0];
        dat[ind++] = col[1];
        dat[ind++] = col[2];
        dat[ind++] = 255; // Opaque.
      } else if (useT) {
        dat[ind + 3] = 0; // Transparent.

        ind += 4;
      } else {
        ind += 4;
      }
    }

    frame.image.ctx.putImageData(cData, frame.leftPos, frame.topPos);
    gif.lastFrame = frame;

    if (!gif.waitTillDone && typeof gif.onload === 'function') {
      doOnloadEvent();
    } // if !waitTillDone the call onload now after first frame is loaded

  }

  ;

  function finnished() {
    // called when the load has completed
    gif.loading = false;
    gif.frameCount = gif.frames.length;
    st = undefined;
    gif.complete = true;
    gif.disposalMethod = undefined;
    gif.transparencyGiven = undefined;
    gif.delayTime = undefined;
    gif.transparencyIndex = undefined;
    gif.waitTillDone = undefined;
    pixelBuf = undefined; // dereference pixel buffer

    deinterlaceBuf = undefined; // dereference interlace buff (may or may not be used);

    pixelBufSize = undefined;
    deinterlaceBuf = undefined;
    gif.currentFrame = 0;

    if (gif.frames.length > 0) {
      gif.image = gif.frames[0].image;
    }

    doOnloadEvent();

    if (typeof gif.onloadall === 'function') {
      gif.onloadall.bind(gif)({
        type: 'loadall',
        path: [gif]
      });
    }

    if (gif.playOnLoad) {
      gif.play();
    }

    gif.finished(gif, gif.lastFrame); // gif.lastFrame = null;
  }

  function canceled() {
    // called if the load has been cancelled
    finnished();

    if (typeof gif.cancelCallback === 'function') {
      gif.cancelCallback.bind(gif)({
        type: 'canceled',
        path: [gif]
      });
    }
  }

  function parseExt() {
    // parse extended blocks
    var blockID = st.data[st.pos++];

    if (blockID === GIF_FILE.GCExt) {
      parseGCExt();
    } else if (blockID === GIF_FILE.COMMENT) {
      gif.comment += st.readSubBlocks();
    } else if (blockID === GIF_FILE.APPExt) {
      parseAppExt();
    } else {
      if (blockID === GIF_FILE.UNKNOWN) {
        st.pos += 13;
      } // skip unknow block


      st.readSubBlocks();
    }
  }

  function parseBlock() {
    // parsing the blocks
    if (gif.cancel !== undefined && gif.cancel === true) {
      canceled();
      return;
    }

    var blockId = st.data[st.pos++];

    if (blockId === GIF_FILE.IMAGE) {
      // image block
      parseImg();

      if (gif.firstFrameOnly) {
        finnished();
        return;
      }
    } else if (blockId === GIF_FILE.EOF) {
      finnished();
      return;
    } else {
      parseExt();
    }

    if (typeof gif.onprogress === 'function') {
      gif.onprogress({
        bytesRead: st.pos,
        totalBytes: st.data.length,
        frame: gif.frames.length
      });
    }

    setTimeout(parseBlock, 0); // parsing frame async so processes can get some time in.
  }

  function cancelLoad(callback) {
    // cancels the loading. This will cancel the load before the next frame is decoded
    if (gif.complete) {
      return false;
    }

    gif.cancelCallback = callback;
    gif.cancel = true;
    return true;
  }

  function error(type) {
    if (typeof gif.onerror === 'function') {
      gif.onerror.bind(this)({
        type: type,
        path: [this]
      });
    }

    gif.onload = gif.onerror = undefined;
    gif.loading = false;
  }

  function doOnloadEvent() {
    // fire onload event if set
    gif.currentFrame = 0;
    gif.nextFrameAt = gif.lastFrameAt = new Date().valueOf(); // just sets the time now

    if (typeof gif.onload === 'function') {
      gif.onload.bind(gif)({
        type: 'load',
        path: [gif]
      });
    }

    gif.onerror = gif.onload = undefined;
  }

  function dataLoaded(data) {
    // Data loaded create stream and parse
    st = new Stream(data);
    parse();
  }

  function loadGif(filename) {
    // starts the load
    var ajax = new XMLHttpRequest();
    ajax.responseType = 'arraybuffer';

    ajax.onload = function (e) {
      if (e.target.status === 404) {
        error('File not found');
      } else if (e.target.status >= 200 && e.target.status < 300) {
        dataLoaded(ajax.response);
      } else {
        error('Loading error : ' + e.target.status);
      }
    };

    ajax.open('GET', filename, true);
    ajax.send();

    ajax.onerror = function (e) {
      error('File error');
    };

    this.src = filename;
    this.loading = true;
  }

  function play() {
    // starts play if paused
    if (!gif.playing) {
      gif.paused = false;
      gif.playing = true;
      playing();
    }
  }

  function pause() {
    // stops play
    gif.paused = true;
    gif.playing = false;
    clearTimeout(timerID);
  }

  function togglePlay() {
    if (gif.paused || !gif.playing) {
      gif.play();
    } else {
      gif.pause();
    }
  }

  function seekFrame(frame) {
    // seeks to frame number.
    clearTimeout(timerID);
    gif.currentFrame = frame % gif.frames.length;

    if (gif.playing) {
      playing();
    } else {
      gif.image = gif.frames[gif.currentFrame].image;
    }
  }

  function seek(time) {
    // time in Seconds  // seek to frame that would be displayed at time
    clearTimeout(timerID);

    if (time < 0) {
      time = 0;
    }

    time *= 1000; // in ms

    time %= gif.length;
    var frame = 0;

    while (time > gif.frames[frame].time + gif.frames[frame].delay && frame < gif.frames.length) {
      frame += 1;
    }

    gif.currentFrame = frame;

    if (gif.playing) {
      playing();
    } else {
      gif.image = gif.frames[gif.currentFrame].image;
    }
  }

  function playing() {
    var delay;
    var frame;

    if (gif.playSpeed === 0) {
      gif.pause();
    } else {
      if (gif.playSpeed < 0) {
        gif.currentFrame -= 1;

        if (gif.currentFrame < 0) {
          gif.currentFrame = gif.frames.length - 1;
        }

        frame = gif.currentFrame;
        frame -= 1;

        if (frame < 0) {
          frame = gif.frames.length - 1;
        }

        delay = -gif.frames[frame].delay * 1 / gif.playSpeed;
      } else {
        gif.currentFrame += 1;
        gif.currentFrame %= gif.frames.length;
        delay = gif.frames[gif.currentFrame].delay * 1 / gif.playSpeed;
      }

      gif.image = gif.frames[gif.currentFrame].image;
      timerID = setTimeout(playing, delay);
    }
  }

  var gif = {
    // the gif image object
    onload: null,
    // fire on load. Use waitTillDone = true to have load fire at end or false to fire on first frame
    onerror: null,
    // fires on error
    onprogress: null,
    // fires a load progress event
    onloadall: null,
    // event fires when all frames have loaded and gif is ready
    paused: false,
    // true if paused
    playing: false,
    // true if playing
    waitTillDone: true,
    // If true onload will fire when all frames loaded, if false, onload will fire when first frame has loaded
    loading: false,
    // true if still loading
    firstFrameOnly: false,
    // if true only load the first frame
    width: null,
    // width in pixels
    height: null,
    // height in pixels
    frames: [],
    // array of frames
    comment: '',
    // comments if found in file. Note I remember that some gifs have comments per frame if so this will be all comment concatenated
    length: 0,
    // gif length in ms (1/1000 second)
    currentFrame: 0,
    // current frame.
    frameCount: 0,
    // number of frames
    playSpeed: 1,
    // play speed 1 normal, 2 twice 0.5 half, -1 reverse etc...
    lastFrame: null,
    // temp hold last frame loaded so you can display the gif as it loads
    image: null,
    // the current image at the currentFrame
    playOnLoad: true,
    // if true starts playback when loaded
    // functions
    load: loadGif,
    // call this to load a file
    cancel: cancelLoad,
    // call to stop loading
    play: play,
    // call to start play
    pause: pause,
    // call to pause
    seek: seek,
    // call to seek to time
    seekFrame: seekFrame,
    // call to seek to frame
    togglePlay: togglePlay,
    // call to toggle play and pause state
    finished: function finished(instance) {} // call on finish

  };
  return gif;
};

var CanvasAnimation = function CanvasAnimation(options) {
  var _this = this;

  this.settings = {
    container: null,
    containerWrapper: null,
    gifInstance: null,
    lbWidget: null,
    imageSrc: '',
    ctx: null,
    canvasWidth: null,
    canvasHeight: null,
    canvasWidthHalf: null,
    canvasHeightHalf: null,
    updateActive: true
  };

  if (typeof options !== 'undefined') {
    this.settings = Object(_utils_mergeObjects__WEBPACK_IMPORTED_MODULE_0__["default"])(this.settings, options);
  } // main update function


  function update(timer) {
    if (_this.settings.updateActive) {
      _this.settings.ctx.setTransform(1, 0, 0, 1, 0, 0); // reset transform


      if (_this.settings.canvasWidth !== innerWidth || _this.settings.canvasHeight !== innerHeight) {
        _this.settings.canvasWidthHalf = (_this.settings.canvasWidth = _this.settings.container.width = innerWidth) / 2;
        _this.settings.canvasHeightHalf = (_this.settings.canvasHeight = _this.settings.container.height = innerHeight) / 2;
      } else {
        _this.settings.ctx.clearRect(0, 0, _this.settings.canvasWidth, _this.settings.canvasHeight);
      }

      if (_this.settings.gifInstance !== null) {
        // If gif object defined
        if (!_this.settings.gifInstance.loading) {// if loaded
          // can do something here
        } else if (_this.settings.gifInstance.lastFrame !== null) {
          // Shows frames as they load
          _this.settings.ctx.drawImage(_this.settings.gifInstance.lastFrame.image, _this.settings.canvasWidthHalf - _this.settings.gifInstance.width / 2, _this.settings.canvasHeightHalf - _this.settings.gifInstance.height / 2);
        }
      }

      requestAnimationFrame(update);
    }
  } // reset transform


  this.clearCanvas = function () {
    _this.settings.ctx.setTransform(1, 0, 0, 1, 0, 0);
  };

  this.overlayLayout = function () {
    var wrapper = document.createElement('div');
    var canvas = document.createElement('canvas');
    wrapper.setAttribute('class', 'cl-widget-canvas-overlay-wrapper');
    canvas.setAttribute('class', 'cl-widget-canvas');
    wrapper.appendChild(canvas);
    return wrapper;
  };

  this.init = function () {
    if (this.settings.container === null) {
      this.settings.containerWrapper = this.settings.lbWidget.settings.bindContainer.appendChild(_this.overlayLayout());
      this.settings.container = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(this.settings.containerWrapper, '.cl-widget-canvas');
    }

    if (this.settings.container !== null && this.settings.imageSrc.length > 0) {
      _this.settings.containerWrapper.style.display = 'block'; // show container

      _this.settings.containerWrapper.style.opacity = 1; // show container

      _this.settings.ctx = _this.settings.container.getContext('2d');
      _this.settings.updateActive = true; // Can not load gif cross domain unless it has CORS header
      // const gifURL = "https://gateway.competitionlabs.com/alex/assets/Olp_TXUBp93_Cg_BQGsD/skull-animaiton.gif";

      var gifURL = _this.settings.imageSrc; // timeout just waits till script has been parsed and executed
      // then starts loading a gif

      setTimeout(function () {
        _this.settings.gifInstance = GIF(); // creates a new gif

        _this.settings.gifInstance.onerror = function (e) {
          console.log('asset loading error ' + e.type);
        };

        _this.settings.gifInstance.load(gifURL);

        _this.settings.gifInstance.finished = function (instance, lastFrame) {
          _this.settings.updateActive = false; // draw last frame
          // _this.settings.ctx.drawImage(lastFrame.image, 0, 0);
          // _this.settings.ctx.fillStyle = 'black';
          // _this.settings.ctx.fillText('GIF loading frame 22', 10, 20);

          setTimeout(function () {
            _this.settings.containerWrapper.style.opacity = 0;
            setTimeout(function () {
              _this.settings.containerWrapper.style.display = 'none';
            }, 300);
          }, 2000);
        };
      }, 0);
      _this.settings.canvasWidth = _this.settings.container.width;
      _this.settings.canvasHeight = _this.settings.container.height;
      _this.settings.canvasWidthHalf = _this.settings.canvasWidth / 2; // center

      _this.settings.canvasHeightHalf = _this.settings.canvasHeight / 2; // trigger ACH
      // _this.settings.lbWidget.settings.canvasAnimation.settings.imageSrc = 'https://gateway.competitionlabs.com/alex/assets/Olp_TXUBp93_Cg_BQGsD/skull-animaiton.gif';
      // _this.settings.lbWidget.settings.canvasAnimation.init();

      requestAnimationFrame(update);
    }
  };
};

/***/ }),

/***/ "./src/javascript/modules/LbWidget.js":
/*!********************************************!*\
  !*** ./src/javascript/modules/LbWidget.js ***!
  \********************************************/
/*! exports provided: LbWidget */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LbWidget", function() { return LbWidget; });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var identicon_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! identicon.js */ "./node_modules/identicon.js/identicon.js");
/* harmony import */ var identicon_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(identicon_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var jssha__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jssha */ "./node_modules/jssha/dist/sha.mjs");
/* harmony import */ var css_vars_ponyfill__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! css-vars-ponyfill */ "./node_modules/css-vars-ponyfill/dist/css-vars-ponyfill.esm.js");
/* harmony import */ var _utils_mergeObjects__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/mergeObjects */ "./src/javascript/utils/mergeObjects.js");
/* harmony import */ var _utils_mapObject__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/mapObject */ "./src/javascript/utils/mapObject.js");
/* harmony import */ var _utils_formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/formatNumberLeadingZeros */ "./src/javascript/utils/formatNumberLeadingZeros.js");
/* harmony import */ var _utils_stringContains__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/stringContains */ "./src/javascript/utils/stringContains.js");
/* harmony import */ var _utils_objectIterator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/objectIterator */ "./src/javascript/utils/objectIterator.js");
/* harmony import */ var _utils_query__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/query */ "./src/javascript/utils/query.js");
/* harmony import */ var _utils_hasClass__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils/hasClass */ "./src/javascript/utils/hasClass.js");
/* harmony import */ var _utils_addClass__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/addClass */ "./src/javascript/utils/addClass.js");
/* harmony import */ var _utils_removeClass__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../utils/removeClass */ "./src/javascript/utils/removeClass.js");
/* harmony import */ var _utils_closest__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../utils/closest */ "./src/javascript/utils/closest.js");
/* harmony import */ var _utils_isMobileTablet__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../utils/isMobileTablet */ "./src/javascript/utils/isMobileTablet.js");
/* harmony import */ var _utils_camelToKebabCase__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../utils/camelToKebabCase */ "./src/javascript/utils/camelToKebabCase.js");
/* harmony import */ var _cLabs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./cLabs */ "./src/javascript/modules/cLabs.js");
/* harmony import */ var _Ajax__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./Ajax */ "./src/javascript/modules/Ajax.js");
/* harmony import */ var _Notifications__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./Notifications */ "./src/javascript/modules/Notifications.js");
/* harmony import */ var _MiniScoreBoard__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./MiniScoreBoard */ "./src/javascript/modules/MiniScoreBoard.js");
/* harmony import */ var _MainWidget__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./MainWidget */ "./src/javascript/modules/MainWidget.js");
/* harmony import */ var _CanvasAnimation__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./CanvasAnimation */ "./src/javascript/modules/CanvasAnimation.js");
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
























var translation = __webpack_require__(/*! ../../i18n/translation_en.json */ "./src/i18n/translation_en.json");
/**
 * Main leaderboard widget, controls all actions and initiation logic.
 * Main responsibility is to control the interactions between different widgets/plugins and user even actions
 * @param options {Object} setting parameters used to overwrite the default settings
 * @constructor
 */


var LbWidget = function LbWidget(options) {
  /**
   * LbWidget settings
   * @memberOf LbWidget
   * @constant
   * @type { Object }
   */
  this.settings = {
    debug: true,
    bindContainer: document.body,
    autoStart: true,
    sseMessaging: null,
    notifications: null,
    miniScoreBoard: null,
    canvasAnimation: null,
    enableNotifications: true,
    mainWidget: null,
    globalAjax: new _cLabs__WEBPACK_IMPORTED_MODULE_16__["default"].Ajax(),
    checkAjax: new _cLabs__WEBPACK_IMPORTED_MODULE_16__["default"].Ajax(),
    language: "en",
    currency: '',
    spaceName: '',
    memberId: '',
    groups: '',
    gameId: '',
    enforceGameLookup: false,
    // tournament lookup will include/exclude game only requests
    apiKey: '',
    member: null,
    competition: {
      activeCompetitionId: null,
      activeContestId: null,
      activeCompetition: null,
      activeContest: null,
      refreshInterval: null,
      refreshIntervalMillis: 10000,
      extractImageHeader: true // will extract the first found image inside the body tag and move it on top

    },
    achievements: {
      limit: 100,
      totalCount: 0,
      list: [],
      availableRewards: [],
      rewards: [],
      expiredRewards: [],
      extractImageHeader: true // will extract the first found image inside the body tag and move it on top

    },
    rewards: {
      availableRewards: [],
      rewards: [],
      expiredRewards: [],
      rewardFormatter: function rewardFormatter(reward) {
        var defaultRewardValue = reward.value;

        if (typeof reward.unitOfMeasure !== 'undefined' && typeof reward.unitOfMeasure.symbol !== 'undefined' && reward.unitOfMeasure.symbol !== null) {
          defaultRewardValue = reward.unitOfMeasure.symbol + reward.value;
        }

        return defaultRewardValue;
      }
    },
    messages: {
      messages: []
    },
    tournaments: {
      activeCompetitionId: null,
      readyCompetitions: [],
      // statusCode 3
      activeCompetitions: [],
      // statusCode 5
      finishedCompetitions: [] // statusCode 7

    },
    leaderboard: {
      fullLeaderboardSize: 100,
      refreshIntervalMillis: 3000,
      refreshInterval: null,
      refreshLbDataInterval: null,
      leaderboardData: [],
      loadLeaderboardHistory: {},
      layoutSettings: {
        // tournamentList: true,
        imageBanner: true,
        // title: true,
        titleLinkToDetailsPage: false // if set to false will make the description available under title

      }
    },
    navigation: {
      // primary navigation items, if all are disabled init will fail, if only 1 is enabled items will be hidden
      tournaments: {
        enable: true,
        navigationClass: 'cl-main-widget-navigation-lb',
        navigationClassIcon: 'cl-main-widget-navigation-lb-icon',
        containerClass: 'cl-main-widget-lb',
        order: 1
      },
      achievements: {
        enable: true,
        navigationClass: 'cl-main-widget-navigation-ach',
        navigationClassIcon: 'cl-main-widget-navigation-ach-icon',
        containerClass: 'cl-main-widget-section-ach',
        order: 2
      },
      rewards: {
        enable: true,
        navigationClass: 'cl-main-widget-navigation-rewards',
        navigationClassIcon: 'cl-main-widget-navigation-rewards-icon',
        containerClass: 'cl-main-widget-section-reward',
        order: 3
      },
      inbox: {
        enable: true,
        navigationClass: 'cl-main-widget-navigation-inbox',
        navigationClassIcon: 'cl-main-widget-navigation-inbox-icon',
        containerClass: 'cl-main-widget-section-inbox',
        order: 4
      }
    },
    uri: {
      gatewayDomain: _cLabs__WEBPACK_IMPORTED_MODULE_16__["default"].api.url,
      members: '/api/v1/:space/members/reference/:id',
      assets: '/assets/attachments/:attachmentId',
      memberSSE: '/api/v1/:space/sse/reference/:id',
      memberSSEHeartbeat: '/api/v1/:space/sse/reference/:id/heartbeat',
      competitions: '/api/v1/:space/competitions',
      competitionById: '/api/v1/:space/competitions/:id',
      contestLeaderboard: '/api/v1/:space/contests/:id/leaderboard',
      achievement: '/api/v1/:space/achievements/:id',
      achievements: '/api/v1/:space/achievements/members/reference/:id',
      // achievements: "/api/v1/:space/achievements",
      achievementsProgression: '/api/v1/:space/members/reference/:id/achievements',
      achievementsIssued: '/api/v1/:space/members/reference/:id/achievements/issued',
      messages: '/api/v1/:space/members/reference/:id/messages',
      messageById: '/api/v1/:space/members/reference/:id/messages/:messageId',
      memberReward: '/api/v1/:space/members/reference/:id/award/:awardId',
      memberRewardClaim: '/api/v1/:space/members/reference/:id/award/:awardId/award',
      memberCompetitions: '/api/v1/:space/members/reference/:id/competitions',
      memberCompetitionById: '/api/v1/:space/members/reference/:id/competition/:competitionId',
      memberCompetitionOptIn: '/api/v1/:space/members/reference/:id/competition/:competitionId/optin',
      memberCompetitionOptInCheck: '/api/v1/:space/members/reference/:id/competition/:competitionId/optin-check',
      translationPath: '' // ../i18n/translation_:language.json

    },
    loadTranslations: true,
    showCopyright: true,
    translation: translation,
    resources: [],
    styles: {},
    layoutBuildCallback: function layoutBuildCallback(layout, instance) {}
  };

  if (typeof options !== 'undefined') {
    this.settings = Object(_utils_mergeObjects__WEBPACK_IMPORTED_MODULE_4__["default"])(this.settings, options);
  } // alias references to modules


  this.CanvasAnimation = _CanvasAnimation__WEBPACK_IMPORTED_MODULE_21__["CanvasAnimation"];
  this.Notifications = _Notifications__WEBPACK_IMPORTED_MODULE_18__["Notifications"];
  this.MiniScoreBoard = _MiniScoreBoard__WEBPACK_IMPORTED_MODULE_19__["MiniScoreBoard"];
  this.MainWidget = _MainWidget__WEBPACK_IMPORTED_MODULE_20__["MainWidget"];

  this.log = function (message) {
    if (this.settings.debug) {
      console.error(message);
    }
  };
  /**
   * Format duration of Date Time from moment() object
   * @memberOf LbWidget
   * @param duration {moment}
   * @returns {string}
   */


  this.formatDateTime = function (duration) {
    var _this = this;

    var largeResult = [];
    var result = [];
    if (duration.days()) largeResult.push(duration.days() + '<span class="time-ind">' + _this.settings.translation.time.days + '</span>');

    if (duration.hours() || duration.days() > 0) {
      result.push(Object(_utils_formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_6__["default"])(duration.hours(), 2) + '<span class="time-ind">' + _this.settings.translation.time.hours + '</span>');
    } else result.push('00<span class="time-ind">' + _this.settings.translation.time.hours + '</span>');

    if (duration.minutes() || duration.hours() > 0 || duration.days() > 0) {
      result.push(Object(_utils_formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_6__["default"])(duration.minutes(), 2) + (duration.days() > 0 ? '<span class="time-ind">' + _this.settings.translation.time.minutes + '</span>' : '<span class="time-ind">' + _this.settings.translation.time.minutesShortHand + '</span>'));
    } else result.push('00' + (duration.days() > 0 ? '<span class="time-ind">' + _this.settings.translation.time.minutes + '</span>' : '<span class="time-ind">' + _this.settings.translation.time.minutesShortHand + '</span>')); // if (duration.seconds() && duration.days() === 0){ result.push( formatNumberLeadingZeros(duration.seconds(), 2) + '<span class="time-ind">s</span>' ) }else if(duration.days() === 0){result.push( '00<span class="time-ind">s</span>' )};


    result.push(Object(_utils_formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_6__["default"])(duration.seconds(), 2) + '<span class="time-ind">' + _this.settings.translation.time.seconds + '</span>');
    return largeResult.length > 0 ? largeResult.join(' ') + ' ' + result.join(':') : result.join(':');
  };

  this.populateIdenticonBase64Image = function (str) {
    if (str.length > 0) {
      /* eslint new-cap: "off" */
      var shaObj = new jssha__WEBPACK_IMPORTED_MODULE_2__["default"]('SHA-512', 'TEXT');
      shaObj.update(str);
      var hash = shaObj.getHash('HEX', 1);
      /**
       * for IE 11 comment out the lines above and use this code with the jsSHA library inside utils
       * import jsSHA from '../utils/jsSHA';
      var shaObj = new jsSHA(str, 'TEXT');
      var hash = shaObj.getHash('SHA-512', 'HEX', 1);
      */

      var data = new identicon_js__WEBPACK_IMPORTED_MODULE_1___default.a(hash, {
        background: [255, 255, 255, 255],
        // rgba white
        margin: 0.1,
        // 20% margin
        size: 22,
        // 420px square
        format: 'svg' // use SVG instead of PNG

      }).toString();
      var icon = 'data:image/svg+xml;base64,' + data;
      return icon;
    } else {
      return '';
    }
  };
  /**
   * get a list of available competition filtered by provided global criteria
   * @param callback {Function}
   */


  var competitionCheckAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_16__["default"].Ajax();

  this.checkForAvailableCompetitions = function (callback, ajaxInstance) {
    var _this = this;

    var url = _this.settings.memberId.length === 0 ? _this.settings.uri.competitions.replace(':space', _this.settings.spaceName) : _this.settings.uri.memberCompetitions.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId);
    var filters = ['statusCode>==3', 'statusCode<==5', '_sortByFields=options.scheduledDates.end:desc', '_lang=' + _this.settings.language];
    var ajaxInstanceToUse = typeof ajaxInstance !== 'undefined' && ajaxInstance !== null ? ajaxInstance : competitionCheckAjax;

    if (typeof _this.settings.currency === 'string' && _this.settings.currency.length > 0) {
      filters.push('_uomKey=' + _this.settings.currency);
    }

    if (_this.settings.gameId.length > 0 && _this.settings.enforceGameLookup) {
      filters.push('options.products.productRefId=' + _this.settings.gameId);
    }

    if (_this.settings.groups.length > 0 && _this.settings.memberId.length === 0) {
      filters.push('options.limitEntrantsTo=' + _this.settings.groups);
    }

    ajaxInstanceToUse.abort().getData({
      type: 'GET',
      url: _this.settings.uri.gatewayDomain + url + '?' + filters.join('&'),
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      success: function success(response, dataObj, xhr) {
        if (xhr.status === 200) {
          var json = JSON.parse(response);
          _this.settings.tournaments.readyCompetitions = [];
          _this.settings.tournaments.activeCompetitions = [];
          Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_5__["default"])(json.data, function (comp) {
            if (comp.statusCode === 3) {
              _this.settings.tournaments.readyCompetitions.push(comp);
            } else if (comp.statusCode === 5) {
              _this.settings.tournaments.activeCompetitions.push(comp);
            }
          });

          _this.checkForFinishedCompetitions(callback, ajaxInstance);
        } else {
          _this.log('failed to checkForActiveCompetitions ' + response);
        }
      }
    });
  };
  /**
   * get a list of finished competition filtered by provided global criteria
   * @param callback {Function}
   */


  var competitionFinishedCheckAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_16__["default"].Ajax();

  this.checkForFinishedCompetitions = function (callback, ajaxInstance) {
    var _this = this;

    var url = _this.settings.memberId.length === 0 ? _this.settings.uri.competitions.replace(':space', _this.settings.spaceName) : _this.settings.uri.memberCompetitions.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId);
    var filters = ['statusCode=7', '_limit=10', '_sortByFields=options.scheduledDates.end:desc', '_lang=' + _this.settings.language];
    var ajaxInstanceToUse = typeof ajaxInstance !== 'undefined' && ajaxInstance !== null ? ajaxInstance : competitionFinishedCheckAjax;

    if (typeof _this.settings.currency === 'string' && _this.settings.currency.length > 0) {
      filters.push('_uomKey=' + _this.settings.currency);
    }

    if (_this.settings.gameId.length > 0 && _this.settings.enforceGameLookup) {
      filters.push('options.products.productRefId=' + _this.settings.gameId);
    }

    if (_this.settings.groups.length > 0 && _this.settings.memberId.length === 0) {
      filters.push('options.limitEntrantsTo=' + _this.settings.groups);
    }

    ajaxInstanceToUse.abort().getData({
      type: 'GET',
      url: _this.settings.uri.gatewayDomain + url + '?' + filters.join('&'),
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      success: function success(response, dataObj, xhr) {
        if (xhr.status === 200) {
          var json = JSON.parse(response);
          _this.settings.tournaments.finishedCompetitions = [];
          Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_5__["default"])(json.data, function (comp) {
            if (comp.statusCode === 7) {
              _this.settings.tournaments.finishedCompetitions.push(comp);
            }
          });

          if (typeof callback === 'function') {
            callback();
          }
        } else {
          _this.log('failed to checkForActiveCompetitions ' + response);
        }
      }
    });
  };

  this.prepareActiveCompetition = function (callback) {
    var _this = this;

    var activeCompetition = null;
    var activeCompetitionId = null;

    if (_this.settings.tournaments.activeCompetitionId !== null) {
      Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.tournaments.activeCompetitions, function (comp) {
        if (comp.id === _this.settings.tournaments.activeCompetitionId) {
          activeCompetition = comp;
        }
      });
      Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.tournaments.readyCompetitions, function (comp) {
        if (comp.id === _this.settings.tournaments.activeCompetitionId) {
          activeCompetition = comp;
        }
      });
      Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.tournaments.finishedCompetitions, function (comp) {
        if (comp.id === _this.settings.tournaments.activeCompetitionId) {
          activeCompetition = comp;
        }
      });

      if (activeCompetition !== null) {
        activeCompetitionId = _this.settings.tournaments.activeCompetitionId;
      } else {
        _this.settings.tournaments.activeCompetitionId = null;
      }
    }

    if (activeCompetition === null && _this.settings.tournaments.activeCompetitions.length > 0) {
      activeCompetition = _this.settings.tournaments.activeCompetitions[0];
      activeCompetitionId = activeCompetition.id;
    } else if (activeCompetition === null && _this.settings.tournaments.readyCompetitions.length > 0) {
      activeCompetition = _this.settings.tournaments.readyCompetitions[0];
      activeCompetitionId = activeCompetition.id;
    }

    if (activeCompetitionId === null) {
      // no active or ready competitions found
      _this.deactivateCompetitionsAndLeaderboards();
    } else {
      if (_this.settings.competition.activeCompetitionId !== activeCompetitionId && activeCompetitionId !== null) {
        _this.settings.competition.activeCompetition = activeCompetition;
        _this.settings.competition.activeCompetitionId = activeCompetitionId;
      }

      if (activeCompetitionId !== null) {
        _this.loadActiveCompetition(function (json) {
          _this.setActiveCompetition(json, callback);
        });
      } else if (typeof callback === 'function') {
        callback();
      }
    }
  };

  this.loadActiveCompetition = function (callback) {
    var _this = this;

    var url = _this.settings.memberId.length === 0 ? _this.settings.uri.competitionById.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.competition.activeCompetitionId) : _this.settings.uri.memberCompetitionById.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId).replace(':competitionId', _this.settings.competition.activeCompetitionId);
    var filters = ['_include=strategy', '_lang=' + _this.settings.language];

    if (typeof _this.settings.currency === 'string' && _this.settings.currency.length > 0) {
      filters.push('_uomKey=' + _this.settings.currency);
    }

    _this.settings.globalAjax.abort().getData({
      type: 'GET',
      url: _this.settings.uri.gatewayDomain + url + '?' + filters.join('&'),
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      success: function success(response, dataObj, xhr) {
        if (xhr.status === 200) {
          var json = JSON.parse(response);

          if (typeof callback === 'function') {
            callback(json);
          }
        } else {
          _this.log('failed to loadActiveCompetition ' + response);
        }
      }
    });
  };

  this.setActiveCompetition = function (json, callback) {
    var _this = this;

    _this.settings.competition.activeCompetition = json.data;
    _this.settings.competition.activeContest = null;
    _this.settings.competition.activeContestId = null;

    if (typeof json.data.contests !== 'undefined' && json.data.contests.length > 0) {
      Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_5__["default"])(json.data.contests, function (contest) {
        if (contest.statusCode < 7 && _this.settings.competition.activeContest === null) {
          _this.settings.competition.activeContest = contest;
          _this.settings.competition.activeContestId = contest.id;

          if (typeof _this.settings.competition.activeContest.rewards === 'undefined') {
            _this.settings.competition.activeContest.rewards = [];
          }

          var rewards = [];
          Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.competition.activeContest.rewards, function (reward) {
            if (typeof reward.rewardRank === 'string') {
              var rankParts = reward.rewardRank.split(',');
              var rewardRank = [];
              Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_5__["default"])(rankParts, function (part) {
                if (Object(_utils_stringContains__WEBPACK_IMPORTED_MODULE_7__["default"])(part, '-')) {
                  var rankRange = part.split('-');
                  var rageStart = parseInt(rankRange[0]);
                  var rangeEnd = parseInt(rankRange[1]);

                  for (var i = rageStart; i <= rangeEnd; i++) {
                    rewardRank.push(i);
                  }
                } else {
                  rewardRank.push(parseInt(part));
                }
              });
              reward.rewardRank = rewardRank;
            }

            rewards.push(reward);
          });
          _this.settings.competition.activeContest.rewards = rewards;
        }
      });
    }

    if (typeof callback === 'function') {
      callback();
    }
  };

  this.getLeaderboardData = function (count, callback) {
    if (this.settings.competition.activeContestId !== null) {
      var _this = this;

      var url = _this.settings.uri.contestLeaderboard.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.competition.activeContestId);

      var filters = ['_limit=' + count, 'rankings=2'];

      if (typeof _this.settings.memberId === 'string' && _this.settings.memberId.length > 0) {
        filters.push('memberId=' + _this.settings.memberId);
      }

      _this.settings.globalAjax.abort().getData({
        type: 'GET',
        url: _this.settings.uri.gatewayDomain + url + '?' + filters.join('&'),
        headers: {
          'X-API-KEY': _this.settings.apiKey
        },
        success: function success(response, dataObj, xhr) {
          if (xhr.status === 200) {
            var json = JSON.parse(response); // if(
            //   typeof _this.settings.loadLeaderboardHistory[_this.settings.competition.activeContestId] === "undefined"
            //   ||
            //   (
            //     typeof _this.settings.loadLeaderboardHistory[_this.settings.competition.activeContestId] !== "undefined"
            //     &&
            //     _this.settings.loadLeaderboardHistory[_this.settings.competition.activeContestId] !== data
            //   )
            // ) {
            //   _this.settings.loadLeaderboardHistory[_this.settings.competition.activeContestId] = {
            //     changed: true,
            //     data: JSON.stringify(json.data)
            //   };
            // }

            _this.settings.leaderboard.leaderboardData = json.data;
            callback(json.data);
          } else {
            _this.log('failed to getLeaderboardData ' + response);
          }
        }
      });
    } else {
      callback();
    }
  };

  this.updateLeaderboardNavigationCounts = function () {
    var _this = this;

    console.log('LB', _this.settings.tournaments.readyCompetitions.length, _this.settings.tournaments.activeCompetitions.length);

    if (_this.settings.mainWidget.settings.navigation !== null) {
      var menuItemCount = Object(_utils_query__WEBPACK_IMPORTED_MODULE_9__["default"])(_this.settings.mainWidget.settings.navigation, '.' + _this.settings.navigation.tournaments.navigationClass + ' .cl-main-navigation-item-count');
      menuItemCount.innerHTML = _this.settings.tournaments.activeCompetitions.length;
    }
  };

  this.updateAchievementNavigationCounts = function () {
    var _this = this;

    console.log('ACH', _this.settings.achievements.totalCount);

    if (_this.settings.mainWidget.settings.navigation !== null) {
      var menuItemCount = Object(_utils_query__WEBPACK_IMPORTED_MODULE_9__["default"])(_this.settings.mainWidget.settings.navigation, '.' + _this.settings.navigation.achievements.navigationClass + ' .cl-main-navigation-item-count');
      menuItemCount.innerHTML = _this.settings.achievements.totalCount;
    }
  };

  this.updateRewardsNavigationCounts = function () {
    var _this = this;

    console.log('Rew', _this.settings.rewards.availableRewards.length);

    if (_this.settings.mainWidget.settings.navigation !== null) {
      var menuItemCount = Object(_utils_query__WEBPACK_IMPORTED_MODULE_9__["default"])(_this.settings.mainWidget.settings.navigation, '.' + _this.settings.navigation.rewards.navigationClass + ' .cl-main-navigation-item-count');
      menuItemCount.innerHTML = _this.settings.rewards.availableRewards.length;
    }
  };

  this.updateMessagesNavigationCounts = function () {
    var _this = this;

    console.log('Mes', _this.settings.messages.messages.length);

    if (_this.settings.mainWidget.settings.navigation !== null) {
      var menuItemCount = Object(_utils_query__WEBPACK_IMPORTED_MODULE_9__["default"])(_this.settings.mainWidget.settings.navigation, '.' + _this.settings.navigation.inbox.navigationClass + ' .cl-main-navigation-item-count');
      menuItemCount.innerHTML = _this.settings.messages.messages.length;
    }
  };

  var checkAchievementsAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_16__["default"].Ajax();

  this.checkForAvailableAchievements = function (callback) {
    var _this = this;

    var url = _this.settings.uri.achievements.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId);

    var date = new Date();
    var createdDateFilter = date.toISOString();
    var filters = ['_limit=' + _this.settings.achievements.limit, '_include=rewards', 'scheduledEnd>==' + createdDateFilter, '_lang=' + _this.settings.language];
    var withGroups = false;

    if (typeof _this.settings.currency === 'string' && _this.settings.currency.length > 0) {
      filters.push('_uomKey=' + _this.settings.currency);
    }

    if (typeof _this.settings.member.groups !== 'undefined' && _this.settings.member.groups.length > 0) {
      withGroups = true;
      filters.push('memberGroups=' + _this.settings.member.groups.join(','));
    }

    checkAchievementsAjax.abort().getData({
      type: 'GET',
      url: _this.settings.uri.gatewayDomain + url + '?_lang=' + _this.settings.language + '&scheduledEnd>==' + createdDateFilter + '&_uomKey=' + _this.settings.currency,
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      success: function success(response, dataObj, xhr) {
        if (xhr.status === 200) {
          var jsonForAll = JSON.parse(response);
          _this.settings.achievements.totalCount = parseInt(jsonForAll.meta.totalRecordsFound);
          _this.settings.achievements.list = [];
          Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_5__["default"])(jsonForAll.data, function (ach) {
            _this.settings.achievements.list.push(ach);
          });

          if (withGroups) {
            checkAchievementsAjax.abort().getData({
              type: 'GET',
              url: _this.settings.uri.gatewayDomain + url + '?' + filters.join('&'),
              headers: {
                'X-API-KEY': _this.settings.apiKey
              },
              success: function success(response, dataObj, xhr) {
                if (xhr.status === 200) {
                  var json = JSON.parse(response);
                  _this.settings.achievements.totalCount = _this.settings.achievements.totalCount + parseInt(json.meta.totalRecordsFound);
                  Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_5__["default"])(json.data, function (ach) {
                    _this.settings.achievements.list.push(ach);
                  });
                  if (typeof callback === 'function') callback(_this.settings.achievements.list);
                } else {
                  _this.log('failed to checkForAvailableAchievements ' + response);
                }
              }
            });
          } else {
            if (typeof callback === 'function') callback(jsonForAll.data);
          }
        } else {
          _this.log('failed to checkForAvailableAchievements ' + response);
        }
      }
    });
  };

  var getAchievementsAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_16__["default"].Ajax();

  this.getAchievement = function (achievementId, callback) {
    var _this = this;

    getAchievementsAjax.abort().getData({
      url: _this.settings.uri.gatewayDomain + _this.settings.uri.achievement.replace(':space', _this.settings.spaceName).replace(':id', achievementId) + '?_lang=' + _this.settings.language + '&_uomKey=' + _this.settings.currency,
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      type: 'GET',
      success: function success(response, dataObj, xhr) {
        var json = null;

        if (xhr.status === 200) {
          try {
            json = JSON.parse(response);
          } catch (e) {}
        }

        if (typeof callback === 'function') {
          callback(json);
        }
      },
      error: function error() {
        if (typeof callback === 'function') {
          callback(null);
        }
      }
    });
  };

  var getRewardAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_16__["default"].Ajax();

  this.getReward = function (rewardId, callback) {
    var _this = this;

    getRewardAjax.abort().getData({
      url: _this.settings.uri.gatewayDomain + _this.settings.uri.memberReward.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId).replace(':awardId', rewardId),
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      type: 'GET',
      success: function success(response, dataObj, xhr) {
        var json = null;

        if (xhr.status === 200) {
          try {
            json = JSON.parse(response);
          } catch (e) {}
        }

        if (typeof callback === 'function') {
          callback(json);
        }
      },
      error: function error() {
        if (typeof callback === 'function') {
          callback(null);
        }
      }
    });
  };

  var getMessageAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_16__["default"].Ajax();

  this.getMessage = function (messageId, callback) {
    var _this = this;

    getMessageAjax.abort().getData({
      url: _this.settings.uri.gatewayDomain + _this.settings.uri.messageById.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId).replace(':messageId', messageId),
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      type: 'GET',
      success: function success(response, dataObj, xhr) {
        var json = null;

        if (xhr.status === 200) {
          try {
            json = JSON.parse(response);
          } catch (e) {}
        }

        if (typeof callback === 'function') {
          callback(json);
        }
      },
      error: function error() {
        if (typeof callback === 'function') {
          callback(null);
        }
      }
    });
  };

  var claimRewardAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_16__["default"].Ajax();

  this.claimReward = function (rewardId, callback) {
    var _this = this;

    claimRewardAjax.abort().getData({
      url: _this.settings.uri.gatewayDomain + _this.settings.uri.memberRewardClaim.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId).replace(':awardId', rewardId),
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      type: 'POST',
      success: function success(response, dataObj, xhr) {
        var json = null;

        if (xhr.status === 200) {
          try {
            json = JSON.parse(response);
          } catch (e) {}
        }

        if (typeof callback === 'function') {
          callback(json);
        }
      },
      error: function error() {
        if (typeof callback === 'function') {
          callback(null);
        }
      }
    });
  };

  var checkForMemberAchievementsAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_16__["default"].Ajax();

  this.checkForMemberAchievementsIssued = function (callback) {
    var _this = this;

    var url = _this.settings.uri.achievementsIssued.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId);

    checkForMemberAchievementsAjax.abort().getData({
      type: 'GET',
      url: _this.settings.uri.gatewayDomain + url,
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      success: function success(response, dataObj, xhr) {
        if (xhr.status === 200) {
          var json = JSON.parse(response);
          var idList = [];

          if (typeof json.aggregations !== 'undefined' && json.aggregations.length > 0) {
            Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_5__["default"])(json.aggregations[0].items, function (item) {
              idList.push(item.value);
            });
          }

          if (typeof callback === 'function') callback(idList);
        } else {
          _this.log('failed to checkForMemberAchievementsIssued ' + response);
        }
      }
    });
  };

  var checkForMemberAchievementsProgressionAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_16__["default"].Ajax();

  this.checkForMemberAchievementsProgression = function (idList, callback) {
    var _this = this;

    var url = _this.settings.uri.achievementsProgression.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId);

    checkForMemberAchievementsProgressionAjax.abort().getData({
      type: 'GET',
      url: _this.settings.uri.gatewayDomain + url + (idList.length > 0 ? '?id=' + idList.join(',') : ''),
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      success: function success(response, dataObj, xhr) {
        if (xhr.status === 200) {
          var json = JSON.parse(response);
          if (typeof callback === 'function') callback(json.data);
        } else {
          _this.log('failed to checkForMemberAchievementsProgression ' + response);
        }
      }
    });
  };

  var checkForAvailableRewardsAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_16__["default"].Ajax();

  this.checkForAvailableRewards = function (callback) {
    var _this = this;

    var url = _this.settings.uri.messages.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId); // claimed rewards


    checkForAvailableRewardsAjax.abort().getData({
      type: 'GET',
      url: _this.settings.uri.gatewayDomain + url + '?_sortByFields=created:desc&messageType=Reward&prize.claimed=true&_hasValuesFor=prize&_limit=100',
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      success: function success(response, dataObj, xhr) {
        if (xhr.status === 200) {
          var jsonForAll = JSON.parse(response);
          _this.settings.rewards.rewards = [];
          _this.settings.rewards.availableRewards = [];
          _this.settings.rewards.expiredRewards = [];
          Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_5__["default"])(jsonForAll.data, function (message) {
            var expired = typeof message.expiry === 'undefined' ? false : moment__WEBPACK_IMPORTED_MODULE_0___default()(message.expiry).diff(moment__WEBPACK_IMPORTED_MODULE_0___default()()) < 0;

            if (!expired) {
              _this.settings.rewards.rewards.push(message);
            }
          }); // not-claimed rewards

          checkForAvailableRewardsAjax.abort().getData({
            type: 'GET',
            url: _this.settings.uri.gatewayDomain + url + '?_sortByFields=created:desc&messageType=Reward&prize.claimed=false&_hasValuesFor=prize&_limit=100',
            headers: {
              'X-API-KEY': _this.settings.apiKey
            },
            success: function success(response, dataObj, xhr) {
              if (xhr.status === 200) {
                var jsonForAll = JSON.parse(response);
                Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_5__["default"])(jsonForAll.data, function (message) {
                  var expired = typeof message.expiry === 'undefined' ? false : moment__WEBPACK_IMPORTED_MODULE_0___default()(message.expiry).diff(moment__WEBPACK_IMPORTED_MODULE_0___default()()) < 0;

                  if (!expired) {
                    _this.settings.rewards.availableRewards.push(message);
                  }
                }); // expired rewards

                var date = new Date();
                var utcDate = date.getUTCFullYear() + '-' + Object(_utils_formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_6__["default"])(date.getUTCMonth() + 1, 2) + '-' + Object(_utils_formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_6__["default"])(date.getUTCDate(), 2) + 'T' + Object(_utils_formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_6__["default"])(date.getUTCHours(), 2) + ':' + Object(_utils_formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_6__["default"])(date.getUTCMinutes(), 2) + ':00';

                _this.settings.globalAjax.abort().getData({
                  type: 'GET',
                  url: _this.settings.uri.gatewayDomain + url + '?_sortByFields=created:desc&_limit=100&messageType=Reward&_hasValuesFor=expiry&expiry<==' + utcDate,
                  headers: {
                    'X-API-KEY': _this.settings.apiKey
                  },
                  success: function success(response, dataObj, xhr) {
                    if (xhr.status === 200) {
                      var jsonForAll = JSON.parse(response);
                      Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_5__["default"])(jsonForAll.data, function (message) {
                        _this.settings.rewards.expiredRewards.push(message);
                      });
                      if (typeof callback === 'function') callback(_this.settings.rewards.rewards, _this.settings.rewards.availableRewards, _this.settings.rewards.expiredRewards);
                    } else {
                      _this.log('failed to checkForAvailableRewards expired ' + response);
                    }
                  }
                });
              } else {
                _this.log('failed to checkForAvailableRewards not-claimed ' + response);
              }
            }
          });
        } else {
          _this.log('failed to checkForAvailableRewards claimed ' + response);
        }
      }
    });
  };

  var checkForAvailableMessagesAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_16__["default"].Ajax();

  this.checkForAvailableMessages = function (callback) {
    var _this = this;

    var url = _this.settings.uri.messages.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId);

    var date = new Date();
    date.setDate(date.getMonth() - 1);
    var createdDateFilter = date.getFullYear() + '-' + Object(_utils_formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_6__["default"])(date.getMonth() + 1, 2) + '-' + Object(_utils_formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_6__["default"])(date.getDate(), 2);
    checkForAvailableMessagesAjax.abort().getData({
      type: 'GET',
      url: _this.settings.uri.gatewayDomain + url + '?_sortByFields=created:desc&_hasNoValuesFor=prize&_limit=100&created>==' + createdDateFilter,
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      success: function success(response, dataObj, xhr) {
        if (xhr.status === 200) {
          var jsonForAll = JSON.parse(response);
          _this.settings.messages.messages = [];
          Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_5__["default"])(jsonForAll.data, function (message) {
            _this.settings.messages.messages.push(message);
          });
          if (typeof callback === 'function') callback(_this.settings.messages.messages);
        } else {
          _this.log('failed to checkForAvailableMessages ' + response);
        }
      }
    });
  };

  var optInMemberAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_16__["default"].Ajax();

  this.optInMemberToActiveCompetition = function (callback) {
    var _this = this;

    var url = _this.settings.uri.memberCompetitionOptIn.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId).replace(':competitionId', _this.settings.competition.activeCompetitionId);

    optInMemberAjax.abort().getData({
      type: 'GET',
      url: _this.settings.uri.gatewayDomain + url,
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      success: function success(response, dataObj, xhr) {
        if (xhr.status === 200) {
          callback();
        } else {
          _this.log('failed to optInMemberToActiveCompetition ' + response);
        }
      }
    });
  };

  var revalidationCount = 0;

  this.revalidateIfSuccessfullOptIn = function (callback) {
    var _this = this;

    _this.loadActiveCompetition(function (competitionJson) {
      if (typeof competitionJson.data.optin === 'boolean' && !competitionJson.data.optin) {
        revalidationCount++;

        if (revalidationCount < 5) {
          setTimeout(function () {
            _this.revalidateIfSuccessfullOptIn(callback);
          }, 100);
        } else {
          revalidationCount = 0;
        }
      } else if (typeof competitionJson.data.optin === 'boolean' && competitionJson.data.optin) {
        callback(competitionJson);
      }
    });
  };

  this.leaderboardDataRefresh = function () {
    var _this = this;

    if (_this.settings.leaderboard.refreshLbDataInterval) {
      clearTimeout(_this.settings.leaderboard.refreshLbDataInterval);
    }

    if (_this.settings.competition.activeCompetition !== null && typeof _this.settings.competition.activeCompetition.optinRequired === 'boolean' && !_this.settings.competition.activeCompetition.optinRequired || typeof _this.settings.competition.activeCompetition.optin === 'boolean' && _this.settings.competition.activeCompetition.optin) {
      var count = _this.settings.miniScoreBoard.settings.active ? 0 : _this.settings.leaderboard.fullLeaderboardSize;

      _this.getLeaderboardData(count, function (data) {
        if (_this.settings.miniScoreBoard.settings.active) _this.settings.miniScoreBoard.loadScoreBoard();
        if (_this.settings.mainWidget.settings.active) _this.settings.mainWidget.loadLeaderboard();
      });
    }

    _this.settings.leaderboard.refreshLbDataInterval = setTimeout(function () {
      _this.leaderboardDataRefresh();
    }, _this.settings.leaderboard.refreshIntervalMillis);
  };

  this.activeDataRefresh = function (callback) {
    var _this = this;

    if (_this.settings.competition.refreshInterval) {
      clearTimeout(_this.settings.competition.refreshInterval);
    }

    _this.checkForAvailableCompetitions(function () {
      _this.updateLeaderboardNavigationCounts();

      _this.prepareActiveCompetition(function () {
        var count = _this.settings.miniScoreBoard.settings.active ? 0 : _this.settings.leaderboard.fullLeaderboardSize; // clear to not clash with LB refresh that could happen at same time

        if (_this.settings.leaderboard.refreshInterval) {
          clearTimeout(_this.settings.leaderboard.refreshInterval);
        }

        if (_this.settings.miniScoreBoard.settings.active || _this.settings.mainWidget.settings.active) {
          if (_this.settings.competition.activeCompetition !== null && typeof _this.settings.competition.activeCompetition.optinRequired === 'boolean' && !_this.settings.competition.activeCompetition.optinRequired || _this.settings.competition.activeCompetition !== null && typeof _this.settings.competition.activeCompetition.optin === 'boolean' && _this.settings.competition.activeCompetition.optin) {
            _this.getLeaderboardData(count, function (data) {
              if (_this.settings.miniScoreBoard.settings.active) _this.settings.miniScoreBoard.loadScoreBoard();
              if (_this.settings.mainWidget.settings.active) _this.settings.mainWidget.loadLeaderboard(); // re-start leaderboard refresh

              _this.leaderboardDataRefresh();

              if (typeof callback === 'function') {
                callback();
              }
            });
          } else {
            if (_this.settings.miniScoreBoard.settings.active) _this.settings.miniScoreBoard.loadScoreBoard();

            if (_this.settings.mainWidget.settings.active) {
              _this.getLeaderboardData(count, function (data) {
                _this.settings.mainWidget.loadLeaderboard();
              });
            } // restart leaderboard refresh


            _this.leaderboardDataRefresh();

            if (typeof callback === 'function') {
              callback();
            }
          }
        } else {
          if (_this.settings.miniScoreBoard.settings.active) _this.settings.miniScoreBoard.loadScoreBoard();

          if (typeof callback === 'function') {
            callback();
          }
        }
      });
    });

    _this.settings.competition.refreshInterval = setTimeout(function () {
      _this.activeDataRefresh();
    }, _this.settings.competition.refreshIntervalMillis);
  };

  this.deactivateCompetitionsAndLeaderboards = function (callback) {
    var _this = this;

    if (_this.settings.leaderboard.refreshInterval) {
      clearTimeout(_this.settings.leaderboard.refreshInterval);
    }

    _this.settings.miniScoreBoard.clearAll();

    _this.settings.mainWidget.clearAll();

    if (typeof callback === 'function') {
      callback();
    }
  };

  this.stopActivity = function (callback) {
    var _this = this;

    if (_this.settings.leaderboard.refreshInterval) {
      clearTimeout(_this.settings.leaderboard.refreshInterval);
      clearInterval(_this.settings.leaderboard.refreshInterval);
    }

    if (_this.settings.competition.refreshInterval) {
      clearTimeout(_this.settings.competition.refreshInterval);
      clearInterval(_this.settings.competition.refreshInterval);
    }

    if (_this.settings.leaderboard.refreshLbDataInterval) {
      clearTimeout(_this.settings.leaderboard.refreshLbDataInterval);
      clearInterval(_this.settings.leaderboard.refreshLbDataInterval);
    }

    if (_this.settings.miniScoreBoard.settings.updateInterval) {
      clearTimeout(_this.settings.miniScoreBoard.settings.updateInterval);
      clearInterval(_this.settings.leaderboard.refreshInterval);
    }

    if (typeof callback === 'function') {
      callback();
    }
  };

  this.restartActivity = function (callback) {
    var _this = this;

    _this.activeDataRefresh();

    _this.settings.miniScoreBoard.updateScoreBoard();

    if (typeof callback === 'function') {
      callback();
    }
  };

  this.loadMember = function (callback) {
    var _this = this;

    _this.settings.globalAjax.abort().getData({
      type: 'GET',
      url: _this.settings.uri.gatewayDomain + _this.settings.uri.members.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId),
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      success: function success(response, dataObj, xhr) {
        if (xhr.status === 200) {
          var json = JSON.parse(response);
          _this.settings.member = json.data;
          callback(json.data);
        } else {
          _this.log('failed to loadMember ' + response);
        }
      }
    });
  };

  this.loadWidgetTranslations = function (callback) {
    var _this = this;

    if (typeof _this.settings.uri.translationPath === 'string' && _this.settings.uri.translationPath.length > 0 && _this.settings.loadTranslations) {
      var url = Object(_utils_stringContains__WEBPACK_IMPORTED_MODULE_7__["default"])(_this.settings.uri.translationPath, 'http') ? _this.settings.uri.translationPath.replace(':language', _this.settings.language) : _this.settings.uri.gatewayDomain + _this.settings.uri.translationPath.replace(':language', _this.settings.language);

      _this.settings.globalAjax.abort().getData({
        type: 'GET',
        url: url,
        headers: {
          'X-API-KEY': _this.settings.apiKey
        },
        success: function success(response, dataObj, xhr) {
          if (xhr.status === 200) {
            var json = JSON.parse(response);
            _this.settings.translation = Object(_utils_mergeObjects__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.translation, json);
            callback();
          } else {
            _this.log('no translation foound ' + response);

            callback();
          }
        }
      });
    } else {
      callback();
    }
  };

  this.startup = function () {
    var _this = this;

    _this.settings.miniScoreBoard.initLayout(function () {
      _this.settings.miniScoreBoard.settings.active = true;

      _this.activeDataRefresh();

      if (_this.settings.enableNotifications) {
        _this.settings.notifications.init();

        _this.settings.canvasAnimation.init();
      }

      _this.cleanup();
    });
  };

  var _cleanupInstance;

  this.cleanup = function () {
    var _this = this;

    if (_cleanupInstance) {
      clearTimeout(_cleanupInstance);
    }

    _cleanupInstance = setTimeout(function () {
      _this.settings.mainWidget.preLoaderRerun();

      _this.cleanup();
    }, 3000);
  };

  this.loadStylesheet = function (callback) {
    var _this = this;

    var createdResources = false;
    var availableLinks = [];
    Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_8__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_9__["default"])('link'), function (link) {
      if (link !== null) {
        availableLinks.push(new URL(link.href, document.baseURI).href);
      }
    });
    Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.resources, function (resource, key, count) {
      var exists = false;
      Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_5__["default"])(availableLinks, function (link) {
        if (link === new URL(resource, document.baseURI).href) {
          exists = true;
        }
      });

      if (!exists) {
        var link = document.createElement('link');
        link.setAttribute('rel', 'stylesheet');
        link.setAttribute('type', 'text/css');
        link.setAttribute('href', resource);

        if (count === 0) {
          link.onload = function () {
            if (typeof callback === 'function') {
              callback();
            }
          };

          link.onerror = function (e) {
            if (typeof callback === 'function') {
              callback();
            }
          };
        }

        document.body.appendChild(link);
        createdResources = true;
      }
    });

    if (!createdResources && typeof callback === 'function') {
      callback();
    }
  };

  this.clickedMiniScoreBoard = function () {
    var _this = this;

    if (!_this.settings.miniScoreBoard.settings.dragging) {
      _this.deactivateCompetitionsAndLeaderboards(function () {
        _this.settings.leaderboard.leaderboardData = [];

        _this.settings.mainWidget.initLayout(function () {
          // load tournaments data
          if (_this.settings.navigation.tournaments.enable) {
            _this.activeDataRefresh();
          } // load achievement data


          if (_this.settings.navigation.achievements.enable) {
            _this.checkForAvailableAchievements(function (achievementData) {
              _this.updateAchievementNavigationCounts();
            });
          } // load initial available reward data


          if (_this.settings.navigation.rewards.enable) {
            _this.checkForAvailableRewards(function () {
              _this.updateRewardsNavigationCounts();
            });
          } // load initial available messages data


          if (_this.settings.navigation.inbox.enable) {
            _this.checkForAvailableMessages(function () {
              _this.updateMessagesNavigationCounts();
            });
          }
        });

        setTimeout(function () {
          _this.settings.miniScoreBoard.settings.container.style.display = 'none';
        }, 200);
      });
    }
  };
  /**
   * Open main widget and open specific tab and loads relevant action
   * @memberOf LbWidget
   * @param tab String
   * @param actionCallback Function
   */


  this.openWithTabAndAction = function (tab, actionCallback) {
    var _this = this;

    if (_this.settings.mainWidget.settings.active) {
      var loadTab = Object(_utils_query__WEBPACK_IMPORTED_MODULE_9__["default"])(_this.settings.mainWidget.settings.container, tab);

      _this.settings.mainWidget.navigationSwitch(loadTab, function () {
        _this.activeDataRefresh();

        if (typeof actionCallback === 'function') {
          actionCallback();
        }
      });

      setTimeout(function () {
        _this.settings.miniScoreBoard.settings.container.style.display = 'none';
      }, 200);
    } else {
      _this.deactivateCompetitionsAndLeaderboards(function () {
        _this.settings.mainWidget.initLayout(function () {
          _this.settings.mainWidget.navigationSwitch(Object(_utils_query__WEBPACK_IMPORTED_MODULE_9__["default"])(_this.settings.mainWidget.settings.container, tab), function () {
            _this.activeDataRefresh();

            if (typeof actionCallback === 'function') {
              actionCallback();
            }
          });
        });

        setTimeout(function () {
          _this.settings.miniScoreBoard.settings.container.style.display = 'none';
        }, 200);
      });
    }
  };

  var loadCompetitionListAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_16__["default"].Ajax();

  this.eventHandlers = function (el) {
    var _this = this; // mini scoreboard opt-in action


    if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-widget-ms-optin-action') && !Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'checking')) {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_11__["default"])(el, 'checking');

      _this.optInMemberToActiveCompetition(function () {
        _this.revalidateIfSuccessfullOptIn(function (competitionJson) {
          _this.settings.competition.activeCompetition = competitionJson.data; // _this.getLeaderboardData(1, function( data ){
          //  _this.settings.miniScoreBoard.loadScoreBoard( data );
          // });
          // extra action to load competition details on mini scoreboard opt-in - Product request

          _this.deactivateCompetitionsAndLeaderboards(function () {
            _this.settings.leaderboard.leaderboardData = [];

            _this.settings.mainWidget.initLayout(function () {
              _this.activeDataRefresh();

              _this.settings.mainWidget.loadCompetitionDetails(function () {});
            });

            setTimeout(function () {
              _this.settings.miniScoreBoard.settings.container.style.display = 'none';
            }, 200);
          });

          Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_12__["default"])(el, 'checking');
        });
      }); // Leaderboard details opt-in action

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-main-widget-lb-details-optin-action') && !Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'checking')) {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_11__["default"])(el, 'checking');

      _this.optInMemberToActiveCompetition(function () {
        _this.revalidateIfSuccessfullOptIn(function (competitionJson) {
          _this.settings.competition.activeCompetition = competitionJson.data;

          _this.settings.mainWidget.competitionDetailsOptInButtonState();

          Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_12__["default"])(el, 'checking');
        });
      }); // Leaderboard details opt-in action

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-main-widget-lb-optin-action') && !Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'checking')) {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_11__["default"])(el, 'checking');

      _this.optInMemberToActiveCompetition(function () {
        _this.revalidateIfSuccessfullOptIn(function (competitionJson) {
          _this.settings.competition.activeCompetition = competitionJson.data;

          _this.settings.mainWidget.loadCompetitionDetails(function () {});

          Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_12__["default"])(el, 'checking');
          el.parentNode.style.display = 'none';
        });
      }); // close mini scoreboard info area

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-widget-ms-information-close') && !Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'checking')) {
      _this.settings.miniScoreBoard.clearAll(); // close notification window

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-widget-notif-information-close') && !Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'checking')) {
      _this.settings.notifications.hideNotification(); // close leaderboard window

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-main-widget-lb-header-close') || Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-main-widget-ach-header-close') || Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-main-widget-reward-header-close') || Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-main-widget-inbox-header-close') || Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-widget-main-widget-overlay-wrapper')) {
      _this.settings.mainWidget.hide(function () {
        _this.settings.miniScoreBoard.settings.active = true;
        _this.settings.miniScoreBoard.settings.container.style.display = 'block';

        _this.activeDataRefresh();
      }); // load embedded competition details

    } else if (!_this.settings.leaderboard.layoutSettings.titleLinkToDetailsPage && (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-main-widget-lb-details-content-label') || Object(_utils_closest__WEBPACK_IMPORTED_MODULE_13__["default"])(el, '.cl-main-widget-lb-details-content-label') !== null)) {
      _this.settings.mainWidget.showEmbeddedCompetitionDetailsContent(function () {}); // hide embedded competition details

    } else if (!_this.settings.leaderboard.layoutSettings.titleLinkToDetailsPage && Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-main-widget-lb-details-description-close')) {
      _this.settings.mainWidget.hideEmbeddedCompetitionDetailsContent(function () {}); // load competition details

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-main-widget-lb-details-content-label') || Object(_utils_closest__WEBPACK_IMPORTED_MODULE_13__["default"])(el, '.cl-main-widget-lb-details-content-label') !== null) {
      if (_this.settings.competition.activeContest !== null) {
        _this.settings.mainWidget.loadCompetitionDetails(function () {});
      } // load achievement details

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-ach-list-more')) {
      _this.getAchievement(el.dataset.id, function (data) {
        _this.settings.mainWidget.loadAchievementDetails(data, function () {});
      }); // leaderboard details back button

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-main-widget-lb-details-back-btn')) {
      _this.settings.mainWidget.hideCompetitionDetails(); // achievements details back button

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-main-widget-ach-details-back-btn')) {
      _this.settings.mainWidget.hideAchievementDetails(function () {}); // rewards details back button

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-main-widget-reward-details-back-btn')) {
      _this.settings.mainWidget.hideRewardDetails(function () {}); // messages details back button

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-main-widget-inbox-details-back-btn')) {
      _this.settings.mainWidget.hideMessageDetails(function () {}); // load rewards details

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-rew-list-item') || Object(_utils_closest__WEBPACK_IMPORTED_MODULE_13__["default"])(el, '.cl-rew-list-item') !== null) {
      var rewardId = Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-rew-list-item') ? el.dataset.rewardId : Object(_utils_closest__WEBPACK_IMPORTED_MODULE_13__["default"])(el, '.cl-rew-list-item').dataset.rewardId;

      _this.getReward(rewardId, function (data) {
        _this.settings.mainWidget.loadRewardDetails(data, function () {});
      }); // load inbox details

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-inbox-list-item') || Object(_utils_closest__WEBPACK_IMPORTED_MODULE_13__["default"])(el, '.cl-inbox-list-item') !== null) {
      var messageId = Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-inbox-list-item') ? el.dataset.rewardId : Object(_utils_closest__WEBPACK_IMPORTED_MODULE_13__["default"])(el, '.cl-inbox-list-item').dataset.id;

      _this.getMessage(messageId, function (data) {
        _this.settings.mainWidget.loadMessageDetails(data, function () {});
      }); // claim reward

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-main-widget-reward-claim-btn')) {
      _this.claimReward(el.dataset.id, function (data) {
        if (data.data.claimed) {
          _this.settings.mainWidget.loadRewards();

          Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_11__["default"])(el, 'cl-claimed');
          el.innerHTML = _this.settings.translation.rewards.claimed;
        } else {
          Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_12__["default"])(el, 'cl-claimed');
          el.innerHTML = _this.settings.translation.rewards.claim;
        }
      }); // load achievement details window from notification window

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-widget-notif-information-details-wrapper') || Object(_utils_closest__WEBPACK_IMPORTED_MODULE_13__["default"])(el, '.cl-widget-notif-information-details-wrapper') !== null) {
      _this.openWithTabAndAction('.cl-main-widget-navigation-ach-icon', function () {
        var id = Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-widget-notif-information-details-wrapper') ? el.dataset.id : Object(_utils_closest__WEBPACK_IMPORTED_MODULE_13__["default"])(el, '.cl-widget-notif-information-details-wrapper').dataset.id;

        _this.settings.notifications.hideNotification();

        _this.settings.mainWidget.hideAchievementDetails(function () {
          _this.getAchievement(id, function (data) {
            _this.settings.mainWidget.loadAchievementDetails(data);
          });
        });
      }); // primary widget navigation

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-main-navigation-item')) {
      _this.settings.mainWidget.navigationSwitch(el); // competition list

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-main-widget-lb-header-list-icon')) {
      if (_this.settings.leaderboard.refreshInterval) {
        clearTimeout(_this.settings.leaderboard.refreshInterval);
      }

      _this.settings.mainWidget.loadCompetitionList(function () {
        _this.activeDataRefresh();
      }, loadCompetitionListAjax); // load competition

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-tour-list-item') || Object(_utils_closest__WEBPACK_IMPORTED_MODULE_13__["default"])(el, '.cl-tour-list-item') !== null) {
      var tournamentId = Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-tour-list-item') ? el.dataset.id : Object(_utils_closest__WEBPACK_IMPORTED_MODULE_13__["default"])(el, '.cl-tour-list-item').dataset.id;

      var preLoader = _this.settings.mainWidget.preloader();

      preLoader.show(function () {
        _this.settings.mainWidget.settings.active = true;
        _this.settings.tournaments.activeCompetitionId = tournamentId;

        _this.activeDataRefresh(function () {
          _this.settings.mainWidget.hideCompetitionList(function () {
            if (!_this.settings.leaderboard.layoutSettings.titleLinkToDetailsPage) {
              _this.settings.mainWidget.showEmbeddedCompetitionDetailsContent(function () {});
            } else if (_this.settings.competition.activeContest !== null) {
              _this.settings.mainWidget.loadCompetitionDetails(function () {});
            }

            preLoader.hide();
          });
        });
      }); // hide competition list view
    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-main-widget-tournaments-back-btn')) {
      _this.settings.mainWidget.hideCompetitionList(); // mini scoreboard action to open primary widget

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-widget-ms-icon-wrapper') || Object(_utils_closest__WEBPACK_IMPORTED_MODULE_13__["default"])(el, '.cl-widget-ms-icon-wrapper') !== null || Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-widget-ms-information-wrapper') || Object(_utils_closest__WEBPACK_IMPORTED_MODULE_13__["default"])(el, '.cl-widget-ms-information-wrapper') !== null) {
      _this.clickedMiniScoreBoard(); // accordion navigation

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-accordion-label')) {
      _this.settings.mainWidget.accordionNavigation(el);
    }
  };

  this.eventListeners = function () {
    var _this = this;

    document.body.addEventListener('keyup', function (event) {
      switch (event.keyCode) {
        case 27:
          // on escape
          if (_this.settings.mainWidget.settings.active) {
            _this.settings.mainWidget.hide(function () {
              _this.settings.miniScoreBoard.settings.active = true;
              _this.settings.miniScoreBoard.settings.container.style.display = 'block';

              _this.activeDataRefresh();
            });
          }

          break;
      }
    });

    if (_this.isMobile()) {
      document.body.addEventListener('touchend', function (event) {
        var el = event.target;

        if (!_this.settings.miniScoreBoard.settings.dragging) {
          _this.eventHandlers(el);
        }
      });
    } else {
      document.body.addEventListener('click', function (event) {
        var el = event.target;

        _this.eventHandlers(el);
      });
    }
  };

  this.closeEverything = function () {
    var _this = this;

    _this.deactivateCompetitionsAndLeaderboards(function () {
      _this.settings.leaderboard.leaderboardData = [];
      setTimeout(function () {
        _this.settings.miniScoreBoard.settings.container.style.display = 'none';
      }, 200);
    });

    _this.settings.mainWidget.hide();

    _this.settings.mainWidget.settings.preLoader.preLoaderActive = false;
  };

  this.restart = function () {
    var _this = this;

    _this.settings.mainWidget.hide(function () {
      _this.deactivateCompetitionsAndLeaderboards(function () {
        _this.stopActivity(function () {
          _this.settings.miniScoreBoard.settings.active = true;
          _this.settings.miniScoreBoard.settings.container.style.display = 'block';

          _this.startup();
        });
      });
    });
  };

  this.isMobile = function () {
    return Object(_utils_isMobileTablet__WEBPACK_IMPORTED_MODULE_14__["default"])();
  };

  this.applyAppearance = function () {
    var _this2 = this;

    if (this.settings.styles) {
      var styles = Object.keys(this.settings.styles).reduce(function (accumulator, currentValue) {
        return _objectSpread(_objectSpread({}, accumulator), {}, _defineProperty({}, "--lb3-".concat(Object(_utils_camelToKebabCase__WEBPACK_IMPORTED_MODULE_15__["default"])(currentValue)), _this2.settings.styles[currentValue]));
      }, {});
      Object(css_vars_ponyfill__WEBPACK_IMPORTED_MODULE_3__["default"])({
        include: 'link[rel=stylesheet],style',
        watch: true,
        onlyLegacy: false,
        variables: _objectSpread({}, styles)
      });
    }
  };
  /**
   * Init LbWidget method
   * @method
   * @memberOf LbWidget
   * @return {undefined}
   */


  this.init = function () {
    var _this3 = this;

    this.loadStylesheet(function () {
      _this3.applyAppearance();

      _this3.loadMember(function (member) {
        _this3.loadWidgetTranslations(function () {
          if (_this3.settings.miniScoreBoard === null) {
            _this3.settings.canvasAnimation = new _CanvasAnimation__WEBPACK_IMPORTED_MODULE_21__["CanvasAnimation"]();
            _this3.settings.notifications = new _Notifications__WEBPACK_IMPORTED_MODULE_18__["Notifications"]({
              canvasInstance: _this3.settings.canvasAnimation
            });
            _this3.settings.miniScoreBoard = new _MiniScoreBoard__WEBPACK_IMPORTED_MODULE_19__["MiniScoreBoard"]({
              active: true
            });
            _this3.settings.mainWidget = new _MainWidget__WEBPACK_IMPORTED_MODULE_20__["MainWidget"]();
            _this3.settings.notifications.settings.lbWidget = _this3;
            _this3.settings.miniScoreBoard.settings.lbWidget = _this3;
            _this3.settings.mainWidget.settings.lbWidget = _this3;
            _this3.settings.canvasAnimation.settings.lbWidget = _this3;

            _this3.startup();

            _this3.eventListeners();
          } else {
            _this3.settings.mainWidget.hide(function () {
              _this3.deactivateCompetitionsAndLeaderboards(function () {
                _this3.settings.miniScoreBoard.settings.active = true;
                _this3.settings.miniScoreBoard.settings.container.style.display = 'block';

                _this3.startup();
              });
            });
          }
        });
      });
    });
  };

  if (this.settings.autoStart) {
    this.init();
  }
};

/***/ }),

/***/ "./src/javascript/modules/MainWidget.js":
/*!**********************************************!*\
  !*** ./src/javascript/modules/MainWidget.js ***!
  \**********************************************/
/*! exports provided: MainWidget */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MainWidget", function() { return MainWidget; });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils_mapObject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/mapObject */ "./src/javascript/utils/mapObject.js");
/* harmony import */ var _utils_hasClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/hasClass */ "./src/javascript/utils/hasClass.js");
/* harmony import */ var _utils_removeClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/removeClass */ "./src/javascript/utils/removeClass.js");
/* harmony import */ var _utils_objectIterator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/objectIterator */ "./src/javascript/utils/objectIterator.js");
/* harmony import */ var _utils_query__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/query */ "./src/javascript/utils/query.js");
/* harmony import */ var _utils_closest__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/closest */ "./src/javascript/utils/closest.js");
/* harmony import */ var _utils_addClass__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/addClass */ "./src/javascript/utils/addClass.js");
/* harmony import */ var _utils_remove__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/remove */ "./src/javascript/utils/remove.js");
/* harmony import */ var _utils_appendNext__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/appendNext */ "./src/javascript/utils/appendNext.js");
/* harmony import */ var _utils_stripHtml__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils/stripHtml */ "./src/javascript/utils/stripHtml.js");











/**
 * MainWidget
 * @param options {Object}
 * @constructor
 */

var MainWidget = function MainWidget(options) {
  /**
   * MainWidget settings
   * @memberOf MainWidget
   * @constant
   * @type { Object }
   */
  this.settings = {
    lbWidget: null,
    container: null,
    overlayContainer: null,
    navigation: null,
    section: null,
    detailsContainer: null,
    tournamentListContainer: null,
    headerDate: null,
    labelDate: null,
    preLoader: {
      preLoaderActive: false,
      preLoaderlastAttempt: null,
      preloaderCallbackRecovery: function preloaderCallbackRecovery() {}
    },
    achievement: {
      container: null,
      detailsContainer: null
    },
    reward: {
      container: null,
      detailsContainer: null
    },
    messages: {
      container: null,
      detailsContainer: null
    },
    leaderboard: {
      defaultEmptyList: 20,
      topResultSize: 3,
      header: null,
      container: null,
      resultContainer: null,
      list: null,
      topResults: null,
      timerInterval: null
    },
    tournamentsSection: {
      accordionLayout: [{
        label: 'Upcoming Tournaments',
        type: 'readyCompetitions',
        show: false,
        showTopResults: 1
      }, {
        label: 'Active Tournaments',
        type: 'activeCompetitions',
        show: true,
        showTopResults: 1
      }, {
        label: 'Finished Tournaments',
        type: 'finishedCompetitions',
        show: false,
        showTopResults: 1
      }]
    },
    rewardsSection: {
      accordionLayout: [{
        label: 'Available Rewards',
        type: 'availableRewards',
        show: true,
        showTopResults: 1
      }, {
        label: 'Claimed Rewards',
        type: 'rewards',
        show: false,
        showTopResults: 1
      }, {
        label: 'Expired Rewards',
        type: 'expiredRewards',
        show: false,
        showTopResults: 1
      }]
    },
    active: false,
    navigationSwitchLastAtempt: new Date().getTime(),
    navigationSwitchInProgress: false
  };

  if (typeof options !== 'undefined') {
    for (var opt in options) {
      if (options.hasOwnProperty(opt)) {
        this.settings[opt] = options[opt];
      }
    }
  }
  /**
   * Accordion style layout
   * - parameters:
   *      - label: String "Available rewards"
   *      - type: String "available-rewards"
   *      - shown: Boolean true/false
   *
   * @memberOf MainWidget
   * @param data { Array }
   * @param onLayout { Function }
   */


  this.accordionStyle = function (data, onLayout) {
    var _this = this;

    var accordionWrapper = document.createElement('div');
    accordionWrapper.setAttribute('class', 'cl-main-accordion-container');
    Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_1__["default"])(data, function (entry) {
      var accordionSection = document.createElement('div');
      var accordionLabel = document.createElement('div');
      var topShownEntry = document.createElement('div');
      var accordionListContainer = document.createElement('div');
      var accordionList = document.createElement('div');
      accordionSection.setAttribute('class', 'cl-accordion ' + entry.type + (typeof entry.show === 'boolean' && entry.show ? ' cl-shown' : ''));
      accordionLabel.setAttribute('class', 'cl-accordion-label');
      topShownEntry.setAttribute('class', 'cl-accordion-entry');
      accordionListContainer.setAttribute('class', 'cl-accordion-list-container');
      accordionList.setAttribute('class', 'cl-accordion-list');

      if (typeof _this.settings.lbWidget.settings.translation.rewards[entry.type] !== 'undefined') {
        accordionLabel.innerHTML = _this.settings.lbWidget.settings.translation.rewards[entry.type];
      } else if (typeof _this.settings.lbWidget.settings.translation.tournaments[entry.type] !== 'undefined') {
        accordionLabel.innerHTML = _this.settings.lbWidget.settings.translation.tournaments[entry.type];
      } else {
        accordionLabel.innerHTML = entry.label;
      }

      if (typeof onLayout === 'function') {
        onLayout(accordionSection, accordionList, topShownEntry, entry);
      }

      accordionListContainer.appendChild(accordionList);
      accordionSection.appendChild(accordionLabel);
      accordionSection.appendChild(topShownEntry);
      accordionSection.appendChild(accordionListContainer);
      accordionWrapper.appendChild(accordionSection);
    });
    return accordionWrapper;
  };

  this.accordionNavigation = function (element) {
    // var _this = this;
    var parentEl = element.parentNode;

    if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_2__["default"])(parentEl, 'cl-shown')) {
      Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_3__["default"])(parentEl, 'cl-shown');
    } else {
      Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_4__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(Object(_utils_closest__WEBPACK_IMPORTED_MODULE_6__["default"])(parentEl, '.cl-main-accordion-container'), '.cl-shown'), function (obj) {
        Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_3__["default"])(obj, 'cl-shown');
      });
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_7__["default"])(parentEl, 'cl-shown');
    }
  };

  this.navigationSorter = function (a, b) {
    if (a.order < b.order) {
      return -1;
    }

    if (a.order > b.order) {
      return 1;
    }

    return 0;
  };

  this.navigationItems = function (container, navigationList) {
    var _this = this;

    Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_1__["default"])(navigationList, function (val, key) {
      var navigationItem = document.createElement('div');
      var navigationItemIcon = document.createElement('div');
      var navigationItemCount = document.createElement('div');
      navigationItem.setAttribute('class', _this.settings.lbWidget.settings.navigation[val.key].navigationClass + ' cl-main-widget-navigation-item' + (_this.settings.lbWidget.settings.navigation[val.key].enable ? '' : ' cl-hidden-navigation-item'));
      navigationItemIcon.setAttribute('class', _this.settings.lbWidget.settings.navigation[val.key].navigationClassIcon + ' cl-main-navigation-item');
      navigationItemCount.setAttribute('class', 'cl-main-navigation-item-count');
      navigationItemIcon.appendChild(navigationItemCount);
      navigationItem.appendChild(navigationItemIcon);
      container.appendChild(navigationItem);
    });
  };

  this.overlayLayout = function () {
    var wrapper = document.createElement('div');
    wrapper.setAttribute('class', 'cl-widget-main-widget-overlay-wrapper');
    return wrapper;
  };

  this.layout = function () {
    var _this = this;

    var wrapper = document.createElement('div');
    var innerWrapper = document.createElement('div');
    var navigationContainer = document.createElement('div');
    var navigationItems = document.createElement('div');
    var mainSectionContainer = document.createElement('div');
    var preLoaderContainer = document.createElement('div');
    var preLoaderContent = document.createElement('div');
    var preLoaderBar1 = document.createElement('div');
    var preLoaderBar2 = document.createElement('div');
    var preLoaderBar3 = document.createElement('div');

    var sectionLB = _this.leaderboardAreaLayout();

    var sectionACH = _this.achievementsAreaLayout();

    var sectionRewards = _this.rewardsAreaLayout();

    var sectionInbox = _this.inboxAreaLayout();

    var navigationItemList = [];
    Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.lbWidget.settings.navigation, function (val, key) {
      navigationItemList.push({
        key: key,
        order: parseInt(val.order)
      });
    });

    _this.navigationItems(navigationItems, navigationItemList); // populate sorted navigation


    wrapper.setAttribute('class', 'cl-main-widget-wrapper');
    innerWrapper.setAttribute('class', 'cl-main-widget-inner-wrapper');
    navigationContainer.setAttribute('class', 'cl-main-widget-navigation-container');
    navigationItems.setAttribute('class', 'cl-main-widget-navigation-items');
    mainSectionContainer.setAttribute('class', 'cl-main-widget-section-container' + (_this.settings.lbWidget.settings.showCopyright ? '' : ' cl-hidden-copyright'));
    preLoaderContainer.setAttribute('class', 'cl-main-widget-pre-loader');
    preLoaderContent.setAttribute('class', 'cl-main-widget-pre-loader-content');
    preLoaderBar1.setAttribute('class', 'cl-pre-loader-bar');
    preLoaderBar2.setAttribute('class', 'cl-pre-loader-bar');
    preLoaderBar3.setAttribute('class', 'cl-pre-loader-bar');
    preLoaderContent.appendChild(preLoaderBar1);
    preLoaderContent.appendChild(preLoaderBar2);
    preLoaderContent.appendChild(preLoaderBar3);
    preLoaderContainer.appendChild(preLoaderContent);
    navigationContainer.appendChild(navigationItems);
    mainSectionContainer.appendChild(sectionLB);
    mainSectionContainer.appendChild(sectionACH);
    mainSectionContainer.appendChild(sectionRewards);
    mainSectionContainer.appendChild(sectionInbox);
    mainSectionContainer.appendChild(preLoaderContainer);
    innerWrapper.appendChild(navigationContainer);
    innerWrapper.appendChild(mainSectionContainer);
    wrapper.appendChild(innerWrapper);
    return wrapper;
  };

  this.mainNavigationCheck = function () {
    var _this = this;

    var navItems = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.container, '.cl-main-widget-navigation-item');
    var checkEnabled = 0;
    Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_4__["default"])(navItems, function (navItem) {
      if (!Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_2__["default"])(navItem, 'cl-hidden-navigation-item')) {
        checkEnabled++;
      }
    });

    if (checkEnabled === 1) {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_7__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.container, '.cl-main-widget-inner-wrapper'), 'cl-hidden-navigation');
    } else if (checkEnabled === 0) {
      _this.settings.lbWidget.log('All navigation items disabled, check [this.settings.lbWidget.settings.navigation]');
    }
  };

  this.leaderboardAreaLayout = function () {
    var _this = this;

    var sectionLB = document.createElement('div');
    var sectionLBHeader = document.createElement('div');
    var sectionLBHeaderList = document.createElement('div');
    var sectionLBHeaderListIcon = document.createElement('div');
    var sectionLBHeaderLabel = document.createElement('div');
    var sectionLBHeaderDate = document.createElement('div');
    var sectionLBHeaderClose = document.createElement('div');
    var sectionLBDetails = document.createElement('div');
    var sectionLBDetailsInfo = document.createElement('div');
    var sectionLBDetailsInfoIcon = document.createElement('div');
    var sectionLBDetailsImageContainer = document.createElement('div');
    var sectionLBDetailsContentContainer = document.createElement('div');
    var sectionLBDetailsContentContainerLabel = document.createElement('div');
    var sectionLBDetailsContentContainerLabelText = document.createElement('span');
    var sectionLBDetailsContentContainerDate = document.createElement('span');
    var sectionLBDetailsDescriptionContainer = document.createElement('div');
    var sectionLBDetailsDescription = document.createElement('div');
    var sectionLBDetailsDescriptionClose = document.createElement('span');
    var sectionLBLeaderboard = document.createElement('div');
    var sectionLBLeaderboardHeader = document.createElement('div');
    var sectionLBLeaderboardHeaderLabels = document.createElement('div');
    var sectionLBLeaderboardResultsContainer = document.createElement('div');
    var sectionLBLeaderboardHeaderTopResults = document.createElement('div');
    var sectionLBLeaderboardBody = document.createElement('div');
    var sectionLBLeaderboardBodyResults = document.createElement('div');
    var sectionLBMissingMember = document.createElement('div');
    var sectionLBOptInContainer = document.createElement('div');
    var sectionLBOptInAction = document.createElement('a');
    var sectionLBFooter = document.createElement('div');
    var sectionLBFooterContent = document.createElement('div');
    var sectionTournamentDetailsContainer = document.createElement('div');
    var sectionTournamentDetailsHeader = document.createElement('div');
    var sectionTournamentDetailsHeaderLabel = document.createElement('div');
    var sectionTournamentDetailsHeaderDate = document.createElement('div');
    var sectionTournamentDetailsBackBtn = document.createElement('a');
    var sectionTournamentDetailsBodyContainer = document.createElement('div');
    var sectionTournamentDetailsBodyImageContainer = document.createElement('div');
    var sectionTournamentDetailsBody = document.createElement('div');
    var sectionTournamentDetailsOptInContainer = document.createElement('div');
    var sectionTournamentDetailsOptInAction = document.createElement('a');
    var sectionTournamentList = document.createElement('div');
    var sectionTournamentListBody = document.createElement('div');
    var sectionTournamentListBodyResults = document.createElement('div');
    var sectionTournamentBackAction = document.createElement('a');
    sectionLB.setAttribute('class', _this.settings.lbWidget.settings.navigation.tournaments.containerClass + ' cl-main-section-item cl-main-active-section' + (_this.settings.lbWidget.settings.leaderboard.layoutSettings.imageBanner ? ' cl-main-section-image-banner-active' : ''));
    sectionLBHeader.setAttribute('class', 'cl-main-widget-lb-header');
    sectionLBHeaderList.setAttribute('class', 'cl-main-widget-lb-header-list');
    sectionLBHeaderListIcon.setAttribute('class', 'cl-main-widget-lb-header-list-icon');
    sectionLBHeaderLabel.setAttribute('class', 'cl-main-widget-lb-header-label');
    sectionLBHeaderDate.setAttribute('class', 'cl-main-widget-lb-header-date');
    sectionLBHeaderClose.setAttribute('class', 'cl-main-widget-lb-header-close');
    sectionLBDetails.setAttribute('class', 'cl-main-widget-lb-details');
    sectionLBDetailsInfo.setAttribute('class', 'cl-main-widget-lb-details-info');
    sectionLBDetailsInfoIcon.setAttribute('class', 'cl-main-widget-lb-details-info-icon');
    sectionLBDetailsImageContainer.setAttribute('class', 'cl-main-widget-lb-details-image-container');
    sectionLBDetailsContentContainer.setAttribute('class', 'cl-main-widget-lb-details-content');
    sectionLBDetailsContentContainerLabel.setAttribute('class', 'cl-main-widget-lb-details-content-label');
    sectionLBDetailsContentContainerLabelText.setAttribute('class', 'cl-main-widget-lb-details-content-label-text');
    sectionLBDetailsContentContainerDate.setAttribute('class', 'cl-main-widget-lb-details-content-date');
    sectionLBDetailsDescriptionContainer.setAttribute('class', 'cl-main-widget-lb-details-description-container');
    sectionLBDetailsDescription.setAttribute('class', 'cl-main-widget-lb-details-description');
    sectionLBDetailsDescriptionClose.setAttribute('class', 'cl-main-widget-lb-details-description-close'); // Leaderboard result container

    sectionLBLeaderboard.setAttribute('class', 'cl-main-widget-lb-leaderboard');
    sectionLBLeaderboardHeader.setAttribute('class', 'cl-main-widget-lb-leaderboard-header');
    sectionLBLeaderboardHeaderLabels.setAttribute('class', 'cl-main-widget-lb-leaderboard-header-labels');
    sectionLBLeaderboardResultsContainer.setAttribute('class', 'cl-main-widget-lb-leaderboard-res-container');
    sectionLBLeaderboardHeaderTopResults.setAttribute('class', 'cl-main-widget-lb-leaderboard-header-top-res');
    sectionLBLeaderboardBody.setAttribute('class', 'cl-main-widget-lb-leaderboard-body');
    sectionLBLeaderboardBodyResults.setAttribute('class', 'cl-main-widget-lb-leaderboard-body-res');
    sectionLBMissingMember.setAttribute('class', 'cl-main-widget-lb-missing-member'); // footer

    sectionLBFooter.setAttribute('class', 'cl-main-widget-lb-footer');
    sectionLBFooterContent.setAttribute('class', 'cl-main-widget-lb-footer-content'); // details section

    sectionTournamentDetailsContainer.setAttribute('class', 'cl-main-widget-lb-details-container');
    sectionTournamentDetailsHeader.setAttribute('class', 'cl-main-widget-lb-details-header');
    sectionTournamentDetailsHeaderLabel.setAttribute('class', 'cl-main-widget-lb-details-header-label');
    sectionTournamentDetailsHeaderDate.setAttribute('class', 'cl-main-widget-lb-details-header-date');
    sectionTournamentDetailsBackBtn.setAttribute('class', 'cl-main-widget-lb-details-back-btn');
    sectionTournamentDetailsBodyContainer.setAttribute('class', 'cl-main-widget-lb-details-body-container');
    sectionTournamentDetailsBodyImageContainer.setAttribute('class', 'cl-main-widget-lb-details-body-image-cont');
    sectionTournamentDetailsBody.setAttribute('class', 'cl-main-widget-lb-details-body');
    sectionTournamentDetailsOptInContainer.setAttribute('class', 'cl-main-widget-lb-details-optin-container');
    sectionTournamentDetailsOptInAction.setAttribute('class', 'cl-main-widget-lb-details-optin-action');
    sectionTournamentList.setAttribute('class', 'cl-main-widget-tournaments-list');
    sectionTournamentBackAction.setAttribute('class', 'cl-main-widget-tournaments-back-btn');
    sectionTournamentListBody.setAttribute('class', 'cl-main-widget-tournaments-list-body');
    sectionTournamentListBodyResults.setAttribute('class', 'cl-main-widget-tournaments-list-body-res');
    sectionLBOptInContainer.setAttribute('class', 'cl-main-widget-lb-optin-container');
    sectionLBOptInAction.setAttribute('class', 'cl-main-widget-lb-optin-action');
    sectionLBHeaderLabel.innerHTML = _this.settings.lbWidget.settings.translation.tournaments.label;
    sectionLBFooterContent.innerHTML = _this.settings.lbWidget.settings.translation.global.copy;
    sectionTournamentDetailsOptInAction.innerHTML = _this.settings.lbWidget.settings.translation.tournaments.enter;
    sectionTournamentDetailsOptInAction.href = 'javascript:void(0);';
    sectionLBOptInAction.innerHTML = _this.settings.lbWidget.settings.translation.tournaments.enter;
    sectionLBOptInAction.href = 'javascript:void(0);';
    sectionLBHeaderList.appendChild(sectionLBHeaderListIcon);
    sectionLBHeader.appendChild(sectionLBHeaderList);
    sectionLBHeader.appendChild(sectionLBHeaderLabel);
    sectionLBHeader.appendChild(sectionLBHeaderDate);
    sectionLBHeader.appendChild(sectionLBHeaderClose);
    sectionLBDetailsInfo.appendChild(sectionLBDetailsInfoIcon);
    sectionLBDetailsContentContainerLabel.appendChild(sectionLBDetailsContentContainerLabelText);
    sectionLBDetailsContentContainerLabel.appendChild(sectionLBDetailsContentContainerDate);
    sectionLBDetailsContentContainer.appendChild(sectionLBDetailsContentContainerLabel);
    sectionLBDetails.appendChild(sectionLBDetailsInfo);

    if (_this.settings.lbWidget.settings.leaderboard.layoutSettings.imageBanner) {
      sectionLBDetails.appendChild(sectionLBDetailsImageContainer);
    }

    sectionLBDetails.appendChild(sectionLBDetailsContentContainer);

    if (!_this.settings.lbWidget.settings.leaderboard.layoutSettings.titleLinkToDetailsPage) {
      sectionLBDetailsDescriptionContainer.appendChild(sectionLBDetailsDescription);
      sectionLBDetailsDescriptionContainer.appendChild(sectionLBDetailsDescriptionClose);
      sectionLBDetails.appendChild(sectionLBDetailsDescriptionContainer);
    }

    sectionLBLeaderboardHeader.appendChild(sectionLBLeaderboardHeaderLabels);
    sectionLBLeaderboard.appendChild(sectionLBLeaderboardHeader); // sectionLBLeaderboard.appendChild(sectionLBLeaderboardHeaderTopResults);
    // sectionLBLeaderboardBody.appendChild(sectionLBLeaderboardBodyResults);
    // sectionLBLeaderboard.appendChild(sectionLBLeaderboardBody);

    sectionLBLeaderboardResultsContainer.appendChild(sectionLBLeaderboardHeaderTopResults);
    sectionLBLeaderboardBody.appendChild(sectionLBLeaderboardBodyResults);
    sectionLBLeaderboardResultsContainer.appendChild(sectionLBLeaderboardBody);
    sectionLBLeaderboard.appendChild(sectionLBLeaderboardResultsContainer);
    sectionLBFooter.appendChild(sectionLBFooterContent);
    sectionTournamentListBody.appendChild(sectionTournamentListBodyResults);
    sectionTournamentList.appendChild(sectionTournamentListBody);
    sectionTournamentList.appendChild(sectionTournamentBackAction);
    sectionTournamentDetailsHeader.appendChild(sectionTournamentDetailsHeaderLabel);
    sectionTournamentDetailsHeader.appendChild(sectionTournamentDetailsHeaderDate);
    sectionTournamentDetailsContainer.appendChild(sectionTournamentDetailsHeader);
    sectionTournamentDetailsContainer.appendChild(sectionTournamentDetailsBackBtn);
    sectionTournamentDetailsBodyContainer.appendChild(sectionTournamentDetailsBodyImageContainer);
    sectionTournamentDetailsBodyContainer.appendChild(sectionTournamentDetailsBody);
    sectionTournamentDetailsContainer.appendChild(sectionTournamentDetailsBodyContainer);
    sectionTournamentDetailsOptInContainer.appendChild(sectionTournamentDetailsOptInAction);
    sectionTournamentDetailsContainer.appendChild(sectionTournamentDetailsOptInContainer);
    sectionLBOptInContainer.appendChild(sectionLBOptInAction);
    sectionLB.appendChild(sectionLBHeader);
    sectionLB.appendChild(sectionLBDetails);
    sectionLB.appendChild(sectionLBLeaderboard);
    sectionLB.appendChild(sectionLBMissingMember);
    sectionLB.appendChild(sectionLBOptInContainer);
    sectionLB.appendChild(sectionLBFooter);
    sectionLB.appendChild(sectionTournamentDetailsContainer);
    sectionLB.appendChild(sectionTournamentList);
    return sectionLB;
  };

  this.achievementsAreaLayout = function () {
    var _this = this;

    var sectionACH = document.createElement('div');
    var sectionACHHeader = document.createElement('div');
    var sectionACHHeaderLabel = document.createElement('div');
    var sectionACHHeaderDate = document.createElement('div');
    var sectionACHHeaderClose = document.createElement('div');
    var sectionACHDetails = document.createElement('div');
    var sectionACHDetailsInfo = document.createElement('div');
    var sectionACHDetailsInfoIcon = document.createElement('div');
    var sectionACHDetailsContentContainer = document.createElement('div');
    var sectionACHDetailsContentContainerLabel = document.createElement('div');
    var sectionACHDetailsContentContainerDate = document.createElement('div');
    var sectionACHList = document.createElement('div');
    var sectionACHListBody = document.createElement('div');
    var sectionACHListBodyResults = document.createElement('div');
    var sectionACHFooter = document.createElement('div');
    var sectionACHFooterContent = document.createElement('div');
    var sectionAchievementDetailsContainer = document.createElement('div');
    var sectionAchievementDetailsHeader = document.createElement('div');
    var sectionAchievementDetailsHeaderLabel = document.createElement('div');
    var sectionAchievementDetailsHeaderDate = document.createElement('div');
    var sectionAchievementDetailsBackBtn = document.createElement('a');
    var sectionAchievementDetailsBodyContainer = document.createElement('div');
    var sectionAchievementDetailsBodyImageContainer = document.createElement('div');
    var sectionAchievementDetailsBody = document.createElement('div');
    sectionACH.setAttribute('class', _this.settings.lbWidget.settings.navigation.achievements.containerClass + ' cl-main-section-item');
    sectionACHHeader.setAttribute('class', 'cl-main-widget-ach-header');
    sectionACHHeaderLabel.setAttribute('class', 'cl-main-widget-ach-header-label');
    sectionACHHeaderDate.setAttribute('class', 'cl-main-widget-ach-header-date');
    sectionACHHeaderClose.setAttribute('class', 'cl-main-widget-ach-header-close');
    sectionACHDetails.setAttribute('class', 'cl-main-widget-ach-details');
    sectionACHDetailsInfo.setAttribute('class', 'cl-main-widget-ach-details-info');
    sectionACHDetailsInfoIcon.setAttribute('class', 'cl-main-widget-ach-details-info-icon');
    sectionACHDetailsContentContainer.setAttribute('class', 'cl-main-widget-ach-details-content');
    sectionACHDetailsContentContainerLabel.setAttribute('class', 'cl-main-widget-ach-details-content-label');
    sectionACHDetailsContentContainerDate.setAttribute('class', 'cl-main-widget-ach-details-content-date'); // Leaderboard result container

    sectionACHList.setAttribute('class', 'cl-main-widget-ach-list');
    sectionACHListBody.setAttribute('class', 'cl-main-widget-ach-list-body');
    sectionACHListBodyResults.setAttribute('class', 'cl-main-widget-ach-list-body-res'); // footer

    sectionACHFooter.setAttribute('class', 'cl-main-widget-ach-footer');
    sectionACHFooterContent.setAttribute('class', 'cl-main-widget-ach-footer-content'); // details section

    sectionAchievementDetailsContainer.setAttribute('class', 'cl-main-widget-ach-details-container');
    sectionAchievementDetailsHeader.setAttribute('class', 'cl-main-widget-ach-details-header');
    sectionAchievementDetailsHeaderLabel.setAttribute('class', 'cl-main-widget-ach-details-header-label');
    sectionAchievementDetailsHeaderDate.setAttribute('class', 'cl-main-widget-ach-details-header-date');
    sectionAchievementDetailsBackBtn.setAttribute('class', 'cl-main-widget-ach-details-back-btn');
    sectionAchievementDetailsBodyContainer.setAttribute('class', 'cl-main-widget-ach-details-body-container');
    sectionAchievementDetailsBodyImageContainer.setAttribute('class', 'cl-main-widget-ach-details-body-image-cont');
    sectionAchievementDetailsBody.setAttribute('class', 'cl-main-widget-ach-details-body');
    sectionACHHeaderLabel.innerHTML = _this.settings.lbWidget.settings.translation.achievements.label;
    sectionACHFooterContent.innerHTML = _this.settings.lbWidget.settings.translation.global.copy;
    sectionAchievementDetailsHeader.appendChild(sectionAchievementDetailsHeaderLabel);
    sectionAchievementDetailsHeader.appendChild(sectionAchievementDetailsHeaderDate);
    sectionAchievementDetailsContainer.appendChild(sectionAchievementDetailsHeader);
    sectionAchievementDetailsContainer.appendChild(sectionAchievementDetailsBackBtn);
    sectionAchievementDetailsBodyContainer.appendChild(sectionAchievementDetailsBodyImageContainer);
    sectionAchievementDetailsBodyContainer.appendChild(sectionAchievementDetailsBody);
    sectionAchievementDetailsContainer.appendChild(sectionAchievementDetailsBodyContainer);
    sectionACHHeader.appendChild(sectionACHHeaderLabel);
    sectionACHHeader.appendChild(sectionACHHeaderDate);
    sectionACHHeader.appendChild(sectionACHHeaderClose);
    sectionACHDetailsInfo.appendChild(sectionACHDetailsInfoIcon);
    sectionACHDetailsContentContainer.appendChild(sectionACHDetailsContentContainerLabel);
    sectionACHDetailsContentContainer.appendChild(sectionACHDetailsContentContainerDate);
    sectionACHDetails.appendChild(sectionACHDetailsInfo);
    sectionACHDetails.appendChild(sectionACHDetailsContentContainer);
    sectionACHListBody.appendChild(sectionACHListBodyResults);
    sectionACHList.appendChild(sectionACHListBody);
    sectionACHFooter.appendChild(sectionACHFooterContent);
    sectionACH.appendChild(sectionACHHeader);
    sectionACH.appendChild(sectionACHDetails);
    sectionACH.appendChild(sectionACHList);
    sectionACH.appendChild(sectionACHFooter);
    sectionACH.appendChild(sectionAchievementDetailsContainer);
    return sectionACH;
  };

  this.rewardsAreaLayout = function () {
    var _this = this;

    var sectionRewards = document.createElement('div');
    var sectionRewardsHeader = document.createElement('div');
    var sectionRewardsHeaderLabel = document.createElement('div');
    var sectionRewardsHeaderDate = document.createElement('div');
    var sectionRewardsHeaderClose = document.createElement('div');
    var sectionRewardsDetails = document.createElement('div');
    var sectionRewardsDetailsInfo = document.createElement('div');
    var sectionRewardsDetailsInfoIcon = document.createElement('div');
    var sectionRewardsDetailsContentContainer = document.createElement('div');
    var sectionRewardsDetailsContentContainerLabel = document.createElement('div');
    var sectionRewardsDetailsContentContainerDate = document.createElement('div');
    var sectionRewardsList = document.createElement('div');
    var sectionRewardsListBody = document.createElement('div');
    var sectionRewardsListBodyResults = document.createElement('div');
    var sectionRewardsFooter = document.createElement('div');
    var sectionRewardsFooterContent = document.createElement('div');
    var sectionRewardsDetailsContainer = document.createElement('div');
    var sectionRewardsDetailsHeader = document.createElement('div');
    var sectionRewardsDetailsHeaderLabel = document.createElement('div');
    var sectionRewardsDetailsHeaderDate = document.createElement('div');
    var sectionRewardsDetailsBackBtn = document.createElement('a');
    var sectionRewardsDetailsBodyContainer = document.createElement('div');
    var sectionRewardsDetailsBodyImageContainer = document.createElement('div');
    var sectionRewardsDetailsBody = document.createElement('div');
    var sectionRewardsWinningsContainer = document.createElement('div');
    var sectionRewardsWinningsIcon = document.createElement('div');
    var sectionRewardsWinningsValue = document.createElement('div');
    var sectionRewardsClaimContainer = document.createElement('div');
    var sectionRewardsClaimBtn = document.createElement('a');
    sectionRewards.setAttribute('class', _this.settings.lbWidget.settings.navigation.rewards.containerClass + ' cl-main-section-item');
    sectionRewardsHeader.setAttribute('class', 'cl-main-widget-reward-header');
    sectionRewardsHeaderLabel.setAttribute('class', 'cl-main-widget-reward-header-label');
    sectionRewardsHeaderDate.setAttribute('class', 'cl-main-widget-reward-header-date');
    sectionRewardsHeaderClose.setAttribute('class', 'cl-main-widget-reward-header-close');
    sectionRewardsDetails.setAttribute('class', 'cl-main-widget-reward-details');
    sectionRewardsDetailsInfo.setAttribute('class', 'cl-main-widget-reward-details-info');
    sectionRewardsDetailsInfoIcon.setAttribute('class', 'cl-main-widget-reward-details-info-icon');
    sectionRewardsDetailsContentContainer.setAttribute('class', 'cl-main-widget-reward-details-content');
    sectionRewardsDetailsContentContainerLabel.setAttribute('class', 'cl-main-widget-reward-details-content-label');
    sectionRewardsDetailsContentContainerDate.setAttribute('class', 'cl-main-widget-reward-details-content-date'); // Leaderboard result container

    sectionRewardsList.setAttribute('class', 'cl-main-widget-reward-list');
    sectionRewardsListBody.setAttribute('class', 'cl-main-widget-reward-list-body');
    sectionRewardsListBodyResults.setAttribute('class', 'cl-main-widget-reward-list-body-res'); // footer

    sectionRewardsFooter.setAttribute('class', 'cl-main-widget-reward-footer');
    sectionRewardsFooterContent.setAttribute('class', 'cl-main-widget-reward-footer-content'); // details section

    sectionRewardsDetailsContainer.setAttribute('class', 'cl-main-widget-reward-details-container');
    sectionRewardsDetailsHeader.setAttribute('class', 'cl-main-widget-reward-details-header');
    sectionRewardsDetailsHeaderLabel.setAttribute('class', 'cl-main-widget-reward-details-header-label');
    sectionRewardsDetailsHeaderDate.setAttribute('class', 'cl-main-widget-reward-details-header-date');
    sectionRewardsDetailsBackBtn.setAttribute('class', 'cl-main-widget-reward-details-back-btn');
    sectionRewardsDetailsBodyContainer.setAttribute('class', 'cl-main-widget-reward-details-body-container');
    sectionRewardsDetailsBodyImageContainer.setAttribute('class', 'cl-main-widget-reward-details-body-image-cont');
    sectionRewardsDetailsBody.setAttribute('class', 'cl-main-widget-reward-details-body');
    sectionRewardsWinningsContainer.setAttribute('class', 'cl-main-widget-reward-winnings-container');
    sectionRewardsWinningsIcon.setAttribute('class', 'cl-main-widget-reward-winnings-icon');
    sectionRewardsWinningsValue.setAttribute('class', 'cl-main-widget-reward-winnings-value');
    sectionRewardsClaimContainer.setAttribute('class', 'cl-main-widget-reward-claim-container');
    sectionRewardsClaimBtn.setAttribute('class', 'cl-main-widget-reward-claim-btn');
    sectionRewardsHeaderLabel.innerHTML = _this.settings.lbWidget.settings.translation.rewards.label;
    sectionRewardsFooterContent.innerHTML = _this.settings.lbWidget.settings.translation.global.copy;
    sectionRewardsClaimBtn.innerHTML = _this.settings.lbWidget.settings.translation.rewards.claim;
    sectionRewardsWinningsContainer.appendChild(sectionRewardsWinningsIcon);
    sectionRewardsWinningsContainer.appendChild(sectionRewardsWinningsValue);
    sectionRewardsClaimContainer.appendChild(sectionRewardsClaimBtn);
    sectionRewardsDetailsHeader.appendChild(sectionRewardsDetailsHeaderLabel);
    sectionRewardsDetailsHeader.appendChild(sectionRewardsDetailsHeaderDate);
    sectionRewardsDetailsContainer.appendChild(sectionRewardsDetailsHeader);
    sectionRewardsDetailsContainer.appendChild(sectionRewardsDetailsBackBtn);
    sectionRewardsDetailsBodyContainer.appendChild(sectionRewardsDetailsBodyImageContainer);
    sectionRewardsDetailsBodyContainer.appendChild(sectionRewardsDetailsBody);
    sectionRewardsDetailsBodyContainer.appendChild(sectionRewardsWinningsContainer);
    sectionRewardsDetailsContainer.appendChild(sectionRewardsDetailsBodyContainer);
    sectionRewardsDetailsContainer.appendChild(sectionRewardsClaimContainer);
    sectionRewardsHeader.appendChild(sectionRewardsHeaderLabel);
    sectionRewardsHeader.appendChild(sectionRewardsHeaderDate);
    sectionRewardsHeader.appendChild(sectionRewardsHeaderClose);
    sectionRewardsDetailsInfo.appendChild(sectionRewardsDetailsInfoIcon);
    sectionRewardsDetailsContentContainer.appendChild(sectionRewardsDetailsContentContainerLabel);
    sectionRewardsDetailsContentContainer.appendChild(sectionRewardsDetailsContentContainerDate);
    sectionRewardsDetails.appendChild(sectionRewardsDetailsInfo);
    sectionRewardsDetails.appendChild(sectionRewardsDetailsContentContainer);
    sectionRewardsListBody.appendChild(sectionRewardsListBodyResults);
    sectionRewardsList.appendChild(sectionRewardsListBody);
    sectionRewardsFooter.appendChild(sectionRewardsFooterContent);
    sectionRewards.appendChild(sectionRewardsHeader);
    sectionRewards.appendChild(sectionRewardsDetails);
    sectionRewards.appendChild(sectionRewardsList);
    sectionRewards.appendChild(sectionRewardsFooter);
    sectionRewards.appendChild(sectionRewardsDetailsContainer);
    return sectionRewards;
  };

  this.inboxAreaLayout = function () {
    var _this = this;

    var sectionInbox = document.createElement('div');
    var sectionInboxHeader = document.createElement('div');
    var sectionInboxHeaderLabel = document.createElement('div');
    var sectionInboxHeaderDate = document.createElement('div');
    var sectionInboxHeaderClose = document.createElement('div');
    var sectionInboxDetails = document.createElement('div');
    var sectionInboxDetailsInfo = document.createElement('div');
    var sectionInboxDetailsInfoIcon = document.createElement('div');
    var sectionInboxDetailsContentContainer = document.createElement('div');
    var sectionInboxDetailsContentContainerLabel = document.createElement('div');
    var sectionInboxDetailsContentContainerDate = document.createElement('div');
    var sectionInboxList = document.createElement('div');
    var sectionInboxListBody = document.createElement('div');
    var sectionInboxListBodyResults = document.createElement('div');
    var sectionInboxFooter = document.createElement('div');
    var sectionInboxFooterContent = document.createElement('div');
    var sectionInboxDetailsContainer = document.createElement('div');
    var sectionInboxDetailsHeader = document.createElement('div');
    var sectionInboxDetailsHeaderLabel = document.createElement('div');
    var sectionInboxDetailsHeaderDate = document.createElement('div');
    var sectionInboxDetailsBackBtn = document.createElement('a');
    var sectionInboxDetailsBodyContainer = document.createElement('div');
    var sectionInboxDetailsBody = document.createElement('div');
    sectionInbox.setAttribute('class', _this.settings.lbWidget.settings.navigation.inbox.containerClass + ' cl-main-section-item');
    sectionInboxHeader.setAttribute('class', 'cl-main-widget-inbox-header');
    sectionInboxHeaderLabel.setAttribute('class', 'cl-main-widget-inbox-header-label');
    sectionInboxHeaderDate.setAttribute('class', 'cl-main-widget-inbox-header-date');
    sectionInboxHeaderClose.setAttribute('class', 'cl-main-widget-inbox-header-close');
    sectionInboxDetails.setAttribute('class', 'cl-main-widget-inbox-details');
    sectionInboxDetailsInfo.setAttribute('class', 'cl-main-widget-inbox-details-info');
    sectionInboxDetailsInfoIcon.setAttribute('class', 'cl-main-widget-inbox-details-info-icon');
    sectionInboxDetailsContentContainer.setAttribute('class', 'cl-main-widget-inbox-details-content');
    sectionInboxDetailsContentContainerLabel.setAttribute('class', 'cl-main-widget-inbox-details-content-label');
    sectionInboxDetailsContentContainerDate.setAttribute('class', 'cl-main-widget-inbox-details-content-date'); // Leaderboard result container

    sectionInboxList.setAttribute('class', 'cl-main-widget-inbox-list');
    sectionInboxListBody.setAttribute('class', 'cl-main-widget-inbox-list-body');
    sectionInboxListBodyResults.setAttribute('class', 'cl-main-widget-inbox-list-body-res'); // footer

    sectionInboxFooter.setAttribute('class', 'cl-main-widget-inbox-footer');
    sectionInboxFooterContent.setAttribute('class', 'cl-main-widget-inbox-footer-content'); // details section

    sectionInboxDetailsContainer.setAttribute('class', 'cl-main-widget-inbox-details-container');
    sectionInboxDetailsHeader.setAttribute('class', 'cl-main-widget-inbox-details-header');
    sectionInboxDetailsHeaderLabel.setAttribute('class', 'cl-main-widget-inbox-details-header-label');
    sectionInboxDetailsHeaderDate.setAttribute('class', 'cl-main-widget-inbox-details-header-date');
    sectionInboxDetailsBackBtn.setAttribute('class', 'cl-main-widget-inbox-details-back-btn');
    sectionInboxDetailsBodyContainer.setAttribute('class', 'cl-main-widget-inbox-details-body-container');
    sectionInboxDetailsBody.setAttribute('class', 'cl-main-widget-inbox-details-body');
    sectionInboxHeaderLabel.innerHTML = _this.settings.lbWidget.settings.translation.messages.label;
    sectionInboxFooterContent.innerHTML = _this.settings.lbWidget.settings.translation.global.copy;
    sectionInboxHeader.appendChild(sectionInboxHeaderLabel);
    sectionInboxHeader.appendChild(sectionInboxHeaderDate);
    sectionInboxHeader.appendChild(sectionInboxHeaderClose);
    sectionInboxDetailsInfo.appendChild(sectionInboxDetailsInfoIcon);
    sectionInboxDetailsContentContainer.appendChild(sectionInboxDetailsContentContainerLabel);
    sectionInboxDetailsContentContainer.appendChild(sectionInboxDetailsContentContainerDate);
    sectionInboxDetails.appendChild(sectionInboxDetailsInfo);
    sectionInboxDetails.appendChild(sectionInboxDetailsContentContainer);
    sectionInboxListBody.appendChild(sectionInboxListBodyResults);
    sectionInboxList.appendChild(sectionInboxListBody);
    sectionInboxDetailsHeader.appendChild(sectionInboxDetailsHeaderLabel);
    sectionInboxDetailsHeader.appendChild(sectionInboxDetailsHeaderDate);
    sectionInboxDetailsContainer.appendChild(sectionInboxDetailsHeader);
    sectionInboxDetailsContainer.appendChild(sectionInboxDetailsBackBtn);
    sectionInboxDetailsBodyContainer.appendChild(sectionInboxDetailsBody);
    sectionInboxDetailsContainer.appendChild(sectionInboxDetailsBodyContainer);
    sectionInboxFooter.appendChild(sectionInboxFooterContent);
    sectionInbox.appendChild(sectionInboxHeader);
    sectionInbox.appendChild(sectionInboxDetails);
    sectionInbox.appendChild(sectionInboxList);
    sectionInbox.appendChild(sectionInboxFooter);
    sectionInbox.appendChild(sectionInboxDetailsContainer);
    return sectionInbox;
  };

  this.leaderboardHeader = function () {
    var _this = this;

    var rankCol = document.createElement('div');
    var iconCol = document.createElement('div');
    var nameCol = document.createElement('div');
    var growthCol = document.createElement('div');
    var pointsCol = document.createElement('div');
    rankCol.setAttribute('class', 'cl-rank-col cl-col');
    iconCol.setAttribute('class', 'cl-icon-col cl-col');
    nameCol.setAttribute('class', 'cl-name-col cl-col');
    growthCol.setAttribute('class', 'cl-growth-col cl-col');
    pointsCol.setAttribute('class', 'cl-points-col cl-col');
    rankCol.innerHTML = _this.settings.lbWidget.settings.translation.leaderboard.rank;
    iconCol.innerHTML = '';
    nameCol.innerHTML = _this.settings.lbWidget.settings.translation.leaderboard.name;
    growthCol.innerHTML = '';
    pointsCol.innerHTML = _this.settings.lbWidget.settings.translation.leaderboard.points;

    _this.settings.leaderboard.header.appendChild(rankCol);

    _this.settings.leaderboard.header.appendChild(iconCol);

    _this.settings.leaderboard.header.appendChild(nameCol);

    _this.settings.leaderboard.header.appendChild(growthCol);

    _this.settings.leaderboard.header.appendChild(pointsCol);

    var rewardCol = document.createElement('div');
    var rewardEnabled = typeof _this.settings.lbWidget.settings.competition.activeContest !== 'undefined' && _this.settings.lbWidget.settings.competition.activeContest !== null && typeof _this.settings.lbWidget.settings.competition.activeContest.rewards !== 'undefined' && _this.settings.lbWidget.settings.competition.activeContest.rewards.length > 0;
    rewardCol.setAttribute('class', 'cl-reward-col cl-col' + (rewardEnabled ? ' cl-col-reward-enabled' : ''));
    rewardCol.innerHTML = _this.settings.lbWidget.settings.translation.leaderboard.prize;
    Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_7__["default"])(_this.settings.leaderboard.header, 'cl-reward-enabled');

    _this.settings.leaderboard.header.appendChild(rewardCol);
  };

  this.leaderboardRow = function (rank, icon, name, change, growth, points, reward, count, memberFound) {
    var _this = this;

    var cellWrapper = document.createElement('div');
    var rankCel = document.createElement('div');
    var rankCelValue = document.createElement('div');
    var iconCel = document.createElement('div');
    var iconCelImg = new Image();
    var nameCel = document.createElement('div');
    var growthCel = document.createElement('div');
    var pointsCel = document.createElement('div');
    var memberFoundClass = memberFound ? ' cl-lb-member-row' : '';
    cellWrapper.setAttribute('class', 'cl-lb-row cl-lb-rank-' + rank + ' cl-lb-count-' + count + memberFoundClass);
    rankCel.setAttribute('class', 'cl-rank-col cl-col cl-rank-' + rank);
    rankCelValue.setAttribute('class', 'cl-rank-col-value');
    iconCel.setAttribute('class', 'cl-icon-col cl-col');
    iconCelImg.setAttribute('class', 'cl-icon-col-img');
    nameCel.setAttribute('class', 'cl-name-col cl-col');
    growthCel.setAttribute('class', 'cl-growth-col cl-col');
    pointsCel.setAttribute('class', 'cl-points-col cl-col');
    cellWrapper.dataset.rank = rank;
    rankCelValue.innerHTML = rank;
    nameCel.innerHTML = name;
    growthCel.dataset.growth = change < 0 ? 'down' : change > 0 ? 'up' : 'same';
    growthCel.dataset.change = change;
    growthCel.innerHTML = growth;
    pointsCel.innerHTML = points;

    if (icon.length > 0) {
      iconCelImg.src = icon;
      iconCelImg.alt = name;
    } else {
      iconCelImg.style.display = 'none';
    }

    rankCel.appendChild(rankCelValue);
    cellWrapper.appendChild(rankCel);
    iconCel.appendChild(iconCelImg);
    cellWrapper.appendChild(iconCel);
    cellWrapper.appendChild(nameCel);
    cellWrapper.appendChild(growthCel);
    cellWrapper.appendChild(pointsCel);
    var rewardCel = document.createElement('div');
    var rewardEnabled = typeof _this.settings.lbWidget.settings.competition.activeContest !== 'undefined' && _this.settings.lbWidget.settings.competition.activeContest !== null && typeof _this.settings.lbWidget.settings.competition.activeContest.rewards !== 'undefined' && _this.settings.lbWidget.settings.competition.activeContest.rewards.length > 0;
    rewardCel.setAttribute('class', 'cl-reward-col cl-col' + (rewardEnabled ? ' cl-col-reward-enabled' : ''));
    rewardCel.innerHTML = typeof reward !== 'undefined' && reward !== null ? reward : '';
    Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_7__["default"])(cellWrapper, 'cl-reward-enabled');
    cellWrapper.appendChild(rewardCel);
    return cellWrapper;
  };

  this.leaderboardRowUpdate = function (rank, icon, name, change, growth, points, reward, count, memberFound, onMissing) {
    var _this = this;

    var cellRow = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.leaderboard.container, '.cl-lb-rank-' + rank + '.cl-lb-count-' + count);

    if (cellRow === null) {
      onMissing(rank, icon, name, change, growth, points, reward, count, memberFound);
    } else {
      var rankCel = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(cellRow, '.cl-rank-col-value');
      var iconCel = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(cellRow, '.cl-icon-col-img');
      var nameCel = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(cellRow, '.cl-name-col');
      var growthCel = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(cellRow, '.cl-growth-col');
      var pointsCel = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(cellRow, '.cl-points-col');
      var memberFoundClass = 'cl-lb-member-row';
      var rowHasClass = Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_2__["default"])(cellRow, memberFoundClass);

      if (count > 0 && !Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_2__["default"])(cellRow, 'cl-shared-rank')) {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_7__["default"])(cellRow, 'cl-shared-rank');
      }

      if (memberFound && !rowHasClass) {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_7__["default"])(cellRow, memberFoundClass);
      } else if (!memberFound && rowHasClass) {
        Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_3__["default"])(cellRow, memberFoundClass);
      }

      cellRow.dataset.rank = rank;
      rankCel.innerHTML = rank;
      nameCel.innerHTML = name;
      growthCel.dataset.growth = change < 0 ? 'down' : change > 0 ? 'up' : 'same';
      growthCel.dataset.change = change;
      growthCel.innerHTML = growth;
      pointsCel.innerHTML = points;

      if (icon.length > 0) {
        iconCel.src = icon;
        iconCel.alt = name;
        iconCel.style.display = 'block';
      } else {
        iconCel.style.display = 'none';
      }

      if (typeof _this.settings.lbWidget.settings.competition.activeContest !== 'undefined' && _this.settings.lbWidget.settings.competition.activeContest !== null && typeof _this.settings.lbWidget.settings.competition.activeContest.rewards !== 'undefined' && _this.settings.lbWidget.settings.competition.activeContest.rewards.length > 0) {
        var rewardCel = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(cellRow, '.cl-reward-col');

        if (rewardCel !== null) {
          rewardCel.innerHTML = typeof reward !== 'undefined' && reward !== null ? reward : '';
        }
      }
    }
  };

  this.populateLeaderboardResultsWithDefaultEntries = function () {
    var _this = this;

    var topResults = [];
    var remainingResults = [];

    for (var i = 0; i < _this.settings.leaderboard.topResultSize; i++) {
      var rank = i + 1;
      topResults.push({
        name: '--',
        rank: rank,
        points: '--',
        memberId: '',
        memberRefId: ''
      });
    }

    for (var s = _this.settings.leaderboard.topResultSize; s < _this.settings.leaderboard.defaultEmptyList; s++) {
      var _rank = s + 1;

      remainingResults.push({
        name: '--',
        rank: _rank,
        points: '--',
        memberId: '',
        memberRefId: ''
      });
    }

    _this.updateLeaderboardTopResults(topResults);

    _this.updateLeaderboardResults(remainingResults);
  };

  this.updateLeaderboardTopResults = function (topResults) {
    var _this = this;

    var rankCheck = [];
    var cleanupRankCheck = []; // cleanup

    Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_1__["default"])(topResults, function (lb) {
      cleanupRankCheck.push(lb.rank);
      Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_4__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.leaderboard.topResults, '.cl-lb-rank-' + lb.rank + '.cl-shared-rank'), function (obj) {
        Object(_utils_remove__WEBPACK_IMPORTED_MODULE_8__["default"])(obj);
      });
    });
    Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_4__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.leaderboard.topResults, '.cl-lb-row'), function (obj) {
      var rank = parseInt(obj.dataset.rank);

      if (cleanupRankCheck.indexOf(rank) === -1 && rank > _this.settings.leaderboard.defaultEmptyList) {
        Object(_utils_remove__WEBPACK_IMPORTED_MODULE_8__["default"])(obj);
      }
    });
    Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_1__["default"])(topResults, function (lb) {
      var count = 0;

      var icon = _this.settings.lbWidget.populateIdenticonBase64Image(lb.memberId);

      var memberFound = _this.settings.lbWidget.settings.memberId === lb.memberId || _this.settings.lbWidget.settings.memberId === lb.memberRefId;
      var memberName = memberFound ? _this.settings.lbWidget.settings.translation.leaderboard.you : lb.name;

      var reward = _this.getReward(lb.rank);

      var change = typeof lb.change === 'undefined' ? 0 : lb.change;
      var growthType = change < 0 ? 'down' : change > 0 ? 'up' : 'same';
      var growthIcon = "<span class='cl-growth-icon cl-growth-" + growthType + "'></span>";

      if (rankCheck.indexOf(lb.rank) !== -1) {
        for (var rc = 0; rc < rankCheck.length; rc++) {
          if (lb.rank === rankCheck[rc]) {
            count++;
          }
        }
      }

      _this.leaderboardRowUpdate(lb.rank, icon, // icon
      memberName, change, growthIcon, // growth
      lb.points, reward, // reward
      count, memberFound, function (rank, icon, name, change, growth, points, reward, count, memberFound) {
        var newRow = _this.leaderboardRow(rank, icon, name, change, growth, points, reward, count, memberFound);

        var prevCellRow = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.leaderboard.container, '.cl-lb-rank-' + rank + '.cl-lb-count-' + (count - 1));

        if (prevCellRow !== null && typeof prevCellRow.length === 'undefined') {
          Object(_utils_appendNext__WEBPACK_IMPORTED_MODULE_9__["default"])(prevCellRow, newRow);
        } else {
          _this.settings.leaderboard.topResults.appendChild(newRow);
        }
      });

      rankCheck.push(lb.rank);
    });
  };

  this.getReward = function (rank) {
    var _this = this;

    var rewardResponse = [];

    if (typeof _this.settings.lbWidget.settings.competition.activeContest !== 'undefined' && _this.settings.lbWidget.settings.competition.activeContest !== null) {
      Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.lbWidget.settings.competition.activeContest.rewards, function (reward) {
        if (reward.rewardRank instanceof Array && reward.rewardRank.indexOf(rank) !== -1) {
          rewardResponse.push(_this.settings.lbWidget.settings.rewards.rewardFormatter(reward));
        }
      });
    }

    return rewardResponse.join(', ');
  };

  this.updateLeaderboardResults = function (remainingResults) {
    var _this = this;

    var rankCheck = [];
    var cleanupRankCheck = []; // cleanup

    Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_1__["default"])(remainingResults, function (lb) {
      cleanupRankCheck.push(lb.rank);
      Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_4__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.leaderboard.list, '.cl-lb-rank-' + lb.rank + '.cl-shared-rank'), function (obj) {
        Object(_utils_remove__WEBPACK_IMPORTED_MODULE_8__["default"])(obj);
      });
    });
    Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_4__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.leaderboard.container, '.cl-lb-row'), function (obj) {
      var rank = parseInt(obj.dataset.rank);

      if (cleanupRankCheck.indexOf(rank) === -1 && rank > _this.settings.leaderboard.defaultEmptyList) {
        Object(_utils_remove__WEBPACK_IMPORTED_MODULE_8__["default"])(obj);
      }
    });
    Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_1__["default"])(remainingResults, function (lb) {
      var count = 0;

      var icon = _this.settings.lbWidget.populateIdenticonBase64Image(lb.memberId);

      var memberFound = _this.settings.lbWidget.settings.memberId === lb.memberId || _this.settings.lbWidget.settings.memberId === lb.memberRefId;
      var memberName = memberFound ? _this.settings.lbWidget.settings.translation.leaderboard.you : lb.name;

      var reward = _this.getReward(lb.rank);

      var change = typeof lb.change === 'undefined' ? 0 : lb.change;
      var growthType = change < 0 ? 'down' : change > 0 ? 'up' : 'same';
      var growthIcon = "<span class='cl-growth-icon cl-growth-" + growthType + "'></span>";

      if (rankCheck.indexOf(lb.rank) !== -1) {
        for (var rc = 0; rc < rankCheck.length; rc++) {
          if (lb.rank === rankCheck[rc]) {
            count++;
          }
        }
      }

      _this.leaderboardRowUpdate(lb.rank, icon, // icon
      memberName, change, growthIcon, // growth
      lb.points, reward, count, memberFound, function (rank, icon, name, change, growth, points, reward, count, memberFound) {
        var newRow = _this.leaderboardRow(rank, icon, name, name, growth, points, reward, count, memberFound);

        var prevCellRow = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.leaderboard.container, '.cl-lb-rank-' + rank + '.cl-lb-count-' + (count - 1));

        if (prevCellRow !== null && typeof prevCellRow.length === 'undefined') {
          Object(_utils_appendNext__WEBPACK_IMPORTED_MODULE_9__["default"])(prevCellRow, newRow);
        } else {
          _this.settings.leaderboard.list.appendChild(newRow);
        }
      });

      rankCheck.push(lb.rank);
    });
  };

  this.updateLeaderboard = function () {
    var _this = this;

    var topResults = [];
    var remainingResults = [];

    _this.populateLeaderboardResultsWithDefaultEntries();

    Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.lbWidget.settings.leaderboard.leaderboardData, function (lb) {
      if (lb.rank <= _this.settings.leaderboard.topResultSize) {
        topResults.push(lb);
      } else {
        remainingResults.push(lb);
      }
    });

    _this.updateLeaderboardTopResults(topResults);

    _this.updateLeaderboardResults(remainingResults);

    var member = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.leaderboard.list, '.cl-lb-member-row');

    if (member !== null) {
      _this.missingMember(_this.isElementVisibleInView(member, _this.settings.leaderboard.list.parentNode));

      _this.missingMember(_this.isElementVisibleInView(member, _this.settings.leaderboard.resultContainer));
    }
  };

  this.updateLeaderboardTime = function () {
    var _this = this;

    var diff = moment__WEBPACK_IMPORTED_MODULE_0___default()(_this.settings.lbWidget.settings.competition.activeContest.scheduledStart).diff(moment__WEBPACK_IMPORTED_MODULE_0___default()());

    var date = _this.settings.lbWidget.formatDateTime(moment__WEBPACK_IMPORTED_MODULE_0___default.a.duration(diff));

    if (_this.settings.leaderboard.timerInterval) {
      clearTimeout(_this.settings.leaderboard.timerInterval);
    }

    if (diff < 0 && _this.settings.lbWidget.settings.competition.activeContest.statusCode === 0) {
      date = '';
    } else if (_this.settings.lbWidget.settings.competition.activeContest.statusCode > 0 && _this.settings.lbWidget.settings.competition.activeContest.statusCode < 3) {
      diff = moment__WEBPACK_IMPORTED_MODULE_0___default()(_this.settings.lbWidget.settings.competition.activeContest.scheduledEnd).diff(moment__WEBPACK_IMPORTED_MODULE_0___default()());
      date = _this.settings.lbWidget.formatDateTime(moment__WEBPACK_IMPORTED_MODULE_0___default.a.duration(diff));
    } else if (_this.settings.lbWidget.settings.competition.activeContest.statusCode === 3) {
      date = _this.settings.lbWidget.settings.translation.tournaments.finishing;
    } else if (_this.settings.lbWidget.settings.competition.activeContest.statusCode >= 4) {
      date = _this.settings.lbWidget.settings.translation.tournaments.finished;
    }

    _this.settings.headerDate.innerHTML = date;
    _this.settings.labelDate.innerHTML = date;
    _this.settings.detailsContainerDate.innerHTML = date;
    _this.settings.leaderboard.timerInterval = setTimeout(function () {
      _this.updateLeaderboardTime();
    }, 1000);
  };

  this.getActiveCompetitionDescription = function () {
    return this.settings.lbWidget.settings.competition.activeContest !== null && this.settings.lbWidget.settings.competition.activeContest.description.length > 0 ? this.settings.lbWidget.settings.competition.activeContest.description : this.settings.lbWidget.settings.competition.activeCompetition !== null ? this.settings.lbWidget.settings.competition.activeCompetition.description : '';
  };

  this.extractImage = function (body, imageContainer, isBodyVirtualOpt) {
    var _this = this;

    var activeImageContainer = Object(_utils_closest__WEBPACK_IMPORTED_MODULE_6__["default"])(body, '.cl-main-section-image-banner-active');
    var imageFound = false;
    var isBodyVirtual = typeof isBodyVirtualOpt === 'boolean' ? isBodyVirtualOpt : false;

    if (_this.settings.lbWidget.settings.competition.extractImageHeader) {
      Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_4__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(body, 'img'), function (img, key, count) {
        if (count === 0) {
          imageFound = true;
          var newImg = img.cloneNode(true);
          Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_7__["default"])(newImg, 'cl-main-widget-lb-details-image');
          imageContainer.appendChild(newImg);
          Object(_utils_remove__WEBPACK_IMPORTED_MODULE_8__["default"])(img);
        }
      });
    }

    if (!imageFound && activeImageContainer !== null) {
      Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_3__["default"])(activeImageContainer, 'cl-main-section-image-banner-active');
    } else if (imageFound && activeImageContainer === null && _this.settings.lbWidget.settings.leaderboard.layoutSettings.imageBanner && !isBodyVirtual) {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_7__["default"])(Object(_utils_closest__WEBPACK_IMPORTED_MODULE_6__["default"])(body, '.cl-main-section-item'), 'cl-main-section-image-banner-active');
    }
  };

  this.leaderboardDetailsUpdate = function () {
    var _this = this;

    var mainLabel = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.section, '.cl-main-widget-lb-details-content-label-text');
    var body = null;

    if (!_this.settings.lbWidget.settings.leaderboard.layoutSettings.titleLinkToDetailsPage) {
      body = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.section, '.cl-main-widget-lb-details-description');
      body.innerHTML = _this.getActiveCompetitionDescription();
    }

    if (_this.settings.lbWidget.settings.leaderboard.layoutSettings.imageBanner) {
      var image = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.section, '.cl-main-widget-lb-details-image-container');
      image.innerHTML = '';

      if (body === null) {
        body = document.createElement('div');
        body.innerHTML = _this.getActiveCompetitionDescription();

        _this.extractImage(body, image, true);
      } else {
        _this.extractImage(body, image, false);
      }
    }

    mainLabel.innerHTML = _this.settings.lbWidget.settings.competition.activeContest !== null ? _this.settings.lbWidget.settings.competition.activeContest.label : _this.settings.lbWidget.settings.translation.tournaments.noAvailableCompetitions;
  };

  this.showEmbeddedCompetitionDetailsContent = function (callback) {
    if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_2__["default"])(this.settings.section, 'cl-main-active-embedded-description')) {
      Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_3__["default"])(this.settings.section, 'cl-main-active-embedded-description');
    } else {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_7__["default"])(this.settings.section, 'cl-main-active-embedded-description');
    }

    if (typeof callback === 'function') callback();
  };

  this.hideEmbeddedCompetitionDetailsContent = function (callback) {
    Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_3__["default"])(this.settings.section, 'cl-main-active-embedded-description');
    if (typeof callback === 'function') callback();
  };

  this.leaderboardOptInCheck = function () {
    var _this = this;

    var optIn = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.section, '.cl-main-widget-lb-optin-action');

    if (typeof _this.settings.lbWidget.settings.competition.activeCompetition !== 'undefined' && _this.settings.lbWidget.settings.competition.activeCompetition !== null && typeof _this.settings.lbWidget.settings.competition.activeCompetition.optinRequired === 'boolean' && _this.settings.lbWidget.settings.competition.activeCompetition.optinRequired) {
      if (typeof _this.settings.lbWidget.settings.competition.activeCompetition.optin === 'boolean' && !_this.settings.lbWidget.settings.competition.activeCompetition.optin) {
        optIn.innerHTML = _this.settings.lbWidget.settings.translation.tournaments.enter;
        optIn.parentNode.style.display = 'block';
      } else {
        optIn.parentNode.style.display = 'none';
      }
    } else {
      optIn.parentNode.style.display = 'none';
    }
  }; // cleanup/recover activity


  this.preLoaderRerun = function () {
    var _this = this;

    if (_this.settings.preLoader.preLoaderActive && _this.settings.preLoader.preloaderCallbackRecovery !== null && _this.settings.preLoader.preLoaderlastAttempt !== null && typeof _this.settings.preLoader.preLoaderlastAttempt === 'number' && _this.settings.preLoader.preLoaderlastAttempt + 8000 < new Date().getTime()) {
      _this.settings.preLoader.preloaderCallbackRecovery();
    }
  };

  this.preloader = function () {
    var _this = this;

    var preLoader = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.section, '.cl-main-widget-pre-loader'); // var content = query(_this.settings.section, '.cl-main-widget-pre-loader-content');

    return {
      show: function show(callback) {
        _this.settings.preLoader.preLoaderActive = true;
        _this.settings.preLoader.preLoaderlastAttempt = new Date().getTime();
        preLoader.style.display = 'block';
        setTimeout(function () {
          preLoader.style.opacity = 1;
        }, 20);

        if (_this.settings.preLoader.preloaderCallbackRecovery === null && typeof callback === 'function') {
          _this.settings.preLoader.preloaderCallbackRecovery = callback;
        }

        callback();
      },
      hide: function hide() {
        _this.settings.preLoader.preLoaderActive = false;
        _this.settings.preLoader.preLoaderlastAttempt = null;
        preLoader.style.opacity = 0;

        if (_this.settings.preLoader.preloaderCallbackRecovery !== null) {
          _this.settings.preLoader.preloaderCallbackRecovery = null;
        }

        setTimeout(function () {
          preLoader.style.display = 'none';
        }, 200);
      }
    };
  };

  this.loadLeaderboard = function (callback) {
    var _this = this;

    if (_this.settings.container === null) {
      _this.settings.container = _this.settings.lbWidget.settings.bindContainer.appendChild(_this.layout());
      _this.settings.overlayContainer = _this.settings.lbWidget.settings.bindContainer.appendChild(_this.overlayLayout());
      _this.settings.navigation = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.container, '.cl-main-widget-navigation-container');
      _this.settings.section = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.container, '.cl-main-widget-section-container');
      _this.settings.leaderboard.container = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.section, '.cl-main-widget-lb-leaderboard');
      _this.settings.leaderboard.header = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.leaderboard.container, '.cl-main-widget-lb-leaderboard-header-labels');
      _this.settings.leaderboard.resultContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.leaderboard.container, '.cl-main-widget-lb-leaderboard-res-container');
      _this.settings.leaderboard.list = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.leaderboard.container, '.cl-main-widget-lb-leaderboard-body-res');
      _this.settings.leaderboard.topResults = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.leaderboard.container, '.cl-main-widget-lb-leaderboard-header-top-res');
      _this.settings.detailsContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.container, '.cl-main-widget-lb-details-container');
      _this.settings.tournamentListContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.container, '.cl-main-widget-tournaments-list');
      _this.settings.detailsContainerDate = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.container, '.cl-main-widget-lb-details-header-date');
      _this.settings.headerDate = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.container, '.cl-main-widget-lb-header-date');
      _this.settings.labelDate = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.container, '.cl-main-widget-lb-details-content-date');
      _this.settings.achievement.container = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.container, '.' + _this.settings.lbWidget.settings.navigation.achievements.containerClass);
      _this.settings.achievement.detailsContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.container, '.cl-main-widget-ach-details-container');
      _this.settings.reward.container = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.container, '.' + _this.settings.lbWidget.settings.navigation.rewards.containerClass);
      _this.settings.reward.detailsContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.container, '.cl-main-widget-reward-details-container');
      _this.settings.messages.container = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.container, '.' + _this.settings.lbWidget.settings.navigation.inbox.containerClass);
      _this.settings.messages.detailsContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.container, '.cl-main-widget-inbox-details-container');

      _this.mainNavigationCheck();

      _this.leaderboardHeader();

      _this.eventListeners();
    }

    _this.leaderboardOptInCheck();

    _this.leaderboardDetailsUpdate();

    _this.updateLeaderboard();

    if (_this.settings.lbWidget.settings.competition.activeContest !== null) {
      _this.updateLeaderboardTime();
    }

    if (typeof callback === 'function') {
      callback();
    }
  };

  this.clearAll = function () {
    var _this = this;

    _this.settings.active = false;

    if (_this.settings.leaderboard.timerInterval) {
      clearTimeout(_this.settings.leaderboard.timerInterval);
    }

    _this.settings.preLoader.preLoaderActive = false;
  };

  this.hide = function (callback) {
    var _this = this;

    _this.clearAll();

    if (_this.settings.container !== null) {
      Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_3__["default"])(_this.settings.container, 'cl-show');
      setTimeout(function () {
        _this.settings.container.style.display = 'none';
        _this.settings.overlayContainer.style.display = 'none';

        _this.hideCompetitionDetails();

        _this.hideAchievementDetails();

        if (typeof callback === 'function') {
          callback();
        }
      }, 30);
    } else if (typeof callback === 'function') {
      callback();
    }
  };

  this.missingMember = function (isVisible) {
    var _this = this;

    var area = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.container, '.cl-main-widget-lb-missing-member');
    var member = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.leaderboard.list, '.cl-lb-member-row');

    if (area !== null && member !== null) {
      area.innerHTML = member.innerHTML;
    }

    if (!isVisible) {
      if (area !== null && member !== null) {
        area.style.display = 'block';
      } else {
        area.style.display = 'none';
      }
    } else {
      area.style.display = 'none';
    }
  };

  this.isElementVisibleInView = function (el, container) {
    var position = el.getBoundingClientRect();
    var elemContainer = container.getBoundingClientRect();
    var elemTop = position.top;
    var elemBottom = position.bottom;
    var elemHeight = position.height;
    return elemTop <= elemContainer.top ? elemContainer.top - elemTop <= elemHeight : elemBottom - elemContainer.bottom <= elemHeight;
  };

  this.eventListeners = function () {
    var _this = this; // unique solution to support horizontal mobile orientation


    _this.settings.leaderboard.resultContainer.onscroll = function (evt) {
      evt.preventDefault();
      var member = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.leaderboard.list, '.cl-lb-member-row');

      if (member !== null) {
        _this.missingMember(_this.isElementVisibleInView(member, evt.target));
      }
    };

    _this.settings.leaderboard.list.parentNode.onscroll = function (evt) {
      evt.preventDefault();
      var member = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.leaderboard.list, '.cl-lb-member-row');

      if (member !== null) {
        _this.missingMember(_this.isElementVisibleInView(member, evt.target));
      }
    };

    window.onresize = function (evt) {
      var member = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.leaderboard.list, '.cl-lb-member-row');

      if (member !== null) {
        _this.missingMember(_this.isElementVisibleInView(member, _this.settings.leaderboard.list.parentNode));

        _this.missingMember(_this.isElementVisibleInView(member, _this.settings.leaderboard.resultContainer));
      }
    };
  }; // this.checkLeaderboardScrollContainer = function(){
  //  var _this = this,
  //    lbScrollContainer = query(_this.settings.leaderboard.container, ".cl-main-widget-lb-leaderboard-body");
  //
  //  if( scrollEnabled(lbScrollContainer) ){
  //    addClass(lbScrollContainer, "cl-element-scrollable");
  //  }else{
  //    removeClass(lbScrollContainer, "cl-element-scrollable");
  //  }
  // };


  this.competitionDetailsOptInButtonState = function () {
    var _this = this;

    var optIn = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.detailsContainer, '.cl-main-widget-lb-details-optin-action');

    if (typeof _this.settings.lbWidget.settings.competition.activeCompetition.optinRequired === 'boolean' && _this.settings.lbWidget.settings.competition.activeCompetition.optinRequired) {
      if (typeof _this.settings.lbWidget.settings.competition.activeCompetition.optin === 'boolean' && !_this.settings.lbWidget.settings.competition.activeCompetition.optin) {
        optIn.innerHTML = _this.settings.lbWidget.settings.translation.tournaments.enter;
        Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_3__["default"])(optIn, 'cl-disabled');
      } else {
        optIn.innerHTML = _this.settings.lbWidget.settings.translation.tournaments.registered;
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_7__["default"])(optIn, 'cl-disabled');
      }

      optIn.parentNode.style.display = 'block';
    } else {
      optIn.parentNode.style.display = 'none';
    }
  };

  this.loadCompetitionDetails = function (callback) {
    var _this = this;

    var label = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.detailsContainer, '.cl-main-widget-lb-details-header-label'); // var date = query(_this.settings.detailsContainer, '.cl-main-widget-lb-details-header-date');

    var body = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.detailsContainer, '.cl-main-widget-lb-details-body');
    var image = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.detailsContainer, '.cl-main-widget-lb-details-body-image-cont');
    image.innerHTML = '';
    label.innerHTML = _this.settings.lbWidget.settings.competition.activeContest.label.length > 0 ? _this.settings.lbWidget.settings.competition.activeContest.label : _this.settings.lbWidget.settings.competition.activeCompetition.label;
    body.innerHTML = _this.settings.lbWidget.settings.competition.activeContest.description.length > 0 ? _this.settings.lbWidget.settings.competition.activeContest.description : _this.settings.lbWidget.settings.competition.activeCompetition.description;

    _this.competitionDetailsOptInButtonState();

    _this.settings.detailsContainer.style.display = 'block';
    _this.settings.headerDate.style.display = 'none';

    _this.extractImage(body, image);

    setTimeout(function () {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_7__["default"])(_this.settings.detailsContainer, 'cl-show');
      if (typeof callback === 'function') callback();
    }, 50);
  };

  this.loadCompetitionList = function (callback, ajaxInstance) {
    var _this = this;

    var listResContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.tournamentListContainer, '.cl-main-widget-tournaments-list-body-res');
    var listIcon = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.container, '.cl-main-widget-lb-header-list-icon');

    var preLoader = _this.preloader();

    preLoader.show(function () {
      listIcon.style.opacity = '0';

      _this.settings.lbWidget.checkForAvailableCompetitions(function () {
        var accordionObj = _this.accordionStyle(_this.settings.tournamentsSection.accordionLayout, function (accordionSection, listContainer, topEntryContainer, layout) {
          var tournamentData = _this.settings.lbWidget.settings.tournaments[layout.type];

          if (typeof tournamentData !== 'undefined') {
            if (tournamentData.length === 0) {
              accordionSection.style.display = 'none';
            }

            Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_1__["default"])(tournamentData, function (tournament, key, count) {
              if (count + 1 <= layout.showTopResults && Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(topEntryContainer, '.cl-tournament-' + tournament.id) === null) {
                var topEntryContaineRlistItem = _this.tournamentItem(tournament);

                topEntryContainer.appendChild(topEntryContaineRlistItem);
              }

              if (Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(listContainer, '.cl-tournament-' + tournament.id) === null) {
                var listItem = _this.tournamentItem(tournament);

                listContainer.appendChild(listItem);
              }
            });
          }
        });

        listResContainer.innerHTML = '';
        listResContainer.appendChild(accordionObj);
        _this.settings.tournamentListContainer.style.display = 'block';
        setTimeout(function () {
          Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_7__["default"])(_this.settings.tournamentListContainer, 'cl-show');
          if (typeof callback === 'function') callback();
          preLoader.hide();
        }, 50);
      }, ajaxInstance);
    });
  };

  this.hideCompetitionList = function (callback) {
    var _this = this;

    var listIcon = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.container, '.cl-main-widget-lb-header-list-icon');
    listIcon.style.opacity = '1';

    _this.hideEmbeddedCompetitionDetailsContent();

    Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_3__["default"])(_this.settings.tournamentListContainer, 'cl-show');
    setTimeout(function () {
      _this.settings.tournamentListContainer.style.display = 'none';
      if (typeof callback === 'function') callback();
    }, 200);
  };

  this.hideCompetitionDetails = function (callback) {
    var _this = this;

    Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_3__["default"])(_this.settings.detailsContainer, 'cl-show');
    setTimeout(function () {
      _this.settings.detailsContainer.style.display = 'none';
      _this.settings.headerDate.style.display = 'block';
      if (typeof callback === 'function') callback();
    }, 200);
  };

  this.achievementItem = function (ach, achieved, perc) {
    var _this = this;

    var listItem = document.createElement('div');
    var detailsContainer = document.createElement('div');
    var detailsWrapper = document.createElement('div');
    var label = document.createElement('div');
    var category = document.createElement('div');
    var description = document.createElement('div');
    var progressionWrapper = document.createElement('div');
    var progressionCont = document.createElement('div');
    var progressionBar = document.createElement('div');
    var moreButton = document.createElement('a');
    var cpomntainsImage = typeof ach.icon !== 'undefined' && ach.icon.length > 0;
    listItem.setAttribute('class', 'cl-ach-list-item cl-ach-' + ach.id + (cpomntainsImage ? ' cl-ach-with-image' : ''));
    detailsContainer.setAttribute('class', 'cl-ach-list-details-cont');
    detailsWrapper.setAttribute('class', 'cl-ach-list-details-wrap');
    label.setAttribute('class', 'cl-ach-list-details-label');
    category.setAttribute('class', 'cl-ach-list-details-category');
    description.setAttribute('class', 'cl-ach-list-details-description');
    progressionWrapper.setAttribute('class', 'cl-ach-list-progression');
    progressionCont.setAttribute('class', 'cl-ach-list-progression-cont');
    progressionBar.setAttribute('class', 'cl-ach-list-progression-bar');
    moreButton.setAttribute('class', 'cl-ach-list-more');
    moreButton.dataset.id = ach.id;
    moreButton.innerHTML = _this.settings.lbWidget.settings.translation.achievements.more;
    moreButton.href = 'javascript:void(0);';
    listItem.dataset.id = ach.id;
    label.innerHTML = ach.name;
    category.innerHTML = ach.category.join(', ');
    detailsWrapper.appendChild(label);
    detailsWrapper.appendChild(category);
    detailsWrapper.appendChild(description);

    if (cpomntainsImage) {
      var image = new Image();
      var imageIconWrapper = document.createElement('div');
      imageIconWrapper.setAttribute('class', 'cl-ach-list-item-img-wrapper');
      image.setAttribute('class', 'cl-ach-list-item-img');
      image.src = _this.settings.lbWidget.settings.uri.gatewayDomain + _this.settings.lbWidget.settings.uri.assets.replace(':attachmentId', ach.icon);
      image.alt = ach.name; // image.onload = function(){
      // };

      imageIconWrapper.appendChild(image);
      detailsContainer.appendChild(imageIconWrapper);
    }

    detailsContainer.appendChild(detailsWrapper);
    progressionCont.appendChild(progressionBar);
    progressionWrapper.appendChild(progressionCont);
    progressionWrapper.appendChild(moreButton);
    listItem.appendChild(detailsContainer);
    listItem.appendChild(progressionWrapper);
    return listItem;
  };

  this.achievementListLayout = function (achievementData) {
    var _this = this;

    var achList = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.section, '.' + _this.settings.lbWidget.settings.navigation.achievements.containerClass + ' .cl-main-widget-ach-list-body-res');
    Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_1__["default"])(achievementData, function (ach) {
      if (Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(achList, '.cl-ach-' + ach.id) === null) {
        var listItem = _this.achievementItem(ach);

        achList.appendChild(listItem);
      }
    });
  };

  this.loadAchievementDetails = function (data, callback) {
    var _this = this;

    var label = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.achievement.detailsContainer, '.cl-main-widget-ach-details-header-label');
    var body = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.achievement.detailsContainer, '.cl-main-widget-ach-details-body');
    var image = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.achievement.detailsContainer, '.cl-main-widget-ach-details-body-image-cont');
    image.innerHTML = '';
    label.innerHTML = data.data.name;
    body.innerHTML = data.data.description;

    if (_this.settings.lbWidget.settings.achievements.extractImageHeader) {
      var imageLookup = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(body, 'img');
      Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_4__["default"])(imageLookup, function (img, key, count) {
        if (count === 0) {
          var newImg = img.cloneNode(true);
          image.appendChild(newImg);
          Object(_utils_remove__WEBPACK_IMPORTED_MODULE_8__["default"])(img);
        }
      });
    }

    _this.settings.achievement.detailsContainer.style.display = 'block';
    setTimeout(function () {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_7__["default"])(_this.settings.achievement.detailsContainer, 'cl-show');
      if (typeof callback === 'function') callback();
    }, 50);
  };

  this.hideAchievementDetails = function (callback) {
    var _this = this;

    Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_3__["default"])(_this.settings.achievement.detailsContainer, 'cl-show');
    setTimeout(function () {
      _this.settings.achievement.detailsContainer.style.display = 'none';
      if (typeof callback === 'function') callback();
    }, 200);
  };

  this.loadRewardDetails = function (data, callback) {
    var _this = this;

    var label = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.reward.detailsContainer, '.cl-main-widget-reward-details-header-label');
    var body = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.reward.detailsContainer, '.cl-main-widget-reward-details-body');
    var image = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.reward.detailsContainer, '.cl-main-widget-reward-details-body-image-cont');
    var claimBtn = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.reward.detailsContainer, '.cl-main-widget-reward-claim-btn');
    var icon = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.reward.detailsContainer, '.cl-main-widget-reward-winnings-icon');
    var value = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.reward.detailsContainer, '.cl-main-widget-reward-winnings-value');
    label.innerHTML = data.data.reward.rewardName;
    body.innerHTML = data.data.reward.description;
    value.innerHTML = _this.settings.lbWidget.settings.rewards.rewardFormatter(data.data.reward);
    claimBtn.dataset.id = data.data.id;

    if (data.data.claimed) {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_7__["default"])(claimBtn, 'cl-claimed');
      claimBtn.innerHTML = _this.settings.lbWidget.settings.translation.rewards.claimed;
    } else {
      Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_3__["default"])(claimBtn, 'cl-claimed');
      claimBtn.innerHTML = _this.settings.lbWidget.settings.translation.rewards.claim;
    }

    if (typeof data.data.reward.icon !== 'undefined') {
      icon.innerHTML = '';

      var _image = new Image();

      var imageIconWrapper = document.createElement('div');
      imageIconWrapper.setAttribute('class', 'cl-reward-list-item-img-wrapper');

      _image.setAttribute('class', 'cl-reward-list-item-img');

      _image.src = _this.settings.lbWidget.settings.uri.gatewayDomain + _this.settings.lbWidget.settings.uri.assets.replace(':attachmentId', data.data.reward.icon);
      _image.alt = _this.settings.lbWidget.settings.rewards.rewardFormatter(data.data.reward);
      icon.appendChild(_image);
    } else {
      icon.innerHTML = "<span class='cl-place-holder-reward-image'></span>";
    }

    Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_4__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(body, 'img'), function (img, key, count) {
      if (count === 0) {
        var newImg = img.cloneNode(true);
        image.innerHTML = '';
        image.appendChild(newImg);
        Object(_utils_remove__WEBPACK_IMPORTED_MODULE_8__["default"])(img);
      }
    });
    _this.settings.reward.detailsContainer.style.display = 'block';
    setTimeout(function () {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_7__["default"])(_this.settings.reward.detailsContainer, 'cl-show');
      if (typeof callback === 'function') callback();
    }, 50);
  };

  this.loadMessageDetails = function (data, callback) {
    var _this = this;

    var label = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.messages.detailsContainer, '.cl-main-widget-inbox-details-header-label');
    var body = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.messages.detailsContainer, '.cl-main-widget-inbox-details-body');
    label.innerHTML = data.data.subject;
    body.innerHTML = data.data.body;
    _this.settings.messages.detailsContainer.style.display = 'block';
    setTimeout(function () {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_7__["default"])(_this.settings.messages.detailsContainer, 'cl-show');
      if (typeof callback === 'function') callback();
    }, 50);
  };

  this.hideRewardDetails = function (callback) {
    var _this = this;

    Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_3__["default"])(_this.settings.reward.detailsContainer, 'cl-show');
    setTimeout(function () {
      _this.settings.reward.detailsContainer.style.display = 'none';
      if (typeof callback === 'function') callback();
    }, 200);
  };

  this.hideMessageDetails = function (callback) {
    var _this = this;

    Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_3__["default"])(_this.settings.messages.detailsContainer, 'cl-show');
    setTimeout(function () {
      _this.settings.messages.detailsContainer.style.display = 'none';
      if (typeof callback === 'function') callback();
    }, 200);
  };

  this.updateAchievementProgressionAndIssued = function (issued, progression) {
    var _this = this;

    var achList = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.section, '.' + _this.settings.lbWidget.settings.navigation.achievements.containerClass + ' .cl-main-widget-ach-list-body-res');
    Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_4__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(achList, '.cl-ach-list-item'), function (ach) {
      var id = ach.dataset.id;
      var issuedStatus = issued.indexOf(id) !== -1;
      var perc = 0;
      Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_1__["default"])(progression, function (pr) {
        if (pr.achievementId === id) {
          perc = (parseFloat(pr.goalPercentageComplete) * 100).toFixed(1);
        }
      });

      if (ach !== null) {
        var bar = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(ach, '.cl-ach-list-progression-bar');

        if (issuedStatus) {
          Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_7__["default"])(bar, 'cl-ach-complete');
          bar.innerHTML = _this.settings.lbWidget.settings.translation.achievements.complete;
          bar.style.width = '100%';
        } else {
          bar.style.width = (perc > 1 || perc === 0 ? perc : 1) + '%';
        }
      }
    });
  };

  this.loadAchievements = function (callback) {
    var _this = this;

    _this.settings.lbWidget.checkForAvailableAchievements(function (achievementData) {
      _this.settings.lbWidget.updateAchievementNavigationCounts();

      _this.achievementListLayout(achievementData);

      var idList = [];
      Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.lbWidget.settings.achievements.list, function (ach) {
        idList.push(ach.id);
      });
      setTimeout(function () {
        _this.settings.lbWidget.checkForMemberAchievementsIssued(function (issued) {
          _this.settings.lbWidget.checkForMemberAchievementsProgression(idList, function (progression) {
            _this.updateAchievementProgressionAndIssued(issued, progression);
          });
        });
      }, 400);

      if (typeof callback === 'function') {
        callback();
      }
    });
  };

  this.rewardItem = function (rew) {
    var _this = this;

    var listItem = document.createElement('div');
    var detailsContainer = document.createElement('div');
    var detailsWrapper = document.createElement('div');
    var label = document.createElement('div');
    var description = document.createElement('div');
    listItem.setAttribute('class', 'cl-rew-list-item cl-rew-' + rew.id);
    detailsContainer.setAttribute('class', 'cl-rew-list-details-cont');
    detailsWrapper.setAttribute('class', 'cl-rew-list-details-wrap');
    label.setAttribute('class', 'cl-rew-list-details-label');
    description.setAttribute('class', 'cl-rew-list-details-description');
    listItem.dataset.id = rew.id;
    var labelText = Object(_utils_stripHtml__WEBPACK_IMPORTED_MODULE_10__["default"])(rew.subject);
    var descriptionText = Object(_utils_stripHtml__WEBPACK_IMPORTED_MODULE_10__["default"])(rew.body);

    if (typeof rew.prize !== 'undefined') {
      listItem.dataset.rewardId = rew.prize.id;
      labelText = Object(_utils_stripHtml__WEBPACK_IMPORTED_MODULE_10__["default"])(rew.subject + ' - ' + rew.prize.reward.rewardName + ' (' + _this.settings.lbWidget.settings.rewards.rewardFormatter(rew.prize.reward) + ')');
      descriptionText = Object(_utils_stripHtml__WEBPACK_IMPORTED_MODULE_10__["default"])(typeof rew.prize.reward.description !== 'undefined' && rew.prize.reward.description.length > 0 ? rew.prize.reward.description : rew.body);
    }

    label.innerHTML = labelText.length > 80 ? labelText.substr(0, 80) + '...' : labelText;
    description.innerHTML = descriptionText.length > 200 ? descriptionText.substr(0, 200) + '...' : descriptionText;
    detailsWrapper.appendChild(label);
    detailsWrapper.appendChild(description);
    detailsContainer.appendChild(detailsWrapper);
    listItem.appendChild(detailsContainer);
    return listItem;
  };

  this.messageItem = function (inbox) {
    // var _this = this;
    var listItem = document.createElement('div');
    var detailsContainer = document.createElement('div');
    var detailsWrapper = document.createElement('div');
    var label = document.createElement('div');
    var description = document.createElement('div');
    var content = Object(_utils_stripHtml__WEBPACK_IMPORTED_MODULE_10__["default"])(inbox.body);
    listItem.setAttribute('class', 'cl-inbox-list-item cl-inbox-' + inbox.id);
    detailsContainer.setAttribute('class', 'cl-inbox-list-details-cont');
    detailsWrapper.setAttribute('class', 'cl-inbox-list-details-wrap');
    label.setAttribute('class', 'cl-inbox-list-details-label');
    description.setAttribute('class', 'cl-inbox-list-details-description');
    listItem.dataset.id = inbox.id;
    label.innerHTML = inbox.subject.length > 36 ? inbox.subject.substr(0, 36) + '...' : inbox.subject;
    description.innerHTML = content.length > 60 ? content.substr(0, 60) + '...' : content;
    detailsWrapper.appendChild(label);
    detailsWrapper.appendChild(description);
    detailsContainer.appendChild(detailsWrapper);
    listItem.appendChild(detailsContainer);
    return listItem;
  };

  this.tournamentItem = function (tournament) {
    // var _this = this;
    var listItem = document.createElement('div');
    var detailsContainer = document.createElement('div');
    var detailsWrapper = document.createElement('div');
    var label = document.createElement('div');
    var description = document.createElement('div');
    var descriptionContent = Object(_utils_stripHtml__WEBPACK_IMPORTED_MODULE_10__["default"])(tournament.description);
    listItem.setAttribute('class', 'cl-tour-list-item cl-tour-' + tournament.id);
    detailsContainer.setAttribute('class', 'cl-tour-list-details-cont');
    detailsWrapper.setAttribute('class', 'cl-tour-list-details-wrap');
    label.setAttribute('class', 'cl-tour-list-details-label');
    description.setAttribute('class', 'cl-tour-list-details-description');
    listItem.dataset.id = tournament.id;
    label.innerHTML = tournament.label;
    description.innerHTML = descriptionContent.length > 100 ? descriptionContent.substr(0, 100) + '...' : descriptionContent;
    detailsWrapper.appendChild(label);
    detailsWrapper.appendChild(description);
    detailsContainer.appendChild(detailsWrapper);
    listItem.appendChild(detailsContainer);
    return listItem;
  };

  this.rewardsListLayout = function (rewards, availableRewards, expiredRewards) {
    var _this = this;

    var rewardList = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.section, '.' + _this.settings.lbWidget.settings.navigation.rewards.containerClass + ' .cl-main-widget-reward-list-body-res');

    var accordionObj = _this.accordionStyle(_this.settings.rewardsSection.accordionLayout, function (accordionSection, listContainer, topEntryContainer, layout) {
      var rewardData = _this.settings.lbWidget.settings.rewards[layout.type];

      if (typeof rewardData !== 'undefined') {
        if (rewardData.length === 0) {
          accordionSection.style.display = 'none';
        }

        Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_1__["default"])(rewardData, function (rew, key, count) {
          if (count + 1 <= layout.showTopResults && Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(topEntryContainer, '.cl-reward-' + rew.id) === null) {
            var topEntryContaineRlistItem = _this.rewardItem(rew);

            topEntryContainer.appendChild(topEntryContaineRlistItem);
          }

          if (Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(listContainer, '.cl-reward-' + rew.id) === null) {
            var listItem = _this.rewardItem(rew);

            listContainer.appendChild(listItem);
          }
        });
      }
    });

    rewardList.innerHTML = '';
    rewardList.appendChild(accordionObj); // mapObject(rewardData, function(rew){
    //   if( query(rewardList, ".cl-reward-" + rew.id) === null ) {
    //     var listItem = _this.rewardItem(rew);
    //
    //     rewardList.appendChild(listItem);
    //   }
    // });
  };

  this.messagesListLayout = function (rewards, availableRewards, expiredRewards) {
    var _this = this;

    var messageList = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.section, '.' + _this.settings.lbWidget.settings.navigation.inbox.containerClass + ' .cl-main-widget-inbox-list-body-res');
    messageList.innerHTML = '';
    Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.lbWidget.settings.messages.messages, function (inboxItem, key, count) {
      var listItem = _this.messageItem(inboxItem);

      messageList.appendChild(listItem);
    });
  };

  this.loadRewards = function (callback) {
    var _this = this;

    _this.settings.lbWidget.checkForAvailableRewards(function (rewards, availableRewards, expiredRewards) {
      _this.settings.lbWidget.updateRewardsNavigationCounts();

      _this.rewardsListLayout(rewards, availableRewards, expiredRewards);

      if (typeof callback === 'function') {
        callback();
      }
    });
  };

  this.loadMessages = function (callback) {
    var _this = this;

    _this.settings.lbWidget.checkForAvailableMessages(function (rewards, availableRewards, expiredRewards) {
      _this.messagesListLayout(rewards, availableRewards, expiredRewards);

      if (typeof callback === 'function') {
        callback();
      }
    });
  };

  var changeInterval;
  var changeContainerInterval;

  this.navigationSwitch = function (target, callback) {
    var _this = this;

    var preLoader = _this.preloader();

    if (_this.settings.navigationSwitchInProgress && _this.settings.navigationSwitchLastAtempt + 3000 < new Date().getTime()) {
      _this.settings.navigationSwitchInProgress = false;
    }

    if (!_this.settings.navigationSwitchInProgress) {
      _this.settings.navigationSwitchInProgress = true;
      _this.settings.navigationSwitchLastAtempt = new Date().getTime();

      if (!Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_2__["default"])(target.parentNode, 'cl-active-nav')) {
        preLoader.show(function () {
          if (changeInterval) clearTimeout(changeInterval);
          if (changeContainerInterval) clearTimeout(changeContainerInterval);
          Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_4__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.container, '.cl-main-widget-navigation-items .cl-active-nav'), function (obj) {
            Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_3__["default"])(obj, 'cl-active-nav');
          });
          Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_4__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.container, '.cl-main-widget-section-container .cl-main-active-section'), function (obj) {
            Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_3__["default"])(obj, 'cl-main-active-section');
            setTimeout(function () {
              obj.style.display = 'none';
            }, 150);
          });
          changeContainerInterval = setTimeout(function () {
            if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_2__["default"])(target, 'cl-main-widget-navigation-lb-icon')) {
              _this.loadLeaderboard(function () {
                var lbContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.container, '.cl-main-widget-section-container .' + _this.settings.lbWidget.settings.navigation.tournaments.containerClass);
                lbContainer.style.display = 'block';
                changeInterval = setTimeout(function () {
                  Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_7__["default"])(lbContainer, 'cl-main-active-section');
                }, 30);

                if (typeof callback === 'function') {
                  callback();
                }

                preLoader.hide();
                _this.settings.navigationSwitchInProgress = false;
              });
            } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_2__["default"])(target, 'cl-main-widget-navigation-ach-icon')) {
              _this.loadAchievements(function () {
                var achContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.container, '.cl-main-widget-section-container .' + _this.settings.lbWidget.settings.navigation.achievements.containerClass);
                _this.settings.achievement.detailsContainer.style.display = 'none';
                achContainer.style.display = 'block';
                changeInterval = setTimeout(function () {
                  Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_7__["default"])(achContainer, 'cl-main-active-section');

                  if (typeof callback === 'function') {
                    callback();
                  }
                }, 30);
                preLoader.hide();
                _this.settings.navigationSwitchInProgress = false;
              });
            } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_2__["default"])(target, 'cl-main-widget-navigation-rewards-icon')) {
              _this.loadRewards(function () {
                var rewardsContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.container, '.cl-main-widget-section-container .' + _this.settings.lbWidget.settings.navigation.rewards.containerClass);
                rewardsContainer.style.display = 'block';
                changeInterval = setTimeout(function () {
                  Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_7__["default"])(rewardsContainer, 'cl-main-active-section');
                }, 30);

                if (typeof callback === 'function') {
                  callback();
                }

                preLoader.hide();
                _this.settings.navigationSwitchInProgress = false;
              });
            } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_2__["default"])(target, 'cl-main-widget-navigation-inbox-icon')) {
              _this.loadMessages(function () {
                var inboxContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.container, '.cl-main-widget-section-container .' + _this.settings.lbWidget.settings.navigation.inbox.containerClass);
                inboxContainer.style.display = 'block';
                changeInterval = setTimeout(function () {
                  Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_7__["default"])(inboxContainer, 'cl-main-active-section');
                }, 30);
                preLoader.hide();
                _this.settings.navigationSwitchInProgress = false;
              });
            }
          }, 250);
          Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_7__["default"])(target.parentNode, 'cl-active-nav');
        });
      } else if (typeof callback === 'function') {
        _this.settings.navigationSwitchInProgress = false;
        callback();
      }
    }
  };

  this.resetNavigation = function (callback) {
    var _this = this;

    var listIcon = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.container, '.cl-main-widget-lb-header-list-icon');
    Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_4__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.container, '.cl-main-widget-navigation-items .cl-active-nav'), function (obj) {
      Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_3__["default"])(obj, 'cl-active-nav');
    });
    Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_4__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.container, '.cl-main-widget-section-container .cl-main-active-section'), function (obj) {
      obj.style.display = 'none';
      Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_3__["default"])(obj, 'cl-main-active-section');
    });
    var activeNave = false;
    Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_4__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.container, '.cl-main-widget-navigation-container .cl-main-widget-navigation-item'), function (navItem, key, count) {
      if (!activeNave && !Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_2__["default"])(navItem, 'cl-hidden-navigation-item')) {
        _this.navigationSwitch(Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(navItem, '.cl-main-navigation-item'));

        activeNave = true;
      }
    });
    listIcon.style.opacity = '1';

    _this.hideEmbeddedCompetitionDetailsContent();

    _this.hideCompetitionList();

    setTimeout(function () {
      if (typeof callback !== 'undefined') callback();
    }, 70);
  };

  this.initLayout = function (callback) {
    var _this = this;

    _this.settings.active = true;

    _this.loadLeaderboard();

    _this.settings.container.style.display = 'block';
    _this.settings.overlayContainer.style.display = 'block';
    setTimeout(function () {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_7__["default"])(_this.settings.container, 'cl-show');
      var member = Object(_utils_query__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.leaderboard.list, '.cl-lb-member-row');

      if (member !== null) {
        _this.missingMember(_this.isElementVisibleInView(member, _this.settings.leaderboard.list.parentNode));

        _this.missingMember(_this.isElementVisibleInView(member, _this.settings.leaderboard.resultContainer));
      }

      _this.resetNavigation(callback);
    }, 30);
  };
};

/***/ }),

/***/ "./src/javascript/modules/Messaging.js":
/*!*********************************************!*\
  !*** ./src/javascript/modules/Messaging.js ***!
  \*********************************************/
/*! exports provided: Messaging */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Messaging", function() { return Messaging; });
/* harmony import */ var _cLabs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cLabs */ "./src/javascript/modules/cLabs.js");

/**
 * SSE Messaging
 * @param options {Object}
 * @constructor
 */

var Messaging = function Messaging(options) {
  /**
   * Messaging settings
   * @memberOf Messaging
   * @constant
   * @type { Object }
   */
  this.settings = {
    source: null,
    ajax: {
      url: null,
      apiKey: undefined,
      errorCallback: function errorCallback() {}
    },
    sseUrl: null,
    heartbeat: null,
    lastHeartbeat: null,
    mainAjax: new _cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].Ajax(),
    heartBeatAjax: new _cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].Ajax(),
    heartWaitTime: 25000,
    messageQueue: [],
    messageInterval: 1000,
    startupCheck: true,
    active: false,
    debug: false,
    callback: function callback(data) {},
    onStartupError: function onStartupError() {}
  };

  if (typeof options !== 'undefined') {
    for (var opt in options) {
      if (options.hasOwnProperty(opt)) {
        this.settings[opt] = options[opt];
      }
    }
  }

  this.intervalInstance = null;
  this.heartbeatIntervalInstance = null;

  this.lookupData = function () {
    var _this = this;

    if (_this.settings.messageQueue.length > 0) {
      var data = _this.settings.messageQueue[0];

      var index = _this.settings.messageQueue.indexOf(data);

      if (index > -1) {
        _this.settings.messageQueue.splice(index, 1);
      }

      if (typeof _this.settings.ajax.url === 'string' && _this.settings.ajax.url.length > 0) {
        _this.getData(data);
      } else {
        _this.settings.callback(data);
      }
    }
  };

  this.setInterval = function () {
    var _this = this;

    _this.intervalInstance = setInterval(function () {
      _this.lookupData();
    }, _this.settings.messageInterval);

    if (_this.settings.heartbeat !== null) {
      _this.settings.lastHeartbeat = new Date();
      _this.heartbeatIntervalInstance = setInterval(function () {
        var currentTime = new Date();
        var diff = _this.settings.lastHeartbeat.getTime() - currentTime.getTime();

        if (_this.settings.source.readyState === 0 && diff > _this.settings.heartWaitTime) {
          _this.closeChanel();
        }

        _this.hearBeatCheck();
      }, _this.settings.heartWaitTime);
    }
  };
  /**
   * Request a heartbeat
   * - if the request is failing close the connection
   * - if the request is successful but the connection is closed reopen and call for a heartbeat again
   *
   * @memberOf Messaging
   * @return {undefined}
   */


  this.hearBeatCheck = function () {
    var _this = this;

    var dataObj = {
      url: _this.settings.heartbeat,
      headers: _this.settings.ajax.apiKey,
      type: 'GET',
      success: function success(response, dataObject, xhr) {
        if (xhr.status !== 200 && _this.settings.source.readyState === 0) {
          if (_this.settings.debug) console.log('[Msg] SSE Closing connection');

          _this.closeChanel();
        } else if (xhr.status === 200 && _this.settings.source.readyState === 2) {
          if (_this.settings.debug) console.log('[Msg] SSE Trying to re-open the connection');

          _this.openChanel();

          setTimeout(function () {
            _this.hearBeatCheck();
          }, 200);
        }
      }
    };

    if (typeof _this.settings.ajax.apiKey !== 'undefined') {
      dataObj.headers = _this.settings.ajax.apiKey;
    }

    _this.settings.heartBeatAjax.abort().getData(dataObj);
  };

  this.getData = function () {
    var _this = this;

    var dataObj = {
      url: _this.settings.ajax.url,
      type: 'GET',
      success: function success(response, dataObject, xhr) {
        var json = {};

        try {
          json = JSON.parse(response);
        } catch (e) {
          if (_this.settings.debug) console.log(e, _this.settings);
        }

        if (xhr.status === 200) {
          _this.settings.callback(json);
        } else {
          _this.settings.ajax.errorCallback(json);
        }
      }
    };

    if (typeof _this.settings.ajax.apiKey !== 'undefined') {
      dataObj.headers = _this.settings.ajax.apiKey;
    }

    _this.settings.mainAjax.abort().getData(dataObj);
  };

  this.openChanel = function () {
    var _this = this;

    _this.settings.source = new EventSource(_this.settings.sseUrl, {
      withCredentials: true
    });

    _this.serverSideEventListeners(_this.settings.source);
  };

  this.serverSideEventListeners = function (source) {
    var _this = this;

    source.addEventListener('open', function (e) {
      _this.settings.active = true;
      if (_this.settings.debug) console.log('[Msg] connection opened', e);
    }, false);
    source.addEventListener('message', function (e) {
      if (_this.settings.debug) {
        console.log('[Msg] message check', _this.settings.sseUrl);
        console.log(e.data);
      }

      var data = e.data;
      var json = null;

      try {
        json = JSON.parse(data);
      } catch (e) {}

      if (_this.settings.heartbeat !== null) {
        _this.settings.lastHeartbeat = new Date();
      }

      if (json !== null && typeof json.heartbeat === 'undefined') {
        _this.settings.messageQueue.push(json);
      }
    }, false);
    source.addEventListener('error', function (e) {
      if (_this.settings.debug) {
        console.log('[Msg] error check', _this.settings.sseUrl);
      }
      /* eslint eqeqeq: "off" */


      if (e.readyState == EventSource.CLOSED) {
        if (_this.settings.debug) console.warn('[Msg] connection closed', e);
      } else {
        if (_this.settings.debug) console.log(e, e.readyState);
      }

      _this.closeChanel();

      _this.settings.startupCheck = false;
    }, false);
  };

  this.closeChanel = function () {
    this.settings.active = false;
    this.settings.source.close();
  };

  this.sseFailed = function () {
    var _this = this;

    _this.settings.heartbeat = null;
    _this.settings.active = false;

    if (_this.heartbeatIntervalInstance !== null) {
      clearInterval(_this.heartbeatIntervalInstance);
    }

    _this.settings.onStartupError(_this.settings);
  };

  this.windowActivity = function () {
    var _this = this;

    (function () {
      var hidden = 'hidden'; // Standards:

      if (hidden in document) {
        document.addEventListener('visibilitychange', onchange);
      } else if ((hidden = 'mozHidden') in document) {
        document.addEventListener('mozvisibilitychange', onchange);
      } else if ((hidden = 'webkitHidden') in document) {
        document.addEventListener('webkitvisibilitychange', onchange);
      } else if ((hidden = 'msHidden') in document) {
        document.addEventListener('msvisibilitychange', onchange);
      } else if ('onfocusin' in document) {
        // IE 9 and lower:
        document.onfocusin = document.onfocusout = onchange;
      } else {
        // All others:
        window.onpageshow = window.onpagehide = window.onfocus = window.onblur = onchange;
      }

      function onchange(evt) {
        var status = '';
        var v = 'visible';
        var h = 'hidden';
        var evtMap = {
          focus: v,
          focusin: v,
          pageshow: v,
          blur: h,
          focusout: h,
          pagehide: h
        };
        evt = evt || window.event;

        if (evt.type in evtMap) {
          status = evtMap[evt.type];
        } else {
          status = this[hidden] ? 'hidden' : 'visible';
        }

        if (status === 'visible' && _this.settings.source.readyState !== 0 && _this.settings.source.readyState !== 1) {
          _this.openChanel();
        } else if (status === 'hidden' && (_this.settings.source.readyState === 0 || _this.settings.source.readyState === 1)) {
          _this.closeChanel();
        }
      } // set the initial state (but only if browser supports the Page Visibility API)


      if (document[hidden] !== undefined) {
        onchange({
          type: document[hidden] ? 'blur' : 'focus'
        });
      }
    })();
  };

  this.init = function () {
    var _this = this;

    try {
      if (_this.settings.debug) console.log('[Msg] SSE starting', _this.settings.sseUrl, new Date());

      _this.openChanel();

      if (_this.settings.debug) console.log('[Msg] SSE started', _this.settings.sseUrl, new Date(), _this.settings.source.readyState);

      _this.setInterval();

      _this.windowActivity();

      setTimeout(function () {
        if (!_this.settings.startupCheck) {
          console.log('sse failed');

          _this.sseFailed();
        }
      }, 2000);
      window.addEventListener('unload', function (event) {
        if (_this.settings.debug) console.log('[Msg] closing messaging service', new Date());

        _this.settings.source.close();

        _this.settings.active = false;

        _this.settings.heartBeatAjax.abort();

        if (_this.intervalInstance) {
          clearInterval(_this.intervalInstance);
        }
      });
      window.addEventListener('beforeunload', function (event) {
        if (_this.settings.debug) console.log('[Msg] closing messaging service');

        _this.settings.source.close();

        _this.settings.heartBeatAjax.abort();

        if (_this.intervalInstance) {
          clearInterval(_this.intervalInstance);
        }
      });
    } catch (e) {
      if (_this.settings.debug) console.log('EventSource failed');

      _this.sseFailed();
    }
  };

  this.init();
};

/***/ }),

/***/ "./src/javascript/modules/MiniScoreBoard.js":
/*!**************************************************!*\
  !*** ./src/javascript/modules/MiniScoreBoard.js ***!
  \**************************************************/
/*! exports provided: MiniScoreBoard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MiniScoreBoard", function() { return MiniScoreBoard; });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/query */ "./src/javascript/utils/query.js");
/* harmony import */ var _utils_mapObject__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/mapObject */ "./src/javascript/utils/mapObject.js");
/* harmony import */ var _utils_addClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/addClass */ "./src/javascript/utils/addClass.js");
/* harmony import */ var _utils_hasClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/hasClass */ "./src/javascript/utils/hasClass.js");
/* harmony import */ var _utils_removeClass__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/removeClass */ "./src/javascript/utils/removeClass.js");
/* harmony import */ var _utils_remove__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/remove */ "./src/javascript/utils/remove.js");
/* harmony import */ var _dragElement__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./dragElement */ "./src/javascript/modules/dragElement.js");








/**
 * MiniScoreBoard
 * @param options {Object}
 * @constructor
 */

var MiniScoreBoard = function MiniScoreBoard(options) {
  /**
   * MiniScoreBoard settings
   * @memberOf MiniScoreBoard
   * @constant
   * @type { Object }
   */
  this.settings = {
    lbWidget: null,
    container: null,
    overlayContainer: null,
    infoContainer: null,
    updateInterval: null,
    updateIntervalTime: 1000,
    active: false,
    enableDragging: true,
    dragging: false
  };

  if (typeof options !== 'undefined') {
    for (var opt in options) {
      if (options.hasOwnProperty(opt)) {
        this.settings[opt] = options[opt];
      }
    }
  }

  this.layout = function () {
    var wrapper = document.createElement('div');
    var iconWrapper = document.createElement('div');
    var icon = document.createElement('div');
    var informationWrapper = document.createElement('div');
    var informationTopWrapper = document.createElement('div');
    var informationWrapperClose = document.createElement('div');
    var informationClose = document.createElement('a');
    wrapper.setAttribute('class', 'cl-widget-ms-wrapper');
    iconWrapper.setAttribute('class', 'cl-widget-ms-icon-wrapper');
    icon.setAttribute('class', 'cl-widget-ms-icon');
    informationTopWrapper.setAttribute('class', 'cl-widget-ms-information-top-wrapper');
    informationWrapper.setAttribute('class', 'cl-widget-ms-information-wrapper');
    informationWrapperClose.setAttribute('class', 'cl-widget-ms-information-close-wrapper');
    informationClose.setAttribute('class', 'cl-widget-ms-information-close');
    informationClose.href = 'javascript:void(0);';
    informationClose.innerHTML = 'x';
    informationWrapperClose.appendChild(informationClose);
    informationWrapper.appendChild(informationWrapperClose);
    informationTopWrapper.appendChild(informationWrapper);
    iconWrapper.appendChild(icon);
    wrapper.appendChild(iconWrapper);
    wrapper.appendChild(informationTopWrapper);
    return wrapper;
  };

  this.overlayLayout = function () {
    var wrapper = document.createElement('div');
    wrapper.setAttribute('class', 'cl-widget-ms-overlay-wrapper');
    return wrapper;
  };

  this.timeManagement = function () {
    var _this = this;

    var diff = 0;
    var label = '';
    var date = '';
    var dateObj = '';
    var inverse = false;

    if (_this.settings.lbWidget.settings.competition.activeContest !== null) {
      diff = moment__WEBPACK_IMPORTED_MODULE_0___default()(_this.settings.lbWidget.settings.competition.activeContest.scheduledStart).diff(moment__WEBPACK_IMPORTED_MODULE_0___default()());
      label = _this.settings.lbWidget.settings.translation.miniLeaderboard.startsIn;
      date = _this.settings.lbWidget.formatDateTime(moment__WEBPACK_IMPORTED_MODULE_0___default.a.duration(diff));
      dateObj = _this.settings.lbWidget.formatDateTime(moment__WEBPACK_IMPORTED_MODULE_0___default.a.duration(diff));
      inverse = false;

      if (diff < 0 && _this.settings.lbWidget.settings.competition.activeContest.statusCode === 0) {
        label = _this.settings.lbWidget.settings.translation.miniLeaderboard.starting;
        date = '';
      } else if (_this.settings.lbWidget.settings.competition.activeContest.statusCode > 0 && _this.settings.lbWidget.settings.competition.activeContest.statusCode < 3) {
        diff = moment__WEBPACK_IMPORTED_MODULE_0___default()(_this.settings.lbWidget.settings.competition.activeContest.scheduledEnd).diff(moment__WEBPACK_IMPORTED_MODULE_0___default()());
        dateObj = _this.settings.lbWidget.formatDateTime(moment__WEBPACK_IMPORTED_MODULE_0___default.a.duration(diff));
        label = _this.settings.lbWidget.formatDateTime(moment__WEBPACK_IMPORTED_MODULE_0___default.a.duration(diff));
        date = _this.settings.lbWidget.settings.translation.miniLeaderboard.rank;
        inverse = true;
      } else if (_this.settings.lbWidget.settings.competition.activeContest.statusCode === 3) {
        label = _this.settings.lbWidget.settings.translation.miniLeaderboard.finishing;
        date = _this.settings.lbWidget.settings.translation.miniLeaderboard.rank;
        inverse = true;
      } else if (_this.settings.lbWidget.settings.competition.activeContest.statusCode >= 4) {
        label = _this.settings.lbWidget.settings.translation.miniLeaderboard.finished;
        date = _this.settings.lbWidget.settings.translation.miniLeaderboard.rank;
        inverse = true;
      }
    }

    return {
      label: label,
      diff: diff,
      date: date,
      dateObj: dateObj,
      inverse: inverse
    };
  };

  this.layoutDefaultOrEmptyEntry = function () {
    var lbResultsMemEntry = document.createElement('div');
    var lbResultsMemLabel = document.createElement('div');
    var lbResultsMemRank = document.createElement('div');
    var lbResultsMemIcon = document.createElement('div');
    var lbResultsMemImg = document.createElement('img');
    var lbResultsMemPoints = document.createElement('div');
    lbResultsMemEntry.setAttribute('class', 'cl-widget-ms-default-mem-entry');
    lbResultsMemLabel.setAttribute('class', 'cl-widget-ms-default-mem-label');
    lbResultsMemRank.setAttribute('class', 'cl-widget-ms-default-mem-rank');
    lbResultsMemIcon.setAttribute('class', 'cl-widget-ms-default-mem-icon');
    lbResultsMemImg.setAttribute('class', 'cl-widget-ms-default-mem-img');
    lbResultsMemImg.style.display = 'none';
    lbResultsMemPoints.setAttribute('class', 'cl-widget-ms-default-mem-points');
    lbResultsMemEntry.appendChild(lbResultsMemLabel);
    lbResultsMemEntry.appendChild(lbResultsMemRank);
    lbResultsMemIcon.appendChild(lbResultsMemImg);
    lbResultsMemEntry.appendChild(lbResultsMemIcon);
    lbResultsMemEntry.appendChild(lbResultsMemPoints);
    return lbResultsMemEntry;
  };

  this.layoutFirstToOrEmptyEntry = function () {
    var lbResultsMemEntry = document.createElement('div');
    var lbResultsMemLabel = document.createElement('div');
    var lbResultsMemRank = document.createElement('div');
    var lbResultsMemIcon = document.createElement('div');
    var lbResultsMemImg = document.createElement('img');
    var lbResultsMemPoints = document.createElement('div');
    lbResultsMemEntry.setAttribute('class', 'cl-widget-ms-first-to-mem-entry');
    lbResultsMemLabel.setAttribute('class', 'cl-widget-ms-first-to-mem-label');
    lbResultsMemRank.setAttribute('class', 'cl-widget-ms-first-to-mem-rank');
    lbResultsMemIcon.setAttribute('class', 'cl-widget-ms-first-to-mem-icon');
    lbResultsMemImg.setAttribute('class', 'cl-widget-ms-first-to-mem-img');
    lbResultsMemImg.style.display = 'none';
    lbResultsMemPoints.setAttribute('class', 'cl-widget-ms-first-to-mem-points');
    lbResultsMemEntry.appendChild(lbResultsMemLabel);
    lbResultsMemEntry.appendChild(lbResultsMemRank);
    lbResultsMemIcon.appendChild(lbResultsMemImg);
    lbResultsMemEntry.appendChild(lbResultsMemIcon);
    lbResultsMemEntry.appendChild(lbResultsMemPoints);
    return lbResultsMemEntry;
  }; // let testLive = false;


  this.layoutDefaultOrEmpty = function () {
    var _this = this;

    var timeManagement = _this.timeManagement(); // var diff = timeManagement.diff;


    var label = timeManagement.label;
    var date = timeManagement.date;
    var dateObj = timeManagement.dateObj;
    var wrapperDomObj = _this.settings.infoContainer;
    var defaultDomObj = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-default-wrapper');
    var inverse = timeManagement.inverse;

    if (defaultDomObj === null) {
      _this.removeUnusedElements();

      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_3__["default"])(_this.settings.container, 'cl-ms-default-style');
      var lbWrapper = document.createElement('div');
      var lbDateWrapper = document.createElement('div');
      var lbDateLabel = document.createElement('div');
      var lbDate = document.createElement('div');
      var lbResultsWrapper = document.createElement('div');
      var lbResultsList = document.createElement('div');
      var lbHeaders = document.createElement('div');
      var lbHeadersRank = document.createElement('div');
      var lbHeadersPoints = document.createElement('div');

      var lbResultsMemEntry = _this.layoutDefaultOrEmptyEntry();

      var img = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbResultsMemEntry, '.cl-widget-ms-default-mem-img');
      lbWrapper.setAttribute('class', 'cl-widget-ms-default-wrapper');
      lbDateLabel.setAttribute('class', 'cl-widget-ms-default-date-label');
      lbDate.setAttribute('class', 'cl-widget-ms-default-date');
      lbDateWrapper.setAttribute('class', 'cl-widget-ms-default-date-wrapper');
      lbResultsWrapper.setAttribute('class', 'cl-widget-ms-default-results-wrapper');
      lbResultsList.setAttribute('class', 'cl-widget-ms-default-results-list');
      lbHeaders.setAttribute('class', 'cl-widget-ms-default-results-headers');
      lbHeadersRank.setAttribute('class', 'cl-widget-ms-default-results-header-rank');
      lbHeadersPoints.setAttribute('class', 'cl-widget-ms-default-results-header-points');
      lbResultsMemEntry.setAttribute('class', 'cl-widget-ms-default-mem-entry'); // lbDateLabel.innerHTML = label;

      lbDate.innerHTML = dateObj;
      lbDateWrapper.appendChild(lbDateLabel);
      lbDateWrapper.appendChild(lbDate);
      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbResultsMemEntry, '.cl-widget-ms-default-mem-rank').innerHTML = '--';
      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbResultsMemEntry, '.cl-widget-ms-default-mem-points').innerHTML = '--';
      img.src = '';
      img.alt = '';
      img.style.display = 'block';
      lbHeadersRank.innerHTML = _this.settings.lbWidget.settings.translation.leaderboard.rank;
      lbHeadersPoints.innerHTML = _this.settings.lbWidget.settings.translation.leaderboard.points;
      lbHeaders.appendChild(lbHeadersRank);
      lbHeaders.appendChild(lbHeadersPoints);
      lbResultsList.appendChild(lbResultsMemEntry);
      lbResultsWrapper.appendChild(lbHeaders);
      lbResultsWrapper.appendChild(lbResultsList);
      lbWrapper.appendChild(lbDateWrapper);
      lbWrapper.appendChild(lbResultsWrapper);
      defaultDomObj = wrapperDomObj.appendChild(lbWrapper);
      setTimeout(function () {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_3__["default"])(wrapperDomObj, 'cl-show');
      }, 200);
    } else {
      if (!Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_4__["default"])(wrapperDomObj, 'cl-show')) {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_3__["default"])(wrapperDomObj, 'cl-show');
      }

      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-default-date-label').innerHTML = label;
      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-default-date').innerHTML = date;
    }

    Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_2__["default"])(_this.settings.lbWidget.settings.leaderboard.leaderboardData, function (lbEntry) {
      if ((lbEntry.memberRefId === _this.settings.lbWidget.settings.memberId || lbEntry.memberId === _this.settings.lbWidget.settings.memberId) && typeof lbEntry.rankings !== 'undefined') {
        var scoreArea = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(defaultDomObj, '.cl-widget-ms-default-results-list');
        scoreArea.innerHTML = '';
        Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-default-date-label').innerHTML = '';
        Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-default-date').innerHTML = dateObj;
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_3__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-default-date-wrapper'), 'cl-widget-ms-default-date-only');
        Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_2__["default"])(lbEntry.rankings, function (lbRankingEntry) {
          var icon = _this.settings.lbWidget.populateIdenticonBase64Image(lbRankingEntry.memberId);

          var lbWrapper = _this.layoutDefaultOrEmptyEntry();

          var img = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbWrapper, '.cl-widget-ms-default-mem-img');
          var selfMember = lbRankingEntry.memberRefId === _this.settings.lbWidget.settings.memberId || lbRankingEntry.memberId === _this.settings.lbWidget.settings.memberId;
          img.src = icon;
          img.alt = '';
          img.style.display = 'block';

          if (selfMember) {
            Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_3__["default"])(lbWrapper, 'cl-widget-ms-default-mem-self');
          }

          Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbWrapper, '.cl-widget-ms-default-mem-label').innerHTML = selfMember ? 'YOU' : '';
          Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbWrapper, '.cl-widget-ms-default-mem-rank').innerHTML = "<span class='cl-mem-rank-label'>" + _this.settings.lbWidget.settings.translation.leaderboard.rank + "</span><span class='cl-mem-rank'>" + lbRankingEntry.rank + '</span>';
          Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbWrapper, '.cl-widget-ms-default-mem-points').innerHTML = "<span class='cl-mem-points-label'>" + _this.settings.lbWidget.settings.translation.leaderboard.points + "</span><span class='cl-mem-points'>" + lbRankingEntry.points + '</span>';
          scoreArea.appendChild(lbWrapper);
        }); // testLive = true;
        //  var lastScore = query(_this.settings.container, ".cl-widget-ms-default-last-score").innerHTML,
        //  highScore = query(_this.settings.container, ".cl-widget-ms-default-high-score").innerHTML,
        //  rank = query(_this.settings.container, ".cl-widget-ms-default-rank-value"),
        //  change = (lbEntry.change < 0) ? "down" : ( lbEntry.change > 0 ? "up" : "same" ),
        //  rankValue = lbEntry.rank;
        //
        // if( lastScore !== String(lbEntry.points) && String(lbEntry.points) !== highScore ){
        //  query(_this.settings.container, ".cl-widget-ms-default-last-score").innerHTML = highScore;
        // }
        //
        // query(_this.settings.container, ".cl-widget-ms-default-high-score").innerHTML = lbEntry.points;
        //
        // removeClass(rank, "cl-ms-rank-up");
        // removeClass(rank, "cl-ms-rank-down");
        // removeClass(rank, "cl-ms-rank-same");
        //
        // addClass(rank, "cl-ms-rank-" + change);
        //
        // rank.innerHTML = rankValue;
      }
    });

    if (inverse && !Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_4__["default"])(defaultDomObj, 'cl-inverse')) {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_3__["default"])(defaultDomObj, 'cl-inverse');
    }
  };

  this.layoutFirstToOrEmpty = function (strategy) {
    var _this = this;

    var timeManagement = _this.timeManagement(); // var diff = timeManagement.diff;


    var label = timeManagement.label;
    var date = timeManagement.date;
    var dateObj = timeManagement.dateObj;
    var wrapperDomObj = _this.settings.infoContainer;
    var defaultDomObj = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-first-to-wrapper');
    var inverse = timeManagement.inverse;

    if (defaultDomObj === null) {
      _this.removeUnusedElements();

      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_3__["default"])(_this.settings.container, 'cl-ms-first-to-style');
      var lbWrapper = document.createElement('div');
      var lbDateWrapper = document.createElement('div');
      var lbDateLabel = document.createElement('div');
      var lbDate = document.createElement('div');
      var lbResultsWrapper = document.createElement('div');
      var lbResultsList = document.createElement('div');
      var lbHeaders = document.createElement('div');
      var lbHeadersRank = document.createElement('div');
      var lbHeadersPoints = document.createElement('div');

      var lbResultsMemEntry = _this.layoutFirstToOrEmptyEntry();

      var img = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbResultsMemEntry, '.cl-widget-ms-first-to-mem-img');
      lbWrapper.setAttribute('class', 'cl-widget-ms-first-to-wrapper');
      lbDateLabel.setAttribute('class', 'cl-widget-ms-first-to-date-label');
      lbDate.setAttribute('class', 'cl-widget-ms-first-to-date');
      lbDateWrapper.setAttribute('class', 'cl-widget-ms-first-to-date-wrapper');
      lbResultsWrapper.setAttribute('class', 'cl-widget-ms-first-to-results-wrapper');
      lbResultsList.setAttribute('class', 'cl-widget-ms-first-to-results-list');
      lbHeaders.setAttribute('class', 'cl-widget-ms-first-to-results-headers');
      lbHeadersRank.setAttribute('class', 'cl-widget-ms-first-to-results-header-rank');
      lbHeadersPoints.setAttribute('class', 'cl-widget-ms-first-to-results-header-points');
      lbResultsMemEntry.setAttribute('class', 'cl-widget-ms-first-to-mem-entry'); // lbDateLabel.innerHTML = label;

      lbDate.innerHTML = dateObj;
      lbDateWrapper.appendChild(lbDateLabel);
      lbDateWrapper.appendChild(lbDate);
      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbResultsMemEntry, '.cl-widget-ms-first-to-mem-rank').innerHTML = '--';
      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbResultsMemEntry, '.cl-widget-ms-first-to-mem-points').innerHTML = '--/' + strategy.recordTimeWhenSumReaches;
      img.src = '';
      img.alt = '';
      img.style.display = 'block';
      lbHeadersRank.innerHTML = _this.settings.lbWidget.settings.translation.leaderboard.rank;
      lbHeadersPoints.innerHTML = _this.settings.lbWidget.settings.translation.leaderboard.points;
      lbHeaders.appendChild(lbHeadersRank);
      lbHeaders.appendChild(lbHeadersPoints);
      lbResultsList.appendChild(lbResultsMemEntry);
      lbResultsWrapper.appendChild(lbHeaders);
      lbResultsWrapper.appendChild(lbResultsList);
      lbWrapper.appendChild(lbDateWrapper);
      lbWrapper.appendChild(lbResultsWrapper);
      defaultDomObj = wrapperDomObj.appendChild(lbWrapper);
      setTimeout(function () {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_3__["default"])(wrapperDomObj, 'cl-show');
      }, 200);
    } else {
      if (!Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_4__["default"])(wrapperDomObj, 'cl-show')) {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_3__["default"])(wrapperDomObj, 'cl-show');
      }

      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-first-to-date-label').innerHTML = label;
      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-first-to-date').innerHTML = date;
    }

    Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_2__["default"])(_this.settings.lbWidget.settings.leaderboard.leaderboardData, function (lbEntry) {
      if ((lbEntry.memberRefId === _this.settings.lbWidget.settings.memberId || lbEntry.memberId === _this.settings.lbWidget.settings.memberId) && typeof lbEntry.rankings !== 'undefined') {
        var scoreArea = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(defaultDomObj, '.cl-widget-ms-first-to-results-list');
        scoreArea.innerHTML = '';
        Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-first-to-date-label').innerHTML = '';
        Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-first-to-date').innerHTML = dateObj;
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_3__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-first-to-date-wrapper'), 'cl-widget-ms-first-to-date-only');
        Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_2__["default"])(lbEntry.rankings, function (lbRankingEntry) {
          var icon = _this.settings.lbWidget.populateIdenticonBase64Image(lbRankingEntry.memberId);

          var lbWrapper = _this.layoutFirstToOrEmptyEntry();

          var img = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbWrapper, '.cl-widget-ms-first-to-mem-img');
          var selfMember = lbRankingEntry.memberRefId === _this.settings.lbWidget.settings.memberId || lbRankingEntry.memberId === _this.settings.lbWidget.settings.memberId;

          if (selfMember) {
            Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_3__["default"])(lbWrapper, 'cl-widget-ms-first-to-mem-self');
          }

          img.src = icon;
          img.alt = '';
          img.style.display = 'block';
          Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbWrapper, '.cl-widget-ms-first-to-mem-label').innerHTML = selfMember ? 'YOU' : '';
          Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbWrapper, '.cl-widget-ms-first-to-mem-rank').innerHTML = "<span class='cl-mem-rank-label'>" + _this.settings.lbWidget.settings.translation.leaderboard.rank + "</span><span class='cl-mem-rank'>" + lbRankingEntry.rank + '</span>';
          Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbWrapper, '.cl-widget-ms-first-to-mem-points').innerHTML = "<span class='cl-mem-points-label'>" + _this.settings.lbWidget.settings.translation.leaderboard.points + "</span><span class='cl-mem-points'>" + lbRankingEntry.points + '/' + strategy.recordTimeWhenSumReaches + '</span>';
          scoreArea.appendChild(lbWrapper);
        });
      }
    });

    if (inverse && !Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_4__["default"])(defaultDomObj, 'cl-inverse')) {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_3__["default"])(defaultDomObj, 'cl-inverse');
    }
  };

  this.layoutSumBestOf = function () {
    var _this = this;

    var timeManagement = _this.timeManagement(); // var diff = timeManagement.diff;


    var label = timeManagement.label;
    var date = timeManagement.date;
    var wrapperDomObj = _this.settings.infoContainer;
    var sumBestDomObj = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-sum-best-wrapper');
    var inverse = timeManagement.inverse;

    if (sumBestDomObj === null) {
      _this.removeUnusedElements();

      var lbWrapper = document.createElement('div');
      var lbDateWrapper = document.createElement('div');
      var lbDateLabel = document.createElement('div');
      var lbDate = document.createElement('div');
      var lbResultsWrapper = document.createElement('div');
      var lbResultsScoreArea = document.createElement('div');
      var lbResultsScoreAreaHigh = document.createElement('div');
      var lbResultsScoreAreaHighLabel = document.createElement('div');
      var lbResultsScoreAreaHighScore = document.createElement('div');
      var lbResultsScoreAreaLast = document.createElement('div');
      var lbResultsScoreAreaLastLabel = document.createElement('div');
      var lbResultsScoreAreaLastScore = document.createElement('div');
      var lbResultsRankArea = document.createElement('div');
      var lbResultsRankValue = document.createElement('span');
      lbWrapper.setAttribute('class', 'cl-widget-ms-sum-best-wrapper');
      lbDateLabel.setAttribute('class', 'cl-widget-ms-sum-best-date-label');
      lbDate.setAttribute('class', 'cl-widget-ms-sum-best-date');
      lbDateWrapper.setAttribute('class', 'cl-widget-ms-sum-best-date-wrapper');
      lbResultsWrapper.setAttribute('class', 'cl-widget-ms-sum-best-results-wrapper');
      lbResultsScoreArea.setAttribute('class', 'cl-widget-ms-sum-best-area');
      lbResultsScoreAreaHigh.setAttribute('class', 'cl-widget-ms-sum-best-high-area');
      lbResultsScoreAreaHighLabel.setAttribute('class', 'cl-widget-ms-sum-best-high-label');
      lbResultsScoreAreaHighScore.setAttribute('class', 'cl-widget-ms-sum-best-high-score');
      lbResultsScoreAreaLast.setAttribute('class', 'cl-widget-ms-sum-best-last-area');
      lbResultsScoreAreaLastLabel.setAttribute('class', 'cl-widget-ms-sum-best-last-label');
      lbResultsScoreAreaLastScore.setAttribute('class', 'cl-widget-ms-sum-best-last-score');
      lbResultsRankArea.setAttribute('class', 'cl-widget-ms-sum-best-rank-area');
      lbResultsRankValue.setAttribute('class', 'cl-widget-ms-sum-best-rank-value');
      lbDateLabel.innerHTML = label;
      lbDate.innerHTML = date;
      lbResultsScoreAreaHighLabel.innerHTML = _this.settings.lbWidget.settings.translation.miniLeaderboard.highScore;
      lbResultsScoreAreaHighScore.innerHTML = '--';
      lbResultsScoreAreaHigh.appendChild(lbResultsScoreAreaHighLabel);
      lbResultsScoreAreaHigh.appendChild(lbResultsScoreAreaHighScore);
      lbResultsScoreArea.appendChild(lbResultsScoreAreaHigh);
      lbResultsScoreAreaLastLabel.innerHTML = _this.settings.lbWidget.settings.translation.miniLeaderboard.lastScore;
      lbResultsScoreAreaLastScore.innerHTML = '--';
      lbResultsScoreAreaLast.appendChild(lbResultsScoreAreaLastLabel);
      lbResultsScoreAreaLast.appendChild(lbResultsScoreAreaLastScore);
      lbResultsScoreArea.appendChild(lbResultsScoreAreaLast);
      lbResultsRankValue.innerHTML = '--';
      lbResultsRankArea.appendChild(lbResultsRankValue);
      lbResultsWrapper.appendChild(lbResultsScoreArea);
      lbResultsWrapper.appendChild(lbResultsRankArea);
      lbDateWrapper.appendChild(lbDateLabel);
      lbDateWrapper.appendChild(lbDate);
      lbWrapper.appendChild(lbDateWrapper);
      lbWrapper.appendChild(lbResultsWrapper);
      sumBestDomObj = wrapperDomObj.appendChild(lbWrapper);
      setTimeout(function () {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_3__["default"])(wrapperDomObj, 'cl-show');
      }, 200);
    } else {
      if (!Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_4__["default"])(wrapperDomObj, 'cl-show')) {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_3__["default"])(wrapperDomObj, 'cl-show');
      }

      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-sum-best-date-label').innerHTML = label;
      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-sum-best-date').innerHTML = date;
    }

    Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_2__["default"])(_this.settings.lbWidget.settings.leaderboard.leaderboardData, function (lbEntry) {
      if (lbEntry.memberRefId === _this.settings.lbWidget.settings.memberId || lbEntry.memberId === _this.settings.lbWidget.settings.memberId) {
        var lastScore = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-sum-best-last-score').innerHTML;
        var highScore = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-sum-best-high-score').innerHTML;
        var rank = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-sum-best-rank-value');
        var change = lbEntry.change < 0 ? 'down' : lbEntry.change > 0 ? 'up' : 'same';
        var rankValue = lbEntry.rank;

        if (lastScore !== String(lbEntry.points) && String(lbEntry.points) !== highScore) {
          Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-sum-best-last-score').innerHTML = highScore;
        }

        Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-sum-best-high-score').innerHTML = lbEntry.points;
        Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_5__["default"])(rank, 'cl-ms-rank-up');
        Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_5__["default"])(rank, 'cl-ms-rank-down');
        Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_5__["default"])(rank, 'cl-ms-rank-same');
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_3__["default"])(rank, 'cl-ms-rank-' + change);
        rank.innerHTML = rankValue;
      }
    });

    if (inverse && !Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_4__["default"])(sumBestDomObj, 'cl-inverse')) {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_3__["default"])(sumBestDomObj, 'cl-inverse');
    }
  };

  this.layoutRequiresOptIn = function () {
    var _this = this;

    var diff = moment__WEBPACK_IMPORTED_MODULE_0___default()(_this.settings.lbWidget.settings.competition.activeCompetition.scheduledStart).diff(moment__WEBPACK_IMPORTED_MODULE_0___default()());
    var label = 'Starting In';
    var wrapperDomObj = _this.settings.infoContainer;

    var date = _this.settings.lbWidget.formatDateTime(moment__WEBPACK_IMPORTED_MODULE_0___default.a.duration(diff));

    if (diff < 0 && _this.settings.lbWidget.settings.competition.activeContest.statusCode === 0) {
      label = 'starting';
      date = '';
    } else if (_this.settings.lbWidget.settings.competition.activeContest.statusCode > 0 && _this.settings.lbWidget.settings.competition.activeContest.statusCode < 3) {
      diff = moment__WEBPACK_IMPORTED_MODULE_0___default()(_this.settings.lbWidget.settings.competition.activeContest.scheduledEnd).diff(moment__WEBPACK_IMPORTED_MODULE_0___default()());
      label = 'started';
      date = _this.settings.lbWidget.formatDateTime(moment__WEBPACK_IMPORTED_MODULE_0___default.a.duration(diff));
    } else if (_this.settings.lbWidget.settings.competition.activeContest.statusCode === 3) {
      label = 'finishing';
      date = '';
    } else if (_this.settings.lbWidget.settings.competition.activeContest.statusCode >= 4) {
      label = 'finished';
      date = '';
    }

    if (Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-optin-wrapper') === null) {
      _this.removeUnusedElements();

      var optInWrapper = document.createElement('div');
      var optInDateWrapper = document.createElement('div');
      var optInDateLabel = document.createElement('div');
      var optInDate = document.createElement('div');
      var optInDateActionWrapper = document.createElement('div');
      var optInDateAction = document.createElement('a');
      optInWrapper.setAttribute('class', 'cl-widget-ms-optin-wrapper');
      optInDateLabel.setAttribute('class', 'cl-widget-ms-optin-date-label');
      optInDate.setAttribute('class', 'cl-widget-ms-optin-date');
      optInDateWrapper.setAttribute('class', 'cl-widget-ms-optin-date-wrapper');
      optInDateActionWrapper.setAttribute('class', 'cl-widget-ms-optin-action-wrapper');
      optInDateAction.setAttribute('class', 'cl-widget-ms-optin-action');
      optInDateLabel.innerHTML = label;
      optInDate.innerHTML = date;
      optInDateAction.innerHTML = _this.settings.lbWidget.settings.translation.tournaments.enter;
      optInDateWrapper.appendChild(optInDateLabel);
      optInDateWrapper.appendChild(optInDate);
      optInDateActionWrapper.appendChild(optInDateAction);
      optInWrapper.appendChild(optInDateWrapper);
      optInWrapper.appendChild(optInDateActionWrapper);
      wrapperDomObj.appendChild(optInWrapper);
      setTimeout(function () {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_3__["default"])(wrapperDomObj, 'cl-show');
      }, 200);
    } else {
      if (!Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_4__["default"])(wrapperDomObj, 'cl-show')) {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_3__["default"])(wrapperDomObj, 'cl-show');
      }

      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-optin-date-label').innerHTML = label;
      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-optin-date').innerHTML = date;
    }
  };

  this.removeUnusedElements = function () {
    var _this = this;

    var defaultLayoutWrapperDomObj = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-default-wrapper');
    var optInWrapperDomObj = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-optin-wrapper');
    var sumBestDomObj = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-sum-best-wrapper');
    var firstToDomObj = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-first-to-wrapper');
    Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.container, 'cl-ms-default-style');
    Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.container, 'cl-ms-optin-style');
    Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.container, 'cl-ms-sum-best-style');
    Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.container, 'cl-ms-first-to-style');

    if (defaultLayoutWrapperDomObj !== null) {
      Object(_utils_remove__WEBPACK_IMPORTED_MODULE_6__["default"])(defaultLayoutWrapperDomObj);
    }

    if (optInWrapperDomObj !== null) {
      Object(_utils_remove__WEBPACK_IMPORTED_MODULE_6__["default"])(optInWrapperDomObj);
    }

    if (sumBestDomObj !== null) {
      Object(_utils_remove__WEBPACK_IMPORTED_MODULE_6__["default"])(sumBestDomObj);
    }

    if (firstToDomObj !== null) {
      Object(_utils_remove__WEBPACK_IMPORTED_MODULE_6__["default"])(firstToDomObj);
    }
  };

  this.clearAll = function () {
    var _this = this;

    if (_this.settings.updateInterval) {
      clearTimeout(_this.settings.updateInterval);
    }

    _this.removeInfoArea();

    _this.settings.active = false;
  };

  this.removeInfoArea = function () {
    var _this = this;

    var wrapperDomObj = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-show');
    var layout = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-default-wrapper');
    if (wrapperDomObj !== null) Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_5__["default"])(wrapperDomObj, 'cl-show');

    if (layout !== null) {
      setTimeout(function () {
        Object(_utils_remove__WEBPACK_IMPORTED_MODULE_6__["default"])(layout);
      }, 300);
    }
  };

  this.updateScoreBoard = function () {
    var _this = this;

    if (_this.settings.updateInterval) {
      clearTimeout(_this.settings.updateInterval);
    }

    _this.settings.updateInterval = setTimeout(function () {
      _this.loadInfoArea(function () {
        _this.updateScoreBoard();
      });
    }, _this.settings.updateIntervalTime);
  };

  this.loadInfoArea = function (callback) {
    var _this = this;

    if (_this.settings.active && _this.settings.lbWidget.settings.competition.activeCompetition !== null && _this.settings.lbWidget.settings.competition.activeCompetition.statusCode < 7) {
      if (typeof _this.settings.lbWidget.settings.competition.activeCompetition.optinRequired === 'boolean' && _this.settings.lbWidget.settings.competition.activeCompetition.optinRequired && typeof _this.settings.lbWidget.settings.competition.activeCompetition.optin === 'boolean' && !_this.settings.lbWidget.settings.competition.activeCompetition.optin) {
        _this.layoutRequiresOptIn();

        callback();
      } else if (_this.settings.lbWidget.settings.competition.activeContest !== null && _this.settings.lbWidget.settings.competition.activeContest.strategy.type === 'SumBest') {
        _this.layoutSumBestOf();

        callback();
      } else if (_this.settings.lbWidget.settings.competition.activeContest !== null && _this.settings.lbWidget.settings.competition.activeContest.strategy.type === 'FirstTo') {
        _this.layoutFirstToOrEmpty(_this.settings.lbWidget.settings.competition.activeContest.strategy);

        callback();
      } else if (_this.settings.lbWidget.settings.competition.activeContestId !== null) {
        _this.layoutDefaultOrEmpty();

        callback();
      } else {
        _this.layoutDefaultOrEmpty();
      }
    } else {
      _this.clearAll();
    }
  };

  this.eventListeners = function () {
    var _this = this;

    Object(_dragElement__WEBPACK_IMPORTED_MODULE_7__["default"])(_this.settings.container, Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-icon'), _this.settings.overlayContainer, _this.settings.lbWidget.settings.bindContainer, function (newTop, newLeft) {
      _this.settings.lbWidget.stopActivity();

      if (newTop <= 5) {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_3__["default"])(_this.settings.container, 'cl-vertical-mini');
      } else if (newLeft <= 5) {
        Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_5__["default"])(_this.settings.container, 'cl-vertical-mini');
      }

      _this.settings.dragging = true;
    }, function () {
      _this.settings.lbWidget.restartActivity();

      setTimeout(function () {
        _this.settings.dragging = false;
      }, 200);
    }, function () {
      _this.settings.lbWidget.clickedMiniScoreBoard();
    });
  };

  this.initLayout = function (callback) {
    var _this = this;

    if (_this.settings.container === null) {
      _this.settings.active = true;
      _this.settings.container = _this.settings.lbWidget.settings.bindContainer.appendChild(_this.layout());
      _this.settings.overlayContainer = _this.settings.lbWidget.settings.bindContainer.appendChild(_this.overlayLayout());
      _this.settings.infoContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-information-wrapper');

      _this.eventListeners();
    }

    if (typeof callback === 'function') {
      callback();
    }
  };

  this.loadScoreBoard = function () {
    var _this = this;

    _this.initLayout(function () {
      _this.loadInfoArea(function () {
        _this.updateScoreBoard();
      });

      setTimeout(function () {
        _this.updateScoreBoard();
      }, 1000);
    });
  };
};

/***/ }),

/***/ "./src/javascript/modules/Notifications.js":
/*!*************************************************!*\
  !*** ./src/javascript/modules/Notifications.js ***!
  \*************************************************/
/*! exports provided: Notifications */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Notifications", function() { return Notifications; });
/* harmony import */ var _Messaging__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Messaging */ "./src/javascript/modules/Messaging.js");
/* harmony import */ var _utils_mapObject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/mapObject */ "./src/javascript/utils/mapObject.js");
/* harmony import */ var _utils_removeClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/removeClass */ "./src/javascript/utils/removeClass.js");
/* harmony import */ var _utils_query__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/query */ "./src/javascript/utils/query.js");
/* harmony import */ var _utils_stripHtml__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/stripHtml */ "./src/javascript/utils/stripHtml.js");
/* harmony import */ var _utils_addClass__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/addClass */ "./src/javascript/utils/addClass.js");






/**
 * Notifications leaderboard widget
 * @param options {Object}
 * @constructor
 */

var Notifications = function Notifications(options) {
  /**
   * Notifications settings
   * @memberOf Notifications
   * @constant
   * @type { Object }
   */
  this.settings = {
    container: null,
    detailsContainer: null,
    canvasInstance: null,
    lbWidget: null,
    eventStream: [],
    checkTimeout: 2000,
    onDisplayCheckTimeout: 10000,
    checkInterval: null,
    autoNotificationHideInterval: null,
    autoNotificationHideTime: 10000,
    displayInProgress: false,
    dataExtractionForCanvas: function dataExtractionForCanvas(data, callback) {
      if (typeof data.metadata !== 'undefined' && data.metadata.length > 0 && typeof callback === 'function') {
        var found = false;
        Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_1__["default"])(data.metadata, function (meta) {
          if (meta.key === 'webAsset' && !found) {
            var responseObj = {
              imageSrc: meta.value
            };
            found = true;
            console.log(responseObj);
            callback(responseObj);
          }
        });
      }
    }
  };

  if (typeof options !== 'undefined') {
    for (var opt in options) {
      if (options.hasOwnProperty(opt)) {
        this.settings[opt] = options[opt];
      }
    }
  }

  this.layoutWrapper = function () {
    var wrapper = document.createElement('div');
    var iconWrapper = document.createElement('div');
    var icon = document.createElement('div');
    var informationWrapper = document.createElement('div');
    var informationTopWrapper = document.createElement('div');
    var informationDetailsContainer = document.createElement('div');
    var informationDetailsLabel = document.createElement('div');
    var informationDetailsDescription = document.createElement('div');
    var informationWrapperClose = document.createElement('div');
    var informationClose = document.createElement('a');
    wrapper.setAttribute('class', 'cl-widget-notif-wrapper');
    iconWrapper.setAttribute('class', 'cl-widget-notif-icon-wrapper');
    icon.setAttribute('class', 'cl-widget-notif-icon');
    informationTopWrapper.setAttribute('class', 'cl-widget-notif-information-top-wrapper');
    informationWrapper.setAttribute('class', 'cl-widget-notif-information-wrapper');
    informationDetailsContainer.setAttribute('class', 'cl-widget-notif-information-details-wrapper');
    informationDetailsLabel.setAttribute('class', 'cl-widget-notif-information-details-label');
    informationDetailsDescription.setAttribute('class', 'cl-widget-notif-information-details-description');
    informationWrapperClose.setAttribute('class', 'cl-widget-notif-information-close-wrapper');
    informationClose.setAttribute('class', 'cl-widget-notif-information-close');
    informationClose.href = 'javascript:void(0);';
    informationClose.innerHTML = 'x';
    informationDetailsContainer.appendChild(informationDetailsLabel);
    informationDetailsContainer.appendChild(informationDetailsDescription);
    informationWrapperClose.appendChild(informationClose);
    informationWrapper.appendChild(informationWrapperClose);
    informationWrapper.appendChild(informationDetailsContainer);
    informationTopWrapper.appendChild(informationWrapper);
    iconWrapper.appendChild(icon);
    wrapper.appendChild(iconWrapper);
    wrapper.appendChild(informationTopWrapper);
    return wrapper;
  };

  var processed = {};

  this.startSSE = function () {
    var _this = this;

    _this.settings.sseInstance = new _Messaging__WEBPACK_IMPORTED_MODULE_0__["Messaging"]({
      sseUrl: _this.settings.lbWidget.settings.uri.gatewayDomain + _this.settings.lbWidget.settings.uri.memberSSE.replace(':space', _this.settings.lbWidget.settings.spaceName).replace(':id', _this.settings.lbWidget.settings.memberId),
      heartbeat: _this.settings.lbWidget.settings.uri.gatewayDomain + _this.settings.lbWidget.settings.uri.memberSSEHeartbeat.replace(':space', _this.settings.lbWidget.settings.spaceName).replace(':id', _this.settings.lbWidget.settings.memberId),
      ajax: {
        url: null,
        apiKey: {
          'X-API-KEY': _this.settings.lbWidget.settings.apiKey
        }
      },
      callback: function callback(data) {
        var dataKey = JSON.stringify(data);
        var currentTime = new Date().getTime();

        if (typeof processed[dataKey] === 'undefined' || typeof processed[dataKey] !== 'undefined' && processed[dataKey] + 10000 < currentTime) {
          processed[JSON.stringify(data)] = currentTime;

          _this.settings.eventStream.push(data);
        }
      },
      onStartupError: function onStartupError(settings) {},
      debug: true
    });
  };

  this.autoNotificationHide = function () {
    var _this = this;

    if (_this.settings.autoNotificationHideInterval) {
      clearTimeout(_this.settings.autoNotificationHideInterval);
    }

    _this.settings.autoNotificationHideInterval = setTimeout(function () {
      _this.hideNotification();
    }, _this.settings.autoNotificationHideTime);
  };

  this.hideNotification = function () {
    var _this = this;

    if (_this.settings.autoNotificationHideInterval) {
      clearTimeout(_this.settings.autoNotificationHideInterval);
    }

    _this.settings.displayInProgress = false;
    Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_2__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_3__["default"])(_this.settings.container, '.cl-widget-notif-information-wrapper'), 'cl-show');
    setTimeout(function () {
      _this.settings.container.style.display = 'none';
    }, 200);
  };

  this.showAchievementNotification = function (data) {
    var _this = this;

    var label = Object(_utils_query__WEBPACK_IMPORTED_MODULE_3__["default"])(_this.settings.detailsContainer, '.cl-widget-notif-information-details-label');
    var description = Object(_utils_query__WEBPACK_IMPORTED_MODULE_3__["default"])(_this.settings.detailsContainer, '.cl-widget-notif-information-details-description');
    var descriptionText = Object(_utils_stripHtml__WEBPACK_IMPORTED_MODULE_4__["default"])(data.data.description);
    label.innerHTML = data.data.name.length > 23 ? data.data.name.substr(0, 23) + '...' : data.data.name;
    description.innerHTML = descriptionText.length > 60 ? descriptionText.substr(0, 60) + '...' : descriptionText;
    _this.settings.detailsContainer.dataset.id = data.data.id;
    _this.settings.container.style.display = 'block';
    setTimeout(function () {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_5__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_3__["default"])(_this.settings.container, '.cl-widget-notif-information-wrapper'), 'cl-show');
    }, 200);

    if (_this.settings.canvasInstance !== null) {
      _this.handleCanvasAnimations(data.data);
    }

    _this.autoNotificationHide();
  };

  this.handleCanvasAnimations = function (data) {
    var _this = this;

    _this.settings.dataExtractionForCanvas(data, function (canvasData) {
      if (canvasData.imageSrc.length > 0) {
        _this.settings.canvasInstance.settings.imageSrc = canvasData.imageSrc;

        _this.settings.canvasInstance.init();
      }
    });
  };

  this.eventStreamCheck = function () {
    var _this = this;

    if (_this.settings.checkInterval) {
      clearTimeout(_this.settings.checkInterval);
    }

    if (_this.settings.eventStream.length > 0 && !_this.settings.displayInProgress) {
      var data = _this.settings.eventStream[0];

      var index = _this.settings.eventStream.indexOf(data);

      if (typeof data.achievementId !== 'undefined') {
        _this.settings.displayInProgress = true;

        _this.settings.lbWidget.getAchievement(data.achievementId, function (data) {
          _this.showAchievementNotification(data);

          _this.settings.checkInterval = setTimeout(function () {
            _this.eventStreamCheck();
          }, _this.settings.onDisplayCheckTimeout);
        });

        _this.settings.eventStream.splice(index, 1);
      } else if (typeof data.notificationId !== 'undefined') {
        _this.settings.checkInterval = setTimeout(function () {
          _this.eventStreamCheck();
        }, _this.settings.checkTimeout);
      } else {
        _this.settings.checkInterval = setTimeout(function () {
          _this.eventStreamCheck();
        }, _this.settings.checkTimeout);
      }

      if (index > -1) {
        _this.settings.eventStream.splice(index, 1);
      }
    } else {
      _this.settings.checkInterval = setTimeout(function () {
        _this.eventStreamCheck();
      }, _this.settings.checkTimeout);
    }
  };

  this.init = function () {
    var _this = this;

    if (_this.settings.container === null) {
      _this.startSSE();

      _this.settings.container = _this.settings.lbWidget.settings.bindContainer.appendChild(_this.layoutWrapper());
      _this.settings.detailsContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_3__["default"])(_this.settings.container, '.cl-widget-notif-information-details-wrapper');
    } else {
      // terminate SSE
      _this.settings.sseInstance.closeChanel(); // update the member


      _this.settings.sseInstance.settings.sseUrl = _this.settings.lbWidget.settings.uri.gatewayDomain + _this.settings.lbWidget.settings.uri.memberSSE.replace(':space', _this.settings.lbWidget.settings.spaceName).replace(':id', _this.settings.lbWidget.settings.memberId);
      _this.settings.sseInstance.settings.heartbeat = _this.settings.lbWidget.settings.uri.gatewayDomain + _this.settings.lbWidget.settings.uri.memberSSEHeartbeat.replace(':space', _this.settings.lbWidget.settings.spaceName).replace(':id', _this.settings.lbWidget.settings.memberId); // re-instantiate SSE

      _this.settings.sseInstance.openChanel();
    }

    _this.eventStreamCheck();
  };
};

/***/ }),

/***/ "./src/javascript/modules/cLabs.js":
/*!*****************************************!*\
  !*** ./src/javascript/modules/cLabs.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// default domain
// var apiURL = "http://192.168.1.8:9998";
var apiURL = 'https://gateway.competitionlabs.com';
var cLabs = {
  api: {
    url: apiURL
  },
  classSelector: /^\.([\w-]+)$/,
  // class string expression check
  idSelector: /^#[\w\d\-\_\&\!\@\*]+$/,
  // ID string expression check
  tagSelector: /^[\w-]+$/ // TAG string expression check

};
/* harmony default export */ __webpack_exports__["default"] = (cLabs);

/***/ }),

/***/ "./src/javascript/modules/dragElement.js":
/*!***********************************************!*\
  !*** ./src/javascript/modules/dragElement.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ "./src/javascript/utils/index.js");
 // var scrollObj2 = null;

var movementInterval;

var dragElement = function dragElement(elmnt, draggableEl, overlayContainer, container, dragging, finishDragging, mobileTouch) {
  var pos1 = 0;
  var pos2 = 0;
  var pos3 = 0;
  var pos4 = 0;
  var isMobile = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["isMobileTablet"])();
  var isiOS = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["isiOSDevice"])();
  var isParentWindow = elmnt.parentNode.nodeName === 'BODY';
  var maxLeft = isParentWindow ? window.innerWidth : container.offsetWidth;
  var maxTop = isParentWindow ? window.innerHeight : container.offsetHeight;
  var touchStart;
  var moving = null; // scrollObj2 = query(".scroll-res");

  if (movementInterval) {
    clearTimeout(movementInterval);
  }

  var onWindowChange = function onWindowChange() {
    var isVertical = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["hasClass"])(elmnt, 'cl-vertical-mini');
    var maxLeft = isParentWindow ? window.innerWidth : container.offsetWidth;
    var maxTop = isParentWindow ? window.innerHeight : container.offsetHeight;
    var offsetMaxLeft = maxLeft - parseInt(elmnt.offsetWidth + (isVertical ? draggableEl.offsetWidth / 7 : draggableEl.offsetWidth / 1.6));
    var offsetMaxTop = maxTop - parseInt(elmnt.offsetHeight + (isVertical ? draggableEl.offsetHeight / 1.2 : draggableEl.offsetHeight / 4));
    var elTop = parseInt(elmnt.style.top);
    var elLeft = parseInt(elmnt.style.left);

    if (elTop > offsetMaxTop && offsetMaxTop > 5) {
      elmnt.style.top = offsetMaxTop + 'px';
    }

    if (elLeft > offsetMaxLeft && offsetMaxLeft > 5) {
      elmnt.style.left = offsetMaxLeft + 'px';
    }
  };

  if (isMobile) {
    /* listen to the touchMove event,
      every time it fires, grab the location
      of touch and assign it to box */
    var justATouch = false;
    draggableEl.addEventListener('touchstart', function (e) {
      justATouch = true;
      if (touchStart) clearTimeout(touchStart);
      maxLeft = isParentWindow ? window.innerWidth : container.offsetWidth;
      maxTop = isParentWindow ? window.innerHeight : container.offsetHeight;
      touchStart = setTimeout(function () {
        justATouch = false;
      }, 100);
    }, {
      passive: isiOS
    });
    draggableEl.addEventListener('touchmove', function (e) {
      e.preventDefault();
      pos3 = e.targetTouches[0].pageX;
      pos4 = e.targetTouches[0].pageY; // moving = new Date().getTime();

      elementDrag(e);
    }, {
      passive: isiOS
    });
    draggableEl.addEventListener('touchend', function (e) {
      // e.preventDefault();
      // current box position.
      closeDragElement(e);
      moving = null;

      if (justATouch && typeof mobileTouch === 'function') {
        mobileTouch();
      }
    }, {
      passive: isiOS
    });
    window.addEventListener('orientationchange', function (e) {
      onWindowChange();
    }, true);
  } else {
    // if present, the header is where you move the DIV from:
    draggableEl.onmousedown = dragMouseDown;
    window.addEventListener('resize', function (e) {
      onWindowChange();
    }, true);
  }

  function dragMouseDown(e) {
    e = e || window.event;
    e.preventDefault();
    maxLeft = isParentWindow ? window.innerWidth : container.offsetWidth;
    maxTop = isParentWindow ? window.innerHeight : container.offsetHeight;
    overlayContainer.style.display = 'block'; // get the mouse cursor position at startup:

    pos3 = e.clientX;
    pos4 = e.clientY;
    document.onmouseup = closeDragElement; // call a function whenever the cursor moves:

    document.onmousemove = elementDrag;
  }
  /**
   * Adds additional offset to max left and top based on orientation and container width (will be affected by CSS styling so needs to be adjusted accordingly)
   * - elmnt => is the main container that has the positioning applied to
   * - draggableEl => key element that is mean for dragging
   */


  var checkMaxMinRestraints = function checkMaxMinRestraints(newTop, newLeft, offsetMaxLeft, offsetMaxTop) {
    var // minLeft = (isVertical ? elmnt.offsetWidth/4 : 0 ), // attempt to restrict the container to go out of bounds by a few pixels, needs some work
    minLeft = 0;
    var top = newTop <= 0 ? 0 : newTop;
    var left = newLeft <= minLeft ? minLeft : newLeft;

    if (left >= offsetMaxLeft) {
      left = offsetMaxLeft;
    }

    if (top >= offsetMaxTop) {
      top = offsetMaxTop;
    }

    return {
      top: top,
      left: left
    };
  };

  function elementDrag(e) {
    e = e || window.event;
    e.preventDefault(); // calculate the new cursor position:

    var posX = isMobile ? e.targetTouches[0].pageX : e.clientX;
    var posY = isMobile ? e.targetTouches[0].pageY : e.clientY;
    var isVertical = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["hasClass"])(elmnt, 'cl-vertical-mini');
    var offsetMaxLeft = maxLeft - parseInt(elmnt.offsetWidth + (isVertical ? draggableEl.offsetWidth / 7 : draggableEl.offsetWidth / 1.6));
    var offsetMaxTop = maxTop - parseInt(elmnt.offsetHeight + (isVertical ? draggableEl.offsetHeight / 1.2 : draggableEl.offsetHeight / 4));
    pos1 = pos3 - posX;
    pos2 = pos4 - posY;
    pos3 = parseInt(posX);
    pos4 = parseInt(posY);
    moving = new Date().getTime();
    checkMovement();
    if (!Object(_utils__WEBPACK_IMPORTED_MODULE_0__["hasClass"])(elmnt, 'cl-being-moved')) Object(_utils__WEBPACK_IMPORTED_MODULE_0__["addClass"])(elmnt, 'cl-being-moved');
    var newTop = isMobile ? posY - parseInt(draggableEl.offsetHeight / 2) : elmnt.offsetTop - pos2;
    var newLeft = isMobile ? posX - parseInt(draggableEl.offsetWidth / 2) : elmnt.offsetLeft - pos1;
    var leftTopCheck = checkMaxMinRestraints(newTop, newLeft, offsetMaxLeft, offsetMaxTop); // set the element's new position:
    // scrollObj2.innerHTML = leftTopCheck.top + "-" + leftTopCheck.left + " : "+ newTop + "-" + newLeft + " : " + (posX < 0 || posY < 0 || posX > maxLeft || posY > maxTop) + "-" + (newTop > offsetMaxTop || newLeft > offsetMaxLeft);
    // scrollObj2.innerHTML = leftTopCheck.top + "-" + leftTopCheck.left + " : "+ newTop +"-"+ newLeft + " : " + (posX < 0 || posY < 0 || posX > maxLeft || posY > maxTop) + "-" + (newTop > offsetMaxTop || newLeft > offsetMaxLeft);

    if (posX < 0 || posY < 0 || posX > maxLeft || posY > maxTop) {
      closeDragElement(e);
    } else if (newTop > offsetMaxTop || newLeft > offsetMaxLeft) {
      closeDragElement(e);
    } else if (leftTopCheck.top > offsetMaxTop || leftTopCheck.left > offsetMaxLeft) {
      closeDragElement(e);
    } else {
      elmnt.style.top = leftTopCheck.top + 'px';
      elmnt.style.left = leftTopCheck.left + 'px';
    }

    if (typeof dragging === 'function') dragging(newTop, newLeft);
  }

  function closeDragElement(e) {
    overlayContainer.style.display = 'none';

    if (isMobile) {
      e.preventDefault();
    } else {
      // stop moving when mouse button is released:
      document.onmouseup = null;
      document.onmousemove = null;
    }

    moving = null;
    Object(_utils__WEBPACK_IMPORTED_MODULE_0__["removeClass"])(elmnt, 'cl-being-moved');
    if (typeof finishDragging === 'function') finishDragging();
  }

  function checkMovement() {
    if (movementInterval) {
      clearTimeout(movementInterval);
    }

    movementInterval = setTimeout(function () {
      if (moving !== null && moving + 3000 < new Date().getTime() && !isMobile) {
        closeDragElement();
      } else if (moving !== null) {
        checkMovement();
      }
    }, 3000);
  }
};

/* harmony default export */ __webpack_exports__["default"] = (dragElement);

/***/ }),

/***/ "./src/javascript/modules/setTimeoutGlobal.js":
/*!****************************************************!*\
  !*** ./src/javascript/modules/setTimeoutGlobal.js ***!
  \****************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _utils_mapObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/mapObject */ "./src/javascript/utils/mapObject.js");
// global timeout handling


try {
  if (typeof setTimeoutGlobal !== 'function') {
    window._setTimeoutGlobalRepository = [];

    window.setTimeoutGlobal = function (id, func, timer) {
      var exists = false;
      Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_0__["default"])(window._setTimeoutGlobalRepository, function (instance, key, count) {
        if (id === instance.id) {
          exists = true;
        }
      });

      if (!exists) {
        var interval = setTimeout(function () {
          Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_0__["default"])(window._setTimeoutGlobalRepository, function (instance, key, count) {
            if (id === instance.id) {
              window._setTimeoutGlobalRepository.splice(key, 1);
            }
          });

          if (typeof func === 'function') {
            func();
          }
        }, timer);

        window._setTimeoutGlobalRepository.push({
          id: id,
          func: func,
          timer: timer,
          interval: interval
        });

        return interval;
      } else {
        throw new Error('setTimeoutGlobal - ID [' + id + '] already in use');
      }
    };

    var closeTimeout = function closeTimeout() {
      if (window._setTimeoutGlobalRepository.length > 0) {
        Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_0__["default"])(window._setTimeoutGlobalRepository, function (instance, key, count) {
          if (instance.interval) {
            clearInterval(instance.interval);
            instance.interval = null;
          }
        });
      }
    };

    var reEnableTimeouts = function reEnableTimeouts() {
      if (window._setTimeoutGlobalRepository.length > 0) {
        var tmp = [];
        Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_0__["default"])(window._setTimeoutGlobalRepository, function (instance, key, count) {
          tmp.push(instance);
        });
        window._setTimeoutGlobalRepository = [];
        Object(_utils_mapObject__WEBPACK_IMPORTED_MODULE_0__["default"])(tmp, function (instance, key, count) {
          window.setTimeoutGlobal(instance.id, instance.func, instance.timer);
        });
      }
    };

    var windowActivity = function windowActivity() {
      (function () {
        var hidden = 'hidden'; // Standards:

        if (hidden in document) {
          document.addEventListener('visibilitychange', onchange);
        } else if ((hidden = 'mozHidden') in document) {
          document.addEventListener('mozvisibilitychange', onchange);
        } else if ((hidden = 'webkitHidden') in document) {
          document.addEventListener('webkitvisibilitychange', onchange);
        } else if ((hidden = 'msHidden') in document) {
          document.addEventListener('msvisibilitychange', onchange);
        } else if ('onfocusin' in document) {
          // IE 9 and lower:
          document.onfocusin = document.onfocusout = onchange;
        } else {
          // All others:
          window.onpageshow = window.onpagehide = window.onfocus = window.onblur = onchange;
        }

        function onchange(evt) {
          var status = '';
          var v = 'visible';
          var h = 'hidden';
          var evtMap = {
            focus: v,
            focusin: v,
            pageshow: v,
            blur: h,
            focusout: h,
            pagehide: h
          };
          evt = evt || window.event;

          if (evt.type in evtMap) {
            status = evtMap[evt.type];
          } else {
            status = this[hidden] ? 'hidden' : 'visible';
          }

          if (status === 'visible') {
            reEnableTimeouts();
          } else if (status === 'hidden') {
            closeTimeout();
          }
        } // set the initial state (but only if browser supports the Page Visibility API)


        if (document[hidden] !== undefined) {
          onchange({
            type: document[hidden] ? 'blur' : 'focus'
          });
        }
      })();
    };

    windowActivity();
  }
} catch (err) {
  console.log(err);
}

/***/ }),

/***/ "./src/javascript/polyfills/index.js":
/*!*******************************************!*\
  !*** ./src/javascript/polyfills/index.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

//
if (!window.console) {
  window.console = function () {};

  if (typeof XDomainRequest !== 'undefined') {
    window.console.prototype.log = function (err) {
      throw new SyntaxError(err);
    };

    window.console.prototype.warn = function (err) {
      throw new SyntaxError(err);
    };

    window.console.prototype.error = function (err) {
      throw new SyntaxError(err);
    };
  }
} //


try {
  Event.prototype.preventDefault || (Event.prototype.preventDefault = function () {
    this.returnValue = !1;
  });
} catch (err) {
  console.log(err);
} //


try {
  Event.prototype.stopPropagation || (Event.prototype.stopPropagation = function () {
    this.cancelBubble = !0;
  });
} catch (err) {
  console.log(err);
} //


try {
  if (!Element.prototype.addEventListener) {
    var eventListeners = [];

    var addEventListener = function addEventListener(e, t) {
      var n;
      var r = this;

      if (n = function n(e) {
        e.target = e.srcElement, e.currentTarget = r, e.pageX = event.clientX + document.body.scrollLeft, e.pageY = event.clientY + document.body.scrollTop, t.handleEvent ? t.handleEvent(e) : t.call(r, e);
      }, e === 'DOMContentLoaded') {
        var o = function o(e) {
          document.readyState === 'complete' && n(e);
        };

        if (document.attachEvent('onreadystatechange', o), eventListeners.push({
          object: this,
          type: e,
          listener: t,
          wrapper: o
        }), document.readyState == 'complete') {
          var i = new Event();
          i.srcElement = window, o(i);
        }
      } else this.attachEvent('on' + e, n), eventListeners.push({
        object: this,
        type: e,
        listener: t,
        wrapper: n
      });
    };

    var removeEventListener = function removeEventListener(e, t) {
      for (var n = 0; n < eventListeners.length;) {
        var r = eventListeners[n];

        if (r.object == this && r.type == e && r.listener == t) {
          e == 'DOMContentLoaded' ? this.detachEvent('onreadystatechange', r.wrapper) : this.detachEvent('on' + e, r.wrapper);
          break;
        }

        ++n;
      }
    };

    Element.prototype.addEventListener = addEventListener, Element.prototype.removeEventListener = removeEventListener, HTMLDocument && (HTMLDocument.prototype.addEventListener = addEventListener, HTMLDocument.prototype.removeEventListener = removeEventListener), Window && (Window.prototype.addEventListener = addEventListener, Window.prototype.removeEventListener = removeEventListener);
  }

  Element.prototype.remove || (Element.prototype.remove = function () {
    this.parentElement.removeChild(this);
  }, NodeList.prototype.remove = HTMLCollection.prototype.remove = function () {
    for (var e = 0, t = this.length; t > e; e++) {
      this[e] && this[e].parentElement && this[e].parentElement.removeChild(this[e]);
    }
  });
} catch (err) {
  console.log(err);
}

typeof XDomainRequest !== 'undefined' && (_typeof(window.JSON) !== 'object' && (window.JSON = {}), function () {
  'use strict';

  function f(e) {
    return e < 10 ? '0' + e : e;
  }

  function quote(e) {
    return escapable.lastIndex = 0, escapable.test(e) ? '"' + e.replace(escapable, function (e) {
      var t = meta[e];
      return typeof t === 'string' ? t : "\\u" + ('0000' + e.charCodeAt(0).toString(16)).slice(-4);
    }) + '"' : '"' + e + '"';
  }

  function str(e, t) {
    var n;
    var r;
    var o;
    var i;
    var a;
    var p = gap;
    var u = t[e];

    switch (u && _typeof(u) === 'object' && typeof u.toJSON === 'function' && (u = u.toJSON(e)), typeof rep === 'function' && (u = rep.call(t, e, u)), _typeof(u)) {
      case 'string':
        return quote(u);

      case 'number':
        return isFinite(u) ? String(u) : 'null';

      case 'boolean':
      case 'null':
        return String(u);

      case 'object':
        if (!u) return 'null';

        if (gap += indent, a = [], Object.prototype.toString.apply(u) === '[object Array]') {
          for (i = u.length, n = 0; i > n; n += 1) {
            a[n] = str(n, u) || 'null';
          }

          return o = a.length === 0 ? '[]' : gap ? '[\n' + gap + a.join(',\n' + gap) + '\n' + p + ']' : '[' + a.join(',') + ']', gap = p, o;
        }

        if (rep && _typeof(rep) === 'object') for (i = rep.length, n = 0; i > n; n += 1) {
          typeof rep[n] === 'string' && (r = rep[n], o = str(r, u), o && a.push(quote(r) + (gap ? ': ' : ':') + o));
        } else for (r in u) {
          Object.prototype.hasOwnProperty.call(u, r) && (o = str(r, u), o && a.push(quote(r) + (gap ? ': ' : ':') + o));
        }
        return o = a.length === 0 ? '{}' : gap ? '{\n' + gap + a.join(',\n' + gap) + '\n' + p + '}' : '{' + a.join(',') + '}', gap = p, o;
    }
  }

  typeof Date.prototype.toJSON !== 'function' && (Date.prototype.toJSON = function () {
    return isFinite(this.valueOf()) ? this.getUTCFullYear() + '-' + f(this.getUTCMonth() + 1) + '-' + f(this.getUTCDate()) + 'T' + f(this.getUTCHours()) + ':' + f(this.getUTCMinutes()) + ':' + f(this.getUTCSeconds()) + 'Z' : null;
  }, String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function () {
    return this.valueOf();
  });
  var cx, escapable, gap, indent, meta, rep;
  typeof window.JSON.stringify !== 'function' && (escapable = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, meta = {
    '\b': '\\b',
    '	': '\\t',
    '\n': '\\n',
    '\f': '\\f',
    '\r': '\\r',
    '"': '\\"',
    '\\': '\\\\'
  }, window.JSON.stringify = function (e, t, n) {
    var r;
    if (gap = '', indent = '', typeof n === 'number') for (r = 0; n > r; r += 1) {
      indent += ' ';
    } else typeof n === 'string' && (indent = n);
    if (rep = t, t && typeof t !== 'function' && (_typeof(t) !== 'object' || typeof t.length !== 'number')) throw new Error('JSON.stringify');
    return str('', {
      '': e
    });
  }), typeof window.JSON.parse !== 'function' && (cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, window.JSON.parse = function (text, reviver) {
    function walk(e, t) {
      var n;
      var r;
      var o = e[t];
      if (o && _typeof(o) === 'object') for (n in o) {
        Object.prototype.hasOwnProperty.call(o, n) && (r = walk(o, n), void 0 !== r ? o[n] = r : delete o[n]);
      }
      return reviver.call(e, t, o);
    }

    var j;
    if (text = String(text), cx.lastIndex = 0, cx.test(text) && (text = text.replace(cx, function (e) {
      return "\\u" + ('0000' + e.charCodeAt(0).toString(16)).slice(-4);
    })), /^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, ']').replace(/(?:^|:|,)(?:\s*\[)+/g, ''))) return j = eval('(' + text + ')'), typeof reviver === 'function' ? walk({
      '': j
    }, '') : j;
    throw new SyntaxError('JSON.parse');
  });
}()); //

var _slice = Array.prototype.slice;

try {
  _slice.call(document.documentElement);
} catch (e) {
  Array.prototype.slice = function (t, e) {
    if (e = typeof e !== 'undefined' ? e : this.length, Object.prototype.toString.call(this) === '[object Array]') return _slice.call(this, t, e);
    var r;
    var i;
    var c = [];
    var l = this.length;
    var o = t || 0;
    o = o >= 0 ? o : l + o;
    var a = e || l;
    if (e < 0 && (a = l + e), i = a - o, i > 0) if (c = new Array(i), this.charAt) for (r = 0; i > r; r++) {
      c[r] = this.charAt(o + r);
    } else for (r = 0; i > r; r++) {
      c[r] = this[o + r];
    }
    return c;
  };
} // [EventSource] Polyfill fix: https://github.com/remy/polyfills/blob/master/EventSource.js


(function (global) {
  if ('EventSource' in global) return;
  var reTrim = /^(\s|\u00A0)+|(\s|\u00A0)+$/g;

  var EventSource = function EventSource(url) {
    var eventsource = this;
    var interval = 500;
    /* polling interval  */

    var lastEventId = null;
    var cache = '';

    if (!url || typeof url !== 'string') {
      throw new SyntaxError('Not enough arguments');
    }

    this.URL = url;
    this.readyState = this.CONNECTING;
    this._pollTimer = null;
    this._xhr = null;

    function pollAgain(interval) {
      eventsource._pollTimer = setTimeout(function () {
        poll.call(eventsource);
      }, interval);
    }

    function poll() {
      try {
        /* force hiding of the error message... insane? */
        if (eventsource.readyState === eventsource.CLOSED) return;
        /* NOTE: IE7 and upwards support */

        var xhr = new XMLHttpRequest();
        xhr.open('GET', eventsource.URL, true);
        xhr.setRequestHeader('Accept', 'text/event-stream');
        xhr.setRequestHeader('Cache-Control', 'no-cache');
        /* we must make use of this on the server side if we're working with Android - because they don't trigger readychange until the server connection is closed */

        xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');
        if (lastEventId != null) xhr.setRequestHeader('Last-Event-ID', lastEventId);
        cache = '';
        xhr.timeout = 50000;

        xhr.onreadystatechange = function () {
          if (this.readyState == 3 || this.readyState == 4 && this.status == 200) {
            /* on success */
            if (eventsource.readyState == eventsource.CONNECTING) {
              eventsource.readyState = eventsource.OPEN;
              eventsource.dispatchEvent('open', {
                type: 'open'
              });
            }

            var responseText = '';

            try {
              responseText = this.responseText || '';
            } catch (e) {}
            /* process this.responseText */


            var parts = responseText.substr(cache.length).split('\n');
            var eventType = 'message';
            var data = [];
            var i = 0;
            var line = '';
            cache = responseText;
            /* TODO handle 'event' (for buffer name), retry */

            for (; i < parts.length; i++) {
              line = parts[i].replace(reTrim, '');

              if (line.indexOf('event') === 0) {
                eventType = line.replace(/event:?\s*/, '');
              } else if (line.indexOf('retry') === 0) {
                var retry = parseInt(line.replace(/retry:?\s*/, ''));

                if (!isNaN(retry)) {
                  interval = retry;
                }
              } else if (line.indexOf('data') === 0) {
                data.push(line.replace(/data:?\s*/, ''));
              } else if (line.indexOf('id:') === 0) {
                lastEventId = line.replace(/id:?\s*/, '');
              } else if (line.indexOf('id') === 0) {
                /* this resets the id */
                lastEventId = null;
              } else if (line === '') {
                if (data.length) {
                  var event = new MessageEvent(data.join('\n'), eventsource.url, lastEventId);
                  eventsource.dispatchEvent(eventType, event);
                  data = [];
                  eventType = 'message';
                }
              }
            }

            if (this.readyState === 4) pollAgain(interval);
            /* don't need to poll again, because we're long-loading */
          } else if (eventsource.readyState !== eventsource.CLOSED) {
            if (this.readyState === 4) {
              /* and some other status dispatch error */
              eventsource.readyState = eventsource.CONNECTING;
              eventsource.dispatchEvent('error', {
                type: 'error'
              });
              pollAgain(interval);
            } else if (this.readyState === 0) {
              /* likely aborted */
              pollAgain(interval);
            } else {}
          }
        };

        xhr.send();
        setTimeout(function () {
          if (true) xhr.abort();
        }, xhr.timeout);
        eventsource._xhr = xhr;
      } catch (e) {
        /* in an attempt to silence the errors */
        eventsource.dispatchEvent('error', {
          type: 'error',
          data: e.message
        });
        /* ??? */
      }
    }

    ;
    poll();
    /* init now */
  };

  EventSource.prototype = {
    close: function close() {
      /* closes the connection - disabling the polling */
      this.readyState = this.CLOSED;
      clearInterval(this._pollTimer);

      this._xhr.abort();
    },
    CONNECTING: 0,
    OPEN: 1,
    CLOSED: 2,
    dispatchEvent: function dispatchEvent(type, event) {
      var handlers = this['_' + type + 'Handlers'];

      if (handlers) {
        for (var i = 0; i < handlers.length; i++) {
          handlers[i].call(this, event);
        }
      }

      if (this['on' + type]) {
        this['on' + type].call(this, event);
      }
    },
    addEventListener: function addEventListener(type, handler) {
      if (!this['_' + type + 'Handlers']) {
        this['_' + type + 'Handlers'] = [];
      }

      this['_' + type + 'Handlers'].push(handler);
    },
    removeEventListener: function removeEventListener(type, handler) {
      var handlers = this['_' + type + 'Handlers'];

      if (!handlers) {
        return;
      }

      for (var i = handlers.length - 1; i >= 0; --i) {
        if (handlers[i] === handler) {
          handlers.splice(i, 1);
          break;
        }
      }
    },
    onerror: null,
    onmessage: null,
    onopen: null,
    readyState: 0,
    URL: ''
  };

  var MessageEvent = function MessageEvent(data, origin, lastEventId) {
    this.data = data;
    this.origin = origin;
    this.lastEventId = lastEventId || '';
  };

  MessageEvent.prototype = {
    data: null,
    type: 'message',
    lastEventId: '',
    origin: ''
  };
  if ('module' in global) module.exports = EventSource;
  global.EventSource = EventSource;
})(window);

/***/ }),

/***/ "./src/javascript/utils/addClass.js":
/*!******************************************!*\
  !*** ./src/javascript/utils/addClass.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * App/Append new class string to the provided DOM element
 * @memberOf module:utils
 * @static
 * @param element
 * @param className
 * @returns {{classList}|*}
 */
var addClass = function addClass(element, className) {
  try {
    if (element.classList) {
      element.classList.add(className);
    } else {
      element.className += ' ' + className;
    }
  } catch (e) {
    console.trace();
  }

  return element;
};

/* harmony default export */ __webpack_exports__["default"] = (addClass);

/***/ }),

/***/ "./src/javascript/utils/appendNext.js":
/*!********************************************!*\
  !*** ./src/javascript/utils/appendNext.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var appendNext = function appendNext(el, newNode) {
  if (el.nextSibling) {
    el.parentNode.insertBefore(newNode, el.nextSibling);
  } else {
    el.parentNode.appendChild(newNode);
  }
};

/* harmony default export */ __webpack_exports__["default"] = (appendNext);

/***/ }),

/***/ "./src/javascript/utils/camelToKebabCase.js":
/*!**************************************************!*\
  !*** ./src/javascript/utils/camelToKebabCase.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var camelToKebabCase = function camelToKebabCase(str) {
  return str.replace(/[A-Z]/g, function (letter) {
    return "-".concat(letter.toLowerCase());
  });
};

/* harmony default export */ __webpack_exports__["default"] = (camelToKebabCase);

/***/ }),

/***/ "./src/javascript/utils/closest.js":
/*!*****************************************!*\
  !*** ./src/javascript/utils/closest.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _modules_cLabs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../modules/cLabs */ "./src/javascript/modules/cLabs.js");
/* harmony import */ var _hasClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./hasClass */ "./src/javascript/utils/hasClass.js");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }



/**
 * Iterate up the tree of DOM elements to find the closes match
 * @memberOf module:utils
 * @static
 * @param element
 * @param selector
 * @returns {null | ParentNode}
 */

var closest = function closest(element, selector) {
  if (_typeof(selector) === 'object') {
    var selectorClassString = selector.getAttribute('class');
    var selectorIdString = selector.id;

    if (selectorIdString !== null && selectorIdString.length > 0) {
      selector = '#' + selectorIdString;
    } else if (selectorClassString !== null && selectorClassString.length > 0) {
      selector = '.' + selectorClassString.split(' ')[0];
    } else {
      selector = selector.nodeName;
    }
  }

  function closest(element, selector) {
    try {
      element = element.parentNode;
    } catch (e) {
      console.log(element, selector);
      console.trace();
    }

    if (element !== null && _typeof(element) === 'object') {
      if (selector.match(_modules_cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].classSelector) && Object(_hasClass__WEBPACK_IMPORTED_MODULE_1__["default"])(element, selector)) {
        return element;
      } else if (selector.match(_modules_cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].idSelector) && element.id === selector.replace('#', '')) {
        return element;
      } else if (selector.match(_modules_cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].tagSelector) && element.nodeName === selector.toUpperCase()) {
        return element;
      } else {
        return closest(element, selector);
      }
    } else {
      return null;
    }
  }

  if (_typeof(element) === 'object') {
    return closest(element, selector);
  } else {
    return null;
  }
};

/* harmony default export */ __webpack_exports__["default"] = (closest);

/***/ }),

/***/ "./src/javascript/utils/formatNumberLeadingZeros.js":
/*!**********************************************************!*\
  !*** ./src/javascript/utils/formatNumberLeadingZeros.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * Prepends 0 the provided number and returns the formated element as a string
 * @memberOf module:utils
 * @static
 * @param num
 * @param size {number}
 * @returns {string} 1 => 001
 */
var formatNumberLeadingZeros = function formatNumberLeadingZeros(num, size) {
  var s = String(num);

  while (s.length < size) {
    s = '0' + s;
  }

  return s;
};

/* harmony default export */ __webpack_exports__["default"] = (formatNumberLeadingZeros);

/***/ }),

/***/ "./src/javascript/utils/getOffset.js":
/*!*******************************************!*\
  !*** ./src/javascript/utils/getOffset.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var getOffset = function getOffset(el) {
  var _x = 0;
  var _y = 0;

  while (el && !isNaN(el.offsetLeft) && !isNaN(el.offsetTop)) {
    _x += el.offsetLeft - el.scrollLeft;
    _y += el.offsetTop - el.scrollTop;
    el = el.offsetParent;
  }

  return {
    top: _y,
    left: _x
  };
};

/* harmony default export */ __webpack_exports__["default"] = (getOffset);

/***/ }),

/***/ "./src/javascript/utils/hasClass.js":
/*!******************************************!*\
  !*** ./src/javascript/utils/hasClass.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * Provides an ability to check if a DOM element contains a class string
 * @memberOf module:utils
 * @static
 * @param element
 * @param className
 * @returns {boolean}
 */
function _hasClass(element, className) {
  className = className.replace('.', '');

  try {
    if (element.classList) {
      return element.classList.contains(className);
    } else {
      return new RegExp('(^| )' + className + '( |$)', 'gi').test(element.className);
    }
  } catch (e) {
    if (typeof e.stack !== 'undefined') {
      console.log(e.stack);
    }

    console.log(e, element, className);
    return false;
  }
}

var hasClass = function hasClass(element, className) {
  if (typeof className === 'string') {
    return _hasClass(element, className);
  } else if (className instanceof Array) {
    var hasClass = false;

    for (var i in className) {
      if (typeof className[i] === 'string' && _hasClass(element, className[i])) {
        hasClass = true;
      }
    }

    return hasClass;
  }
};

/* harmony default export */ __webpack_exports__["default"] = (hasClass);

/***/ }),

/***/ "./src/javascript/utils/index.js":
/*!***************************************!*\
  !*** ./src/javascript/utils/index.js ***!
  \***************************************/
/*! exports provided: sizeof, isElement, objectCount, remove, objectIterator, addClass, removeClass, hasClass, stringContains, formatNumberLeadingZeros, stripHtml, closest, isMobileTablet, getOffset, isiOSDevice, appendNext, query, trim, mergeObjects, scrollEnabled */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _sizeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sizeof */ "./src/javascript/utils/sizeof.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sizeof", function() { return _sizeof__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _isElement__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./isElement */ "./src/javascript/utils/isElement.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isElement", function() { return _isElement__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var _objectCount__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./objectCount */ "./src/javascript/utils/objectCount.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "objectCount", function() { return _objectCount__WEBPACK_IMPORTED_MODULE_2__["default"]; });

/* harmony import */ var _remove__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./remove */ "./src/javascript/utils/remove.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "remove", function() { return _remove__WEBPACK_IMPORTED_MODULE_3__["default"]; });

/* harmony import */ var _objectIterator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./objectIterator */ "./src/javascript/utils/objectIterator.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "objectIterator", function() { return _objectIterator__WEBPACK_IMPORTED_MODULE_4__["default"]; });

/* harmony import */ var _addClass__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./addClass */ "./src/javascript/utils/addClass.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "addClass", function() { return _addClass__WEBPACK_IMPORTED_MODULE_5__["default"]; });

/* harmony import */ var _removeClass__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./removeClass */ "./src/javascript/utils/removeClass.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "removeClass", function() { return _removeClass__WEBPACK_IMPORTED_MODULE_6__["default"]; });

/* harmony import */ var _hasClass__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./hasClass */ "./src/javascript/utils/hasClass.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "hasClass", function() { return _hasClass__WEBPACK_IMPORTED_MODULE_7__["default"]; });

/* harmony import */ var _stringContains__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./stringContains */ "./src/javascript/utils/stringContains.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "stringContains", function() { return _stringContains__WEBPACK_IMPORTED_MODULE_8__["default"]; });

/* harmony import */ var _formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./formatNumberLeadingZeros */ "./src/javascript/utils/formatNumberLeadingZeros.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "formatNumberLeadingZeros", function() { return _formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_9__["default"]; });

/* harmony import */ var _stripHtml__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./stripHtml */ "./src/javascript/utils/stripHtml.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "stripHtml", function() { return _stripHtml__WEBPACK_IMPORTED_MODULE_10__["default"]; });

/* harmony import */ var _closest__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./closest */ "./src/javascript/utils/closest.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "closest", function() { return _closest__WEBPACK_IMPORTED_MODULE_11__["default"]; });

/* harmony import */ var _isMobileTablet__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./isMobileTablet */ "./src/javascript/utils/isMobileTablet.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isMobileTablet", function() { return _isMobileTablet__WEBPACK_IMPORTED_MODULE_12__["default"]; });

/* harmony import */ var _getOffset__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./getOffset */ "./src/javascript/utils/getOffset.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getOffset", function() { return _getOffset__WEBPACK_IMPORTED_MODULE_13__["default"]; });

/* harmony import */ var _isiOSDevice__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./isiOSDevice */ "./src/javascript/utils/isiOSDevice.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isiOSDevice", function() { return _isiOSDevice__WEBPACK_IMPORTED_MODULE_14__["default"]; });

/* harmony import */ var _appendNext__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./appendNext */ "./src/javascript/utils/appendNext.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "appendNext", function() { return _appendNext__WEBPACK_IMPORTED_MODULE_15__["default"]; });

/* harmony import */ var _query__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./query */ "./src/javascript/utils/query.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "query", function() { return _query__WEBPACK_IMPORTED_MODULE_16__["default"]; });

/* harmony import */ var _trim__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./trim */ "./src/javascript/utils/trim.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "trim", function() { return _trim__WEBPACK_IMPORTED_MODULE_17__["default"]; });

/* harmony import */ var _mergeObjects__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./mergeObjects */ "./src/javascript/utils/mergeObjects.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "mergeObjects", function() { return _mergeObjects__WEBPACK_IMPORTED_MODULE_18__["default"]; });

/* harmony import */ var _scrollEnabled__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./scrollEnabled */ "./src/javascript/utils/scrollEnabled.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "scrollEnabled", function() { return _scrollEnabled__WEBPACK_IMPORTED_MODULE_19__["default"]; });

/**
 @module utils
 */





















/***/ }),

/***/ "./src/javascript/utils/isElement.js":
/*!*******************************************!*\
  !*** ./src/javascript/utils/isElement.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/**
 * Returns true if it is a DOM element
 * @memberOf module:utils
 * @static
 * @param o {Object}
 * @return {Boolean}
 */
var isElement = function isElement(o) {
  return (typeof HTMLElement === "undefined" ? "undefined" : _typeof(HTMLElement)) === 'object' ? o instanceof HTMLElement :
  /* DOM2 */
  o && _typeof(o) === 'object' && o !== null && o.nodeType === 1 && typeof o.nodeName === 'string';
};

/* harmony default export */ __webpack_exports__["default"] = (isElement);

/***/ }),

/***/ "./src/javascript/utils/isMobileTablet.js":
/*!************************************************!*\
  !*** ./src/javascript/utils/isMobileTablet.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _stringContains__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./stringContains */ "./src/javascript/utils/stringContains.js");
// a check to test if the device is a mobile or tablet


var isMobileTablet = function isMobileTablet() {
  var check = false;

  (function (a) {
    if (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0, 4))) check = true;
  })(navigator.userAgent || navigator.vendor || window.opera); // custom solution because latest iOS 13 userAgent doesn't return correct mobile information


  if (!check) {
    check = Object(_stringContains__WEBPACK_IMPORTED_MODULE_0__["default"])(window.navigator.userAgent.toLowerCase(), 'macintosh') && 'ontouchend' in document;
  }

  return check;
};

/* harmony default export */ __webpack_exports__["default"] = (isMobileTablet);

/***/ }),

/***/ "./src/javascript/utils/isiOSDevice.js":
/*!*********************************************!*\
  !*** ./src/javascript/utils/isiOSDevice.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// check if iOS
var isiOSDevice = function isiOSDevice() {
  return !!navigator.platform && /iP(ad|hone|od)/.test(navigator.platform);
};

/* harmony default export */ __webpack_exports__["default"] = (isiOSDevice);

/***/ }),

/***/ "./src/javascript/utils/mapObject.js":
/*!*******************************************!*\
  !*** ./src/javascript/utils/mapObject.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

var mapObject = function mapObject(obj, callback) {
  if (obj !== null) {
    var count = 0;

    for (var key in obj) {
      if (obj.hasOwnProperty(key)) {
        var ret = callback(obj[key], key, count);
        if (typeof ret !== 'undefined') obj[key] = ret;
        count++;
      }
    }
  } else {
    console.log('returned object is null', _typeof(obj));
  }

  return obj;
};

/* harmony default export */ __webpack_exports__["default"] = (mapObject);

/***/ }),

/***/ "./src/javascript/utils/mergeObjects.js":
/*!**********************************************!*\
  !*** ./src/javascript/utils/mergeObjects.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _sizeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sizeof */ "./src/javascript/utils/sizeof.js");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }



var mergeObjects = function mergeObjects(obj1, obj2, arrayType) {
  var obj3 = typeof arrayType === 'undefined' || arrayType === false ? {} : [];

  for (var i in obj1) {
    obj3[i] = obj1[i];
  }

  for (var k in obj2) {
    if (_typeof(obj1[k]) !== 'object') {
      obj3[k] = obj2[k];
    } else if (obj1[k] instanceof Array) {
      obj3[k] = obj2[k]; // arrays get overwritten and not extended
    } else if (typeof obj1[k] !== 'undefined' && _typeof(obj1[k]) === 'object' && obj1[k] !== null && typeof obj1[k].nodeType === 'undefined' && Object(_sizeof__WEBPACK_IMPORTED_MODULE_0__["default"])(obj1[k]) > 0) {
      obj3[k] = mergeObjects(obj1[k], obj2[k]);
    } else if (typeof obj1[k] !== 'undefined' && _typeof(obj1[k]) === 'object') {
      obj3[k] = obj2[k];
    } else {
      console.log('fail');
    }

    if (obj3[k] === undefined) {
      delete obj3[k];
    }
  }

  return obj3;
};

/* harmony default export */ __webpack_exports__["default"] = (mergeObjects);

/***/ }),

/***/ "./src/javascript/utils/objectCount.js":
/*!*********************************************!*\
  !*** ./src/javascript/utils/objectCount.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * Returns a count of object from a query result
 * @memberOf module:utils
 * @static
 * @paramobj  {Object} anything or Array object
 */
var objectCount = function objectCount(obj) {
  if (obj !== null && obj.length !== undefined && obj instanceof Array) {
    return obj.length;
  } else if (obj !== null) {
    return 1;
  } else {
    return 0;
  }
};

/* harmony default export */ __webpack_exports__["default"] = (objectCount);

/***/ }),

/***/ "./src/javascript/utils/objectIterator.js":
/*!************************************************!*\
  !*** ./src/javascript/utils/objectIterator.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * Object iterator - best usage is for a list of DOM elements
 * @memberOf module:utils
 * @static
 * @param obj
 * @param callback
 */
var objectIterator = function objectIterator(obj, callback) {
  if (typeof obj !== 'undefined' && obj !== null && typeof obj.length !== 'undefined' && obj instanceof Array) {
    var count = 0;

    for (var key in obj) {
      callback(obj[key], key, count, obj.length);
      count++;
    }
  } else if (typeof obj !== 'undefined' && obj !== null) {
    callback(obj, 0, 0, 1);
  }
};

/* harmony default export */ __webpack_exports__["default"] = (objectIterator);

/***/ }),

/***/ "./src/javascript/utils/query.js":
/*!***************************************!*\
  !*** ./src/javascript/utils/query.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _modules_cLabs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../modules/cLabs */ "./src/javascript/modules/cLabs.js");
/* harmony import */ var _trim__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./trim */ "./src/javascript/utils/trim.js");


/**
 * Query selector, supports CSS element selection
 *
 * Supports:
 *  - Class selection: ".element"
 *  - ID selection: "#element"
 *  - Tag selection: "div"
 *  - Multi depth selection: '.element ul li'
 *
 * @memberOf module:utils
 * @static
 * @param {Object} "optional"
 * @param {String} CSS element selector
 * @returns {(Object|null|Array)} depending on the provided selector results can vary (null, node, NodeList array)
 */

var query = function query(doc, selector) {
  var result;
  var tmpDoc = doc;
  var tmpSelector = selector; // used for debug only

  if (typeof doc === 'string' && selector === undefined) {
    selector = doc;
    doc = document;
  }

  try {
    if (doc !== null) {
      selector = Object(_trim__WEBPACK_IMPORTED_MODULE_1__["default"])(selector); //

      if (selector.match(_modules_cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].classSelector)) {
        result = doc.getElementsByClassName(selector.replace('.', ''));
      } else if (selector.match(_modules_cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].idSelector)) {
        result = document.getElementById(selector.replace('#', ''));
      } else if (selector.match(_modules_cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].tagSelector)) {
        result = doc.getElementsByTagName(selector);
      } else {
        result = doc.querySelectorAll(selector);
      }
    }

    if (result !== null && result !== undefined && result.nodeType) {
      return result;
    } else if (result !== null && result !== undefined && result.length === 1) {
      return result[0];
    } else if (result !== null && result !== undefined && result.length > 0) {
      return Array.prototype.slice.call(result);
    } else {
      return null;
    }
  } catch (e) {
    console.log(e);
    console.log(tmpSelector);
    console.log(tmpDoc);
    console.log(doc, selector);
  }
};

/* harmony default export */ __webpack_exports__["default"] = (query);

/***/ }),

/***/ "./src/javascript/utils/remove.js":
/*!****************************************!*\
  !*** ./src/javascript/utils/remove.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * Removes an HTML DOM element
 * @memberOf module:utils
 * @static
 * @paramobj el {Object} DOM element
 */
var remove = function remove(el) {
  if (el !== null) {
    el.parentElement.removeChild(el);
  }
};

/* harmony default export */ __webpack_exports__["default"] = (remove);

/***/ }),

/***/ "./src/javascript/utils/removeClass.js":
/*!*********************************************!*\
  !*** ./src/javascript/utils/removeClass.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * Remove class string from provided DOM element
 * @memberOf module:utils
 * @static
 * @param element
 * @param className
 * @returns {{classList}|*}
 */
var removeClass = function removeClass(element, className) {
  try {
    if (element.classList) {
      element.classList.remove(className);
    } else {
      element.className = element.className.replace(new RegExp('(^|\\b)' + className.split(' ').join('|') + '(\\b|$)', 'gi'), ' ');
    }
  } catch (e) {
    console.log(element, className); // console.error(e);
    // console.trace();
  }

  return element;
};

/* harmony default export */ __webpack_exports__["default"] = (removeClass);

/***/ }),

/***/ "./src/javascript/utils/scrollEnabled.js":
/*!***********************************************!*\
  !*** ./src/javascript/utils/scrollEnabled.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * Check if scrolling is enabled
 * @memberOf module:utils
 * @static
 * @param doc
 * @returns {boolean}
 */
var scrollEnabled = function scrollEnabled(doc) {
  return doc !== null ? doc.scrollHeight > doc.offsetHeight : false;
};

/* harmony default export */ __webpack_exports__["default"] = (scrollEnabled);

/***/ }),

/***/ "./src/javascript/utils/sizeof.js":
/*!****************************************!*\
  !*** ./src/javascript/utils/sizeof.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _isElement__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isElement */ "./src/javascript/utils/isElement.js");

/**
 * returns the size of an Object or array
 *
 * @memberOf module:utils
 * @static
 * @param obj {Object}
 * @return {Number}
 */

var sizeof = function sizeof(obj) {
  var size = 0;
  var key;

  for (key in obj) {
    if (obj.hasOwnProperty(key)) size++;
  }

  if (size === 0 && Object(_isElement__WEBPACK_IMPORTED_MODULE_0__["default"])(obj)) {
    size = 1;
  }

  return size;
};

/* harmony default export */ __webpack_exports__["default"] = (sizeof);

/***/ }),

/***/ "./src/javascript/utils/stringContains.js":
/*!************************************************!*\
  !*** ./src/javascript/utils/stringContains.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * A check if a string contains an entry of searched for term
 * @memberOf module:utils
 * @static
 * @param str {string}
 * @param partial {string}
 * @returns {boolean}
 */
var stringContains = function stringContains(str, partial) {
  return str.indexOf(partial) > -1;
};

/* harmony default export */ __webpack_exports__["default"] = (stringContains);

/***/ }),

/***/ "./src/javascript/utils/stripHtml.js":
/*!*******************************************!*\
  !*** ./src/javascript/utils/stripHtml.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * Removes HTML tags from the provided input and returns only the text
 * - this is a very basic implementation and should be used carefully
 *
 * @memberOf module:utils
 * @static
 * @param html {string}
 * @returns {string | string}
 */
var stripHtml = function stripHtml(html) {
  var tmp = document.createElement('DIV');
  tmp.innerHTML = html;
  return tmp.textContent || tmp.innerText || '';
};

/* harmony default export */ __webpack_exports__["default"] = (stripHtml);

/***/ }),

/***/ "./src/javascript/utils/trim.js":
/*!**************************************!*\
  !*** ./src/javascript/utils/trim.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var trim = function trim(string) {
  return string.replace(/^\s+|\s+$/g, '');
};

/* harmony default export */ __webpack_exports__["default"] = (trim);

/***/ }),

/***/ "./src/scss/blue-theme-refresh/style.scss":
/*!************************************************!*\
  !*** ./src/scss/blue-theme-refresh/style.scss ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (__webpack_require__.p + "../css/theme/blue-theme-refresh.css");

/***/ }),

/***/ "./src/scss/layouts/style.scss":
/*!*************************************!*\
  !*** ./src/scss/layouts/style.scss ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (__webpack_require__.p + "../css/theme/layouts.css");

/***/ }),

/***/ 1:
/*!*************************************************************************************************************************************************************************************!*\
  !*** multi (webpack)-dev-server/client?http://localhost:9000 ./src/javascript/gamification-ux-package.v3.js ./src/scss/blue-theme-refresh/style.scss ./src/scss/layouts/style.scss ***!
  \*************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! /Users/aleksandrbernotas/Documents/Projects/cl_labs/competitionlabs-gamification-ux-package/node_modules/webpack-dev-server/client/index.js?http://localhost:9000 */"./node_modules/webpack-dev-server/client/index.js?http://localhost:9000");
__webpack_require__(/*! ./src/javascript/gamification-ux-package.v3.js */"./src/javascript/gamification-ux-package.v3.js");
__webpack_require__(/*! ./src/scss/blue-theme-refresh/style.scss */"./src/scss/blue-theme-refresh/style.scss");
module.exports = __webpack_require__(/*! ./src/scss/layouts/style.scss */"./src/scss/layouts/style.scss");


/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Fuc2ktaHRtbC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFzZTY0LWpzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9idWZmZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy12YXJzLXBvbnlmaWxsL2Rpc3QvY3NzLXZhcnMtcG9ueWZpbGwuZXNtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ldmVudHMvZXZlbnRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9odG1sLWVudGl0aWVzL2xpYi9odG1sNC1lbnRpdGllcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaHRtbC1lbnRpdGllcy9saWIvaHRtbDUtZW50aXRpZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2h0bWwtZW50aXRpZXMvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9odG1sLWVudGl0aWVzL2xpYi94bWwtZW50aXRpZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2lkZW50aWNvbi5qcy9pZGVudGljb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2lkZW50aWNvbi5qcy9wbmdsaWIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2llZWU3NTQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2lzYXJyYXkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2pzc2hhL2Rpc3Qvc2hhLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9nbGV2ZWwvbGliL2xvZ2xldmVsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb21lbnQvbW9tZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ub2RlLWxpYnMtYnJvd3Nlci9ub2RlX21vZHVsZXMvcHVueWNvZGUvcHVueWNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nLWVzMy9kZWNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nLWVzMy9lbmNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nLWVzMy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc29ja2pzLWNsaWVudC9kaXN0L3NvY2tqcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXJsL3VybC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXJsL3V0aWwuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS1kZXYtc2VydmVyL2NsaWVudC9jbGllbnRzL0Jhc2VDbGllbnQuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS1kZXYtc2VydmVyL2NsaWVudC9jbGllbnRzL1NvY2tKU0NsaWVudC5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spLWRldi1zZXJ2ZXIvY2xpZW50Iiwid2VicGFjazovLy8od2VicGFjayktZGV2LXNlcnZlci9jbGllbnQvb3ZlcmxheS5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spLWRldi1zZXJ2ZXIvY2xpZW50L3NvY2tldC5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spLWRldi1zZXJ2ZXIvY2xpZW50L3V0aWxzL2NyZWF0ZVNvY2tldFVybC5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spLWRldi1zZXJ2ZXIvY2xpZW50L3V0aWxzL2dldEN1cnJlbnRTY3JpcHRTb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS1kZXYtc2VydmVyL2NsaWVudC91dGlscy9sb2cuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS1kZXYtc2VydmVyL2NsaWVudC91dGlscy9yZWxvYWRBcHAuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS1kZXYtc2VydmVyL2NsaWVudC91dGlscy9zZW5kTWVzc2FnZS5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spLWRldi1zZXJ2ZXIvbm9kZV9tb2R1bGVzL2Fuc2ktcmVnZXgvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS1kZXYtc2VydmVyL25vZGVfbW9kdWxlcy9zdHJpcC1hbnNpL2luZGV4LmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL21vZHVsZS5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2hvdCBzeW5jIG5vbnJlY3Vyc2l2ZSBeXFwuXFwvbG9nJCIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2hvdC9lbWl0dGVyLmpzIiwid2VicGFjazovLy8od2VicGFjaykvaG90L2xvZy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC9nYW1pZmljYXRpb24tdXgtcGFja2FnZS52My5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC9tb2R1bGVzL0FqYXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvbW9kdWxlcy9DYW52YXNBbmltYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvbW9kdWxlcy9MYldpZGdldC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC9tb2R1bGVzL01haW5XaWRnZXQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvbW9kdWxlcy9NZXNzYWdpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvbW9kdWxlcy9NaW5pU2NvcmVCb2FyZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC9tb2R1bGVzL05vdGlmaWNhdGlvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvbW9kdWxlcy9jTGFicy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC9tb2R1bGVzL2RyYWdFbGVtZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0L21vZHVsZXMvc2V0VGltZW91dEdsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC9wb2x5ZmlsbHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvdXRpbHMvYWRkQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvdXRpbHMvYXBwZW5kTmV4dC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC91dGlscy9jYW1lbFRvS2ViYWJDYXNlLmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0L3V0aWxzL2Nsb3Nlc3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvdXRpbHMvZm9ybWF0TnVtYmVyTGVhZGluZ1plcm9zLmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0L3V0aWxzL2dldE9mZnNldC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC91dGlscy9oYXNDbGFzcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC91dGlscy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC91dGlscy9pc0VsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvdXRpbHMvaXNNb2JpbGVUYWJsZXQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvdXRpbHMvaXNpT1NEZXZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvdXRpbHMvbWFwT2JqZWN0LmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0L3V0aWxzL21lcmdlT2JqZWN0cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC91dGlscy9vYmplY3RDb3VudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC91dGlscy9vYmplY3RJdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC91dGlscy9xdWVyeS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC91dGlscy9yZW1vdmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvdXRpbHMvcmVtb3ZlQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvdXRpbHMvc2Nyb2xsRW5hYmxlZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC91dGlscy9zaXplb2YuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvdXRpbHMvc3RyaW5nQ29udGFpbnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvdXRpbHMvc3RyaXBIdG1sLmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0L3V0aWxzL3RyaW0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Njc3MvYmx1ZS10aGVtZS1yZWZyZXNoL3N0eWxlLnNjc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Njc3MvbGF5b3V0cy9zdHlsZS5zY3NzIl0sIm5hbWVzIjpbInByb2Nlc3MiLCJ3aW5kb3ciLCJfQ0xMQlYzT3B0IiwiYXV0b1N0YXJ0IiwiX2NsTGVhZGVyQm9hcmRWMyIsIkxiV2lkZ2V0IiwiY29uc29sZSIsIndhcm4iLCJjTGFicyIsIkFqYXgiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsInByb3RvdHlwZSIsImNyZWF0ZUNPUlNSZXF1ZXN0IiwibWV0aG9kIiwidXJsIiwib2JqIiwib3BlbiIsIlhEb21haW5SZXF1ZXN0IiwiaW5kZXhPZiIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJyZXBsYWNlIiwiYWJvcnQiLCJfdGhpcyIsInJlYWR5U3RhdGUiLCJnZXREYXRhIiwiZGF0YSIsInR5cGUiLCJ1bmRlZmluZWQiLCJsZW5ndGgiLCJzdWNjZXNzIiwiZXJyb3IiLCJoZWFkZXJzIiwiZXh0cmFDYWxsYmFjayIsIm9ubG9hZCIsInJlc3BvbnNlVGV4dCIsIm9uZXJyb3IiLCJzdGF0dXMiLCJzaXplb2YiLCJpdGVtIiwic2V0UmVxdWVzdEhlYWRlciIsInNlbmQiLCJKU09OIiwic3RyaW5naWZ5IiwiZXJyIiwibG9nIiwiR0lGIiwidGltZXJJRCIsInN0IiwiaW50ZXJsYWNlT2Zmc2V0cyIsImludGVybGFjZVN0ZXBzIiwiaW50ZXJsYWNlZEJ1ZlNpemUiLCJkZWludGVybGFjZUJ1ZiIsInBpeGVsQnVmU2l6ZSIsInBpeGVsQnVmIiwiR0lGX0ZJTEUiLCJHQ0V4dCIsIkNPTU1FTlQiLCJBUFBFeHQiLCJVTktOT1dOIiwiSU1BR0UiLCJFT0YiLCJFWFQiLCJTdHJlYW0iLCJVaW50OENsYW1wZWRBcnJheSIsInBvcyIsImxlbiIsImdldFN0cmluZyIsImNvdW50IiwicyIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInJlYWRTdWJCbG9ja3MiLCJzaXplIiwicmVhZFN1YkJsb2Nrc0IiLCJwdXNoIiwibHp3RGVjb2RlIiwibWluU2l6ZSIsImkiLCJwaXhlbFBvcyIsImNsZWFyIiwiZW9kIiwiZG9uZSIsImRpYyIsImNvZGUiLCJsYXN0IiwiZCIsImNvbmNhdCIsInBhcnNlQ29sb3VyVGFibGUiLCJjb2xvdXJzIiwicGFyc2UiLCJiaXRGaWVsZCIsImdpZiIsIndpZHRoIiwiaGVpZ2h0IiwiY29sb3JSZXMiLCJnbG9iYWxDb2xvdXJDb3VudCIsImJnQ29sb3VySW5kZXgiLCJnbG9iYWxDb2xvdXJUYWJsZSIsInNldFRpbWVvdXQiLCJwYXJzZUJsb2NrIiwicGFyc2VBcHBFeHQiLCJwYXJzZUdDRXh0IiwiZGlzcG9zYWxNZXRob2QiLCJ0cmFuc3BhcmVuY3lHaXZlbiIsImRlbGF5VGltZSIsInRyYW5zcGFyZW5jeUluZGV4IiwicGFyc2VJbWciLCJkZWludGVybGFjZSIsImZyYW1lIiwibGluZXMiLCJmcm9tTGluZSIsInBhc3MiLCJ0b0xpbmUiLCJVaW50OEFycmF5Iiwic2V0Iiwic3ViQXJyYXkiLCJmcmFtZXMiLCJ0aW1lIiwiZGVsYXkiLCJsZWZ0UG9zIiwidG9wUG9zIiwibG9jYWxDb2xvdXJUYWJsZUZsYWciLCJsb2NhbENvbG91clRhYmxlIiwiaW50ZXJsYWNlZCIsInByb2Nlc3NGcmFtZSIsImN0IiwiY0RhdGEiLCJkYXQiLCJwaXhDb3VudCIsImluZCIsInVzZVQiLCJwaXhlbCIsInBEYXQiLCJjb2wiLCJ0aSIsImltYWdlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY3R4IiwiZ2V0Q29udGV4dCIsImxhc3RGcmFtZSIsImRyYXdJbWFnZSIsImdldEltYWdlRGF0YSIsInB1dEltYWdlRGF0YSIsIndhaXRUaWxsRG9uZSIsImRvT25sb2FkRXZlbnQiLCJmaW5uaXNoZWQiLCJsb2FkaW5nIiwiZnJhbWVDb3VudCIsImNvbXBsZXRlIiwiY3VycmVudEZyYW1lIiwib25sb2FkYWxsIiwiYmluZCIsInBhdGgiLCJwbGF5T25Mb2FkIiwicGxheSIsImZpbmlzaGVkIiwiY2FuY2VsZWQiLCJjYW5jZWxDYWxsYmFjayIsInBhcnNlRXh0IiwiYmxvY2tJRCIsImNvbW1lbnQiLCJjYW5jZWwiLCJibG9ja0lkIiwiZmlyc3RGcmFtZU9ubHkiLCJvbnByb2dyZXNzIiwiYnl0ZXNSZWFkIiwidG90YWxCeXRlcyIsImNhbmNlbExvYWQiLCJjYWxsYmFjayIsIm5leHRGcmFtZUF0IiwibGFzdEZyYW1lQXQiLCJEYXRlIiwidmFsdWVPZiIsImRhdGFMb2FkZWQiLCJsb2FkR2lmIiwiZmlsZW5hbWUiLCJhamF4IiwicmVzcG9uc2VUeXBlIiwiZSIsInRhcmdldCIsInJlc3BvbnNlIiwic3JjIiwicGxheWluZyIsInBhdXNlZCIsInBhdXNlIiwiY2xlYXJUaW1lb3V0IiwidG9nZ2xlUGxheSIsInNlZWtGcmFtZSIsInNlZWsiLCJwbGF5U3BlZWQiLCJsb2FkIiwiaW5zdGFuY2UiLCJDYW52YXNBbmltYXRpb24iLCJvcHRpb25zIiwic2V0dGluZ3MiLCJjb250YWluZXIiLCJjb250YWluZXJXcmFwcGVyIiwiZ2lmSW5zdGFuY2UiLCJsYldpZGdldCIsImltYWdlU3JjIiwiY2FudmFzV2lkdGgiLCJjYW52YXNIZWlnaHQiLCJjYW52YXNXaWR0aEhhbGYiLCJjYW52YXNIZWlnaHRIYWxmIiwidXBkYXRlQWN0aXZlIiwibWVyZ2VPYmplY3RzIiwidXBkYXRlIiwidGltZXIiLCJzZXRUcmFuc2Zvcm0iLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJjbGVhclJlY3QiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjbGVhckNhbnZhcyIsIm92ZXJsYXlMYXlvdXQiLCJ3cmFwcGVyIiwiY2FudmFzIiwic2V0QXR0cmlidXRlIiwiYXBwZW5kQ2hpbGQiLCJpbml0IiwiYmluZENvbnRhaW5lciIsInF1ZXJ5Iiwic3R5bGUiLCJkaXNwbGF5Iiwib3BhY2l0eSIsImdpZlVSTCIsInRyYW5zbGF0aW9uIiwicmVxdWlyZSIsImRlYnVnIiwiYm9keSIsInNzZU1lc3NhZ2luZyIsIm5vdGlmaWNhdGlvbnMiLCJtaW5pU2NvcmVCb2FyZCIsImNhbnZhc0FuaW1hdGlvbiIsImVuYWJsZU5vdGlmaWNhdGlvbnMiLCJtYWluV2lkZ2V0IiwiZ2xvYmFsQWpheCIsImNoZWNrQWpheCIsImxhbmd1YWdlIiwiY3VycmVuY3kiLCJzcGFjZU5hbWUiLCJtZW1iZXJJZCIsImdyb3VwcyIsImdhbWVJZCIsImVuZm9yY2VHYW1lTG9va3VwIiwiYXBpS2V5IiwibWVtYmVyIiwiY29tcGV0aXRpb24iLCJhY3RpdmVDb21wZXRpdGlvbklkIiwiYWN0aXZlQ29udGVzdElkIiwiYWN0aXZlQ29tcGV0aXRpb24iLCJhY3RpdmVDb250ZXN0IiwicmVmcmVzaEludGVydmFsIiwicmVmcmVzaEludGVydmFsTWlsbGlzIiwiZXh0cmFjdEltYWdlSGVhZGVyIiwiYWNoaWV2ZW1lbnRzIiwibGltaXQiLCJ0b3RhbENvdW50IiwibGlzdCIsImF2YWlsYWJsZVJld2FyZHMiLCJyZXdhcmRzIiwiZXhwaXJlZFJld2FyZHMiLCJyZXdhcmRGb3JtYXR0ZXIiLCJyZXdhcmQiLCJkZWZhdWx0UmV3YXJkVmFsdWUiLCJ2YWx1ZSIsInVuaXRPZk1lYXN1cmUiLCJzeW1ib2wiLCJtZXNzYWdlcyIsInRvdXJuYW1lbnRzIiwicmVhZHlDb21wZXRpdGlvbnMiLCJhY3RpdmVDb21wZXRpdGlvbnMiLCJmaW5pc2hlZENvbXBldGl0aW9ucyIsImxlYWRlcmJvYXJkIiwiZnVsbExlYWRlcmJvYXJkU2l6ZSIsInJlZnJlc2hMYkRhdGFJbnRlcnZhbCIsImxlYWRlcmJvYXJkRGF0YSIsImxvYWRMZWFkZXJib2FyZEhpc3RvcnkiLCJsYXlvdXRTZXR0aW5ncyIsImltYWdlQmFubmVyIiwidGl0bGVMaW5rVG9EZXRhaWxzUGFnZSIsIm5hdmlnYXRpb24iLCJlbmFibGUiLCJuYXZpZ2F0aW9uQ2xhc3MiLCJuYXZpZ2F0aW9uQ2xhc3NJY29uIiwiY29udGFpbmVyQ2xhc3MiLCJvcmRlciIsImluYm94IiwidXJpIiwiZ2F0ZXdheURvbWFpbiIsImFwaSIsIm1lbWJlcnMiLCJhc3NldHMiLCJtZW1iZXJTU0UiLCJtZW1iZXJTU0VIZWFydGJlYXQiLCJjb21wZXRpdGlvbnMiLCJjb21wZXRpdGlvbkJ5SWQiLCJjb250ZXN0TGVhZGVyYm9hcmQiLCJhY2hpZXZlbWVudCIsImFjaGlldmVtZW50c1Byb2dyZXNzaW9uIiwiYWNoaWV2ZW1lbnRzSXNzdWVkIiwibWVzc2FnZUJ5SWQiLCJtZW1iZXJSZXdhcmQiLCJtZW1iZXJSZXdhcmRDbGFpbSIsIm1lbWJlckNvbXBldGl0aW9ucyIsIm1lbWJlckNvbXBldGl0aW9uQnlJZCIsIm1lbWJlckNvbXBldGl0aW9uT3B0SW4iLCJtZW1iZXJDb21wZXRpdGlvbk9wdEluQ2hlY2siLCJ0cmFuc2xhdGlvblBhdGgiLCJsb2FkVHJhbnNsYXRpb25zIiwic2hvd0NvcHlyaWdodCIsInJlc291cmNlcyIsInN0eWxlcyIsImxheW91dEJ1aWxkQ2FsbGJhY2siLCJsYXlvdXQiLCJOb3RpZmljYXRpb25zIiwiTWluaVNjb3JlQm9hcmQiLCJNYWluV2lkZ2V0IiwibWVzc2FnZSIsImZvcm1hdERhdGVUaW1lIiwiZHVyYXRpb24iLCJsYXJnZVJlc3VsdCIsInJlc3VsdCIsImRheXMiLCJob3VycyIsImZvcm1hdE51bWJlckxlYWRpbmdaZXJvcyIsIm1pbnV0ZXMiLCJtaW51dGVzU2hvcnRIYW5kIiwic2Vjb25kcyIsImpvaW4iLCJwb3B1bGF0ZUlkZW50aWNvbkJhc2U2NEltYWdlIiwic3RyIiwic2hhT2JqIiwianNTSEEiLCJoYXNoIiwiZ2V0SGFzaCIsIklkZW50aWNvbiIsImJhY2tncm91bmQiLCJtYXJnaW4iLCJmb3JtYXQiLCJ0b1N0cmluZyIsImljb24iLCJjb21wZXRpdGlvbkNoZWNrQWpheCIsImNoZWNrRm9yQXZhaWxhYmxlQ29tcGV0aXRpb25zIiwiYWpheEluc3RhbmNlIiwiZmlsdGVycyIsImFqYXhJbnN0YW5jZVRvVXNlIiwiZGF0YU9iaiIsImpzb24iLCJtYXBPYmplY3QiLCJjb21wIiwic3RhdHVzQ29kZSIsImNoZWNrRm9yRmluaXNoZWRDb21wZXRpdGlvbnMiLCJjb21wZXRpdGlvbkZpbmlzaGVkQ2hlY2tBamF4IiwicHJlcGFyZUFjdGl2ZUNvbXBldGl0aW9uIiwiaWQiLCJkZWFjdGl2YXRlQ29tcGV0aXRpb25zQW5kTGVhZGVyYm9hcmRzIiwibG9hZEFjdGl2ZUNvbXBldGl0aW9uIiwic2V0QWN0aXZlQ29tcGV0aXRpb24iLCJjb250ZXN0cyIsImNvbnRlc3QiLCJyZXdhcmRSYW5rIiwicmFua1BhcnRzIiwic3BsaXQiLCJwYXJ0Iiwic3RyaW5nQ29udGFpbnMiLCJyYW5rUmFuZ2UiLCJyYWdlU3RhcnQiLCJwYXJzZUludCIsInJhbmdlRW5kIiwiZ2V0TGVhZGVyYm9hcmREYXRhIiwidXBkYXRlTGVhZGVyYm9hcmROYXZpZ2F0aW9uQ291bnRzIiwibWVudUl0ZW1Db3VudCIsImlubmVySFRNTCIsInVwZGF0ZUFjaGlldmVtZW50TmF2aWdhdGlvbkNvdW50cyIsInVwZGF0ZVJld2FyZHNOYXZpZ2F0aW9uQ291bnRzIiwidXBkYXRlTWVzc2FnZXNOYXZpZ2F0aW9uQ291bnRzIiwiY2hlY2tBY2hpZXZlbWVudHNBamF4IiwiY2hlY2tGb3JBdmFpbGFibGVBY2hpZXZlbWVudHMiLCJkYXRlIiwiY3JlYXRlZERhdGVGaWx0ZXIiLCJ0b0lTT1N0cmluZyIsIndpdGhHcm91cHMiLCJqc29uRm9yQWxsIiwibWV0YSIsInRvdGFsUmVjb3Jkc0ZvdW5kIiwiYWNoIiwiZ2V0QWNoaWV2ZW1lbnRzQWpheCIsImdldEFjaGlldmVtZW50IiwiYWNoaWV2ZW1lbnRJZCIsImdldFJld2FyZEFqYXgiLCJnZXRSZXdhcmQiLCJyZXdhcmRJZCIsImdldE1lc3NhZ2VBamF4IiwiZ2V0TWVzc2FnZSIsIm1lc3NhZ2VJZCIsImNsYWltUmV3YXJkQWpheCIsImNsYWltUmV3YXJkIiwiY2hlY2tGb3JNZW1iZXJBY2hpZXZlbWVudHNBamF4IiwiY2hlY2tGb3JNZW1iZXJBY2hpZXZlbWVudHNJc3N1ZWQiLCJpZExpc3QiLCJhZ2dyZWdhdGlvbnMiLCJpdGVtcyIsImNoZWNrRm9yTWVtYmVyQWNoaWV2ZW1lbnRzUHJvZ3Jlc3Npb25BamF4IiwiY2hlY2tGb3JNZW1iZXJBY2hpZXZlbWVudHNQcm9ncmVzc2lvbiIsImNoZWNrRm9yQXZhaWxhYmxlUmV3YXJkc0FqYXgiLCJjaGVja0ZvckF2YWlsYWJsZVJld2FyZHMiLCJleHBpcmVkIiwiZXhwaXJ5IiwibW9tZW50IiwiZGlmZiIsInV0Y0RhdGUiLCJnZXRVVENGdWxsWWVhciIsImdldFVUQ01vbnRoIiwiZ2V0VVRDRGF0ZSIsImdldFVUQ0hvdXJzIiwiZ2V0VVRDTWludXRlcyIsImNoZWNrRm9yQXZhaWxhYmxlTWVzc2FnZXNBamF4IiwiY2hlY2tGb3JBdmFpbGFibGVNZXNzYWdlcyIsInNldERhdGUiLCJnZXRNb250aCIsImdldEZ1bGxZZWFyIiwiZ2V0RGF0ZSIsIm9wdEluTWVtYmVyQWpheCIsIm9wdEluTWVtYmVyVG9BY3RpdmVDb21wZXRpdGlvbiIsInJldmFsaWRhdGlvbkNvdW50IiwicmV2YWxpZGF0ZUlmU3VjY2Vzc2Z1bGxPcHRJbiIsImNvbXBldGl0aW9uSnNvbiIsIm9wdGluIiwibGVhZGVyYm9hcmREYXRhUmVmcmVzaCIsIm9wdGluUmVxdWlyZWQiLCJhY3RpdmUiLCJsb2FkU2NvcmVCb2FyZCIsImxvYWRMZWFkZXJib2FyZCIsImFjdGl2ZURhdGFSZWZyZXNoIiwiY2xlYXJBbGwiLCJzdG9wQWN0aXZpdHkiLCJjbGVhckludGVydmFsIiwidXBkYXRlSW50ZXJ2YWwiLCJyZXN0YXJ0QWN0aXZpdHkiLCJ1cGRhdGVTY29yZUJvYXJkIiwibG9hZE1lbWJlciIsImxvYWRXaWRnZXRUcmFuc2xhdGlvbnMiLCJzdGFydHVwIiwiaW5pdExheW91dCIsImNsZWFudXAiLCJfY2xlYW51cEluc3RhbmNlIiwicHJlTG9hZGVyUmVydW4iLCJsb2FkU3R5bGVzaGVldCIsImNyZWF0ZWRSZXNvdXJjZXMiLCJhdmFpbGFibGVMaW5rcyIsIm9iamVjdEl0ZXJhdG9yIiwibGluayIsIlVSTCIsImhyZWYiLCJiYXNlVVJJIiwicmVzb3VyY2UiLCJrZXkiLCJleGlzdHMiLCJjbGlja2VkTWluaVNjb3JlQm9hcmQiLCJkcmFnZ2luZyIsImFjaGlldmVtZW50RGF0YSIsIm9wZW5XaXRoVGFiQW5kQWN0aW9uIiwidGFiIiwiYWN0aW9uQ2FsbGJhY2siLCJsb2FkVGFiIiwibmF2aWdhdGlvblN3aXRjaCIsImxvYWRDb21wZXRpdGlvbkxpc3RBamF4IiwiZXZlbnRIYW5kbGVycyIsImVsIiwiaGFzQ2xhc3MiLCJhZGRDbGFzcyIsImxvYWRDb21wZXRpdGlvbkRldGFpbHMiLCJyZW1vdmVDbGFzcyIsImNvbXBldGl0aW9uRGV0YWlsc09wdEluQnV0dG9uU3RhdGUiLCJwYXJlbnROb2RlIiwiaGlkZU5vdGlmaWNhdGlvbiIsImhpZGUiLCJjbG9zZXN0Iiwic2hvd0VtYmVkZGVkQ29tcGV0aXRpb25EZXRhaWxzQ29udGVudCIsImhpZGVFbWJlZGRlZENvbXBldGl0aW9uRGV0YWlsc0NvbnRlbnQiLCJkYXRhc2V0IiwibG9hZEFjaGlldmVtZW50RGV0YWlscyIsImhpZGVDb21wZXRpdGlvbkRldGFpbHMiLCJoaWRlQWNoaWV2ZW1lbnREZXRhaWxzIiwiaGlkZVJld2FyZERldGFpbHMiLCJoaWRlTWVzc2FnZURldGFpbHMiLCJsb2FkUmV3YXJkRGV0YWlscyIsImxvYWRNZXNzYWdlRGV0YWlscyIsImNsYWltZWQiLCJsb2FkUmV3YXJkcyIsImNsYWltIiwibG9hZENvbXBldGl0aW9uTGlzdCIsInRvdXJuYW1lbnRJZCIsInByZUxvYWRlciIsInByZWxvYWRlciIsInNob3ciLCJoaWRlQ29tcGV0aXRpb25MaXN0IiwiYWNjb3JkaW9uTmF2aWdhdGlvbiIsImV2ZW50TGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50Iiwia2V5Q29kZSIsImlzTW9iaWxlIiwiY2xvc2VFdmVyeXRoaW5nIiwicHJlTG9hZGVyQWN0aXZlIiwicmVzdGFydCIsImlzTW9iaWxlVGFibGV0IiwiYXBwbHlBcHBlYXJhbmNlIiwiT2JqZWN0Iiwia2V5cyIsInJlZHVjZSIsImFjY3VtdWxhdG9yIiwiY3VycmVudFZhbHVlIiwiY2FtZWxUb0tlYmFiQ2FzZSIsImNzc1ZhcnMiLCJpbmNsdWRlIiwid2F0Y2giLCJvbmx5TGVnYWN5IiwidmFyaWFibGVzIiwiY2FudmFzSW5zdGFuY2UiLCJvdmVybGF5Q29udGFpbmVyIiwic2VjdGlvbiIsImRldGFpbHNDb250YWluZXIiLCJ0b3VybmFtZW50TGlzdENvbnRhaW5lciIsImhlYWRlckRhdGUiLCJsYWJlbERhdGUiLCJwcmVMb2FkZXJsYXN0QXR0ZW1wdCIsInByZWxvYWRlckNhbGxiYWNrUmVjb3ZlcnkiLCJkZWZhdWx0RW1wdHlMaXN0IiwidG9wUmVzdWx0U2l6ZSIsImhlYWRlciIsInJlc3VsdENvbnRhaW5lciIsInRvcFJlc3VsdHMiLCJ0aW1lckludGVydmFsIiwidG91cm5hbWVudHNTZWN0aW9uIiwiYWNjb3JkaW9uTGF5b3V0IiwibGFiZWwiLCJzaG93VG9wUmVzdWx0cyIsInJld2FyZHNTZWN0aW9uIiwibmF2aWdhdGlvblN3aXRjaExhc3RBdGVtcHQiLCJnZXRUaW1lIiwibmF2aWdhdGlvblN3aXRjaEluUHJvZ3Jlc3MiLCJvcHQiLCJoYXNPd25Qcm9wZXJ0eSIsImFjY29yZGlvblN0eWxlIiwib25MYXlvdXQiLCJhY2NvcmRpb25XcmFwcGVyIiwiZW50cnkiLCJhY2NvcmRpb25TZWN0aW9uIiwiYWNjb3JkaW9uTGFiZWwiLCJ0b3BTaG93bkVudHJ5IiwiYWNjb3JkaW9uTGlzdENvbnRhaW5lciIsImFjY29yZGlvbkxpc3QiLCJlbGVtZW50IiwicGFyZW50RWwiLCJuYXZpZ2F0aW9uU29ydGVyIiwiYSIsImIiLCJuYXZpZ2F0aW9uSXRlbXMiLCJuYXZpZ2F0aW9uTGlzdCIsInZhbCIsIm5hdmlnYXRpb25JdGVtIiwibmF2aWdhdGlvbkl0ZW1JY29uIiwibmF2aWdhdGlvbkl0ZW1Db3VudCIsImlubmVyV3JhcHBlciIsIm5hdmlnYXRpb25Db250YWluZXIiLCJtYWluU2VjdGlvbkNvbnRhaW5lciIsInByZUxvYWRlckNvbnRhaW5lciIsInByZUxvYWRlckNvbnRlbnQiLCJwcmVMb2FkZXJCYXIxIiwicHJlTG9hZGVyQmFyMiIsInByZUxvYWRlckJhcjMiLCJzZWN0aW9uTEIiLCJsZWFkZXJib2FyZEFyZWFMYXlvdXQiLCJzZWN0aW9uQUNIIiwiYWNoaWV2ZW1lbnRzQXJlYUxheW91dCIsInNlY3Rpb25SZXdhcmRzIiwicmV3YXJkc0FyZWFMYXlvdXQiLCJzZWN0aW9uSW5ib3giLCJpbmJveEFyZWFMYXlvdXQiLCJuYXZpZ2F0aW9uSXRlbUxpc3QiLCJtYWluTmF2aWdhdGlvbkNoZWNrIiwibmF2SXRlbXMiLCJjaGVja0VuYWJsZWQiLCJuYXZJdGVtIiwic2VjdGlvbkxCSGVhZGVyIiwic2VjdGlvbkxCSGVhZGVyTGlzdCIsInNlY3Rpb25MQkhlYWRlckxpc3RJY29uIiwic2VjdGlvbkxCSGVhZGVyTGFiZWwiLCJzZWN0aW9uTEJIZWFkZXJEYXRlIiwic2VjdGlvbkxCSGVhZGVyQ2xvc2UiLCJzZWN0aW9uTEJEZXRhaWxzIiwic2VjdGlvbkxCRGV0YWlsc0luZm8iLCJzZWN0aW9uTEJEZXRhaWxzSW5mb0ljb24iLCJzZWN0aW9uTEJEZXRhaWxzSW1hZ2VDb250YWluZXIiLCJzZWN0aW9uTEJEZXRhaWxzQ29udGVudENvbnRhaW5lciIsInNlY3Rpb25MQkRldGFpbHNDb250ZW50Q29udGFpbmVyTGFiZWwiLCJzZWN0aW9uTEJEZXRhaWxzQ29udGVudENvbnRhaW5lckxhYmVsVGV4dCIsInNlY3Rpb25MQkRldGFpbHNDb250ZW50Q29udGFpbmVyRGF0ZSIsInNlY3Rpb25MQkRldGFpbHNEZXNjcmlwdGlvbkNvbnRhaW5lciIsInNlY3Rpb25MQkRldGFpbHNEZXNjcmlwdGlvbiIsInNlY3Rpb25MQkRldGFpbHNEZXNjcmlwdGlvbkNsb3NlIiwic2VjdGlvbkxCTGVhZGVyYm9hcmQiLCJzZWN0aW9uTEJMZWFkZXJib2FyZEhlYWRlciIsInNlY3Rpb25MQkxlYWRlcmJvYXJkSGVhZGVyTGFiZWxzIiwic2VjdGlvbkxCTGVhZGVyYm9hcmRSZXN1bHRzQ29udGFpbmVyIiwic2VjdGlvbkxCTGVhZGVyYm9hcmRIZWFkZXJUb3BSZXN1bHRzIiwic2VjdGlvbkxCTGVhZGVyYm9hcmRCb2R5Iiwic2VjdGlvbkxCTGVhZGVyYm9hcmRCb2R5UmVzdWx0cyIsInNlY3Rpb25MQk1pc3NpbmdNZW1iZXIiLCJzZWN0aW9uTEJPcHRJbkNvbnRhaW5lciIsInNlY3Rpb25MQk9wdEluQWN0aW9uIiwic2VjdGlvbkxCRm9vdGVyIiwic2VjdGlvbkxCRm9vdGVyQ29udGVudCIsInNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0NvbnRhaW5lciIsInNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0hlYWRlciIsInNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0hlYWRlckxhYmVsIiwic2VjdGlvblRvdXJuYW1lbnREZXRhaWxzSGVhZGVyRGF0ZSIsInNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0JhY2tCdG4iLCJzZWN0aW9uVG91cm5hbWVudERldGFpbHNCb2R5Q29udGFpbmVyIiwic2VjdGlvblRvdXJuYW1lbnREZXRhaWxzQm9keUltYWdlQ29udGFpbmVyIiwic2VjdGlvblRvdXJuYW1lbnREZXRhaWxzQm9keSIsInNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc09wdEluQ29udGFpbmVyIiwic2VjdGlvblRvdXJuYW1lbnREZXRhaWxzT3B0SW5BY3Rpb24iLCJzZWN0aW9uVG91cm5hbWVudExpc3QiLCJzZWN0aW9uVG91cm5hbWVudExpc3RCb2R5Iiwic2VjdGlvblRvdXJuYW1lbnRMaXN0Qm9keVJlc3VsdHMiLCJzZWN0aW9uVG91cm5hbWVudEJhY2tBY3Rpb24iLCJnbG9iYWwiLCJjb3B5IiwiZW50ZXIiLCJzZWN0aW9uQUNISGVhZGVyIiwic2VjdGlvbkFDSEhlYWRlckxhYmVsIiwic2VjdGlvbkFDSEhlYWRlckRhdGUiLCJzZWN0aW9uQUNISGVhZGVyQ2xvc2UiLCJzZWN0aW9uQUNIRGV0YWlscyIsInNlY3Rpb25BQ0hEZXRhaWxzSW5mbyIsInNlY3Rpb25BQ0hEZXRhaWxzSW5mb0ljb24iLCJzZWN0aW9uQUNIRGV0YWlsc0NvbnRlbnRDb250YWluZXIiLCJzZWN0aW9uQUNIRGV0YWlsc0NvbnRlbnRDb250YWluZXJMYWJlbCIsInNlY3Rpb25BQ0hEZXRhaWxzQ29udGVudENvbnRhaW5lckRhdGUiLCJzZWN0aW9uQUNITGlzdCIsInNlY3Rpb25BQ0hMaXN0Qm9keSIsInNlY3Rpb25BQ0hMaXN0Qm9keVJlc3VsdHMiLCJzZWN0aW9uQUNIRm9vdGVyIiwic2VjdGlvbkFDSEZvb3RlckNvbnRlbnQiLCJzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzQ29udGFpbmVyIiwic2VjdGlvbkFjaGlldmVtZW50RGV0YWlsc0hlYWRlciIsInNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNIZWFkZXJMYWJlbCIsInNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNIZWFkZXJEYXRlIiwic2VjdGlvbkFjaGlldmVtZW50RGV0YWlsc0JhY2tCdG4iLCJzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzQm9keUNvbnRhaW5lciIsInNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNCb2R5SW1hZ2VDb250YWluZXIiLCJzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzQm9keSIsInNlY3Rpb25SZXdhcmRzSGVhZGVyIiwic2VjdGlvblJld2FyZHNIZWFkZXJMYWJlbCIsInNlY3Rpb25SZXdhcmRzSGVhZGVyRGF0ZSIsInNlY3Rpb25SZXdhcmRzSGVhZGVyQ2xvc2UiLCJzZWN0aW9uUmV3YXJkc0RldGFpbHMiLCJzZWN0aW9uUmV3YXJkc0RldGFpbHNJbmZvIiwic2VjdGlvblJld2FyZHNEZXRhaWxzSW5mb0ljb24iLCJzZWN0aW9uUmV3YXJkc0RldGFpbHNDb250ZW50Q29udGFpbmVyIiwic2VjdGlvblJld2FyZHNEZXRhaWxzQ29udGVudENvbnRhaW5lckxhYmVsIiwic2VjdGlvblJld2FyZHNEZXRhaWxzQ29udGVudENvbnRhaW5lckRhdGUiLCJzZWN0aW9uUmV3YXJkc0xpc3QiLCJzZWN0aW9uUmV3YXJkc0xpc3RCb2R5Iiwic2VjdGlvblJld2FyZHNMaXN0Qm9keVJlc3VsdHMiLCJzZWN0aW9uUmV3YXJkc0Zvb3RlciIsInNlY3Rpb25SZXdhcmRzRm9vdGVyQ29udGVudCIsInNlY3Rpb25SZXdhcmRzRGV0YWlsc0NvbnRhaW5lciIsInNlY3Rpb25SZXdhcmRzRGV0YWlsc0hlYWRlciIsInNlY3Rpb25SZXdhcmRzRGV0YWlsc0hlYWRlckxhYmVsIiwic2VjdGlvblJld2FyZHNEZXRhaWxzSGVhZGVyRGF0ZSIsInNlY3Rpb25SZXdhcmRzRGV0YWlsc0JhY2tCdG4iLCJzZWN0aW9uUmV3YXJkc0RldGFpbHNCb2R5Q29udGFpbmVyIiwic2VjdGlvblJld2FyZHNEZXRhaWxzQm9keUltYWdlQ29udGFpbmVyIiwic2VjdGlvblJld2FyZHNEZXRhaWxzQm9keSIsInNlY3Rpb25SZXdhcmRzV2lubmluZ3NDb250YWluZXIiLCJzZWN0aW9uUmV3YXJkc1dpbm5pbmdzSWNvbiIsInNlY3Rpb25SZXdhcmRzV2lubmluZ3NWYWx1ZSIsInNlY3Rpb25SZXdhcmRzQ2xhaW1Db250YWluZXIiLCJzZWN0aW9uUmV3YXJkc0NsYWltQnRuIiwic2VjdGlvbkluYm94SGVhZGVyIiwic2VjdGlvbkluYm94SGVhZGVyTGFiZWwiLCJzZWN0aW9uSW5ib3hIZWFkZXJEYXRlIiwic2VjdGlvbkluYm94SGVhZGVyQ2xvc2UiLCJzZWN0aW9uSW5ib3hEZXRhaWxzIiwic2VjdGlvbkluYm94RGV0YWlsc0luZm8iLCJzZWN0aW9uSW5ib3hEZXRhaWxzSW5mb0ljb24iLCJzZWN0aW9uSW5ib3hEZXRhaWxzQ29udGVudENvbnRhaW5lciIsInNlY3Rpb25JbmJveERldGFpbHNDb250ZW50Q29udGFpbmVyTGFiZWwiLCJzZWN0aW9uSW5ib3hEZXRhaWxzQ29udGVudENvbnRhaW5lckRhdGUiLCJzZWN0aW9uSW5ib3hMaXN0Iiwic2VjdGlvbkluYm94TGlzdEJvZHkiLCJzZWN0aW9uSW5ib3hMaXN0Qm9keVJlc3VsdHMiLCJzZWN0aW9uSW5ib3hGb290ZXIiLCJzZWN0aW9uSW5ib3hGb290ZXJDb250ZW50Iiwic2VjdGlvbkluYm94RGV0YWlsc0NvbnRhaW5lciIsInNlY3Rpb25JbmJveERldGFpbHNIZWFkZXIiLCJzZWN0aW9uSW5ib3hEZXRhaWxzSGVhZGVyTGFiZWwiLCJzZWN0aW9uSW5ib3hEZXRhaWxzSGVhZGVyRGF0ZSIsInNlY3Rpb25JbmJveERldGFpbHNCYWNrQnRuIiwic2VjdGlvbkluYm94RGV0YWlsc0JvZHlDb250YWluZXIiLCJzZWN0aW9uSW5ib3hEZXRhaWxzQm9keSIsImxlYWRlcmJvYXJkSGVhZGVyIiwicmFua0NvbCIsImljb25Db2wiLCJuYW1lQ29sIiwiZ3Jvd3RoQ29sIiwicG9pbnRzQ29sIiwicmFuayIsIm5hbWUiLCJwb2ludHMiLCJyZXdhcmRDb2wiLCJyZXdhcmRFbmFibGVkIiwicHJpemUiLCJsZWFkZXJib2FyZFJvdyIsImNoYW5nZSIsImdyb3d0aCIsIm1lbWJlckZvdW5kIiwiY2VsbFdyYXBwZXIiLCJyYW5rQ2VsIiwicmFua0NlbFZhbHVlIiwiaWNvbkNlbCIsImljb25DZWxJbWciLCJJbWFnZSIsIm5hbWVDZWwiLCJncm93dGhDZWwiLCJwb2ludHNDZWwiLCJtZW1iZXJGb3VuZENsYXNzIiwiYWx0IiwicmV3YXJkQ2VsIiwibGVhZGVyYm9hcmRSb3dVcGRhdGUiLCJvbk1pc3NpbmciLCJjZWxsUm93Iiwicm93SGFzQ2xhc3MiLCJwb3B1bGF0ZUxlYWRlcmJvYXJkUmVzdWx0c1dpdGhEZWZhdWx0RW50cmllcyIsInJlbWFpbmluZ1Jlc3VsdHMiLCJtZW1iZXJSZWZJZCIsInVwZGF0ZUxlYWRlcmJvYXJkVG9wUmVzdWx0cyIsInVwZGF0ZUxlYWRlcmJvYXJkUmVzdWx0cyIsInJhbmtDaGVjayIsImNsZWFudXBSYW5rQ2hlY2siLCJsYiIsInJlbW92ZSIsIm1lbWJlck5hbWUiLCJ5b3UiLCJncm93dGhUeXBlIiwiZ3Jvd3RoSWNvbiIsInJjIiwibmV3Um93IiwicHJldkNlbGxSb3ciLCJhcHBlbmROZXh0IiwicmV3YXJkUmVzcG9uc2UiLCJBcnJheSIsInVwZGF0ZUxlYWRlcmJvYXJkIiwibWlzc2luZ01lbWJlciIsImlzRWxlbWVudFZpc2libGVJblZpZXciLCJ1cGRhdGVMZWFkZXJib2FyZFRpbWUiLCJzY2hlZHVsZWRTdGFydCIsInNjaGVkdWxlZEVuZCIsImZpbmlzaGluZyIsImRldGFpbHNDb250YWluZXJEYXRlIiwiZ2V0QWN0aXZlQ29tcGV0aXRpb25EZXNjcmlwdGlvbiIsImRlc2NyaXB0aW9uIiwiZXh0cmFjdEltYWdlIiwiaW1hZ2VDb250YWluZXIiLCJpc0JvZHlWaXJ0dWFsT3B0IiwiYWN0aXZlSW1hZ2VDb250YWluZXIiLCJpbWFnZUZvdW5kIiwiaXNCb2R5VmlydHVhbCIsImltZyIsIm5ld0ltZyIsImNsb25lTm9kZSIsImxlYWRlcmJvYXJkRGV0YWlsc1VwZGF0ZSIsIm1haW5MYWJlbCIsIm5vQXZhaWxhYmxlQ29tcGV0aXRpb25zIiwibGVhZGVyYm9hcmRPcHRJbkNoZWNrIiwib3B0SW4iLCJpc1Zpc2libGUiLCJhcmVhIiwicG9zaXRpb24iLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJlbGVtQ29udGFpbmVyIiwiZWxlbVRvcCIsInRvcCIsImVsZW1Cb3R0b20iLCJib3R0b20iLCJlbGVtSGVpZ2h0Iiwib25zY3JvbGwiLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsIm9ucmVzaXplIiwicmVnaXN0ZXJlZCIsImxpc3RSZXNDb250YWluZXIiLCJsaXN0SWNvbiIsImFjY29yZGlvbk9iaiIsImxpc3RDb250YWluZXIiLCJ0b3BFbnRyeUNvbnRhaW5lciIsInRvdXJuYW1lbnREYXRhIiwidG91cm5hbWVudCIsInRvcEVudHJ5Q29udGFpbmVSbGlzdEl0ZW0iLCJ0b3VybmFtZW50SXRlbSIsImxpc3RJdGVtIiwiYWNoaWV2ZW1lbnRJdGVtIiwiYWNoaWV2ZWQiLCJwZXJjIiwiZGV0YWlsc1dyYXBwZXIiLCJjYXRlZ29yeSIsInByb2dyZXNzaW9uV3JhcHBlciIsInByb2dyZXNzaW9uQ29udCIsInByb2dyZXNzaW9uQmFyIiwibW9yZUJ1dHRvbiIsImNwb21udGFpbnNJbWFnZSIsIm1vcmUiLCJpbWFnZUljb25XcmFwcGVyIiwiYWNoaWV2ZW1lbnRMaXN0TGF5b3V0IiwiYWNoTGlzdCIsImltYWdlTG9va3VwIiwiY2xhaW1CdG4iLCJyZXdhcmROYW1lIiwiX2ltYWdlIiwic3ViamVjdCIsInVwZGF0ZUFjaGlldmVtZW50UHJvZ3Jlc3Npb25BbmRJc3N1ZWQiLCJpc3N1ZWQiLCJwcm9ncmVzc2lvbiIsImlzc3VlZFN0YXR1cyIsInByIiwicGFyc2VGbG9hdCIsImdvYWxQZXJjZW50YWdlQ29tcGxldGUiLCJ0b0ZpeGVkIiwiYmFyIiwibG9hZEFjaGlldmVtZW50cyIsInJld2FyZEl0ZW0iLCJyZXciLCJsYWJlbFRleHQiLCJzdHJpcEh0bWwiLCJkZXNjcmlwdGlvblRleHQiLCJzdWJzdHIiLCJtZXNzYWdlSXRlbSIsImNvbnRlbnQiLCJkZXNjcmlwdGlvbkNvbnRlbnQiLCJyZXdhcmRzTGlzdExheW91dCIsInJld2FyZExpc3QiLCJyZXdhcmREYXRhIiwibWVzc2FnZXNMaXN0TGF5b3V0IiwibWVzc2FnZUxpc3QiLCJpbmJveEl0ZW0iLCJsb2FkTWVzc2FnZXMiLCJjaGFuZ2VJbnRlcnZhbCIsImNoYW5nZUNvbnRhaW5lckludGVydmFsIiwibGJDb250YWluZXIiLCJhY2hDb250YWluZXIiLCJyZXdhcmRzQ29udGFpbmVyIiwiaW5ib3hDb250YWluZXIiLCJyZXNldE5hdmlnYXRpb24iLCJhY3RpdmVOYXZlIiwiTWVzc2FnaW5nIiwic291cmNlIiwiZXJyb3JDYWxsYmFjayIsInNzZVVybCIsImhlYXJ0YmVhdCIsImxhc3RIZWFydGJlYXQiLCJtYWluQWpheCIsImhlYXJ0QmVhdEFqYXgiLCJoZWFydFdhaXRUaW1lIiwibWVzc2FnZVF1ZXVlIiwibWVzc2FnZUludGVydmFsIiwic3RhcnR1cENoZWNrIiwib25TdGFydHVwRXJyb3IiLCJpbnRlcnZhbEluc3RhbmNlIiwiaGVhcnRiZWF0SW50ZXJ2YWxJbnN0YW5jZSIsImxvb2t1cERhdGEiLCJpbmRleCIsInNwbGljZSIsInNldEludGVydmFsIiwiY3VycmVudFRpbWUiLCJjbG9zZUNoYW5lbCIsImhlYXJCZWF0Q2hlY2siLCJkYXRhT2JqZWN0Iiwib3BlbkNoYW5lbCIsIkV2ZW50U291cmNlIiwid2l0aENyZWRlbnRpYWxzIiwic2VydmVyU2lkZUV2ZW50TGlzdGVuZXJzIiwiQ0xPU0VEIiwiY2xvc2UiLCJzc2VGYWlsZWQiLCJ3aW5kb3dBY3Rpdml0eSIsImhpZGRlbiIsIm9uY2hhbmdlIiwib25mb2N1c2luIiwib25mb2N1c291dCIsIm9ucGFnZXNob3ciLCJvbnBhZ2VoaWRlIiwib25mb2N1cyIsIm9uYmx1ciIsInYiLCJoIiwiZXZ0TWFwIiwiZm9jdXMiLCJmb2N1c2luIiwicGFnZXNob3ciLCJibHVyIiwiZm9jdXNvdXQiLCJwYWdlaGlkZSIsImluZm9Db250YWluZXIiLCJ1cGRhdGVJbnRlcnZhbFRpbWUiLCJlbmFibGVEcmFnZ2luZyIsImljb25XcmFwcGVyIiwiaW5mb3JtYXRpb25XcmFwcGVyIiwiaW5mb3JtYXRpb25Ub3BXcmFwcGVyIiwiaW5mb3JtYXRpb25XcmFwcGVyQ2xvc2UiLCJpbmZvcm1hdGlvbkNsb3NlIiwidGltZU1hbmFnZW1lbnQiLCJkYXRlT2JqIiwiaW52ZXJzZSIsIm1pbmlMZWFkZXJib2FyZCIsInN0YXJ0c0luIiwic3RhcnRpbmciLCJsYXlvdXREZWZhdWx0T3JFbXB0eUVudHJ5IiwibGJSZXN1bHRzTWVtRW50cnkiLCJsYlJlc3VsdHNNZW1MYWJlbCIsImxiUmVzdWx0c01lbVJhbmsiLCJsYlJlc3VsdHNNZW1JY29uIiwibGJSZXN1bHRzTWVtSW1nIiwibGJSZXN1bHRzTWVtUG9pbnRzIiwibGF5b3V0Rmlyc3RUb09yRW1wdHlFbnRyeSIsImxheW91dERlZmF1bHRPckVtcHR5Iiwid3JhcHBlckRvbU9iaiIsImRlZmF1bHREb21PYmoiLCJyZW1vdmVVbnVzZWRFbGVtZW50cyIsImxiV3JhcHBlciIsImxiRGF0ZVdyYXBwZXIiLCJsYkRhdGVMYWJlbCIsImxiRGF0ZSIsImxiUmVzdWx0c1dyYXBwZXIiLCJsYlJlc3VsdHNMaXN0IiwibGJIZWFkZXJzIiwibGJIZWFkZXJzUmFuayIsImxiSGVhZGVyc1BvaW50cyIsImxiRW50cnkiLCJyYW5raW5ncyIsInNjb3JlQXJlYSIsImxiUmFua2luZ0VudHJ5Iiwic2VsZk1lbWJlciIsImxheW91dEZpcnN0VG9PckVtcHR5Iiwic3RyYXRlZ3kiLCJyZWNvcmRUaW1lV2hlblN1bVJlYWNoZXMiLCJsYXlvdXRTdW1CZXN0T2YiLCJzdW1CZXN0RG9tT2JqIiwibGJSZXN1bHRzU2NvcmVBcmVhIiwibGJSZXN1bHRzU2NvcmVBcmVhSGlnaCIsImxiUmVzdWx0c1Njb3JlQXJlYUhpZ2hMYWJlbCIsImxiUmVzdWx0c1Njb3JlQXJlYUhpZ2hTY29yZSIsImxiUmVzdWx0c1Njb3JlQXJlYUxhc3QiLCJsYlJlc3VsdHNTY29yZUFyZWFMYXN0TGFiZWwiLCJsYlJlc3VsdHNTY29yZUFyZWFMYXN0U2NvcmUiLCJsYlJlc3VsdHNSYW5rQXJlYSIsImxiUmVzdWx0c1JhbmtWYWx1ZSIsImhpZ2hTY29yZSIsImxhc3RTY29yZSIsInJhbmtWYWx1ZSIsImxheW91dFJlcXVpcmVzT3B0SW4iLCJvcHRJbldyYXBwZXIiLCJvcHRJbkRhdGVXcmFwcGVyIiwib3B0SW5EYXRlTGFiZWwiLCJvcHRJbkRhdGUiLCJvcHRJbkRhdGVBY3Rpb25XcmFwcGVyIiwib3B0SW5EYXRlQWN0aW9uIiwiZGVmYXVsdExheW91dFdyYXBwZXJEb21PYmoiLCJvcHRJbldyYXBwZXJEb21PYmoiLCJmaXJzdFRvRG9tT2JqIiwicmVtb3ZlSW5mb0FyZWEiLCJsb2FkSW5mb0FyZWEiLCJkcmFnRWxlbWVudCIsIm5ld1RvcCIsIm5ld0xlZnQiLCJldmVudFN0cmVhbSIsImNoZWNrVGltZW91dCIsIm9uRGlzcGxheUNoZWNrVGltZW91dCIsImNoZWNrSW50ZXJ2YWwiLCJhdXRvTm90aWZpY2F0aW9uSGlkZUludGVydmFsIiwiYXV0b05vdGlmaWNhdGlvbkhpZGVUaW1lIiwiZGlzcGxheUluUHJvZ3Jlc3MiLCJkYXRhRXh0cmFjdGlvbkZvckNhbnZhcyIsIm1ldGFkYXRhIiwiZm91bmQiLCJyZXNwb25zZU9iaiIsImxheW91dFdyYXBwZXIiLCJpbmZvcm1hdGlvbkRldGFpbHNDb250YWluZXIiLCJpbmZvcm1hdGlvbkRldGFpbHNMYWJlbCIsImluZm9ybWF0aW9uRGV0YWlsc0Rlc2NyaXB0aW9uIiwicHJvY2Vzc2VkIiwic3RhcnRTU0UiLCJzc2VJbnN0YW5jZSIsImRhdGFLZXkiLCJhdXRvTm90aWZpY2F0aW9uSGlkZSIsInNob3dBY2hpZXZlbWVudE5vdGlmaWNhdGlvbiIsImhhbmRsZUNhbnZhc0FuaW1hdGlvbnMiLCJjYW52YXNEYXRhIiwiZXZlbnRTdHJlYW1DaGVjayIsIm5vdGlmaWNhdGlvbklkIiwiYXBpVVJMIiwiY2xhc3NTZWxlY3RvciIsImlkU2VsZWN0b3IiLCJ0YWdTZWxlY3RvciIsIm1vdmVtZW50SW50ZXJ2YWwiLCJlbG1udCIsImRyYWdnYWJsZUVsIiwiZmluaXNoRHJhZ2dpbmciLCJtb2JpbGVUb3VjaCIsInBvczEiLCJwb3MyIiwicG9zMyIsInBvczQiLCJpc2lPUyIsImlzaU9TRGV2aWNlIiwiaXNQYXJlbnRXaW5kb3ciLCJub2RlTmFtZSIsIm1heExlZnQiLCJvZmZzZXRXaWR0aCIsIm1heFRvcCIsIm9mZnNldEhlaWdodCIsInRvdWNoU3RhcnQiLCJtb3ZpbmciLCJvbldpbmRvd0NoYW5nZSIsImlzVmVydGljYWwiLCJvZmZzZXRNYXhMZWZ0Iiwib2Zmc2V0TWF4VG9wIiwiZWxUb3AiLCJlbExlZnQiLCJsZWZ0IiwianVzdEFUb3VjaCIsInBhc3NpdmUiLCJ0YXJnZXRUb3VjaGVzIiwicGFnZVgiLCJwYWdlWSIsImVsZW1lbnREcmFnIiwiY2xvc2VEcmFnRWxlbWVudCIsIm9ubW91c2Vkb3duIiwiZHJhZ01vdXNlRG93biIsImNsaWVudFgiLCJjbGllbnRZIiwib25tb3VzZXVwIiwib25tb3VzZW1vdmUiLCJjaGVja01heE1pblJlc3RyYWludHMiLCJtaW5MZWZ0IiwicG9zWCIsInBvc1kiLCJjaGVja01vdmVtZW50Iiwib2Zmc2V0VG9wIiwib2Zmc2V0TGVmdCIsImxlZnRUb3BDaGVjayIsInNldFRpbWVvdXRHbG9iYWwiLCJfc2V0VGltZW91dEdsb2JhbFJlcG9zaXRvcnkiLCJmdW5jIiwiaW50ZXJ2YWwiLCJFcnJvciIsImNsb3NlVGltZW91dCIsInJlRW5hYmxlVGltZW91dHMiLCJ0bXAiLCJTeW50YXhFcnJvciIsIkV2ZW50IiwicmV0dXJuVmFsdWUiLCJzdG9wUHJvcGFnYXRpb24iLCJjYW5jZWxCdWJibGUiLCJFbGVtZW50IiwidCIsIm4iLCJyIiwic3JjRWxlbWVudCIsImN1cnJlbnRUYXJnZXQiLCJzY3JvbGxMZWZ0Iiwic2Nyb2xsVG9wIiwiaGFuZGxlRXZlbnQiLCJjYWxsIiwibyIsImF0dGFjaEV2ZW50Iiwib2JqZWN0IiwibGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGV0YWNoRXZlbnQiLCJIVE1MRG9jdW1lbnQiLCJXaW5kb3ciLCJwYXJlbnRFbGVtZW50IiwicmVtb3ZlQ2hpbGQiLCJOb2RlTGlzdCIsIkhUTUxDb2xsZWN0aW9uIiwiZiIsInF1b3RlIiwiZXNjYXBhYmxlIiwibGFzdEluZGV4IiwidGVzdCIsImNoYXJDb2RlQXQiLCJzbGljZSIsInAiLCJnYXAiLCJ1IiwidG9KU09OIiwicmVwIiwiaXNGaW5pdGUiLCJpbmRlbnQiLCJhcHBseSIsImdldFVUQ1NlY29uZHMiLCJOdW1iZXIiLCJCb29sZWFuIiwiY3giLCJ0ZXh0IiwicmV2aXZlciIsIndhbGsiLCJqIiwiZXZhbCIsIl9zbGljZSIsImRvY3VtZW50RWxlbWVudCIsImMiLCJsIiwiY2hhckF0IiwicmVUcmltIiwiZXZlbnRzb3VyY2UiLCJsYXN0RXZlbnRJZCIsImNhY2hlIiwiQ09OTkVDVElORyIsIl9wb2xsVGltZXIiLCJfeGhyIiwicG9sbEFnYWluIiwicG9sbCIsInRpbWVvdXQiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJPUEVOIiwiZGlzcGF0Y2hFdmVudCIsInBhcnRzIiwiZXZlbnRUeXBlIiwibGluZSIsInJldHJ5IiwiaXNOYU4iLCJNZXNzYWdlRXZlbnQiLCJoYW5kbGVycyIsImhhbmRsZXIiLCJvbm1lc3NhZ2UiLCJvbm9wZW4iLCJvcmlnaW4iLCJtb2R1bGUiLCJleHBvcnRzIiwiY2xhc3NOYW1lIiwiY2xhc3NMaXN0IiwiYWRkIiwidHJhY2UiLCJuZXdOb2RlIiwibmV4dFNpYmxpbmciLCJpbnNlcnRCZWZvcmUiLCJsZXR0ZXIiLCJ0b0xvd2VyQ2FzZSIsInNlbGVjdG9yIiwic2VsZWN0b3JDbGFzc1N0cmluZyIsImdldEF0dHJpYnV0ZSIsInNlbGVjdG9ySWRTdHJpbmciLCJtYXRjaCIsInRvVXBwZXJDYXNlIiwibnVtIiwiZ2V0T2Zmc2V0IiwiX3giLCJfeSIsIm9mZnNldFBhcmVudCIsIl9oYXNDbGFzcyIsImNvbnRhaW5zIiwiUmVnRXhwIiwic3RhY2siLCJpc0VsZW1lbnQiLCJIVE1MRWxlbWVudCIsIm5vZGVUeXBlIiwiY2hlY2siLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJ2ZW5kb3IiLCJvcGVyYSIsInBsYXRmb3JtIiwicmV0Iiwib2JqMSIsIm9iajIiLCJhcnJheVR5cGUiLCJvYmozIiwiayIsIm9iamVjdENvdW50IiwiZG9jIiwidG1wRG9jIiwidG1wU2VsZWN0b3IiLCJ0cmltIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImdldEVsZW1lbnRCeUlkIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJxdWVyeVNlbGVjdG9yQWxsIiwic2Nyb2xsRW5hYmxlZCIsInNjcm9sbEhlaWdodCIsInBhcnRpYWwiLCJodG1sIiwidGV4dENvbnRlbnQiLCJpbm5lclRleHQiLCJzdHJpbmciXSwibWFwcGluZ3MiOiI7UUFBQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTs7O1FBR0E7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLDBDQUEwQyxnQ0FBZ0M7UUFDMUU7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSx3REFBd0Qsa0JBQWtCO1FBQzFFO1FBQ0EsaURBQWlELGNBQWM7UUFDL0Q7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLHlDQUF5QyxpQ0FBaUM7UUFDMUUsZ0hBQWdILG1CQUFtQixFQUFFO1FBQ3JJO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0EsMkJBQTJCLDBCQUEwQixFQUFFO1FBQ3ZELGlDQUFpQyxlQUFlO1FBQ2hEO1FBQ0E7UUFDQTs7UUFFQTtRQUNBLHNEQUFzRCwrREFBK0Q7O1FBRXJIO1FBQ0E7OztRQUdBO1FBQ0E7Ozs7Ozs7Ozs7Ozs7QUNsRlk7O0FBRVo7O0FBRUE7QUFDQSxtREFBbUQsSUFBSSxTQUFTLE1BQU0sSUFBSTs7QUFFMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsbURBQW1EO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsVUFBVTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsWUFBWTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLHVDQUF1QyxTQUFTO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsaUJBQWlCO0FBQ2hDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxpQkFBaUI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELEVBQUU7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGVBQWU7QUFDdkM7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esd0JBQXdCLFFBQVE7QUFDaEM7QUFDQSxxQkFBcUIsZUFBZTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsWUFBWTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEscUJBQXFCLFNBQVM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHFCQUFxQixTQUFTO0FBQzlCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHFCQUFxQixTQUFTO0FBQzlCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixrQkFBa0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLG1CQUFtQixjQUFjO0FBQ2pDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1REFBdUQsT0FBTztBQUM5RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdURBQXVELE9BQU87QUFDOUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCO0FBQ2xCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EscUJBQXFCLFFBQVE7QUFDN0I7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLG1CQUFtQixTQUFTO0FBQzVCO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGlCQUFpQjtBQUNoQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlCQUFpQixZQUFZO0FBQzdCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNM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O0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsc0JBQXNCO0FBQ3ZDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLG1CQUFtQixTQUFTO0FBQzVCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUEsaUNBQWlDLFFBQVE7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixpQkFBaUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxzQ0FBc0MsUUFBUTtBQUM5QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBOztBQUVBO0FBQ0EsUUFBUSx5QkFBeUI7QUFDakM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsZ0JBQWdCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7Ozs7Ozs7Ozs7Ozs7QUMzZGE7QUFDYiw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7Ozs7Ozs7Ozs7O0FDN0dhO0FBQ2IsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7OztBQ2xKYTtBQUNiLDhDQUE4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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUIsZ0JBQWdCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQSwyQkFBMkIsU0FBUztBQUNwQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx1QkFBdUIsNkJBQTZCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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RUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix3QkFBd0I7QUFDbkQ7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsaUJBQWlCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsUUFBUTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsUUFBUTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsbUJBQW1CLFFBQVE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFFBQVE7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFFBQVE7QUFDM0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHVCQUF1QixPQUFPO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsT0FBTztBQUMxQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG1CQUFtQixPQUFPO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixPQUFPO0FBQzFCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsbUJBQW1CLG1CQUFtQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1CQUFtQixzQkFBc0I7QUFDekM7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxrQ0FBa0MsZ0JBQWdCO0FBQ2xEOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsb0JBQW9CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVCQUF1QixxQkFBcUI7QUFDNUM7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDZCQUE2QjtBQUN0QztBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtB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O0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdCQUF3QjtBQUN4Qjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLOzs7QUFHTDs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3QkFBd0IsbUJBQW1CO0FBQzNDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHFCQUFxQixtQkFBbUI7QUFDeEM7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsbUJBQW1CLFFBQVE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsbUJBQW1CLE9BQU87QUFDMUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9DQUFvQyxJQUFJO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7O0FBRUw7OztBQUdBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsQ0FBQzs7Ozs7Ozs7Ozs7OztBQ3ovSUQ7QUFDQSxDQUFDOztBQUVEO0FBQ0EsbUJBQW1CLEtBQTBCO0FBQzdDO0FBQ0Esa0JBQWtCLEtBQXlCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLE9BQU87QUFDbkIsY0FBYyxNQUFNO0FBQ3BCO0FBQ0E7QUFDQTtBQUNB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OztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLENBQUMsYUFBYSxRQUFRLEVBQUU7O0FBRXhCLENBQUMsRUFBRSxtRUFBbUU7QUFDdEU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxDQUFDLEVBQUUsc0ZBQXNGO0FBQ3pGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsQ0FBQyxhQUFhLFFBQVEsRUFBRSwwSEFBMEg7O0FBRWxKLENBQUMsRUFBRSxzSEFBc0g7QUFDekg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLENBQUMsYUFBYSxRQUFRLEVBQUU7O0FBRXhCLENBQUMsRUFBRSx3TkFBd047QUFDM047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLENBQUMscUlBQXFJOztBQUV0SSxDQUFDLEdBQUc7QUFDSjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxnREFBZ0QsV0FBVztBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVB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QUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLGtEQUFrRCxXQUFXO0FBQzdEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVELENBQUMsR0FBRztBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQyxFQUFFLDBRQUEwUTtBQUM3UTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBOztBQUVBOztBQUVBOztBQUVBLENBQUMsYUFBYSxRQUFRLEVBQUUsMEhBQTBIOztBQUVsSixDQUFDLEVBQUUsZ0ZBQWdGO0FBQ25GO0FBQ0E7O0FBRUEsQ0FBQyxxSUFBcUk7O0FBRXRJLENBQUMsR0FBRztBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBOztBQUVBLENBQUMscUlBQXFJOztBQUV0SSxDQUFDLEdBQUc7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQSxDQUFDLEVBQUUsd0dBQXdHO0FBQzNHOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBLENBQUMsRUFBRSxxRkFBcUY7QUFDeEY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUEsQ0FBQyxhQUFhLFFBQVEsRUFBRTs7QUFFeEIsQ0FBQyxFQUFFLCtJQUErSTtBQUNsSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsQ0FBQyxxSUFBcUk7O0FBRXRJLENBQUMsRUFBRSxtRkFBbUY7QUFDdEY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLENBQUMsYUFBYSxRQUFRLEVBQUU7O0FBRXhCLENBQUMsRUFBRSxxRUFBcUU7QUFDeEU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxDQUFDLGFBQWEsUUFBUSxFQUFFOztBQUV4QixDQUFDLEVBQUUsb0NBQW9DO0FBQ3ZDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlGQUF5Rjs7QUFFekY7O0FBRUE7QUFDQTs7QUFFQSxDQUFDLHFJQUFxSTs7QUFFdEksQ0FBQyxFQUFFLHFEQUFxRDtBQUN4RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLENBQUMsYUFBYSxRQUFRLEVBQUU7O0FBRXhCLENBQUMsRUFBRSxvQ0FBb0M7QUFDdkM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsQ0FBQyxhQUFhLFFBQVEsRUFBRTs7QUFFeEIsQ0FBQyxFQUFFLG9GQUFvRjtBQUN2RjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBLENBQUMsYUFBYSxRQUFRLEVBQUU7O0FBRXhCLENBQUMsRUFBRSxxREFBcUQ7QUFDeEQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxDQUFDLGFBQWEsUUFBUSxFQUFFLDBIQUEwSDs7QUFFbEosQ0FBQyxFQUFFLHlHQUF5RztBQUM1RztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYzs7QUFFZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsMEJBQTBCLHFEQUFxRCxtQkFBbUIsV0FBVztBQUM3RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLENBQUMsYUFBYSxRQUFRLEVBQUUsMEhBQTBIOztBQUVsSixDQUFDLEVBQUUsa0lBQWtJO0FBQ3JJO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsb0JBQW9CLEVBQUU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLENBQUMsYUFBYSxRQUFRLEVBQUU7O0FBRXhCLENBQUMsRUFBRSxvQ0FBb0M7QUFDdkM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLENBQUMsYUFBYSxRQUFRLEVBQUUsMEhBQTBIOztBQUVsSixDQUFDLEVBQUUsd0RBQXdEO0FBQzNEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUEsQ0FBQyxhQUFhLFFBQVEsRUFBRSwwSEFBMEg7O0FBRWxKLENBQUMsRUFBRSx5R0FBeUc7QUFDNUc7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQSxDQUFDLEVBQUUsaUNBQWlDO0FBQ3BDOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnQ0FBZ0M7QUFDaEMsR0FBRztBQUNIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxDQUFDLEVBQUUseUJBQXlCO0FBQzVCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEsQ0FBQyxFQUFFLGlDQUFpQztBQUNwQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxDQUFDLGFBQWEsUUFBUSxFQUFFOztBQUV4QixDQUFDLEVBQUUsa0dBQWtHO0FBQ3JHOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLG1DQUFtQzs7QUFFbkM7O0FBRUEsQ0FBQyxFQUFFLCtGQUErRjtBQUNsRzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EscUNBQXFDOztBQUVyQzs7QUFFQSxDQUFDLEVBQUUsMEVBQTBFO0FBQzdFOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1DQUFtQzs7QUFFbkM7O0FBRUEsQ0FBQyxFQUFFLHVHQUF1RztBQUMxRztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHFDQUFxQzs7QUFFckM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsQ0FBQyxxSUFBcUk7O0FBRXRJLENBQUMsRUFBRSw2SEFBNkg7QUFDaEk7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLG1CQUFtQixZQUFZO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQyxxSUFBcUk7O0FBRXRJLENBQUMsR0FBRztBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxDQUFDLHFJQUFxSTs7QUFFdEksQ0FBQyxHQUFHO0FBQ0o7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFdBQVc7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBLENBQUMsRUFBRSxXQUFXO0FBQ2Q7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxDQUFDLHFJQUFxSTs7QUFFdEksQ0FBQyxFQUFFLGNBQWM7QUFDakI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxnRUFBZ0U7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxDQUFDLGFBQWEsUUFBUSxFQUFFLDBIQUEwSDs7QUFFbEosQ0FBQyxFQUFFLGtEQUFrRDtBQUNyRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUcsb0NBQW9DO0FB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QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLE9BQU87QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsT0FBTztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxPQUFPO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCLG1CQUFtQjtBQUNyQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsbUJBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsaUJBQWlCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLFFBQVE7QUFDdEM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVUsTUFBTTtBQUNoQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FDM3RCYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FDZmE7QUFDYjtBQUNBO0FBQ0E7O0FBRUEsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdkosMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUU7O0FBRTNULDZEQUE2RCxzRUFBc0UsOERBQThELG9CQUFvQjs7QUFFck47QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDLEc7Ozs7Ozs7Ozs7OztBQ3hCWTtBQUNiO0FBQ0E7QUFDQTs7QUFFQSx1QkFBdUIsMkJBQTJCLDJFQUEyRSxrQ0FBa0MsbUJBQW1CLEdBQUcsRUFBRSxPQUFPLGtDQUFrQyw4SEFBOEgsR0FBRyxFQUFFLHFCQUFxQjs7QUFFeFgsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdkosMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUU7O0FBRTNULDZEQUE2RCxzRUFBc0UsOERBQThELG9CQUFvQjs7QUFFck4sMENBQTBDLCtEQUErRCwyRUFBMkUsRUFBRSx5RUFBeUUsZUFBZSxzREFBc0QsRUFBRSxFQUFFLHVEQUF1RDs7QUFFL1gsZ0NBQWdDLDRFQUE0RSxpQkFBaUIsVUFBVSxHQUFHLDhCQUE4Qjs7QUFFeEssZ0NBQWdDLDZEQUE2RCxxQkFBcUIsOENBQThDLGlDQUFpQyxtREFBbUQseURBQXlELEVBQUUsT0FBTyx1Q0FBdUMsRUFBRSxpREFBaUQsR0FBRzs7QUFFblosaURBQWlELDBFQUEwRSxhQUFhLEVBQUUscUNBQXFDOztBQUUvSyx1Q0FBdUMsdUJBQXVCLHVGQUF1RixFQUFFLGFBQWE7O0FBRXBLLHNDQUFzQyx3RUFBd0UsMENBQTBDLDhDQUE4QyxNQUFNLHdFQUF3RSxHQUFHLGFBQWEsRUFBRSxZQUFZLGNBQWMsRUFBRTs7QUFFbFUsNkJBQTZCLGdHQUFnRyxnREFBZ0QsR0FBRywyQkFBMkI7O0FBRTNNLGFBQWEsbUJBQU8sQ0FBQyw4RUFBMkI7O0FBRWhELGlCQUFpQixtQkFBTyxDQUFDLG9GQUFjOztBQUV2QztBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQSx5Q0FBeUM7QUFDekM7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxhQUFhLG1CQUFlLENBQUMsd0ZBQWdCO0FBQzdDO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUMsYTs7Ozs7Ozs7Ozs7O0FDN0VELHVEQUFhO0FBQ2I7O0FBRUE7O0FBRUEsZ0JBQWdCLG1CQUFPLENBQUMsc0ZBQVk7O0FBRXBDLGFBQWEsbUJBQU8sQ0FBQyxvRUFBVTs7QUFFL0IsY0FBYyxtQkFBTyxDQUFDLHNFQUFXOztBQUVqQyxlQUFlLG1CQUFPLENBQUMsMEVBQWE7QUFDcEM7QUFDQTs7QUFFQSxrQkFBa0IsbUJBQU8sQ0FBQywwRkFBcUI7O0FBRS9DLGdCQUFnQixtQkFBTyxDQUFDLHNGQUFtQjs7QUFFM0Msc0JBQXNCLG1CQUFPLENBQUMsa0dBQXlCOztBQUV2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esa0RBQWtEOztBQUVsRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBLGlCQUFpQixrRUFBa0Q7O0FBRW5FO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOzs7QUFHTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQSxtQkFBbUIsNkJBQTZCO0FBQ2hEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOzs7QUFHTDtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBLG1CQUFtQiwyQkFBMkI7QUFDOUM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUM7Ozs7Ozs7Ozs7Ozs7QUMvS2E7QUFDYjs7QUFFQSxlQUFlLG1CQUFPLENBQUMsb0RBQVc7O0FBRWxDLGVBQWUsbUJBQU8sQ0FBQyxnRUFBZTtBQUN0Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7OztBQUdIO0FBQ0EsZ0RBQWdEOztBQUVoRDtBQUNBLEdBQUcsRUFBRTtBQUNMO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7OztBQUdIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRTs7Ozs7Ozs7Ozs7O0FDdkhBLHFFQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUJBQU8sQ0FBQyxnR0FBd0I7QUFDaEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxLQUFLOzs7QUFHTCxrQkFBa0I7O0FBRWxCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUEsd0I7Ozs7Ozs7Ozs7Ozs7QUNuRGE7QUFDYjs7QUFFQSxVQUFVLG1CQUFPLENBQUMsc0NBQUs7O0FBRXZCLDZCQUE2QixtQkFBTyxDQUFDLDBHQUEwQjs7QUFFL0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7O0FBR0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQSxpQzs7Ozs7Ozs7Ozs7O0FDdkZhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSDtBQUNBOztBQUVBLHdDOzs7Ozs7Ozs7Ozs7QUNyQmE7O0FBRWIsVUFBVSxtQkFBTyxDQUFDLHlEQUFVOztBQUU1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0I7O0FBRWxCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRTs7Ozs7Ozs7Ozs7O0FDaERhO0FBQ2I7O0FBRUEsZUFBZSxtQkFBTyxDQUFDLG9FQUFPO0FBQzlCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxxQkFBcUIsbUJBQU8sQ0FBQyxrRUFBcUI7O0FBRWxEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsNEJBQTRCOztBQUU1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwyQjs7Ozs7Ozs7Ozs7O0FDdERhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUEseUI7Ozs7Ozs7Ozs7OztBQ2JhO0FBQ2I7QUFDQSw2QkFBNkIsWUFBWSxJQUFJLElBQUksTUFBTSxJQUFJO0FBQzNEOzs7Ozs7Ozs7Ozs7O0FDSGE7QUFDYixnQkFBZ0IsbUJBQU8sQ0FBQyxzRkFBWTs7QUFFcEM7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7QUNMQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDRDQUE0Qzs7QUFFNUM7Ozs7Ozs7Ozs7OztBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7OztBQ3JCQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRTs7Ozs7Ozs7Ozs7QUN0QkEsbUJBQW1CLG1CQUFPLENBQUMsK0NBQVE7QUFDbkM7Ozs7Ozs7Ozs7OztBQ0RBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMxREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsSUFBSUEsS0FBSixFQUE0QixFQUUzQjs7QUFFRCxDQUFDLFlBQVk7QUFDWCxNQUFJLE9BQU9DLE1BQU0sQ0FBQ0MsVUFBZCxLQUE2QixXQUFqQyxFQUE4QztBQUM1Q0QsVUFBTSxDQUFDQyxVQUFQLEdBQW9CO0FBQ2xCQyxlQUFTLEVBQUU7QUFETyxLQUFwQjtBQUdEOztBQUVELE1BQUksT0FBT0YsTUFBTSxDQUFDRyxnQkFBZCxLQUFtQyxXQUF2QyxFQUFvRDtBQUNsREgsVUFBTSxDQUFDRyxnQkFBUCxHQUEwQixJQUFJQywwREFBSixDQUFhSixNQUFNLENBQUNDLFVBQXBCLENBQTFCO0FBQ0QsR0FGRCxNQUVPO0FBQ0xJLFdBQU8sQ0FBQ0MsSUFBUixDQUFhLDhGQUFiO0FBQ0Q7QUFDRixDQVpELEk7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDZEE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0FDLDhDQUFLLENBQUNDLElBQU4sR0FBYSxZQUFZO0FBQ3ZCLE9BQUtDLEdBQUwsR0FBVyxJQUFJQyxjQUFKLEVBQVg7QUFDRCxDQUZEOztBQUlBSCw4Q0FBSyxDQUFDQyxJQUFOLENBQVdHLFNBQVgsQ0FBcUJDLGlCQUFyQixHQUF5QyxVQUFVQyxNQUFWLEVBQWtCQyxHQUFsQixFQUF1QjtBQUM5RCxNQUFJQyxHQUFHLEdBQUcsSUFBVjs7QUFFQSxNQUFJLHFCQUFxQkEsR0FBRyxDQUFDTixHQUE3QixFQUFrQztBQUNoQztBQUNBTSxPQUFHLENBQUNOLEdBQUosQ0FBUU8sSUFBUixDQUFhSCxNQUFiLEVBQXFCQyxHQUFyQixFQUEwQixJQUExQjtBQUNELEdBSEQsTUFHTyxJQUFJLE9BQU9HLGNBQVAsS0FBMEIsV0FBOUIsRUFBMkM7QUFDaEQ7O0FBQ0E7QUFDQUYsT0FBRyxDQUFDTixHQUFKLEdBQVUsSUFBSVEsY0FBSixFQUFWO0FBRUFILE9BQUcsR0FBSUEsR0FBRyxDQUFDSSxPQUFKLENBQVksT0FBWixJQUF1QixDQUFDLENBQXhCLElBQTZCQyxRQUFRLENBQUNDLFFBQVQsS0FBc0IsUUFBcEQsR0FBZ0VOLEdBQUcsQ0FBQ08sT0FBSixDQUFZLE9BQVosRUFBcUIsTUFBckIsQ0FBaEUsR0FBK0ZQLEdBQXJHO0FBRUFDLE9BQUcsQ0FBQ04sR0FBSixDQUFRTyxJQUFSLENBQWFILE1BQWIsRUFBcUJDLEdBQXJCO0FBQ0QsR0FSTSxNQVFBO0FBQ0w7QUFDQUMsT0FBRyxDQUFDTixHQUFKLEdBQVUsSUFBVjtBQUNEOztBQUNELFNBQU9NLEdBQUcsQ0FBQ04sR0FBWDtBQUNELENBbkJEO0FBcUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQUYsOENBQUssQ0FBQ0MsSUFBTixDQUFXRyxTQUFYLENBQXFCVyxLQUFyQixHQUE2QixZQUFZO0FBQ3ZDLE1BQUlDLEtBQUssR0FBRyxJQUFaOztBQUVBLE1BQUlBLEtBQUssQ0FBQ2QsR0FBTixJQUFhLE9BQU9jLEtBQUssQ0FBQ2QsR0FBTixDQUFVZSxVQUFqQixLQUFnQyxXQUE3QyxJQUE0REQsS0FBSyxDQUFDZCxHQUFOLENBQVVlLFVBQVYsS0FBeUIsQ0FBckYsSUFBMEZELEtBQUssQ0FBQ2QsR0FBTixDQUFVZSxVQUFWLEdBQXVCLENBQXJILEVBQXdIO0FBQ3RIO0FBQ0FELFNBQUssQ0FBQ2QsR0FBTixDQUFVYSxLQUFWO0FBQ0Q7O0FBRUQsU0FBT0MsS0FBUDtBQUNELENBVEQ7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBaEIsOENBQUssQ0FBQ0MsSUFBTixDQUFXRyxTQUFYLENBQXFCYyxPQUFyQixHQUErQixVQUFVQyxJQUFWLEVBQWdCO0FBQzdDLE1BQUlYLEdBQUcsR0FBRyxJQUFWOztBQUVBLE1BQUk7QUFDRlcsUUFBSSxDQUFDQyxJQUFMLEdBQWFELElBQUksQ0FBQ0MsSUFBTCxLQUFjQyxTQUFkLElBQTJCLE9BQU9GLElBQUksQ0FBQ0MsSUFBWixLQUFxQixRQUFoRCxJQUE0REQsSUFBSSxDQUFDQyxJQUFMLENBQVVFLE1BQVYsR0FBbUIsQ0FBaEYsR0FBcUZILElBQUksQ0FBQ0MsSUFBMUYsR0FBaUcsTUFBN0c7QUFDQUQsUUFBSSxDQUFDQSxJQUFMLEdBQWFBLElBQUksQ0FBQ0EsSUFBTCxLQUFjRSxTQUFkLElBQTJCLFFBQU9GLElBQUksQ0FBQ0EsSUFBWixNQUFxQixRQUFqRCxHQUE2REEsSUFBSSxDQUFDQSxJQUFsRSxHQUF5RSxFQUFyRjtBQUNBQSxRQUFJLENBQUNaLEdBQUwsR0FBWVksSUFBSSxDQUFDWixHQUFMLEtBQWFjLFNBQWIsSUFBMEIsT0FBT0YsSUFBSSxDQUFDWixHQUFaLEtBQW9CLFFBQTlDLElBQTBEWSxJQUFJLENBQUNaLEdBQUwsQ0FBU2UsTUFBVCxHQUFrQixDQUE3RSxHQUFrRkgsSUFBSSxDQUFDWixHQUF2RixHQUE2RixFQUF4RztBQUNBWSxRQUFJLENBQUNJLE9BQUwsR0FBZ0JKLElBQUksQ0FBQ0ksT0FBTCxLQUFpQkYsU0FBbEIsR0FBK0JGLElBQUksQ0FBQ0ksT0FBcEMsR0FBOEMsWUFBWSxDQUN4RSxDQUREO0FBRUFKLFFBQUksQ0FBQ0ssS0FBTCxHQUFjTCxJQUFJLENBQUNLLEtBQUwsS0FBZUgsU0FBaEIsR0FBNkJGLElBQUksQ0FBQ0ssS0FBbEMsR0FBMEMsWUFBWSxDQUNsRSxDQUREO0FBRUFMLFFBQUksQ0FBQ00sT0FBTCxHQUFnQk4sSUFBSSxDQUFDTSxPQUFMLEtBQWlCSixTQUFsQixHQUErQkYsSUFBSSxDQUFDTSxPQUFwQyxHQUE4QyxFQUE3RDtBQUNBTixRQUFJLENBQUNPLGFBQUwsR0FBc0JQLElBQUksQ0FBQ08sYUFBTCxLQUF1QkwsU0FBeEIsR0FBcUNGLElBQUksQ0FBQ08sYUFBMUMsR0FBMEQsWUFBWSxDQUMxRixDQURELENBVEUsQ0FZRjs7QUFDQWxCLE9BQUcsQ0FBQ04sR0FBSixHQUFVLEtBQUtHLGlCQUFMLENBQXVCYyxJQUFJLENBQUNDLElBQTVCLEVBQWtDRCxJQUFJLENBQUNaLEdBQXZDLENBQVY7O0FBRUFDLE9BQUcsQ0FBQ04sR0FBSixDQUFReUIsTUFBUixHQUFpQixZQUFZO0FBQzNCUixVQUFJLENBQUNPLGFBQUwsQ0FBbUJQLElBQW5CLEVBQXlCWCxHQUFHLENBQUNOLEdBQTdCO0FBQ0FpQixVQUFJLENBQUNJLE9BQUwsQ0FBYWYsR0FBRyxDQUFDTixHQUFKLENBQVEwQixZQUFyQixFQUFtQ1QsSUFBbkMsRUFBeUNYLEdBQUcsQ0FBQ04sR0FBN0M7QUFDRCxLQUhEOztBQUtBTSxPQUFHLENBQUNOLEdBQUosQ0FBUTJCLE9BQVIsR0FBa0IsWUFBWTtBQUM1QlYsVUFBSSxDQUFDSyxLQUFMLENBQVdoQixHQUFHLENBQUNOLEdBQUosQ0FBUTRCLE1BQW5CO0FBQ0QsS0FGRDs7QUFJQSxRQUFJLE9BQU9wQixjQUFQLEtBQTBCLFdBQTlCLEVBQTJDO0FBQ3pDLFVBQUlxQiw2REFBTSxDQUFDWixJQUFJLENBQUNNLE9BQU4sQ0FBTixHQUF1QixDQUEzQixFQUE4QjtBQUM1QixZQUFJTyxJQUFKOztBQUNBLGFBQUtBLElBQUwsSUFBYWIsSUFBSSxDQUFDTSxPQUFsQixFQUEyQjtBQUN6QmpCLGFBQUcsQ0FBQ04sR0FBSixDQUFRK0IsZ0JBQVIsQ0FBeUJELElBQXpCLEVBQStCYixJQUFJLENBQUNNLE9BQUwsQ0FBYU8sSUFBYixDQUEvQjtBQUNEO0FBQ0YsT0FMRCxNQUtPLElBQUksQ0FBQ2IsSUFBSSxDQUFDQyxJQUFMLEtBQWMsTUFBZCxJQUF3QkQsSUFBSSxDQUFDQyxJQUFMLEtBQWMsS0FBdkMsS0FBaURXLDZEQUFNLENBQUNaLElBQUksQ0FBQ00sT0FBTixDQUFOLEtBQXlCLENBQTlFLEVBQWlGO0FBQ3RGakIsV0FBRyxDQUFDTixHQUFKLENBQVErQixnQkFBUixDQUF5QixjQUF6QixFQUF5QyxrQkFBekM7QUFDRCxPQUZNLE1BRUE7QUFDTHpCLFdBQUcsQ0FBQ04sR0FBSixDQUFRK0IsZ0JBQVIsQ0FBeUIsY0FBekIsRUFBeUMsWUFBekM7QUFDRDtBQUNGOztBQUVEekIsT0FBRyxDQUFDTixHQUFKLENBQVFnQyxJQUFSLENBQWFDLElBQUksQ0FBQ0MsU0FBTCxDQUFlakIsSUFBSSxDQUFDQSxJQUFwQixDQUFiO0FBRUEsV0FBT1gsR0FBRyxDQUFDTixHQUFYO0FBQ0QsR0F4Q0QsQ0F3Q0UsT0FBT21DLEdBQVAsRUFBWTtBQUNadkMsV0FBTyxDQUFDd0MsR0FBUixDQUFZRCxHQUFaO0FBQ0Q7QUFDRixDQTlDRCxDOzs7Ozs7Ozs7Ozs7QUM1REE7QUFBQTtBQUFBO0FBQUE7QUFBQTtDQUdBOztBQUNBLElBQU1FLEdBQUcsR0FBRyxTQUFOQSxHQUFNLEdBQVk7QUFDdEIsTUFBSUMsT0FBSixDQURzQixDQUNUOztBQUNiLE1BQUlDLEVBQUosQ0FGc0IsQ0FFZDs7QUFDUixNQUFJQyxnQkFBZ0IsR0FBRyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVLENBQVYsQ0FBdkIsQ0FIc0IsQ0FHZTs7QUFDckMsTUFBSUMsY0FBYyxHQUFHLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxDQUFQLEVBQVUsQ0FBVixDQUFyQjtBQUNBLE1BQUlDLGlCQUFKLENBTHNCLENBS0M7O0FBQ3ZCLE1BQUlDLGNBQUo7QUFDQSxNQUFJQyxZQUFKLENBUHNCLENBT0o7O0FBQ2xCLE1BQUlDLFFBQUo7QUFDQSxNQUFNQyxRQUFRLEdBQUc7QUFBRTtBQUNqQkMsU0FBSyxFQUFFLElBRFE7QUFFZkMsV0FBTyxFQUFFLElBRk07QUFHZkMsVUFBTSxFQUFFLElBSE87QUFJZkMsV0FBTyxFQUFFLElBSk07QUFJQTtBQUNmQyxTQUFLLEVBQUUsSUFMUTtBQU1mQyxPQUFHLEVBQUUsRUFOVTtBQU1OO0FBQ1RDLE9BQUcsRUFBRTtBQVBVLEdBQWpCLENBVHNCLENBbUJ0Qjs7QUFDQSxNQUFJQyxNQUFNLEdBQUcsU0FBVEEsTUFBUyxDQUFVckMsSUFBVixFQUFnQjtBQUMzQixTQUFLQSxJQUFMLEdBQVksSUFBSXNDLGlCQUFKLENBQXNCdEMsSUFBdEIsQ0FBWjtBQUNBLFNBQUt1QyxHQUFMLEdBQVcsQ0FBWDtBQUNBLFFBQUlDLEdBQUcsR0FBRyxLQUFLeEMsSUFBTCxDQUFVRyxNQUFwQjs7QUFDQSxTQUFLc0MsU0FBTCxHQUFpQixVQUFVQyxLQUFWLEVBQWlCO0FBQUU7QUFDbEMsVUFBSUMsQ0FBQyxHQUFHLEVBQVI7O0FBQ0EsYUFBT0QsS0FBSyxFQUFaLEVBQWdCO0FBQ2RDLFNBQUMsSUFBSUMsTUFBTSxDQUFDQyxZQUFQLENBQW9CLEtBQUs3QyxJQUFMLENBQVUsS0FBS3VDLEdBQUwsRUFBVixDQUFwQixDQUFMO0FBQ0Q7O0FBQ0QsYUFBT0ksQ0FBUDtBQUNELEtBTkQ7O0FBUUEsU0FBS0csYUFBTCxHQUFxQixZQUFZO0FBQUU7QUFDakMsVUFBSUMsSUFBSjtBQUNBLFVBQUlMLEtBQUo7QUFDQSxVQUFJMUMsSUFBSSxHQUFHLEVBQVg7O0FBQ0EsU0FBRztBQUNEMEMsYUFBSyxHQUFHSyxJQUFJLEdBQUcsS0FBSy9DLElBQUwsQ0FBVSxLQUFLdUMsR0FBTCxFQUFWLENBQWY7O0FBQ0EsZUFBT0csS0FBSyxFQUFaLEVBQWdCO0FBQ2QxQyxjQUFJLElBQUk0QyxNQUFNLENBQUNDLFlBQVAsQ0FBb0IsS0FBSzdDLElBQUwsQ0FBVSxLQUFLdUMsR0FBTCxFQUFWLENBQXBCLENBQVI7QUFDRDtBQUNGLE9BTEQsUUFLU1EsSUFBSSxLQUFLLENBQVQsSUFBYyxLQUFLUixHQUFMLEdBQVdDLEdBTGxDOztBQU1BLGFBQU94QyxJQUFQO0FBQ0QsS0FYRDs7QUFhQSxTQUFLZ0QsY0FBTCxHQUFzQixZQUFZO0FBQUU7QUFDbEMsVUFBSUQsSUFBSjtBQUNBLFVBQUlMLEtBQUo7QUFDQSxVQUFJMUMsSUFBSSxHQUFHLEVBQVg7O0FBQ0EsU0FBRztBQUNEMEMsYUFBSyxHQUFHSyxJQUFJLEdBQUcsS0FBSy9DLElBQUwsQ0FBVSxLQUFLdUMsR0FBTCxFQUFWLENBQWY7O0FBQ0EsZUFBT0csS0FBSyxFQUFaLEVBQWdCO0FBQ2QxQyxjQUFJLENBQUNpRCxJQUFMLENBQVUsS0FBS2pELElBQUwsQ0FBVSxLQUFLdUMsR0FBTCxFQUFWLENBQVY7QUFDRDtBQUNGLE9BTEQsUUFLU1EsSUFBSSxLQUFLLENBQVQsSUFBYyxLQUFLUixHQUFMLEdBQVdDLEdBTGxDOztBQU1BLGFBQU94QyxJQUFQO0FBQ0QsS0FYRDtBQVlELEdBckNELENBcEJzQixDQTJEdEI7QUFDQTtBQUNBO0FBQ0E7OztBQUNBLFdBQVNrRCxTQUFULENBQW9CQyxPQUFwQixFQUE2Qm5ELElBQTdCLEVBQW1DO0FBQ2pDLFFBQUlvRCxDQUFKLEVBQU9DLFFBQVAsRUFBaUJkLEdBQWpCLEVBQXNCZSxLQUF0QixFQUE2QkMsR0FBN0IsRUFBa0NSLElBQWxDLEVBQXdDUyxJQUF4QyxFQUE4Q0MsR0FBOUMsRUFBbURDLElBQW5ELEVBQXlEQyxJQUF6RCxFQUErREMsQ0FBL0QsRUFBa0VwQixHQUFsRTtBQUNBRCxPQUFHLEdBQUdjLFFBQVEsR0FBRyxDQUFqQjtBQUNBSSxPQUFHLEdBQUcsRUFBTjtBQUNBSCxTQUFLLEdBQUcsS0FBS0gsT0FBYjtBQUNBSSxPQUFHLEdBQUdELEtBQUssR0FBRyxDQUFkO0FBQ0FQLFFBQUksR0FBR0ksT0FBTyxHQUFHLENBQWpCO0FBQ0FLLFFBQUksR0FBRyxLQUFQOztBQUNBLFdBQU8sQ0FBQ0EsSUFBUixFQUFjO0FBQUU7QUFDZEcsVUFBSSxHQUFHRCxJQUFQO0FBQ0FBLFVBQUksR0FBRyxDQUFQOztBQUNBLFdBQUtOLENBQUMsR0FBRyxDQUFULEVBQVlBLENBQUMsR0FBR0wsSUFBaEIsRUFBc0JLLENBQUMsRUFBdkIsRUFBMkI7QUFDekIsWUFBSXBELElBQUksQ0FBQ3VDLEdBQUcsSUFBSSxDQUFSLENBQUosR0FBa0IsTUFBTUEsR0FBRyxHQUFHLENBQVosQ0FBdEIsRUFBdUM7QUFDckNtQixjQUFJLElBQUksS0FBS04sQ0FBYjtBQUNEOztBQUNEYixXQUFHO0FBQ0o7O0FBQ0QsVUFBSW1CLElBQUksS0FBS0osS0FBYixFQUFvQjtBQUFFO0FBQ3BCRyxXQUFHLEdBQUcsRUFBTjtBQUNBVixZQUFJLEdBQUdJLE9BQU8sR0FBRyxDQUFqQjs7QUFDQSxhQUFLQyxDQUFDLEdBQUcsQ0FBVCxFQUFZQSxDQUFDLEdBQUdFLEtBQWhCLEVBQXVCRixDQUFDLEVBQXhCLEVBQTRCO0FBQzFCSyxhQUFHLENBQUNMLENBQUQsQ0FBSCxHQUFTLENBQUNBLENBQUQsQ0FBVDtBQUNEOztBQUNESyxXQUFHLENBQUNILEtBQUQsQ0FBSCxHQUFhLEVBQWI7QUFDQUcsV0FBRyxDQUFDRixHQUFELENBQUgsR0FBVyxJQUFYO0FBQ0QsT0FSRCxNQVFPO0FBQ0wsWUFBSUcsSUFBSSxLQUFLSCxHQUFiLEVBQWtCO0FBQ2hCQyxjQUFJLEdBQUcsSUFBUDtBQUNBO0FBQ0Q7O0FBQ0QsWUFBSUUsSUFBSSxJQUFJRCxHQUFHLENBQUN0RCxNQUFoQixFQUF3QjtBQUN0QnNELGFBQUcsQ0FBQ1IsSUFBSixDQUFTUSxHQUFHLENBQUNFLElBQUQsQ0FBSCxDQUFVRSxNQUFWLENBQWlCSixHQUFHLENBQUNFLElBQUQsQ0FBSCxDQUFVLENBQVYsQ0FBakIsQ0FBVDtBQUNELFNBRkQsTUFFTyxJQUFJQSxJQUFJLEtBQUtMLEtBQWIsRUFBb0I7QUFDekJHLGFBQUcsQ0FBQ1IsSUFBSixDQUFTUSxHQUFHLENBQUNFLElBQUQsQ0FBSCxDQUFVRSxNQUFWLENBQWlCSixHQUFHLENBQUNDLElBQUQsQ0FBSCxDQUFVLENBQVYsQ0FBakIsQ0FBVDtBQUNEOztBQUNERSxTQUFDLEdBQUdILEdBQUcsQ0FBQ0MsSUFBRCxDQUFQO0FBQ0FsQixXQUFHLEdBQUdvQixDQUFDLENBQUN6RCxNQUFSOztBQUNBLGFBQUtpRCxDQUFDLEdBQUcsQ0FBVCxFQUFZQSxDQUFDLEdBQUdaLEdBQWhCLEVBQXFCWSxDQUFDLEVBQXRCLEVBQTBCO0FBQ3hCeEIsa0JBQVEsQ0FBQ3lCLFFBQVEsRUFBVCxDQUFSLEdBQXVCTyxDQUFDLENBQUNSLENBQUQsQ0FBeEI7QUFDRDs7QUFDRCxZQUFJSyxHQUFHLENBQUN0RCxNQUFKLEtBQWdCLEtBQUs0QyxJQUFyQixJQUE4QkEsSUFBSSxHQUFHLEVBQXpDLEVBQTZDO0FBQzNDQSxjQUFJO0FBQ0w7QUFDRjtBQUNGO0FBQ0Y7O0FBRUQsV0FBU2UsZ0JBQVQsQ0FBMkJwQixLQUEzQixFQUFrQztBQUFFO0FBQ2xDLFFBQUlxQixPQUFPLEdBQUcsRUFBZDs7QUFDQSxTQUFLLElBQUlYLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdWLEtBQXBCLEVBQTJCVSxDQUFDLEVBQTVCLEVBQWdDO0FBQzlCVyxhQUFPLENBQUNkLElBQVIsQ0FBYSxDQUFDM0IsRUFBRSxDQUFDdEIsSUFBSCxDQUFRc0IsRUFBRSxDQUFDaUIsR0FBSCxFQUFSLENBQUQsRUFBb0JqQixFQUFFLENBQUN0QixJQUFILENBQVFzQixFQUFFLENBQUNpQixHQUFILEVBQVIsQ0FBcEIsRUFBdUNqQixFQUFFLENBQUN0QixJQUFILENBQVFzQixFQUFFLENBQUNpQixHQUFILEVBQVIsQ0FBdkMsQ0FBYjtBQUNEOztBQUNELFdBQU93QixPQUFQO0FBQ0Q7O0FBRUQsV0FBU0MsS0FBVCxHQUFrQjtBQUFFO0FBQ2xCLFFBQUlDLFFBQUo7QUFDQTNDLE1BQUUsQ0FBQ2lCLEdBQUgsSUFBVSxDQUFWO0FBQ0EyQixPQUFHLENBQUNDLEtBQUosR0FBYTdDLEVBQUUsQ0FBQ3RCLElBQUgsQ0FBUXNCLEVBQUUsQ0FBQ2lCLEdBQUgsRUFBUixDQUFELElBQXdCakIsRUFBRSxDQUFDdEIsSUFBSCxDQUFRc0IsRUFBRSxDQUFDaUIsR0FBSCxFQUFSLENBQUQsSUFBdUIsQ0FBOUMsQ0FBWjtBQUNBMkIsT0FBRyxDQUFDRSxNQUFKLEdBQWM5QyxFQUFFLENBQUN0QixJQUFILENBQVFzQixFQUFFLENBQUNpQixHQUFILEVBQVIsQ0FBRCxJQUF3QmpCLEVBQUUsQ0FBQ3RCLElBQUgsQ0FBUXNCLEVBQUUsQ0FBQ2lCLEdBQUgsRUFBUixDQUFELElBQXVCLENBQTlDLENBQWI7QUFDQTBCLFlBQVEsR0FBRzNDLEVBQUUsQ0FBQ3RCLElBQUgsQ0FBUXNCLEVBQUUsQ0FBQ2lCLEdBQUgsRUFBUixDQUFYO0FBQ0EyQixPQUFHLENBQUNHLFFBQUosR0FBZSxDQUFDSixRQUFRLEdBQUcsR0FBWixLQUEwQixDQUF6QztBQUNBQyxPQUFHLENBQUNJLGlCQUFKLEdBQXdCLEtBQU0sQ0FBQ0wsUUFBUSxHQUFHLENBQVosSUFBcUIsQ0FBbkQ7QUFDQUMsT0FBRyxDQUFDSyxhQUFKLEdBQW9CakQsRUFBRSxDQUFDdEIsSUFBSCxDQUFRc0IsRUFBRSxDQUFDaUIsR0FBSCxFQUFSLENBQXBCO0FBQ0FqQixNQUFFLENBQUNpQixHQUFILEdBVGdCLENBU047O0FBQ1YsUUFBSTBCLFFBQVEsR0FBRyxHQUFmLEVBQTJCO0FBQ3pCQyxTQUFHLENBQUNNLGlCQUFKLEdBQXdCVixnQkFBZ0IsQ0FBQ0ksR0FBRyxDQUFDSSxpQkFBTCxDQUF4QztBQUNELEtBWmUsQ0FZZDs7O0FBQ0ZHLGNBQVUsQ0FBQ0MsVUFBRCxFQUFhLENBQWIsQ0FBVjtBQUNEOztBQUVELFdBQVNDLFdBQVQsR0FBd0I7QUFBRTtBQUN4QnJELE1BQUUsQ0FBQ2lCLEdBQUgsSUFBVSxDQUFWOztBQUNBLFFBQUlqQixFQUFFLENBQUNtQixTQUFILENBQWEsQ0FBYixNQUFvQixVQUF4QixFQUFvQztBQUNsQ25CLFFBQUUsQ0FBQ2lCLEdBQUgsSUFBVSxDQUFWO0FBQ0QsS0FGRCxNQUVPO0FBQUU7QUFDUGpCLFFBQUUsQ0FBQ2lCLEdBQUgsSUFBVSxDQUFWLENBREssQ0FDUTs7QUFDYmpCLFFBQUUsQ0FBQ3dCLGFBQUgsR0FGSyxDQUVlO0FBQ3JCO0FBQ0Y7O0FBRUQsV0FBUzhCLFVBQVQsR0FBdUI7QUFBRTtBQUN2QixRQUFJWCxRQUFKO0FBQ0EzQyxNQUFFLENBQUNpQixHQUFIO0FBQ0EwQixZQUFRLEdBQUczQyxFQUFFLENBQUN0QixJQUFILENBQVFzQixFQUFFLENBQUNpQixHQUFILEVBQVIsQ0FBWDtBQUNBMkIsT0FBRyxDQUFDVyxjQUFKLEdBQXFCLENBQUNaLFFBQVEsR0FBRyxFQUFaLEtBQXdCLENBQTdDO0FBQ0FDLE9BQUcsQ0FBQ1ksaUJBQUosR0FBd0IsQ0FBQyxFQUFFYixRQUFRLEdBQUcsQ0FBYixDQUF6QixDQUxxQixDQUt1Qjs7QUFDNUNDLE9BQUcsQ0FBQ2EsU0FBSixHQUFpQnpELEVBQUUsQ0FBQ3RCLElBQUgsQ0FBUXNCLEVBQUUsQ0FBQ2lCLEdBQUgsRUFBUixDQUFELElBQXdCakIsRUFBRSxDQUFDdEIsSUFBSCxDQUFRc0IsRUFBRSxDQUFDaUIsR0FBSCxFQUFSLENBQUQsSUFBdUIsQ0FBOUMsQ0FBaEI7QUFDQTJCLE9BQUcsQ0FBQ2MsaUJBQUosR0FBd0IxRCxFQUFFLENBQUN0QixJQUFILENBQVFzQixFQUFFLENBQUNpQixHQUFILEVBQVIsQ0FBeEI7QUFDQWpCLE1BQUUsQ0FBQ2lCLEdBQUg7QUFDRDs7QUFFRCxXQUFTMEMsUUFBVCxHQUFxQjtBQUFFO0FBQ3JCLFFBQUlDLFdBQUo7QUFDQSxRQUFJQyxLQUFKO0FBQ0EsUUFBSWxCLFFBQUo7O0FBRUFpQixlQUFXLEdBQUcscUJBQVVmLEtBQVYsRUFBaUI7QUFBRTtBQUMvQixVQUFJaUIsS0FBSixFQUFXQyxRQUFYLEVBQXFCQyxJQUFyQixFQUEyQkMsTUFBM0I7QUFDQUgsV0FBSyxHQUFHekQsWUFBWSxHQUFHd0MsS0FBdkI7QUFDQWtCLGNBQVEsR0FBRyxDQUFYOztBQUNBLFVBQUk1RCxpQkFBaUIsS0FBS0UsWUFBMUIsRUFBd0M7QUFBRTtBQUN4Q0Qsc0JBQWMsR0FBRyxJQUFJOEQsVUFBSixDQUFlN0QsWUFBZixDQUFqQjtBQUNBRix5QkFBaUIsR0FBR0UsWUFBcEI7QUFDRDs7QUFDRCxXQUFLMkQsSUFBSSxHQUFHLENBQVosRUFBZUEsSUFBSSxHQUFHLENBQXRCLEVBQXlCQSxJQUFJLEVBQTdCLEVBQWlDO0FBQy9CLGFBQUtDLE1BQU0sR0FBR2hFLGdCQUFnQixDQUFDK0QsSUFBRCxDQUE5QixFQUFzQ0MsTUFBTSxHQUFHSCxLQUEvQyxFQUFzREcsTUFBTSxJQUFJL0QsY0FBYyxDQUFDOEQsSUFBRCxDQUE5RSxFQUFzRjtBQUNwRjVELHdCQUFjLENBQUMrRCxHQUFmLENBQW1CN0QsUUFBUSxDQUFDOEQsUUFBVCxDQUFrQkwsUUFBbEIsRUFBNEJBLFFBQVEsR0FBR2xCLEtBQXZDLENBQW5CLEVBQWtFb0IsTUFBTSxHQUFHcEIsS0FBM0U7QUFDQWtCLGtCQUFRLElBQUlsQixLQUFaO0FBQ0Q7QUFDRjtBQUNGLEtBZEQ7O0FBZUFnQixTQUFLLEdBQUcsRUFBUjtBQUNBakIsT0FBRyxDQUFDeUIsTUFBSixDQUFXMUMsSUFBWCxDQUFnQmtDLEtBQWhCO0FBQ0FBLFNBQUssQ0FBQ04sY0FBTixHQUF1QlgsR0FBRyxDQUFDVyxjQUEzQjtBQUNBTSxTQUFLLENBQUNTLElBQU4sR0FBYTFCLEdBQUcsQ0FBQy9ELE1BQWpCO0FBQ0FnRixTQUFLLENBQUNVLEtBQU4sR0FBYzNCLEdBQUcsQ0FBQ2EsU0FBSixHQUFnQixFQUE5QjtBQUNBYixPQUFHLENBQUMvRCxNQUFKLElBQWNnRixLQUFLLENBQUNVLEtBQXBCOztBQUNBLFFBQUkzQixHQUFHLENBQUNZLGlCQUFSLEVBQTJCO0FBQ3pCSyxXQUFLLENBQUNILGlCQUFOLEdBQTBCZCxHQUFHLENBQUNjLGlCQUE5QjtBQUNELEtBRkQsTUFFTztBQUNMRyxXQUFLLENBQUNILGlCQUFOLEdBQTBCOUUsU0FBMUI7QUFDRDs7QUFDRGlGLFNBQUssQ0FBQ1csT0FBTixHQUFpQnhFLEVBQUUsQ0FBQ3RCLElBQUgsQ0FBUXNCLEVBQUUsQ0FBQ2lCLEdBQUgsRUFBUixDQUFELElBQXdCakIsRUFBRSxDQUFDdEIsSUFBSCxDQUFRc0IsRUFBRSxDQUFDaUIsR0FBSCxFQUFSLENBQUQsSUFBdUIsQ0FBOUMsQ0FBaEI7QUFDQTRDLFNBQUssQ0FBQ1ksTUFBTixHQUFnQnpFLEVBQUUsQ0FBQ3RCLElBQUgsQ0FBUXNCLEVBQUUsQ0FBQ2lCLEdBQUgsRUFBUixDQUFELElBQXdCakIsRUFBRSxDQUFDdEIsSUFBSCxDQUFRc0IsRUFBRSxDQUFDaUIsR0FBSCxFQUFSLENBQUQsSUFBdUIsQ0FBOUMsQ0FBZjtBQUNBNEMsU0FBSyxDQUFDaEIsS0FBTixHQUFlN0MsRUFBRSxDQUFDdEIsSUFBSCxDQUFRc0IsRUFBRSxDQUFDaUIsR0FBSCxFQUFSLENBQUQsSUFBd0JqQixFQUFFLENBQUN0QixJQUFILENBQVFzQixFQUFFLENBQUNpQixHQUFILEVBQVIsQ0FBRCxJQUF1QixDQUE5QyxDQUFkO0FBQ0E0QyxTQUFLLENBQUNmLE1BQU4sR0FBZ0I5QyxFQUFFLENBQUN0QixJQUFILENBQVFzQixFQUFFLENBQUNpQixHQUFILEVBQVIsQ0FBRCxJQUF3QmpCLEVBQUUsQ0FBQ3RCLElBQUgsQ0FBUXNCLEVBQUUsQ0FBQ2lCLEdBQUgsRUFBUixDQUFELElBQXVCLENBQTlDLENBQWY7QUFDQTBCLFlBQVEsR0FBRzNDLEVBQUUsQ0FBQ3RCLElBQUgsQ0FBUXNCLEVBQUUsQ0FBQ2lCLEdBQUgsRUFBUixDQUFYO0FBQ0E0QyxTQUFLLENBQUNhLG9CQUFOLEdBQTZCLENBQUMsRUFBRS9CLFFBQVEsR0FBRyxHQUFiLENBQTlCOztBQUNBLFFBQUlrQixLQUFLLENBQUNhLG9CQUFWLEVBQWdDO0FBQzlCYixXQUFLLENBQUNjLGdCQUFOLEdBQXlCbkMsZ0JBQWdCLENBQUMsS0FBTSxDQUFDRyxRQUFRLEdBQUcsQ0FBWixJQUFxQixDQUE1QixDQUF6QztBQUNEOztBQUNELFFBQUl0QyxZQUFZLEtBQUt3RCxLQUFLLENBQUNoQixLQUFOLEdBQWNnQixLQUFLLENBQUNmLE1BQXpDLEVBQWlEO0FBQUU7QUFDakR4QyxjQUFRLEdBQUcsSUFBSTRELFVBQUosQ0FBZUwsS0FBSyxDQUFDaEIsS0FBTixHQUFjZ0IsS0FBSyxDQUFDZixNQUFuQyxDQUFYO0FBQ0F6QyxrQkFBWSxHQUFHd0QsS0FBSyxDQUFDaEIsS0FBTixHQUFjZ0IsS0FBSyxDQUFDZixNQUFuQztBQUNEOztBQUNEbEIsYUFBUyxDQUFDNUIsRUFBRSxDQUFDdEIsSUFBSCxDQUFRc0IsRUFBRSxDQUFDaUIsR0FBSCxFQUFSLENBQUQsRUFBb0JqQixFQUFFLENBQUMwQixjQUFILEVBQXBCLENBQVQsQ0E1Q21CLENBNENnQzs7QUFDbkQsUUFBSWlCLFFBQVEsR0FBRyxFQUFmLEVBQTBCO0FBQUU7QUFDMUJrQixXQUFLLENBQUNlLFVBQU4sR0FBbUIsSUFBbkI7QUFDQWhCLGlCQUFXLENBQUNDLEtBQUssQ0FBQ2hCLEtBQVAsQ0FBWDtBQUNELEtBSEQsTUFHTztBQUNMZ0IsV0FBSyxDQUFDZSxVQUFOLEdBQW1CLEtBQW5CO0FBQ0Q7O0FBQ0RDLGdCQUFZLENBQUNoQixLQUFELENBQVosQ0FuRG1CLENBbURFO0FBQ3RCOztBQUVELFdBQVNnQixZQUFULENBQXVCaEIsS0FBdkIsRUFBOEI7QUFBRTtBQUM5QixRQUFJaUIsRUFBSjtBQUNBLFFBQUlDLEtBQUo7QUFDQSxRQUFJQyxHQUFKO0FBQ0EsUUFBSUMsUUFBSjtBQUNBLFFBQUlDLEdBQUo7QUFDQSxRQUFJQyxJQUFKO0FBQ0EsUUFBSXJELENBQUo7QUFDQSxRQUFJc0QsS0FBSjtBQUNBLFFBQUlDLElBQUo7QUFDQSxRQUFJQyxHQUFKLENBVjRCLENBVzVCOztBQUNBLFFBQUlDLEVBQUo7QUFFQTFCLFNBQUssQ0FBQzJCLEtBQU4sR0FBY0MsUUFBUSxDQUFDQyxhQUFULENBQXVCLFFBQXZCLENBQWQ7QUFDQTdCLFNBQUssQ0FBQzJCLEtBQU4sQ0FBWTNDLEtBQVosR0FBb0JELEdBQUcsQ0FBQ0MsS0FBeEI7QUFDQWdCLFNBQUssQ0FBQzJCLEtBQU4sQ0FBWTFDLE1BQVosR0FBcUJGLEdBQUcsQ0FBQ0UsTUFBekI7QUFDQWUsU0FBSyxDQUFDMkIsS0FBTixDQUFZRyxHQUFaLEdBQWtCOUIsS0FBSyxDQUFDMkIsS0FBTixDQUFZSSxVQUFaLENBQXVCLElBQXZCLENBQWxCO0FBQ0FkLE1BQUUsR0FBR2pCLEtBQUssQ0FBQ2Esb0JBQU4sR0FBNkJiLEtBQUssQ0FBQ2MsZ0JBQW5DLEdBQXNEL0IsR0FBRyxDQUFDTSxpQkFBL0Q7O0FBQ0EsUUFBSU4sR0FBRyxDQUFDaUQsU0FBSixLQUFrQixJQUF0QixFQUE0QjtBQUMxQmpELFNBQUcsQ0FBQ2lELFNBQUosR0FBZ0JoQyxLQUFoQjtBQUNEOztBQUNEc0IsUUFBSSxHQUFJdkMsR0FBRyxDQUFDaUQsU0FBSixDQUFjdEMsY0FBZCxLQUFpQyxDQUFqQyxJQUFzQ1gsR0FBRyxDQUFDaUQsU0FBSixDQUFjdEMsY0FBZCxLQUFpQyxDQUEvRTs7QUFDQSxRQUFJLENBQUM0QixJQUFMLEVBQVc7QUFDVHRCLFdBQUssQ0FBQzJCLEtBQU4sQ0FBWUcsR0FBWixDQUFnQkcsU0FBaEIsQ0FBMEJsRCxHQUFHLENBQUNpRCxTQUFKLENBQWNMLEtBQXhDLEVBQStDLENBQS9DLEVBQWtELENBQWxELEVBQXFENUMsR0FBRyxDQUFDQyxLQUF6RCxFQUFnRUQsR0FBRyxDQUFDRSxNQUFwRTtBQUNEOztBQUNEaUMsU0FBSyxHQUFHbEIsS0FBSyxDQUFDMkIsS0FBTixDQUFZRyxHQUFaLENBQWdCSSxZQUFoQixDQUE2QmxDLEtBQUssQ0FBQ1csT0FBbkMsRUFBNENYLEtBQUssQ0FBQ1ksTUFBbEQsRUFBMERaLEtBQUssQ0FBQ2hCLEtBQWhFLEVBQXVFZ0IsS0FBSyxDQUFDZixNQUE3RSxDQUFSO0FBQ0F5QyxNQUFFLEdBQUcxQixLQUFLLENBQUNILGlCQUFYO0FBQ0FzQixPQUFHLEdBQUdELEtBQUssQ0FBQ3JHLElBQVo7O0FBQ0EsUUFBSW1GLEtBQUssQ0FBQ2UsVUFBVixFQUFzQjtBQUNwQlMsVUFBSSxHQUFHakYsY0FBUDtBQUNELEtBRkQsTUFFTztBQUNMaUYsVUFBSSxHQUFHL0UsUUFBUDtBQUNEOztBQUNEMkUsWUFBUSxHQUFHSSxJQUFJLENBQUN4RyxNQUFoQjtBQUNBcUcsT0FBRyxHQUFHLENBQU47O0FBQ0EsU0FBS3BELENBQUMsR0FBRyxDQUFULEVBQVlBLENBQUMsR0FBR21ELFFBQWhCLEVBQTBCbkQsQ0FBQyxFQUEzQixFQUErQjtBQUM3QnNELFdBQUssR0FBR0MsSUFBSSxDQUFDdkQsQ0FBRCxDQUFaO0FBQ0F3RCxTQUFHLEdBQUdSLEVBQUUsQ0FBQ00sS0FBRCxDQUFSOztBQUNBLFVBQUlHLEVBQUUsS0FBS0gsS0FBWCxFQUFrQjtBQUNoQkosV0FBRyxDQUFDRSxHQUFHLEVBQUosQ0FBSCxHQUFhSSxHQUFHLENBQUMsQ0FBRCxDQUFoQjtBQUNBTixXQUFHLENBQUNFLEdBQUcsRUFBSixDQUFILEdBQWFJLEdBQUcsQ0FBQyxDQUFELENBQWhCO0FBQ0FOLFdBQUcsQ0FBQ0UsR0FBRyxFQUFKLENBQUgsR0FBYUksR0FBRyxDQUFDLENBQUQsQ0FBaEI7QUFDQU4sV0FBRyxDQUFDRSxHQUFHLEVBQUosQ0FBSCxHQUFhLEdBQWIsQ0FKZ0IsQ0FJRTtBQUNuQixPQUxELE1BS08sSUFBSUMsSUFBSixFQUFVO0FBQ2ZILFdBQUcsQ0FBQ0UsR0FBRyxHQUFHLENBQVAsQ0FBSCxHQUFlLENBQWYsQ0FEZSxDQUNHOztBQUNsQkEsV0FBRyxJQUFJLENBQVA7QUFDRCxPQUhNLE1BR0E7QUFDTEEsV0FBRyxJQUFJLENBQVA7QUFDRDtBQUNGOztBQUNEckIsU0FBSyxDQUFDMkIsS0FBTixDQUFZRyxHQUFaLENBQWdCSyxZQUFoQixDQUE2QmpCLEtBQTdCLEVBQW9DbEIsS0FBSyxDQUFDVyxPQUExQyxFQUFtRFgsS0FBSyxDQUFDWSxNQUF6RDtBQUNBN0IsT0FBRyxDQUFDaUQsU0FBSixHQUFnQmhDLEtBQWhCOztBQUNBLFFBQUksQ0FBQ2pCLEdBQUcsQ0FBQ3FELFlBQUwsSUFBcUIsT0FBT3JELEdBQUcsQ0FBQzFELE1BQVgsS0FBc0IsVUFBL0MsRUFBMkQ7QUFDekRnSCxtQkFBYTtBQUNkLEtBdkQyQixDQXVEM0I7O0FBQ0Y7O0FBQUE7O0FBRUQsV0FBU0MsU0FBVCxHQUFzQjtBQUFFO0FBQ3RCdkQsT0FBRyxDQUFDd0QsT0FBSixHQUFjLEtBQWQ7QUFDQXhELE9BQUcsQ0FBQ3lELFVBQUosR0FBaUJ6RCxHQUFHLENBQUN5QixNQUFKLENBQVd4RixNQUE1QjtBQUNBbUIsTUFBRSxHQUFHcEIsU0FBTDtBQUNBZ0UsT0FBRyxDQUFDMEQsUUFBSixHQUFlLElBQWY7QUFDQTFELE9BQUcsQ0FBQ1csY0FBSixHQUFxQjNFLFNBQXJCO0FBQ0FnRSxPQUFHLENBQUNZLGlCQUFKLEdBQXdCNUUsU0FBeEI7QUFDQWdFLE9BQUcsQ0FBQ2EsU0FBSixHQUFnQjdFLFNBQWhCO0FBQ0FnRSxPQUFHLENBQUNjLGlCQUFKLEdBQXdCOUUsU0FBeEI7QUFDQWdFLE9BQUcsQ0FBQ3FELFlBQUosR0FBbUJySCxTQUFuQjtBQUNBMEIsWUFBUSxHQUFHMUIsU0FBWCxDQVZvQixDQVVFOztBQUN0QndCLGtCQUFjLEdBQUd4QixTQUFqQixDQVhvQixDQVdROztBQUM1QnlCLGdCQUFZLEdBQUd6QixTQUFmO0FBQ0F3QixrQkFBYyxHQUFHeEIsU0FBakI7QUFDQWdFLE9BQUcsQ0FBQzJELFlBQUosR0FBbUIsQ0FBbkI7O0FBQ0EsUUFBSTNELEdBQUcsQ0FBQ3lCLE1BQUosQ0FBV3hGLE1BQVgsR0FBb0IsQ0FBeEIsRUFBMkI7QUFDekIrRCxTQUFHLENBQUM0QyxLQUFKLEdBQVk1QyxHQUFHLENBQUN5QixNQUFKLENBQVcsQ0FBWCxFQUFjbUIsS0FBMUI7QUFDRDs7QUFDRFUsaUJBQWE7O0FBQ2IsUUFBSSxPQUFPdEQsR0FBRyxDQUFDNEQsU0FBWCxLQUF5QixVQUE3QixFQUF5QztBQUN0QzVELFNBQUcsQ0FBQzRELFNBQUosQ0FBY0MsSUFBZCxDQUFtQjdELEdBQW5CLENBQUQsQ0FBMEI7QUFDeEJqRSxZQUFJLEVBQUUsU0FEa0I7QUFFeEIrSCxZQUFJLEVBQUUsQ0FBQzlELEdBQUQ7QUFGa0IsT0FBMUI7QUFJRDs7QUFDRCxRQUFJQSxHQUFHLENBQUMrRCxVQUFSLEVBQW9CO0FBQ2xCL0QsU0FBRyxDQUFDZ0UsSUFBSjtBQUNEOztBQUNEaEUsT0FBRyxDQUFDaUUsUUFBSixDQUFhakUsR0FBYixFQUFrQkEsR0FBRyxDQUFDaUQsU0FBdEIsRUE1Qm9CLENBNkJwQjtBQUNEOztBQUVELFdBQVNpQixRQUFULEdBQXFCO0FBQUU7QUFDckJYLGFBQVM7O0FBQ1QsUUFBSSxPQUFPdkQsR0FBRyxDQUFDbUUsY0FBWCxLQUE4QixVQUFsQyxFQUE4QztBQUMzQ25FLFNBQUcsQ0FBQ21FLGNBQUosQ0FBbUJOLElBQW5CLENBQXdCN0QsR0FBeEIsQ0FBRCxDQUErQjtBQUM3QmpFLFlBQUksRUFBRSxVQUR1QjtBQUU3QitILFlBQUksRUFBRSxDQUFDOUQsR0FBRDtBQUZ1QixPQUEvQjtBQUlEO0FBQ0Y7O0FBRUQsV0FBU29FLFFBQVQsR0FBcUI7QUFBRTtBQUNyQixRQUFNQyxPQUFPLEdBQUdqSCxFQUFFLENBQUN0QixJQUFILENBQVFzQixFQUFFLENBQUNpQixHQUFILEVBQVIsQ0FBaEI7O0FBQ0EsUUFBSWdHLE9BQU8sS0FBSzFHLFFBQVEsQ0FBQ0MsS0FBekIsRUFBZ0M7QUFDOUI4QyxnQkFBVTtBQUNYLEtBRkQsTUFFTyxJQUFJMkQsT0FBTyxLQUFLMUcsUUFBUSxDQUFDRSxPQUF6QixFQUFrQztBQUN2Q21DLFNBQUcsQ0FBQ3NFLE9BQUosSUFBZWxILEVBQUUsQ0FBQ3dCLGFBQUgsRUFBZjtBQUNELEtBRk0sTUFFQSxJQUFJeUYsT0FBTyxLQUFLMUcsUUFBUSxDQUFDRyxNQUF6QixFQUFpQztBQUN0QzJDLGlCQUFXO0FBQ1osS0FGTSxNQUVBO0FBQ0wsVUFBSTRELE9BQU8sS0FBSzFHLFFBQVEsQ0FBQ0ksT0FBekIsRUFBa0M7QUFDaENYLFVBQUUsQ0FBQ2lCLEdBQUgsSUFBVSxFQUFWO0FBQ0QsT0FISSxDQUdIOzs7QUFDRmpCLFFBQUUsQ0FBQ3dCLGFBQUg7QUFDRDtBQUNGOztBQUVELFdBQVM0QixVQUFULEdBQXVCO0FBQUU7QUFDdkIsUUFBSVIsR0FBRyxDQUFDdUUsTUFBSixLQUFldkksU0FBZixJQUE0QmdFLEdBQUcsQ0FBQ3VFLE1BQUosS0FBZSxJQUEvQyxFQUFxRDtBQUNuREwsY0FBUTtBQUNSO0FBQ0Q7O0FBRUQsUUFBTU0sT0FBTyxHQUFHcEgsRUFBRSxDQUFDdEIsSUFBSCxDQUFRc0IsRUFBRSxDQUFDaUIsR0FBSCxFQUFSLENBQWhCOztBQUNBLFFBQUltRyxPQUFPLEtBQUs3RyxRQUFRLENBQUNLLEtBQXpCLEVBQWdDO0FBQUU7QUFDaEMrQyxjQUFROztBQUNSLFVBQUlmLEdBQUcsQ0FBQ3lFLGNBQVIsRUFBd0I7QUFDdEJsQixpQkFBUztBQUNUO0FBQ0Q7QUFDRixLQU5ELE1BTU8sSUFBSWlCLE9BQU8sS0FBSzdHLFFBQVEsQ0FBQ00sR0FBekIsRUFBOEI7QUFDbkNzRixlQUFTO0FBQ1Q7QUFDRCxLQUhNLE1BR0E7QUFDTGEsY0FBUTtBQUNUOztBQUVELFFBQUksT0FBT3BFLEdBQUcsQ0FBQzBFLFVBQVgsS0FBMEIsVUFBOUIsRUFBMEM7QUFDeEMxRSxTQUFHLENBQUMwRSxVQUFKLENBQWU7QUFDYkMsaUJBQVMsRUFBRXZILEVBQUUsQ0FBQ2lCLEdBREQ7QUFFYnVHLGtCQUFVLEVBQUV4SCxFQUFFLENBQUN0QixJQUFILENBQVFHLE1BRlA7QUFHYmdGLGFBQUssRUFBRWpCLEdBQUcsQ0FBQ3lCLE1BQUosQ0FBV3hGO0FBSEwsT0FBZjtBQUtEOztBQUNEc0UsY0FBVSxDQUFDQyxVQUFELEVBQWEsQ0FBYixDQUFWLENBM0JxQixDQTJCTTtBQUM1Qjs7QUFFRCxXQUFTcUUsVUFBVCxDQUFxQkMsUUFBckIsRUFBK0I7QUFBRTtBQUMvQixRQUFJOUUsR0FBRyxDQUFDMEQsUUFBUixFQUFrQjtBQUNoQixhQUFPLEtBQVA7QUFDRDs7QUFDRDFELE9BQUcsQ0FBQ21FLGNBQUosR0FBcUJXLFFBQXJCO0FBQ0E5RSxPQUFHLENBQUN1RSxNQUFKLEdBQWEsSUFBYjtBQUNBLFdBQU8sSUFBUDtBQUNEOztBQUVELFdBQVNwSSxLQUFULENBQWdCSixJQUFoQixFQUFzQjtBQUNwQixRQUFJLE9BQU9pRSxHQUFHLENBQUN4RCxPQUFYLEtBQXVCLFVBQTNCLEVBQXVDO0FBQ3BDd0QsU0FBRyxDQUFDeEQsT0FBSixDQUFZcUgsSUFBWixDQUFpQixJQUFqQixDQUFELENBQXlCO0FBQ3ZCOUgsWUFBSSxFQUFFQSxJQURpQjtBQUV2QitILFlBQUksRUFBRSxDQUFDLElBQUQ7QUFGaUIsT0FBekI7QUFJRDs7QUFDRDlELE9BQUcsQ0FBQzFELE1BQUosR0FBYTBELEdBQUcsQ0FBQ3hELE9BQUosR0FBY1IsU0FBM0I7QUFDQWdFLE9BQUcsQ0FBQ3dELE9BQUosR0FBYyxLQUFkO0FBQ0Q7O0FBRUQsV0FBU0YsYUFBVCxHQUEwQjtBQUFFO0FBQzFCdEQsT0FBRyxDQUFDMkQsWUFBSixHQUFtQixDQUFuQjtBQUNBM0QsT0FBRyxDQUFDK0UsV0FBSixHQUFrQi9FLEdBQUcsQ0FBQ2dGLFdBQUosR0FBa0IsSUFBSUMsSUFBSixHQUFXQyxPQUFYLEVBQXBDLENBRndCLENBRWtDOztBQUMxRCxRQUFJLE9BQU9sRixHQUFHLENBQUMxRCxNQUFYLEtBQXNCLFVBQTFCLEVBQXNDO0FBQ25DMEQsU0FBRyxDQUFDMUQsTUFBSixDQUFXdUgsSUFBWCxDQUFnQjdELEdBQWhCLENBQUQsQ0FBdUI7QUFDckJqRSxZQUFJLEVBQUUsTUFEZTtBQUVyQitILFlBQUksRUFBRSxDQUFDOUQsR0FBRDtBQUZlLE9BQXZCO0FBSUQ7O0FBQ0RBLE9BQUcsQ0FBQ3hELE9BQUosR0FBY3dELEdBQUcsQ0FBQzFELE1BQUosR0FBYU4sU0FBM0I7QUFDRDs7QUFFRCxXQUFTbUosVUFBVCxDQUFxQnJKLElBQXJCLEVBQTJCO0FBQUU7QUFDM0JzQixNQUFFLEdBQUcsSUFBSWUsTUFBSixDQUFXckMsSUFBWCxDQUFMO0FBQ0FnRSxTQUFLO0FBQ047O0FBRUQsV0FBU3NGLE9BQVQsQ0FBa0JDLFFBQWxCLEVBQTRCO0FBQUU7QUFDNUIsUUFBSUMsSUFBSSxHQUFHLElBQUl4SyxjQUFKLEVBQVg7QUFDQXdLLFFBQUksQ0FBQ0MsWUFBTCxHQUFvQixhQUFwQjs7QUFDQUQsUUFBSSxDQUFDaEosTUFBTCxHQUFjLFVBQVVrSixDQUFWLEVBQWE7QUFDekIsVUFBSUEsQ0FBQyxDQUFDQyxNQUFGLENBQVNoSixNQUFULEtBQW9CLEdBQXhCLEVBQTZCO0FBQzNCTixhQUFLLENBQUMsZ0JBQUQsQ0FBTDtBQUNELE9BRkQsTUFFTyxJQUFJcUosQ0FBQyxDQUFDQyxNQUFGLENBQVNoSixNQUFULElBQW1CLEdBQW5CLElBQTBCK0ksQ0FBQyxDQUFDQyxNQUFGLENBQVNoSixNQUFULEdBQWtCLEdBQWhELEVBQXFEO0FBQzFEMEksa0JBQVUsQ0FBQ0csSUFBSSxDQUFDSSxRQUFOLENBQVY7QUFDRCxPQUZNLE1BRUE7QUFDTHZKLGFBQUssQ0FBQyxxQkFBcUJxSixDQUFDLENBQUNDLE1BQUYsQ0FBU2hKLE1BQS9CLENBQUw7QUFDRDtBQUNGLEtBUkQ7O0FBU0E2SSxRQUFJLENBQUNsSyxJQUFMLENBQVUsS0FBVixFQUFpQmlLLFFBQWpCLEVBQTJCLElBQTNCO0FBQ0FDLFFBQUksQ0FBQ3pJLElBQUw7O0FBQ0F5SSxRQUFJLENBQUM5SSxPQUFMLEdBQWUsVUFBVWdKLENBQVYsRUFBYTtBQUMxQnJKLFdBQUssQ0FBQyxZQUFELENBQUw7QUFDRCxLQUZEOztBQUdBLFNBQUt3SixHQUFMLEdBQVdOLFFBQVg7QUFDQSxTQUFLN0IsT0FBTCxHQUFlLElBQWY7QUFDRDs7QUFFRCxXQUFTUSxJQUFULEdBQWlCO0FBQUU7QUFDakIsUUFBSSxDQUFDaEUsR0FBRyxDQUFDNEYsT0FBVCxFQUFrQjtBQUNoQjVGLFNBQUcsQ0FBQzZGLE1BQUosR0FBYSxLQUFiO0FBQ0E3RixTQUFHLENBQUM0RixPQUFKLEdBQWMsSUFBZDtBQUNBQSxhQUFPO0FBQ1I7QUFDRjs7QUFFRCxXQUFTRSxLQUFULEdBQWtCO0FBQUU7QUFDbEI5RixPQUFHLENBQUM2RixNQUFKLEdBQWEsSUFBYjtBQUNBN0YsT0FBRyxDQUFDNEYsT0FBSixHQUFjLEtBQWQ7QUFDQUcsZ0JBQVksQ0FBQzVJLE9BQUQsQ0FBWjtBQUNEOztBQUVELFdBQVM2SSxVQUFULEdBQXVCO0FBQ3JCLFFBQUloRyxHQUFHLENBQUM2RixNQUFKLElBQWMsQ0FBQzdGLEdBQUcsQ0FBQzRGLE9BQXZCLEVBQWdDO0FBQzlCNUYsU0FBRyxDQUFDZ0UsSUFBSjtBQUNELEtBRkQsTUFFTztBQUNMaEUsU0FBRyxDQUFDOEYsS0FBSjtBQUNEO0FBQ0Y7O0FBRUQsV0FBU0csU0FBVCxDQUFvQmhGLEtBQXBCLEVBQTJCO0FBQUU7QUFDM0I4RSxnQkFBWSxDQUFDNUksT0FBRCxDQUFaO0FBQ0E2QyxPQUFHLENBQUMyRCxZQUFKLEdBQW1CMUMsS0FBSyxHQUFHakIsR0FBRyxDQUFDeUIsTUFBSixDQUFXeEYsTUFBdEM7O0FBQ0EsUUFBSStELEdBQUcsQ0FBQzRGLE9BQVIsRUFBaUI7QUFDZkEsYUFBTztBQUNSLEtBRkQsTUFFTztBQUNMNUYsU0FBRyxDQUFDNEMsS0FBSixHQUFZNUMsR0FBRyxDQUFDeUIsTUFBSixDQUFXekIsR0FBRyxDQUFDMkQsWUFBZixFQUE2QmYsS0FBekM7QUFDRDtBQUNGOztBQUVELFdBQVNzRCxJQUFULENBQWV4RSxJQUFmLEVBQXFCO0FBQUU7QUFDckJxRSxnQkFBWSxDQUFDNUksT0FBRCxDQUFaOztBQUNBLFFBQUl1RSxJQUFJLEdBQUcsQ0FBWCxFQUFjO0FBQ1pBLFVBQUksR0FBRyxDQUFQO0FBQ0Q7O0FBQ0RBLFFBQUksSUFBSSxJQUFSLENBTG1CLENBS0w7O0FBQ2RBLFFBQUksSUFBSTFCLEdBQUcsQ0FBQy9ELE1BQVo7QUFDQSxRQUFJZ0YsS0FBSyxHQUFHLENBQVo7O0FBQ0EsV0FBT1MsSUFBSSxHQUFHMUIsR0FBRyxDQUFDeUIsTUFBSixDQUFXUixLQUFYLEVBQWtCUyxJQUFsQixHQUF5QjFCLEdBQUcsQ0FBQ3lCLE1BQUosQ0FBV1IsS0FBWCxFQUFrQlUsS0FBbEQsSUFBMkRWLEtBQUssR0FBR2pCLEdBQUcsQ0FBQ3lCLE1BQUosQ0FBV3hGLE1BQXJGLEVBQTZGO0FBQzNGZ0YsV0FBSyxJQUFJLENBQVQ7QUFDRDs7QUFDRGpCLE9BQUcsQ0FBQzJELFlBQUosR0FBbUIxQyxLQUFuQjs7QUFDQSxRQUFJakIsR0FBRyxDQUFDNEYsT0FBUixFQUFpQjtBQUNmQSxhQUFPO0FBQ1IsS0FGRCxNQUVPO0FBQ0w1RixTQUFHLENBQUM0QyxLQUFKLEdBQVk1QyxHQUFHLENBQUN5QixNQUFKLENBQVd6QixHQUFHLENBQUMyRCxZQUFmLEVBQTZCZixLQUF6QztBQUNEO0FBQ0Y7O0FBRUQsV0FBU2dELE9BQVQsR0FBb0I7QUFDbEIsUUFBSWpFLEtBQUo7QUFDQSxRQUFJVixLQUFKOztBQUNBLFFBQUlqQixHQUFHLENBQUNtRyxTQUFKLEtBQWtCLENBQXRCLEVBQXlCO0FBQ3ZCbkcsU0FBRyxDQUFDOEYsS0FBSjtBQUNELEtBRkQsTUFFTztBQUNMLFVBQUk5RixHQUFHLENBQUNtRyxTQUFKLEdBQWdCLENBQXBCLEVBQXVCO0FBQ3JCbkcsV0FBRyxDQUFDMkQsWUFBSixJQUFvQixDQUFwQjs7QUFDQSxZQUFJM0QsR0FBRyxDQUFDMkQsWUFBSixHQUFtQixDQUF2QixFQUEwQjtBQUN4QjNELGFBQUcsQ0FBQzJELFlBQUosR0FBbUIzRCxHQUFHLENBQUN5QixNQUFKLENBQVd4RixNQUFYLEdBQW9CLENBQXZDO0FBQ0Q7O0FBQ0RnRixhQUFLLEdBQUdqQixHQUFHLENBQUMyRCxZQUFaO0FBQ0ExQyxhQUFLLElBQUksQ0FBVDs7QUFDQSxZQUFJQSxLQUFLLEdBQUcsQ0FBWixFQUFlO0FBQ2JBLGVBQUssR0FBR2pCLEdBQUcsQ0FBQ3lCLE1BQUosQ0FBV3hGLE1BQVgsR0FBb0IsQ0FBNUI7QUFDRDs7QUFDRDBGLGFBQUssR0FBRyxDQUFDM0IsR0FBRyxDQUFDeUIsTUFBSixDQUFXUixLQUFYLEVBQWtCVSxLQUFuQixHQUEyQixDQUEzQixHQUErQjNCLEdBQUcsQ0FBQ21HLFNBQTNDO0FBQ0QsT0FYRCxNQVdPO0FBQ0xuRyxXQUFHLENBQUMyRCxZQUFKLElBQW9CLENBQXBCO0FBQ0EzRCxXQUFHLENBQUMyRCxZQUFKLElBQW9CM0QsR0FBRyxDQUFDeUIsTUFBSixDQUFXeEYsTUFBL0I7QUFDQTBGLGFBQUssR0FBRzNCLEdBQUcsQ0FBQ3lCLE1BQUosQ0FBV3pCLEdBQUcsQ0FBQzJELFlBQWYsRUFBNkJoQyxLQUE3QixHQUFxQyxDQUFyQyxHQUF5QzNCLEdBQUcsQ0FBQ21HLFNBQXJEO0FBQ0Q7O0FBQ0RuRyxTQUFHLENBQUM0QyxLQUFKLEdBQVk1QyxHQUFHLENBQUN5QixNQUFKLENBQVd6QixHQUFHLENBQUMyRCxZQUFmLEVBQTZCZixLQUF6QztBQUNBekYsYUFBTyxHQUFHb0QsVUFBVSxDQUFDcUYsT0FBRCxFQUFVakUsS0FBVixDQUFwQjtBQUNEO0FBQ0Y7O0FBRUQsTUFBSTNCLEdBQUcsR0FBRztBQUFFO0FBQ1YxRCxVQUFNLEVBQUUsSUFEQTtBQUNNO0FBQ2RFLFdBQU8sRUFBRSxJQUZEO0FBRU87QUFDZmtJLGNBQVUsRUFBRSxJQUhKO0FBR1U7QUFDbEJkLGFBQVMsRUFBRSxJQUpIO0FBSVM7QUFDakJpQyxVQUFNLEVBQUUsS0FMQTtBQUtPO0FBQ2ZELFdBQU8sRUFBRSxLQU5EO0FBTVE7QUFDaEJ2QyxnQkFBWSxFQUFFLElBUE47QUFPWTtBQUNwQkcsV0FBTyxFQUFFLEtBUkQ7QUFRUTtBQUNoQmlCLGtCQUFjLEVBQUUsS0FUUjtBQVNlO0FBQ3ZCeEUsU0FBSyxFQUFFLElBVkM7QUFVSztBQUNiQyxVQUFNLEVBQUUsSUFYQTtBQVdNO0FBQ2R1QixVQUFNLEVBQUUsRUFaQTtBQVlJO0FBQ1o2QyxXQUFPLEVBQUUsRUFiRDtBQWFLO0FBQ2JySSxVQUFNLEVBQUUsQ0FkQTtBQWNHO0FBQ1gwSCxnQkFBWSxFQUFFLENBZk47QUFlUztBQUNqQkYsY0FBVSxFQUFFLENBaEJKO0FBZ0JPO0FBQ2YwQyxhQUFTLEVBQUUsQ0FqQkg7QUFpQk07QUFDZGxELGFBQVMsRUFBRSxJQWxCSDtBQWtCUztBQUNqQkwsU0FBSyxFQUFFLElBbkJDO0FBbUJLO0FBQ2JtQixjQUFVLEVBQUUsSUFwQko7QUFvQlU7QUFDbEI7QUFDQXFDLFFBQUksRUFBRWhCLE9BdEJFO0FBc0JPO0FBQ2ZiLFVBQU0sRUFBRU0sVUF2QkE7QUF1Qlk7QUFDcEJiLFFBQUksRUFBRUEsSUF4QkU7QUF3Qkk7QUFDWjhCLFNBQUssRUFBRUEsS0F6QkM7QUF5Qk07QUFDZEksUUFBSSxFQUFFQSxJQTFCRTtBQTBCSTtBQUNaRCxhQUFTLEVBQUVBLFNBM0JIO0FBMkJjO0FBQ3RCRCxjQUFVLEVBQUVBLFVBNUJKO0FBNEJnQjtBQUN4Qi9CLFlBQVEsRUFBRSxrQkFBVW9DLFFBQVYsRUFBb0IsQ0FBRSxDQTdCeEIsQ0E2QnlCOztBQTdCekIsR0FBVjtBQStCQSxTQUFPckcsR0FBUDtBQUNELENBM2dCRDs7QUE2Z0JPLElBQU1zRyxlQUFlLEdBQUcsU0FBbEJBLGVBQWtCLENBQVVDLE9BQVYsRUFBbUI7QUFDaEQsTUFBSTVLLEtBQUssR0FBRyxJQUFaOztBQUVBLE9BQUs2SyxRQUFMLEdBQWdCO0FBQ2RDLGFBQVMsRUFBRSxJQURHO0FBRWRDLG9CQUFnQixFQUFFLElBRko7QUFHZEMsZUFBVyxFQUFFLElBSEM7QUFJZEMsWUFBUSxFQUFFLElBSkk7QUFLZEMsWUFBUSxFQUFFLEVBTEk7QUFNZDlELE9BQUcsRUFBRSxJQU5TO0FBT2QrRCxlQUFXLEVBQUUsSUFQQztBQVFkQyxnQkFBWSxFQUFFLElBUkE7QUFTZEMsbUJBQWUsRUFBRSxJQVRIO0FBVWRDLG9CQUFnQixFQUFFLElBVko7QUFXZEMsZ0JBQVksRUFBRTtBQVhBLEdBQWhCOztBQWNBLE1BQUksT0FBT1gsT0FBUCxLQUFtQixXQUF2QixFQUFvQztBQUNsQyxTQUFLQyxRQUFMLEdBQWdCVyxtRUFBWSxDQUFDLEtBQUtYLFFBQU4sRUFBZ0JELE9BQWhCLENBQTVCO0FBQ0QsR0FuQitDLENBcUJoRDs7O0FBQ0EsV0FBU2EsTUFBVCxDQUFpQkMsS0FBakIsRUFBd0I7QUFDdEIsUUFBSTFMLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZVUsWUFBbkIsRUFBaUM7QUFDL0J2TCxXQUFLLENBQUM2SyxRQUFOLENBQWV6RCxHQUFmLENBQW1CdUUsWUFBbkIsQ0FBZ0MsQ0FBaEMsRUFBbUMsQ0FBbkMsRUFBc0MsQ0FBdEMsRUFBeUMsQ0FBekMsRUFBNEMsQ0FBNUMsRUFBK0MsQ0FBL0MsRUFEK0IsQ0FDb0I7OztBQUNuRCxVQUFJM0wsS0FBSyxDQUFDNkssUUFBTixDQUFlTSxXQUFmLEtBQStCUyxVQUEvQixJQUE2QzVMLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZU8sWUFBZixLQUFnQ1MsV0FBakYsRUFBOEY7QUFDNUY3TCxhQUFLLENBQUM2SyxRQUFOLENBQWVRLGVBQWYsR0FBaUMsQ0FBQ3JMLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZU0sV0FBZixHQUE2Qm5MLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBZixDQUF5QnhHLEtBQXpCLEdBQWlDc0gsVUFBL0QsSUFBNkUsQ0FBOUc7QUFDQTVMLGFBQUssQ0FBQzZLLFFBQU4sQ0FBZVMsZ0JBQWYsR0FBa0MsQ0FBQ3RMLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZU8sWUFBZixHQUE4QnBMLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBZixDQUF5QnZHLE1BQXpCLEdBQWtDc0gsV0FBakUsSUFBZ0YsQ0FBbEg7QUFDRCxPQUhELE1BR087QUFDTDdMLGFBQUssQ0FBQzZLLFFBQU4sQ0FBZXpELEdBQWYsQ0FBbUIwRSxTQUFuQixDQUE2QixDQUE3QixFQUFnQyxDQUFoQyxFQUFtQzlMLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZU0sV0FBbEQsRUFBK0RuTCxLQUFLLENBQUM2SyxRQUFOLENBQWVPLFlBQTlFO0FBQ0Q7O0FBRUQsVUFBSXBMLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUcsV0FBZixLQUErQixJQUFuQyxFQUF5QztBQUFFO0FBQ3pDLFlBQUksQ0FBQ2hMLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUcsV0FBZixDQUEyQm5ELE9BQWhDLEVBQXlDLENBQUU7QUFDekM7QUFDRCxTQUZELE1BRU8sSUFBSTdILEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUcsV0FBZixDQUEyQjFELFNBQTNCLEtBQXlDLElBQTdDLEVBQW1EO0FBQUU7QUFDMUR0SCxlQUFLLENBQUM2SyxRQUFOLENBQWV6RCxHQUFmLENBQW1CRyxTQUFuQixDQUE2QnZILEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUcsV0FBZixDQUEyQjFELFNBQTNCLENBQXFDTCxLQUFsRSxFQUEwRWpILEtBQUssQ0FBQzZLLFFBQU4sQ0FBZVEsZUFBZixHQUFrQ3JMLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUcsV0FBZixDQUEyQjFHLEtBQTNCLEdBQW1DLENBQS9JLEVBQXFKdEUsS0FBSyxDQUFDNkssUUFBTixDQUFlUyxnQkFBZixHQUFtQ3RMLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUcsV0FBZixDQUEyQnpHLE1BQTNCLEdBQW9DLENBQTVOO0FBQ0Q7QUFDRjs7QUFFRHdILDJCQUFxQixDQUFDTixNQUFELENBQXJCO0FBQ0Q7QUFDRixHQTFDK0MsQ0E0Q2hEOzs7QUFDQSxPQUFLTyxXQUFMLEdBQW1CLFlBQVk7QUFDN0JoTSxTQUFLLENBQUM2SyxRQUFOLENBQWV6RCxHQUFmLENBQW1CdUUsWUFBbkIsQ0FBZ0MsQ0FBaEMsRUFBbUMsQ0FBbkMsRUFBc0MsQ0FBdEMsRUFBeUMsQ0FBekMsRUFBNEMsQ0FBNUMsRUFBK0MsQ0FBL0M7QUFDRCxHQUZEOztBQUlBLE9BQUtNLGFBQUwsR0FBcUIsWUFBWTtBQUMvQixRQUFJQyxPQUFPLEdBQUdoRixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBZDtBQUNBLFFBQUlnRixNQUFNLEdBQUdqRixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsUUFBdkIsQ0FBYjtBQUVBK0UsV0FBTyxDQUFDRSxZQUFSLENBQXFCLE9BQXJCLEVBQThCLGtDQUE5QjtBQUNBRCxVQUFNLENBQUNDLFlBQVAsQ0FBb0IsT0FBcEIsRUFBNkIsa0JBQTdCO0FBRUFGLFdBQU8sQ0FBQ0csV0FBUixDQUFvQkYsTUFBcEI7QUFFQSxXQUFPRCxPQUFQO0FBQ0QsR0FWRDs7QUFZQSxPQUFLSSxJQUFMLEdBQVksWUFBWTtBQUN0QixRQUFJLEtBQUt6QixRQUFMLENBQWNDLFNBQWQsS0FBNEIsSUFBaEMsRUFBc0M7QUFDcEMsV0FBS0QsUUFBTCxDQUFjRSxnQkFBZCxHQUFpQyxLQUFLRixRQUFMLENBQWNJLFFBQWQsQ0FBdUJKLFFBQXZCLENBQWdDMEIsYUFBaEMsQ0FBOENGLFdBQTlDLENBQTBEck0sS0FBSyxDQUFDaU0sYUFBTixFQUExRCxDQUFqQztBQUNBLFdBQUtwQixRQUFMLENBQWNDLFNBQWQsR0FBMEIwQiw0REFBSyxDQUFDLEtBQUszQixRQUFMLENBQWNFLGdCQUFmLEVBQWlDLG1CQUFqQyxDQUEvQjtBQUNEOztBQUVELFFBQUksS0FBS0YsUUFBTCxDQUFjQyxTQUFkLEtBQTRCLElBQTVCLElBQW9DLEtBQUtELFFBQUwsQ0FBY0ssUUFBZCxDQUF1QjVLLE1BQXZCLEdBQWdDLENBQXhFLEVBQTJFO0FBQ3pFTixXQUFLLENBQUM2SyxRQUFOLENBQWVFLGdCQUFmLENBQWdDMEIsS0FBaEMsQ0FBc0NDLE9BQXRDLEdBQWdELE9BQWhELENBRHlFLENBQ2hCOztBQUN6RDFNLFdBQUssQ0FBQzZLLFFBQU4sQ0FBZUUsZ0JBQWYsQ0FBZ0MwQixLQUFoQyxDQUFzQ0UsT0FBdEMsR0FBZ0QsQ0FBaEQsQ0FGeUUsQ0FFdEI7O0FBQ25EM00sV0FBSyxDQUFDNkssUUFBTixDQUFlekQsR0FBZixHQUFxQnBILEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBZixDQUF5QnpELFVBQXpCLENBQW9DLElBQXBDLENBQXJCO0FBQ0FySCxXQUFLLENBQUM2SyxRQUFOLENBQWVVLFlBQWYsR0FBOEIsSUFBOUIsQ0FKeUUsQ0FNekU7QUFDQTs7QUFDQSxVQUFNcUIsTUFBTSxHQUFHNU0sS0FBSyxDQUFDNkssUUFBTixDQUFlSyxRQUE5QixDQVJ5RSxDQVN6RTtBQUNBOztBQUNBdEcsZ0JBQVUsQ0FBQyxZQUFNO0FBQ2Y1RSxhQUFLLENBQUM2SyxRQUFOLENBQWVHLFdBQWYsR0FBNkJ6SixHQUFHLEVBQWhDLENBRGUsQ0FDcUI7O0FBQ3BDdkIsYUFBSyxDQUFDNkssUUFBTixDQUFlRyxXQUFmLENBQTJCbkssT0FBM0IsR0FBcUMsVUFBVWdKLENBQVYsRUFBYTtBQUNoRC9LLGlCQUFPLENBQUN3QyxHQUFSLENBQVkseUJBQXlCdUksQ0FBQyxDQUFDekosSUFBdkM7QUFDRCxTQUZEOztBQUdBSixhQUFLLENBQUM2SyxRQUFOLENBQWVHLFdBQWYsQ0FBMkJQLElBQTNCLENBQWdDbUMsTUFBaEM7O0FBQ0E1TSxhQUFLLENBQUM2SyxRQUFOLENBQWVHLFdBQWYsQ0FBMkIxQyxRQUEzQixHQUFzQyxVQUFVb0MsUUFBVixFQUFvQnBELFNBQXBCLEVBQStCO0FBQ25FdEgsZUFBSyxDQUFDNkssUUFBTixDQUFlVSxZQUFmLEdBQThCLEtBQTlCLENBRG1FLENBR25FO0FBQ0E7QUFDQTtBQUNBOztBQUVBM0csb0JBQVUsQ0FBQyxZQUFZO0FBQ3JCNUUsaUJBQUssQ0FBQzZLLFFBQU4sQ0FBZUUsZ0JBQWYsQ0FBZ0MwQixLQUFoQyxDQUFzQ0UsT0FBdEMsR0FBZ0QsQ0FBaEQ7QUFDQS9ILHNCQUFVLENBQUMsWUFBWTtBQUNyQjVFLG1CQUFLLENBQUM2SyxRQUFOLENBQWVFLGdCQUFmLENBQWdDMEIsS0FBaEMsQ0FBc0NDLE9BQXRDLEdBQWdELE1BQWhEO0FBQ0QsYUFGUyxFQUVQLEdBRk8sQ0FBVjtBQUdELFdBTFMsRUFLUCxJQUxPLENBQVY7QUFNRCxTQWREO0FBZUQsT0FyQlMsRUFxQlAsQ0FyQk8sQ0FBVjtBQXVCQTFNLFdBQUssQ0FBQzZLLFFBQU4sQ0FBZU0sV0FBZixHQUE2Qm5MLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBZixDQUF5QnhHLEtBQXREO0FBQ0F0RSxXQUFLLENBQUM2SyxRQUFOLENBQWVPLFlBQWYsR0FBOEJwTCxLQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWYsQ0FBeUJ2RyxNQUF2RDtBQUNBdkUsV0FBSyxDQUFDNkssUUFBTixDQUFlUSxlQUFmLEdBQWlDckwsS0FBSyxDQUFDNkssUUFBTixDQUFlTSxXQUFmLEdBQTZCLENBQTlELENBcEN5RSxDQW9DUjs7QUFDakVuTCxXQUFLLENBQUM2SyxRQUFOLENBQWVTLGdCQUFmLEdBQWtDdEwsS0FBSyxDQUFDNkssUUFBTixDQUFlTyxZQUFmLEdBQThCLENBQWhFLENBckN5RSxDQXVDekU7QUFDQTtBQUNBOztBQUVBVywyQkFBcUIsQ0FBQ04sTUFBRCxDQUFyQjtBQUNEO0FBQ0YsR0FuREQ7QUFvREQsQ0FqSE0sQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNqaEJQO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLElBQU1vQixXQUFXLEdBQUdDLG1CQUFPLENBQUMsc0VBQUQsQ0FBM0I7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNPLElBQU1qTyxRQUFRLEdBQUcsU0FBWEEsUUFBVyxDQUFVK0wsT0FBVixFQUFtQjtBQUN6QztBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDRSxPQUFLQyxRQUFMLEdBQWdCO0FBQ2RrQyxTQUFLLEVBQUUsSUFETztBQUVkUixpQkFBYSxFQUFFckYsUUFBUSxDQUFDOEYsSUFGVjtBQUdkck8sYUFBUyxFQUFFLElBSEc7QUFJZHNPLGdCQUFZLEVBQUUsSUFKQTtBQUtkQyxpQkFBYSxFQUFFLElBTEQ7QUFNZEMsa0JBQWMsRUFBRSxJQU5GO0FBT2RDLG1CQUFlLEVBQUUsSUFQSDtBQVFkQyx1QkFBbUIsRUFBRSxJQVJQO0FBU2RDLGNBQVUsRUFBRSxJQVRFO0FBVWRDLGNBQVUsRUFBRSxJQUFJdk8sK0NBQUssQ0FBQ0MsSUFBVixFQVZFO0FBV2R1TyxhQUFTLEVBQUUsSUFBSXhPLCtDQUFLLENBQUNDLElBQVYsRUFYRztBQVlkd08sWUFBUSxFQUFFalAsSUFaSTtBQWFka1AsWUFBUSxFQUFFLEVBYkk7QUFjZEMsYUFBUyxFQUFFLEVBZEc7QUFlZEMsWUFBUSxFQUFFLEVBZkk7QUFnQmRDLFVBQU0sRUFBRSxFQWhCTTtBQWlCZEMsVUFBTSxFQUFFLEVBakJNO0FBa0JkQyxxQkFBaUIsRUFBRSxLQWxCTDtBQWtCWTtBQUMxQkMsVUFBTSxFQUFFLEVBbkJNO0FBb0JkQyxVQUFNLEVBQUUsSUFwQk07QUFxQmRDLGVBQVcsRUFBRTtBQUNYQyx5QkFBbUIsRUFBRSxJQURWO0FBRVhDLHFCQUFlLEVBQUUsSUFGTjtBQUdYQyx1QkFBaUIsRUFBRSxJQUhSO0FBSVhDLG1CQUFhLEVBQUUsSUFKSjtBQUtYQyxxQkFBZSxFQUFFLElBTE47QUFNWEMsMkJBQXFCLEVBQUUsS0FOWjtBQU9YQyx3QkFBa0IsRUFBRSxJQVBULENBT2M7O0FBUGQsS0FyQkM7QUE4QmRDLGdCQUFZLEVBQUU7QUFDWkMsV0FBSyxFQUFFLEdBREs7QUFFWkMsZ0JBQVUsRUFBRSxDQUZBO0FBR1pDLFVBQUksRUFBRSxFQUhNO0FBSVpDLHNCQUFnQixFQUFFLEVBSk47QUFLWkMsYUFBTyxFQUFFLEVBTEc7QUFNWkMsb0JBQWMsRUFBRSxFQU5KO0FBT1pQLHdCQUFrQixFQUFFLElBUFIsQ0FPYTs7QUFQYixLQTlCQTtBQXVDZE0sV0FBTyxFQUFFO0FBQ1BELHNCQUFnQixFQUFFLEVBRFg7QUFFUEMsYUFBTyxFQUFFLEVBRkY7QUFHUEMsb0JBQWMsRUFBRSxFQUhUO0FBSVBDLHFCQUFlLEVBQUUseUJBQVVDLE1BQVYsRUFBa0I7QUFDakMsWUFBSUMsa0JBQWtCLEdBQUdELE1BQU0sQ0FBQ0UsS0FBaEM7O0FBRUEsWUFBSSxPQUFPRixNQUFNLENBQUNHLGFBQWQsS0FBZ0MsV0FBaEMsSUFBK0MsT0FBT0gsTUFBTSxDQUFDRyxhQUFQLENBQXFCQyxNQUE1QixLQUF1QyxXQUF0RixJQUFxR0osTUFBTSxDQUFDRyxhQUFQLENBQXFCQyxNQUFyQixLQUFnQyxJQUF6SSxFQUErSTtBQUM3SUgsNEJBQWtCLEdBQUdELE1BQU0sQ0FBQ0csYUFBUCxDQUFxQkMsTUFBckIsR0FBOEJKLE1BQU0sQ0FBQ0UsS0FBMUQ7QUFDRDs7QUFFRCxlQUFPRCxrQkFBUDtBQUNEO0FBWk0sS0F2Q0s7QUFxRGRJLFlBQVEsRUFBRTtBQUNSQSxjQUFRLEVBQUU7QUFERixLQXJESTtBQXdEZEMsZUFBVyxFQUFFO0FBQ1hyQix5QkFBbUIsRUFBRSxJQURWO0FBRVhzQix1QkFBaUIsRUFBRSxFQUZSO0FBRVk7QUFDdkJDLHdCQUFrQixFQUFFLEVBSFQ7QUFHYTtBQUN4QkMsMEJBQW9CLEVBQUUsRUFKWCxDQUljOztBQUpkLEtBeERDO0FBOERkQyxlQUFXLEVBQUU7QUFDWEMseUJBQW1CLEVBQUUsR0FEVjtBQUVYckIsMkJBQXFCLEVBQUUsSUFGWjtBQUdYRCxxQkFBZSxFQUFFLElBSE47QUFJWHVCLDJCQUFxQixFQUFFLElBSlo7QUFLWEMscUJBQWUsRUFBRSxFQUxOO0FBTVhDLDRCQUFzQixFQUFFLEVBTmI7QUFPWEMsb0JBQWMsRUFBRTtBQUNkO0FBQ0FDLG1CQUFXLEVBQUUsSUFGQztBQUdkO0FBQ0FDLDhCQUFzQixFQUFFLEtBSlYsQ0FJZ0I7O0FBSmhCO0FBUEwsS0E5REM7QUE0RWRDLGNBQVUsRUFBRTtBQUFFO0FBQ1paLGlCQUFXLEVBQUU7QUFDWGEsY0FBTSxFQUFFLElBREc7QUFFWEMsdUJBQWUsRUFBRSw4QkFGTjtBQUdYQywyQkFBbUIsRUFBRSxtQ0FIVjtBQUlYQyxzQkFBYyxFQUFFLG1CQUpMO0FBS1hDLGFBQUssRUFBRTtBQUxJLE9BREg7QUFRVi9CLGtCQUFZLEVBQUU7QUFDWjJCLGNBQU0sRUFBRSxJQURJO0FBRVpDLHVCQUFlLEVBQUUsK0JBRkw7QUFHWkMsMkJBQW1CLEVBQUUsb0NBSFQ7QUFJWkMsc0JBQWMsRUFBRSw0QkFKSjtBQUtaQyxhQUFLLEVBQUU7QUFMSyxPQVJKO0FBZVYxQixhQUFPLEVBQUU7QUFDUHNCLGNBQU0sRUFBRSxJQUREO0FBRVBDLHVCQUFlLEVBQUUsbUNBRlY7QUFHUEMsMkJBQW1CLEVBQUUsd0NBSGQ7QUFJUEMsc0JBQWMsRUFBRSwrQkFKVDtBQUtQQyxhQUFLLEVBQUU7QUFMQSxPQWZDO0FBc0JWQyxXQUFLLEVBQUU7QUFDTEwsY0FBTSxFQUFFLElBREg7QUFFTEMsdUJBQWUsRUFBRSxpQ0FGWjtBQUdMQywyQkFBbUIsRUFBRSxzQ0FIaEI7QUFJTEMsc0JBQWMsRUFBRSw4QkFKWDtBQUtMQyxhQUFLLEVBQUU7QUFMRjtBQXRCRyxLQTVFRTtBQTBHZEUsT0FBRyxFQUFFO0FBQ0hDLG1CQUFhLEVBQUU1UiwrQ0FBSyxDQUFDNlIsR0FBTixDQUFVdFIsR0FEdEI7QUFHSHVSLGFBQU8sRUFBRSxzQ0FITjtBQUlIQyxZQUFNLEVBQUUsbUNBSkw7QUFNSEMsZUFBUyxFQUFFLGtDQU5SO0FBT0hDLHdCQUFrQixFQUFFLDRDQVBqQjtBQVNIQyxrQkFBWSxFQUFFLDZCQVRYO0FBVUhDLHFCQUFlLEVBQUUsaUNBVmQ7QUFXSEMsd0JBQWtCLEVBQUUseUNBWGpCO0FBYUhDLGlCQUFXLEVBQUUsaUNBYlY7QUFjSDNDLGtCQUFZLEVBQUUsbURBZFg7QUFlSDtBQUNBNEMsNkJBQXVCLEVBQUUsbURBaEJ0QjtBQWlCSEMsd0JBQWtCLEVBQUUsMERBakJqQjtBQW1CSGhDLGNBQVEsRUFBRSwrQ0FuQlA7QUFvQkhpQyxpQkFBVyxFQUFFLDBEQXBCVjtBQXNCSEMsa0JBQVksRUFBRSxxREF0Qlg7QUF1QkhDLHVCQUFpQixFQUFFLDJEQXZCaEI7QUF5QkhDLHdCQUFrQixFQUFFLG1EQXpCakI7QUEwQkhDLDJCQUFxQixFQUFFLGlFQTFCcEI7QUEyQkhDLDRCQUFzQixFQUFFLHVFQTNCckI7QUE0QkhDLGlDQUEyQixFQUFFLDZFQTVCMUI7QUE4QkhDLHFCQUFlLEVBQUUsRUE5QmQsQ0E4QmlCOztBQTlCakIsS0ExR1M7QUEwSWRDLG9CQUFnQixFQUFFLElBMUlKO0FBMklkQyxpQkFBYSxFQUFFLElBM0lEO0FBNElkcEYsZUFBVyxFQUFFQSxXQTVJQztBQTZJZHFGLGFBQVMsRUFBRSxFQTdJRztBQThJZEMsVUFBTSxFQUFFLEVBOUlNO0FBK0lkQyx1QkFBbUIsRUFBRSw2QkFBVUMsTUFBVixFQUFrQjNILFFBQWxCLEVBQTRCLENBQ2hEO0FBaEphLEdBQWhCOztBQW1KQSxNQUFJLE9BQU9FLE9BQVAsS0FBbUIsV0FBdkIsRUFBb0M7QUFDbEMsU0FBS0MsUUFBTCxHQUFnQlcsbUVBQVksQ0FBQyxLQUFLWCxRQUFOLEVBQWdCRCxPQUFoQixDQUE1QjtBQUNELEdBNUp3QyxDQThKekM7OztBQUNBLE9BQUtELGVBQUwsR0FBdUJBLGlFQUF2QjtBQUNBLE9BQUsySCxhQUFMLEdBQXFCQSw2REFBckI7QUFDQSxPQUFLQyxjQUFMLEdBQXNCQSwrREFBdEI7QUFDQSxPQUFLQyxVQUFMLEdBQWtCQSx1REFBbEI7O0FBRUEsT0FBS2xSLEdBQUwsR0FBVyxVQUFVbVIsT0FBVixFQUFtQjtBQUM1QixRQUFJLEtBQUs1SCxRQUFMLENBQWNrQyxLQUFsQixFQUF5QjtBQUN2QmpPLGFBQU8sQ0FBQzBCLEtBQVIsQ0FBY2lTLE9BQWQ7QUFDRDtBQUNGLEdBSkQ7QUFNQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNFLE9BQUtDLGNBQUwsR0FBc0IsVUFBVUMsUUFBVixFQUFvQjtBQUN4QyxRQUFJM1MsS0FBSyxHQUFHLElBQVo7O0FBQ0EsUUFBSTRTLFdBQVcsR0FBRyxFQUFsQjtBQUNBLFFBQUlDLE1BQU0sR0FBRyxFQUFiO0FBQ0EsUUFBSUYsUUFBUSxDQUFDRyxJQUFULEVBQUosRUFBcUJGLFdBQVcsQ0FBQ3hQLElBQVosQ0FBaUJ1UCxRQUFRLENBQUNHLElBQVQsS0FBa0IseUJBQWxCLEdBQThDOVMsS0FBSyxDQUFDNkssUUFBTixDQUFlZ0MsV0FBZixDQUEyQjlHLElBQTNCLENBQWdDK00sSUFBOUUsR0FBcUYsU0FBdEc7O0FBQ3JCLFFBQUlILFFBQVEsQ0FBQ0ksS0FBVCxNQUFvQkosUUFBUSxDQUFDRyxJQUFULEtBQWtCLENBQTFDLEVBQTZDO0FBQzNDRCxZQUFNLENBQUN6UCxJQUFQLENBQVk0UCwrRUFBd0IsQ0FBQ0wsUUFBUSxDQUFDSSxLQUFULEVBQUQsRUFBbUIsQ0FBbkIsQ0FBeEIsR0FBZ0QseUJBQWhELEdBQTRFL1MsS0FBSyxDQUFDNkssUUFBTixDQUFlZ0MsV0FBZixDQUEyQjlHLElBQTNCLENBQWdDZ04sS0FBNUcsR0FBb0gsU0FBaEk7QUFDRCxLQUZELE1BRU9GLE1BQU0sQ0FBQ3pQLElBQVAsQ0FBWSw4QkFBOEJwRCxLQUFLLENBQUM2SyxRQUFOLENBQWVnQyxXQUFmLENBQTJCOUcsSUFBM0IsQ0FBZ0NnTixLQUE5RCxHQUFzRSxTQUFsRjs7QUFDUCxRQUFJSixRQUFRLENBQUNNLE9BQVQsTUFBc0JOLFFBQVEsQ0FBQ0ksS0FBVCxLQUFtQixDQUF6QyxJQUE4Q0osUUFBUSxDQUFDRyxJQUFULEtBQWtCLENBQXBFLEVBQXVFO0FBQ3JFRCxZQUFNLENBQUN6UCxJQUFQLENBQVk0UCwrRUFBd0IsQ0FBQ0wsUUFBUSxDQUFDTSxPQUFULEVBQUQsRUFBcUIsQ0FBckIsQ0FBeEIsSUFBb0ROLFFBQVEsQ0FBQ0csSUFBVCxLQUFrQixDQUFuQixHQUF3Qiw0QkFBNEI5UyxLQUFLLENBQUM2SyxRQUFOLENBQWVnQyxXQUFmLENBQTJCOUcsSUFBM0IsQ0FBZ0NrTixPQUE1RCxHQUFzRSxTQUE5RixHQUEwRyw0QkFBNEJqVCxLQUFLLENBQUM2SyxRQUFOLENBQWVnQyxXQUFmLENBQTJCOUcsSUFBM0IsQ0FBZ0NtTixnQkFBNUQsR0FBK0UsU0FBNU8sQ0FBWjtBQUNELEtBRkQsTUFFUUwsTUFBTSxDQUFDelAsSUFBUCxDQUFZLFFBQVN1UCxRQUFRLENBQUNHLElBQVQsS0FBa0IsQ0FBbkIsR0FBd0IsNEJBQTRCOVMsS0FBSyxDQUFDNkssUUFBTixDQUFlZ0MsV0FBZixDQUEyQjlHLElBQTNCLENBQWdDa04sT0FBNUQsR0FBc0UsU0FBOUYsR0FBMEcsNEJBQTRCalQsS0FBSyxDQUFDNkssUUFBTixDQUFlZ0MsV0FBZixDQUEyQjlHLElBQTNCLENBQWdDbU4sZ0JBQTVELEdBQStFLFNBQWpNLENBQVosQ0FBRCxDQVZpQyxDQVd4Qzs7O0FBQ0FMLFVBQU0sQ0FBQ3pQLElBQVAsQ0FBWTRQLCtFQUF3QixDQUFDTCxRQUFRLENBQUNRLE9BQVQsRUFBRCxFQUFxQixDQUFyQixDQUF4QixHQUFrRCx5QkFBbEQsR0FBOEVuVCxLQUFLLENBQUM2SyxRQUFOLENBQWVnQyxXQUFmLENBQTJCOUcsSUFBM0IsQ0FBZ0NvTixPQUE5RyxHQUF3SCxTQUFwSTtBQUNBLFdBQVFQLFdBQVcsQ0FBQ3RTLE1BQVosR0FBcUIsQ0FBdEIsR0FBNEJzUyxXQUFXLENBQUNRLElBQVosQ0FBaUIsR0FBakIsSUFBd0IsR0FBeEIsR0FBOEJQLE1BQU0sQ0FBQ08sSUFBUCxDQUFZLEdBQVosQ0FBMUQsR0FBOEVQLE1BQU0sQ0FBQ08sSUFBUCxDQUFZLEdBQVosQ0FBckY7QUFDRCxHQWREOztBQWdCQSxPQUFLQyw0QkFBTCxHQUFvQyxVQUFVQyxHQUFWLEVBQWU7QUFDakQsUUFBSUEsR0FBRyxDQUFDaFQsTUFBSixHQUFhLENBQWpCLEVBQW9CO0FBQ2xCO0FBQ0EsVUFBSWlULE1BQU0sR0FBRyxJQUFJQyw2Q0FBSixDQUFVLFNBQVYsRUFBcUIsTUFBckIsQ0FBYjtBQUNBRCxZQUFNLENBQUM5SCxNQUFQLENBQWM2SCxHQUFkO0FBQ0EsVUFBSUcsSUFBSSxHQUFHRixNQUFNLENBQUNHLE9BQVAsQ0FBZSxLQUFmLEVBQXNCLENBQXRCLENBQVg7QUFFQTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU0sVUFBSXZULElBQUksR0FBRyxJQUFJd1QsbURBQUosQ0FBY0YsSUFBZCxFQUFvQjtBQUM3Qkcsa0JBQVUsRUFBRSxDQUFDLEdBQUQsRUFBTSxHQUFOLEVBQVcsR0FBWCxFQUFnQixHQUFoQixDQURpQjtBQUNLO0FBQ2xDQyxjQUFNLEVBQUUsR0FGcUI7QUFFaEI7QUFDYjNRLFlBQUksRUFBRSxFQUh1QjtBQUduQjtBQUNWNFEsY0FBTSxFQUFFLEtBSnFCLENBSWY7O0FBSmUsT0FBcEIsRUFLUkMsUUFMUSxFQUFYO0FBT0EsVUFBSUMsSUFBSSxHQUFHLCtCQUErQjdULElBQTFDO0FBRUEsYUFBTzZULElBQVA7QUFDRCxLQXZCRCxNQXVCTztBQUNMLGFBQU8sRUFBUDtBQUNEO0FBQ0YsR0EzQkQ7QUE2QkE7QUFDRjtBQUNBO0FBQ0E7OztBQUNFLE1BQU1DLG9CQUFvQixHQUFHLElBQUlqViwrQ0FBSyxDQUFDQyxJQUFWLEVBQTdCOztBQUVBLE9BQUtpViw2QkFBTCxHQUFxQyxVQUFVL0ssUUFBVixFQUFvQmdMLFlBQXBCLEVBQWtDO0FBQ3JFLFFBQUluVSxLQUFLLEdBQUcsSUFBWjs7QUFDQSxRQUFJVCxHQUFHLEdBQUlTLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZStDLFFBQWYsQ0FBd0J0TixNQUF4QixLQUFtQyxDQUFwQyxHQUNSTixLQUFLLENBQUM2SyxRQUFOLENBQWU4RixHQUFmLENBQW1CTyxZQUFuQixDQUFnQ3BSLE9BQWhDLENBQXdDLFFBQXhDLEVBQWtERSxLQUFLLENBQUM2SyxRQUFOLENBQWU4QyxTQUFqRSxDQURRLEdBR1IzTixLQUFLLENBQUM2SyxRQUFOLENBQWU4RixHQUFmLENBQW1CZ0Isa0JBQW5CLENBQXNDN1IsT0FBdEMsQ0FBOEMsUUFBOUMsRUFBd0RFLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZThDLFNBQXZFLEVBQWtGN04sT0FBbEYsQ0FBMEYsS0FBMUYsRUFBaUdFLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZStDLFFBQWhILENBSEY7QUFLQSxRQUFJd0csT0FBTyxHQUFHLENBQ1osZ0JBRFksRUFFWixnQkFGWSxFQUdaLCtDQUhZLEVBSVgsV0FBV3BVLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZTRDLFFBSmYsQ0FBZDtBQU1BLFFBQUk0RyxpQkFBaUIsR0FBSSxPQUFPRixZQUFQLEtBQXdCLFdBQXhCLElBQXVDQSxZQUFZLEtBQUssSUFBekQsR0FBaUVBLFlBQWpFLEdBQWdGRixvQkFBeEc7O0FBRUEsUUFBSSxPQUFPalUsS0FBSyxDQUFDNkssUUFBTixDQUFlNkMsUUFBdEIsS0FBbUMsUUFBbkMsSUFBK0MxTixLQUFLLENBQUM2SyxRQUFOLENBQWU2QyxRQUFmLENBQXdCcE4sTUFBeEIsR0FBaUMsQ0FBcEYsRUFBdUY7QUFDckY4VCxhQUFPLENBQUNoUixJQUFSLENBQWEsYUFBYXBELEtBQUssQ0FBQzZLLFFBQU4sQ0FBZTZDLFFBQXpDO0FBQ0Q7O0FBRUQsUUFBSTFOLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZWlELE1BQWYsQ0FBc0J4TixNQUF0QixHQUErQixDQUEvQixJQUFvQ04sS0FBSyxDQUFDNkssUUFBTixDQUFla0QsaUJBQXZELEVBQTBFO0FBQ3hFcUcsYUFBTyxDQUFDaFIsSUFBUixDQUFhLG1DQUFtQ3BELEtBQUssQ0FBQzZLLFFBQU4sQ0FBZWlELE1BQS9EO0FBQ0Q7O0FBRUQsUUFBSTlOLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZWdELE1BQWYsQ0FBc0J2TixNQUF0QixHQUErQixDQUEvQixJQUFvQ04sS0FBSyxDQUFDNkssUUFBTixDQUFlK0MsUUFBZixDQUF3QnROLE1BQXhCLEtBQW1DLENBQTNFLEVBQThFO0FBQzVFOFQsYUFBTyxDQUFDaFIsSUFBUixDQUFhLDZCQUE2QnBELEtBQUssQ0FBQzZLLFFBQU4sQ0FBZWdELE1BQXpEO0FBQ0Q7O0FBRUR3RyxxQkFBaUIsQ0FBQ3RVLEtBQWxCLEdBQTBCRyxPQUExQixDQUFrQztBQUNoQ0UsVUFBSSxFQUFFLEtBRDBCO0FBRWhDYixTQUFHLEVBQUVTLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZThGLEdBQWYsQ0FBbUJDLGFBQW5CLEdBQW1DclIsR0FBbkMsR0FBeUMsR0FBekMsR0FBK0M2VSxPQUFPLENBQUNoQixJQUFSLENBQWEsR0FBYixDQUZwQjtBQUdoQzNTLGFBQU8sRUFBRTtBQUNQLHFCQUFhVCxLQUFLLENBQUM2SyxRQUFOLENBQWVtRDtBQURyQixPQUh1QjtBQU1oQ3pOLGFBQU8sRUFBRSxpQkFBVXdKLFFBQVYsRUFBb0J1SyxPQUFwQixFQUE2QnBWLEdBQTdCLEVBQWtDO0FBQ3pDLFlBQUlBLEdBQUcsQ0FBQzRCLE1BQUosS0FBZSxHQUFuQixFQUF3QjtBQUN0QixjQUFJeVQsSUFBSSxHQUFHcFQsSUFBSSxDQUFDZ0QsS0FBTCxDQUFXNEYsUUFBWCxDQUFYO0FBRUEvSixlQUFLLENBQUM2SyxRQUFOLENBQWUyRSxXQUFmLENBQTJCQyxpQkFBM0IsR0FBK0MsRUFBL0M7QUFDQXpQLGVBQUssQ0FBQzZLLFFBQU4sQ0FBZTJFLFdBQWYsQ0FBMkJFLGtCQUEzQixHQUFnRCxFQUFoRDtBQUVBOEUsMEVBQVMsQ0FBQ0QsSUFBSSxDQUFDcFUsSUFBTixFQUFZLFVBQVVzVSxJQUFWLEVBQWdCO0FBQ25DLGdCQUFJQSxJQUFJLENBQUNDLFVBQUwsS0FBb0IsQ0FBeEIsRUFBMkI7QUFDekIxVSxtQkFBSyxDQUFDNkssUUFBTixDQUFlMkUsV0FBZixDQUEyQkMsaUJBQTNCLENBQTZDck0sSUFBN0MsQ0FBa0RxUixJQUFsRDtBQUNELGFBRkQsTUFFTyxJQUFJQSxJQUFJLENBQUNDLFVBQUwsS0FBb0IsQ0FBeEIsRUFBMkI7QUFDaEMxVSxtQkFBSyxDQUFDNkssUUFBTixDQUFlMkUsV0FBZixDQUEyQkUsa0JBQTNCLENBQThDdE0sSUFBOUMsQ0FBbURxUixJQUFuRDtBQUNEO0FBQ0YsV0FOUSxDQUFUOztBQVFBelUsZUFBSyxDQUFDMlUsNEJBQU4sQ0FBbUN4TCxRQUFuQyxFQUE2Q2dMLFlBQTdDO0FBQ0QsU0FmRCxNQWVPO0FBQ0xuVSxlQUFLLENBQUNzQixHQUFOLENBQVUsMENBQTBDeUksUUFBcEQ7QUFDRDtBQUNGO0FBekIrQixLQUFsQztBQTJCRCxHQXRERDtBQXdEQTtBQUNGO0FBQ0E7QUFDQTs7O0FBQ0UsTUFBTTZLLDRCQUE0QixHQUFHLElBQUk1ViwrQ0FBSyxDQUFDQyxJQUFWLEVBQXJDOztBQUVBLE9BQUswViw0QkFBTCxHQUFvQyxVQUFVeEwsUUFBVixFQUFvQmdMLFlBQXBCLEVBQWtDO0FBQ3BFLFFBQUluVSxLQUFLLEdBQUcsSUFBWjs7QUFDQSxRQUFJVCxHQUFHLEdBQUlTLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZStDLFFBQWYsQ0FBd0J0TixNQUF4QixLQUFtQyxDQUFwQyxHQUNSTixLQUFLLENBQUM2SyxRQUFOLENBQWU4RixHQUFmLENBQW1CTyxZQUFuQixDQUFnQ3BSLE9BQWhDLENBQXdDLFFBQXhDLEVBQWtERSxLQUFLLENBQUM2SyxRQUFOLENBQWU4QyxTQUFqRSxDQURRLEdBR1IzTixLQUFLLENBQUM2SyxRQUFOLENBQWU4RixHQUFmLENBQW1CZ0Isa0JBQW5CLENBQXNDN1IsT0FBdEMsQ0FBOEMsUUFBOUMsRUFBd0RFLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZThDLFNBQXZFLEVBQWtGN04sT0FBbEYsQ0FBMEYsS0FBMUYsRUFBaUdFLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZStDLFFBQWhILENBSEY7QUFLQSxRQUFJd0csT0FBTyxHQUFHLENBQ1osY0FEWSxFQUVaLFdBRlksRUFHWiwrQ0FIWSxFQUlYLFdBQVdwVSxLQUFLLENBQUM2SyxRQUFOLENBQWU0QyxRQUpmLENBQWQ7QUFNQSxRQUFJNEcsaUJBQWlCLEdBQUksT0FBT0YsWUFBUCxLQUF3QixXQUF4QixJQUF1Q0EsWUFBWSxLQUFLLElBQXpELEdBQWlFQSxZQUFqRSxHQUFnRlMsNEJBQXhHOztBQUVBLFFBQUksT0FBTzVVLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZTZDLFFBQXRCLEtBQW1DLFFBQW5DLElBQStDMU4sS0FBSyxDQUFDNkssUUFBTixDQUFlNkMsUUFBZixDQUF3QnBOLE1BQXhCLEdBQWlDLENBQXBGLEVBQXVGO0FBQ3JGOFQsYUFBTyxDQUFDaFIsSUFBUixDQUFhLGFBQWFwRCxLQUFLLENBQUM2SyxRQUFOLENBQWU2QyxRQUF6QztBQUNEOztBQUVELFFBQUkxTixLQUFLLENBQUM2SyxRQUFOLENBQWVpRCxNQUFmLENBQXNCeE4sTUFBdEIsR0FBK0IsQ0FBL0IsSUFBb0NOLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZWtELGlCQUF2RCxFQUEwRTtBQUN4RXFHLGFBQU8sQ0FBQ2hSLElBQVIsQ0FBYSxtQ0FBbUNwRCxLQUFLLENBQUM2SyxRQUFOLENBQWVpRCxNQUEvRDtBQUNEOztBQUVELFFBQUk5TixLQUFLLENBQUM2SyxRQUFOLENBQWVnRCxNQUFmLENBQXNCdk4sTUFBdEIsR0FBK0IsQ0FBL0IsSUFBb0NOLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZStDLFFBQWYsQ0FBd0J0TixNQUF4QixLQUFtQyxDQUEzRSxFQUE4RTtBQUM1RThULGFBQU8sQ0FBQ2hSLElBQVIsQ0FBYSw2QkFBNkJwRCxLQUFLLENBQUM2SyxRQUFOLENBQWVnRCxNQUF6RDtBQUNEOztBQUVEd0cscUJBQWlCLENBQUN0VSxLQUFsQixHQUEwQkcsT0FBMUIsQ0FBa0M7QUFDaENFLFVBQUksRUFBRSxLQUQwQjtBQUVoQ2IsU0FBRyxFQUFFUyxLQUFLLENBQUM2SyxRQUFOLENBQWU4RixHQUFmLENBQW1CQyxhQUFuQixHQUFtQ3JSLEdBQW5DLEdBQXlDLEdBQXpDLEdBQStDNlUsT0FBTyxDQUFDaEIsSUFBUixDQUFhLEdBQWIsQ0FGcEI7QUFHaEMzUyxhQUFPLEVBQUU7QUFDUCxxQkFBYVQsS0FBSyxDQUFDNkssUUFBTixDQUFlbUQ7QUFEckIsT0FIdUI7QUFNaEN6TixhQUFPLEVBQUUsaUJBQVV3SixRQUFWLEVBQW9CdUssT0FBcEIsRUFBNkJwVixHQUE3QixFQUFrQztBQUN6QyxZQUFJQSxHQUFHLENBQUM0QixNQUFKLEtBQWUsR0FBbkIsRUFBd0I7QUFDdEIsY0FBSXlULElBQUksR0FBR3BULElBQUksQ0FBQ2dELEtBQUwsQ0FBVzRGLFFBQVgsQ0FBWDtBQUVBL0osZUFBSyxDQUFDNkssUUFBTixDQUFlMkUsV0FBZixDQUEyQkcsb0JBQTNCLEdBQWtELEVBQWxEO0FBRUE2RSwwRUFBUyxDQUFDRCxJQUFJLENBQUNwVSxJQUFOLEVBQVksVUFBVXNVLElBQVYsRUFBZ0I7QUFDbkMsZ0JBQUlBLElBQUksQ0FBQ0MsVUFBTCxLQUFvQixDQUF4QixFQUEyQjtBQUN6QjFVLG1CQUFLLENBQUM2SyxRQUFOLENBQWUyRSxXQUFmLENBQTJCRyxvQkFBM0IsQ0FBZ0R2TSxJQUFoRCxDQUFxRHFSLElBQXJEO0FBQ0Q7QUFDRixXQUpRLENBQVQ7O0FBTUEsY0FBSSxPQUFPdEwsUUFBUCxLQUFvQixVQUF4QixFQUFvQztBQUNsQ0Esb0JBQVE7QUFDVDtBQUNGLFNBZEQsTUFjTztBQUNMbkosZUFBSyxDQUFDc0IsR0FBTixDQUFVLDBDQUEwQ3lJLFFBQXBEO0FBQ0Q7QUFDRjtBQXhCK0IsS0FBbEM7QUEwQkQsR0FyREQ7O0FBdURBLE9BQUs4Syx3QkFBTCxHQUFnQyxVQUFVMUwsUUFBVixFQUFvQjtBQUNsRCxRQUFJbkosS0FBSyxHQUFHLElBQVo7O0FBQ0EsUUFBSXFPLGlCQUFpQixHQUFHLElBQXhCO0FBQ0EsUUFBSUYsbUJBQW1CLEdBQUcsSUFBMUI7O0FBRUEsUUFBSW5PLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZTJFLFdBQWYsQ0FBMkJyQixtQkFBM0IsS0FBbUQsSUFBdkQsRUFBNkQ7QUFDM0RxRyxzRUFBUyxDQUFDeFUsS0FBSyxDQUFDNkssUUFBTixDQUFlMkUsV0FBZixDQUEyQkUsa0JBQTVCLEVBQWdELFVBQVUrRSxJQUFWLEVBQWdCO0FBQ3ZFLFlBQUlBLElBQUksQ0FBQ0ssRUFBTCxLQUFZOVUsS0FBSyxDQUFDNkssUUFBTixDQUFlMkUsV0FBZixDQUEyQnJCLG1CQUEzQyxFQUFnRTtBQUM5REUsMkJBQWlCLEdBQUdvRyxJQUFwQjtBQUNEO0FBQ0YsT0FKUSxDQUFUO0FBS0FELHNFQUFTLENBQUN4VSxLQUFLLENBQUM2SyxRQUFOLENBQWUyRSxXQUFmLENBQTJCQyxpQkFBNUIsRUFBK0MsVUFBVWdGLElBQVYsRUFBZ0I7QUFDdEUsWUFBSUEsSUFBSSxDQUFDSyxFQUFMLEtBQVk5VSxLQUFLLENBQUM2SyxRQUFOLENBQWUyRSxXQUFmLENBQTJCckIsbUJBQTNDLEVBQWdFO0FBQzlERSwyQkFBaUIsR0FBR29HLElBQXBCO0FBQ0Q7QUFDRixPQUpRLENBQVQ7QUFLQUQsc0VBQVMsQ0FBQ3hVLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZTJFLFdBQWYsQ0FBMkJHLG9CQUE1QixFQUFrRCxVQUFVOEUsSUFBVixFQUFnQjtBQUN6RSxZQUFJQSxJQUFJLENBQUNLLEVBQUwsS0FBWTlVLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZTJFLFdBQWYsQ0FBMkJyQixtQkFBM0MsRUFBZ0U7QUFDOURFLDJCQUFpQixHQUFHb0csSUFBcEI7QUFDRDtBQUNGLE9BSlEsQ0FBVDs7QUFNQSxVQUFJcEcsaUJBQWlCLEtBQUssSUFBMUIsRUFBZ0M7QUFDOUJGLDJCQUFtQixHQUFHbk8sS0FBSyxDQUFDNkssUUFBTixDQUFlMkUsV0FBZixDQUEyQnJCLG1CQUFqRDtBQUNELE9BRkQsTUFFTztBQUNMbk8sYUFBSyxDQUFDNkssUUFBTixDQUFlMkUsV0FBZixDQUEyQnJCLG1CQUEzQixHQUFpRCxJQUFqRDtBQUNEO0FBQ0Y7O0FBRUQsUUFBSUUsaUJBQWlCLEtBQUssSUFBdEIsSUFBOEJyTyxLQUFLLENBQUM2SyxRQUFOLENBQWUyRSxXQUFmLENBQTJCRSxrQkFBM0IsQ0FBOENwUCxNQUE5QyxHQUF1RCxDQUF6RixFQUE0RjtBQUMxRitOLHVCQUFpQixHQUFHck8sS0FBSyxDQUFDNkssUUFBTixDQUFlMkUsV0FBZixDQUEyQkUsa0JBQTNCLENBQThDLENBQTlDLENBQXBCO0FBQ0F2Qix5QkFBbUIsR0FBR0UsaUJBQWlCLENBQUN5RyxFQUF4QztBQUNELEtBSEQsTUFHTyxJQUFJekcsaUJBQWlCLEtBQUssSUFBdEIsSUFBOEJyTyxLQUFLLENBQUM2SyxRQUFOLENBQWUyRSxXQUFmLENBQTJCQyxpQkFBM0IsQ0FBNkNuUCxNQUE3QyxHQUFzRCxDQUF4RixFQUEyRjtBQUNoRytOLHVCQUFpQixHQUFHck8sS0FBSyxDQUFDNkssUUFBTixDQUFlMkUsV0FBZixDQUEyQkMsaUJBQTNCLENBQTZDLENBQTdDLENBQXBCO0FBQ0F0Qix5QkFBbUIsR0FBR0UsaUJBQWlCLENBQUN5RyxFQUF4QztBQUNEOztBQUVELFFBQUkzRyxtQkFBbUIsS0FBSyxJQUE1QixFQUFrQztBQUFFO0FBQ2xDbk8sV0FBSyxDQUFDK1UscUNBQU47QUFDRCxLQUZELE1BRU87QUFDTCxVQUFJL1UsS0FBSyxDQUFDNkssUUFBTixDQUFlcUQsV0FBZixDQUEyQkMsbUJBQTNCLEtBQW1EQSxtQkFBbkQsSUFBMEVBLG1CQUFtQixLQUFLLElBQXRHLEVBQTRHO0FBQzFHbk8sYUFBSyxDQUFDNkssUUFBTixDQUFlcUQsV0FBZixDQUEyQkcsaUJBQTNCLEdBQStDQSxpQkFBL0M7QUFDQXJPLGFBQUssQ0FBQzZLLFFBQU4sQ0FBZXFELFdBQWYsQ0FBMkJDLG1CQUEzQixHQUFpREEsbUJBQWpEO0FBQ0Q7O0FBRUQsVUFBSUEsbUJBQW1CLEtBQUssSUFBNUIsRUFBa0M7QUFDaENuTyxhQUFLLENBQUNnVixxQkFBTixDQUE0QixVQUFVVCxJQUFWLEVBQWdCO0FBQzFDdlUsZUFBSyxDQUFDaVYsb0JBQU4sQ0FBMkJWLElBQTNCLEVBQWlDcEwsUUFBakM7QUFDRCxTQUZEO0FBR0QsT0FKRCxNQUlPLElBQUksT0FBT0EsUUFBUCxLQUFvQixVQUF4QixFQUFvQztBQUN6Q0EsZ0JBQVE7QUFDVDtBQUNGO0FBQ0YsR0FyREQ7O0FBdURBLE9BQUs2TCxxQkFBTCxHQUE2QixVQUFVN0wsUUFBVixFQUFvQjtBQUMvQyxRQUFJbkosS0FBSyxHQUFHLElBQVo7O0FBQ0EsUUFBSVQsR0FBRyxHQUFJUyxLQUFLLENBQUM2SyxRQUFOLENBQWUrQyxRQUFmLENBQXdCdE4sTUFBeEIsS0FBbUMsQ0FBcEMsR0FDUk4sS0FBSyxDQUFDNkssUUFBTixDQUFlOEYsR0FBZixDQUFtQlEsZUFBbkIsQ0FBbUNyUixPQUFuQyxDQUEyQyxRQUEzQyxFQUFxREUsS0FBSyxDQUFDNkssUUFBTixDQUFlOEMsU0FBcEUsRUFBK0U3TixPQUEvRSxDQUF1RixLQUF2RixFQUE4RkUsS0FBSyxDQUFDNkssUUFBTixDQUFlcUQsV0FBZixDQUEyQkMsbUJBQXpILENBRFEsR0FHUm5PLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZThGLEdBQWYsQ0FBbUJpQixxQkFBbkIsQ0FBeUM5UixPQUF6QyxDQUFpRCxRQUFqRCxFQUEyREUsS0FBSyxDQUFDNkssUUFBTixDQUFlOEMsU0FBMUUsRUFBcUY3TixPQUFyRixDQUE2RixLQUE3RixFQUFvR0UsS0FBSyxDQUFDNkssUUFBTixDQUFlK0MsUUFBbkgsRUFBNkg5TixPQUE3SCxDQUFxSSxnQkFBckksRUFBdUpFLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXFELFdBQWYsQ0FBMkJDLG1CQUFsTCxDQUhGO0FBS0EsUUFBSWlHLE9BQU8sR0FBRyxDQUNYLG1CQURXLEVBRVgsV0FBV3BVLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZTRDLFFBRmYsQ0FBZDs7QUFLQSxRQUFJLE9BQU96TixLQUFLLENBQUM2SyxRQUFOLENBQWU2QyxRQUF0QixLQUFtQyxRQUFuQyxJQUErQzFOLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZTZDLFFBQWYsQ0FBd0JwTixNQUF4QixHQUFpQyxDQUFwRixFQUF1RjtBQUNyRjhULGFBQU8sQ0FBQ2hSLElBQVIsQ0FBYSxhQUFhcEQsS0FBSyxDQUFDNkssUUFBTixDQUFlNkMsUUFBekM7QUFDRDs7QUFFRDFOLFNBQUssQ0FBQzZLLFFBQU4sQ0FBZTBDLFVBQWYsQ0FBMEJ4TixLQUExQixHQUFrQ0csT0FBbEMsQ0FBMEM7QUFDeENFLFVBQUksRUFBRSxLQURrQztBQUV4Q2IsU0FBRyxFQUFFUyxLQUFLLENBQUM2SyxRQUFOLENBQWU4RixHQUFmLENBQW1CQyxhQUFuQixHQUFtQ3JSLEdBQW5DLEdBQXlDLEdBQXpDLEdBQStDNlUsT0FBTyxDQUFDaEIsSUFBUixDQUFhLEdBQWIsQ0FGWjtBQUd4QzNTLGFBQU8sRUFBRTtBQUNQLHFCQUFhVCxLQUFLLENBQUM2SyxRQUFOLENBQWVtRDtBQURyQixPQUgrQjtBQU14Q3pOLGFBQU8sRUFBRSxpQkFBVXdKLFFBQVYsRUFBb0J1SyxPQUFwQixFQUE2QnBWLEdBQTdCLEVBQWtDO0FBQ3pDLFlBQUlBLEdBQUcsQ0FBQzRCLE1BQUosS0FBZSxHQUFuQixFQUF3QjtBQUN0QixjQUFJeVQsSUFBSSxHQUFHcFQsSUFBSSxDQUFDZ0QsS0FBTCxDQUFXNEYsUUFBWCxDQUFYOztBQUVBLGNBQUksT0FBT1osUUFBUCxLQUFvQixVQUF4QixFQUFvQztBQUNsQ0Esb0JBQVEsQ0FBQ29MLElBQUQsQ0FBUjtBQUNEO0FBQ0YsU0FORCxNQU1PO0FBQ0x2VSxlQUFLLENBQUNzQixHQUFOLENBQVUscUNBQXFDeUksUUFBL0M7QUFDRDtBQUNGO0FBaEJ1QyxLQUExQztBQWtCRCxHQWxDRDs7QUFvQ0EsT0FBS2tMLG9CQUFMLEdBQTRCLFVBQVVWLElBQVYsRUFBZ0JwTCxRQUFoQixFQUEwQjtBQUNwRCxRQUFJbkosS0FBSyxHQUFHLElBQVo7O0FBRUFBLFNBQUssQ0FBQzZLLFFBQU4sQ0FBZXFELFdBQWYsQ0FBMkJHLGlCQUEzQixHQUErQ2tHLElBQUksQ0FBQ3BVLElBQXBEO0FBQ0FILFNBQUssQ0FBQzZLLFFBQU4sQ0FBZXFELFdBQWYsQ0FBMkJJLGFBQTNCLEdBQTJDLElBQTNDO0FBQ0F0TyxTQUFLLENBQUM2SyxRQUFOLENBQWVxRCxXQUFmLENBQTJCRSxlQUEzQixHQUE2QyxJQUE3Qzs7QUFFQSxRQUFJLE9BQU9tRyxJQUFJLENBQUNwVSxJQUFMLENBQVUrVSxRQUFqQixLQUE4QixXQUE5QixJQUE2Q1gsSUFBSSxDQUFDcFUsSUFBTCxDQUFVK1UsUUFBVixDQUFtQjVVLE1BQW5CLEdBQTRCLENBQTdFLEVBQWdGO0FBQzlFa1Usc0VBQVMsQ0FBQ0QsSUFBSSxDQUFDcFUsSUFBTCxDQUFVK1UsUUFBWCxFQUFxQixVQUFVQyxPQUFWLEVBQW1CO0FBQy9DLFlBQUlBLE9BQU8sQ0FBQ1QsVUFBUixHQUFxQixDQUFyQixJQUEwQjFVLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXFELFdBQWYsQ0FBMkJJLGFBQTNCLEtBQTZDLElBQTNFLEVBQWlGO0FBQy9FdE8sZUFBSyxDQUFDNkssUUFBTixDQUFlcUQsV0FBZixDQUEyQkksYUFBM0IsR0FBMkM2RyxPQUEzQztBQUNBblYsZUFBSyxDQUFDNkssUUFBTixDQUFlcUQsV0FBZixDQUEyQkUsZUFBM0IsR0FBNkMrRyxPQUFPLENBQUNMLEVBQXJEOztBQUVBLGNBQUksT0FBTzlVLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXFELFdBQWYsQ0FBMkJJLGFBQTNCLENBQXlDUyxPQUFoRCxLQUE0RCxXQUFoRSxFQUE2RTtBQUMzRS9PLGlCQUFLLENBQUM2SyxRQUFOLENBQWVxRCxXQUFmLENBQTJCSSxhQUEzQixDQUF5Q1MsT0FBekMsR0FBbUQsRUFBbkQ7QUFDRDs7QUFFRCxjQUFJQSxPQUFPLEdBQUcsRUFBZDtBQUNBeUYsMEVBQVMsQ0FBQ3hVLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXFELFdBQWYsQ0FBMkJJLGFBQTNCLENBQXlDUyxPQUExQyxFQUFtRCxVQUFVRyxNQUFWLEVBQWtCO0FBQzVFLGdCQUFJLE9BQU9BLE1BQU0sQ0FBQ2tHLFVBQWQsS0FBNkIsUUFBakMsRUFBMkM7QUFDekMsa0JBQUlDLFNBQVMsR0FBR25HLE1BQU0sQ0FBQ2tHLFVBQVAsQ0FBa0JFLEtBQWxCLENBQXdCLEdBQXhCLENBQWhCO0FBQ0Esa0JBQUlGLFVBQVUsR0FBRyxFQUFqQjtBQUVBWiw4RUFBUyxDQUFDYSxTQUFELEVBQVksVUFBVUUsSUFBVixFQUFnQjtBQUNuQyxvQkFBSUMscUVBQWMsQ0FBQ0QsSUFBRCxFQUFPLEdBQVAsQ0FBbEIsRUFBK0I7QUFDN0Isc0JBQUlFLFNBQVMsR0FBR0YsSUFBSSxDQUFDRCxLQUFMLENBQVcsR0FBWCxDQUFoQjtBQUNBLHNCQUFJSSxTQUFTLEdBQUdDLFFBQVEsQ0FBQ0YsU0FBUyxDQUFDLENBQUQsQ0FBVixDQUF4QjtBQUNBLHNCQUFJRyxRQUFRLEdBQUdELFFBQVEsQ0FBQ0YsU0FBUyxDQUFDLENBQUQsQ0FBVixDQUF2Qjs7QUFDQSx1QkFBSyxJQUFJbFMsQ0FBQyxHQUFHbVMsU0FBYixFQUF3Qm5TLENBQUMsSUFBSXFTLFFBQTdCLEVBQXVDclMsQ0FBQyxFQUF4QyxFQUE0QztBQUMxQzZSLDhCQUFVLENBQUNoUyxJQUFYLENBQWdCRyxDQUFoQjtBQUNEO0FBQ0YsaUJBUEQsTUFPTztBQUNMNlIsNEJBQVUsQ0FBQ2hTLElBQVgsQ0FBZ0J1UyxRQUFRLENBQUNKLElBQUQsQ0FBeEI7QUFDRDtBQUNGLGVBWFEsQ0FBVDtBQWFBckcsb0JBQU0sQ0FBQ2tHLFVBQVAsR0FBb0JBLFVBQXBCO0FBQ0Q7O0FBRURyRyxtQkFBTyxDQUFDM0wsSUFBUixDQUFhOEwsTUFBYjtBQUNELFdBdEJRLENBQVQ7QUF3QkFsUCxlQUFLLENBQUM2SyxRQUFOLENBQWVxRCxXQUFmLENBQTJCSSxhQUEzQixDQUF5Q1MsT0FBekMsR0FBbURBLE9BQW5EO0FBQ0Q7QUFDRixPQXBDUSxDQUFUO0FBcUNEOztBQUVELFFBQUksT0FBTzVGLFFBQVAsS0FBb0IsVUFBeEIsRUFBb0M7QUFDbENBLGNBQVE7QUFDVDtBQUNGLEdBbEREOztBQW9EQSxPQUFLME0sa0JBQUwsR0FBMEIsVUFBVWhULEtBQVYsRUFBaUJzRyxRQUFqQixFQUEyQjtBQUNuRCxRQUFJLEtBQUswQixRQUFMLENBQWNxRCxXQUFkLENBQTBCRSxlQUExQixLQUE4QyxJQUFsRCxFQUF3RDtBQUN0RCxVQUFJcE8sS0FBSyxHQUFHLElBQVo7O0FBQ0EsVUFBSVQsR0FBRyxHQUFHUyxLQUFLLENBQUM2SyxRQUFOLENBQWU4RixHQUFmLENBQW1CUyxrQkFBbkIsQ0FBc0N0UixPQUF0QyxDQUE4QyxRQUE5QyxFQUF3REUsS0FBSyxDQUFDNkssUUFBTixDQUFlOEMsU0FBdkUsRUFBa0Y3TixPQUFsRixDQUEwRixLQUExRixFQUFpR0UsS0FBSyxDQUFDNkssUUFBTixDQUFlcUQsV0FBZixDQUEyQkUsZUFBNUgsQ0FBVjs7QUFDQSxVQUFJZ0csT0FBTyxHQUFHLENBQ1osWUFBWXZSLEtBREEsRUFFWixZQUZZLENBQWQ7O0FBS0EsVUFBSSxPQUFPN0MsS0FBSyxDQUFDNkssUUFBTixDQUFlK0MsUUFBdEIsS0FBbUMsUUFBbkMsSUFBK0M1TixLQUFLLENBQUM2SyxRQUFOLENBQWUrQyxRQUFmLENBQXdCdE4sTUFBeEIsR0FBaUMsQ0FBcEYsRUFBdUY7QUFDckY4VCxlQUFPLENBQUNoUixJQUFSLENBQWEsY0FBY3BELEtBQUssQ0FBQzZLLFFBQU4sQ0FBZStDLFFBQTFDO0FBQ0Q7O0FBRUQ1TixXQUFLLENBQUM2SyxRQUFOLENBQWUwQyxVQUFmLENBQTBCeE4sS0FBMUIsR0FBa0NHLE9BQWxDLENBQTBDO0FBQ3hDRSxZQUFJLEVBQUUsS0FEa0M7QUFFeENiLFdBQUcsRUFBRVMsS0FBSyxDQUFDNkssUUFBTixDQUFlOEYsR0FBZixDQUFtQkMsYUFBbkIsR0FBbUNyUixHQUFuQyxHQUF5QyxHQUF6QyxHQUErQzZVLE9BQU8sQ0FBQ2hCLElBQVIsQ0FBYSxHQUFiLENBRlo7QUFHeEMzUyxlQUFPLEVBQUU7QUFDUCx1QkFBYVQsS0FBSyxDQUFDNkssUUFBTixDQUFlbUQ7QUFEckIsU0FIK0I7QUFNeEN6TixlQUFPLEVBQUUsaUJBQVV3SixRQUFWLEVBQW9CdUssT0FBcEIsRUFBNkJwVixHQUE3QixFQUFrQztBQUN6QyxjQUFJQSxHQUFHLENBQUM0QixNQUFKLEtBQWUsR0FBbkIsRUFBd0I7QUFDdEIsZ0JBQUl5VCxJQUFJLEdBQUdwVCxJQUFJLENBQUNnRCxLQUFMLENBQVc0RixRQUFYLENBQVgsQ0FEc0IsQ0FHdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQS9KLGlCQUFLLENBQUM2SyxRQUFOLENBQWUrRSxXQUFmLENBQTJCRyxlQUEzQixHQUE2Q3dFLElBQUksQ0FBQ3BVLElBQWxEO0FBRUFnSixvQkFBUSxDQUFDb0wsSUFBSSxDQUFDcFUsSUFBTixDQUFSO0FBQ0QsV0FyQkQsTUFxQk87QUFDTEgsaUJBQUssQ0FBQ3NCLEdBQU4sQ0FBVSxrQ0FBa0N5SSxRQUE1QztBQUNEO0FBQ0Y7QUEvQnVDLE9BQTFDO0FBaUNELEtBN0NELE1BNkNPO0FBQ0xaLGNBQVE7QUFDVDtBQUNGLEdBakREOztBQW1EQSxPQUFLMk0saUNBQUwsR0FBeUMsWUFBWTtBQUNuRCxRQUFJOVYsS0FBSyxHQUFHLElBQVo7O0FBRUFsQixXQUFPLENBQUN3QyxHQUFSLENBQVksSUFBWixFQUFrQnRCLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZTJFLFdBQWYsQ0FBMkJDLGlCQUEzQixDQUE2Q25QLE1BQS9ELEVBQXVFTixLQUFLLENBQUM2SyxRQUFOLENBQWUyRSxXQUFmLENBQTJCRSxrQkFBM0IsQ0FBOENwUCxNQUFySDs7QUFDQSxRQUFJTixLQUFLLENBQUM2SyxRQUFOLENBQWV5QyxVQUFmLENBQTBCekMsUUFBMUIsQ0FBbUN1RixVQUFuQyxLQUFrRCxJQUF0RCxFQUE0RDtBQUMxRCxVQUFJMkYsYUFBYSxHQUFHdkosNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXlDLFVBQWYsQ0FBMEJ6QyxRQUExQixDQUFtQ3VGLFVBQXBDLEVBQWdELE1BQU1wUSxLQUFLLENBQUM2SyxRQUFOLENBQWV1RixVQUFmLENBQTBCWixXQUExQixDQUFzQ2MsZUFBNUMsR0FBOEQsaUNBQTlHLENBQXpCO0FBQ0F5RixtQkFBYSxDQUFDQyxTQUFkLEdBQTBCaFcsS0FBSyxDQUFDNkssUUFBTixDQUFlMkUsV0FBZixDQUEyQkUsa0JBQTNCLENBQThDcFAsTUFBeEU7QUFDRDtBQUNGLEdBUkQ7O0FBVUEsT0FBSzJWLGlDQUFMLEdBQXlDLFlBQVk7QUFDbkQsUUFBSWpXLEtBQUssR0FBRyxJQUFaOztBQUVBbEIsV0FBTyxDQUFDd0MsR0FBUixDQUFZLEtBQVosRUFBbUJ0QixLQUFLLENBQUM2SyxRQUFOLENBQWU2RCxZQUFmLENBQTRCRSxVQUEvQzs7QUFDQSxRQUFJNU8sS0FBSyxDQUFDNkssUUFBTixDQUFleUMsVUFBZixDQUEwQnpDLFFBQTFCLENBQW1DdUYsVUFBbkMsS0FBa0QsSUFBdEQsRUFBNEQ7QUFDMUQsVUFBSTJGLGFBQWEsR0FBR3ZKLDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWV5QyxVQUFmLENBQTBCekMsUUFBMUIsQ0FBbUN1RixVQUFwQyxFQUFnRCxNQUFNcFEsS0FBSyxDQUFDNkssUUFBTixDQUFldUYsVUFBZixDQUEwQjFCLFlBQTFCLENBQXVDNEIsZUFBN0MsR0FBK0QsaUNBQS9HLENBQXpCO0FBQ0F5RixtQkFBYSxDQUFDQyxTQUFkLEdBQTBCaFcsS0FBSyxDQUFDNkssUUFBTixDQUFlNkQsWUFBZixDQUE0QkUsVUFBdEQ7QUFDRDtBQUNGLEdBUkQ7O0FBVUEsT0FBS3NILDZCQUFMLEdBQXFDLFlBQVk7QUFDL0MsUUFBSWxXLEtBQUssR0FBRyxJQUFaOztBQUVBbEIsV0FBTyxDQUFDd0MsR0FBUixDQUFZLEtBQVosRUFBbUJ0QixLQUFLLENBQUM2SyxRQUFOLENBQWVrRSxPQUFmLENBQXVCRCxnQkFBdkIsQ0FBd0N4TyxNQUEzRDs7QUFDQSxRQUFJTixLQUFLLENBQUM2SyxRQUFOLENBQWV5QyxVQUFmLENBQTBCekMsUUFBMUIsQ0FBbUN1RixVQUFuQyxLQUFrRCxJQUF0RCxFQUE0RDtBQUMxRCxVQUFJMkYsYUFBYSxHQUFHdkosNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXlDLFVBQWYsQ0FBMEJ6QyxRQUExQixDQUFtQ3VGLFVBQXBDLEVBQWdELE1BQU1wUSxLQUFLLENBQUM2SyxRQUFOLENBQWV1RixVQUFmLENBQTBCckIsT0FBMUIsQ0FBa0N1QixlQUF4QyxHQUEwRCxpQ0FBMUcsQ0FBekI7QUFDQXlGLG1CQUFhLENBQUNDLFNBQWQsR0FBMEJoVyxLQUFLLENBQUM2SyxRQUFOLENBQWVrRSxPQUFmLENBQXVCRCxnQkFBdkIsQ0FBd0N4TyxNQUFsRTtBQUNEO0FBQ0YsR0FSRDs7QUFVQSxPQUFLNlYsOEJBQUwsR0FBc0MsWUFBWTtBQUNoRCxRQUFJblcsS0FBSyxHQUFHLElBQVo7O0FBRUFsQixXQUFPLENBQUN3QyxHQUFSLENBQVksS0FBWixFQUFtQnRCLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZTBFLFFBQWYsQ0FBd0JBLFFBQXhCLENBQWlDalAsTUFBcEQ7O0FBQ0EsUUFBSU4sS0FBSyxDQUFDNkssUUFBTixDQUFleUMsVUFBZixDQUEwQnpDLFFBQTFCLENBQW1DdUYsVUFBbkMsS0FBa0QsSUFBdEQsRUFBNEQ7QUFDMUQsVUFBSTJGLGFBQWEsR0FBR3ZKLDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWV5QyxVQUFmLENBQTBCekMsUUFBMUIsQ0FBbUN1RixVQUFwQyxFQUFnRCxNQUFNcFEsS0FBSyxDQUFDNkssUUFBTixDQUFldUYsVUFBZixDQUEwQk0sS0FBMUIsQ0FBZ0NKLGVBQXRDLEdBQXdELGlDQUF4RyxDQUF6QjtBQUNBeUYsbUJBQWEsQ0FBQ0MsU0FBZCxHQUEwQmhXLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZTBFLFFBQWYsQ0FBd0JBLFFBQXhCLENBQWlDalAsTUFBM0Q7QUFDRDtBQUNGLEdBUkQ7O0FBVUEsTUFBSThWLHFCQUFxQixHQUFHLElBQUlwWCwrQ0FBSyxDQUFDQyxJQUFWLEVBQTVCOztBQUNBLE9BQUtvWCw2QkFBTCxHQUFxQyxVQUFVbE4sUUFBVixFQUFvQjtBQUN2RCxRQUFJbkosS0FBSyxHQUFHLElBQVo7O0FBQ0EsUUFBSVQsR0FBRyxHQUFHUyxLQUFLLENBQUM2SyxRQUFOLENBQWU4RixHQUFmLENBQW1CakMsWUFBbkIsQ0FBZ0M1TyxPQUFoQyxDQUF3QyxRQUF4QyxFQUFrREUsS0FBSyxDQUFDNkssUUFBTixDQUFlOEMsU0FBakUsRUFBNEU3TixPQUE1RSxDQUFvRixLQUFwRixFQUEyRkUsS0FBSyxDQUFDNkssUUFBTixDQUFlK0MsUUFBMUcsQ0FBVjs7QUFDQSxRQUFJMEksSUFBSSxHQUFHLElBQUloTixJQUFKLEVBQVg7QUFDQSxRQUFJaU4saUJBQWlCLEdBQUdELElBQUksQ0FBQ0UsV0FBTCxFQUF4QjtBQUNBLFFBQUlwQyxPQUFPLEdBQUcsQ0FDWixZQUFZcFUsS0FBSyxDQUFDNkssUUFBTixDQUFlNkQsWUFBZixDQUE0QkMsS0FENUIsRUFFWixrQkFGWSxFQUdaLG9CQUFvQjRILGlCQUhSLEVBSVgsV0FBV3ZXLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZTRDLFFBSmYsQ0FBZDtBQU1BLFFBQUlnSixVQUFVLEdBQUcsS0FBakI7O0FBRUEsUUFBSSxPQUFPelcsS0FBSyxDQUFDNkssUUFBTixDQUFlNkMsUUFBdEIsS0FBbUMsUUFBbkMsSUFBK0MxTixLQUFLLENBQUM2SyxRQUFOLENBQWU2QyxRQUFmLENBQXdCcE4sTUFBeEIsR0FBaUMsQ0FBcEYsRUFBdUY7QUFDckY4VCxhQUFPLENBQUNoUixJQUFSLENBQWEsYUFBYXBELEtBQUssQ0FBQzZLLFFBQU4sQ0FBZTZDLFFBQXpDO0FBQ0Q7O0FBRUQsUUFBSSxPQUFPMU4sS0FBSyxDQUFDNkssUUFBTixDQUFlb0QsTUFBZixDQUFzQkosTUFBN0IsS0FBd0MsV0FBeEMsSUFBdUQ3TixLQUFLLENBQUM2SyxRQUFOLENBQWVvRCxNQUFmLENBQXNCSixNQUF0QixDQUE2QnZOLE1BQTdCLEdBQXNDLENBQWpHLEVBQW9HO0FBQ2xHbVcsZ0JBQVUsR0FBRyxJQUFiO0FBQ0FyQyxhQUFPLENBQUNoUixJQUFSLENBQWEsa0JBQWtCcEQsS0FBSyxDQUFDNkssUUFBTixDQUFlb0QsTUFBZixDQUFzQkosTUFBdEIsQ0FBNkJ1RixJQUE3QixDQUFrQyxHQUFsQyxDQUEvQjtBQUNEOztBQUVEZ0QseUJBQXFCLENBQUNyVyxLQUF0QixHQUE4QkcsT0FBOUIsQ0FBc0M7QUFDcENFLFVBQUksRUFBRSxLQUQ4QjtBQUVwQ2IsU0FBRyxFQUFFUyxLQUFLLENBQUM2SyxRQUFOLENBQWU4RixHQUFmLENBQW1CQyxhQUFuQixHQUFtQ3JSLEdBQW5DLEdBQXlDLFNBQXpDLEdBQXFEUyxLQUFLLENBQUM2SyxRQUFOLENBQWU0QyxRQUFwRSxHQUErRSxrQkFBL0UsR0FBb0c4SSxpQkFBcEcsR0FBd0gsV0FBeEgsR0FBc0l2VyxLQUFLLENBQUM2SyxRQUFOLENBQWU2QyxRQUZ0SDtBQUdwQ2pOLGFBQU8sRUFBRTtBQUNQLHFCQUFhVCxLQUFLLENBQUM2SyxRQUFOLENBQWVtRDtBQURyQixPQUgyQjtBQU1wQ3pOLGFBQU8sRUFBRSxpQkFBVXdKLFFBQVYsRUFBb0J1SyxPQUFwQixFQUE2QnBWLEdBQTdCLEVBQWtDO0FBQ3pDLFlBQUlBLEdBQUcsQ0FBQzRCLE1BQUosS0FBZSxHQUFuQixFQUF3QjtBQUN0QixjQUFJNFYsVUFBVSxHQUFHdlYsSUFBSSxDQUFDZ0QsS0FBTCxDQUFXNEYsUUFBWCxDQUFqQjtBQUVBL0osZUFBSyxDQUFDNkssUUFBTixDQUFlNkQsWUFBZixDQUE0QkUsVUFBNUIsR0FBeUMrRyxRQUFRLENBQUNlLFVBQVUsQ0FBQ0MsSUFBWCxDQUFnQkMsaUJBQWpCLENBQWpEO0FBQ0E1VyxlQUFLLENBQUM2SyxRQUFOLENBQWU2RCxZQUFmLENBQTRCRyxJQUE1QixHQUFtQyxFQUFuQztBQUVBMkYsMEVBQVMsQ0FBQ2tDLFVBQVUsQ0FBQ3ZXLElBQVosRUFBa0IsVUFBVTBXLEdBQVYsRUFBZTtBQUN4QzdXLGlCQUFLLENBQUM2SyxRQUFOLENBQWU2RCxZQUFmLENBQTRCRyxJQUE1QixDQUFpQ3pMLElBQWpDLENBQXNDeVQsR0FBdEM7QUFDRCxXQUZRLENBQVQ7O0FBSUEsY0FBSUosVUFBSixFQUFnQjtBQUNkTCxpQ0FBcUIsQ0FBQ3JXLEtBQXRCLEdBQThCRyxPQUE5QixDQUFzQztBQUNwQ0Usa0JBQUksRUFBRSxLQUQ4QjtBQUVwQ2IsaUJBQUcsRUFBRVMsS0FBSyxDQUFDNkssUUFBTixDQUFlOEYsR0FBZixDQUFtQkMsYUFBbkIsR0FBbUNyUixHQUFuQyxHQUF5QyxHQUF6QyxHQUErQzZVLE9BQU8sQ0FBQ2hCLElBQVIsQ0FBYSxHQUFiLENBRmhCO0FBR3BDM1MscUJBQU8sRUFBRTtBQUNQLDZCQUFhVCxLQUFLLENBQUM2SyxRQUFOLENBQWVtRDtBQURyQixlQUgyQjtBQU1wQ3pOLHFCQUFPLEVBQUUsaUJBQVV3SixRQUFWLEVBQW9CdUssT0FBcEIsRUFBNkJwVixHQUE3QixFQUFrQztBQUN6QyxvQkFBSUEsR0FBRyxDQUFDNEIsTUFBSixLQUFlLEdBQW5CLEVBQXdCO0FBQ3RCLHNCQUFJeVQsSUFBSSxHQUFHcFQsSUFBSSxDQUFDZ0QsS0FBTCxDQUFXNEYsUUFBWCxDQUFYO0FBRUEvSix1QkFBSyxDQUFDNkssUUFBTixDQUFlNkQsWUFBZixDQUE0QkUsVUFBNUIsR0FBeUM1TyxLQUFLLENBQUM2SyxRQUFOLENBQWU2RCxZQUFmLENBQTRCRSxVQUE1QixHQUF5QytHLFFBQVEsQ0FBQ3BCLElBQUksQ0FBQ29DLElBQUwsQ0FBVUMsaUJBQVgsQ0FBMUY7QUFFQXBDLGtGQUFTLENBQUNELElBQUksQ0FBQ3BVLElBQU4sRUFBWSxVQUFVMFcsR0FBVixFQUFlO0FBQ2xDN1cseUJBQUssQ0FBQzZLLFFBQU4sQ0FBZTZELFlBQWYsQ0FBNEJHLElBQTVCLENBQWlDekwsSUFBakMsQ0FBc0N5VCxHQUF0QztBQUNELG1CQUZRLENBQVQ7QUFJQSxzQkFBSSxPQUFPMU4sUUFBUCxLQUFvQixVQUF4QixFQUFvQ0EsUUFBUSxDQUFDbkosS0FBSyxDQUFDNkssUUFBTixDQUFlNkQsWUFBZixDQUE0QkcsSUFBN0IsQ0FBUjtBQUNyQyxpQkFWRCxNQVVPO0FBQ0w3Tyx1QkFBSyxDQUFDc0IsR0FBTixDQUFVLDZDQUE2Q3lJLFFBQXZEO0FBQ0Q7QUFDRjtBQXBCbUMsYUFBdEM7QUFzQkQsV0F2QkQsTUF1Qk87QUFDTCxnQkFBSSxPQUFPWixRQUFQLEtBQW9CLFVBQXhCLEVBQW9DQSxRQUFRLENBQUN1TixVQUFVLENBQUN2VyxJQUFaLENBQVI7QUFDckM7QUFDRixTQXBDRCxNQW9DTztBQUNMSCxlQUFLLENBQUNzQixHQUFOLENBQVUsNkNBQTZDeUksUUFBdkQ7QUFDRDtBQUNGO0FBOUNtQyxLQUF0QztBQWdERCxHQXRFRDs7QUF3RUEsTUFBSStNLG1CQUFtQixHQUFHLElBQUk5WCwrQ0FBSyxDQUFDQyxJQUFWLEVBQTFCOztBQUNBLE9BQUs4WCxjQUFMLEdBQXNCLFVBQVVDLGFBQVYsRUFBeUI3TixRQUF6QixFQUFtQztBQUN2RCxRQUFJbkosS0FBSyxHQUFHLElBQVo7O0FBRUE4Vyx1QkFBbUIsQ0FBQy9XLEtBQXBCLEdBQTRCRyxPQUE1QixDQUFvQztBQUNsQ1gsU0FBRyxFQUFFUyxLQUFLLENBQUM2SyxRQUFOLENBQWU4RixHQUFmLENBQW1CQyxhQUFuQixHQUFtQzVRLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZThGLEdBQWYsQ0FBbUJVLFdBQW5CLENBQStCdlIsT0FBL0IsQ0FBdUMsUUFBdkMsRUFBaURFLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZThDLFNBQWhFLEVBQTJFN04sT0FBM0UsQ0FBbUYsS0FBbkYsRUFBMEZrWCxhQUExRixDQUFuQyxHQUE4SSxTQUE5SSxHQUEwSmhYLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZTRDLFFBQXpLLEdBQW9MLFdBQXBMLEdBQWtNek4sS0FBSyxDQUFDNkssUUFBTixDQUFlNkMsUUFEcEw7QUFFbENqTixhQUFPLEVBQUU7QUFDUCxxQkFBYVQsS0FBSyxDQUFDNkssUUFBTixDQUFlbUQ7QUFEckIsT0FGeUI7QUFLbEM1TixVQUFJLEVBQUUsS0FMNEI7QUFNbENHLGFBQU8sRUFBRSxpQkFBVXdKLFFBQVYsRUFBb0J1SyxPQUFwQixFQUE2QnBWLEdBQTdCLEVBQWtDO0FBQ3pDLFlBQUlxVixJQUFJLEdBQUcsSUFBWDs7QUFDQSxZQUFJclYsR0FBRyxDQUFDNEIsTUFBSixLQUFlLEdBQW5CLEVBQXdCO0FBQ3RCLGNBQUk7QUFDRnlULGdCQUFJLEdBQUdwVCxJQUFJLENBQUNnRCxLQUFMLENBQVc0RixRQUFYLENBQVA7QUFDRCxXQUZELENBRUUsT0FBT0YsQ0FBUCxFQUFVLENBQ1g7QUFDRjs7QUFFRCxZQUFJLE9BQU9WLFFBQVAsS0FBb0IsVUFBeEIsRUFBb0M7QUFDbENBLGtCQUFRLENBQUNvTCxJQUFELENBQVI7QUFDRDtBQUNGLE9BbEJpQztBQW1CbEMvVCxXQUFLLEVBQUUsaUJBQVk7QUFDakIsWUFBSSxPQUFPMkksUUFBUCxLQUFvQixVQUF4QixFQUFvQztBQUNsQ0Esa0JBQVEsQ0FBQyxJQUFELENBQVI7QUFDRDtBQUNGO0FBdkJpQyxLQUFwQztBQXlCRCxHQTVCRDs7QUE4QkEsTUFBSThOLGFBQWEsR0FBRyxJQUFJalksK0NBQUssQ0FBQ0MsSUFBVixFQUFwQjs7QUFDQSxPQUFLaVksU0FBTCxHQUFpQixVQUFVQyxRQUFWLEVBQW9CaE8sUUFBcEIsRUFBOEI7QUFDN0MsUUFBSW5KLEtBQUssR0FBRyxJQUFaOztBQUVBaVgsaUJBQWEsQ0FBQ2xYLEtBQWQsR0FBc0JHLE9BQXRCLENBQThCO0FBQzVCWCxTQUFHLEVBQUVTLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZThGLEdBQWYsQ0FBbUJDLGFBQW5CLEdBQW1DNVEsS0FBSyxDQUFDNkssUUFBTixDQUFlOEYsR0FBZixDQUFtQmMsWUFBbkIsQ0FBZ0MzUixPQUFoQyxDQUF3QyxRQUF4QyxFQUFrREUsS0FBSyxDQUFDNkssUUFBTixDQUFlOEMsU0FBakUsRUFBNEU3TixPQUE1RSxDQUFvRixLQUFwRixFQUEyRkUsS0FBSyxDQUFDNkssUUFBTixDQUFlK0MsUUFBMUcsRUFBb0g5TixPQUFwSCxDQUE0SCxVQUE1SCxFQUF3SXFYLFFBQXhJLENBRFo7QUFFNUIxVyxhQUFPLEVBQUU7QUFDUCxxQkFBYVQsS0FBSyxDQUFDNkssUUFBTixDQUFlbUQ7QUFEckIsT0FGbUI7QUFLNUI1TixVQUFJLEVBQUUsS0FMc0I7QUFNNUJHLGFBQU8sRUFBRSxpQkFBVXdKLFFBQVYsRUFBb0J1SyxPQUFwQixFQUE2QnBWLEdBQTdCLEVBQWtDO0FBQ3pDLFlBQUlxVixJQUFJLEdBQUcsSUFBWDs7QUFDQSxZQUFJclYsR0FBRyxDQUFDNEIsTUFBSixLQUFlLEdBQW5CLEVBQXdCO0FBQ3RCLGNBQUk7QUFDRnlULGdCQUFJLEdBQUdwVCxJQUFJLENBQUNnRCxLQUFMLENBQVc0RixRQUFYLENBQVA7QUFDRCxXQUZELENBRUUsT0FBT0YsQ0FBUCxFQUFVLENBQ1g7QUFDRjs7QUFFRCxZQUFJLE9BQU9WLFFBQVAsS0FBb0IsVUFBeEIsRUFBb0M7QUFDbENBLGtCQUFRLENBQUNvTCxJQUFELENBQVI7QUFDRDtBQUNGLE9BbEIyQjtBQW1CNUIvVCxXQUFLLEVBQUUsaUJBQVk7QUFDakIsWUFBSSxPQUFPMkksUUFBUCxLQUFvQixVQUF4QixFQUFvQztBQUNsQ0Esa0JBQVEsQ0FBQyxJQUFELENBQVI7QUFDRDtBQUNGO0FBdkIyQixLQUE5QjtBQXlCRCxHQTVCRDs7QUE4QkEsTUFBSWlPLGNBQWMsR0FBRyxJQUFJcFksK0NBQUssQ0FBQ0MsSUFBVixFQUFyQjs7QUFDQSxPQUFLb1ksVUFBTCxHQUFrQixVQUFVQyxTQUFWLEVBQXFCbk8sUUFBckIsRUFBK0I7QUFDL0MsUUFBSW5KLEtBQUssR0FBRyxJQUFaOztBQUVBb1gsa0JBQWMsQ0FBQ3JYLEtBQWYsR0FBdUJHLE9BQXZCLENBQStCO0FBQzdCWCxTQUFHLEVBQUVTLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZThGLEdBQWYsQ0FBbUJDLGFBQW5CLEdBQW1DNVEsS0FBSyxDQUFDNkssUUFBTixDQUFlOEYsR0FBZixDQUFtQmEsV0FBbkIsQ0FBK0IxUixPQUEvQixDQUF1QyxRQUF2QyxFQUFpREUsS0FBSyxDQUFDNkssUUFBTixDQUFlOEMsU0FBaEUsRUFBMkU3TixPQUEzRSxDQUFtRixLQUFuRixFQUEwRkUsS0FBSyxDQUFDNkssUUFBTixDQUFlK0MsUUFBekcsRUFBbUg5TixPQUFuSCxDQUEySCxZQUEzSCxFQUF5SXdYLFNBQXpJLENBRFg7QUFFN0I3VyxhQUFPLEVBQUU7QUFDUCxxQkFBYVQsS0FBSyxDQUFDNkssUUFBTixDQUFlbUQ7QUFEckIsT0FGb0I7QUFLN0I1TixVQUFJLEVBQUUsS0FMdUI7QUFNN0JHLGFBQU8sRUFBRSxpQkFBVXdKLFFBQVYsRUFBb0J1SyxPQUFwQixFQUE2QnBWLEdBQTdCLEVBQWtDO0FBQ3pDLFlBQUlxVixJQUFJLEdBQUcsSUFBWDs7QUFDQSxZQUFJclYsR0FBRyxDQUFDNEIsTUFBSixLQUFlLEdBQW5CLEVBQXdCO0FBQ3RCLGNBQUk7QUFDRnlULGdCQUFJLEdBQUdwVCxJQUFJLENBQUNnRCxLQUFMLENBQVc0RixRQUFYLENBQVA7QUFDRCxXQUZELENBRUUsT0FBT0YsQ0FBUCxFQUFVLENBQ1g7QUFDRjs7QUFFRCxZQUFJLE9BQU9WLFFBQVAsS0FBb0IsVUFBeEIsRUFBb0M7QUFDbENBLGtCQUFRLENBQUNvTCxJQUFELENBQVI7QUFDRDtBQUNGLE9BbEI0QjtBQW1CN0IvVCxXQUFLLEVBQUUsaUJBQVk7QUFDakIsWUFBSSxPQUFPMkksUUFBUCxLQUFvQixVQUF4QixFQUFvQztBQUNsQ0Esa0JBQVEsQ0FBQyxJQUFELENBQVI7QUFDRDtBQUNGO0FBdkI0QixLQUEvQjtBQXlCRCxHQTVCRDs7QUE4QkEsTUFBSW9PLGVBQWUsR0FBRyxJQUFJdlksK0NBQUssQ0FBQ0MsSUFBVixFQUF0Qjs7QUFDQSxPQUFLdVksV0FBTCxHQUFtQixVQUFVTCxRQUFWLEVBQW9CaE8sUUFBcEIsRUFBOEI7QUFDL0MsUUFBSW5KLEtBQUssR0FBRyxJQUFaOztBQUVBdVgsbUJBQWUsQ0FBQ3hYLEtBQWhCLEdBQXdCRyxPQUF4QixDQUFnQztBQUM5QlgsU0FBRyxFQUFFUyxLQUFLLENBQUM2SyxRQUFOLENBQWU4RixHQUFmLENBQW1CQyxhQUFuQixHQUFtQzVRLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZThGLEdBQWYsQ0FBbUJlLGlCQUFuQixDQUFxQzVSLE9BQXJDLENBQTZDLFFBQTdDLEVBQXVERSxLQUFLLENBQUM2SyxRQUFOLENBQWU4QyxTQUF0RSxFQUFpRjdOLE9BQWpGLENBQXlGLEtBQXpGLEVBQWdHRSxLQUFLLENBQUM2SyxRQUFOLENBQWUrQyxRQUEvRyxFQUF5SDlOLE9BQXpILENBQWlJLFVBQWpJLEVBQTZJcVgsUUFBN0ksQ0FEVjtBQUU5QjFXLGFBQU8sRUFBRTtBQUNQLHFCQUFhVCxLQUFLLENBQUM2SyxRQUFOLENBQWVtRDtBQURyQixPQUZxQjtBQUs5QjVOLFVBQUksRUFBRSxNQUx3QjtBQU05QkcsYUFBTyxFQUFFLGlCQUFVd0osUUFBVixFQUFvQnVLLE9BQXBCLEVBQTZCcFYsR0FBN0IsRUFBa0M7QUFDekMsWUFBSXFWLElBQUksR0FBRyxJQUFYOztBQUNBLFlBQUlyVixHQUFHLENBQUM0QixNQUFKLEtBQWUsR0FBbkIsRUFBd0I7QUFDdEIsY0FBSTtBQUNGeVQsZ0JBQUksR0FBR3BULElBQUksQ0FBQ2dELEtBQUwsQ0FBVzRGLFFBQVgsQ0FBUDtBQUNELFdBRkQsQ0FFRSxPQUFPRixDQUFQLEVBQVUsQ0FDWDtBQUNGOztBQUVELFlBQUksT0FBT1YsUUFBUCxLQUFvQixVQUF4QixFQUFvQztBQUNsQ0Esa0JBQVEsQ0FBQ29MLElBQUQsQ0FBUjtBQUNEO0FBQ0YsT0FsQjZCO0FBbUI5Qi9ULFdBQUssRUFBRSxpQkFBWTtBQUNqQixZQUFJLE9BQU8ySSxRQUFQLEtBQW9CLFVBQXhCLEVBQW9DO0FBQ2xDQSxrQkFBUSxDQUFDLElBQUQsQ0FBUjtBQUNEO0FBQ0Y7QUF2QjZCLEtBQWhDO0FBeUJELEdBNUJEOztBQThCQSxNQUFJc08sOEJBQThCLEdBQUcsSUFBSXpZLCtDQUFLLENBQUNDLElBQVYsRUFBckM7O0FBQ0EsT0FBS3lZLGdDQUFMLEdBQXdDLFVBQVV2TyxRQUFWLEVBQW9CO0FBQzFELFFBQUluSixLQUFLLEdBQUcsSUFBWjs7QUFDQSxRQUFJVCxHQUFHLEdBQUdTLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZThGLEdBQWYsQ0FBbUJZLGtCQUFuQixDQUFzQ3pSLE9BQXRDLENBQThDLFFBQTlDLEVBQXdERSxLQUFLLENBQUM2SyxRQUFOLENBQWU4QyxTQUF2RSxFQUFrRjdOLE9BQWxGLENBQTBGLEtBQTFGLEVBQWlHRSxLQUFLLENBQUM2SyxRQUFOLENBQWUrQyxRQUFoSCxDQUFWOztBQUVBNkosa0NBQThCLENBQUMxWCxLQUEvQixHQUF1Q0csT0FBdkMsQ0FBK0M7QUFDN0NFLFVBQUksRUFBRSxLQUR1QztBQUU3Q2IsU0FBRyxFQUFFUyxLQUFLLENBQUM2SyxRQUFOLENBQWU4RixHQUFmLENBQW1CQyxhQUFuQixHQUFtQ3JSLEdBRks7QUFHN0NrQixhQUFPLEVBQUU7QUFDUCxxQkFBYVQsS0FBSyxDQUFDNkssUUFBTixDQUFlbUQ7QUFEckIsT0FIb0M7QUFNN0N6TixhQUFPLEVBQUUsaUJBQVV3SixRQUFWLEVBQW9CdUssT0FBcEIsRUFBNkJwVixHQUE3QixFQUFrQztBQUN6QyxZQUFJQSxHQUFHLENBQUM0QixNQUFKLEtBQWUsR0FBbkIsRUFBd0I7QUFDdEIsY0FBSXlULElBQUksR0FBR3BULElBQUksQ0FBQ2dELEtBQUwsQ0FBVzRGLFFBQVgsQ0FBWDtBQUNBLGNBQUk0TixNQUFNLEdBQUcsRUFBYjs7QUFFQSxjQUFJLE9BQU9wRCxJQUFJLENBQUNxRCxZQUFaLEtBQTZCLFdBQTdCLElBQTRDckQsSUFBSSxDQUFDcUQsWUFBTCxDQUFrQnRYLE1BQWxCLEdBQTJCLENBQTNFLEVBQThFO0FBQzVFa1UsNEVBQVMsQ0FBQ0QsSUFBSSxDQUFDcUQsWUFBTCxDQUFrQixDQUFsQixFQUFxQkMsS0FBdEIsRUFBNkIsVUFBVTdXLElBQVYsRUFBZ0I7QUFDcEQyVyxvQkFBTSxDQUFDdlUsSUFBUCxDQUFZcEMsSUFBSSxDQUFDb08sS0FBakI7QUFDRCxhQUZRLENBQVQ7QUFHRDs7QUFFRCxjQUFJLE9BQU9qRyxRQUFQLEtBQW9CLFVBQXhCLEVBQW9DQSxRQUFRLENBQUN3TyxNQUFELENBQVI7QUFDckMsU0FYRCxNQVdPO0FBQ0wzWCxlQUFLLENBQUNzQixHQUFOLENBQVUsZ0RBQWdEeUksUUFBMUQ7QUFDRDtBQUNGO0FBckI0QyxLQUEvQztBQXVCRCxHQTNCRDs7QUE2QkEsTUFBSStOLHlDQUF5QyxHQUFHLElBQUk5WSwrQ0FBSyxDQUFDQyxJQUFWLEVBQWhEOztBQUNBLE9BQUs4WSxxQ0FBTCxHQUE2QyxVQUFVSixNQUFWLEVBQWtCeE8sUUFBbEIsRUFBNEI7QUFDdkUsUUFBSW5KLEtBQUssR0FBRyxJQUFaOztBQUNBLFFBQUlULEdBQUcsR0FBR1MsS0FBSyxDQUFDNkssUUFBTixDQUFlOEYsR0FBZixDQUFtQlcsdUJBQW5CLENBQTJDeFIsT0FBM0MsQ0FBbUQsUUFBbkQsRUFBNkRFLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZThDLFNBQTVFLEVBQXVGN04sT0FBdkYsQ0FBK0YsS0FBL0YsRUFBc0dFLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZStDLFFBQXJILENBQVY7O0FBRUFrSyw2Q0FBeUMsQ0FBQy9YLEtBQTFDLEdBQWtERyxPQUFsRCxDQUEwRDtBQUN4REUsVUFBSSxFQUFFLEtBRGtEO0FBRXhEYixTQUFHLEVBQUVTLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZThGLEdBQWYsQ0FBbUJDLGFBQW5CLEdBQW1DclIsR0FBbkMsSUFBMENvWSxNQUFNLENBQUNyWCxNQUFQLEdBQWdCLENBQWhCLEdBQXFCLFNBQVNxWCxNQUFNLENBQUN2RSxJQUFQLENBQVksR0FBWixDQUE5QixHQUFrRCxFQUE1RixDQUZtRDtBQUd4RDNTLGFBQU8sRUFBRTtBQUNQLHFCQUFhVCxLQUFLLENBQUM2SyxRQUFOLENBQWVtRDtBQURyQixPQUgrQztBQU14RHpOLGFBQU8sRUFBRSxpQkFBVXdKLFFBQVYsRUFBb0J1SyxPQUFwQixFQUE2QnBWLEdBQTdCLEVBQWtDO0FBQ3pDLFlBQUlBLEdBQUcsQ0FBQzRCLE1BQUosS0FBZSxHQUFuQixFQUF3QjtBQUN0QixjQUFJeVQsSUFBSSxHQUFHcFQsSUFBSSxDQUFDZ0QsS0FBTCxDQUFXNEYsUUFBWCxDQUFYO0FBRUEsY0FBSSxPQUFPWixRQUFQLEtBQW9CLFVBQXhCLEVBQW9DQSxRQUFRLENBQUNvTCxJQUFJLENBQUNwVSxJQUFOLENBQVI7QUFDckMsU0FKRCxNQUlPO0FBQ0xILGVBQUssQ0FBQ3NCLEdBQU4sQ0FBVSxxREFBcUR5SSxRQUEvRDtBQUNEO0FBQ0Y7QUFkdUQsS0FBMUQ7QUFnQkQsR0FwQkQ7O0FBc0JBLE1BQUlpTyw0QkFBNEIsR0FBRyxJQUFJaFosK0NBQUssQ0FBQ0MsSUFBVixFQUFuQzs7QUFDQSxPQUFLZ1osd0JBQUwsR0FBZ0MsVUFBVTlPLFFBQVYsRUFBb0I7QUFDbEQsUUFBSW5KLEtBQUssR0FBRyxJQUFaOztBQUNBLFFBQUlULEdBQUcsR0FBR1MsS0FBSyxDQUFDNkssUUFBTixDQUFlOEYsR0FBZixDQUFtQnBCLFFBQW5CLENBQTRCelAsT0FBNUIsQ0FBb0MsUUFBcEMsRUFBOENFLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZThDLFNBQTdELEVBQXdFN04sT0FBeEUsQ0FBZ0YsS0FBaEYsRUFBdUZFLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZStDLFFBQXRHLENBQVYsQ0FGa0QsQ0FJbEQ7OztBQUNBb0ssZ0NBQTRCLENBQUNqWSxLQUE3QixHQUFxQ0csT0FBckMsQ0FBNkM7QUFDM0NFLFVBQUksRUFBRSxLQURxQztBQUUzQ2IsU0FBRyxFQUFFUyxLQUFLLENBQUM2SyxRQUFOLENBQWU4RixHQUFmLENBQW1CQyxhQUFuQixHQUFtQ3JSLEdBQW5DLEdBQXlDLGtHQUZIO0FBRzNDa0IsYUFBTyxFQUFFO0FBQ1AscUJBQWFULEtBQUssQ0FBQzZLLFFBQU4sQ0FBZW1EO0FBRHJCLE9BSGtDO0FBTTNDek4sYUFBTyxFQUFFLGlCQUFVd0osUUFBVixFQUFvQnVLLE9BQXBCLEVBQTZCcFYsR0FBN0IsRUFBa0M7QUFDekMsWUFBSUEsR0FBRyxDQUFDNEIsTUFBSixLQUFlLEdBQW5CLEVBQXdCO0FBQ3RCLGNBQUk0VixVQUFVLEdBQUd2VixJQUFJLENBQUNnRCxLQUFMLENBQVc0RixRQUFYLENBQWpCO0FBRUEvSixlQUFLLENBQUM2SyxRQUFOLENBQWVrRSxPQUFmLENBQXVCQSxPQUF2QixHQUFpQyxFQUFqQztBQUNBL08sZUFBSyxDQUFDNkssUUFBTixDQUFla0UsT0FBZixDQUF1QkQsZ0JBQXZCLEdBQTBDLEVBQTFDO0FBQ0E5TyxlQUFLLENBQUM2SyxRQUFOLENBQWVrRSxPQUFmLENBQXVCQyxjQUF2QixHQUF3QyxFQUF4QztBQUVBd0YsMEVBQVMsQ0FBQ2tDLFVBQVUsQ0FBQ3ZXLElBQVosRUFBa0IsVUFBVXNTLE9BQVYsRUFBbUI7QUFDNUMsZ0JBQUl5RixPQUFPLEdBQUksT0FBT3pGLE9BQU8sQ0FBQzBGLE1BQWYsS0FBMEIsV0FBM0IsR0FBMEMsS0FBMUMsR0FBbURDLDZDQUFNLENBQUMzRixPQUFPLENBQUMwRixNQUFULENBQU4sQ0FBdUJFLElBQXZCLENBQTRCRCw2Q0FBTSxFQUFsQyxJQUF3QyxDQUF6Rzs7QUFFQSxnQkFBSSxDQUFDRixPQUFMLEVBQWM7QUFDWmxZLG1CQUFLLENBQUM2SyxRQUFOLENBQWVrRSxPQUFmLENBQXVCQSxPQUF2QixDQUErQjNMLElBQS9CLENBQW9DcVAsT0FBcEM7QUFDRDtBQUNGLFdBTlEsQ0FBVCxDQVBzQixDQWV0Qjs7QUFDQXVGLHNDQUE0QixDQUFDalksS0FBN0IsR0FBcUNHLE9BQXJDLENBQTZDO0FBQzNDRSxnQkFBSSxFQUFFLEtBRHFDO0FBRTNDYixlQUFHLEVBQUVTLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZThGLEdBQWYsQ0FBbUJDLGFBQW5CLEdBQW1DclIsR0FBbkMsR0FBeUMsbUdBRkg7QUFHM0NrQixtQkFBTyxFQUFFO0FBQ1AsMkJBQWFULEtBQUssQ0FBQzZLLFFBQU4sQ0FBZW1EO0FBRHJCLGFBSGtDO0FBTTNDek4sbUJBQU8sRUFBRSxpQkFBVXdKLFFBQVYsRUFBb0J1SyxPQUFwQixFQUE2QnBWLEdBQTdCLEVBQWtDO0FBQ3pDLGtCQUFJQSxHQUFHLENBQUM0QixNQUFKLEtBQWUsR0FBbkIsRUFBd0I7QUFDdEIsb0JBQUk0VixVQUFVLEdBQUd2VixJQUFJLENBQUNnRCxLQUFMLENBQVc0RixRQUFYLENBQWpCO0FBRUF5SyxnRkFBUyxDQUFDa0MsVUFBVSxDQUFDdlcsSUFBWixFQUFrQixVQUFVc1MsT0FBVixFQUFtQjtBQUM1QyxzQkFBSXlGLE9BQU8sR0FBSSxPQUFPekYsT0FBTyxDQUFDMEYsTUFBZixLQUEwQixXQUEzQixHQUEwQyxLQUExQyxHQUFtREMsNkNBQU0sQ0FBQzNGLE9BQU8sQ0FBQzBGLE1BQVQsQ0FBTixDQUF1QkUsSUFBdkIsQ0FBNEJELDZDQUFNLEVBQWxDLElBQXdDLENBQXpHOztBQUVBLHNCQUFJLENBQUNGLE9BQUwsRUFBYztBQUNabFkseUJBQUssQ0FBQzZLLFFBQU4sQ0FBZWtFLE9BQWYsQ0FBdUJELGdCQUF2QixDQUF3QzFMLElBQXhDLENBQTZDcVAsT0FBN0M7QUFDRDtBQUNGLGlCQU5RLENBQVQsQ0FIc0IsQ0FXdEI7O0FBQ0Esb0JBQUk2RCxJQUFJLEdBQUcsSUFBSWhOLElBQUosRUFBWDtBQUNBLG9CQUFJZ1AsT0FBTyxHQUFHaEMsSUFBSSxDQUFDaUMsY0FBTCxLQUF3QixHQUF4QixHQUE4QnZGLCtFQUF3QixDQUFFc0QsSUFBSSxDQUFDa0MsV0FBTCxLQUFxQixDQUF2QixFQUEyQixDQUEzQixDQUF0RCxHQUFzRixHQUF0RixHQUE0RnhGLCtFQUF3QixDQUFDc0QsSUFBSSxDQUFDbUMsVUFBTCxFQUFELEVBQW9CLENBQXBCLENBQXBILEdBQTZJLEdBQTdJLEdBQW1KekYsK0VBQXdCLENBQUNzRCxJQUFJLENBQUNvQyxXQUFMLEVBQUQsRUFBcUIsQ0FBckIsQ0FBM0ssR0FBcU0sR0FBck0sR0FBMk0xRiwrRUFBd0IsQ0FBQ3NELElBQUksQ0FBQ3FDLGFBQUwsRUFBRCxFQUF1QixDQUF2QixDQUFuTyxHQUErUCxLQUE3UTs7QUFDQTNZLHFCQUFLLENBQUM2SyxRQUFOLENBQWUwQyxVQUFmLENBQTBCeE4sS0FBMUIsR0FBa0NHLE9BQWxDLENBQTBDO0FBQ3hDRSxzQkFBSSxFQUFFLEtBRGtDO0FBRXhDYixxQkFBRyxFQUFFUyxLQUFLLENBQUM2SyxRQUFOLENBQWU4RixHQUFmLENBQW1CQyxhQUFuQixHQUFtQ3JSLEdBQW5DLEdBQXlDLDBGQUF6QyxHQUFzSStZLE9BRm5HO0FBR3hDN1gseUJBQU8sRUFBRTtBQUNQLGlDQUFhVCxLQUFLLENBQUM2SyxRQUFOLENBQWVtRDtBQURyQixtQkFIK0I7QUFNeEN6Tix5QkFBTyxFQUFFLGlCQUFVd0osUUFBVixFQUFvQnVLLE9BQXBCLEVBQTZCcFYsR0FBN0IsRUFBa0M7QUFDekMsd0JBQUlBLEdBQUcsQ0FBQzRCLE1BQUosS0FBZSxHQUFuQixFQUF3QjtBQUN0QiwwQkFBSTRWLFVBQVUsR0FBR3ZWLElBQUksQ0FBQ2dELEtBQUwsQ0FBVzRGLFFBQVgsQ0FBakI7QUFFQXlLLHNGQUFTLENBQUNrQyxVQUFVLENBQUN2VyxJQUFaLEVBQWtCLFVBQVVzUyxPQUFWLEVBQW1CO0FBQzVDelMsNkJBQUssQ0FBQzZLLFFBQU4sQ0FBZWtFLE9BQWYsQ0FBdUJDLGNBQXZCLENBQXNDNUwsSUFBdEMsQ0FBMkNxUCxPQUEzQztBQUNELHVCQUZRLENBQVQ7QUFJQSwwQkFBSSxPQUFPdEosUUFBUCxLQUFvQixVQUF4QixFQUFvQ0EsUUFBUSxDQUFDbkosS0FBSyxDQUFDNkssUUFBTixDQUFla0UsT0FBZixDQUF1QkEsT0FBeEIsRUFBaUMvTyxLQUFLLENBQUM2SyxRQUFOLENBQWVrRSxPQUFmLENBQXVCRCxnQkFBeEQsRUFBMEU5TyxLQUFLLENBQUM2SyxRQUFOLENBQWVrRSxPQUFmLENBQXVCQyxjQUFqRyxDQUFSO0FBQ3JDLHFCQVJELE1BUU87QUFDTGhQLDJCQUFLLENBQUNzQixHQUFOLENBQVUsZ0RBQWdEeUksUUFBMUQ7QUFDRDtBQUNGO0FBbEJ1QyxpQkFBMUM7QUFvQkQsZUFsQ0QsTUFrQ087QUFDTC9KLHFCQUFLLENBQUNzQixHQUFOLENBQVUsb0RBQW9EeUksUUFBOUQ7QUFDRDtBQUNGO0FBNUMwQyxXQUE3QztBQThDRCxTQTlERCxNQThETztBQUNML0osZUFBSyxDQUFDc0IsR0FBTixDQUFVLGdEQUFnRHlJLFFBQTFEO0FBQ0Q7QUFDRjtBQXhFMEMsS0FBN0M7QUEwRUQsR0EvRUQ7O0FBaUZBLE1BQUk2Tyw2QkFBNkIsR0FBRyxJQUFJNVosK0NBQUssQ0FBQ0MsSUFBVixFQUFwQzs7QUFDQSxPQUFLNFoseUJBQUwsR0FBaUMsVUFBVTFQLFFBQVYsRUFBb0I7QUFDbkQsUUFBSW5KLEtBQUssR0FBRyxJQUFaOztBQUNBLFFBQUlULEdBQUcsR0FBR1MsS0FBSyxDQUFDNkssUUFBTixDQUFlOEYsR0FBZixDQUFtQnBCLFFBQW5CLENBQTRCelAsT0FBNUIsQ0FBb0MsUUFBcEMsRUFBOENFLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZThDLFNBQTdELEVBQXdFN04sT0FBeEUsQ0FBZ0YsS0FBaEYsRUFBdUZFLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZStDLFFBQXRHLENBQVY7O0FBQ0EsUUFBSTBJLElBQUksR0FBRyxJQUFJaE4sSUFBSixFQUFYO0FBRUFnTixRQUFJLENBQUN3QyxPQUFMLENBQWF4QyxJQUFJLENBQUN5QyxRQUFMLEtBQWtCLENBQS9CO0FBRUEsUUFBSXhDLGlCQUFpQixHQUFHRCxJQUFJLENBQUMwQyxXQUFMLEtBQXFCLEdBQXJCLEdBQTJCaEcsK0VBQXdCLENBQUVzRCxJQUFJLENBQUN5QyxRQUFMLEtBQWtCLENBQXBCLEVBQXdCLENBQXhCLENBQW5ELEdBQWdGLEdBQWhGLEdBQXNGL0YsK0VBQXdCLENBQUNzRCxJQUFJLENBQUMyQyxPQUFMLEVBQUQsRUFBaUIsQ0FBakIsQ0FBdEk7QUFFQUwsaUNBQTZCLENBQUM3WSxLQUE5QixHQUFzQ0csT0FBdEMsQ0FBOEM7QUFDNUNFLFVBQUksRUFBRSxLQURzQztBQUU1Q2IsU0FBRyxFQUFFUyxLQUFLLENBQUM2SyxRQUFOLENBQWU4RixHQUFmLENBQW1CQyxhQUFuQixHQUFtQ3JSLEdBQW5DLEdBQXlDLHlFQUF6QyxHQUFxSGdYLGlCQUY5RTtBQUc1QzlWLGFBQU8sRUFBRTtBQUNQLHFCQUFhVCxLQUFLLENBQUM2SyxRQUFOLENBQWVtRDtBQURyQixPQUhtQztBQU01Q3pOLGFBQU8sRUFBRSxpQkFBVXdKLFFBQVYsRUFBb0J1SyxPQUFwQixFQUE2QnBWLEdBQTdCLEVBQWtDO0FBQ3pDLFlBQUlBLEdBQUcsQ0FBQzRCLE1BQUosS0FBZSxHQUFuQixFQUF3QjtBQUN0QixjQUFJNFYsVUFBVSxHQUFHdlYsSUFBSSxDQUFDZ0QsS0FBTCxDQUFXNEYsUUFBWCxDQUFqQjtBQUVBL0osZUFBSyxDQUFDNkssUUFBTixDQUFlMEUsUUFBZixDQUF3QkEsUUFBeEIsR0FBbUMsRUFBbkM7QUFFQWlGLDBFQUFTLENBQUNrQyxVQUFVLENBQUN2VyxJQUFaLEVBQWtCLFVBQVVzUyxPQUFWLEVBQW1CO0FBQzVDelMsaUJBQUssQ0FBQzZLLFFBQU4sQ0FBZTBFLFFBQWYsQ0FBd0JBLFFBQXhCLENBQWlDbk0sSUFBakMsQ0FBc0NxUCxPQUF0QztBQUNELFdBRlEsQ0FBVDtBQUlBLGNBQUksT0FBT3RKLFFBQVAsS0FBb0IsVUFBeEIsRUFBb0NBLFFBQVEsQ0FBQ25KLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZTBFLFFBQWYsQ0FBd0JBLFFBQXpCLENBQVI7QUFDckMsU0FWRCxNQVVPO0FBQ0x2UCxlQUFLLENBQUNzQixHQUFOLENBQVUseUNBQXlDeUksUUFBbkQ7QUFDRDtBQUNGO0FBcEIyQyxLQUE5QztBQXNCRCxHQS9CRDs7QUFpQ0EsTUFBSW1QLGVBQWUsR0FBRyxJQUFJbGEsK0NBQUssQ0FBQ0MsSUFBVixFQUF0Qjs7QUFDQSxPQUFLa2EsOEJBQUwsR0FBc0MsVUFBVWhRLFFBQVYsRUFBb0I7QUFDeEQsUUFBSW5KLEtBQUssR0FBRyxJQUFaOztBQUNBLFFBQUlULEdBQUcsR0FBR1MsS0FBSyxDQUFDNkssUUFBTixDQUFlOEYsR0FBZixDQUFtQmtCLHNCQUFuQixDQUEwQy9SLE9BQTFDLENBQWtELFFBQWxELEVBQTRERSxLQUFLLENBQUM2SyxRQUFOLENBQWU4QyxTQUEzRSxFQUFzRjdOLE9BQXRGLENBQThGLEtBQTlGLEVBQXFHRSxLQUFLLENBQUM2SyxRQUFOLENBQWUrQyxRQUFwSCxFQUE4SDlOLE9BQTlILENBQXNJLGdCQUF0SSxFQUF3SkUsS0FBSyxDQUFDNkssUUFBTixDQUFlcUQsV0FBZixDQUEyQkMsbUJBQW5MLENBQVY7O0FBRUErSyxtQkFBZSxDQUFDblosS0FBaEIsR0FBd0JHLE9BQXhCLENBQWdDO0FBQzlCRSxVQUFJLEVBQUUsS0FEd0I7QUFFOUJiLFNBQUcsRUFBRVMsS0FBSyxDQUFDNkssUUFBTixDQUFlOEYsR0FBZixDQUFtQkMsYUFBbkIsR0FBbUNyUixHQUZWO0FBRzlCa0IsYUFBTyxFQUFFO0FBQ1AscUJBQWFULEtBQUssQ0FBQzZLLFFBQU4sQ0FBZW1EO0FBRHJCLE9BSHFCO0FBTTlCek4sYUFBTyxFQUFFLGlCQUFVd0osUUFBVixFQUFvQnVLLE9BQXBCLEVBQTZCcFYsR0FBN0IsRUFBa0M7QUFDekMsWUFBSUEsR0FBRyxDQUFDNEIsTUFBSixLQUFlLEdBQW5CLEVBQXdCO0FBQ3RCcUksa0JBQVE7QUFDVCxTQUZELE1BRU87QUFDTG5KLGVBQUssQ0FBQ3NCLEdBQU4sQ0FBVSw4Q0FBOEN5SSxRQUF4RDtBQUNEO0FBQ0Y7QUFaNkIsS0FBaEM7QUFjRCxHQWxCRDs7QUFvQkEsTUFBSXFQLGlCQUFpQixHQUFHLENBQXhCOztBQUNBLE9BQUtDLDRCQUFMLEdBQW9DLFVBQVVsUSxRQUFWLEVBQW9CO0FBQ3RELFFBQUluSixLQUFLLEdBQUcsSUFBWjs7QUFFQUEsU0FBSyxDQUFDZ1YscUJBQU4sQ0FBNEIsVUFBVXNFLGVBQVYsRUFBMkI7QUFDckQsVUFBSSxPQUFPQSxlQUFlLENBQUNuWixJQUFoQixDQUFxQm9aLEtBQTVCLEtBQXNDLFNBQXRDLElBQW1ELENBQUNELGVBQWUsQ0FBQ25aLElBQWhCLENBQXFCb1osS0FBN0UsRUFBb0Y7QUFDbEZILHlCQUFpQjs7QUFFakIsWUFBSUEsaUJBQWlCLEdBQUcsQ0FBeEIsRUFBMkI7QUFDekJ4VSxvQkFBVSxDQUFDLFlBQVk7QUFDckI1RSxpQkFBSyxDQUFDcVosNEJBQU4sQ0FBbUNsUSxRQUFuQztBQUNELFdBRlMsRUFFUCxHQUZPLENBQVY7QUFHRCxTQUpELE1BSU87QUFDTGlRLDJCQUFpQixHQUFHLENBQXBCO0FBQ0Q7QUFDRixPQVZELE1BVU8sSUFBSSxPQUFPRSxlQUFlLENBQUNuWixJQUFoQixDQUFxQm9aLEtBQTVCLEtBQXNDLFNBQXRDLElBQW1ERCxlQUFlLENBQUNuWixJQUFoQixDQUFxQm9aLEtBQTVFLEVBQW1GO0FBQ3hGcFEsZ0JBQVEsQ0FBQ21RLGVBQUQsQ0FBUjtBQUNEO0FBQ0YsS0FkRDtBQWVELEdBbEJEOztBQW9CQSxPQUFLRSxzQkFBTCxHQUE4QixZQUFZO0FBQ3hDLFFBQUl4WixLQUFLLEdBQUcsSUFBWjs7QUFFQSxRQUFJQSxLQUFLLENBQUM2SyxRQUFOLENBQWUrRSxXQUFmLENBQTJCRSxxQkFBL0IsRUFBc0Q7QUFDcEQxRixrQkFBWSxDQUFDcEssS0FBSyxDQUFDNkssUUFBTixDQUFlK0UsV0FBZixDQUEyQkUscUJBQTVCLENBQVo7QUFDRDs7QUFFRCxRQUNHOVAsS0FBSyxDQUFDNkssUUFBTixDQUFlcUQsV0FBZixDQUEyQkcsaUJBQTNCLEtBQWlELElBQWpELElBQXlELE9BQU9yTyxLQUFLLENBQUM2SyxRQUFOLENBQWVxRCxXQUFmLENBQTJCRyxpQkFBM0IsQ0FBNkNvTCxhQUFwRCxLQUFzRSxTQUEvSCxJQUE0SSxDQUFDelosS0FBSyxDQUFDNkssUUFBTixDQUFlcUQsV0FBZixDQUEyQkcsaUJBQTNCLENBQTZDb0wsYUFBM0wsSUFDQyxPQUFPelosS0FBSyxDQUFDNkssUUFBTixDQUFlcUQsV0FBZixDQUEyQkcsaUJBQTNCLENBQTZDa0wsS0FBcEQsS0FBOEQsU0FBOUQsSUFBMkV2WixLQUFLLENBQUM2SyxRQUFOLENBQWVxRCxXQUFmLENBQTJCRyxpQkFBM0IsQ0FBNkNrTCxLQUYzSCxFQUdFO0FBQ0EsVUFBSTFXLEtBQUssR0FBSTdDLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXNDLGNBQWYsQ0FBOEJ0QyxRQUE5QixDQUF1QzZPLE1BQXhDLEdBQWtELENBQWxELEdBQXNEMVosS0FBSyxDQUFDNkssUUFBTixDQUFlK0UsV0FBZixDQUEyQkMsbUJBQTdGOztBQUNBN1AsV0FBSyxDQUFDNlYsa0JBQU4sQ0FBeUJoVCxLQUF6QixFQUFnQyxVQUFVMUMsSUFBVixFQUFnQjtBQUM5QyxZQUFJSCxLQUFLLENBQUM2SyxRQUFOLENBQWVzQyxjQUFmLENBQThCdEMsUUFBOUIsQ0FBdUM2TyxNQUEzQyxFQUFtRDFaLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXNDLGNBQWYsQ0FBOEJ3TSxjQUE5QjtBQUNuRCxZQUFJM1osS0FBSyxDQUFDNkssUUFBTixDQUFleUMsVUFBZixDQUEwQnpDLFFBQTFCLENBQW1DNk8sTUFBdkMsRUFBK0MxWixLQUFLLENBQUM2SyxRQUFOLENBQWV5QyxVQUFmLENBQTBCc00sZUFBMUI7QUFDaEQsT0FIRDtBQUlEOztBQUVENVosU0FBSyxDQUFDNkssUUFBTixDQUFlK0UsV0FBZixDQUEyQkUscUJBQTNCLEdBQW1EbEwsVUFBVSxDQUFDLFlBQVk7QUFDeEU1RSxXQUFLLENBQUN3WixzQkFBTjtBQUNELEtBRjRELEVBRTFEeFosS0FBSyxDQUFDNkssUUFBTixDQUFlK0UsV0FBZixDQUEyQnBCLHFCQUYrQixDQUE3RDtBQUdELEdBckJEOztBQXVCQSxPQUFLcUwsaUJBQUwsR0FBeUIsVUFBVTFRLFFBQVYsRUFBb0I7QUFDM0MsUUFBSW5KLEtBQUssR0FBRyxJQUFaOztBQUVBLFFBQUlBLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXFELFdBQWYsQ0FBMkJLLGVBQS9CLEVBQWdEO0FBQzlDbkUsa0JBQVksQ0FBQ3BLLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXFELFdBQWYsQ0FBMkJLLGVBQTVCLENBQVo7QUFDRDs7QUFFRHZPLFNBQUssQ0FBQ2tVLDZCQUFOLENBQW9DLFlBQVk7QUFDOUNsVSxXQUFLLENBQUM4VixpQ0FBTjs7QUFFQTlWLFdBQUssQ0FBQzZVLHdCQUFOLENBQStCLFlBQVk7QUFDekMsWUFBSWhTLEtBQUssR0FBSTdDLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXNDLGNBQWYsQ0FBOEJ0QyxRQUE5QixDQUF1QzZPLE1BQXhDLEdBQWtELENBQWxELEdBQXNEMVosS0FBSyxDQUFDNkssUUFBTixDQUFlK0UsV0FBZixDQUEyQkMsbUJBQTdGLENBRHlDLENBR3pDOztBQUNBLFlBQUk3UCxLQUFLLENBQUM2SyxRQUFOLENBQWUrRSxXQUFmLENBQTJCckIsZUFBL0IsRUFBZ0Q7QUFDOUNuRSxzQkFBWSxDQUFDcEssS0FBSyxDQUFDNkssUUFBTixDQUFlK0UsV0FBZixDQUEyQnJCLGVBQTVCLENBQVo7QUFDRDs7QUFFRCxZQUFJdk8sS0FBSyxDQUFDNkssUUFBTixDQUFlc0MsY0FBZixDQUE4QnRDLFFBQTlCLENBQXVDNk8sTUFBdkMsSUFBaUQxWixLQUFLLENBQUM2SyxRQUFOLENBQWV5QyxVQUFmLENBQTBCekMsUUFBMUIsQ0FBbUM2TyxNQUF4RixFQUFnRztBQUM5RixjQUNHMVosS0FBSyxDQUFDNkssUUFBTixDQUFlcUQsV0FBZixDQUEyQkcsaUJBQTNCLEtBQWlELElBQWpELElBQXlELE9BQU9yTyxLQUFLLENBQUM2SyxRQUFOLENBQWVxRCxXQUFmLENBQTJCRyxpQkFBM0IsQ0FBNkNvTCxhQUFwRCxLQUFzRSxTQUEvSCxJQUE0SSxDQUFDelosS0FBSyxDQUFDNkssUUFBTixDQUFlcUQsV0FBZixDQUEyQkcsaUJBQTNCLENBQTZDb0wsYUFBM0wsSUFDQ3paLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXFELFdBQWYsQ0FBMkJHLGlCQUEzQixLQUFpRCxJQUFqRCxJQUF5RCxPQUFPck8sS0FBSyxDQUFDNkssUUFBTixDQUFlcUQsV0FBZixDQUEyQkcsaUJBQTNCLENBQTZDa0wsS0FBcEQsS0FBOEQsU0FBdkgsSUFBb0l2WixLQUFLLENBQUM2SyxRQUFOLENBQWVxRCxXQUFmLENBQTJCRyxpQkFBM0IsQ0FBNkNrTCxLQUZwTCxFQUdFO0FBQ0F2WixpQkFBSyxDQUFDNlYsa0JBQU4sQ0FBeUJoVCxLQUF6QixFQUFnQyxVQUFVMUMsSUFBVixFQUFnQjtBQUM5QyxrQkFBSUgsS0FBSyxDQUFDNkssUUFBTixDQUFlc0MsY0FBZixDQUE4QnRDLFFBQTlCLENBQXVDNk8sTUFBM0MsRUFBbUQxWixLQUFLLENBQUM2SyxRQUFOLENBQWVzQyxjQUFmLENBQThCd00sY0FBOUI7QUFDbkQsa0JBQUkzWixLQUFLLENBQUM2SyxRQUFOLENBQWV5QyxVQUFmLENBQTBCekMsUUFBMUIsQ0FBbUM2TyxNQUF2QyxFQUErQzFaLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXlDLFVBQWYsQ0FBMEJzTSxlQUExQixHQUZELENBSTlDOztBQUNBNVosbUJBQUssQ0FBQ3daLHNCQUFOOztBQUVBLGtCQUFJLE9BQU9yUSxRQUFQLEtBQW9CLFVBQXhCLEVBQW9DO0FBQ2xDQSx3QkFBUTtBQUNUO0FBQ0YsYUFWRDtBQVdELFdBZkQsTUFlTztBQUNMLGdCQUFJbkosS0FBSyxDQUFDNkssUUFBTixDQUFlc0MsY0FBZixDQUE4QnRDLFFBQTlCLENBQXVDNk8sTUFBM0MsRUFBbUQxWixLQUFLLENBQUM2SyxRQUFOLENBQWVzQyxjQUFmLENBQThCd00sY0FBOUI7O0FBQ25ELGdCQUFJM1osS0FBSyxDQUFDNkssUUFBTixDQUFleUMsVUFBZixDQUEwQnpDLFFBQTFCLENBQW1DNk8sTUFBdkMsRUFBK0M7QUFDN0MxWixtQkFBSyxDQUFDNlYsa0JBQU4sQ0FBeUJoVCxLQUF6QixFQUFnQyxVQUFVMUMsSUFBVixFQUFnQjtBQUM5Q0gscUJBQUssQ0FBQzZLLFFBQU4sQ0FBZXlDLFVBQWYsQ0FBMEJzTSxlQUExQjtBQUNELGVBRkQ7QUFHRCxhQU5JLENBUUw7OztBQUNBNVosaUJBQUssQ0FBQ3daLHNCQUFOOztBQUVBLGdCQUFJLE9BQU9yUSxRQUFQLEtBQW9CLFVBQXhCLEVBQW9DO0FBQ2xDQSxzQkFBUTtBQUNUO0FBQ0Y7QUFDRixTQS9CRCxNQStCTztBQUNMLGNBQUluSixLQUFLLENBQUM2SyxRQUFOLENBQWVzQyxjQUFmLENBQThCdEMsUUFBOUIsQ0FBdUM2TyxNQUEzQyxFQUFtRDFaLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXNDLGNBQWYsQ0FBOEJ3TSxjQUE5Qjs7QUFFbkQsY0FBSSxPQUFPeFEsUUFBUCxLQUFvQixVQUF4QixFQUFvQztBQUNsQ0Esb0JBQVE7QUFDVDtBQUNGO0FBQ0YsT0E5Q0Q7QUErQ0QsS0FsREQ7O0FBb0RBbkosU0FBSyxDQUFDNkssUUFBTixDQUFlcUQsV0FBZixDQUEyQkssZUFBM0IsR0FBNkMzSixVQUFVLENBQUMsWUFBWTtBQUNsRTVFLFdBQUssQ0FBQzZaLGlCQUFOO0FBQ0QsS0FGc0QsRUFFcEQ3WixLQUFLLENBQUM2SyxRQUFOLENBQWVxRCxXQUFmLENBQTJCTSxxQkFGeUIsQ0FBdkQ7QUFHRCxHQTlERDs7QUFnRUEsT0FBS3VHLHFDQUFMLEdBQTZDLFVBQVU1TCxRQUFWLEVBQW9CO0FBQy9ELFFBQUluSixLQUFLLEdBQUcsSUFBWjs7QUFFQSxRQUFJQSxLQUFLLENBQUM2SyxRQUFOLENBQWUrRSxXQUFmLENBQTJCckIsZUFBL0IsRUFBZ0Q7QUFDOUNuRSxrQkFBWSxDQUFDcEssS0FBSyxDQUFDNkssUUFBTixDQUFlK0UsV0FBZixDQUEyQnJCLGVBQTVCLENBQVo7QUFDRDs7QUFFRHZPLFNBQUssQ0FBQzZLLFFBQU4sQ0FBZXNDLGNBQWYsQ0FBOEIyTSxRQUE5Qjs7QUFDQTlaLFNBQUssQ0FBQzZLLFFBQU4sQ0FBZXlDLFVBQWYsQ0FBMEJ3TSxRQUExQjs7QUFFQSxRQUFJLE9BQU8zUSxRQUFQLEtBQW9CLFVBQXhCLEVBQW9DO0FBQ2xDQSxjQUFRO0FBQ1Q7QUFDRixHQWJEOztBQWVBLE9BQUs0USxZQUFMLEdBQW9CLFVBQVU1USxRQUFWLEVBQW9CO0FBQ3RDLFFBQUluSixLQUFLLEdBQUcsSUFBWjs7QUFFQSxRQUFJQSxLQUFLLENBQUM2SyxRQUFOLENBQWUrRSxXQUFmLENBQTJCckIsZUFBL0IsRUFBZ0Q7QUFDOUNuRSxrQkFBWSxDQUFDcEssS0FBSyxDQUFDNkssUUFBTixDQUFlK0UsV0FBZixDQUEyQnJCLGVBQTVCLENBQVo7QUFDQXlMLG1CQUFhLENBQUNoYSxLQUFLLENBQUM2SyxRQUFOLENBQWUrRSxXQUFmLENBQTJCckIsZUFBNUIsQ0FBYjtBQUNEOztBQUVELFFBQUl2TyxLQUFLLENBQUM2SyxRQUFOLENBQWVxRCxXQUFmLENBQTJCSyxlQUEvQixFQUFnRDtBQUM5Q25FLGtCQUFZLENBQUNwSyxLQUFLLENBQUM2SyxRQUFOLENBQWVxRCxXQUFmLENBQTJCSyxlQUE1QixDQUFaO0FBQ0F5TCxtQkFBYSxDQUFDaGEsS0FBSyxDQUFDNkssUUFBTixDQUFlcUQsV0FBZixDQUEyQkssZUFBNUIsQ0FBYjtBQUNEOztBQUVELFFBQUl2TyxLQUFLLENBQUM2SyxRQUFOLENBQWUrRSxXQUFmLENBQTJCRSxxQkFBL0IsRUFBc0Q7QUFDcEQxRixrQkFBWSxDQUFDcEssS0FBSyxDQUFDNkssUUFBTixDQUFlK0UsV0FBZixDQUEyQkUscUJBQTVCLENBQVo7QUFDQWtLLG1CQUFhLENBQUNoYSxLQUFLLENBQUM2SyxRQUFOLENBQWUrRSxXQUFmLENBQTJCRSxxQkFBNUIsQ0FBYjtBQUNEOztBQUVELFFBQUk5UCxLQUFLLENBQUM2SyxRQUFOLENBQWVzQyxjQUFmLENBQThCdEMsUUFBOUIsQ0FBdUNvUCxjQUEzQyxFQUEyRDtBQUN6RDdQLGtCQUFZLENBQUNwSyxLQUFLLENBQUM2SyxRQUFOLENBQWVzQyxjQUFmLENBQThCdEMsUUFBOUIsQ0FBdUNvUCxjQUF4QyxDQUFaO0FBQ0FELG1CQUFhLENBQUNoYSxLQUFLLENBQUM2SyxRQUFOLENBQWUrRSxXQUFmLENBQTJCckIsZUFBNUIsQ0FBYjtBQUNEOztBQUVELFFBQUksT0FBT3BGLFFBQVAsS0FBb0IsVUFBeEIsRUFBb0M7QUFDbENBLGNBQVE7QUFDVDtBQUNGLEdBMUJEOztBQTRCQSxPQUFLK1EsZUFBTCxHQUF1QixVQUFVL1EsUUFBVixFQUFvQjtBQUN6QyxRQUFJbkosS0FBSyxHQUFHLElBQVo7O0FBRUFBLFNBQUssQ0FBQzZaLGlCQUFOOztBQUNBN1osU0FBSyxDQUFDNkssUUFBTixDQUFlc0MsY0FBZixDQUE4QmdOLGdCQUE5Qjs7QUFFQSxRQUFJLE9BQU9oUixRQUFQLEtBQW9CLFVBQXhCLEVBQW9DO0FBQ2xDQSxjQUFRO0FBQ1Q7QUFDRixHQVREOztBQVdBLE9BQUtpUixVQUFMLEdBQWtCLFVBQVVqUixRQUFWLEVBQW9CO0FBQ3BDLFFBQUluSixLQUFLLEdBQUcsSUFBWjs7QUFFQUEsU0FBSyxDQUFDNkssUUFBTixDQUFlMEMsVUFBZixDQUEwQnhOLEtBQTFCLEdBQWtDRyxPQUFsQyxDQUEwQztBQUN4Q0UsVUFBSSxFQUFFLEtBRGtDO0FBRXhDYixTQUFHLEVBQUVTLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZThGLEdBQWYsQ0FBbUJDLGFBQW5CLEdBQW1DNVEsS0FBSyxDQUFDNkssUUFBTixDQUFlOEYsR0FBZixDQUFtQkcsT0FBbkIsQ0FBMkJoUixPQUEzQixDQUFtQyxRQUFuQyxFQUE2Q0UsS0FBSyxDQUFDNkssUUFBTixDQUFlOEMsU0FBNUQsRUFBdUU3TixPQUF2RSxDQUErRSxLQUEvRSxFQUFzRkUsS0FBSyxDQUFDNkssUUFBTixDQUFlK0MsUUFBckcsQ0FGQTtBQUd4Q25OLGFBQU8sRUFBRTtBQUNQLHFCQUFhVCxLQUFLLENBQUM2SyxRQUFOLENBQWVtRDtBQURyQixPQUgrQjtBQU14Q3pOLGFBQU8sRUFBRSxpQkFBVXdKLFFBQVYsRUFBb0J1SyxPQUFwQixFQUE2QnBWLEdBQTdCLEVBQWtDO0FBQ3pDLFlBQUlBLEdBQUcsQ0FBQzRCLE1BQUosS0FBZSxHQUFuQixFQUF3QjtBQUN0QixjQUFJeVQsSUFBSSxHQUFHcFQsSUFBSSxDQUFDZ0QsS0FBTCxDQUFXNEYsUUFBWCxDQUFYO0FBRUEvSixlQUFLLENBQUM2SyxRQUFOLENBQWVvRCxNQUFmLEdBQXdCc0csSUFBSSxDQUFDcFUsSUFBN0I7QUFFQWdKLGtCQUFRLENBQUNvTCxJQUFJLENBQUNwVSxJQUFOLENBQVI7QUFDRCxTQU5ELE1BTU87QUFDTEgsZUFBSyxDQUFDc0IsR0FBTixDQUFVLDBCQUEwQnlJLFFBQXBDO0FBQ0Q7QUFDRjtBQWhCdUMsS0FBMUM7QUFrQkQsR0FyQkQ7O0FBdUJBLE9BQUtzUSxzQkFBTCxHQUE4QixVQUFVbFIsUUFBVixFQUFvQjtBQUNoRCxRQUFJbkosS0FBSyxHQUFHLElBQVo7O0FBRUEsUUFBSSxPQUFPQSxLQUFLLENBQUM2SyxRQUFOLENBQWU4RixHQUFmLENBQW1Cb0IsZUFBMUIsS0FBOEMsUUFBOUMsSUFBMEQvUixLQUFLLENBQUM2SyxRQUFOLENBQWU4RixHQUFmLENBQW1Cb0IsZUFBbkIsQ0FBbUN6UixNQUFuQyxHQUE0QyxDQUF0RyxJQUEyR04sS0FBSyxDQUFDNkssUUFBTixDQUFlbUgsZ0JBQTlILEVBQWdKO0FBQzlJLFVBQUl6UyxHQUFHLEdBQUlpVyxxRUFBYyxDQUFDeFYsS0FBSyxDQUFDNkssUUFBTixDQUFlOEYsR0FBZixDQUFtQm9CLGVBQXBCLEVBQXFDLE1BQXJDLENBQWYsR0FBK0QvUixLQUFLLENBQUM2SyxRQUFOLENBQWU4RixHQUFmLENBQW1Cb0IsZUFBbkIsQ0FBbUNqUyxPQUFuQyxDQUEyQyxXQUEzQyxFQUF3REUsS0FBSyxDQUFDNkssUUFBTixDQUFlNEMsUUFBdkUsQ0FBL0QsR0FBa0p6TixLQUFLLENBQUM2SyxRQUFOLENBQWU4RixHQUFmLENBQW1CQyxhQUFuQixHQUFtQzVRLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZThGLEdBQWYsQ0FBbUJvQixlQUFuQixDQUFtQ2pTLE9BQW5DLENBQTJDLFdBQTNDLEVBQXdERSxLQUFLLENBQUM2SyxRQUFOLENBQWU0QyxRQUF2RSxDQUEvTDs7QUFFQXpOLFdBQUssQ0FBQzZLLFFBQU4sQ0FBZTBDLFVBQWYsQ0FBMEJ4TixLQUExQixHQUFrQ0csT0FBbEMsQ0FBMEM7QUFDeENFLFlBQUksRUFBRSxLQURrQztBQUV4Q2IsV0FBRyxFQUFFQSxHQUZtQztBQUd4Q2tCLGVBQU8sRUFBRTtBQUNQLHVCQUFhVCxLQUFLLENBQUM2SyxRQUFOLENBQWVtRDtBQURyQixTQUgrQjtBQU14Q3pOLGVBQU8sRUFBRSxpQkFBVXdKLFFBQVYsRUFBb0J1SyxPQUFwQixFQUE2QnBWLEdBQTdCLEVBQWtDO0FBQ3pDLGNBQUlBLEdBQUcsQ0FBQzRCLE1BQUosS0FBZSxHQUFuQixFQUF3QjtBQUN0QixnQkFBSXlULElBQUksR0FBR3BULElBQUksQ0FBQ2dELEtBQUwsQ0FBVzRGLFFBQVgsQ0FBWDtBQUVBL0osaUJBQUssQ0FBQzZLLFFBQU4sQ0FBZWdDLFdBQWYsR0FBNkJyQixtRUFBWSxDQUFDeEwsS0FBSyxDQUFDNkssUUFBTixDQUFlZ0MsV0FBaEIsRUFBNkIwSCxJQUE3QixDQUF6QztBQUVBcEwsb0JBQVE7QUFDVCxXQU5ELE1BTU87QUFDTG5KLGlCQUFLLENBQUNzQixHQUFOLENBQVUsMkJBQTJCeUksUUFBckM7O0FBRUFaLG9CQUFRO0FBQ1Q7QUFDRjtBQWxCdUMsT0FBMUM7QUFvQkQsS0F2QkQsTUF1Qk87QUFDTEEsY0FBUTtBQUNUO0FBQ0YsR0E3QkQ7O0FBK0JBLE9BQUttUixPQUFMLEdBQWUsWUFBWTtBQUN6QixRQUFJdGEsS0FBSyxHQUFHLElBQVo7O0FBRUFBLFNBQUssQ0FBQzZLLFFBQU4sQ0FBZXNDLGNBQWYsQ0FBOEJvTixVQUE5QixDQUF5QyxZQUFZO0FBQ25EdmEsV0FBSyxDQUFDNkssUUFBTixDQUFlc0MsY0FBZixDQUE4QnRDLFFBQTlCLENBQXVDNk8sTUFBdkMsR0FBZ0QsSUFBaEQ7O0FBQ0ExWixXQUFLLENBQUM2WixpQkFBTjs7QUFFQSxVQUFJN1osS0FBSyxDQUFDNkssUUFBTixDQUFld0MsbUJBQW5CLEVBQXdDO0FBQ3RDck4sYUFBSyxDQUFDNkssUUFBTixDQUFlcUMsYUFBZixDQUE2QlosSUFBN0I7O0FBQ0F0TSxhQUFLLENBQUM2SyxRQUFOLENBQWV1QyxlQUFmLENBQStCZCxJQUEvQjtBQUNEOztBQUVEdE0sV0FBSyxDQUFDd2EsT0FBTjtBQUNELEtBVkQ7QUFXRCxHQWREOztBQWdCQSxNQUFJQyxnQkFBSjs7QUFDQSxPQUFLRCxPQUFMLEdBQWUsWUFBWTtBQUN6QixRQUFJeGEsS0FBSyxHQUFHLElBQVo7O0FBRUEsUUFBSXlhLGdCQUFKLEVBQXNCO0FBQ3BCclEsa0JBQVksQ0FBQ3FRLGdCQUFELENBQVo7QUFDRDs7QUFFREEsb0JBQWdCLEdBQUc3VixVQUFVLENBQUMsWUFBWTtBQUN4QzVFLFdBQUssQ0FBQzZLLFFBQU4sQ0FBZXlDLFVBQWYsQ0FBMEJvTixjQUExQjs7QUFFQTFhLFdBQUssQ0FBQ3dhLE9BQU47QUFDRCxLQUo0QixFQUkxQixJQUowQixDQUE3QjtBQUtELEdBWkQ7O0FBY0EsT0FBS0csY0FBTCxHQUFzQixVQUFVeFIsUUFBVixFQUFvQjtBQUN4QyxRQUFJbkosS0FBSyxHQUFHLElBQVo7O0FBQ0EsUUFBSTRhLGdCQUFnQixHQUFHLEtBQXZCO0FBQ0EsUUFBSUMsY0FBYyxHQUFHLEVBQXJCO0FBRUFDLHlFQUFjLENBQUN0Tyw0REFBSyxDQUFDLE1BQUQsQ0FBTixFQUFnQixVQUFVdU8sSUFBVixFQUFnQjtBQUM1QyxVQUFJQSxJQUFJLEtBQUssSUFBYixFQUFtQjtBQUNqQkYsc0JBQWMsQ0FBQ3pYLElBQWYsQ0FBb0IsSUFBSTRYLEdBQUosQ0FBUUQsSUFBSSxDQUFDRSxJQUFiLEVBQW1CL1QsUUFBUSxDQUFDZ1UsT0FBNUIsRUFBcUNELElBQXpEO0FBQ0Q7QUFDRixLQUphLENBQWQ7QUFNQXpHLG9FQUFTLENBQUN4VSxLQUFLLENBQUM2SyxRQUFOLENBQWVxSCxTQUFoQixFQUEyQixVQUFVaUosUUFBVixFQUFvQkMsR0FBcEIsRUFBeUJ2WSxLQUF6QixFQUFnQztBQUNsRSxVQUFJd1ksTUFBTSxHQUFHLEtBQWI7QUFFQTdHLHNFQUFTLENBQUNxRyxjQUFELEVBQWlCLFVBQVVFLElBQVYsRUFBZ0I7QUFDeEMsWUFBSUEsSUFBSSxLQUFLLElBQUlDLEdBQUosQ0FBUUcsUUFBUixFQUFrQmpVLFFBQVEsQ0FBQ2dVLE9BQTNCLEVBQW9DRCxJQUFqRCxFQUF1RDtBQUNyREksZ0JBQU0sR0FBRyxJQUFUO0FBQ0Q7QUFDRixPQUpRLENBQVQ7O0FBTUEsVUFBSSxDQUFDQSxNQUFMLEVBQWE7QUFDWCxZQUFJTixJQUFJLEdBQUc3VCxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsTUFBdkIsQ0FBWDtBQUNBNFQsWUFBSSxDQUFDM08sWUFBTCxDQUFrQixLQUFsQixFQUF5QixZQUF6QjtBQUNBMk8sWUFBSSxDQUFDM08sWUFBTCxDQUFrQixNQUFsQixFQUEwQixVQUExQjtBQUNBMk8sWUFBSSxDQUFDM08sWUFBTCxDQUFrQixNQUFsQixFQUEwQitPLFFBQTFCOztBQUVBLFlBQUl0WSxLQUFLLEtBQUssQ0FBZCxFQUFpQjtBQUNma1ksY0FBSSxDQUFDcGEsTUFBTCxHQUFjLFlBQVk7QUFDeEIsZ0JBQUksT0FBT3dJLFFBQVAsS0FBb0IsVUFBeEIsRUFBb0M7QUFDbENBLHNCQUFRO0FBQ1Q7QUFDRixXQUpEOztBQU1BNFIsY0FBSSxDQUFDbGEsT0FBTCxHQUFlLFVBQVVnSixDQUFWLEVBQWE7QUFDMUIsZ0JBQUksT0FBT1YsUUFBUCxLQUFvQixVQUF4QixFQUFvQztBQUNsQ0Esc0JBQVE7QUFDVDtBQUNGLFdBSkQ7QUFLRDs7QUFFRGpDLGdCQUFRLENBQUM4RixJQUFULENBQWNYLFdBQWQsQ0FBMEIwTyxJQUExQjtBQUVBSCx3QkFBZ0IsR0FBRyxJQUFuQjtBQUNEO0FBQ0YsS0FqQ1EsQ0FBVDs7QUFtQ0EsUUFBSSxDQUFDQSxnQkFBRCxJQUFxQixPQUFPelIsUUFBUCxLQUFvQixVQUE3QyxFQUF5RDtBQUN2REEsY0FBUTtBQUNUO0FBQ0YsR0FqREQ7O0FBbURBLE9BQUttUyxxQkFBTCxHQUE2QixZQUFZO0FBQ3ZDLFFBQUl0YixLQUFLLEdBQUcsSUFBWjs7QUFFQSxRQUFJLENBQUNBLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXNDLGNBQWYsQ0FBOEJ0QyxRQUE5QixDQUF1QzBRLFFBQTVDLEVBQXNEO0FBQ3BEdmIsV0FBSyxDQUFDK1UscUNBQU4sQ0FBNEMsWUFBWTtBQUN0RC9VLGFBQUssQ0FBQzZLLFFBQU4sQ0FBZStFLFdBQWYsQ0FBMkJHLGVBQTNCLEdBQTZDLEVBQTdDOztBQUNBL1AsYUFBSyxDQUFDNkssUUFBTixDQUFleUMsVUFBZixDQUEwQmlOLFVBQTFCLENBQXFDLFlBQVk7QUFDL0M7QUFDQSxjQUFJdmEsS0FBSyxDQUFDNkssUUFBTixDQUFldUYsVUFBZixDQUEwQlosV0FBMUIsQ0FBc0NhLE1BQTFDLEVBQWtEO0FBQ2hEclEsaUJBQUssQ0FBQzZaLGlCQUFOO0FBQ0QsV0FKOEMsQ0FNL0M7OztBQUNBLGNBQUk3WixLQUFLLENBQUM2SyxRQUFOLENBQWV1RixVQUFmLENBQTBCMUIsWUFBMUIsQ0FBdUMyQixNQUEzQyxFQUFtRDtBQUNqRHJRLGlCQUFLLENBQUNxVyw2QkFBTixDQUFvQyxVQUFVbUYsZUFBVixFQUEyQjtBQUM3RHhiLG1CQUFLLENBQUNpVyxpQ0FBTjtBQUNELGFBRkQ7QUFHRCxXQVg4QyxDQWEvQzs7O0FBQ0EsY0FBSWpXLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXVGLFVBQWYsQ0FBMEJyQixPQUExQixDQUFrQ3NCLE1BQXRDLEVBQThDO0FBQzVDclEsaUJBQUssQ0FBQ2lZLHdCQUFOLENBQStCLFlBQVk7QUFDekNqWSxtQkFBSyxDQUFDa1csNkJBQU47QUFDRCxhQUZEO0FBR0QsV0FsQjhDLENBb0IvQzs7O0FBQ0EsY0FBSWxXLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXVGLFVBQWYsQ0FBMEJNLEtBQTFCLENBQWdDTCxNQUFwQyxFQUE0QztBQUMxQ3JRLGlCQUFLLENBQUM2WSx5QkFBTixDQUFnQyxZQUFZO0FBQzFDN1ksbUJBQUssQ0FBQ21XLDhCQUFOO0FBQ0QsYUFGRDtBQUdEO0FBQ0YsU0ExQkQ7O0FBMkJBdlIsa0JBQVUsQ0FBQyxZQUFZO0FBQ3JCNUUsZUFBSyxDQUFDNkssUUFBTixDQUFlc0MsY0FBZixDQUE4QnRDLFFBQTlCLENBQXVDQyxTQUF2QyxDQUFpRDJCLEtBQWpELENBQXVEQyxPQUF2RCxHQUFpRSxNQUFqRTtBQUNELFNBRlMsRUFFUCxHQUZPLENBQVY7QUFHRCxPQWhDRDtBQWlDRDtBQUNGLEdBdENEO0FBd0NBO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0UsT0FBSytPLG9CQUFMLEdBQTRCLFVBQVVDLEdBQVYsRUFBZUMsY0FBZixFQUErQjtBQUN6RCxRQUFJM2IsS0FBSyxHQUFHLElBQVo7O0FBRUEsUUFBSUEsS0FBSyxDQUFDNkssUUFBTixDQUFleUMsVUFBZixDQUEwQnpDLFFBQTFCLENBQW1DNk8sTUFBdkMsRUFBK0M7QUFDN0MsVUFBSWtDLE9BQU8sR0FBR3BQLDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWV5QyxVQUFmLENBQTBCekMsUUFBMUIsQ0FBbUNDLFNBQXBDLEVBQStDNFEsR0FBL0MsQ0FBbkI7O0FBQ0ExYixXQUFLLENBQUM2SyxRQUFOLENBQWV5QyxVQUFmLENBQTBCdU8sZ0JBQTFCLENBQTJDRCxPQUEzQyxFQUFvRCxZQUFZO0FBQzlENWIsYUFBSyxDQUFDNlosaUJBQU47O0FBRUEsWUFBSSxPQUFPOEIsY0FBUCxLQUEwQixVQUE5QixFQUEwQztBQUN4Q0Esd0JBQWM7QUFDZjtBQUNGLE9BTkQ7O0FBUUEvVyxnQkFBVSxDQUFDLFlBQVk7QUFDckI1RSxhQUFLLENBQUM2SyxRQUFOLENBQWVzQyxjQUFmLENBQThCdEMsUUFBOUIsQ0FBdUNDLFNBQXZDLENBQWlEMkIsS0FBakQsQ0FBdURDLE9BQXZELEdBQWlFLE1BQWpFO0FBQ0QsT0FGUyxFQUVQLEdBRk8sQ0FBVjtBQUdELEtBYkQsTUFhTztBQUNMMU0sV0FBSyxDQUFDK1UscUNBQU4sQ0FBNEMsWUFBWTtBQUN0RC9VLGFBQUssQ0FBQzZLLFFBQU4sQ0FBZXlDLFVBQWYsQ0FBMEJpTixVQUExQixDQUFxQyxZQUFZO0FBQy9DdmEsZUFBSyxDQUFDNkssUUFBTixDQUFleUMsVUFBZixDQUEwQnVPLGdCQUExQixDQUEyQ3JQLDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWV5QyxVQUFmLENBQTBCekMsUUFBMUIsQ0FBbUNDLFNBQXBDLEVBQStDNFEsR0FBL0MsQ0FBaEQsRUFBcUcsWUFBWTtBQUMvRzFiLGlCQUFLLENBQUM2WixpQkFBTjs7QUFFQSxnQkFBSSxPQUFPOEIsY0FBUCxLQUEwQixVQUE5QixFQUEwQztBQUN4Q0EsNEJBQWM7QUFDZjtBQUNGLFdBTkQ7QUFPRCxTQVJEOztBQVNBL1csa0JBQVUsQ0FBQyxZQUFZO0FBQ3JCNUUsZUFBSyxDQUFDNkssUUFBTixDQUFlc0MsY0FBZixDQUE4QnRDLFFBQTlCLENBQXVDQyxTQUF2QyxDQUFpRDJCLEtBQWpELENBQXVEQyxPQUF2RCxHQUFpRSxNQUFqRTtBQUNELFNBRlMsRUFFUCxHQUZPLENBQVY7QUFHRCxPQWJEO0FBY0Q7QUFDRixHQWhDRDs7QUFrQ0EsTUFBSW9QLHVCQUF1QixHQUFHLElBQUk5YywrQ0FBSyxDQUFDQyxJQUFWLEVBQTlCOztBQUNBLE9BQUs4YyxhQUFMLEdBQXFCLFVBQVVDLEVBQVYsRUFBYztBQUNqQyxRQUFJaGMsS0FBSyxHQUFHLElBQVosQ0FEaUMsQ0FHakM7OztBQUNBLFFBQUlpYyxnRUFBUSxDQUFDRCxFQUFELEVBQUssMkJBQUwsQ0FBUixJQUE2QyxDQUFDQyxnRUFBUSxDQUFDRCxFQUFELEVBQUssVUFBTCxDQUExRCxFQUE0RTtBQUMxRUUsc0VBQVEsQ0FBQ0YsRUFBRCxFQUFLLFVBQUwsQ0FBUjs7QUFFQWhjLFdBQUssQ0FBQ21aLDhCQUFOLENBQXFDLFlBQVk7QUFDL0NuWixhQUFLLENBQUNxWiw0QkFBTixDQUFtQyxVQUFVQyxlQUFWLEVBQTJCO0FBQzVEdFosZUFBSyxDQUFDNkssUUFBTixDQUFlcUQsV0FBZixDQUEyQkcsaUJBQTNCLEdBQStDaUwsZUFBZSxDQUFDblosSUFBL0QsQ0FENEQsQ0FHNUQ7QUFDQTtBQUNBO0FBRUE7O0FBQ0FILGVBQUssQ0FBQytVLHFDQUFOLENBQTRDLFlBQVk7QUFDdEQvVSxpQkFBSyxDQUFDNkssUUFBTixDQUFlK0UsV0FBZixDQUEyQkcsZUFBM0IsR0FBNkMsRUFBN0M7O0FBQ0EvUCxpQkFBSyxDQUFDNkssUUFBTixDQUFleUMsVUFBZixDQUEwQmlOLFVBQTFCLENBQXFDLFlBQVk7QUFDL0N2YSxtQkFBSyxDQUFDNlosaUJBQU47O0FBRUE3WixtQkFBSyxDQUFDNkssUUFBTixDQUFleUMsVUFBZixDQUEwQjZPLHNCQUExQixDQUFpRCxZQUFZLENBRTVELENBRkQ7QUFHRCxhQU5EOztBQU9Bdlgsc0JBQVUsQ0FBQyxZQUFZO0FBQ3JCNUUsbUJBQUssQ0FBQzZLLFFBQU4sQ0FBZXNDLGNBQWYsQ0FBOEJ0QyxRQUE5QixDQUF1Q0MsU0FBdkMsQ0FBaUQyQixLQUFqRCxDQUF1REMsT0FBdkQsR0FBaUUsTUFBakU7QUFDRCxhQUZTLEVBRVAsR0FGTyxDQUFWO0FBR0QsV0FaRDs7QUFjQTBQLDZFQUFXLENBQUNKLEVBQUQsRUFBSyxVQUFMLENBQVg7QUFDRCxTQXZCRDtBQXdCRCxPQXpCRCxFQUgwRSxDQThCMUU7O0FBQ0QsS0EvQkQsTUErQk8sSUFBSUMsZ0VBQVEsQ0FBQ0QsRUFBRCxFQUFLLHdDQUFMLENBQVIsSUFBMEQsQ0FBQ0MsZ0VBQVEsQ0FBQ0QsRUFBRCxFQUFLLFVBQUwsQ0FBdkUsRUFBeUY7QUFDOUZFLHNFQUFRLENBQUNGLEVBQUQsRUFBSyxVQUFMLENBQVI7O0FBRUFoYyxXQUFLLENBQUNtWiw4QkFBTixDQUFxQyxZQUFZO0FBQy9DblosYUFBSyxDQUFDcVosNEJBQU4sQ0FBbUMsVUFBVUMsZUFBVixFQUEyQjtBQUM1RHRaLGVBQUssQ0FBQzZLLFFBQU4sQ0FBZXFELFdBQWYsQ0FBMkJHLGlCQUEzQixHQUErQ2lMLGVBQWUsQ0FBQ25aLElBQS9EOztBQUNBSCxlQUFLLENBQUM2SyxRQUFOLENBQWV5QyxVQUFmLENBQTBCK08sa0NBQTFCOztBQUVBRCw2RUFBVyxDQUFDSixFQUFELEVBQUssVUFBTCxDQUFYO0FBQ0QsU0FMRDtBQU1ELE9BUEQsRUFIOEYsQ0FZOUY7O0FBQ0QsS0FiTSxNQWFBLElBQUlDLGdFQUFRLENBQUNELEVBQUQsRUFBSyxnQ0FBTCxDQUFSLElBQWtELENBQUNDLGdFQUFRLENBQUNELEVBQUQsRUFBSyxVQUFMLENBQS9ELEVBQWlGO0FBQ3RGRSxzRUFBUSxDQUFDRixFQUFELEVBQUssVUFBTCxDQUFSOztBQUVBaGMsV0FBSyxDQUFDbVosOEJBQU4sQ0FBcUMsWUFBWTtBQUMvQ25aLGFBQUssQ0FBQ3FaLDRCQUFOLENBQW1DLFVBQVVDLGVBQVYsRUFBMkI7QUFDNUR0WixlQUFLLENBQUM2SyxRQUFOLENBQWVxRCxXQUFmLENBQTJCRyxpQkFBM0IsR0FBK0NpTCxlQUFlLENBQUNuWixJQUEvRDs7QUFFQUgsZUFBSyxDQUFDNkssUUFBTixDQUFleUMsVUFBZixDQUEwQjZPLHNCQUExQixDQUFpRCxZQUFZLENBQzVELENBREQ7O0FBR0FDLDZFQUFXLENBQUNKLEVBQUQsRUFBSyxVQUFMLENBQVg7QUFDQUEsWUFBRSxDQUFDTSxVQUFILENBQWM3UCxLQUFkLENBQW9CQyxPQUFwQixHQUE4QixNQUE5QjtBQUNELFNBUkQ7QUFTRCxPQVZELEVBSHNGLENBZXRGOztBQUNELEtBaEJNLE1BZ0JBLElBQUl1UCxnRUFBUSxDQUFDRCxFQUFELEVBQUssZ0NBQUwsQ0FBUixJQUFrRCxDQUFDQyxnRUFBUSxDQUFDRCxFQUFELEVBQUssVUFBTCxDQUEvRCxFQUFpRjtBQUN0RmhjLFdBQUssQ0FBQzZLLFFBQU4sQ0FBZXNDLGNBQWYsQ0FBOEIyTSxRQUE5QixHQURzRixDQUd0Rjs7QUFDRCxLQUpNLE1BSUEsSUFBSW1DLGdFQUFRLENBQUNELEVBQUQsRUFBSyxtQ0FBTCxDQUFSLElBQXFELENBQUNDLGdFQUFRLENBQUNELEVBQUQsRUFBSyxVQUFMLENBQWxFLEVBQW9GO0FBQ3pGaGMsV0FBSyxDQUFDNkssUUFBTixDQUFlcUMsYUFBZixDQUE2QnFQLGdCQUE3QixHQUR5RixDQUd6Rjs7QUFDRCxLQUpNLE1BSUEsSUFBSU4sZ0VBQVEsQ0FBQ0QsRUFBRCxFQUFLLGdDQUFMLENBQVIsSUFBa0RDLGdFQUFRLENBQUNELEVBQUQsRUFBSyxpQ0FBTCxDQUExRCxJQUFxR0MsZ0VBQVEsQ0FBQ0QsRUFBRCxFQUFLLG9DQUFMLENBQTdHLElBQTJKQyxnRUFBUSxDQUFDRCxFQUFELEVBQUssbUNBQUwsQ0FBbkssSUFBZ05DLGdFQUFRLENBQUNELEVBQUQsRUFBSyx1Q0FBTCxDQUE1TixFQUEyUTtBQUNoUmhjLFdBQUssQ0FBQzZLLFFBQU4sQ0FBZXlDLFVBQWYsQ0FBMEJrUCxJQUExQixDQUErQixZQUFZO0FBQ3pDeGMsYUFBSyxDQUFDNkssUUFBTixDQUFlc0MsY0FBZixDQUE4QnRDLFFBQTlCLENBQXVDNk8sTUFBdkMsR0FBZ0QsSUFBaEQ7QUFDQTFaLGFBQUssQ0FBQzZLLFFBQU4sQ0FBZXNDLGNBQWYsQ0FBOEJ0QyxRQUE5QixDQUF1Q0MsU0FBdkMsQ0FBaUQyQixLQUFqRCxDQUF1REMsT0FBdkQsR0FBaUUsT0FBakU7O0FBRUExTSxhQUFLLENBQUM2WixpQkFBTjtBQUNELE9BTEQsRUFEZ1IsQ0FRaFI7O0FBQ0QsS0FUTSxNQVNBLElBQUksQ0FBQzdaLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZStFLFdBQWYsQ0FBMkJLLGNBQTNCLENBQTBDRSxzQkFBM0MsS0FBc0U4TCxnRUFBUSxDQUFDRCxFQUFELEVBQUsseUNBQUwsQ0FBUixJQUEyRFMsK0RBQU8sQ0FBQ1QsRUFBRCxFQUFLLDBDQUFMLENBQVAsS0FBNEQsSUFBN0wsQ0FBSixFQUF3TTtBQUM3TWhjLFdBQUssQ0FBQzZLLFFBQU4sQ0FBZXlDLFVBQWYsQ0FBMEJvUCxxQ0FBMUIsQ0FBZ0UsWUFBWSxDQUFFLENBQTlFLEVBRDZNLENBRzdNOztBQUNELEtBSk0sTUFJQSxJQUFJLENBQUMxYyxLQUFLLENBQUM2SyxRQUFOLENBQWUrRSxXQUFmLENBQTJCSyxjQUEzQixDQUEwQ0Usc0JBQTNDLElBQXFFOEwsZ0VBQVEsQ0FBQ0QsRUFBRCxFQUFLLDZDQUFMLENBQWpGLEVBQXNJO0FBQzNJaGMsV0FBSyxDQUFDNkssUUFBTixDQUFleUMsVUFBZixDQUEwQnFQLHFDQUExQixDQUFnRSxZQUFZLENBQUUsQ0FBOUUsRUFEMkksQ0FHM0k7O0FBQ0QsS0FKTSxNQUlBLElBQUlWLGdFQUFRLENBQUNELEVBQUQsRUFBSyx5Q0FBTCxDQUFSLElBQTJEUywrREFBTyxDQUFDVCxFQUFELEVBQUssMENBQUwsQ0FBUCxLQUE0RCxJQUEzSCxFQUFpSTtBQUN0SSxVQUFJaGMsS0FBSyxDQUFDNkssUUFBTixDQUFlcUQsV0FBZixDQUEyQkksYUFBM0IsS0FBNkMsSUFBakQsRUFBdUQ7QUFDckR0TyxhQUFLLENBQUM2SyxRQUFOLENBQWV5QyxVQUFmLENBQTBCNk8sc0JBQTFCLENBQWlELFlBQVksQ0FDNUQsQ0FERDtBQUVELE9BSnFJLENBTXRJOztBQUNELEtBUE0sTUFPQSxJQUFJRixnRUFBUSxDQUFDRCxFQUFELEVBQUssa0JBQUwsQ0FBWixFQUFzQztBQUMzQ2hjLFdBQUssQ0FBQytXLGNBQU4sQ0FBcUJpRixFQUFFLENBQUNZLE9BQUgsQ0FBVzlILEVBQWhDLEVBQW9DLFVBQVUzVSxJQUFWLEVBQWdCO0FBQ2xESCxhQUFLLENBQUM2SyxRQUFOLENBQWV5QyxVQUFmLENBQTBCdVAsc0JBQTFCLENBQWlEMWMsSUFBakQsRUFBdUQsWUFBWSxDQUNsRSxDQUREO0FBRUQsT0FIRCxFQUQyQyxDQU0zQzs7QUFDRCxLQVBNLE1BT0EsSUFBSThiLGdFQUFRLENBQUNELEVBQUQsRUFBSyxvQ0FBTCxDQUFaLEVBQXdEO0FBQzdEaGMsV0FBSyxDQUFDNkssUUFBTixDQUFleUMsVUFBZixDQUEwQndQLHNCQUExQixHQUQ2RCxDQUc3RDs7QUFDRCxLQUpNLE1BSUEsSUFBSWIsZ0VBQVEsQ0FBQ0QsRUFBRCxFQUFLLHFDQUFMLENBQVosRUFBeUQ7QUFDOURoYyxXQUFLLENBQUM2SyxRQUFOLENBQWV5QyxVQUFmLENBQTBCeVAsc0JBQTFCLENBQWlELFlBQVksQ0FDNUQsQ0FERCxFQUQ4RCxDQUk5RDs7QUFDRCxLQUxNLE1BS0EsSUFBSWQsZ0VBQVEsQ0FBQ0QsRUFBRCxFQUFLLHdDQUFMLENBQVosRUFBNEQ7QUFDakVoYyxXQUFLLENBQUM2SyxRQUFOLENBQWV5QyxVQUFmLENBQTBCMFAsaUJBQTFCLENBQTRDLFlBQVksQ0FDdkQsQ0FERCxFQURpRSxDQUlqRTs7QUFDRCxLQUxNLE1BS0EsSUFBSWYsZ0VBQVEsQ0FBQ0QsRUFBRCxFQUFLLHVDQUFMLENBQVosRUFBMkQ7QUFDaEVoYyxXQUFLLENBQUM2SyxRQUFOLENBQWV5QyxVQUFmLENBQTBCMlAsa0JBQTFCLENBQTZDLFlBQVksQ0FDeEQsQ0FERCxFQURnRSxDQUloRTs7QUFDRCxLQUxNLE1BS0EsSUFBSWhCLGdFQUFRLENBQUNELEVBQUQsRUFBSyxrQkFBTCxDQUFSLElBQW9DUywrREFBTyxDQUFDVCxFQUFELEVBQUssbUJBQUwsQ0FBUCxLQUFxQyxJQUE3RSxFQUFtRjtBQUN4RixVQUFJN0UsUUFBUSxHQUFJOEUsZ0VBQVEsQ0FBQ0QsRUFBRCxFQUFLLGtCQUFMLENBQVQsR0FBcUNBLEVBQUUsQ0FBQ1ksT0FBSCxDQUFXekYsUUFBaEQsR0FBMkRzRiwrREFBTyxDQUFDVCxFQUFELEVBQUssbUJBQUwsQ0FBUCxDQUFpQ1ksT0FBakMsQ0FBeUN6RixRQUFuSDs7QUFDQW5YLFdBQUssQ0FBQ2tYLFNBQU4sQ0FBZ0JDLFFBQWhCLEVBQTBCLFVBQVVoWCxJQUFWLEVBQWdCO0FBQ3hDSCxhQUFLLENBQUM2SyxRQUFOLENBQWV5QyxVQUFmLENBQTBCNFAsaUJBQTFCLENBQTRDL2MsSUFBNUMsRUFBa0QsWUFBWSxDQUM3RCxDQUREO0FBRUQsT0FIRCxFQUZ3RixDQU94Rjs7QUFDRCxLQVJNLE1BUUEsSUFBSThiLGdFQUFRLENBQUNELEVBQUQsRUFBSyxvQkFBTCxDQUFSLElBQXNDUywrREFBTyxDQUFDVCxFQUFELEVBQUsscUJBQUwsQ0FBUCxLQUF1QyxJQUFqRixFQUF1RjtBQUM1RixVQUFJMUUsU0FBUyxHQUFJMkUsZ0VBQVEsQ0FBQ0QsRUFBRCxFQUFLLG9CQUFMLENBQVQsR0FBdUNBLEVBQUUsQ0FBQ1ksT0FBSCxDQUFXekYsUUFBbEQsR0FBNkRzRiwrREFBTyxDQUFDVCxFQUFELEVBQUsscUJBQUwsQ0FBUCxDQUFtQ1ksT0FBbkMsQ0FBMkM5SCxFQUF4SDs7QUFDQTlVLFdBQUssQ0FBQ3FYLFVBQU4sQ0FBaUJDLFNBQWpCLEVBQTRCLFVBQVVuWCxJQUFWLEVBQWdCO0FBQzFDSCxhQUFLLENBQUM2SyxRQUFOLENBQWV5QyxVQUFmLENBQTBCNlAsa0JBQTFCLENBQTZDaGQsSUFBN0MsRUFBbUQsWUFBWSxDQUM5RCxDQUREO0FBRUQsT0FIRCxFQUY0RixDQU81Rjs7QUFDRCxLQVJNLE1BUUEsSUFBSThiLGdFQUFRLENBQUNELEVBQUQsRUFBSyxpQ0FBTCxDQUFaLEVBQXFEO0FBQzFEaGMsV0FBSyxDQUFDd1gsV0FBTixDQUFrQndFLEVBQUUsQ0FBQ1ksT0FBSCxDQUFXOUgsRUFBN0IsRUFBaUMsVUFBVTNVLElBQVYsRUFBZ0I7QUFDL0MsWUFBSUEsSUFBSSxDQUFDQSxJQUFMLENBQVVpZCxPQUFkLEVBQXVCO0FBQ3JCcGQsZUFBSyxDQUFDNkssUUFBTixDQUFleUMsVUFBZixDQUEwQitQLFdBQTFCOztBQUVBbkIsMEVBQVEsQ0FBQ0YsRUFBRCxFQUFLLFlBQUwsQ0FBUjtBQUNBQSxZQUFFLENBQUNoRyxTQUFILEdBQWVoVyxLQUFLLENBQUM2SyxRQUFOLENBQWVnQyxXQUFmLENBQTJCa0MsT0FBM0IsQ0FBbUNxTyxPQUFsRDtBQUNELFNBTEQsTUFLTztBQUNMaEIsNkVBQVcsQ0FBQ0osRUFBRCxFQUFLLFlBQUwsQ0FBWDtBQUNBQSxZQUFFLENBQUNoRyxTQUFILEdBQWVoVyxLQUFLLENBQUM2SyxRQUFOLENBQWVnQyxXQUFmLENBQTJCa0MsT0FBM0IsQ0FBbUN1TyxLQUFsRDtBQUNEO0FBQ0YsT0FWRCxFQUQwRCxDQWExRDs7QUFDRCxLQWRNLE1BY0EsSUFBSXJCLGdFQUFRLENBQUNELEVBQUQsRUFBSyw2Q0FBTCxDQUFSLElBQStEUywrREFBTyxDQUFDVCxFQUFELEVBQUssOENBQUwsQ0FBUCxLQUFnRSxJQUFuSSxFQUF5STtBQUM5SWhjLFdBQUssQ0FBQ3liLG9CQUFOLENBQTJCLHFDQUEzQixFQUFrRSxZQUFZO0FBQzVFLFlBQUkzRyxFQUFFLEdBQUltSCxnRUFBUSxDQUFDRCxFQUFELEVBQUssNkNBQUwsQ0FBVCxHQUFnRUEsRUFBRSxDQUFDWSxPQUFILENBQVc5SCxFQUEzRSxHQUFnRjJILCtEQUFPLENBQUNULEVBQUQsRUFBSyw4Q0FBTCxDQUFQLENBQTREWSxPQUE1RCxDQUFvRTlILEVBQTdKOztBQUNBOVUsYUFBSyxDQUFDNkssUUFBTixDQUFlcUMsYUFBZixDQUE2QnFQLGdCQUE3Qjs7QUFDQXZjLGFBQUssQ0FBQzZLLFFBQU4sQ0FBZXlDLFVBQWYsQ0FBMEJ5UCxzQkFBMUIsQ0FBaUQsWUFBWTtBQUMzRC9jLGVBQUssQ0FBQytXLGNBQU4sQ0FBcUJqQyxFQUFyQixFQUF5QixVQUFVM1UsSUFBVixFQUFnQjtBQUN2Q0gsaUJBQUssQ0FBQzZLLFFBQU4sQ0FBZXlDLFVBQWYsQ0FBMEJ1UCxzQkFBMUIsQ0FBaUQxYyxJQUFqRDtBQUNELFdBRkQ7QUFHRCxTQUpEO0FBS0QsT0FSRCxFQUQ4SSxDQVc5STs7QUFDRCxLQVpNLE1BWUEsSUFBSThiLGdFQUFRLENBQUNELEVBQUQsRUFBSyx5QkFBTCxDQUFaLEVBQTZDO0FBQ2xEaGMsV0FBSyxDQUFDNkssUUFBTixDQUFleUMsVUFBZixDQUEwQnVPLGdCQUExQixDQUEyQ0csRUFBM0MsRUFEa0QsQ0FHbEQ7O0FBQ0QsS0FKTSxNQUlBLElBQUlDLGdFQUFRLENBQUNELEVBQUQsRUFBSyxvQ0FBTCxDQUFaLEVBQXdEO0FBQzdELFVBQUloYyxLQUFLLENBQUM2SyxRQUFOLENBQWUrRSxXQUFmLENBQTJCckIsZUFBL0IsRUFBZ0Q7QUFDOUNuRSxvQkFBWSxDQUFDcEssS0FBSyxDQUFDNkssUUFBTixDQUFlK0UsV0FBZixDQUEyQnJCLGVBQTVCLENBQVo7QUFDRDs7QUFDRHZPLFdBQUssQ0FBQzZLLFFBQU4sQ0FBZXlDLFVBQWYsQ0FBMEJpUSxtQkFBMUIsQ0FBOEMsWUFBWTtBQUN4RHZkLGFBQUssQ0FBQzZaLGlCQUFOO0FBQ0QsT0FGRCxFQUVHaUMsdUJBRkgsRUFKNkQsQ0FRN0Q7O0FBQ0QsS0FUTSxNQVNBLElBQUlHLGdFQUFRLENBQUNELEVBQUQsRUFBSyxtQkFBTCxDQUFSLElBQXFDUywrREFBTyxDQUFDVCxFQUFELEVBQUssb0JBQUwsQ0FBUCxLQUFzQyxJQUEvRSxFQUFxRjtBQUMxRixVQUFJd0IsWUFBWSxHQUFJdkIsZ0VBQVEsQ0FBQ0QsRUFBRCxFQUFLLG1CQUFMLENBQVQsR0FBc0NBLEVBQUUsQ0FBQ1ksT0FBSCxDQUFXOUgsRUFBakQsR0FBc0QySCwrREFBTyxDQUFDVCxFQUFELEVBQUssb0JBQUwsQ0FBUCxDQUFrQ1ksT0FBbEMsQ0FBMEM5SCxFQUFuSDs7QUFDQSxVQUFJMkksU0FBUyxHQUFHemQsS0FBSyxDQUFDNkssUUFBTixDQUFleUMsVUFBZixDQUEwQm9RLFNBQTFCLEVBQWhCOztBQUVBRCxlQUFTLENBQUNFLElBQVYsQ0FBZSxZQUFZO0FBQ3pCM2QsYUFBSyxDQUFDNkssUUFBTixDQUFleUMsVUFBZixDQUEwQnpDLFFBQTFCLENBQW1DNk8sTUFBbkMsR0FBNEMsSUFBNUM7QUFDQTFaLGFBQUssQ0FBQzZLLFFBQU4sQ0FBZTJFLFdBQWYsQ0FBMkJyQixtQkFBM0IsR0FBaURxUCxZQUFqRDs7QUFDQXhkLGFBQUssQ0FBQzZaLGlCQUFOLENBQXdCLFlBQVk7QUFDbEM3WixlQUFLLENBQUM2SyxRQUFOLENBQWV5QyxVQUFmLENBQTBCc1EsbUJBQTFCLENBQThDLFlBQVk7QUFDeEQsZ0JBQUksQ0FBQzVkLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZStFLFdBQWYsQ0FBMkJLLGNBQTNCLENBQTBDRSxzQkFBL0MsRUFBdUU7QUFDckVuUSxtQkFBSyxDQUFDNkssUUFBTixDQUFleUMsVUFBZixDQUEwQm9QLHFDQUExQixDQUFnRSxZQUFZLENBQUUsQ0FBOUU7QUFDRCxhQUZELE1BRU8sSUFBSTFjLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXFELFdBQWYsQ0FBMkJJLGFBQTNCLEtBQTZDLElBQWpELEVBQXVEO0FBQzVEdE8sbUJBQUssQ0FBQzZLLFFBQU4sQ0FBZXlDLFVBQWYsQ0FBMEI2TyxzQkFBMUIsQ0FBaUQsWUFBWSxDQUFFLENBQS9EO0FBQ0Q7O0FBRURzQixxQkFBUyxDQUFDakIsSUFBVjtBQUNELFdBUkQ7QUFTRCxTQVZEO0FBV0QsT0FkRCxFQUowRixDQW9CMUY7QUFDRCxLQXJCTSxNQXFCQSxJQUFJUCxnRUFBUSxDQUFDRCxFQUFELEVBQUsscUNBQUwsQ0FBWixFQUF5RDtBQUM5RGhjLFdBQUssQ0FBQzZLLFFBQU4sQ0FBZXlDLFVBQWYsQ0FBMEJzUSxtQkFBMUIsR0FEOEQsQ0FHOUQ7O0FBQ0QsS0FKTSxNQUlBLElBQUszQixnRUFBUSxDQUFDRCxFQUFELEVBQUssMkJBQUwsQ0FBUixJQUE2Q1MsK0RBQU8sQ0FBQ1QsRUFBRCxFQUFLLDRCQUFMLENBQVAsS0FBOEMsSUFBNUYsSUFBc0dDLGdFQUFRLENBQUNELEVBQUQsRUFBSyxrQ0FBTCxDQUFSLElBQW9EUywrREFBTyxDQUFDVCxFQUFELEVBQUssbUNBQUwsQ0FBUCxLQUFxRCxJQUFuTixFQUEwTjtBQUMvTmhjLFdBQUssQ0FBQ3NiLHFCQUFOLEdBRCtOLENBRy9OOztBQUNELEtBSk0sTUFJQSxJQUFJVyxnRUFBUSxDQUFDRCxFQUFELEVBQUssb0JBQUwsQ0FBWixFQUF3QztBQUM3Q2hjLFdBQUssQ0FBQzZLLFFBQU4sQ0FBZXlDLFVBQWYsQ0FBMEJ1USxtQkFBMUIsQ0FBOEM3QixFQUE5QztBQUNEO0FBQ0YsR0FqTkQ7O0FBbU5BLE9BQUs4QixjQUFMLEdBQXNCLFlBQVk7QUFDaEMsUUFBSTlkLEtBQUssR0FBRyxJQUFaOztBQUVBa0gsWUFBUSxDQUFDOEYsSUFBVCxDQUFjK1EsZ0JBQWQsQ0FBK0IsT0FBL0IsRUFBd0MsVUFBVUMsS0FBVixFQUFpQjtBQUN2RCxjQUFRQSxLQUFLLENBQUNDLE9BQWQ7QUFDRSxhQUFLLEVBQUw7QUFBUztBQUNQLGNBQUlqZSxLQUFLLENBQUM2SyxRQUFOLENBQWV5QyxVQUFmLENBQTBCekMsUUFBMUIsQ0FBbUM2TyxNQUF2QyxFQUErQztBQUM3QzFaLGlCQUFLLENBQUM2SyxRQUFOLENBQWV5QyxVQUFmLENBQTBCa1AsSUFBMUIsQ0FBK0IsWUFBWTtBQUN6Q3hjLG1CQUFLLENBQUM2SyxRQUFOLENBQWVzQyxjQUFmLENBQThCdEMsUUFBOUIsQ0FBdUM2TyxNQUF2QyxHQUFnRCxJQUFoRDtBQUNBMVosbUJBQUssQ0FBQzZLLFFBQU4sQ0FBZXNDLGNBQWYsQ0FBOEJ0QyxRQUE5QixDQUF1Q0MsU0FBdkMsQ0FBaUQyQixLQUFqRCxDQUF1REMsT0FBdkQsR0FBaUUsT0FBakU7O0FBRUExTSxtQkFBSyxDQUFDNlosaUJBQU47QUFDRCxhQUxEO0FBTUQ7O0FBQ0Q7QUFWSjtBQVlELEtBYkQ7O0FBZUEsUUFBSTdaLEtBQUssQ0FBQ2tlLFFBQU4sRUFBSixFQUFzQjtBQUNwQmhYLGNBQVEsQ0FBQzhGLElBQVQsQ0FBYytRLGdCQUFkLENBQStCLFVBQS9CLEVBQTJDLFVBQVVDLEtBQVYsRUFBaUI7QUFDMUQsWUFBSWhDLEVBQUUsR0FBR2dDLEtBQUssQ0FBQ2xVLE1BQWY7O0FBRUEsWUFBSSxDQUFDOUosS0FBSyxDQUFDNkssUUFBTixDQUFlc0MsY0FBZixDQUE4QnRDLFFBQTlCLENBQXVDMFEsUUFBNUMsRUFBc0Q7QUFDcER2YixlQUFLLENBQUMrYixhQUFOLENBQW9CQyxFQUFwQjtBQUNEO0FBQ0YsT0FORDtBQU9ELEtBUkQsTUFRTztBQUNMOVUsY0FBUSxDQUFDOEYsSUFBVCxDQUFjK1EsZ0JBQWQsQ0FBK0IsT0FBL0IsRUFBd0MsVUFBVUMsS0FBVixFQUFpQjtBQUN2RCxZQUFJaEMsRUFBRSxHQUFHZ0MsS0FBSyxDQUFDbFUsTUFBZjs7QUFFQTlKLGFBQUssQ0FBQytiLGFBQU4sQ0FBb0JDLEVBQXBCO0FBQ0QsT0FKRDtBQUtEO0FBQ0YsR0FqQ0Q7O0FBbUNBLE9BQUttQyxlQUFMLEdBQXVCLFlBQVk7QUFDakMsUUFBSW5lLEtBQUssR0FBRyxJQUFaOztBQUVBQSxTQUFLLENBQUMrVSxxQ0FBTixDQUE0QyxZQUFZO0FBQ3REL1UsV0FBSyxDQUFDNkssUUFBTixDQUFlK0UsV0FBZixDQUEyQkcsZUFBM0IsR0FBNkMsRUFBN0M7QUFDQW5MLGdCQUFVLENBQUMsWUFBWTtBQUNyQjVFLGFBQUssQ0FBQzZLLFFBQU4sQ0FBZXNDLGNBQWYsQ0FBOEJ0QyxRQUE5QixDQUF1Q0MsU0FBdkMsQ0FBaUQyQixLQUFqRCxDQUF1REMsT0FBdkQsR0FBaUUsTUFBakU7QUFDRCxPQUZTLEVBRVAsR0FGTyxDQUFWO0FBR0QsS0FMRDs7QUFPQTFNLFNBQUssQ0FBQzZLLFFBQU4sQ0FBZXlDLFVBQWYsQ0FBMEJrUCxJQUExQjs7QUFDQXhjLFNBQUssQ0FBQzZLLFFBQU4sQ0FBZXlDLFVBQWYsQ0FBMEJ6QyxRQUExQixDQUFtQzRTLFNBQW5DLENBQTZDVyxlQUE3QyxHQUErRCxLQUEvRDtBQUNELEdBWkQ7O0FBY0EsT0FBS0MsT0FBTCxHQUFlLFlBQVk7QUFDekIsUUFBSXJlLEtBQUssR0FBRyxJQUFaOztBQUVBQSxTQUFLLENBQUM2SyxRQUFOLENBQWV5QyxVQUFmLENBQTBCa1AsSUFBMUIsQ0FBK0IsWUFBTTtBQUNuQ3hjLFdBQUssQ0FBQytVLHFDQUFOLENBQTRDLFlBQU07QUFDaEQvVSxhQUFLLENBQUMrWixZQUFOLENBQW1CLFlBQU07QUFDdkIvWixlQUFLLENBQUM2SyxRQUFOLENBQWVzQyxjQUFmLENBQThCdEMsUUFBOUIsQ0FBdUM2TyxNQUF2QyxHQUFnRCxJQUFoRDtBQUNBMVosZUFBSyxDQUFDNkssUUFBTixDQUFlc0MsY0FBZixDQUE4QnRDLFFBQTlCLENBQXVDQyxTQUF2QyxDQUFpRDJCLEtBQWpELENBQXVEQyxPQUF2RCxHQUFpRSxPQUFqRTs7QUFDQTFNLGVBQUssQ0FBQ3NhLE9BQU47QUFDRCxTQUpEO0FBS0QsT0FORDtBQU9ELEtBUkQ7QUFTRCxHQVpEOztBQWNBLE9BQUs0RCxRQUFMLEdBQWdCLFlBQVk7QUFDMUIsV0FBT0ksc0VBQWMsRUFBckI7QUFDRCxHQUZEOztBQUlBLE9BQUtDLGVBQUwsR0FBdUIsWUFBWTtBQUFBOztBQUNqQyxRQUFJLEtBQUsxVCxRQUFMLENBQWNzSCxNQUFsQixFQUEwQjtBQUN4QixVQUFNQSxNQUFNLEdBQUdxTSxNQUFNLENBQUNDLElBQVAsQ0FBWSxLQUFLNVQsUUFBTCxDQUFjc0gsTUFBMUIsRUFBa0N1TSxNQUFsQyxDQUF5QyxVQUFDQyxXQUFELEVBQWNDLFlBQWQsRUFBK0I7QUFDckYsK0NBQ0tELFdBREwsMkNBRVlFLHdFQUFnQixDQUFDRCxZQUFELENBRjVCLEdBRStDLE1BQUksQ0FBQy9ULFFBQUwsQ0FBY3NILE1BQWQsQ0FBcUJ5TSxZQUFyQixDQUYvQztBQUlELE9BTGMsRUFLWixFQUxZLENBQWY7QUFPQUUsdUVBQU8sQ0FBQztBQUNOQyxlQUFPLEVBQUUsNEJBREg7QUFFTkMsYUFBSyxFQUFFLElBRkQ7QUFHTkMsa0JBQVUsRUFBRSxLQUhOO0FBSU5DLGlCQUFTLG9CQUFPL00sTUFBUDtBQUpILE9BQUQsQ0FBUDtBQU1EO0FBQ0YsR0FoQkQ7QUFrQkE7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDRSxPQUFLN0YsSUFBTCxHQUFZLFlBQVk7QUFBQTs7QUFDdEIsU0FBS3FPLGNBQUwsQ0FBb0IsWUFBTTtBQUN4QixZQUFJLENBQUM0RCxlQUFMOztBQUVBLFlBQUksQ0FBQ25FLFVBQUwsQ0FBZ0IsVUFBQ25NLE1BQUQsRUFBWTtBQUMxQixjQUFJLENBQUNvTSxzQkFBTCxDQUE0QixZQUFNO0FBQ2hDLGNBQUksTUFBSSxDQUFDeFAsUUFBTCxDQUFjc0MsY0FBZCxLQUFpQyxJQUFyQyxFQUEyQztBQUN6QyxrQkFBSSxDQUFDdEMsUUFBTCxDQUFjdUMsZUFBZCxHQUFnQyxJQUFJekMsaUVBQUosRUFBaEM7QUFDQSxrQkFBSSxDQUFDRSxRQUFMLENBQWNxQyxhQUFkLEdBQThCLElBQUlvRiw2REFBSixDQUFrQjtBQUM5QzZNLDRCQUFjLEVBQUUsTUFBSSxDQUFDdFUsUUFBTCxDQUFjdUM7QUFEZ0IsYUFBbEIsQ0FBOUI7QUFHQSxrQkFBSSxDQUFDdkMsUUFBTCxDQUFjc0MsY0FBZCxHQUErQixJQUFJb0YsK0RBQUosQ0FBbUI7QUFDaERtSCxvQkFBTSxFQUFFO0FBRHdDLGFBQW5CLENBQS9CO0FBR0Esa0JBQUksQ0FBQzdPLFFBQUwsQ0FBY3lDLFVBQWQsR0FBMkIsSUFBSWtGLHVEQUFKLEVBQTNCO0FBRUEsa0JBQUksQ0FBQzNILFFBQUwsQ0FBY3FDLGFBQWQsQ0FBNEJyQyxRQUE1QixDQUFxQ0ksUUFBckMsR0FBZ0QsTUFBaEQ7QUFDQSxrQkFBSSxDQUFDSixRQUFMLENBQWNzQyxjQUFkLENBQTZCdEMsUUFBN0IsQ0FBc0NJLFFBQXRDLEdBQWlELE1BQWpEO0FBQ0Esa0JBQUksQ0FBQ0osUUFBTCxDQUFjeUMsVUFBZCxDQUF5QnpDLFFBQXpCLENBQWtDSSxRQUFsQyxHQUE2QyxNQUE3QztBQUNBLGtCQUFJLENBQUNKLFFBQUwsQ0FBY3VDLGVBQWQsQ0FBOEJ2QyxRQUE5QixDQUF1Q0ksUUFBdkMsR0FBa0QsTUFBbEQ7O0FBRUEsa0JBQUksQ0FBQ3FQLE9BQUw7O0FBQ0Esa0JBQUksQ0FBQ3dELGNBQUw7QUFDRCxXQWpCRCxNQWlCTztBQUNMLGtCQUFJLENBQUNqVCxRQUFMLENBQWN5QyxVQUFkLENBQXlCa1AsSUFBekIsQ0FBOEIsWUFBTTtBQUNsQyxvQkFBSSxDQUFDekgscUNBQUwsQ0FBMkMsWUFBTTtBQUMvQyxzQkFBSSxDQUFDbEssUUFBTCxDQUFjc0MsY0FBZCxDQUE2QnRDLFFBQTdCLENBQXNDNk8sTUFBdEMsR0FBK0MsSUFBL0M7QUFDQSxzQkFBSSxDQUFDN08sUUFBTCxDQUFjc0MsY0FBZCxDQUE2QnRDLFFBQTdCLENBQXNDQyxTQUF0QyxDQUFnRDJCLEtBQWhELENBQXNEQyxPQUF0RCxHQUFnRSxPQUFoRTs7QUFDQSxzQkFBSSxDQUFDNE4sT0FBTDtBQUNELGVBSkQ7QUFLRCxhQU5EO0FBT0Q7QUFDRixTQTNCRDtBQTRCRCxPQTdCRDtBQThCRCxLQWpDRDtBQWtDRCxHQW5DRDs7QUFxQ0EsTUFBSSxLQUFLelAsUUFBTCxDQUFjbE0sU0FBbEIsRUFBNkI7QUFDM0IsU0FBSzJOLElBQUw7QUFDRDtBQUNGLENBdHBETSxDOzs7Ozs7Ozs7Ozs7QUNsQ1A7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNPLElBQU1rRyxVQUFVLEdBQUcsU0FBYkEsVUFBYSxDQUFVNUgsT0FBVixFQUFtQjtBQUMzQztBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDRSxPQUFLQyxRQUFMLEdBQWdCO0FBQ2RJLFlBQVEsRUFBRSxJQURJO0FBRWRILGFBQVMsRUFBRSxJQUZHO0FBR2RzVSxvQkFBZ0IsRUFBRSxJQUhKO0FBSWRoUCxjQUFVLEVBQUUsSUFKRTtBQUtkaVAsV0FBTyxFQUFFLElBTEs7QUFNZEMsb0JBQWdCLEVBQUUsSUFOSjtBQU9kQywyQkFBdUIsRUFBRSxJQVBYO0FBUWRDLGNBQVUsRUFBRSxJQVJFO0FBU2RDLGFBQVMsRUFBRSxJQVRHO0FBVWRoQyxhQUFTLEVBQUU7QUFDVFcscUJBQWUsRUFBRSxLQURSO0FBRVRzQiwwQkFBb0IsRUFBRSxJQUZiO0FBR1RDLCtCQUF5QixFQUFFLHFDQUFZLENBQ3RDO0FBSlEsS0FWRztBQWdCZHRPLGVBQVcsRUFBRTtBQUNYdkcsZUFBUyxFQUFFLElBREE7QUFFWHdVLHNCQUFnQixFQUFFO0FBRlAsS0FoQkM7QUFvQmRwUSxVQUFNLEVBQUU7QUFDTnBFLGVBQVMsRUFBRSxJQURMO0FBRU53VSxzQkFBZ0IsRUFBRTtBQUZaLEtBcEJNO0FBd0JkL1AsWUFBUSxFQUFFO0FBQ1J6RSxlQUFTLEVBQUUsSUFESDtBQUVSd1Usc0JBQWdCLEVBQUU7QUFGVixLQXhCSTtBQTRCZDFQLGVBQVcsRUFBRTtBQUNYZ1Esc0JBQWdCLEVBQUUsRUFEUDtBQUVYQyxtQkFBYSxFQUFFLENBRko7QUFHWEMsWUFBTSxFQUFFLElBSEc7QUFJWGhWLGVBQVMsRUFBRSxJQUpBO0FBS1hpVixxQkFBZSxFQUFFLElBTE47QUFNWGxSLFVBQUksRUFBRSxJQU5LO0FBT1htUixnQkFBVSxFQUFFLElBUEQ7QUFRWEMsbUJBQWEsRUFBRTtBQVJKLEtBNUJDO0FBc0NkQyxzQkFBa0IsRUFBRTtBQUNsQkMscUJBQWUsRUFBRSxDQUFDO0FBQ2hCQyxhQUFLLEVBQUUsc0JBRFM7QUFFaEJoZ0IsWUFBSSxFQUFFLG1CQUZVO0FBR2hCdWQsWUFBSSxFQUFFLEtBSFU7QUFJaEIwQyxzQkFBYyxFQUFFO0FBSkEsT0FBRCxFQUtkO0FBQ0RELGFBQUssRUFBRSxvQkFETjtBQUVEaGdCLFlBQUksRUFBRSxvQkFGTDtBQUdEdWQsWUFBSSxFQUFFLElBSEw7QUFJRDBDLHNCQUFjLEVBQUU7QUFKZixPQUxjLEVBVWQ7QUFDREQsYUFBSyxFQUFFLHNCQUROO0FBRURoZ0IsWUFBSSxFQUFFLHNCQUZMO0FBR0R1ZCxZQUFJLEVBQUUsS0FITDtBQUlEMEMsc0JBQWMsRUFBRTtBQUpmLE9BVmM7QUFEQyxLQXRDTjtBQXdEZEMsa0JBQWMsRUFBRTtBQUNkSCxxQkFBZSxFQUFFLENBQUM7QUFDaEJDLGFBQUssRUFBRSxtQkFEUztBQUVoQmhnQixZQUFJLEVBQUUsa0JBRlU7QUFHaEJ1ZCxZQUFJLEVBQUUsSUFIVTtBQUloQjBDLHNCQUFjLEVBQUU7QUFKQSxPQUFELEVBS2Q7QUFDREQsYUFBSyxFQUFFLGlCQUROO0FBRURoZ0IsWUFBSSxFQUFFLFNBRkw7QUFHRHVkLFlBQUksRUFBRSxLQUhMO0FBSUQwQyxzQkFBYyxFQUFFO0FBSmYsT0FMYyxFQVVkO0FBQ0RELGFBQUssRUFBRSxpQkFETjtBQUVEaGdCLFlBQUksRUFBRSxnQkFGTDtBQUdEdWQsWUFBSSxFQUFFLEtBSEw7QUFJRDBDLHNCQUFjLEVBQUU7QUFKZixPQVZjO0FBREgsS0F4REY7QUEwRWQzRyxVQUFNLEVBQUUsS0ExRU07QUEyRWQ2Ryw4QkFBMEIsRUFBRSxJQUFJalgsSUFBSixHQUFXa1gsT0FBWCxFQTNFZDtBQTRFZEMsOEJBQTBCLEVBQUU7QUE1RWQsR0FBaEI7O0FBK0VBLE1BQUksT0FBTzdWLE9BQVAsS0FBbUIsV0FBdkIsRUFBb0M7QUFDbEMsU0FBSyxJQUFJOFYsR0FBVCxJQUFnQjlWLE9BQWhCLEVBQXlCO0FBQ3ZCLFVBQUlBLE9BQU8sQ0FBQytWLGNBQVIsQ0FBdUJELEdBQXZCLENBQUosRUFBaUM7QUFDL0IsYUFBSzdWLFFBQUwsQ0FBYzZWLEdBQWQsSUFBcUI5VixPQUFPLENBQUM4VixHQUFELENBQTVCO0FBQ0Q7QUFDRjtBQUNGO0FBRUQ7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0UsT0FBS0UsY0FBTCxHQUFzQixVQUFVemdCLElBQVYsRUFBZ0IwZ0IsUUFBaEIsRUFBMEI7QUFDOUMsUUFBSTdnQixLQUFLLEdBQUcsSUFBWjs7QUFDQSxRQUFJOGdCLGdCQUFnQixHQUFHNVosUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXZCO0FBRUEyWixvQkFBZ0IsQ0FBQzFVLFlBQWpCLENBQThCLE9BQTlCLEVBQXVDLDZCQUF2QztBQUVBb0ksb0VBQVMsQ0FBQ3JVLElBQUQsRUFBTyxVQUFVNGdCLEtBQVYsRUFBaUI7QUFDL0IsVUFBSUMsZ0JBQWdCLEdBQUc5WixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBdkI7QUFDQSxVQUFJOFosY0FBYyxHQUFHL1osUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXJCO0FBQ0EsVUFBSStaLGFBQWEsR0FBR2hhLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUFwQjtBQUNBLFVBQUlnYSxzQkFBc0IsR0FBR2phLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUE3QjtBQUNBLFVBQUlpYSxhQUFhLEdBQUdsYSxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBcEI7QUFFQTZaLHNCQUFnQixDQUFDNVUsWUFBakIsQ0FBOEIsT0FBOUIsRUFBdUMsa0JBQWtCMlUsS0FBSyxDQUFDM2dCLElBQXhCLElBQWlDLE9BQU8yZ0IsS0FBSyxDQUFDcEQsSUFBYixLQUFzQixTQUF0QixJQUFtQ29ELEtBQUssQ0FBQ3BELElBQTFDLEdBQWtELFdBQWxELEdBQWdFLEVBQWhHLENBQXZDO0FBQ0FzRCxvQkFBYyxDQUFDN1UsWUFBZixDQUE0QixPQUE1QixFQUFxQyxvQkFBckM7QUFDQThVLG1CQUFhLENBQUM5VSxZQUFkLENBQTJCLE9BQTNCLEVBQW9DLG9CQUFwQztBQUNBK1UsNEJBQXNCLENBQUMvVSxZQUF2QixDQUFvQyxPQUFwQyxFQUE2Qyw2QkFBN0M7QUFDQWdWLG1CQUFhLENBQUNoVixZQUFkLENBQTJCLE9BQTNCLEVBQW9DLG1CQUFwQzs7QUFFQSxVQUFJLE9BQU9wTSxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDZ0MsV0FBakMsQ0FBNkNrQyxPQUE3QyxDQUFxRGdTLEtBQUssQ0FBQzNnQixJQUEzRCxDQUFQLEtBQTRFLFdBQWhGLEVBQTZGO0FBQzNGNmdCLHNCQUFjLENBQUNqTCxTQUFmLEdBQTJCaFcsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ2dDLFdBQWpDLENBQTZDa0MsT0FBN0MsQ0FBcURnUyxLQUFLLENBQUMzZ0IsSUFBM0QsQ0FBM0I7QUFDRCxPQUZELE1BRU8sSUFBSSxPQUFPSixLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDZ0MsV0FBakMsQ0FBNkMyQyxXQUE3QyxDQUF5RHVSLEtBQUssQ0FBQzNnQixJQUEvRCxDQUFQLEtBQWdGLFdBQXBGLEVBQWlHO0FBQ3RHNmdCLHNCQUFjLENBQUNqTCxTQUFmLEdBQTJCaFcsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ2dDLFdBQWpDLENBQTZDMkMsV0FBN0MsQ0FBeUR1UixLQUFLLENBQUMzZ0IsSUFBL0QsQ0FBM0I7QUFDRCxPQUZNLE1BRUE7QUFDTDZnQixzQkFBYyxDQUFDakwsU0FBZixHQUEyQitLLEtBQUssQ0FBQ1gsS0FBakM7QUFDRDs7QUFFRCxVQUFJLE9BQU9TLFFBQVAsS0FBb0IsVUFBeEIsRUFBb0M7QUFDbENBLGdCQUFRLENBQUNHLGdCQUFELEVBQW1CSSxhQUFuQixFQUFrQ0YsYUFBbEMsRUFBaURILEtBQWpELENBQVI7QUFDRDs7QUFFREksNEJBQXNCLENBQUM5VSxXQUF2QixDQUFtQytVLGFBQW5DO0FBRUFKLHNCQUFnQixDQUFDM1UsV0FBakIsQ0FBNkI0VSxjQUE3QjtBQUNBRCxzQkFBZ0IsQ0FBQzNVLFdBQWpCLENBQTZCNlUsYUFBN0I7QUFDQUYsc0JBQWdCLENBQUMzVSxXQUFqQixDQUE2QjhVLHNCQUE3QjtBQUVBTCxzQkFBZ0IsQ0FBQ3pVLFdBQWpCLENBQTZCMlUsZ0JBQTdCO0FBQ0QsS0FoQ1EsQ0FBVDtBQWtDQSxXQUFPRixnQkFBUDtBQUNELEdBekNEOztBQTJDQSxPQUFLakQsbUJBQUwsR0FBMkIsVUFBVXdELE9BQVYsRUFBbUI7QUFDNUM7QUFDQSxRQUFJQyxRQUFRLEdBQUdELE9BQU8sQ0FBQy9FLFVBQXZCOztBQUVBLFFBQUlMLCtEQUFRLENBQUNxRixRQUFELEVBQVcsVUFBWCxDQUFaLEVBQW9DO0FBQ2xDbEYsd0VBQVcsQ0FBQ2tGLFFBQUQsRUFBVyxVQUFYLENBQVg7QUFDRCxLQUZELE1BRU87QUFDTHhHLDJFQUFjLENBQUN0Tyw0REFBSyxDQUFDaVEsOERBQU8sQ0FBQzZFLFFBQUQsRUFBVyw4QkFBWCxDQUFSLEVBQW9ELFdBQXBELENBQU4sRUFBd0UsVUFBVTloQixHQUFWLEVBQWU7QUFDbkc0YywwRUFBVyxDQUFDNWMsR0FBRCxFQUFNLFVBQU4sQ0FBWDtBQUNELE9BRmEsQ0FBZDtBQUlBMGMscUVBQVEsQ0FBQ29GLFFBQUQsRUFBVyxVQUFYLENBQVI7QUFDRDtBQUNGLEdBYkQ7O0FBZUEsT0FBS0MsZ0JBQUwsR0FBd0IsVUFBVUMsQ0FBVixFQUFhQyxDQUFiLEVBQWdCO0FBQ3RDLFFBQUlELENBQUMsQ0FBQy9RLEtBQUYsR0FBVWdSLENBQUMsQ0FBQ2hSLEtBQWhCLEVBQXVCO0FBQ3JCLGFBQU8sQ0FBQyxDQUFSO0FBQ0Q7O0FBQ0QsUUFBSStRLENBQUMsQ0FBQy9RLEtBQUYsR0FBVWdSLENBQUMsQ0FBQ2hSLEtBQWhCLEVBQXVCO0FBQ3JCLGFBQU8sQ0FBUDtBQUNEOztBQUNELFdBQU8sQ0FBUDtBQUNELEdBUkQ7O0FBVUEsT0FBS2lSLGVBQUwsR0FBdUIsVUFBVTVXLFNBQVYsRUFBcUI2VyxjQUFyQixFQUFxQztBQUMxRCxRQUFJM2hCLEtBQUssR0FBRyxJQUFaOztBQUVBd1Usb0VBQVMsQ0FBQ21OLGNBQUQsRUFBaUIsVUFBVUMsR0FBVixFQUFleEcsR0FBZixFQUFvQjtBQUM1QyxVQUFJeUcsY0FBYyxHQUFHM2EsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXJCO0FBQ0EsVUFBSTJhLGtCQUFrQixHQUFHNWEsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXpCO0FBQ0EsVUFBSTRhLG1CQUFtQixHQUFHN2EsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQTFCO0FBRUEwYSxvQkFBYyxDQUFDelYsWUFBZixDQUE0QixPQUE1QixFQUFxQ3BNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUN1RixVQUFqQyxDQUE0Q3dSLEdBQUcsQ0FBQ3hHLEdBQWhELEVBQXFEOUssZUFBckQsR0FBdUUsaUNBQXZFLElBQTRHdFEsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3VGLFVBQWpDLENBQTRDd1IsR0FBRyxDQUFDeEcsR0FBaEQsRUFBcUQvSyxNQUFyRCxHQUE4RCxFQUE5RCxHQUFtRSw0QkFBL0ssQ0FBckM7QUFDQXlSLHdCQUFrQixDQUFDMVYsWUFBbkIsQ0FBZ0MsT0FBaEMsRUFBeUNwTSxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDdUYsVUFBakMsQ0FBNEN3UixHQUFHLENBQUN4RyxHQUFoRCxFQUFxRDdLLG1CQUFyRCxHQUEyRSwwQkFBcEg7QUFDQXdSLHlCQUFtQixDQUFDM1YsWUFBcEIsQ0FBaUMsT0FBakMsRUFBMEMsK0JBQTFDO0FBRUEwVix3QkFBa0IsQ0FBQ3pWLFdBQW5CLENBQStCMFYsbUJBQS9CO0FBQ0FGLG9CQUFjLENBQUN4VixXQUFmLENBQTJCeVYsa0JBQTNCO0FBQ0FoWCxlQUFTLENBQUN1QixXQUFWLENBQXNCd1YsY0FBdEI7QUFDRCxLQVpRLENBQVQ7QUFhRCxHQWhCRDs7QUFrQkEsT0FBSzVWLGFBQUwsR0FBcUIsWUFBWTtBQUMvQixRQUFJQyxPQUFPLEdBQUdoRixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBZDtBQUVBK0UsV0FBTyxDQUFDRSxZQUFSLENBQXFCLE9BQXJCLEVBQThCLHVDQUE5QjtBQUVBLFdBQU9GLE9BQVA7QUFDRCxHQU5EOztBQVFBLE9BQUttRyxNQUFMLEdBQWMsWUFBWTtBQUN4QixRQUFJclMsS0FBSyxHQUFHLElBQVo7O0FBQ0EsUUFBSWtNLE9BQU8sR0FBR2hGLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUFkO0FBQ0EsUUFBSTZhLFlBQVksR0FBRzlhLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUFuQjtBQUVBLFFBQUk4YSxtQkFBbUIsR0FBRy9hLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUExQjtBQUNBLFFBQUl1YSxlQUFlLEdBQUd4YSxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBdEI7QUFFQSxRQUFJK2Esb0JBQW9CLEdBQUdoYixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBM0I7QUFFQSxRQUFJZ2Isa0JBQWtCLEdBQUdqYixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBekI7QUFDQSxRQUFJaWIsZ0JBQWdCLEdBQUdsYixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBdkI7QUFDQSxRQUFJa2IsYUFBYSxHQUFHbmIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXBCO0FBQ0EsUUFBSW1iLGFBQWEsR0FBR3BiLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUFwQjtBQUNBLFFBQUlvYixhQUFhLEdBQUdyYixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBcEI7O0FBRUEsUUFBSXFiLFNBQVMsR0FBR3hpQixLQUFLLENBQUN5aUIscUJBQU4sRUFBaEI7O0FBQ0EsUUFBSUMsVUFBVSxHQUFHMWlCLEtBQUssQ0FBQzJpQixzQkFBTixFQUFqQjs7QUFDQSxRQUFJQyxjQUFjLEdBQUc1aUIsS0FBSyxDQUFDNmlCLGlCQUFOLEVBQXJCOztBQUNBLFFBQUlDLFlBQVksR0FBRzlpQixLQUFLLENBQUMraUIsZUFBTixFQUFuQjs7QUFFQSxRQUFJQyxrQkFBa0IsR0FBRyxFQUF6QjtBQUNBeE8sb0VBQVMsQ0FBQ3hVLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUN1RixVQUFsQyxFQUE4QyxVQUFVd1IsR0FBVixFQUFleEcsR0FBZixFQUFvQjtBQUN6RTRILHdCQUFrQixDQUFDNWYsSUFBbkIsQ0FBd0I7QUFDdEJnWSxXQUFHLEVBQUVBLEdBRGlCO0FBRXRCM0ssYUFBSyxFQUFFa0YsUUFBUSxDQUFDaU0sR0FBRyxDQUFDblIsS0FBTDtBQUZPLE9BQXhCO0FBSUQsS0FMUSxDQUFUOztBQU9BelEsU0FBSyxDQUFDMGhCLGVBQU4sQ0FBc0JBLGVBQXRCLEVBQXVDc0Isa0JBQXZDLEVBN0J3QixDQTZCb0M7OztBQUU1RDlXLFdBQU8sQ0FBQ0UsWUFBUixDQUFxQixPQUFyQixFQUE4Qix3QkFBOUI7QUFDQTRWLGdCQUFZLENBQUM1VixZQUFiLENBQTBCLE9BQTFCLEVBQW1DLDhCQUFuQztBQUVBNlYsdUJBQW1CLENBQUM3VixZQUFwQixDQUFpQyxPQUFqQyxFQUEwQyxxQ0FBMUM7QUFDQXNWLG1CQUFlLENBQUN0VixZQUFoQixDQUE2QixPQUE3QixFQUFzQyxpQ0FBdEM7QUFFQThWLHdCQUFvQixDQUFDOVYsWUFBckIsQ0FBa0MsT0FBbEMsRUFBMkMsc0NBQXNDcE0sS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ29ILGFBQWpDLEdBQWlELEVBQWpELEdBQXNELHNCQUE1RixDQUEzQztBQUVBa1Esc0JBQWtCLENBQUMvVixZQUFuQixDQUFnQyxPQUFoQyxFQUF5QywyQkFBekM7QUFDQWdXLG9CQUFnQixDQUFDaFcsWUFBakIsQ0FBOEIsT0FBOUIsRUFBdUMsbUNBQXZDO0FBQ0FpVyxpQkFBYSxDQUFDalcsWUFBZCxDQUEyQixPQUEzQixFQUFvQyxtQkFBcEM7QUFDQWtXLGlCQUFhLENBQUNsVyxZQUFkLENBQTJCLE9BQTNCLEVBQW9DLG1CQUFwQztBQUNBbVcsaUJBQWEsQ0FBQ25XLFlBQWQsQ0FBMkIsT0FBM0IsRUFBb0MsbUJBQXBDO0FBRUFnVyxvQkFBZ0IsQ0FBQy9WLFdBQWpCLENBQTZCZ1csYUFBN0I7QUFDQUQsb0JBQWdCLENBQUMvVixXQUFqQixDQUE2QmlXLGFBQTdCO0FBQ0FGLG9CQUFnQixDQUFDL1YsV0FBakIsQ0FBNkJrVyxhQUE3QjtBQUNBSixzQkFBa0IsQ0FBQzlWLFdBQW5CLENBQStCK1YsZ0JBQS9CO0FBRUFILHVCQUFtQixDQUFDNVYsV0FBcEIsQ0FBZ0NxVixlQUFoQztBQUVBUSx3QkFBb0IsQ0FBQzdWLFdBQXJCLENBQWlDbVcsU0FBakM7QUFDQU4sd0JBQW9CLENBQUM3VixXQUFyQixDQUFpQ3FXLFVBQWpDO0FBQ0FSLHdCQUFvQixDQUFDN1YsV0FBckIsQ0FBaUN1VyxjQUFqQztBQUNBVix3QkFBb0IsQ0FBQzdWLFdBQXJCLENBQWlDeVcsWUFBakM7QUFDQVosd0JBQW9CLENBQUM3VixXQUFyQixDQUFpQzhWLGtCQUFqQztBQUVBSCxnQkFBWSxDQUFDM1YsV0FBYixDQUF5QjRWLG1CQUF6QjtBQUNBRCxnQkFBWSxDQUFDM1YsV0FBYixDQUF5QjZWLG9CQUF6QjtBQUNBaFcsV0FBTyxDQUFDRyxXQUFSLENBQW9CMlYsWUFBcEI7QUFFQSxXQUFPOVYsT0FBUDtBQUNELEdBL0REOztBQWlFQSxPQUFLK1csbUJBQUwsR0FBMkIsWUFBWTtBQUNyQyxRQUFJampCLEtBQUssR0FBRyxJQUFaOztBQUNBLFFBQUlrakIsUUFBUSxHQUFHMVcsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBaEIsRUFBMkIsaUNBQTNCLENBQXBCO0FBQ0EsUUFBSXFZLFlBQVksR0FBRyxDQUFuQjtBQUVBckkseUVBQWMsQ0FBQ29JLFFBQUQsRUFBVyxVQUFVRSxPQUFWLEVBQW1CO0FBQzFDLFVBQUksQ0FBQ25ILCtEQUFRLENBQUNtSCxPQUFELEVBQVUsMkJBQVYsQ0FBYixFQUFxRDtBQUNuREQsb0JBQVk7QUFDYjtBQUNGLEtBSmEsQ0FBZDs7QUFNQSxRQUFJQSxZQUFZLEtBQUssQ0FBckIsRUFBd0I7QUFDdEJqSCxxRUFBUSxDQUFDMVAsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBaEIsRUFBMkIsK0JBQTNCLENBQU4sRUFBbUUsc0JBQW5FLENBQVI7QUFDRCxLQUZELE1BRU8sSUFBSXFZLFlBQVksS0FBSyxDQUFyQixFQUF3QjtBQUM3Qm5qQixXQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0IzSixHQUF4QixDQUE0QixtRkFBNUI7QUFDRDtBQUNGLEdBaEJEOztBQWtCQSxPQUFLbWhCLHFCQUFMLEdBQTZCLFlBQVk7QUFDdkMsUUFBSXppQixLQUFLLEdBQUcsSUFBWjs7QUFDQSxRQUFJd2lCLFNBQVMsR0FBR3RiLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUFoQjtBQUVBLFFBQUlrYyxlQUFlLEdBQUduYyxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBdEI7QUFDQSxRQUFJbWMsbUJBQW1CLEdBQUdwYyxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBMUI7QUFDQSxRQUFJb2MsdUJBQXVCLEdBQUdyYyxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBOUI7QUFDQSxRQUFJcWMsb0JBQW9CLEdBQUd0YyxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBM0I7QUFDQSxRQUFJc2MsbUJBQW1CLEdBQUd2YyxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBMUI7QUFDQSxRQUFJdWMsb0JBQW9CLEdBQUd4YyxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBM0I7QUFFQSxRQUFJd2MsZ0JBQWdCLEdBQUd6YyxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBdkI7QUFDQSxRQUFJeWMsb0JBQW9CLEdBQUcxYyxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBM0I7QUFDQSxRQUFJMGMsd0JBQXdCLEdBQUczYyxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBL0I7QUFDQSxRQUFJMmMsOEJBQThCLEdBQUc1YyxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBckM7QUFDQSxRQUFJNGMsZ0NBQWdDLEdBQUc3YyxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBdkM7QUFDQSxRQUFJNmMscUNBQXFDLEdBQUc5YyxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBNUM7QUFDQSxRQUFJOGMseUNBQXlDLEdBQUcvYyxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsTUFBdkIsQ0FBaEQ7QUFDQSxRQUFJK2Msb0NBQW9DLEdBQUdoZCxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsTUFBdkIsQ0FBM0M7QUFDQSxRQUFJZ2Qsb0NBQW9DLEdBQUdqZCxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBM0M7QUFDQSxRQUFJaWQsMkJBQTJCLEdBQUdsZCxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBbEM7QUFDQSxRQUFJa2QsZ0NBQWdDLEdBQUduZCxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsTUFBdkIsQ0FBdkM7QUFFQSxRQUFJbWQsb0JBQW9CLEdBQUdwZCxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBM0I7QUFDQSxRQUFJb2QsMEJBQTBCLEdBQUdyZCxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBakM7QUFDQSxRQUFJcWQsZ0NBQWdDLEdBQUd0ZCxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBdkM7QUFDQSxRQUFJc2Qsb0NBQW9DLEdBQUd2ZCxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBM0M7QUFDQSxRQUFJdWQsb0NBQW9DLEdBQUd4ZCxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBM0M7QUFDQSxRQUFJd2Qsd0JBQXdCLEdBQUd6ZCxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBL0I7QUFDQSxRQUFJeWQsK0JBQStCLEdBQUcxZCxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBdEM7QUFFQSxRQUFJMGQsc0JBQXNCLEdBQUczZCxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBN0I7QUFFQSxRQUFJMmQsdUJBQXVCLEdBQUc1ZCxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBOUI7QUFDQSxRQUFJNGQsb0JBQW9CLEdBQUc3ZCxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsR0FBdkIsQ0FBM0I7QUFFQSxRQUFJNmQsZUFBZSxHQUFHOWQsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXRCO0FBQ0EsUUFBSThkLHNCQUFzQixHQUFHL2QsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQTdCO0FBRUEsUUFBSStkLGlDQUFpQyxHQUFHaGUsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXhDO0FBQ0EsUUFBSWdlLDhCQUE4QixHQUFHamUsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXJDO0FBQ0EsUUFBSWllLG1DQUFtQyxHQUFHbGUsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQTFDO0FBQ0EsUUFBSWtlLGtDQUFrQyxHQUFHbmUsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXpDO0FBQ0EsUUFBSW1lLCtCQUErQixHQUFHcGUsUUFBUSxDQUFDQyxhQUFULENBQXVCLEdBQXZCLENBQXRDO0FBQ0EsUUFBSW9lLHFDQUFxQyxHQUFHcmUsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQTVDO0FBQ0EsUUFBSXFlLDBDQUEwQyxHQUFHdGUsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQWpEO0FBQ0EsUUFBSXNlLDRCQUE0QixHQUFHdmUsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQW5DO0FBQ0EsUUFBSXVlLHNDQUFzQyxHQUFHeGUsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQTdDO0FBQ0EsUUFBSXdlLG1DQUFtQyxHQUFHemUsUUFBUSxDQUFDQyxhQUFULENBQXVCLEdBQXZCLENBQTFDO0FBRUEsUUFBSXllLHFCQUFxQixHQUFHMWUsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQTVCO0FBQ0EsUUFBSTBlLHlCQUF5QixHQUFHM2UsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQWhDO0FBQ0EsUUFBSTJlLGdDQUFnQyxHQUFHNWUsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXZDO0FBQ0EsUUFBSTRlLDJCQUEyQixHQUFHN2UsUUFBUSxDQUFDQyxhQUFULENBQXVCLEdBQXZCLENBQWxDO0FBRUFxYixhQUFTLENBQUNwVyxZQUFWLENBQXVCLE9BQXZCLEVBQWdDcE0sS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3VGLFVBQWpDLENBQTRDWixXQUE1QyxDQUF3RGdCLGNBQXhELEdBQXlFLDhDQUF6RSxJQUEySHhRLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUMrRSxXQUFqQyxDQUE2Q0ssY0FBN0MsQ0FBNERDLFdBQTVELEdBQTBFLHNDQUExRSxHQUFtSCxFQUE5TyxDQUFoQztBQUNBbVQsbUJBQWUsQ0FBQ2pYLFlBQWhCLENBQTZCLE9BQTdCLEVBQXNDLDBCQUF0QztBQUNBa1gsdUJBQW1CLENBQUNsWCxZQUFwQixDQUFpQyxPQUFqQyxFQUEwQywrQkFBMUM7QUFDQW1YLDJCQUF1QixDQUFDblgsWUFBeEIsQ0FBcUMsT0FBckMsRUFBOEMsb0NBQTlDO0FBQ0FvWCx3QkFBb0IsQ0FBQ3BYLFlBQXJCLENBQWtDLE9BQWxDLEVBQTJDLGdDQUEzQztBQUNBcVgsdUJBQW1CLENBQUNyWCxZQUFwQixDQUFpQyxPQUFqQyxFQUEwQywrQkFBMUM7QUFDQXNYLHdCQUFvQixDQUFDdFgsWUFBckIsQ0FBa0MsT0FBbEMsRUFBMkMsZ0NBQTNDO0FBRUF1WCxvQkFBZ0IsQ0FBQ3ZYLFlBQWpCLENBQThCLE9BQTlCLEVBQXVDLDJCQUF2QztBQUNBd1gsd0JBQW9CLENBQUN4WCxZQUFyQixDQUFrQyxPQUFsQyxFQUEyQyxnQ0FBM0M7QUFDQXlYLDRCQUF3QixDQUFDelgsWUFBekIsQ0FBc0MsT0FBdEMsRUFBK0MscUNBQS9DO0FBQ0EwWCxrQ0FBOEIsQ0FBQzFYLFlBQS9CLENBQTRDLE9BQTVDLEVBQXFELDJDQUFyRDtBQUNBMlgsb0NBQWdDLENBQUMzWCxZQUFqQyxDQUE4QyxPQUE5QyxFQUF1RCxtQ0FBdkQ7QUFDQTRYLHlDQUFxQyxDQUFDNVgsWUFBdEMsQ0FBbUQsT0FBbkQsRUFBNEQseUNBQTVEO0FBQ0E2WCw2Q0FBeUMsQ0FBQzdYLFlBQTFDLENBQXVELE9BQXZELEVBQWdFLDhDQUFoRTtBQUNBOFgsd0NBQW9DLENBQUM5WCxZQUFyQyxDQUFrRCxPQUFsRCxFQUEyRCx3Q0FBM0Q7QUFDQStYLHdDQUFvQyxDQUFDL1gsWUFBckMsQ0FBa0QsT0FBbEQsRUFBMkQsaURBQTNEO0FBQ0FnWSwrQkFBMkIsQ0FBQ2hZLFlBQTVCLENBQXlDLE9BQXpDLEVBQWtELHVDQUFsRDtBQUNBaVksb0NBQWdDLENBQUNqWSxZQUFqQyxDQUE4QyxPQUE5QyxFQUF1RCw2Q0FBdkQsRUF6RXVDLENBMkV2Qzs7QUFDQWtZLHdCQUFvQixDQUFDbFksWUFBckIsQ0FBa0MsT0FBbEMsRUFBMkMsK0JBQTNDO0FBQ0FtWSw4QkFBMEIsQ0FBQ25ZLFlBQTNCLENBQXdDLE9BQXhDLEVBQWlELHNDQUFqRDtBQUNBb1ksb0NBQWdDLENBQUNwWSxZQUFqQyxDQUE4QyxPQUE5QyxFQUF1RCw2Q0FBdkQ7QUFDQXFZLHdDQUFvQyxDQUFDclksWUFBckMsQ0FBa0QsT0FBbEQsRUFBMkQsNkNBQTNEO0FBQ0FzWSx3Q0FBb0MsQ0FBQ3RZLFlBQXJDLENBQWtELE9BQWxELEVBQTJELDhDQUEzRDtBQUNBdVksNEJBQXdCLENBQUN2WSxZQUF6QixDQUFzQyxPQUF0QyxFQUErQyxvQ0FBL0M7QUFDQXdZLG1DQUErQixDQUFDeFksWUFBaEMsQ0FBNkMsT0FBN0MsRUFBc0Qsd0NBQXREO0FBRUF5WSwwQkFBc0IsQ0FBQ3pZLFlBQXZCLENBQW9DLE9BQXBDLEVBQTZDLGtDQUE3QyxFQXBGdUMsQ0FzRnZDOztBQUNBNFksbUJBQWUsQ0FBQzVZLFlBQWhCLENBQTZCLE9BQTdCLEVBQXNDLDBCQUF0QztBQUNBNlksMEJBQXNCLENBQUM3WSxZQUF2QixDQUFvQyxPQUFwQyxFQUE2QyxrQ0FBN0MsRUF4RnVDLENBMEZ2Qzs7QUFDQThZLHFDQUFpQyxDQUFDOVksWUFBbEMsQ0FBK0MsT0FBL0MsRUFBd0QscUNBQXhEO0FBQ0ErWSxrQ0FBOEIsQ0FBQy9ZLFlBQS9CLENBQTRDLE9BQTVDLEVBQXFELGtDQUFyRDtBQUNBZ1osdUNBQW1DLENBQUNoWixZQUFwQyxDQUFpRCxPQUFqRCxFQUEwRCx3Q0FBMUQ7QUFDQWlaLHNDQUFrQyxDQUFDalosWUFBbkMsQ0FBZ0QsT0FBaEQsRUFBeUQsdUNBQXpEO0FBQ0FrWixtQ0FBK0IsQ0FBQ2xaLFlBQWhDLENBQTZDLE9BQTdDLEVBQXNELG9DQUF0RDtBQUNBbVoseUNBQXFDLENBQUNuWixZQUF0QyxDQUFtRCxPQUFuRCxFQUE0RCwwQ0FBNUQ7QUFDQW9aLDhDQUEwQyxDQUFDcFosWUFBM0MsQ0FBd0QsT0FBeEQsRUFBaUUsMkNBQWpFO0FBQ0FxWixnQ0FBNEIsQ0FBQ3JaLFlBQTdCLENBQTBDLE9BQTFDLEVBQW1ELGdDQUFuRDtBQUNBc1osMENBQXNDLENBQUN0WixZQUF2QyxDQUFvRCxPQUFwRCxFQUE2RCwyQ0FBN0Q7QUFDQXVaLHVDQUFtQyxDQUFDdlosWUFBcEMsQ0FBaUQsT0FBakQsRUFBMEQsd0NBQTFEO0FBRUF3Wix5QkFBcUIsQ0FBQ3haLFlBQXRCLENBQW1DLE9BQW5DLEVBQTRDLGlDQUE1QztBQUNBMlosK0JBQTJCLENBQUMzWixZQUE1QixDQUF5QyxPQUF6QyxFQUFrRCxxQ0FBbEQ7QUFDQXlaLDZCQUF5QixDQUFDelosWUFBMUIsQ0FBdUMsT0FBdkMsRUFBZ0Qsc0NBQWhEO0FBQ0EwWixvQ0FBZ0MsQ0FBQzFaLFlBQWpDLENBQThDLE9BQTlDLEVBQXVELDBDQUF2RDtBQUVBMFksMkJBQXVCLENBQUMxWSxZQUF4QixDQUFxQyxPQUFyQyxFQUE4QyxtQ0FBOUM7QUFDQTJZLHdCQUFvQixDQUFDM1ksWUFBckIsQ0FBa0MsT0FBbEMsRUFBMkMsZ0NBQTNDO0FBRUFvWCx3QkFBb0IsQ0FBQ3hOLFNBQXJCLEdBQWlDaFcsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ2dDLFdBQWpDLENBQTZDMkMsV0FBN0MsQ0FBeUQ0USxLQUExRjtBQUNBNkUsMEJBQXNCLENBQUNqUCxTQUF2QixHQUFtQ2hXLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNnQyxXQUFqQyxDQUE2Q21aLE1BQTdDLENBQW9EQyxJQUF2RjtBQUNBTix1Q0FBbUMsQ0FBQzNQLFNBQXBDLEdBQWdEaFcsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ2dDLFdBQWpDLENBQTZDMkMsV0FBN0MsQ0FBeUQwVyxLQUF6RztBQUNBUCx1Q0FBbUMsQ0FBQzFLLElBQXBDLEdBQTJDLHFCQUEzQztBQUNBOEosd0JBQW9CLENBQUMvTyxTQUFyQixHQUFpQ2hXLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNnQyxXQUFqQyxDQUE2QzJDLFdBQTdDLENBQXlEMFcsS0FBMUY7QUFDQW5CLHdCQUFvQixDQUFDOUosSUFBckIsR0FBNEIscUJBQTVCO0FBRUFxSSx1QkFBbUIsQ0FBQ2pYLFdBQXBCLENBQWdDa1gsdUJBQWhDO0FBQ0FGLG1CQUFlLENBQUNoWCxXQUFoQixDQUE0QmlYLG1CQUE1QjtBQUNBRCxtQkFBZSxDQUFDaFgsV0FBaEIsQ0FBNEJtWCxvQkFBNUI7QUFDQUgsbUJBQWUsQ0FBQ2hYLFdBQWhCLENBQTRCb1gsbUJBQTVCO0FBQ0FKLG1CQUFlLENBQUNoWCxXQUFoQixDQUE0QnFYLG9CQUE1QjtBQUVBRSx3QkFBb0IsQ0FBQ3ZYLFdBQXJCLENBQWlDd1gsd0JBQWpDO0FBQ0FHLHlDQUFxQyxDQUFDM1gsV0FBdEMsQ0FBa0Q0WCx5Q0FBbEQ7QUFDQUQseUNBQXFDLENBQUMzWCxXQUF0QyxDQUFrRDZYLG9DQUFsRDtBQUNBSCxvQ0FBZ0MsQ0FBQzFYLFdBQWpDLENBQTZDMlgscUNBQTdDO0FBQ0FMLG9CQUFnQixDQUFDdFgsV0FBakIsQ0FBNkJ1WCxvQkFBN0I7O0FBRUEsUUFBSTVqQixLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDK0UsV0FBakMsQ0FBNkNLLGNBQTdDLENBQTREQyxXQUFoRSxFQUE2RTtBQUMzRXlULHNCQUFnQixDQUFDdFgsV0FBakIsQ0FBNkJ5WCw4QkFBN0I7QUFDRDs7QUFFREgsb0JBQWdCLENBQUN0WCxXQUFqQixDQUE2QjBYLGdDQUE3Qjs7QUFFQSxRQUFJLENBQUMvakIsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQytFLFdBQWpDLENBQTZDSyxjQUE3QyxDQUE0REUsc0JBQWpFLEVBQXlGO0FBQ3ZGZ1UsMENBQW9DLENBQUM5WCxXQUFyQyxDQUFpRCtYLDJCQUFqRDtBQUNBRCwwQ0FBb0MsQ0FBQzlYLFdBQXJDLENBQWlEZ1ksZ0NBQWpEO0FBQ0FWLHNCQUFnQixDQUFDdFgsV0FBakIsQ0FBNkI4WCxvQ0FBN0I7QUFDRDs7QUFFREksOEJBQTBCLENBQUNsWSxXQUEzQixDQUF1Q21ZLGdDQUF2QztBQUNBRix3QkFBb0IsQ0FBQ2pZLFdBQXJCLENBQWlDa1ksMEJBQWpDLEVBOUl1QyxDQStJdkM7QUFDQTtBQUNBOztBQUVBRSx3Q0FBb0MsQ0FBQ3BZLFdBQXJDLENBQWlEcVksb0NBQWpEO0FBQ0FDLDRCQUF3QixDQUFDdFksV0FBekIsQ0FBcUN1WSwrQkFBckM7QUFDQUgsd0NBQW9DLENBQUNwWSxXQUFyQyxDQUFpRHNZLHdCQUFqRDtBQUNBTCx3QkFBb0IsQ0FBQ2pZLFdBQXJCLENBQWlDb1ksb0NBQWpDO0FBRUFPLG1CQUFlLENBQUMzWSxXQUFoQixDQUE0QjRZLHNCQUE1QjtBQUVBWSw2QkFBeUIsQ0FBQ3haLFdBQTFCLENBQXNDeVosZ0NBQXRDO0FBQ0FGLHlCQUFxQixDQUFDdlosV0FBdEIsQ0FBa0N3Wix5QkFBbEM7QUFDQUQseUJBQXFCLENBQUN2WixXQUF0QixDQUFrQzBaLDJCQUFsQztBQUVBWixrQ0FBOEIsQ0FBQzlZLFdBQS9CLENBQTJDK1ksbUNBQTNDO0FBQ0FELGtDQUE4QixDQUFDOVksV0FBL0IsQ0FBMkNnWixrQ0FBM0M7QUFDQUgscUNBQWlDLENBQUM3WSxXQUFsQyxDQUE4QzhZLDhCQUE5QztBQUNBRCxxQ0FBaUMsQ0FBQzdZLFdBQWxDLENBQThDaVosK0JBQTlDO0FBQ0FDLHlDQUFxQyxDQUFDbFosV0FBdEMsQ0FBa0RtWiwwQ0FBbEQ7QUFDQUQseUNBQXFDLENBQUNsWixXQUF0QyxDQUFrRG9aLDRCQUFsRDtBQUNBUCxxQ0FBaUMsQ0FBQzdZLFdBQWxDLENBQThDa1oscUNBQTlDO0FBQ0FHLDBDQUFzQyxDQUFDclosV0FBdkMsQ0FBbURzWixtQ0FBbkQ7QUFDQVQscUNBQWlDLENBQUM3WSxXQUFsQyxDQUE4Q3FaLHNDQUE5QztBQUVBWiwyQkFBdUIsQ0FBQ3pZLFdBQXhCLENBQW9DMFksb0JBQXBDO0FBRUF2QyxhQUFTLENBQUNuVyxXQUFWLENBQXNCZ1gsZUFBdEI7QUFDQWIsYUFBUyxDQUFDblcsV0FBVixDQUFzQnNYLGdCQUF0QjtBQUNBbkIsYUFBUyxDQUFDblcsV0FBVixDQUFzQmlZLG9CQUF0QjtBQUNBOUIsYUFBUyxDQUFDblcsV0FBVixDQUFzQndZLHNCQUF0QjtBQUNBckMsYUFBUyxDQUFDblcsV0FBVixDQUFzQnlZLHVCQUF0QjtBQUNBdEMsYUFBUyxDQUFDblcsV0FBVixDQUFzQjJZLGVBQXRCO0FBQ0F4QyxhQUFTLENBQUNuVyxXQUFWLENBQXNCNlksaUNBQXRCO0FBQ0ExQyxhQUFTLENBQUNuVyxXQUFWLENBQXNCdVoscUJBQXRCO0FBRUEsV0FBT3BELFNBQVA7QUFDRCxHQXBMRDs7QUFzTEEsT0FBS0csc0JBQUwsR0FBOEIsWUFBWTtBQUN4QyxRQUFJM2lCLEtBQUssR0FBRyxJQUFaOztBQUNBLFFBQUkwaUIsVUFBVSxHQUFHeGIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQWpCO0FBRUEsUUFBSWdmLGdCQUFnQixHQUFHamYsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXZCO0FBQ0EsUUFBSWlmLHFCQUFxQixHQUFHbGYsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQTVCO0FBQ0EsUUFBSWtmLG9CQUFvQixHQUFHbmYsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQTNCO0FBQ0EsUUFBSW1mLHFCQUFxQixHQUFHcGYsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQTVCO0FBRUEsUUFBSW9mLGlCQUFpQixHQUFHcmYsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXhCO0FBQ0EsUUFBSXFmLHFCQUFxQixHQUFHdGYsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQTVCO0FBQ0EsUUFBSXNmLHlCQUF5QixHQUFHdmYsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQWhDO0FBQ0EsUUFBSXVmLGlDQUFpQyxHQUFHeGYsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXhDO0FBQ0EsUUFBSXdmLHNDQUFzQyxHQUFHemYsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQTdDO0FBQ0EsUUFBSXlmLHFDQUFxQyxHQUFHMWYsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQTVDO0FBRUEsUUFBSTBmLGNBQWMsR0FBRzNmLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUFyQjtBQUNBLFFBQUkyZixrQkFBa0IsR0FBRzVmLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUF6QjtBQUNBLFFBQUk0Zix5QkFBeUIsR0FBRzdmLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUFoQztBQUVBLFFBQUk2ZixnQkFBZ0IsR0FBRzlmLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUF2QjtBQUNBLFFBQUk4Zix1QkFBdUIsR0FBRy9mLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUE5QjtBQUVBLFFBQUkrZixrQ0FBa0MsR0FBR2hnQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBekM7QUFDQSxRQUFJZ2dCLCtCQUErQixHQUFHamdCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUF0QztBQUNBLFFBQUlpZ0Isb0NBQW9DLEdBQUdsZ0IsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQTNDO0FBQ0EsUUFBSWtnQixtQ0FBbUMsR0FBR25nQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBMUM7QUFDQSxRQUFJbWdCLGdDQUFnQyxHQUFHcGdCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixHQUF2QixDQUF2QztBQUNBLFFBQUlvZ0Isc0NBQXNDLEdBQUdyZ0IsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQTdDO0FBQ0EsUUFBSXFnQiwyQ0FBMkMsR0FBR3RnQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBbEQ7QUFDQSxRQUFJc2dCLDZCQUE2QixHQUFHdmdCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUFwQztBQUVBdWIsY0FBVSxDQUFDdFcsWUFBWCxDQUF3QixPQUF4QixFQUFpQ3BNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUN1RixVQUFqQyxDQUE0QzFCLFlBQTVDLENBQXlEOEIsY0FBekQsR0FBMEUsdUJBQTNHO0FBQ0EyVixvQkFBZ0IsQ0FBQy9aLFlBQWpCLENBQThCLE9BQTlCLEVBQXVDLDJCQUF2QztBQUNBZ2EseUJBQXFCLENBQUNoYSxZQUF0QixDQUFtQyxPQUFuQyxFQUE0QyxpQ0FBNUM7QUFDQWlhLHdCQUFvQixDQUFDamEsWUFBckIsQ0FBa0MsT0FBbEMsRUFBMkMsZ0NBQTNDO0FBQ0FrYSx5QkFBcUIsQ0FBQ2xhLFlBQXRCLENBQW1DLE9BQW5DLEVBQTRDLGlDQUE1QztBQUVBbWEscUJBQWlCLENBQUNuYSxZQUFsQixDQUErQixPQUEvQixFQUF3Qyw0QkFBeEM7QUFDQW9hLHlCQUFxQixDQUFDcGEsWUFBdEIsQ0FBbUMsT0FBbkMsRUFBNEMsaUNBQTVDO0FBQ0FxYSw2QkFBeUIsQ0FBQ3JhLFlBQTFCLENBQXVDLE9BQXZDLEVBQWdELHNDQUFoRDtBQUNBc2EscUNBQWlDLENBQUN0YSxZQUFsQyxDQUErQyxPQUEvQyxFQUF3RCxvQ0FBeEQ7QUFDQXVhLDBDQUFzQyxDQUFDdmEsWUFBdkMsQ0FBb0QsT0FBcEQsRUFBNkQsMENBQTdEO0FBQ0F3YSx5Q0FBcUMsQ0FBQ3hhLFlBQXRDLENBQW1ELE9BQW5ELEVBQTRELHlDQUE1RCxFQTNDd0MsQ0E2Q3hDOztBQUNBeWEsa0JBQWMsQ0FBQ3phLFlBQWYsQ0FBNEIsT0FBNUIsRUFBcUMseUJBQXJDO0FBQ0EwYSxzQkFBa0IsQ0FBQzFhLFlBQW5CLENBQWdDLE9BQWhDLEVBQXlDLDhCQUF6QztBQUNBMmEsNkJBQXlCLENBQUMzYSxZQUExQixDQUF1QyxPQUF2QyxFQUFnRCxrQ0FBaEQsRUFoRHdDLENBa0R4Qzs7QUFDQTRhLG9CQUFnQixDQUFDNWEsWUFBakIsQ0FBOEIsT0FBOUIsRUFBdUMsMkJBQXZDO0FBQ0E2YSwyQkFBdUIsQ0FBQzdhLFlBQXhCLENBQXFDLE9BQXJDLEVBQThDLG1DQUE5QyxFQXBEd0MsQ0FzRHhDOztBQUNBOGEsc0NBQWtDLENBQUM5YSxZQUFuQyxDQUFnRCxPQUFoRCxFQUF5RCxzQ0FBekQ7QUFDQSthLG1DQUErQixDQUFDL2EsWUFBaEMsQ0FBNkMsT0FBN0MsRUFBc0QsbUNBQXREO0FBQ0FnYix3Q0FBb0MsQ0FBQ2hiLFlBQXJDLENBQWtELE9BQWxELEVBQTJELHlDQUEzRDtBQUNBaWIsdUNBQW1DLENBQUNqYixZQUFwQyxDQUFpRCxPQUFqRCxFQUEwRCx3Q0FBMUQ7QUFDQWtiLG9DQUFnQyxDQUFDbGIsWUFBakMsQ0FBOEMsT0FBOUMsRUFBdUQscUNBQXZEO0FBQ0FtYiwwQ0FBc0MsQ0FBQ25iLFlBQXZDLENBQW9ELE9BQXBELEVBQTZELDJDQUE3RDtBQUNBb2IsK0NBQTJDLENBQUNwYixZQUE1QyxDQUF5RCxPQUF6RCxFQUFrRSw0Q0FBbEU7QUFDQXFiLGlDQUE2QixDQUFDcmIsWUFBOUIsQ0FBMkMsT0FBM0MsRUFBb0QsaUNBQXBEO0FBRUFnYSx5QkFBcUIsQ0FBQ3BRLFNBQXRCLEdBQWtDaFcsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ2dDLFdBQWpDLENBQTZDNkIsWUFBN0MsQ0FBMEQwUixLQUE1RjtBQUNBNkcsMkJBQXVCLENBQUNqUixTQUF4QixHQUFvQ2hXLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNnQyxXQUFqQyxDQUE2Q21aLE1BQTdDLENBQW9EQyxJQUF4RjtBQUVBa0IsbUNBQStCLENBQUM5YSxXQUFoQyxDQUE0QythLG9DQUE1QztBQUNBRCxtQ0FBK0IsQ0FBQzlhLFdBQWhDLENBQTRDZ2IsbUNBQTVDO0FBQ0FILHNDQUFrQyxDQUFDN2EsV0FBbkMsQ0FBK0M4YSwrQkFBL0M7QUFDQUQsc0NBQWtDLENBQUM3YSxXQUFuQyxDQUErQ2liLGdDQUEvQztBQUNBQywwQ0FBc0MsQ0FBQ2xiLFdBQXZDLENBQW1EbWIsMkNBQW5EO0FBQ0FELDBDQUFzQyxDQUFDbGIsV0FBdkMsQ0FBbURvYiw2QkFBbkQ7QUFDQVAsc0NBQWtDLENBQUM3YSxXQUFuQyxDQUErQ2tiLHNDQUEvQztBQUVBcEIsb0JBQWdCLENBQUM5WixXQUFqQixDQUE2QitaLHFCQUE3QjtBQUNBRCxvQkFBZ0IsQ0FBQzlaLFdBQWpCLENBQTZCZ2Esb0JBQTdCO0FBQ0FGLG9CQUFnQixDQUFDOVosV0FBakIsQ0FBNkJpYSxxQkFBN0I7QUFFQUUseUJBQXFCLENBQUNuYSxXQUF0QixDQUFrQ29hLHlCQUFsQztBQUNBQyxxQ0FBaUMsQ0FBQ3JhLFdBQWxDLENBQThDc2Esc0NBQTlDO0FBQ0FELHFDQUFpQyxDQUFDcmEsV0FBbEMsQ0FBOEN1YSxxQ0FBOUM7QUFDQUwscUJBQWlCLENBQUNsYSxXQUFsQixDQUE4Qm1hLHFCQUE5QjtBQUNBRCxxQkFBaUIsQ0FBQ2xhLFdBQWxCLENBQThCcWEsaUNBQTlCO0FBRUFJLHNCQUFrQixDQUFDemEsV0FBbkIsQ0FBK0IwYSx5QkFBL0I7QUFDQUYsa0JBQWMsQ0FBQ3hhLFdBQWYsQ0FBMkJ5YSxrQkFBM0I7QUFFQUUsb0JBQWdCLENBQUMzYSxXQUFqQixDQUE2QjRhLHVCQUE3QjtBQUVBdkUsY0FBVSxDQUFDclcsV0FBWCxDQUF1QjhaLGdCQUF2QjtBQUNBekQsY0FBVSxDQUFDclcsV0FBWCxDQUF1QmthLGlCQUF2QjtBQUNBN0QsY0FBVSxDQUFDclcsV0FBWCxDQUF1QndhLGNBQXZCO0FBQ0FuRSxjQUFVLENBQUNyVyxXQUFYLENBQXVCMmEsZ0JBQXZCO0FBQ0F0RSxjQUFVLENBQUNyVyxXQUFYLENBQXVCNmEsa0NBQXZCO0FBRUEsV0FBT3hFLFVBQVA7QUFDRCxHQWpHRDs7QUFtR0EsT0FBS0csaUJBQUwsR0FBeUIsWUFBWTtBQUNuQyxRQUFJN2lCLEtBQUssR0FBRyxJQUFaOztBQUNBLFFBQUk0aUIsY0FBYyxHQUFHMWIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXJCO0FBRUEsUUFBSXVnQixvQkFBb0IsR0FBR3hnQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBM0I7QUFDQSxRQUFJd2dCLHlCQUF5QixHQUFHemdCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUFoQztBQUNBLFFBQUl5Z0Isd0JBQXdCLEdBQUcxZ0IsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQS9CO0FBQ0EsUUFBSTBnQix5QkFBeUIsR0FBRzNnQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBaEM7QUFFQSxRQUFJMmdCLHFCQUFxQixHQUFHNWdCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUE1QjtBQUNBLFFBQUk0Z0IseUJBQXlCLEdBQUc3Z0IsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQWhDO0FBQ0EsUUFBSTZnQiw2QkFBNkIsR0FBRzlnQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBcEM7QUFDQSxRQUFJOGdCLHFDQUFxQyxHQUFHL2dCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUE1QztBQUNBLFFBQUkrZ0IsMENBQTBDLEdBQUdoaEIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQWpEO0FBQ0EsUUFBSWdoQix5Q0FBeUMsR0FBR2poQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBaEQ7QUFFQSxRQUFJaWhCLGtCQUFrQixHQUFHbGhCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUF6QjtBQUNBLFFBQUlraEIsc0JBQXNCLEdBQUduaEIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQTdCO0FBQ0EsUUFBSW1oQiw2QkFBNkIsR0FBR3BoQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBcEM7QUFFQSxRQUFJb2hCLG9CQUFvQixHQUFHcmhCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUEzQjtBQUNBLFFBQUlxaEIsMkJBQTJCLEdBQUd0aEIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQWxDO0FBRUEsUUFBSXNoQiw4QkFBOEIsR0FBR3ZoQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBckM7QUFDQSxRQUFJdWhCLDJCQUEyQixHQUFHeGhCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUFsQztBQUNBLFFBQUl3aEIsZ0NBQWdDLEdBQUd6aEIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXZDO0FBQ0EsUUFBSXloQiwrQkFBK0IsR0FBRzFoQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBdEM7QUFDQSxRQUFJMGhCLDRCQUE0QixHQUFHM2hCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixHQUF2QixDQUFuQztBQUNBLFFBQUkyaEIsa0NBQWtDLEdBQUc1aEIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXpDO0FBQ0EsUUFBSTRoQix1Q0FBdUMsR0FBRzdoQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBOUM7QUFDQSxRQUFJNmhCLHlCQUF5QixHQUFHOWhCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUFoQztBQUNBLFFBQUk4aEIsK0JBQStCLEdBQUcvaEIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXRDO0FBQ0EsUUFBSStoQiwwQkFBMEIsR0FBR2hpQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBakM7QUFDQSxRQUFJZ2lCLDJCQUEyQixHQUFHamlCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUFsQztBQUNBLFFBQUlpaUIsNEJBQTRCLEdBQUdsaUIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQW5DO0FBQ0EsUUFBSWtpQixzQkFBc0IsR0FBR25pQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsR0FBdkIsQ0FBN0I7QUFFQXliLGtCQUFjLENBQUN4VyxZQUFmLENBQTRCLE9BQTVCLEVBQXFDcE0sS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3VGLFVBQWpDLENBQTRDckIsT0FBNUMsQ0FBb0R5QixjQUFwRCxHQUFxRSx1QkFBMUc7QUFDQWtYLHdCQUFvQixDQUFDdGIsWUFBckIsQ0FBa0MsT0FBbEMsRUFBMkMsOEJBQTNDO0FBQ0F1Yiw2QkFBeUIsQ0FBQ3ZiLFlBQTFCLENBQXVDLE9BQXZDLEVBQWdELG9DQUFoRDtBQUNBd2IsNEJBQXdCLENBQUN4YixZQUF6QixDQUFzQyxPQUF0QyxFQUErQyxtQ0FBL0M7QUFDQXliLDZCQUF5QixDQUFDemIsWUFBMUIsQ0FBdUMsT0FBdkMsRUFBZ0Qsb0NBQWhEO0FBRUEwYix5QkFBcUIsQ0FBQzFiLFlBQXRCLENBQW1DLE9BQW5DLEVBQTRDLCtCQUE1QztBQUNBMmIsNkJBQXlCLENBQUMzYixZQUExQixDQUF1QyxPQUF2QyxFQUFnRCxvQ0FBaEQ7QUFDQTRiLGlDQUE2QixDQUFDNWIsWUFBOUIsQ0FBMkMsT0FBM0MsRUFBb0QseUNBQXBEO0FBQ0E2Yix5Q0FBcUMsQ0FBQzdiLFlBQXRDLENBQW1ELE9BQW5ELEVBQTRELHVDQUE1RDtBQUNBOGIsOENBQTBDLENBQUM5YixZQUEzQyxDQUF3RCxPQUF4RCxFQUFpRSw2Q0FBakU7QUFDQStiLDZDQUF5QyxDQUFDL2IsWUFBMUMsQ0FBdUQsT0FBdkQsRUFBZ0UsNENBQWhFLEVBaERtQyxDQWtEbkM7O0FBQ0FnYyxzQkFBa0IsQ0FBQ2hjLFlBQW5CLENBQWdDLE9BQWhDLEVBQXlDLDRCQUF6QztBQUNBaWMsMEJBQXNCLENBQUNqYyxZQUF2QixDQUFvQyxPQUFwQyxFQUE2QyxpQ0FBN0M7QUFDQWtjLGlDQUE2QixDQUFDbGMsWUFBOUIsQ0FBMkMsT0FBM0MsRUFBb0QscUNBQXBELEVBckRtQyxDQXVEbkM7O0FBQ0FtYyx3QkFBb0IsQ0FBQ25jLFlBQXJCLENBQWtDLE9BQWxDLEVBQTJDLDhCQUEzQztBQUNBb2MsK0JBQTJCLENBQUNwYyxZQUE1QixDQUF5QyxPQUF6QyxFQUFrRCxzQ0FBbEQsRUF6RG1DLENBMkRuQzs7QUFDQXFjLGtDQUE4QixDQUFDcmMsWUFBL0IsQ0FBNEMsT0FBNUMsRUFBcUQseUNBQXJEO0FBQ0FzYywrQkFBMkIsQ0FBQ3RjLFlBQTVCLENBQXlDLE9BQXpDLEVBQWtELHNDQUFsRDtBQUNBdWMsb0NBQWdDLENBQUN2YyxZQUFqQyxDQUE4QyxPQUE5QyxFQUF1RCw0Q0FBdkQ7QUFDQXdjLG1DQUErQixDQUFDeGMsWUFBaEMsQ0FBNkMsT0FBN0MsRUFBc0QsMkNBQXREO0FBQ0F5YyxnQ0FBNEIsQ0FBQ3pjLFlBQTdCLENBQTBDLE9BQTFDLEVBQW1ELHdDQUFuRDtBQUNBMGMsc0NBQWtDLENBQUMxYyxZQUFuQyxDQUFnRCxPQUFoRCxFQUF5RCw4Q0FBekQ7QUFDQTJjLDJDQUF1QyxDQUFDM2MsWUFBeEMsQ0FBcUQsT0FBckQsRUFBOEQsK0NBQTlEO0FBQ0E0Yyw2QkFBeUIsQ0FBQzVjLFlBQTFCLENBQXVDLE9BQXZDLEVBQWdELG9DQUFoRDtBQUNBNmMsbUNBQStCLENBQUM3YyxZQUFoQyxDQUE2QyxPQUE3QyxFQUFzRCwwQ0FBdEQ7QUFDQThjLDhCQUEwQixDQUFDOWMsWUFBM0IsQ0FBd0MsT0FBeEMsRUFBaUQscUNBQWpEO0FBQ0ErYywrQkFBMkIsQ0FBQy9jLFlBQTVCLENBQXlDLE9BQXpDLEVBQWtELHNDQUFsRDtBQUNBZ2QsZ0NBQTRCLENBQUNoZCxZQUE3QixDQUEwQyxPQUExQyxFQUFtRCx1Q0FBbkQ7QUFDQWlkLDBCQUFzQixDQUFDamQsWUFBdkIsQ0FBb0MsT0FBcEMsRUFBNkMsaUNBQTdDO0FBRUF1Yiw2QkFBeUIsQ0FBQzNSLFNBQTFCLEdBQXNDaFcsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ2dDLFdBQWpDLENBQTZDa0MsT0FBN0MsQ0FBcURxUixLQUEzRjtBQUNBb0ksK0JBQTJCLENBQUN4UyxTQUE1QixHQUF3Q2hXLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNnQyxXQUFqQyxDQUE2Q21aLE1BQTdDLENBQW9EQyxJQUE1RjtBQUNBb0QsMEJBQXNCLENBQUNyVCxTQUF2QixHQUFtQ2hXLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNnQyxXQUFqQyxDQUE2Q2tDLE9BQTdDLENBQXFEdU8sS0FBeEY7QUFFQTJMLG1DQUErQixDQUFDNWMsV0FBaEMsQ0FBNEM2YywwQkFBNUM7QUFDQUQsbUNBQStCLENBQUM1YyxXQUFoQyxDQUE0QzhjLDJCQUE1QztBQUNBQyxnQ0FBNEIsQ0FBQy9jLFdBQTdCLENBQXlDZ2Qsc0JBQXpDO0FBRUFYLCtCQUEyQixDQUFDcmMsV0FBNUIsQ0FBd0NzYyxnQ0FBeEM7QUFDQUQsK0JBQTJCLENBQUNyYyxXQUE1QixDQUF3Q3VjLCtCQUF4QztBQUNBSCxrQ0FBOEIsQ0FBQ3BjLFdBQS9CLENBQTJDcWMsMkJBQTNDO0FBQ0FELGtDQUE4QixDQUFDcGMsV0FBL0IsQ0FBMkN3Yyw0QkFBM0M7QUFDQUMsc0NBQWtDLENBQUN6YyxXQUFuQyxDQUErQzBjLHVDQUEvQztBQUNBRCxzQ0FBa0MsQ0FBQ3pjLFdBQW5DLENBQStDMmMseUJBQS9DO0FBQ0FGLHNDQUFrQyxDQUFDemMsV0FBbkMsQ0FBK0M0YywrQkFBL0M7QUFDQVIsa0NBQThCLENBQUNwYyxXQUEvQixDQUEyQ3ljLGtDQUEzQztBQUNBTCxrQ0FBOEIsQ0FBQ3BjLFdBQS9CLENBQTJDK2MsNEJBQTNDO0FBRUExQix3QkFBb0IsQ0FBQ3JiLFdBQXJCLENBQWlDc2IseUJBQWpDO0FBQ0FELHdCQUFvQixDQUFDcmIsV0FBckIsQ0FBaUN1Yix3QkFBakM7QUFDQUYsd0JBQW9CLENBQUNyYixXQUFyQixDQUFpQ3diLHlCQUFqQztBQUVBRSw2QkFBeUIsQ0FBQzFiLFdBQTFCLENBQXNDMmIsNkJBQXRDO0FBQ0FDLHlDQUFxQyxDQUFDNWIsV0FBdEMsQ0FBa0Q2YiwwQ0FBbEQ7QUFDQUQseUNBQXFDLENBQUM1YixXQUF0QyxDQUFrRDhiLHlDQUFsRDtBQUNBTCx5QkFBcUIsQ0FBQ3piLFdBQXRCLENBQWtDMGIseUJBQWxDO0FBQ0FELHlCQUFxQixDQUFDemIsV0FBdEIsQ0FBa0M0YixxQ0FBbEM7QUFFQUksMEJBQXNCLENBQUNoYyxXQUF2QixDQUFtQ2ljLDZCQUFuQztBQUNBRixzQkFBa0IsQ0FBQy9iLFdBQW5CLENBQStCZ2Msc0JBQS9CO0FBRUFFLHdCQUFvQixDQUFDbGMsV0FBckIsQ0FBaUNtYywyQkFBakM7QUFFQTVGLGtCQUFjLENBQUN2VyxXQUFmLENBQTJCcWIsb0JBQTNCO0FBQ0E5RSxrQkFBYyxDQUFDdlcsV0FBZixDQUEyQnliLHFCQUEzQjtBQUNBbEYsa0JBQWMsQ0FBQ3ZXLFdBQWYsQ0FBMkIrYixrQkFBM0I7QUFDQXhGLGtCQUFjLENBQUN2VyxXQUFmLENBQTJCa2Msb0JBQTNCO0FBQ0EzRixrQkFBYyxDQUFDdlcsV0FBZixDQUEyQm9jLDhCQUEzQjtBQUVBLFdBQU83RixjQUFQO0FBQ0QsR0FsSEQ7O0FBb0hBLE9BQUtHLGVBQUwsR0FBdUIsWUFBWTtBQUNqQyxRQUFJL2lCLEtBQUssR0FBRyxJQUFaOztBQUNBLFFBQUk4aUIsWUFBWSxHQUFHNWIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQW5CO0FBRUEsUUFBSW1pQixrQkFBa0IsR0FBR3BpQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBekI7QUFDQSxRQUFJb2lCLHVCQUF1QixHQUFHcmlCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUE5QjtBQUNBLFFBQUlxaUIsc0JBQXNCLEdBQUd0aUIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQTdCO0FBQ0EsUUFBSXNpQix1QkFBdUIsR0FBR3ZpQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBOUI7QUFFQSxRQUFJdWlCLG1CQUFtQixHQUFHeGlCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUExQjtBQUNBLFFBQUl3aUIsdUJBQXVCLEdBQUd6aUIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQTlCO0FBQ0EsUUFBSXlpQiwyQkFBMkIsR0FBRzFpQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBbEM7QUFDQSxRQUFJMGlCLG1DQUFtQyxHQUFHM2lCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUExQztBQUNBLFFBQUkyaUIsd0NBQXdDLEdBQUc1aUIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQS9DO0FBQ0EsUUFBSTRpQix1Q0FBdUMsR0FBRzdpQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBOUM7QUFFQSxRQUFJNmlCLGdCQUFnQixHQUFHOWlCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUF2QjtBQUNBLFFBQUk4aUIsb0JBQW9CLEdBQUcvaUIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQTNCO0FBQ0EsUUFBSStpQiwyQkFBMkIsR0FBR2hqQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBbEM7QUFFQSxRQUFJZ2pCLGtCQUFrQixHQUFHampCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUF6QjtBQUNBLFFBQUlpakIseUJBQXlCLEdBQUdsakIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQWhDO0FBRUEsUUFBSWtqQiw0QkFBNEIsR0FBR25qQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBbkM7QUFDQSxRQUFJbWpCLHlCQUF5QixHQUFHcGpCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUFoQztBQUNBLFFBQUlvakIsOEJBQThCLEdBQUdyakIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXJDO0FBQ0EsUUFBSXFqQiw2QkFBNkIsR0FBR3RqQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBcEM7QUFDQSxRQUFJc2pCLDBCQUEwQixHQUFHdmpCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixHQUF2QixDQUFqQztBQUNBLFFBQUl1akIsZ0NBQWdDLEdBQUd4akIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXZDO0FBQ0EsUUFBSXdqQix1QkFBdUIsR0FBR3pqQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBOUI7QUFFQTJiLGdCQUFZLENBQUMxVyxZQUFiLENBQTBCLE9BQTFCLEVBQW1DcE0sS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3VGLFVBQWpDLENBQTRDTSxLQUE1QyxDQUFrREYsY0FBbEQsR0FBbUUsdUJBQXRHO0FBQ0E4WSxzQkFBa0IsQ0FBQ2xkLFlBQW5CLENBQWdDLE9BQWhDLEVBQXlDLDZCQUF6QztBQUNBbWQsMkJBQXVCLENBQUNuZCxZQUF4QixDQUFxQyxPQUFyQyxFQUE4QyxtQ0FBOUM7QUFDQW9kLDBCQUFzQixDQUFDcGQsWUFBdkIsQ0FBb0MsT0FBcEMsRUFBNkMsa0NBQTdDO0FBQ0FxZCwyQkFBdUIsQ0FBQ3JkLFlBQXhCLENBQXFDLE9BQXJDLEVBQThDLG1DQUE5QztBQUVBc2QsdUJBQW1CLENBQUN0ZCxZQUFwQixDQUFpQyxPQUFqQyxFQUEwQyw4QkFBMUM7QUFDQXVkLDJCQUF1QixDQUFDdmQsWUFBeEIsQ0FBcUMsT0FBckMsRUFBOEMsbUNBQTlDO0FBQ0F3ZCwrQkFBMkIsQ0FBQ3hkLFlBQTVCLENBQXlDLE9BQXpDLEVBQWtELHdDQUFsRDtBQUNBeWQsdUNBQW1DLENBQUN6ZCxZQUFwQyxDQUFpRCxPQUFqRCxFQUEwRCxzQ0FBMUQ7QUFDQTBkLDRDQUF3QyxDQUFDMWQsWUFBekMsQ0FBc0QsT0FBdEQsRUFBK0QsNENBQS9EO0FBQ0EyZCwyQ0FBdUMsQ0FBQzNkLFlBQXhDLENBQXFELE9BQXJELEVBQThELDJDQUE5RCxFQTFDaUMsQ0E0Q2pDOztBQUNBNGQsb0JBQWdCLENBQUM1ZCxZQUFqQixDQUE4QixPQUE5QixFQUF1QywyQkFBdkM7QUFDQTZkLHdCQUFvQixDQUFDN2QsWUFBckIsQ0FBa0MsT0FBbEMsRUFBMkMsZ0NBQTNDO0FBQ0E4ZCwrQkFBMkIsQ0FBQzlkLFlBQTVCLENBQXlDLE9BQXpDLEVBQWtELG9DQUFsRCxFQS9DaUMsQ0FpRGpDOztBQUNBK2Qsc0JBQWtCLENBQUMvZCxZQUFuQixDQUFnQyxPQUFoQyxFQUF5Qyw2QkFBekM7QUFDQWdlLDZCQUF5QixDQUFDaGUsWUFBMUIsQ0FBdUMsT0FBdkMsRUFBZ0QscUNBQWhELEVBbkRpQyxDQXFEakM7O0FBQ0FpZSxnQ0FBNEIsQ0FBQ2plLFlBQTdCLENBQTBDLE9BQTFDLEVBQW1ELHdDQUFuRDtBQUNBa2UsNkJBQXlCLENBQUNsZSxZQUExQixDQUF1QyxPQUF2QyxFQUFnRCxxQ0FBaEQ7QUFDQW1lLGtDQUE4QixDQUFDbmUsWUFBL0IsQ0FBNEMsT0FBNUMsRUFBcUQsMkNBQXJEO0FBQ0FvZSxpQ0FBNkIsQ0FBQ3BlLFlBQTlCLENBQTJDLE9BQTNDLEVBQW9ELDBDQUFwRDtBQUNBcWUsOEJBQTBCLENBQUNyZSxZQUEzQixDQUF3QyxPQUF4QyxFQUFpRCx1Q0FBakQ7QUFDQXNlLG9DQUFnQyxDQUFDdGUsWUFBakMsQ0FBOEMsT0FBOUMsRUFBdUQsNkNBQXZEO0FBQ0F1ZSwyQkFBdUIsQ0FBQ3ZlLFlBQXhCLENBQXFDLE9BQXJDLEVBQThDLG1DQUE5QztBQUVBbWQsMkJBQXVCLENBQUN2VCxTQUF4QixHQUFvQ2hXLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNnQyxXQUFqQyxDQUE2QzBDLFFBQTdDLENBQXNENlEsS0FBMUY7QUFDQWdLLDZCQUF5QixDQUFDcFUsU0FBMUIsR0FBc0NoVyxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDZ0MsV0FBakMsQ0FBNkNtWixNQUE3QyxDQUFvREMsSUFBMUY7QUFFQXFELHNCQUFrQixDQUFDamQsV0FBbkIsQ0FBK0JrZCx1QkFBL0I7QUFDQUQsc0JBQWtCLENBQUNqZCxXQUFuQixDQUErQm1kLHNCQUEvQjtBQUNBRixzQkFBa0IsQ0FBQ2pkLFdBQW5CLENBQStCb2QsdUJBQS9CO0FBRUFFLDJCQUF1QixDQUFDdGQsV0FBeEIsQ0FBb0N1ZCwyQkFBcEM7QUFDQUMsdUNBQW1DLENBQUN4ZCxXQUFwQyxDQUFnRHlkLHdDQUFoRDtBQUNBRCx1Q0FBbUMsQ0FBQ3hkLFdBQXBDLENBQWdEMGQsdUNBQWhEO0FBQ0FMLHVCQUFtQixDQUFDcmQsV0FBcEIsQ0FBZ0NzZCx1QkFBaEM7QUFDQUQsdUJBQW1CLENBQUNyZCxXQUFwQixDQUFnQ3dkLG1DQUFoQztBQUVBSSx3QkFBb0IsQ0FBQzVkLFdBQXJCLENBQWlDNmQsMkJBQWpDO0FBQ0FGLG9CQUFnQixDQUFDM2QsV0FBakIsQ0FBNkI0ZCxvQkFBN0I7QUFFQUssNkJBQXlCLENBQUNqZSxXQUExQixDQUFzQ2tlLDhCQUF0QztBQUNBRCw2QkFBeUIsQ0FBQ2plLFdBQTFCLENBQXNDbWUsNkJBQXRDO0FBQ0FILGdDQUE0QixDQUFDaGUsV0FBN0IsQ0FBeUNpZSx5QkFBekM7QUFDQUQsZ0NBQTRCLENBQUNoZSxXQUE3QixDQUF5Q29lLDBCQUF6QztBQUNBQyxvQ0FBZ0MsQ0FBQ3JlLFdBQWpDLENBQTZDc2UsdUJBQTdDO0FBQ0FOLGdDQUE0QixDQUFDaGUsV0FBN0IsQ0FBeUNxZSxnQ0FBekM7QUFFQVAsc0JBQWtCLENBQUM5ZCxXQUFuQixDQUErQitkLHlCQUEvQjtBQUVBdEgsZ0JBQVksQ0FBQ3pXLFdBQWIsQ0FBeUJpZCxrQkFBekI7QUFDQXhHLGdCQUFZLENBQUN6VyxXQUFiLENBQXlCcWQsbUJBQXpCO0FBQ0E1RyxnQkFBWSxDQUFDelcsV0FBYixDQUF5QjJkLGdCQUF6QjtBQUNBbEgsZ0JBQVksQ0FBQ3pXLFdBQWIsQ0FBeUI4ZCxrQkFBekI7QUFDQXJILGdCQUFZLENBQUN6VyxXQUFiLENBQXlCZ2UsNEJBQXpCO0FBRUEsV0FBT3ZILFlBQVA7QUFDRCxHQTlGRDs7QUFnR0EsT0FBSzhILGlCQUFMLEdBQXlCLFlBQVk7QUFDbkMsUUFBSTVxQixLQUFLLEdBQUcsSUFBWjs7QUFDQSxRQUFJNnFCLE9BQU8sR0FBRzNqQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBZDtBQUNBLFFBQUkyakIsT0FBTyxHQUFHNWpCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUFkO0FBQ0EsUUFBSTRqQixPQUFPLEdBQUc3akIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQWQ7QUFDQSxRQUFJNmpCLFNBQVMsR0FBRzlqQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBaEI7QUFDQSxRQUFJOGpCLFNBQVMsR0FBRy9qQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBaEI7QUFFQTBqQixXQUFPLENBQUN6ZSxZQUFSLENBQXFCLE9BQXJCLEVBQThCLG9CQUE5QjtBQUNBMGUsV0FBTyxDQUFDMWUsWUFBUixDQUFxQixPQUFyQixFQUE4QixvQkFBOUI7QUFDQTJlLFdBQU8sQ0FBQzNlLFlBQVIsQ0FBcUIsT0FBckIsRUFBOEIsb0JBQTlCO0FBQ0E0ZSxhQUFTLENBQUM1ZSxZQUFWLENBQXVCLE9BQXZCLEVBQWdDLHNCQUFoQztBQUNBNmUsYUFBUyxDQUFDN2UsWUFBVixDQUF1QixPQUF2QixFQUFnQyxzQkFBaEM7QUFFQXllLFdBQU8sQ0FBQzdVLFNBQVIsR0FBb0JoVyxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDZ0MsV0FBakMsQ0FBNkMrQyxXQUE3QyxDQUF5RHNiLElBQTdFO0FBQ0FKLFdBQU8sQ0FBQzlVLFNBQVIsR0FBb0IsRUFBcEI7QUFDQStVLFdBQU8sQ0FBQy9VLFNBQVIsR0FBb0JoVyxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDZ0MsV0FBakMsQ0FBNkMrQyxXQUE3QyxDQUF5RHViLElBQTdFO0FBQ0FILGFBQVMsQ0FBQ2hWLFNBQVYsR0FBc0IsRUFBdEI7QUFDQWlWLGFBQVMsQ0FBQ2pWLFNBQVYsR0FBc0JoVyxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDZ0MsV0FBakMsQ0FBNkMrQyxXQUE3QyxDQUF5RHdiLE1BQS9FOztBQUVBcHJCLFNBQUssQ0FBQzZLLFFBQU4sQ0FBZStFLFdBQWYsQ0FBMkJrUSxNQUEzQixDQUFrQ3pULFdBQWxDLENBQThDd2UsT0FBOUM7O0FBQ0E3cUIsU0FBSyxDQUFDNkssUUFBTixDQUFlK0UsV0FBZixDQUEyQmtRLE1BQTNCLENBQWtDelQsV0FBbEMsQ0FBOEN5ZSxPQUE5Qzs7QUFDQTlxQixTQUFLLENBQUM2SyxRQUFOLENBQWUrRSxXQUFmLENBQTJCa1EsTUFBM0IsQ0FBa0N6VCxXQUFsQyxDQUE4QzBlLE9BQTlDOztBQUNBL3FCLFNBQUssQ0FBQzZLLFFBQU4sQ0FBZStFLFdBQWYsQ0FBMkJrUSxNQUEzQixDQUFrQ3pULFdBQWxDLENBQThDMmUsU0FBOUM7O0FBQ0FockIsU0FBSyxDQUFDNkssUUFBTixDQUFlK0UsV0FBZixDQUEyQmtRLE1BQTNCLENBQWtDelQsV0FBbEMsQ0FBOEM0ZSxTQUE5Qzs7QUFFQSxRQUFJSSxTQUFTLEdBQUdua0IsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQWhCO0FBQ0EsUUFBSW1rQixhQUFhLEdBQUksT0FBT3RyQixLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDcUQsV0FBakMsQ0FBNkNJLGFBQXBELEtBQXNFLFdBQXRFLElBQXFGdE8sS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3FELFdBQWpDLENBQTZDSSxhQUE3QyxLQUErRCxJQUFwSixJQUE0SixPQUFPdE8sS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3FELFdBQWpDLENBQTZDSSxhQUE3QyxDQUEyRFMsT0FBbEUsS0FBOEUsV0FBMU8sSUFBeVAvTyxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDcUQsV0FBakMsQ0FBNkNJLGFBQTdDLENBQTJEUyxPQUEzRCxDQUFtRXpPLE1BQW5FLEdBQTRFLENBQTFWO0FBQ0ErcUIsYUFBUyxDQUFDamYsWUFBVixDQUF1QixPQUF2QixFQUFnQywwQkFBMEJrZixhQUFhLEdBQUcsd0JBQUgsR0FBOEIsRUFBckUsQ0FBaEM7QUFDQUQsYUFBUyxDQUFDclYsU0FBVixHQUFzQmhXLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNnQyxXQUFqQyxDQUE2QytDLFdBQTdDLENBQXlEMmIsS0FBL0U7QUFFQXJQLG1FQUFRLENBQUNsYyxLQUFLLENBQUM2SyxRQUFOLENBQWUrRSxXQUFmLENBQTJCa1EsTUFBNUIsRUFBb0MsbUJBQXBDLENBQVI7O0FBRUE5ZixTQUFLLENBQUM2SyxRQUFOLENBQWUrRSxXQUFmLENBQTJCa1EsTUFBM0IsQ0FBa0N6VCxXQUFsQyxDQUE4Q2dmLFNBQTlDO0FBQ0QsR0FsQ0Q7O0FBb0NBLE9BQUtHLGNBQUwsR0FBc0IsVUFBVU4sSUFBVixFQUFnQmxYLElBQWhCLEVBQXNCbVgsSUFBdEIsRUFBNEJNLE1BQTVCLEVBQW9DQyxNQUFwQyxFQUE0Q04sTUFBNUMsRUFBb0RsYyxNQUFwRCxFQUE0RHJNLEtBQTVELEVBQW1FOG9CLFdBQW5FLEVBQWdGO0FBQ3BHLFFBQUkzckIsS0FBSyxHQUFHLElBQVo7O0FBQ0EsUUFBSTRyQixXQUFXLEdBQUcxa0IsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQWxCO0FBQ0EsUUFBSTBrQixPQUFPLEdBQUcza0IsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQWQ7QUFDQSxRQUFJMmtCLFlBQVksR0FBRzVrQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBbkI7QUFDQSxRQUFJNGtCLE9BQU8sR0FBRzdrQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBZDtBQUNBLFFBQUk2a0IsVUFBVSxHQUFHLElBQUlDLEtBQUosRUFBakI7QUFDQSxRQUFJQyxPQUFPLEdBQUdobEIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQWQ7QUFDQSxRQUFJZ2xCLFNBQVMsR0FBR2psQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBaEI7QUFDQSxRQUFJaWxCLFNBQVMsR0FBR2xsQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBaEI7QUFDQSxRQUFJa2xCLGdCQUFnQixHQUFJVixXQUFELEdBQWdCLG1CQUFoQixHQUFzQyxFQUE3RDtBQUVBQyxlQUFXLENBQUN4ZixZQUFaLENBQXlCLE9BQXpCLEVBQWtDLDBCQUEwQjhlLElBQTFCLEdBQWlDLGVBQWpDLEdBQW1Ecm9CLEtBQW5ELEdBQTJEd3BCLGdCQUE3RjtBQUNBUixXQUFPLENBQUN6ZixZQUFSLENBQXFCLE9BQXJCLEVBQThCLGdDQUFnQzhlLElBQTlEO0FBQ0FZLGdCQUFZLENBQUMxZixZQUFiLENBQTBCLE9BQTFCLEVBQW1DLG1CQUFuQztBQUNBMmYsV0FBTyxDQUFDM2YsWUFBUixDQUFxQixPQUFyQixFQUE4QixvQkFBOUI7QUFDQTRmLGNBQVUsQ0FBQzVmLFlBQVgsQ0FBd0IsT0FBeEIsRUFBaUMsaUJBQWpDO0FBQ0E4ZixXQUFPLENBQUM5ZixZQUFSLENBQXFCLE9BQXJCLEVBQThCLG9CQUE5QjtBQUNBK2YsYUFBUyxDQUFDL2YsWUFBVixDQUF1QixPQUF2QixFQUFnQyxzQkFBaEM7QUFDQWdnQixhQUFTLENBQUNoZ0IsWUFBVixDQUF1QixPQUF2QixFQUFnQyxzQkFBaEM7QUFFQXdmLGVBQVcsQ0FBQ2hQLE9BQVosQ0FBb0JzTyxJQUFwQixHQUEyQkEsSUFBM0I7QUFFQVksZ0JBQVksQ0FBQzlWLFNBQWIsR0FBeUJrVixJQUF6QjtBQUNBZ0IsV0FBTyxDQUFDbFcsU0FBUixHQUFvQm1WLElBQXBCO0FBQ0FnQixhQUFTLENBQUN2UCxPQUFWLENBQWtCOE8sTUFBbEIsR0FBNEJELE1BQU0sR0FBRyxDQUFWLEdBQWUsTUFBZixHQUF5QkEsTUFBTSxHQUFHLENBQVQsR0FBYSxJQUFiLEdBQW9CLE1BQXhFO0FBQ0FVLGFBQVMsQ0FBQ3ZQLE9BQVYsQ0FBa0I2TyxNQUFsQixHQUEyQkEsTUFBM0I7QUFDQVUsYUFBUyxDQUFDblcsU0FBVixHQUFzQjBWLE1BQXRCO0FBQ0FVLGFBQVMsQ0FBQ3BXLFNBQVYsR0FBc0JvVixNQUF0Qjs7QUFFQSxRQUFJcFgsSUFBSSxDQUFDMVQsTUFBTCxHQUFjLENBQWxCLEVBQXFCO0FBQ25CMHJCLGdCQUFVLENBQUNoaUIsR0FBWCxHQUFpQmdLLElBQWpCO0FBQ0FnWSxnQkFBVSxDQUFDTSxHQUFYLEdBQWlCbkIsSUFBakI7QUFDRCxLQUhELE1BR087QUFDTGEsZ0JBQVUsQ0FBQ3ZmLEtBQVgsQ0FBaUJDLE9BQWpCLEdBQTJCLE1BQTNCO0FBQ0Q7O0FBRURtZixXQUFPLENBQUN4ZixXQUFSLENBQW9CeWYsWUFBcEI7QUFDQUYsZUFBVyxDQUFDdmYsV0FBWixDQUF3QndmLE9BQXhCO0FBQ0FFLFdBQU8sQ0FBQzFmLFdBQVIsQ0FBb0IyZixVQUFwQjtBQUNBSixlQUFXLENBQUN2ZixXQUFaLENBQXdCMGYsT0FBeEI7QUFDQUgsZUFBVyxDQUFDdmYsV0FBWixDQUF3QjZmLE9BQXhCO0FBQ0FOLGVBQVcsQ0FBQ3ZmLFdBQVosQ0FBd0I4ZixTQUF4QjtBQUNBUCxlQUFXLENBQUN2ZixXQUFaLENBQXdCK2YsU0FBeEI7QUFFQSxRQUFJRyxTQUFTLEdBQUdybEIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQWhCO0FBQ0EsUUFBSW1rQixhQUFhLEdBQUksT0FBT3RyQixLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDcUQsV0FBakMsQ0FBNkNJLGFBQXBELEtBQXNFLFdBQXRFLElBQXFGdE8sS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3FELFdBQWpDLENBQTZDSSxhQUE3QyxLQUErRCxJQUFwSixJQUE0SixPQUFPdE8sS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3FELFdBQWpDLENBQTZDSSxhQUE3QyxDQUEyRFMsT0FBbEUsS0FBOEUsV0FBMU8sSUFBeVAvTyxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDcUQsV0FBakMsQ0FBNkNJLGFBQTdDLENBQTJEUyxPQUEzRCxDQUFtRXpPLE1BQW5FLEdBQTRFLENBQTFWO0FBQ0Fpc0IsYUFBUyxDQUFDbmdCLFlBQVYsQ0FBdUIsT0FBdkIsRUFBZ0MsMEJBQTBCa2YsYUFBYSxHQUFHLHdCQUFILEdBQThCLEVBQXJFLENBQWhDO0FBQ0FpQixhQUFTLENBQUN2VyxTQUFWLEdBQXVCLE9BQU85RyxNQUFQLEtBQWtCLFdBQWxCLElBQWlDQSxNQUFNLEtBQUssSUFBN0MsR0FBcURBLE1BQXJELEdBQThELEVBQXBGO0FBRUFnTixtRUFBUSxDQUFDMFAsV0FBRCxFQUFjLG1CQUFkLENBQVI7QUFFQUEsZUFBVyxDQUFDdmYsV0FBWixDQUF3QmtnQixTQUF4QjtBQUVBLFdBQU9YLFdBQVA7QUFDRCxHQXZERDs7QUF5REEsT0FBS1ksb0JBQUwsR0FBNEIsVUFBVXRCLElBQVYsRUFBZ0JsWCxJQUFoQixFQUFzQm1YLElBQXRCLEVBQTRCTSxNQUE1QixFQUFvQ0MsTUFBcEMsRUFBNENOLE1BQTVDLEVBQW9EbGMsTUFBcEQsRUFBNERyTSxLQUE1RCxFQUFtRThvQixXQUFuRSxFQUFnRmMsU0FBaEYsRUFBMkY7QUFDckgsUUFBSXpzQixLQUFLLEdBQUcsSUFBWjs7QUFDQSxRQUFJMHNCLE9BQU8sR0FBR2xnQiw0REFBSyxDQUFDeE0sS0FBSyxDQUFDNkssUUFBTixDQUFlK0UsV0FBZixDQUEyQjlFLFNBQTVCLEVBQXVDLGlCQUFpQm9nQixJQUFqQixHQUF3QixlQUF4QixHQUEwQ3JvQixLQUFqRixDQUFuQjs7QUFFQSxRQUFJNnBCLE9BQU8sS0FBSyxJQUFoQixFQUFzQjtBQUNwQkQsZUFBUyxDQUFDdkIsSUFBRCxFQUFPbFgsSUFBUCxFQUFhbVgsSUFBYixFQUFtQk0sTUFBbkIsRUFBMkJDLE1BQTNCLEVBQW1DTixNQUFuQyxFQUEyQ2xjLE1BQTNDLEVBQW1Eck0sS0FBbkQsRUFBMEQ4b0IsV0FBMUQsQ0FBVDtBQUNELEtBRkQsTUFFTztBQUNMLFVBQUlFLE9BQU8sR0FBR3JmLDREQUFLLENBQUNrZ0IsT0FBRCxFQUFVLG9CQUFWLENBQW5CO0FBQ0EsVUFBSVgsT0FBTyxHQUFHdmYsNERBQUssQ0FBQ2tnQixPQUFELEVBQVUsa0JBQVYsQ0FBbkI7QUFDQSxVQUFJUixPQUFPLEdBQUcxZiw0REFBSyxDQUFDa2dCLE9BQUQsRUFBVSxjQUFWLENBQW5CO0FBQ0EsVUFBSVAsU0FBUyxHQUFHM2YsNERBQUssQ0FBQ2tnQixPQUFELEVBQVUsZ0JBQVYsQ0FBckI7QUFDQSxVQUFJTixTQUFTLEdBQUc1Ziw0REFBSyxDQUFDa2dCLE9BQUQsRUFBVSxnQkFBVixDQUFyQjtBQUNBLFVBQUlMLGdCQUFnQixHQUFHLGtCQUF2QjtBQUNBLFVBQUlNLFdBQVcsR0FBRzFRLCtEQUFRLENBQUN5USxPQUFELEVBQVVMLGdCQUFWLENBQTFCOztBQUVBLFVBQUl4cEIsS0FBSyxHQUFHLENBQVIsSUFBYSxDQUFDb1osK0RBQVEsQ0FBQ3lRLE9BQUQsRUFBVSxnQkFBVixDQUExQixFQUF1RDtBQUNyRHhRLHVFQUFRLENBQUN3USxPQUFELEVBQVUsZ0JBQVYsQ0FBUjtBQUNEOztBQUVELFVBQUlmLFdBQVcsSUFBSSxDQUFDZ0IsV0FBcEIsRUFBaUM7QUFDL0J6USx1RUFBUSxDQUFDd1EsT0FBRCxFQUFVTCxnQkFBVixDQUFSO0FBQ0QsT0FGRCxNQUVPLElBQUksQ0FBQ1YsV0FBRCxJQUFnQmdCLFdBQXBCLEVBQWlDO0FBQ3RDdlEsMEVBQVcsQ0FBQ3NRLE9BQUQsRUFBVUwsZ0JBQVYsQ0FBWDtBQUNEOztBQUVESyxhQUFPLENBQUM5UCxPQUFSLENBQWdCc08sSUFBaEIsR0FBdUJBLElBQXZCO0FBRUFXLGFBQU8sQ0FBQzdWLFNBQVIsR0FBb0JrVixJQUFwQjtBQUNBZ0IsYUFBTyxDQUFDbFcsU0FBUixHQUFvQm1WLElBQXBCO0FBRUFnQixlQUFTLENBQUN2UCxPQUFWLENBQWtCOE8sTUFBbEIsR0FBNEJELE1BQU0sR0FBRyxDQUFWLEdBQWUsTUFBZixHQUF5QkEsTUFBTSxHQUFHLENBQVQsR0FBYSxJQUFiLEdBQW9CLE1BQXhFO0FBQ0FVLGVBQVMsQ0FBQ3ZQLE9BQVYsQ0FBa0I2TyxNQUFsQixHQUEyQkEsTUFBM0I7QUFDQVUsZUFBUyxDQUFDblcsU0FBVixHQUFzQjBWLE1BQXRCO0FBRUFVLGVBQVMsQ0FBQ3BXLFNBQVYsR0FBc0JvVixNQUF0Qjs7QUFFQSxVQUFJcFgsSUFBSSxDQUFDMVQsTUFBTCxHQUFjLENBQWxCLEVBQXFCO0FBQ25CeXJCLGVBQU8sQ0FBQy9oQixHQUFSLEdBQWNnSyxJQUFkO0FBQ0ErWCxlQUFPLENBQUNPLEdBQVIsR0FBY25CLElBQWQ7QUFDQVksZUFBTyxDQUFDdGYsS0FBUixDQUFjQyxPQUFkLEdBQXdCLE9BQXhCO0FBQ0QsT0FKRCxNQUlPO0FBQ0xxZixlQUFPLENBQUN0ZixLQUFSLENBQWNDLE9BQWQsR0FBd0IsTUFBeEI7QUFDRDs7QUFFRCxVQUFJLE9BQU8xTSxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDcUQsV0FBakMsQ0FBNkNJLGFBQXBELEtBQXNFLFdBQXRFLElBQXFGdE8sS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3FELFdBQWpDLENBQTZDSSxhQUE3QyxLQUErRCxJQUFwSixJQUE0SixPQUFPdE8sS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3FELFdBQWpDLENBQTZDSSxhQUE3QyxDQUEyRFMsT0FBbEUsS0FBOEUsV0FBMU8sSUFBeVAvTyxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDcUQsV0FBakMsQ0FBNkNJLGFBQTdDLENBQTJEUyxPQUEzRCxDQUFtRXpPLE1BQW5FLEdBQTRFLENBQXpVLEVBQTRVO0FBQzFVLFlBQUlpc0IsU0FBUyxHQUFHL2YsNERBQUssQ0FBQ2tnQixPQUFELEVBQVUsZ0JBQVYsQ0FBckI7O0FBQ0EsWUFBSUgsU0FBUyxLQUFLLElBQWxCLEVBQXdCO0FBQ3RCQSxtQkFBUyxDQUFDdlcsU0FBVixHQUF1QixPQUFPOUcsTUFBUCxLQUFrQixXQUFsQixJQUFpQ0EsTUFBTSxLQUFLLElBQTdDLEdBQXFEQSxNQUFyRCxHQUE4RCxFQUFwRjtBQUNEO0FBQ0Y7QUFDRjtBQUNGLEdBbkREOztBQXFEQSxPQUFLMGQsNENBQUwsR0FBb0QsWUFBWTtBQUM5RCxRQUFJNXNCLEtBQUssR0FBRyxJQUFaOztBQUNBLFFBQUlnZ0IsVUFBVSxHQUFHLEVBQWpCO0FBQ0EsUUFBSTZNLGdCQUFnQixHQUFHLEVBQXZCOztBQUVBLFNBQUssSUFBSXRwQixDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHdkQsS0FBSyxDQUFDNkssUUFBTixDQUFlK0UsV0FBZixDQUEyQmlRLGFBQS9DLEVBQThEdGMsQ0FBQyxFQUEvRCxFQUFtRTtBQUNqRSxVQUFNMm5CLElBQUksR0FBRzNuQixDQUFDLEdBQUcsQ0FBakI7QUFFQXljLGdCQUFVLENBQUM1YyxJQUFYLENBQWdCO0FBQ2QrbkIsWUFBSSxFQUFFLElBRFE7QUFFZEQsWUFBSSxFQUFFQSxJQUZRO0FBR2RFLGNBQU0sRUFBRSxJQUhNO0FBSWR4ZCxnQkFBUSxFQUFFLEVBSkk7QUFLZGtmLG1CQUFXLEVBQUU7QUFMQyxPQUFoQjtBQU9EOztBQUVELFNBQUssSUFBSWhxQixDQUFDLEdBQUc5QyxLQUFLLENBQUM2SyxRQUFOLENBQWUrRSxXQUFmLENBQTJCaVEsYUFBeEMsRUFBdUQvYyxDQUFDLEdBQUc5QyxLQUFLLENBQUM2SyxRQUFOLENBQWUrRSxXQUFmLENBQTJCZ1EsZ0JBQXRGLEVBQXdHOWMsQ0FBQyxFQUF6RyxFQUE2RztBQUMzRyxVQUFNb29CLEtBQUksR0FBR3BvQixDQUFDLEdBQUcsQ0FBakI7O0FBRUErcEIsc0JBQWdCLENBQUN6cEIsSUFBakIsQ0FBc0I7QUFDcEIrbkIsWUFBSSxFQUFFLElBRGM7QUFFcEJELFlBQUksRUFBRUEsS0FGYztBQUdwQkUsY0FBTSxFQUFFLElBSFk7QUFJcEJ4ZCxnQkFBUSxFQUFFLEVBSlU7QUFLcEJrZixtQkFBVyxFQUFFO0FBTE8sT0FBdEI7QUFPRDs7QUFFRDlzQixTQUFLLENBQUMrc0IsMkJBQU4sQ0FBa0MvTSxVQUFsQzs7QUFDQWhnQixTQUFLLENBQUNndEIsd0JBQU4sQ0FBK0JILGdCQUEvQjtBQUNELEdBL0JEOztBQWlDQSxPQUFLRSwyQkFBTCxHQUFtQyxVQUFVL00sVUFBVixFQUFzQjtBQUN2RCxRQUFJaGdCLEtBQUssR0FBRyxJQUFaOztBQUNBLFFBQUlpdEIsU0FBUyxHQUFHLEVBQWhCO0FBQ0EsUUFBSUMsZ0JBQWdCLEdBQUcsRUFBdkIsQ0FIdUQsQ0FLdkQ7O0FBQ0ExWSxvRUFBUyxDQUFDd0wsVUFBRCxFQUFhLFVBQVVtTixFQUFWLEVBQWM7QUFDbENELHNCQUFnQixDQUFDOXBCLElBQWpCLENBQXNCK3BCLEVBQUUsQ0FBQ2pDLElBQXpCO0FBQ0FwUSwyRUFBYyxDQUFDdE8sNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZStFLFdBQWYsQ0FBMkJvUSxVQUE1QixFQUF3QyxpQkFBaUJtTixFQUFFLENBQUNqQyxJQUFwQixHQUEyQixpQkFBbkUsQ0FBTixFQUE2RixVQUFVMXJCLEdBQVYsRUFBZTtBQUN4SDR0QixxRUFBTSxDQUFDNXRCLEdBQUQsQ0FBTjtBQUNELE9BRmEsQ0FBZDtBQUdELEtBTFEsQ0FBVDtBQU9Bc2IseUVBQWMsQ0FBQ3RPLDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWUrRSxXQUFmLENBQTJCb1EsVUFBNUIsRUFBd0MsWUFBeEMsQ0FBTixFQUE2RCxVQUFVeGdCLEdBQVYsRUFBZTtBQUN4RixVQUFJMHJCLElBQUksR0FBR3ZWLFFBQVEsQ0FBQ25XLEdBQUcsQ0FBQ29kLE9BQUosQ0FBWXNPLElBQWIsQ0FBbkI7O0FBQ0EsVUFBSWdDLGdCQUFnQixDQUFDdnRCLE9BQWpCLENBQXlCdXJCLElBQXpCLE1BQW1DLENBQUMsQ0FBcEMsSUFBeUNBLElBQUksR0FBR2xyQixLQUFLLENBQUM2SyxRQUFOLENBQWUrRSxXQUFmLENBQTJCZ1EsZ0JBQS9FLEVBQWlHO0FBQy9Gd04scUVBQU0sQ0FBQzV0QixHQUFELENBQU47QUFDRDtBQUNGLEtBTGEsQ0FBZDtBQU9BZ1Ysb0VBQVMsQ0FBQ3dMLFVBQUQsRUFBYSxVQUFVbU4sRUFBVixFQUFjO0FBQ2xDLFVBQUl0cUIsS0FBSyxHQUFHLENBQVo7O0FBQ0EsVUFBSW1SLElBQUksR0FBR2hVLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3Qm9JLDRCQUF4QixDQUFxRDhaLEVBQUUsQ0FBQ3ZmLFFBQXhELENBQVg7O0FBQ0EsVUFBSStkLFdBQVcsR0FBSTNyQixLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDK0MsUUFBakMsS0FBOEN1ZixFQUFFLENBQUN2ZixRQUFqRCxJQUE2RDVOLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUMrQyxRQUFqQyxLQUE4Q3VmLEVBQUUsQ0FBQ0wsV0FBakk7QUFDQSxVQUFJTyxVQUFVLEdBQUkxQixXQUFELEdBQWdCM3JCLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNnQyxXQUFqQyxDQUE2QytDLFdBQTdDLENBQXlEMGQsR0FBekUsR0FBK0VILEVBQUUsQ0FBQ2hDLElBQW5HOztBQUNBLFVBQUlqYyxNQUFNLEdBQUdsUCxLQUFLLENBQUNrWCxTQUFOLENBQWdCaVcsRUFBRSxDQUFDakMsSUFBbkIsQ0FBYjs7QUFDQSxVQUFJTyxNQUFNLEdBQUksT0FBTzBCLEVBQUUsQ0FBQzFCLE1BQVYsS0FBcUIsV0FBdEIsR0FBcUMsQ0FBckMsR0FBeUMwQixFQUFFLENBQUMxQixNQUF6RDtBQUNBLFVBQUk4QixVQUFVLEdBQUk5QixNQUFNLEdBQUcsQ0FBVixHQUFlLE1BQWYsR0FBeUJBLE1BQU0sR0FBRyxDQUFULEdBQWEsSUFBYixHQUFvQixNQUE5RDtBQUNBLFVBQUkrQixVQUFVLEdBQUcsMkNBQTJDRCxVQUEzQyxHQUF3RCxXQUF6RTs7QUFFQSxVQUFJTixTQUFTLENBQUN0dEIsT0FBVixDQUFrQnd0QixFQUFFLENBQUNqQyxJQUFyQixNQUErQixDQUFDLENBQXBDLEVBQXVDO0FBQ3JDLGFBQUssSUFBSXVDLEVBQUUsR0FBRyxDQUFkLEVBQWlCQSxFQUFFLEdBQUdSLFNBQVMsQ0FBQzNzQixNQUFoQyxFQUF3Q210QixFQUFFLEVBQTFDLEVBQThDO0FBQzVDLGNBQUlOLEVBQUUsQ0FBQ2pDLElBQUgsS0FBWStCLFNBQVMsQ0FBQ1EsRUFBRCxDQUF6QixFQUErQjtBQUM3QjVxQixpQkFBSztBQUNOO0FBQ0Y7QUFDRjs7QUFFRDdDLFdBQUssQ0FBQ3dzQixvQkFBTixDQUNFVyxFQUFFLENBQUNqQyxJQURMLEVBRUVsWCxJQUZGLEVBRVE7QUFDTnFaLGdCQUhGLEVBSUU1QixNQUpGLEVBS0UrQixVQUxGLEVBS2M7QUFDWkwsUUFBRSxDQUFDL0IsTUFOTCxFQU9FbGMsTUFQRixFQU9VO0FBQ1JyTSxXQVJGLEVBU0U4b0IsV0FURixFQVVFLFVBQVVULElBQVYsRUFBZ0JsWCxJQUFoQixFQUFzQm1YLElBQXRCLEVBQTRCTSxNQUE1QixFQUFvQ0MsTUFBcEMsRUFBNENOLE1BQTVDLEVBQW9EbGMsTUFBcEQsRUFBNERyTSxLQUE1RCxFQUFtRThvQixXQUFuRSxFQUFnRjtBQUM5RSxZQUFJK0IsTUFBTSxHQUFHMXRCLEtBQUssQ0FBQ3dyQixjQUFOLENBQXFCTixJQUFyQixFQUEyQmxYLElBQTNCLEVBQWlDbVgsSUFBakMsRUFBdUNNLE1BQXZDLEVBQStDQyxNQUEvQyxFQUF1RE4sTUFBdkQsRUFBK0RsYyxNQUEvRCxFQUF1RXJNLEtBQXZFLEVBQThFOG9CLFdBQTlFLENBQWI7O0FBQ0EsWUFBSWdDLFdBQVcsR0FBR25oQiw0REFBSyxDQUFDeE0sS0FBSyxDQUFDNkssUUFBTixDQUFlK0UsV0FBZixDQUEyQjlFLFNBQTVCLEVBQXVDLGlCQUFpQm9nQixJQUFqQixHQUF3QixlQUF4QixJQUEyQ3JvQixLQUFLLEdBQUcsQ0FBbkQsQ0FBdkMsQ0FBdkI7O0FBRUEsWUFBSThxQixXQUFXLEtBQUssSUFBaEIsSUFBd0IsT0FBT0EsV0FBVyxDQUFDcnRCLE1BQW5CLEtBQThCLFdBQTFELEVBQXVFO0FBQ3JFc3RCLDJFQUFVLENBQUNELFdBQUQsRUFBY0QsTUFBZCxDQUFWO0FBQ0QsU0FGRCxNQUVPO0FBQ0wxdEIsZUFBSyxDQUFDNkssUUFBTixDQUFlK0UsV0FBZixDQUEyQm9RLFVBQTNCLENBQXNDM1QsV0FBdEMsQ0FBa0RxaEIsTUFBbEQ7QUFDRDtBQUNGLE9BbkJIOztBQXNCQVQsZUFBUyxDQUFDN3BCLElBQVYsQ0FBZStwQixFQUFFLENBQUNqQyxJQUFsQjtBQUNELEtBekNRLENBQVQ7QUEwQ0QsR0E5REQ7O0FBZ0VBLE9BQUtoVSxTQUFMLEdBQWlCLFVBQVVnVSxJQUFWLEVBQWdCO0FBQy9CLFFBQUlsckIsS0FBSyxHQUFHLElBQVo7O0FBQ0EsUUFBSTZ0QixjQUFjLEdBQUcsRUFBckI7O0FBRUEsUUFBSSxPQUFPN3RCLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNxRCxXQUFqQyxDQUE2Q0ksYUFBcEQsS0FBc0UsV0FBdEUsSUFBcUZ0TyxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDcUQsV0FBakMsQ0FBNkNJLGFBQTdDLEtBQStELElBQXhKLEVBQThKO0FBQzVKa0csc0VBQVMsQ0FBQ3hVLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNxRCxXQUFqQyxDQUE2Q0ksYUFBN0MsQ0FBMkRTLE9BQTVELEVBQXFFLFVBQVVHLE1BQVYsRUFBa0I7QUFDOUYsWUFBSUEsTUFBTSxDQUFDa0csVUFBUCxZQUE2QjBZLEtBQTdCLElBQXNDNWUsTUFBTSxDQUFDa0csVUFBUCxDQUFrQnpWLE9BQWxCLENBQTBCdXJCLElBQTFCLE1BQW9DLENBQUMsQ0FBL0UsRUFBa0Y7QUFDaEYyQyx3QkFBYyxDQUFDenFCLElBQWYsQ0FBb0JwRCxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDa0UsT0FBakMsQ0FBeUNFLGVBQXpDLENBQXlEQyxNQUF6RCxDQUFwQjtBQUNEO0FBQ0YsT0FKUSxDQUFUO0FBS0Q7O0FBRUQsV0FBTzJlLGNBQWMsQ0FBQ3phLElBQWYsQ0FBb0IsSUFBcEIsQ0FBUDtBQUNELEdBYkQ7O0FBZUEsT0FBSzRaLHdCQUFMLEdBQWdDLFVBQVVILGdCQUFWLEVBQTRCO0FBQzFELFFBQUk3c0IsS0FBSyxHQUFHLElBQVo7O0FBQ0EsUUFBSWl0QixTQUFTLEdBQUcsRUFBaEI7QUFDQSxRQUFJQyxnQkFBZ0IsR0FBRyxFQUF2QixDQUgwRCxDQUsxRDs7QUFDQTFZLG9FQUFTLENBQUNxWSxnQkFBRCxFQUFtQixVQUFVTSxFQUFWLEVBQWM7QUFDeENELHNCQUFnQixDQUFDOXBCLElBQWpCLENBQXNCK3BCLEVBQUUsQ0FBQ2pDLElBQXpCO0FBQ0FwUSwyRUFBYyxDQUFDdE8sNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZStFLFdBQWYsQ0FBMkJmLElBQTVCLEVBQWtDLGlCQUFpQnNlLEVBQUUsQ0FBQ2pDLElBQXBCLEdBQTJCLGlCQUE3RCxDQUFOLEVBQXVGLFVBQVUxckIsR0FBVixFQUFlO0FBQ2xINHRCLHFFQUFNLENBQUM1dEIsR0FBRCxDQUFOO0FBQ0QsT0FGYSxDQUFkO0FBR0QsS0FMUSxDQUFUO0FBT0FzYix5RUFBYyxDQUFDdE8sNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZStFLFdBQWYsQ0FBMkI5RSxTQUE1QixFQUF1QyxZQUF2QyxDQUFOLEVBQTRELFVBQVV0TCxHQUFWLEVBQWU7QUFDdkYsVUFBSTByQixJQUFJLEdBQUd2VixRQUFRLENBQUNuVyxHQUFHLENBQUNvZCxPQUFKLENBQVlzTyxJQUFiLENBQW5COztBQUNBLFVBQUlnQyxnQkFBZ0IsQ0FBQ3Z0QixPQUFqQixDQUF5QnVyQixJQUF6QixNQUFtQyxDQUFDLENBQXBDLElBQXlDQSxJQUFJLEdBQUdsckIsS0FBSyxDQUFDNkssUUFBTixDQUFlK0UsV0FBZixDQUEyQmdRLGdCQUEvRSxFQUFpRztBQUMvRndOLHFFQUFNLENBQUM1dEIsR0FBRCxDQUFOO0FBQ0Q7QUFDRixLQUxhLENBQWQ7QUFPQWdWLG9FQUFTLENBQUNxWSxnQkFBRCxFQUFtQixVQUFVTSxFQUFWLEVBQWM7QUFDeEMsVUFBSXRxQixLQUFLLEdBQUcsQ0FBWjs7QUFDQSxVQUFJbVIsSUFBSSxHQUFHaFUsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCb0ksNEJBQXhCLENBQXFEOFosRUFBRSxDQUFDdmYsUUFBeEQsQ0FBWDs7QUFDQSxVQUFJK2QsV0FBVyxHQUFJM3JCLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUMrQyxRQUFqQyxLQUE4Q3VmLEVBQUUsQ0FBQ3ZmLFFBQWpELElBQTZENU4sS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQytDLFFBQWpDLEtBQThDdWYsRUFBRSxDQUFDTCxXQUFqSTtBQUNBLFVBQUlPLFVBQVUsR0FBSTFCLFdBQUQsR0FBZ0IzckIsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ2dDLFdBQWpDLENBQTZDK0MsV0FBN0MsQ0FBeUQwZCxHQUF6RSxHQUErRUgsRUFBRSxDQUFDaEMsSUFBbkc7O0FBQ0EsVUFBSWpjLE1BQU0sR0FBR2xQLEtBQUssQ0FBQ2tYLFNBQU4sQ0FBZ0JpVyxFQUFFLENBQUNqQyxJQUFuQixDQUFiOztBQUNBLFVBQUlPLE1BQU0sR0FBSSxPQUFPMEIsRUFBRSxDQUFDMUIsTUFBVixLQUFxQixXQUF0QixHQUFxQyxDQUFyQyxHQUF5QzBCLEVBQUUsQ0FBQzFCLE1BQXpEO0FBQ0EsVUFBSThCLFVBQVUsR0FBSTlCLE1BQU0sR0FBRyxDQUFWLEdBQWUsTUFBZixHQUF5QkEsTUFBTSxHQUFHLENBQVQsR0FBYSxJQUFiLEdBQW9CLE1BQTlEO0FBQ0EsVUFBSStCLFVBQVUsR0FBRywyQ0FBMkNELFVBQTNDLEdBQXdELFdBQXpFOztBQUVBLFVBQUlOLFNBQVMsQ0FBQ3R0QixPQUFWLENBQWtCd3RCLEVBQUUsQ0FBQ2pDLElBQXJCLE1BQStCLENBQUMsQ0FBcEMsRUFBdUM7QUFDckMsYUFBSyxJQUFJdUMsRUFBRSxHQUFHLENBQWQsRUFBaUJBLEVBQUUsR0FBR1IsU0FBUyxDQUFDM3NCLE1BQWhDLEVBQXdDbXRCLEVBQUUsRUFBMUMsRUFBOEM7QUFDNUMsY0FBSU4sRUFBRSxDQUFDakMsSUFBSCxLQUFZK0IsU0FBUyxDQUFDUSxFQUFELENBQXpCLEVBQStCO0FBQzdCNXFCLGlCQUFLO0FBQ047QUFDRjtBQUNGOztBQUVEN0MsV0FBSyxDQUFDd3NCLG9CQUFOLENBQ0VXLEVBQUUsQ0FBQ2pDLElBREwsRUFFRWxYLElBRkYsRUFFUTtBQUNOcVosZ0JBSEYsRUFJRTVCLE1BSkYsRUFLRStCLFVBTEYsRUFLYztBQUNaTCxRQUFFLENBQUMvQixNQU5MLEVBT0VsYyxNQVBGLEVBUUVyTSxLQVJGLEVBU0U4b0IsV0FURixFQVVFLFVBQVVULElBQVYsRUFBZ0JsWCxJQUFoQixFQUFzQm1YLElBQXRCLEVBQTRCTSxNQUE1QixFQUFvQ0MsTUFBcEMsRUFBNENOLE1BQTVDLEVBQW9EbGMsTUFBcEQsRUFBNERyTSxLQUE1RCxFQUFtRThvQixXQUFuRSxFQUFnRjtBQUM5RSxZQUFJK0IsTUFBTSxHQUFHMXRCLEtBQUssQ0FBQ3dyQixjQUFOLENBQXFCTixJQUFyQixFQUEyQmxYLElBQTNCLEVBQWlDbVgsSUFBakMsRUFBdUNBLElBQXZDLEVBQTZDTyxNQUE3QyxFQUFxRE4sTUFBckQsRUFBNkRsYyxNQUE3RCxFQUFxRXJNLEtBQXJFLEVBQTRFOG9CLFdBQTVFLENBQWI7O0FBQ0EsWUFBSWdDLFdBQVcsR0FBR25oQiw0REFBSyxDQUFDeE0sS0FBSyxDQUFDNkssUUFBTixDQUFlK0UsV0FBZixDQUEyQjlFLFNBQTVCLEVBQXVDLGlCQUFpQm9nQixJQUFqQixHQUF3QixlQUF4QixJQUEyQ3JvQixLQUFLLEdBQUcsQ0FBbkQsQ0FBdkMsQ0FBdkI7O0FBRUEsWUFBSThxQixXQUFXLEtBQUssSUFBaEIsSUFBd0IsT0FBT0EsV0FBVyxDQUFDcnRCLE1BQW5CLEtBQThCLFdBQTFELEVBQXVFO0FBQ3JFc3RCLDJFQUFVLENBQUNELFdBQUQsRUFBY0QsTUFBZCxDQUFWO0FBQ0QsU0FGRCxNQUVPO0FBQ0wxdEIsZUFBSyxDQUFDNkssUUFBTixDQUFlK0UsV0FBZixDQUEyQmYsSUFBM0IsQ0FBZ0N4QyxXQUFoQyxDQUE0Q3FoQixNQUE1QztBQUNEO0FBQ0YsT0FuQkg7O0FBc0JBVCxlQUFTLENBQUM3cEIsSUFBVixDQUFlK3BCLEVBQUUsQ0FBQ2pDLElBQWxCO0FBQ0QsS0F6Q1EsQ0FBVDtBQTBDRCxHQTlERDs7QUFnRUEsT0FBSzZDLGlCQUFMLEdBQXlCLFlBQVk7QUFDbkMsUUFBSS90QixLQUFLLEdBQUcsSUFBWjs7QUFDQSxRQUFJZ2dCLFVBQVUsR0FBRyxFQUFqQjtBQUNBLFFBQUk2TSxnQkFBZ0IsR0FBRyxFQUF2Qjs7QUFFQTdzQixTQUFLLENBQUM0c0IsNENBQU47O0FBRUFwWSxvRUFBUyxDQUFDeFUsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQytFLFdBQWpDLENBQTZDRyxlQUE5QyxFQUErRCxVQUFVb2QsRUFBVixFQUFjO0FBQ3BGLFVBQUlBLEVBQUUsQ0FBQ2pDLElBQUgsSUFBV2xyQixLQUFLLENBQUM2SyxRQUFOLENBQWUrRSxXQUFmLENBQTJCaVEsYUFBMUMsRUFBeUQ7QUFDdkRHLGtCQUFVLENBQUM1YyxJQUFYLENBQWdCK3BCLEVBQWhCO0FBQ0QsT0FGRCxNQUVPO0FBQ0xOLHdCQUFnQixDQUFDenBCLElBQWpCLENBQXNCK3BCLEVBQXRCO0FBQ0Q7QUFDRixLQU5RLENBQVQ7O0FBUUFudEIsU0FBSyxDQUFDK3NCLDJCQUFOLENBQWtDL00sVUFBbEM7O0FBQ0FoZ0IsU0FBSyxDQUFDZ3RCLHdCQUFOLENBQStCSCxnQkFBL0I7O0FBRUEsUUFBSTVlLE1BQU0sR0FBR3pCLDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWUrRSxXQUFmLENBQTJCZixJQUE1QixFQUFrQyxtQkFBbEMsQ0FBbEI7O0FBQ0EsUUFBSVosTUFBTSxLQUFLLElBQWYsRUFBcUI7QUFDbkJqTyxXQUFLLENBQUNndUIsYUFBTixDQUFvQmh1QixLQUFLLENBQUNpdUIsc0JBQU4sQ0FBNkJoZ0IsTUFBN0IsRUFBcUNqTyxLQUFLLENBQUM2SyxRQUFOLENBQWUrRSxXQUFmLENBQTJCZixJQUEzQixDQUFnQ3lOLFVBQXJFLENBQXBCOztBQUNBdGMsV0FBSyxDQUFDZ3VCLGFBQU4sQ0FBb0JodUIsS0FBSyxDQUFDaXVCLHNCQUFOLENBQTZCaGdCLE1BQTdCLEVBQXFDak8sS0FBSyxDQUFDNkssUUFBTixDQUFlK0UsV0FBZixDQUEyQm1RLGVBQWhFLENBQXBCO0FBQ0Q7QUFDRixHQXZCRDs7QUF5QkEsT0FBS21PLHFCQUFMLEdBQTZCLFlBQVk7QUFDdkMsUUFBSWx1QixLQUFLLEdBQUcsSUFBWjs7QUFDQSxRQUFJcVksSUFBSSxHQUFHRCw2Q0FBTSxDQUFDcFksS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3FELFdBQWpDLENBQTZDSSxhQUE3QyxDQUEyRDZmLGNBQTVELENBQU4sQ0FBa0Y5VixJQUFsRixDQUF1RkQsNkNBQU0sRUFBN0YsQ0FBWDs7QUFDQSxRQUFJOUIsSUFBSSxHQUFHdFcsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCeUgsY0FBeEIsQ0FBdUMwRiw2Q0FBTSxDQUFDekYsUUFBUCxDQUFnQjBGLElBQWhCLENBQXZDLENBQVg7O0FBRUEsUUFBSXJZLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZStFLFdBQWYsQ0FBMkJxUSxhQUEvQixFQUE4QztBQUM1QzdWLGtCQUFZLENBQUNwSyxLQUFLLENBQUM2SyxRQUFOLENBQWUrRSxXQUFmLENBQTJCcVEsYUFBNUIsQ0FBWjtBQUNEOztBQUVELFFBQUk1SCxJQUFJLEdBQUcsQ0FBUCxJQUFZclksS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3FELFdBQWpDLENBQTZDSSxhQUE3QyxDQUEyRG9HLFVBQTNELEtBQTBFLENBQTFGLEVBQTZGO0FBQzNGNEIsVUFBSSxHQUFHLEVBQVA7QUFDRCxLQUZELE1BRU8sSUFBSXRXLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNxRCxXQUFqQyxDQUE2Q0ksYUFBN0MsQ0FBMkRvRyxVQUEzRCxHQUF3RSxDQUF4RSxJQUE2RTFVLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNxRCxXQUFqQyxDQUE2Q0ksYUFBN0MsQ0FBMkRvRyxVQUEzRCxHQUF3RSxDQUF6SixFQUE0SjtBQUNqSzJELFVBQUksR0FBR0QsNkNBQU0sQ0FBQ3BZLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNxRCxXQUFqQyxDQUE2Q0ksYUFBN0MsQ0FBMkQ4ZixZQUE1RCxDQUFOLENBQWdGL1YsSUFBaEYsQ0FBcUZELDZDQUFNLEVBQTNGLENBQVA7QUFDQTlCLFVBQUksR0FBR3RXLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QnlILGNBQXhCLENBQXVDMEYsNkNBQU0sQ0FBQ3pGLFFBQVAsQ0FBZ0IwRixJQUFoQixDQUF2QyxDQUFQO0FBQ0QsS0FITSxNQUdBLElBQUlyWSxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDcUQsV0FBakMsQ0FBNkNJLGFBQTdDLENBQTJEb0csVUFBM0QsS0FBMEUsQ0FBOUUsRUFBaUY7QUFDdEY0QixVQUFJLEdBQUd0VyxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDZ0MsV0FBakMsQ0FBNkMyQyxXQUE3QyxDQUF5RDZlLFNBQWhFO0FBQ0QsS0FGTSxNQUVBLElBQUlydUIsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3FELFdBQWpDLENBQTZDSSxhQUE3QyxDQUEyRG9HLFVBQTNELElBQXlFLENBQTdFLEVBQWdGO0FBQ3JGNEIsVUFBSSxHQUFHdFcsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ2dDLFdBQWpDLENBQTZDMkMsV0FBN0MsQ0FBeURsSCxRQUFoRTtBQUNEOztBQUVEdEksU0FBSyxDQUFDNkssUUFBTixDQUFlMlUsVUFBZixDQUEwQnhKLFNBQTFCLEdBQXNDTSxJQUF0QztBQUNBdFcsU0FBSyxDQUFDNkssUUFBTixDQUFlNFUsU0FBZixDQUF5QnpKLFNBQXpCLEdBQXFDTSxJQUFyQztBQUNBdFcsU0FBSyxDQUFDNkssUUFBTixDQUFleWpCLG9CQUFmLENBQW9DdFksU0FBcEMsR0FBZ0RNLElBQWhEO0FBRUF0VyxTQUFLLENBQUM2SyxRQUFOLENBQWUrRSxXQUFmLENBQTJCcVEsYUFBM0IsR0FBMkNyYixVQUFVLENBQUMsWUFBWTtBQUNoRTVFLFdBQUssQ0FBQ2t1QixxQkFBTjtBQUNELEtBRm9ELEVBRWxELElBRmtELENBQXJEO0FBR0QsR0EzQkQ7O0FBNkJBLE9BQUtLLCtCQUFMLEdBQXVDLFlBQVk7QUFDakQsV0FBUSxLQUFLMWpCLFFBQUwsQ0FBY0ksUUFBZCxDQUF1QkosUUFBdkIsQ0FBZ0NxRCxXQUFoQyxDQUE0Q0ksYUFBNUMsS0FBOEQsSUFBOUQsSUFBc0UsS0FBS3pELFFBQUwsQ0FBY0ksUUFBZCxDQUF1QkosUUFBdkIsQ0FBZ0NxRCxXQUFoQyxDQUE0Q0ksYUFBNUMsQ0FBMERrZ0IsV0FBMUQsQ0FBc0VsdUIsTUFBdEUsR0FBK0UsQ0FBdEosR0FBMkosS0FBS3VLLFFBQUwsQ0FBY0ksUUFBZCxDQUF1QkosUUFBdkIsQ0FBZ0NxRCxXQUFoQyxDQUE0Q0ksYUFBNUMsQ0FBMERrZ0IsV0FBck4sR0FBcU8sS0FBSzNqQixRQUFMLENBQWNJLFFBQWQsQ0FBdUJKLFFBQXZCLENBQWdDcUQsV0FBaEMsQ0FBNENHLGlCQUE1QyxLQUFrRSxJQUFuRSxHQUEyRSxLQUFLeEQsUUFBTCxDQUFjSSxRQUFkLENBQXVCSixRQUF2QixDQUFnQ3FELFdBQWhDLENBQTRDRyxpQkFBNUMsQ0FBOERtZ0IsV0FBekksR0FBdUosRUFBbFk7QUFDRCxHQUZEOztBQUlBLE9BQUtDLFlBQUwsR0FBb0IsVUFBVXpoQixJQUFWLEVBQWdCMGhCLGNBQWhCLEVBQWdDQyxnQkFBaEMsRUFBa0Q7QUFDcEUsUUFBTTN1QixLQUFLLEdBQUcsSUFBZDs7QUFDQSxRQUFNNHVCLG9CQUFvQixHQUFHblMsOERBQU8sQ0FBQ3pQLElBQUQsRUFBTyxzQ0FBUCxDQUFwQztBQUNBLFFBQUk2aEIsVUFBVSxHQUFHLEtBQWpCO0FBQ0EsUUFBTUMsYUFBYSxHQUFJLE9BQU9ILGdCQUFQLEtBQTRCLFNBQTdCLEdBQTBDQSxnQkFBMUMsR0FBNkQsS0FBbkY7O0FBRUEsUUFBSTN1QixLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDcUQsV0FBakMsQ0FBNkNPLGtCQUFqRCxFQUFxRTtBQUNuRXFNLDJFQUFjLENBQUN0Tyw0REFBSyxDQUFDUSxJQUFELEVBQU8sS0FBUCxDQUFOLEVBQXFCLFVBQVUraEIsR0FBVixFQUFlM1QsR0FBZixFQUFvQnZZLEtBQXBCLEVBQTJCO0FBQzVELFlBQUlBLEtBQUssS0FBSyxDQUFkLEVBQWlCO0FBQ2Znc0Isb0JBQVUsR0FBRyxJQUFiO0FBQ0EsY0FBSUcsTUFBTSxHQUFHRCxHQUFHLENBQUNFLFNBQUosQ0FBYyxJQUFkLENBQWI7QUFDQS9TLHlFQUFRLENBQUM4UyxNQUFELEVBQVMsaUNBQVQsQ0FBUjtBQUNBTix3QkFBYyxDQUFDcmlCLFdBQWYsQ0FBMkIyaUIsTUFBM0I7QUFFQTVCLHVFQUFNLENBQUMyQixHQUFELENBQU47QUFDRDtBQUNGLE9BVGEsQ0FBZDtBQVVEOztBQUVELFFBQUksQ0FBQ0YsVUFBRCxJQUFlRCxvQkFBb0IsS0FBSyxJQUE1QyxFQUFrRDtBQUNoRHhTLHdFQUFXLENBQUN3UyxvQkFBRCxFQUF1QixxQ0FBdkIsQ0FBWDtBQUNELEtBRkQsTUFFTyxJQUFJQyxVQUFVLElBQUlELG9CQUFvQixLQUFLLElBQXZDLElBQStDNXVCLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUMrRSxXQUFqQyxDQUE2Q0ssY0FBN0MsQ0FBNERDLFdBQTNHLElBQTBILENBQUM0ZSxhQUEvSCxFQUE4STtBQUNuSjVTLHFFQUFRLENBQUNPLDhEQUFPLENBQUN6UCxJQUFELEVBQU8sdUJBQVAsQ0FBUixFQUF5QyxxQ0FBekMsQ0FBUjtBQUNEO0FBQ0YsR0F4QkQ7O0FBMEJBLE9BQUtraUIsd0JBQUwsR0FBZ0MsWUFBWTtBQUMxQyxRQUFJbHZCLEtBQUssR0FBRyxJQUFaOztBQUNBLFFBQUltdkIsU0FBUyxHQUFHM2lCLDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWV3VSxPQUFoQixFQUF5QiwrQ0FBekIsQ0FBckI7QUFDQSxRQUFJclMsSUFBSSxHQUFHLElBQVg7O0FBRUEsUUFBSSxDQUFDaE4sS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQytFLFdBQWpDLENBQTZDSyxjQUE3QyxDQUE0REUsc0JBQWpFLEVBQXlGO0FBQ3ZGbkQsVUFBSSxHQUFHUiw0REFBSyxDQUFDeE0sS0FBSyxDQUFDNkssUUFBTixDQUFld1UsT0FBaEIsRUFBeUIsd0NBQXpCLENBQVo7QUFDQXJTLFVBQUksQ0FBQ2dKLFNBQUwsR0FBaUJoVyxLQUFLLENBQUN1dUIsK0JBQU4sRUFBakI7QUFDRDs7QUFFRCxRQUFJdnVCLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUMrRSxXQUFqQyxDQUE2Q0ssY0FBN0MsQ0FBNERDLFdBQWhFLEVBQTZFO0FBQzNFLFVBQUlqSixLQUFLLEdBQUd1Riw0REFBSyxDQUFDeE0sS0FBSyxDQUFDNkssUUFBTixDQUFld1UsT0FBaEIsRUFBeUIsNENBQXpCLENBQWpCO0FBQ0FwWSxXQUFLLENBQUMrTyxTQUFOLEdBQWtCLEVBQWxCOztBQUVBLFVBQUloSixJQUFJLEtBQUssSUFBYixFQUFtQjtBQUNqQkEsWUFBSSxHQUFHOUYsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQVA7QUFDQTZGLFlBQUksQ0FBQ2dKLFNBQUwsR0FBaUJoVyxLQUFLLENBQUN1dUIsK0JBQU4sRUFBakI7O0FBRUF2dUIsYUFBSyxDQUFDeXVCLFlBQU4sQ0FBbUJ6aEIsSUFBbkIsRUFBeUIvRixLQUF6QixFQUFnQyxJQUFoQztBQUNELE9BTEQsTUFLTztBQUNMakgsYUFBSyxDQUFDeXVCLFlBQU4sQ0FBbUJ6aEIsSUFBbkIsRUFBeUIvRixLQUF6QixFQUFnQyxLQUFoQztBQUNEO0FBQ0Y7O0FBRURrb0IsYUFBUyxDQUFDblosU0FBVixHQUF1QmhXLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNxRCxXQUFqQyxDQUE2Q0ksYUFBN0MsS0FBK0QsSUFBaEUsR0FBd0V0TyxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDcUQsV0FBakMsQ0FBNkNJLGFBQTdDLENBQTJEOFIsS0FBbkksR0FBMklwZ0IsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ2dDLFdBQWpDLENBQTZDMkMsV0FBN0MsQ0FBeUQ0Zix1QkFBMU47QUFDRCxHQXpCRDs7QUEyQkEsT0FBSzFTLHFDQUFMLEdBQTZDLFVBQVV2VCxRQUFWLEVBQW9CO0FBQy9ELFFBQUk4UywrREFBUSxDQUFDLEtBQUtwUixRQUFMLENBQWN3VSxPQUFmLEVBQXdCLHFDQUF4QixDQUFaLEVBQTRFO0FBQzFFakQsd0VBQVcsQ0FBQyxLQUFLdlIsUUFBTCxDQUFjd1UsT0FBZixFQUF3QixxQ0FBeEIsQ0FBWDtBQUNELEtBRkQsTUFFTztBQUNMbkQscUVBQVEsQ0FBQyxLQUFLclIsUUFBTCxDQUFjd1UsT0FBZixFQUF3QixxQ0FBeEIsQ0FBUjtBQUNEOztBQUNELFFBQUksT0FBT2xXLFFBQVAsS0FBb0IsVUFBeEIsRUFBb0NBLFFBQVE7QUFDN0MsR0FQRDs7QUFTQSxPQUFLd1QscUNBQUwsR0FBNkMsVUFBVXhULFFBQVYsRUFBb0I7QUFDL0RpVCxzRUFBVyxDQUFDLEtBQUt2UixRQUFMLENBQWN3VSxPQUFmLEVBQXdCLHFDQUF4QixDQUFYO0FBQ0EsUUFBSSxPQUFPbFcsUUFBUCxLQUFvQixVQUF4QixFQUFvQ0EsUUFBUTtBQUM3QyxHQUhEOztBQUtBLE9BQUtrbUIscUJBQUwsR0FBNkIsWUFBWTtBQUN2QyxRQUFJcnZCLEtBQUssR0FBRyxJQUFaOztBQUNBLFFBQUlzdkIsS0FBSyxHQUFHOWlCLDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWV3VSxPQUFoQixFQUF5QixpQ0FBekIsQ0FBakI7O0FBRUEsUUFBSSxPQUFPcmYsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3FELFdBQWpDLENBQTZDRyxpQkFBcEQsS0FBMEUsV0FBMUUsSUFBeUZyTyxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDcUQsV0FBakMsQ0FBNkNHLGlCQUE3QyxLQUFtRSxJQUE1SixJQUFvSyxPQUFPck8sS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3FELFdBQWpDLENBQTZDRyxpQkFBN0MsQ0FBK0RvTCxhQUF0RSxLQUF3RixTQUE1UCxJQUF5UXpaLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNxRCxXQUFqQyxDQUE2Q0csaUJBQTdDLENBQStEb0wsYUFBNVUsRUFBMlY7QUFDelYsVUFBSSxPQUFPelosS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3FELFdBQWpDLENBQTZDRyxpQkFBN0MsQ0FBK0RrTCxLQUF0RSxLQUFnRixTQUFoRixJQUE2RixDQUFDdlosS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3FELFdBQWpDLENBQTZDRyxpQkFBN0MsQ0FBK0RrTCxLQUFqSyxFQUF3SztBQUN0SytWLGFBQUssQ0FBQ3RaLFNBQU4sR0FBa0JoVyxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDZ0MsV0FBakMsQ0FBNkMyQyxXQUE3QyxDQUF5RDBXLEtBQTNFO0FBQ0FvSixhQUFLLENBQUNoVCxVQUFOLENBQWlCN1AsS0FBakIsQ0FBdUJDLE9BQXZCLEdBQWlDLE9BQWpDO0FBQ0QsT0FIRCxNQUdPO0FBQ0w0aUIsYUFBSyxDQUFDaFQsVUFBTixDQUFpQjdQLEtBQWpCLENBQXVCQyxPQUF2QixHQUFpQyxNQUFqQztBQUNEO0FBQ0YsS0FQRCxNQU9PO0FBQ0w0aUIsV0FBSyxDQUFDaFQsVUFBTixDQUFpQjdQLEtBQWpCLENBQXVCQyxPQUF2QixHQUFpQyxNQUFqQztBQUNEO0FBQ0YsR0FkRCxDQXRzQzJDLENBc3RDM0M7OztBQUNBLE9BQUtnTyxjQUFMLEdBQXNCLFlBQVk7QUFDaEMsUUFBSTFhLEtBQUssR0FBRyxJQUFaOztBQUVBLFFBQUlBLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZTRTLFNBQWYsQ0FBeUJXLGVBQXpCLElBQTRDcGUsS0FBSyxDQUFDNkssUUFBTixDQUFlNFMsU0FBZixDQUF5QmtDLHlCQUF6QixLQUF1RCxJQUFuRyxJQUNGM2YsS0FBSyxDQUFDNkssUUFBTixDQUFlNFMsU0FBZixDQUF5QmlDLG9CQUF6QixLQUFrRCxJQURoRCxJQUN3RCxPQUFPMWYsS0FBSyxDQUFDNkssUUFBTixDQUFlNFMsU0FBZixDQUF5QmlDLG9CQUFoQyxLQUF5RCxRQURqSCxJQUVEMWYsS0FBSyxDQUFDNkssUUFBTixDQUFlNFMsU0FBZixDQUF5QmlDLG9CQUF6QixHQUFnRCxJQUFqRCxHQUF5RCxJQUFJcFcsSUFBSixHQUFXa1gsT0FBWCxFQUYzRCxFQUVpRjtBQUMvRXhnQixXQUFLLENBQUM2SyxRQUFOLENBQWU0UyxTQUFmLENBQXlCa0MseUJBQXpCO0FBQ0Q7QUFDRixHQVJEOztBQVVBLE9BQUtqQyxTQUFMLEdBQWlCLFlBQVk7QUFDM0IsUUFBSTFkLEtBQUssR0FBRyxJQUFaOztBQUNBLFFBQUl5ZCxTQUFTLEdBQUdqUiw0REFBSyxDQUFDeE0sS0FBSyxDQUFDNkssUUFBTixDQUFld1UsT0FBaEIsRUFBeUIsNEJBQXpCLENBQXJCLENBRjJCLENBRzNCOztBQUVBLFdBQU87QUFDTDFCLFVBQUksRUFBRSxjQUFVeFUsUUFBVixFQUFvQjtBQUN4Qm5KLGFBQUssQ0FBQzZLLFFBQU4sQ0FBZTRTLFNBQWYsQ0FBeUJXLGVBQXpCLEdBQTJDLElBQTNDO0FBQ0FwZSxhQUFLLENBQUM2SyxRQUFOLENBQWU0UyxTQUFmLENBQXlCaUMsb0JBQXpCLEdBQWdELElBQUlwVyxJQUFKLEdBQVdrWCxPQUFYLEVBQWhEO0FBQ0EvQyxpQkFBUyxDQUFDaFIsS0FBVixDQUFnQkMsT0FBaEIsR0FBMEIsT0FBMUI7QUFDQTlILGtCQUFVLENBQUMsWUFBWTtBQUNyQjZZLG1CQUFTLENBQUNoUixLQUFWLENBQWdCRSxPQUFoQixHQUEwQixDQUExQjtBQUNELFNBRlMsRUFFUCxFQUZPLENBQVY7O0FBSUEsWUFBSTNNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZTRTLFNBQWYsQ0FBeUJrQyx5QkFBekIsS0FBdUQsSUFBdkQsSUFBK0QsT0FBT3hXLFFBQVAsS0FBb0IsVUFBdkYsRUFBbUc7QUFDakduSixlQUFLLENBQUM2SyxRQUFOLENBQWU0UyxTQUFmLENBQXlCa0MseUJBQXpCLEdBQXFEeFcsUUFBckQ7QUFDRDs7QUFFREEsZ0JBQVE7QUFDVCxPQWRJO0FBZUxxVCxVQUFJLEVBQUUsZ0JBQVk7QUFDaEJ4YyxhQUFLLENBQUM2SyxRQUFOLENBQWU0UyxTQUFmLENBQXlCVyxlQUF6QixHQUEyQyxLQUEzQztBQUNBcGUsYUFBSyxDQUFDNkssUUFBTixDQUFlNFMsU0FBZixDQUF5QmlDLG9CQUF6QixHQUFnRCxJQUFoRDtBQUNBakMsaUJBQVMsQ0FBQ2hSLEtBQVYsQ0FBZ0JFLE9BQWhCLEdBQTBCLENBQTFCOztBQUVBLFlBQUkzTSxLQUFLLENBQUM2SyxRQUFOLENBQWU0UyxTQUFmLENBQXlCa0MseUJBQXpCLEtBQXVELElBQTNELEVBQWlFO0FBQy9EM2YsZUFBSyxDQUFDNkssUUFBTixDQUFlNFMsU0FBZixDQUF5QmtDLHlCQUF6QixHQUFxRCxJQUFyRDtBQUNEOztBQUVEL2Esa0JBQVUsQ0FBQyxZQUFZO0FBQ3JCNlksbUJBQVMsQ0FBQ2hSLEtBQVYsQ0FBZ0JDLE9BQWhCLEdBQTBCLE1BQTFCO0FBQ0QsU0FGUyxFQUVQLEdBRk8sQ0FBVjtBQUdEO0FBM0JJLEtBQVA7QUE2QkQsR0FsQ0Q7O0FBb0NBLE9BQUtrTixlQUFMLEdBQXVCLFVBQVV6USxRQUFWLEVBQW9CO0FBQ3pDLFFBQUluSixLQUFLLEdBQUcsSUFBWjs7QUFFQSxRQUFJQSxLQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWYsS0FBNkIsSUFBakMsRUFBdUM7QUFDckM5SyxXQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWYsR0FBMkI5SyxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDMEIsYUFBakMsQ0FBK0NGLFdBQS9DLENBQTJEck0sS0FBSyxDQUFDcVMsTUFBTixFQUEzRCxDQUEzQjtBQUNBclMsV0FBSyxDQUFDNkssUUFBTixDQUFldVUsZ0JBQWYsR0FBa0NwZixLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDMEIsYUFBakMsQ0FBK0NGLFdBQS9DLENBQTJEck0sS0FBSyxDQUFDaU0sYUFBTixFQUEzRCxDQUFsQztBQUNBak0sV0FBSyxDQUFDNkssUUFBTixDQUFldUYsVUFBZixHQUE0QjVELDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWhCLEVBQTJCLHNDQUEzQixDQUFqQztBQUNBOUssV0FBSyxDQUFDNkssUUFBTixDQUFld1UsT0FBZixHQUF5QjdTLDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWhCLEVBQTJCLG1DQUEzQixDQUE5QjtBQUNBOUssV0FBSyxDQUFDNkssUUFBTixDQUFlK0UsV0FBZixDQUEyQjlFLFNBQTNCLEdBQXVDMEIsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXdVLE9BQWhCLEVBQXlCLGdDQUF6QixDQUE1QztBQUNBcmYsV0FBSyxDQUFDNkssUUFBTixDQUFlK0UsV0FBZixDQUEyQmtRLE1BQTNCLEdBQW9DdFQsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZStFLFdBQWYsQ0FBMkI5RSxTQUE1QixFQUF1Qyw4Q0FBdkMsQ0FBekM7QUFDQTlLLFdBQUssQ0FBQzZLLFFBQU4sQ0FBZStFLFdBQWYsQ0FBMkJtUSxlQUEzQixHQUE2Q3ZULDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWUrRSxXQUFmLENBQTJCOUUsU0FBNUIsRUFBdUMsOENBQXZDLENBQWxEO0FBQ0E5SyxXQUFLLENBQUM2SyxRQUFOLENBQWUrRSxXQUFmLENBQTJCZixJQUEzQixHQUFrQ3JDLDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWUrRSxXQUFmLENBQTJCOUUsU0FBNUIsRUFBdUMseUNBQXZDLENBQXZDO0FBQ0E5SyxXQUFLLENBQUM2SyxRQUFOLENBQWUrRSxXQUFmLENBQTJCb1EsVUFBM0IsR0FBd0N4VCw0REFBSyxDQUFDeE0sS0FBSyxDQUFDNkssUUFBTixDQUFlK0UsV0FBZixDQUEyQjlFLFNBQTVCLEVBQXVDLCtDQUF2QyxDQUE3QztBQUNBOUssV0FBSyxDQUFDNkssUUFBTixDQUFleVUsZ0JBQWYsR0FBa0M5Uyw0REFBSyxDQUFDeE0sS0FBSyxDQUFDNkssUUFBTixDQUFlQyxTQUFoQixFQUEyQixzQ0FBM0IsQ0FBdkM7QUFDQTlLLFdBQUssQ0FBQzZLLFFBQU4sQ0FBZTBVLHVCQUFmLEdBQXlDL1MsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBaEIsRUFBMkIsa0NBQTNCLENBQTlDO0FBQ0E5SyxXQUFLLENBQUM2SyxRQUFOLENBQWV5akIsb0JBQWYsR0FBc0M5aEIsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBaEIsRUFBMkIsd0NBQTNCLENBQTNDO0FBQ0E5SyxXQUFLLENBQUM2SyxRQUFOLENBQWUyVSxVQUFmLEdBQTRCaFQsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBaEIsRUFBMkIsZ0NBQTNCLENBQWpDO0FBQ0E5SyxXQUFLLENBQUM2SyxRQUFOLENBQWU0VSxTQUFmLEdBQTJCalQsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBaEIsRUFBMkIseUNBQTNCLENBQWhDO0FBQ0E5SyxXQUFLLENBQUM2SyxRQUFOLENBQWV3RyxXQUFmLENBQTJCdkcsU0FBM0IsR0FBdUMwQiw0REFBSyxDQUFDeE0sS0FBSyxDQUFDNkssUUFBTixDQUFlQyxTQUFoQixFQUEyQixNQUFNOUssS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3VGLFVBQWpDLENBQTRDMUIsWUFBNUMsQ0FBeUQ4QixjQUExRixDQUE1QztBQUNBeFEsV0FBSyxDQUFDNkssUUFBTixDQUFld0csV0FBZixDQUEyQmlPLGdCQUEzQixHQUE4QzlTLDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWhCLEVBQTJCLHVDQUEzQixDQUFuRDtBQUNBOUssV0FBSyxDQUFDNkssUUFBTixDQUFlcUUsTUFBZixDQUFzQnBFLFNBQXRCLEdBQWtDMEIsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBaEIsRUFBMkIsTUFBTTlLLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUN1RixVQUFqQyxDQUE0Q3JCLE9BQTVDLENBQW9EeUIsY0FBckYsQ0FBdkM7QUFDQXhRLFdBQUssQ0FBQzZLLFFBQU4sQ0FBZXFFLE1BQWYsQ0FBc0JvUSxnQkFBdEIsR0FBeUM5Uyw0REFBSyxDQUFDeE0sS0FBSyxDQUFDNkssUUFBTixDQUFlQyxTQUFoQixFQUEyQiwwQ0FBM0IsQ0FBOUM7QUFDQTlLLFdBQUssQ0FBQzZLLFFBQU4sQ0FBZTBFLFFBQWYsQ0FBd0J6RSxTQUF4QixHQUFvQzBCLDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWhCLEVBQTJCLE1BQU05SyxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDdUYsVUFBakMsQ0FBNENNLEtBQTVDLENBQWtERixjQUFuRixDQUF6QztBQUNBeFEsV0FBSyxDQUFDNkssUUFBTixDQUFlMEUsUUFBZixDQUF3QitQLGdCQUF4QixHQUEyQzlTLDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWhCLEVBQTJCLHlDQUEzQixDQUFoRDs7QUFFQTlLLFdBQUssQ0FBQ2lqQixtQkFBTjs7QUFDQWpqQixXQUFLLENBQUM0cUIsaUJBQU47O0FBQ0E1cUIsV0FBSyxDQUFDOGQsY0FBTjtBQUNEOztBQUVEOWQsU0FBSyxDQUFDcXZCLHFCQUFOOztBQUNBcnZCLFNBQUssQ0FBQ2t2Qix3QkFBTjs7QUFDQWx2QixTQUFLLENBQUMrdEIsaUJBQU47O0FBRUEsUUFBSS90QixLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDcUQsV0FBakMsQ0FBNkNJLGFBQTdDLEtBQStELElBQW5FLEVBQXlFO0FBQ3ZFdE8sV0FBSyxDQUFDa3VCLHFCQUFOO0FBQ0Q7O0FBRUQsUUFBSSxPQUFPL2tCLFFBQVAsS0FBb0IsVUFBeEIsRUFBb0M7QUFDbENBLGNBQVE7QUFDVDtBQUNGLEdBekNEOztBQTJDQSxPQUFLMlEsUUFBTCxHQUFnQixZQUFZO0FBQzFCLFFBQUk5WixLQUFLLEdBQUcsSUFBWjs7QUFFQUEsU0FBSyxDQUFDNkssUUFBTixDQUFlNk8sTUFBZixHQUF3QixLQUF4Qjs7QUFFQSxRQUFJMVosS0FBSyxDQUFDNkssUUFBTixDQUFlK0UsV0FBZixDQUEyQnFRLGFBQS9CLEVBQThDO0FBQzVDN1Ysa0JBQVksQ0FBQ3BLLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZStFLFdBQWYsQ0FBMkJxUSxhQUE1QixDQUFaO0FBQ0Q7O0FBRURqZ0IsU0FBSyxDQUFDNkssUUFBTixDQUFlNFMsU0FBZixDQUF5QlcsZUFBekIsR0FBMkMsS0FBM0M7QUFDRCxHQVZEOztBQVlBLE9BQUs1QixJQUFMLEdBQVksVUFBVXJULFFBQVYsRUFBb0I7QUFDOUIsUUFBSW5KLEtBQUssR0FBRyxJQUFaOztBQUVBQSxTQUFLLENBQUM4WixRQUFOOztBQUVBLFFBQUk5WixLQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWYsS0FBNkIsSUFBakMsRUFBdUM7QUFDckNzUix3RUFBVyxDQUFDcGMsS0FBSyxDQUFDNkssUUFBTixDQUFlQyxTQUFoQixFQUEyQixTQUEzQixDQUFYO0FBRUFsRyxnQkFBVSxDQUFDLFlBQVk7QUFDckI1RSxhQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWYsQ0FBeUIyQixLQUF6QixDQUErQkMsT0FBL0IsR0FBeUMsTUFBekM7QUFDQTFNLGFBQUssQ0FBQzZLLFFBQU4sQ0FBZXVVLGdCQUFmLENBQWdDM1MsS0FBaEMsQ0FBc0NDLE9BQXRDLEdBQWdELE1BQWhEOztBQUVBMU0sYUFBSyxDQUFDOGMsc0JBQU47O0FBQ0E5YyxhQUFLLENBQUMrYyxzQkFBTjs7QUFFQSxZQUFJLE9BQU81VCxRQUFQLEtBQW9CLFVBQXhCLEVBQW9DO0FBQ2xDQSxrQkFBUTtBQUNUO0FBQ0YsT0FWUyxFQVVQLEVBVk8sQ0FBVjtBQVdELEtBZEQsTUFjTyxJQUFJLE9BQU9BLFFBQVAsS0FBb0IsVUFBeEIsRUFBb0M7QUFDekNBLGNBQVE7QUFDVDtBQUNGLEdBdEJEOztBQXdCQSxPQUFLNmtCLGFBQUwsR0FBcUIsVUFBVXVCLFNBQVYsRUFBcUI7QUFDeEMsUUFBSXZ2QixLQUFLLEdBQUcsSUFBWjs7QUFDQSxRQUFJd3ZCLElBQUksR0FBR2hqQiw0REFBSyxDQUFDeE0sS0FBSyxDQUFDNkssUUFBTixDQUFlQyxTQUFoQixFQUEyQixtQ0FBM0IsQ0FBaEI7QUFDQSxRQUFJbUQsTUFBTSxHQUFHekIsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZStFLFdBQWYsQ0FBMkJmLElBQTVCLEVBQWtDLG1CQUFsQyxDQUFsQjs7QUFFQSxRQUFJMmdCLElBQUksS0FBSyxJQUFULElBQWlCdmhCLE1BQU0sS0FBSyxJQUFoQyxFQUFzQztBQUNwQ3VoQixVQUFJLENBQUN4WixTQUFMLEdBQWlCL0gsTUFBTSxDQUFDK0gsU0FBeEI7QUFDRDs7QUFFRCxRQUFJLENBQUN1WixTQUFMLEVBQWdCO0FBQ2QsVUFBSUMsSUFBSSxLQUFLLElBQVQsSUFBaUJ2aEIsTUFBTSxLQUFLLElBQWhDLEVBQXNDO0FBQ3BDdWhCLFlBQUksQ0FBQy9pQixLQUFMLENBQVdDLE9BQVgsR0FBcUIsT0FBckI7QUFDRCxPQUZELE1BRU87QUFDTDhpQixZQUFJLENBQUMvaUIsS0FBTCxDQUFXQyxPQUFYLEdBQXFCLE1BQXJCO0FBQ0Q7QUFDRixLQU5ELE1BTU87QUFDTDhpQixVQUFJLENBQUMvaUIsS0FBTCxDQUFXQyxPQUFYLEdBQXFCLE1BQXJCO0FBQ0Q7QUFDRixHQWxCRDs7QUFvQkEsT0FBS3VoQixzQkFBTCxHQUE4QixVQUFValMsRUFBVixFQUFjbFIsU0FBZCxFQUF5QjtBQUNyRCxRQUFJMmtCLFFBQVEsR0FBR3pULEVBQUUsQ0FBQzBULHFCQUFILEVBQWY7QUFDQSxRQUFJQyxhQUFhLEdBQUc3a0IsU0FBUyxDQUFDNGtCLHFCQUFWLEVBQXBCO0FBQ0EsUUFBSUUsT0FBTyxHQUFHSCxRQUFRLENBQUNJLEdBQXZCO0FBQ0EsUUFBSUMsVUFBVSxHQUFHTCxRQUFRLENBQUNNLE1BQTFCO0FBQ0EsUUFBSUMsVUFBVSxHQUFHUCxRQUFRLENBQUNsckIsTUFBMUI7QUFFQSxXQUFPcXJCLE9BQU8sSUFBSUQsYUFBYSxDQUFDRSxHQUF6QixHQUNIRixhQUFhLENBQUNFLEdBQWQsR0FBb0JELE9BQXBCLElBQStCSSxVQUQ1QixHQUN5Q0YsVUFBVSxHQUFHSCxhQUFhLENBQUNJLE1BQTNCLElBQXFDQyxVQURyRjtBQUVELEdBVEQ7O0FBV0EsT0FBS2xTLGNBQUwsR0FBc0IsWUFBWTtBQUNoQyxRQUFJOWQsS0FBSyxHQUFHLElBQVosQ0FEZ0MsQ0FHaEM7OztBQUNBQSxTQUFLLENBQUM2SyxRQUFOLENBQWUrRSxXQUFmLENBQTJCbVEsZUFBM0IsQ0FBMkNrUSxRQUEzQyxHQUFzRCxVQUFVQyxHQUFWLEVBQWU7QUFDbkVBLFNBQUcsQ0FBQ0MsY0FBSjtBQUNBLFVBQUlsaUIsTUFBTSxHQUFHekIsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZStFLFdBQWYsQ0FBMkJmLElBQTVCLEVBQWtDLG1CQUFsQyxDQUFsQjs7QUFFQSxVQUFJWixNQUFNLEtBQUssSUFBZixFQUFxQjtBQUNuQmpPLGFBQUssQ0FBQ2d1QixhQUFOLENBQW9CaHVCLEtBQUssQ0FBQ2l1QixzQkFBTixDQUE2QmhnQixNQUE3QixFQUFxQ2lpQixHQUFHLENBQUNwbUIsTUFBekMsQ0FBcEI7QUFDRDtBQUNGLEtBUEQ7O0FBU0E5SixTQUFLLENBQUM2SyxRQUFOLENBQWUrRSxXQUFmLENBQTJCZixJQUEzQixDQUFnQ3lOLFVBQWhDLENBQTJDMlQsUUFBM0MsR0FBc0QsVUFBVUMsR0FBVixFQUFlO0FBQ25FQSxTQUFHLENBQUNDLGNBQUo7QUFDQSxVQUFJbGlCLE1BQU0sR0FBR3pCLDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWUrRSxXQUFmLENBQTJCZixJQUE1QixFQUFrQyxtQkFBbEMsQ0FBbEI7O0FBRUEsVUFBSVosTUFBTSxLQUFLLElBQWYsRUFBcUI7QUFDbkJqTyxhQUFLLENBQUNndUIsYUFBTixDQUFvQmh1QixLQUFLLENBQUNpdUIsc0JBQU4sQ0FBNkJoZ0IsTUFBN0IsRUFBcUNpaUIsR0FBRyxDQUFDcG1CLE1BQXpDLENBQXBCO0FBQ0Q7QUFDRixLQVBEOztBQVNBckwsVUFBTSxDQUFDMnhCLFFBQVAsR0FBa0IsVUFBVUYsR0FBVixFQUFlO0FBQy9CLFVBQUlqaUIsTUFBTSxHQUFHekIsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZStFLFdBQWYsQ0FBMkJmLElBQTVCLEVBQWtDLG1CQUFsQyxDQUFsQjs7QUFFQSxVQUFJWixNQUFNLEtBQUssSUFBZixFQUFxQjtBQUNuQmpPLGFBQUssQ0FBQ2d1QixhQUFOLENBQW9CaHVCLEtBQUssQ0FBQ2l1QixzQkFBTixDQUE2QmhnQixNQUE3QixFQUFxQ2pPLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZStFLFdBQWYsQ0FBMkJmLElBQTNCLENBQWdDeU4sVUFBckUsQ0FBcEI7O0FBQ0F0YyxhQUFLLENBQUNndUIsYUFBTixDQUFvQmh1QixLQUFLLENBQUNpdUIsc0JBQU4sQ0FBNkJoZ0IsTUFBN0IsRUFBcUNqTyxLQUFLLENBQUM2SyxRQUFOLENBQWUrRSxXQUFmLENBQTJCbVEsZUFBaEUsQ0FBcEI7QUFDRDtBQUNGLEtBUEQ7QUFRRCxHQTlCRCxDQW4zQzJDLENBbTVDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBLE9BQUsxRCxrQ0FBTCxHQUEwQyxZQUFZO0FBQ3BELFFBQUlyYyxLQUFLLEdBQUcsSUFBWjs7QUFDQSxRQUFJc3ZCLEtBQUssR0FBRzlpQiw0REFBSyxDQUFDeE0sS0FBSyxDQUFDNkssUUFBTixDQUFleVUsZ0JBQWhCLEVBQWtDLHlDQUFsQyxDQUFqQjs7QUFFQSxRQUFJLE9BQU90ZixLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDcUQsV0FBakMsQ0FBNkNHLGlCQUE3QyxDQUErRG9MLGFBQXRFLEtBQXdGLFNBQXhGLElBQXFHelosS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3FELFdBQWpDLENBQTZDRyxpQkFBN0MsQ0FBK0RvTCxhQUF4SyxFQUF1TDtBQUNyTCxVQUFJLE9BQU96WixLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDcUQsV0FBakMsQ0FBNkNHLGlCQUE3QyxDQUErRGtMLEtBQXRFLEtBQWdGLFNBQWhGLElBQTZGLENBQUN2WixLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDcUQsV0FBakMsQ0FBNkNHLGlCQUE3QyxDQUErRGtMLEtBQWpLLEVBQXdLO0FBQ3RLK1YsYUFBSyxDQUFDdFosU0FBTixHQUFrQmhXLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNnQyxXQUFqQyxDQUE2QzJDLFdBQTdDLENBQXlEMFcsS0FBM0U7QUFDQTlKLDBFQUFXLENBQUNrVCxLQUFELEVBQVEsYUFBUixDQUFYO0FBQ0QsT0FIRCxNQUdPO0FBQ0xBLGFBQUssQ0FBQ3RaLFNBQU4sR0FBa0JoVyxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDZ0MsV0FBakMsQ0FBNkMyQyxXQUE3QyxDQUF5RDZnQixVQUEzRTtBQUNBblUsdUVBQVEsQ0FBQ29ULEtBQUQsRUFBUSxhQUFSLENBQVI7QUFDRDs7QUFDREEsV0FBSyxDQUFDaFQsVUFBTixDQUFpQjdQLEtBQWpCLENBQXVCQyxPQUF2QixHQUFpQyxPQUFqQztBQUNELEtBVEQsTUFTTztBQUNMNGlCLFdBQUssQ0FBQ2hULFVBQU4sQ0FBaUI3UCxLQUFqQixDQUF1QkMsT0FBdkIsR0FBaUMsTUFBakM7QUFDRDtBQUNGLEdBaEJEOztBQWtCQSxPQUFLeVAsc0JBQUwsR0FBOEIsVUFBVWhULFFBQVYsRUFBb0I7QUFDaEQsUUFBSW5KLEtBQUssR0FBRyxJQUFaOztBQUNBLFFBQUlvZ0IsS0FBSyxHQUFHNVQsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXlVLGdCQUFoQixFQUFrQyx5Q0FBbEMsQ0FBakIsQ0FGZ0QsQ0FHaEQ7O0FBQ0EsUUFBSXRTLElBQUksR0FBR1IsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXlVLGdCQUFoQixFQUFrQyxpQ0FBbEMsQ0FBaEI7QUFDQSxRQUFJclksS0FBSyxHQUFHdUYsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXlVLGdCQUFoQixFQUFrQyw0Q0FBbEMsQ0FBakI7QUFFQXJZLFNBQUssQ0FBQytPLFNBQU4sR0FBa0IsRUFBbEI7QUFDQW9LLFNBQUssQ0FBQ3BLLFNBQU4sR0FBbUJoVyxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDcUQsV0FBakMsQ0FBNkNJLGFBQTdDLENBQTJEOFIsS0FBM0QsQ0FBaUU5ZixNQUFqRSxHQUEwRSxDQUEzRSxHQUFnRk4sS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3FELFdBQWpDLENBQTZDSSxhQUE3QyxDQUEyRDhSLEtBQTNJLEdBQW1KcGdCLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNxRCxXQUFqQyxDQUE2Q0csaUJBQTdDLENBQStEK1IsS0FBcE87QUFDQXBULFFBQUksQ0FBQ2dKLFNBQUwsR0FBa0JoVyxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDcUQsV0FBakMsQ0FBNkNJLGFBQTdDLENBQTJEa2dCLFdBQTNELENBQXVFbHVCLE1BQXZFLEdBQWdGLENBQWpGLEdBQXNGTixLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDcUQsV0FBakMsQ0FBNkNJLGFBQTdDLENBQTJEa2dCLFdBQWpKLEdBQStKeHVCLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNxRCxXQUFqQyxDQUE2Q0csaUJBQTdDLENBQStEbWdCLFdBQS9POztBQUNBeHVCLFNBQUssQ0FBQ3FjLGtDQUFOOztBQUVBcmMsU0FBSyxDQUFDNkssUUFBTixDQUFleVUsZ0JBQWYsQ0FBZ0M3UyxLQUFoQyxDQUFzQ0MsT0FBdEMsR0FBZ0QsT0FBaEQ7QUFDQTFNLFNBQUssQ0FBQzZLLFFBQU4sQ0FBZTJVLFVBQWYsQ0FBMEIvUyxLQUExQixDQUFnQ0MsT0FBaEMsR0FBMEMsTUFBMUM7O0FBRUExTSxTQUFLLENBQUN5dUIsWUFBTixDQUFtQnpoQixJQUFuQixFQUF5Qi9GLEtBQXpCOztBQUVBckMsY0FBVSxDQUFDLFlBQVk7QUFDckJzWCxxRUFBUSxDQUFDbGMsS0FBSyxDQUFDNkssUUFBTixDQUFleVUsZ0JBQWhCLEVBQWtDLFNBQWxDLENBQVI7QUFFQSxVQUFJLE9BQU9uVyxRQUFQLEtBQW9CLFVBQXhCLEVBQW9DQSxRQUFRO0FBQzdDLEtBSlMsRUFJUCxFQUpPLENBQVY7QUFLRCxHQXRCRDs7QUF3QkEsT0FBS29VLG1CQUFMLEdBQTJCLFVBQVVwVSxRQUFWLEVBQW9CZ0wsWUFBcEIsRUFBa0M7QUFDM0QsUUFBTW5VLEtBQUssR0FBRyxJQUFkOztBQUNBLFFBQU1zd0IsZ0JBQWdCLEdBQUc5akIsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZTBVLHVCQUFoQixFQUF5QywyQ0FBekMsQ0FBOUI7QUFDQSxRQUFNZ1IsUUFBUSxHQUFHL2pCLDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWhCLEVBQTJCLHFDQUEzQixDQUF0Qjs7QUFDQSxRQUFNMlMsU0FBUyxHQUFHemQsS0FBSyxDQUFDMGQsU0FBTixFQUFsQjs7QUFFQUQsYUFBUyxDQUFDRSxJQUFWLENBQWUsWUFBWTtBQUN6QjRTLGNBQVEsQ0FBQzlqQixLQUFULENBQWVFLE9BQWYsR0FBeUIsR0FBekI7O0FBQ0EzTSxXQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JpSiw2QkFBeEIsQ0FBc0QsWUFBWTtBQUNoRSxZQUFJc2MsWUFBWSxHQUFHeHdCLEtBQUssQ0FBQzRnQixjQUFOLENBQXFCNWdCLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXFWLGtCQUFmLENBQWtDQyxlQUF2RCxFQUF3RSxVQUFVYSxnQkFBVixFQUE0QnlQLGFBQTVCLEVBQTJDQyxpQkFBM0MsRUFBOERyZSxNQUE5RCxFQUFzRTtBQUMvSixjQUFJc2UsY0FBYyxHQUFHM3dCLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUMyRSxXQUFqQyxDQUE2QzZDLE1BQU0sQ0FBQ2pTLElBQXBELENBQXJCOztBQUVBLGNBQUksT0FBT3V3QixjQUFQLEtBQTBCLFdBQTlCLEVBQTJDO0FBQ3pDLGdCQUFJQSxjQUFjLENBQUNyd0IsTUFBZixLQUEwQixDQUE5QixFQUFpQztBQUMvQjBnQiw4QkFBZ0IsQ0FBQ3ZVLEtBQWpCLENBQXVCQyxPQUF2QixHQUFpQyxNQUFqQztBQUNEOztBQUNEOEgsNEVBQVMsQ0FBQ21jLGNBQUQsRUFBaUIsVUFBVUMsVUFBVixFQUFzQnhWLEdBQXRCLEVBQTJCdlksS0FBM0IsRUFBa0M7QUFDMUQsa0JBQUtBLEtBQUssR0FBRyxDQUFULElBQWV3UCxNQUFNLENBQUNnTyxjQUF0QixJQUF3QzdULDREQUFLLENBQUNra0IsaUJBQUQsRUFBb0Isb0JBQW9CRSxVQUFVLENBQUM5YixFQUFuRCxDQUFMLEtBQWdFLElBQTVHLEVBQWtIO0FBQ2hILG9CQUFJK2IseUJBQXlCLEdBQUc3d0IsS0FBSyxDQUFDOHdCLGNBQU4sQ0FBcUJGLFVBQXJCLENBQWhDOztBQUNBRixpQ0FBaUIsQ0FBQ3JrQixXQUFsQixDQUE4QndrQix5QkFBOUI7QUFDRDs7QUFFRCxrQkFBSXJrQiw0REFBSyxDQUFDaWtCLGFBQUQsRUFBZ0Isb0JBQW9CRyxVQUFVLENBQUM5YixFQUEvQyxDQUFMLEtBQTRELElBQWhFLEVBQXNFO0FBQ3BFLG9CQUFJaWMsUUFBUSxHQUFHL3dCLEtBQUssQ0FBQzh3QixjQUFOLENBQXFCRixVQUFyQixDQUFmOztBQUNBSCw2QkFBYSxDQUFDcGtCLFdBQWQsQ0FBMEIwa0IsUUFBMUI7QUFDRDtBQUNGLGFBVlEsQ0FBVDtBQVdEO0FBQ0YsU0FuQmtCLENBQW5COztBQXFCQVQsd0JBQWdCLENBQUN0YSxTQUFqQixHQUE2QixFQUE3QjtBQUNBc2Esd0JBQWdCLENBQUNqa0IsV0FBakIsQ0FBNkJta0IsWUFBN0I7QUFFQXh3QixhQUFLLENBQUM2SyxRQUFOLENBQWUwVSx1QkFBZixDQUF1QzlTLEtBQXZDLENBQTZDQyxPQUE3QyxHQUF1RCxPQUF2RDtBQUNBOUgsa0JBQVUsQ0FBQyxZQUFZO0FBQ3JCc1gseUVBQVEsQ0FBQ2xjLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZTBVLHVCQUFoQixFQUF5QyxTQUF6QyxDQUFSO0FBRUEsY0FBSSxPQUFPcFcsUUFBUCxLQUFvQixVQUF4QixFQUFvQ0EsUUFBUTtBQUU1Q3NVLG1CQUFTLENBQUNqQixJQUFWO0FBQ0QsU0FOUyxFQU1QLEVBTk8sQ0FBVjtBQU9ELE9BakNELEVBaUNHckksWUFqQ0g7QUFrQ0QsS0FwQ0Q7QUFxQ0QsR0EzQ0Q7O0FBNkNBLE9BQUt5SixtQkFBTCxHQUEyQixVQUFVelUsUUFBVixFQUFvQjtBQUM3QyxRQUFJbkosS0FBSyxHQUFHLElBQVo7O0FBQ0EsUUFBTXV3QixRQUFRLEdBQUcvakIsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBaEIsRUFBMkIscUNBQTNCLENBQXRCO0FBRUF5bEIsWUFBUSxDQUFDOWpCLEtBQVQsQ0FBZUUsT0FBZixHQUF5QixHQUF6Qjs7QUFDQTNNLFNBQUssQ0FBQzJjLHFDQUFOOztBQUVBUCxzRUFBVyxDQUFDcGMsS0FBSyxDQUFDNkssUUFBTixDQUFlMFUsdUJBQWhCLEVBQXlDLFNBQXpDLENBQVg7QUFFQTNhLGNBQVUsQ0FBQyxZQUFZO0FBQ3JCNUUsV0FBSyxDQUFDNkssUUFBTixDQUFlMFUsdUJBQWYsQ0FBdUM5UyxLQUF2QyxDQUE2Q0MsT0FBN0MsR0FBdUQsTUFBdkQ7QUFFQSxVQUFJLE9BQU92RCxRQUFQLEtBQW9CLFVBQXhCLEVBQW9DQSxRQUFRO0FBQzdDLEtBSlMsRUFJUCxHQUpPLENBQVY7QUFLRCxHQWREOztBQWdCQSxPQUFLMlQsc0JBQUwsR0FBOEIsVUFBVTNULFFBQVYsRUFBb0I7QUFDaEQsUUFBSW5KLEtBQUssR0FBRyxJQUFaOztBQUVBb2Msc0VBQVcsQ0FBQ3BjLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXlVLGdCQUFoQixFQUFrQyxTQUFsQyxDQUFYO0FBQ0ExYSxjQUFVLENBQUMsWUFBWTtBQUNyQjVFLFdBQUssQ0FBQzZLLFFBQU4sQ0FBZXlVLGdCQUFmLENBQWdDN1MsS0FBaEMsQ0FBc0NDLE9BQXRDLEdBQWdELE1BQWhEO0FBQ0ExTSxXQUFLLENBQUM2SyxRQUFOLENBQWUyVSxVQUFmLENBQTBCL1MsS0FBMUIsQ0FBZ0NDLE9BQWhDLEdBQTBDLE9BQTFDO0FBRUEsVUFBSSxPQUFPdkQsUUFBUCxLQUFvQixVQUF4QixFQUFvQ0EsUUFBUTtBQUM3QyxLQUxTLEVBS1AsR0FMTyxDQUFWO0FBTUQsR0FWRDs7QUFZQSxPQUFLNm5CLGVBQUwsR0FBdUIsVUFBVW5hLEdBQVYsRUFBZW9hLFFBQWYsRUFBeUJDLElBQXpCLEVBQStCO0FBQ3BELFFBQUlseEIsS0FBSyxHQUFHLElBQVo7O0FBQ0EsUUFBSSt3QixRQUFRLEdBQUc3cEIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQWY7QUFDQSxRQUFJbVksZ0JBQWdCLEdBQUdwWSxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBdkI7QUFDQSxRQUFJZ3FCLGNBQWMsR0FBR2pxQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBckI7QUFDQSxRQUFJaVosS0FBSyxHQUFHbFosUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQVo7QUFDQSxRQUFJaXFCLFFBQVEsR0FBR2xxQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBZjtBQUNBLFFBQUlxbkIsV0FBVyxHQUFHdG5CLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUFsQjtBQUNBLFFBQUlrcUIsa0JBQWtCLEdBQUducUIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXpCO0FBQ0EsUUFBSW1xQixlQUFlLEdBQUdwcUIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXRCO0FBQ0EsUUFBSW9xQixjQUFjLEdBQUdycUIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXJCO0FBQ0EsUUFBSXFxQixVQUFVLEdBQUd0cUIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEdBQXZCLENBQWpCO0FBQ0EsUUFBSXNxQixlQUFlLEdBQUksT0FBTzVhLEdBQUcsQ0FBQzdDLElBQVgsS0FBb0IsV0FBcEIsSUFBbUM2QyxHQUFHLENBQUM3QyxJQUFKLENBQVMxVCxNQUFULEdBQWtCLENBQTVFO0FBRUF5d0IsWUFBUSxDQUFDM2tCLFlBQVQsQ0FBc0IsT0FBdEIsRUFBK0IsNkJBQTZCeUssR0FBRyxDQUFDL0IsRUFBakMsSUFBdUMyYyxlQUFlLEdBQUcsb0JBQUgsR0FBMEIsRUFBaEYsQ0FBL0I7QUFDQW5TLG9CQUFnQixDQUFDbFQsWUFBakIsQ0FBOEIsT0FBOUIsRUFBdUMsMEJBQXZDO0FBQ0Era0Isa0JBQWMsQ0FBQy9rQixZQUFmLENBQTRCLE9BQTVCLEVBQXFDLDBCQUFyQztBQUNBZ1UsU0FBSyxDQUFDaFUsWUFBTixDQUFtQixPQUFuQixFQUE0QiwyQkFBNUI7QUFDQWdsQixZQUFRLENBQUNobEIsWUFBVCxDQUFzQixPQUF0QixFQUErQiw4QkFBL0I7QUFDQW9pQixlQUFXLENBQUNwaUIsWUFBWixDQUF5QixPQUF6QixFQUFrQyxpQ0FBbEM7QUFDQWlsQixzQkFBa0IsQ0FBQ2psQixZQUFuQixDQUFnQyxPQUFoQyxFQUF5Qyx5QkFBekM7QUFDQWtsQixtQkFBZSxDQUFDbGxCLFlBQWhCLENBQTZCLE9BQTdCLEVBQXNDLDhCQUF0QztBQUNBbWxCLGtCQUFjLENBQUNubEIsWUFBZixDQUE0QixPQUE1QixFQUFxQyw2QkFBckM7QUFDQW9sQixjQUFVLENBQUNwbEIsWUFBWCxDQUF3QixPQUF4QixFQUFpQyxrQkFBakM7QUFFQW9sQixjQUFVLENBQUM1VSxPQUFYLENBQW1COUgsRUFBbkIsR0FBd0IrQixHQUFHLENBQUMvQixFQUE1QjtBQUNBMGMsY0FBVSxDQUFDeGIsU0FBWCxHQUF1QmhXLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNnQyxXQUFqQyxDQUE2QzZCLFlBQTdDLENBQTBEZ2pCLElBQWpGO0FBQ0FGLGNBQVUsQ0FBQ3ZXLElBQVgsR0FBa0IscUJBQWxCO0FBRUE4VixZQUFRLENBQUNuVSxPQUFULENBQWlCOUgsRUFBakIsR0FBc0IrQixHQUFHLENBQUMvQixFQUExQjtBQUVBc0wsU0FBSyxDQUFDcEssU0FBTixHQUFrQmEsR0FBRyxDQUFDc1UsSUFBdEI7QUFDQWlHLFlBQVEsQ0FBQ3BiLFNBQVQsR0FBcUJhLEdBQUcsQ0FBQ3VhLFFBQUosQ0FBYWhlLElBQWIsQ0FBa0IsSUFBbEIsQ0FBckI7QUFFQStkLGtCQUFjLENBQUM5a0IsV0FBZixDQUEyQitULEtBQTNCO0FBQ0ErUSxrQkFBYyxDQUFDOWtCLFdBQWYsQ0FBMkIra0IsUUFBM0I7QUFDQUQsa0JBQWMsQ0FBQzlrQixXQUFmLENBQTJCbWlCLFdBQTNCOztBQUVBLFFBQUlpRCxlQUFKLEVBQXFCO0FBQ25CLFVBQUl4cUIsS0FBSyxHQUFHLElBQUlnbEIsS0FBSixFQUFaO0FBQ0EsVUFBSTBGLGdCQUFnQixHQUFHenFCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUF2QjtBQUNBd3FCLHNCQUFnQixDQUFDdmxCLFlBQWpCLENBQThCLE9BQTlCLEVBQXVDLDhCQUF2QztBQUNBbkYsV0FBSyxDQUFDbUYsWUFBTixDQUFtQixPQUFuQixFQUE0QixzQkFBNUI7QUFFQW5GLFdBQUssQ0FBQytDLEdBQU4sR0FBWWhLLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUM4RixHQUFqQyxDQUFxQ0MsYUFBckMsR0FBcUQ1USxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDOEYsR0FBakMsQ0FBcUNJLE1BQXJDLENBQTRDalIsT0FBNUMsQ0FBb0QsZUFBcEQsRUFBcUUrVyxHQUFHLENBQUM3QyxJQUF6RSxDQUFqRTtBQUNBL00sV0FBSyxDQUFDcWxCLEdBQU4sR0FBWXpWLEdBQUcsQ0FBQ3NVLElBQWhCLENBUG1CLENBU25CO0FBQ0E7O0FBRUF3RyxzQkFBZ0IsQ0FBQ3RsQixXQUFqQixDQUE2QnBGLEtBQTdCO0FBQ0FxWSxzQkFBZ0IsQ0FBQ2pULFdBQWpCLENBQTZCc2xCLGdCQUE3QjtBQUNEOztBQUVEclMsb0JBQWdCLENBQUNqVCxXQUFqQixDQUE2QjhrQixjQUE3QjtBQUVBRyxtQkFBZSxDQUFDamxCLFdBQWhCLENBQTRCa2xCLGNBQTVCO0FBQ0FGLHNCQUFrQixDQUFDaGxCLFdBQW5CLENBQStCaWxCLGVBQS9CO0FBQ0FELHNCQUFrQixDQUFDaGxCLFdBQW5CLENBQStCbWxCLFVBQS9CO0FBRUFULFlBQVEsQ0FBQzFrQixXQUFULENBQXFCaVQsZ0JBQXJCO0FBQ0F5UixZQUFRLENBQUMxa0IsV0FBVCxDQUFxQmdsQixrQkFBckI7QUFFQSxXQUFPTixRQUFQO0FBQ0QsR0FoRUQ7O0FBa0VBLE9BQUthLHFCQUFMLEdBQTZCLFVBQVVwVyxlQUFWLEVBQTJCO0FBQ3RELFFBQUl4YixLQUFLLEdBQUcsSUFBWjs7QUFDQSxRQUFJNnhCLE9BQU8sR0FBR3JsQiw0REFBSyxDQUFDeE0sS0FBSyxDQUFDNkssUUFBTixDQUFld1UsT0FBaEIsRUFBeUIsTUFBTXJmLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUN1RixVQUFqQyxDQUE0QzFCLFlBQTVDLENBQXlEOEIsY0FBL0QsR0FBZ0Ysb0NBQXpHLENBQW5CO0FBRUFnRSxvRUFBUyxDQUFDZ0gsZUFBRCxFQUFrQixVQUFVM0UsR0FBVixFQUFlO0FBQ3hDLFVBQUlySyw0REFBSyxDQUFDcWxCLE9BQUQsRUFBVSxhQUFhaGIsR0FBRyxDQUFDL0IsRUFBM0IsQ0FBTCxLQUF3QyxJQUE1QyxFQUFrRDtBQUNoRCxZQUFJaWMsUUFBUSxHQUFHL3dCLEtBQUssQ0FBQ2d4QixlQUFOLENBQXNCbmEsR0FBdEIsQ0FBZjs7QUFFQWdiLGVBQU8sQ0FBQ3hsQixXQUFSLENBQW9CMGtCLFFBQXBCO0FBQ0Q7QUFDRixLQU5RLENBQVQ7QUFPRCxHQVhEOztBQWFBLE9BQUtsVSxzQkFBTCxHQUE4QixVQUFVMWMsSUFBVixFQUFnQmdKLFFBQWhCLEVBQTBCO0FBQ3RELFFBQUluSixLQUFLLEdBQUcsSUFBWjs7QUFDQSxRQUFJb2dCLEtBQUssR0FBRzVULDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWV3RyxXQUFmLENBQTJCaU8sZ0JBQTVCLEVBQThDLDBDQUE5QyxDQUFqQjtBQUNBLFFBQUl0UyxJQUFJLEdBQUdSLDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWV3RyxXQUFmLENBQTJCaU8sZ0JBQTVCLEVBQThDLGtDQUE5QyxDQUFoQjtBQUNBLFFBQUlyWSxLQUFLLEdBQUd1Riw0REFBSyxDQUFDeE0sS0FBSyxDQUFDNkssUUFBTixDQUFld0csV0FBZixDQUEyQmlPLGdCQUE1QixFQUE4Qyw2Q0FBOUMsQ0FBakI7QUFFQXJZLFNBQUssQ0FBQytPLFNBQU4sR0FBa0IsRUFBbEI7QUFFQW9LLFNBQUssQ0FBQ3BLLFNBQU4sR0FBa0I3VixJQUFJLENBQUNBLElBQUwsQ0FBVWdyQixJQUE1QjtBQUNBbmUsUUFBSSxDQUFDZ0osU0FBTCxHQUFpQjdWLElBQUksQ0FBQ0EsSUFBTCxDQUFVcXVCLFdBQTNCOztBQUVBLFFBQUl4dUIsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQzZELFlBQWpDLENBQThDRCxrQkFBbEQsRUFBc0U7QUFDcEUsVUFBSXFqQixXQUFXLEdBQUd0bEIsNERBQUssQ0FBQ1EsSUFBRCxFQUFPLEtBQVAsQ0FBdkI7QUFDQThOLDJFQUFjLENBQUNnWCxXQUFELEVBQWMsVUFBVS9DLEdBQVYsRUFBZTNULEdBQWYsRUFBb0J2WSxLQUFwQixFQUEyQjtBQUNyRCxZQUFJQSxLQUFLLEtBQUssQ0FBZCxFQUFpQjtBQUNmLGNBQUltc0IsTUFBTSxHQUFHRCxHQUFHLENBQUNFLFNBQUosQ0FBYyxJQUFkLENBQWI7QUFDQWhvQixlQUFLLENBQUNvRixXQUFOLENBQWtCMmlCLE1BQWxCO0FBRUE1Qix1RUFBTSxDQUFDMkIsR0FBRCxDQUFOO0FBQ0Q7QUFDRixPQVBhLENBQWQ7QUFRRDs7QUFFRC91QixTQUFLLENBQUM2SyxRQUFOLENBQWV3RyxXQUFmLENBQTJCaU8sZ0JBQTNCLENBQTRDN1MsS0FBNUMsQ0FBa0RDLE9BQWxELEdBQTRELE9BQTVEO0FBQ0E5SCxjQUFVLENBQUMsWUFBWTtBQUNyQnNYLHFFQUFRLENBQUNsYyxLQUFLLENBQUM2SyxRQUFOLENBQWV3RyxXQUFmLENBQTJCaU8sZ0JBQTVCLEVBQThDLFNBQTlDLENBQVI7QUFFQSxVQUFJLE9BQU9uVyxRQUFQLEtBQW9CLFVBQXhCLEVBQW9DQSxRQUFRO0FBQzdDLEtBSlMsRUFJUCxFQUpPLENBQVY7QUFLRCxHQTdCRDs7QUErQkEsT0FBSzRULHNCQUFMLEdBQThCLFVBQVU1VCxRQUFWLEVBQW9CO0FBQ2hELFFBQUluSixLQUFLLEdBQUcsSUFBWjs7QUFFQW9jLHNFQUFXLENBQUNwYyxLQUFLLENBQUM2SyxRQUFOLENBQWV3RyxXQUFmLENBQTJCaU8sZ0JBQTVCLEVBQThDLFNBQTlDLENBQVg7QUFDQTFhLGNBQVUsQ0FBQyxZQUFZO0FBQ3JCNUUsV0FBSyxDQUFDNkssUUFBTixDQUFld0csV0FBZixDQUEyQmlPLGdCQUEzQixDQUE0QzdTLEtBQTVDLENBQWtEQyxPQUFsRCxHQUE0RCxNQUE1RDtBQUVBLFVBQUksT0FBT3ZELFFBQVAsS0FBb0IsVUFBeEIsRUFBb0NBLFFBQVE7QUFDN0MsS0FKUyxFQUlQLEdBSk8sQ0FBVjtBQUtELEdBVEQ7O0FBV0EsT0FBSytULGlCQUFMLEdBQXlCLFVBQVUvYyxJQUFWLEVBQWdCZ0osUUFBaEIsRUFBMEI7QUFDakQsUUFBSW5KLEtBQUssR0FBRyxJQUFaOztBQUNBLFFBQUlvZ0IsS0FBSyxHQUFHNVQsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXFFLE1BQWYsQ0FBc0JvUSxnQkFBdkIsRUFBeUMsNkNBQXpDLENBQWpCO0FBQ0EsUUFBSXRTLElBQUksR0FBR1IsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXFFLE1BQWYsQ0FBc0JvUSxnQkFBdkIsRUFBeUMscUNBQXpDLENBQWhCO0FBQ0EsUUFBSXJZLEtBQUssR0FBR3VGLDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWVxRSxNQUFmLENBQXNCb1EsZ0JBQXZCLEVBQXlDLGdEQUF6QyxDQUFqQjtBQUNBLFFBQUl5UyxRQUFRLEdBQUd2bEIsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXFFLE1BQWYsQ0FBc0JvUSxnQkFBdkIsRUFBeUMsa0NBQXpDLENBQXBCO0FBQ0EsUUFBSXRMLElBQUksR0FBR3hILDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWVxRSxNQUFmLENBQXNCb1EsZ0JBQXZCLEVBQXlDLHNDQUF6QyxDQUFoQjtBQUNBLFFBQUlsUSxLQUFLLEdBQUc1Qyw0REFBSyxDQUFDeE0sS0FBSyxDQUFDNkssUUFBTixDQUFlcUUsTUFBZixDQUFzQm9RLGdCQUF2QixFQUF5Qyx1Q0FBekMsQ0FBakI7QUFFQWMsU0FBSyxDQUFDcEssU0FBTixHQUFrQjdWLElBQUksQ0FBQ0EsSUFBTCxDQUFVK08sTUFBVixDQUFpQjhpQixVQUFuQztBQUNBaGxCLFFBQUksQ0FBQ2dKLFNBQUwsR0FBaUI3VixJQUFJLENBQUNBLElBQUwsQ0FBVStPLE1BQVYsQ0FBaUJzZixXQUFsQztBQUNBcGYsU0FBSyxDQUFDNEcsU0FBTixHQUFrQmhXLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNrRSxPQUFqQyxDQUF5Q0UsZUFBekMsQ0FBeUQ5TyxJQUFJLENBQUNBLElBQUwsQ0FBVStPLE1BQW5FLENBQWxCO0FBQ0E2aUIsWUFBUSxDQUFDblYsT0FBVCxDQUFpQjlILEVBQWpCLEdBQXNCM1UsSUFBSSxDQUFDQSxJQUFMLENBQVUyVSxFQUFoQzs7QUFFQSxRQUFJM1UsSUFBSSxDQUFDQSxJQUFMLENBQVVpZCxPQUFkLEVBQXVCO0FBQ3JCbEIscUVBQVEsQ0FBQzZWLFFBQUQsRUFBVyxZQUFYLENBQVI7QUFDQUEsY0FBUSxDQUFDL2IsU0FBVCxHQUFxQmhXLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNnQyxXQUFqQyxDQUE2Q2tDLE9BQTdDLENBQXFEcU8sT0FBMUU7QUFDRCxLQUhELE1BR087QUFDTGhCLHdFQUFXLENBQUMyVixRQUFELEVBQVcsWUFBWCxDQUFYO0FBQ0FBLGNBQVEsQ0FBQy9iLFNBQVQsR0FBcUJoVyxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDZ0MsV0FBakMsQ0FBNkNrQyxPQUE3QyxDQUFxRHVPLEtBQTFFO0FBQ0Q7O0FBRUQsUUFBSSxPQUFPbmQsSUFBSSxDQUFDQSxJQUFMLENBQVUrTyxNQUFWLENBQWlCOEUsSUFBeEIsS0FBaUMsV0FBckMsRUFBa0Q7QUFDaERBLFVBQUksQ0FBQ2dDLFNBQUwsR0FBaUIsRUFBakI7O0FBRUEsVUFBSWljLE1BQU0sR0FBRyxJQUFJaEcsS0FBSixFQUFiOztBQUNBLFVBQUkwRixnQkFBZ0IsR0FBR3pxQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBdkI7QUFDQXdxQixzQkFBZ0IsQ0FBQ3ZsQixZQUFqQixDQUE4QixPQUE5QixFQUF1QyxpQ0FBdkM7O0FBQ0E2bEIsWUFBTSxDQUFDN2xCLFlBQVAsQ0FBb0IsT0FBcEIsRUFBNkIseUJBQTdCOztBQUVBNmxCLFlBQU0sQ0FBQ2pvQixHQUFQLEdBQWFoSyxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDOEYsR0FBakMsQ0FBcUNDLGFBQXJDLEdBQXFENVEsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQzhGLEdBQWpDLENBQXFDSSxNQUFyQyxDQUE0Q2pSLE9BQTVDLENBQW9ELGVBQXBELEVBQXFFSyxJQUFJLENBQUNBLElBQUwsQ0FBVStPLE1BQVYsQ0FBaUI4RSxJQUF0RixDQUFsRTtBQUNBaWUsWUFBTSxDQUFDM0YsR0FBUCxHQUFhdHNCLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNrRSxPQUFqQyxDQUF5Q0UsZUFBekMsQ0FBeUQ5TyxJQUFJLENBQUNBLElBQUwsQ0FBVStPLE1BQW5FLENBQWI7QUFFQThFLFVBQUksQ0FBQzNILFdBQUwsQ0FBaUI0bEIsTUFBakI7QUFDRCxLQVpELE1BWU87QUFDTGplLFVBQUksQ0FBQ2dDLFNBQUwsR0FBaUIsb0RBQWpCO0FBQ0Q7O0FBRUQ4RSx5RUFBYyxDQUFDdE8sNERBQUssQ0FBQ1EsSUFBRCxFQUFPLEtBQVAsQ0FBTixFQUFxQixVQUFVK2hCLEdBQVYsRUFBZTNULEdBQWYsRUFBb0J2WSxLQUFwQixFQUEyQjtBQUM1RCxVQUFJQSxLQUFLLEtBQUssQ0FBZCxFQUFpQjtBQUNmLFlBQUltc0IsTUFBTSxHQUFHRCxHQUFHLENBQUNFLFNBQUosQ0FBYyxJQUFkLENBQWI7QUFDQWhvQixhQUFLLENBQUMrTyxTQUFOLEdBQWtCLEVBQWxCO0FBQ0EvTyxhQUFLLENBQUNvRixXQUFOLENBQWtCMmlCLE1BQWxCO0FBRUE1QixxRUFBTSxDQUFDMkIsR0FBRCxDQUFOO0FBQ0Q7QUFDRixLQVJhLENBQWQ7QUFVQS91QixTQUFLLENBQUM2SyxRQUFOLENBQWVxRSxNQUFmLENBQXNCb1EsZ0JBQXRCLENBQXVDN1MsS0FBdkMsQ0FBNkNDLE9BQTdDLEdBQXVELE9BQXZEO0FBQ0E5SCxjQUFVLENBQUMsWUFBWTtBQUNyQnNYLHFFQUFRLENBQUNsYyxLQUFLLENBQUM2SyxRQUFOLENBQWVxRSxNQUFmLENBQXNCb1EsZ0JBQXZCLEVBQXlDLFNBQXpDLENBQVI7QUFFQSxVQUFJLE9BQU9uVyxRQUFQLEtBQW9CLFVBQXhCLEVBQW9DQSxRQUFRO0FBQzdDLEtBSlMsRUFJUCxFQUpPLENBQVY7QUFLRCxHQXRERDs7QUF3REEsT0FBS2dVLGtCQUFMLEdBQTBCLFVBQVVoZCxJQUFWLEVBQWdCZ0osUUFBaEIsRUFBMEI7QUFDbEQsUUFBSW5KLEtBQUssR0FBRyxJQUFaOztBQUNBLFFBQUlvZ0IsS0FBSyxHQUFHNVQsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZTBFLFFBQWYsQ0FBd0IrUCxnQkFBekIsRUFBMkMsNENBQTNDLENBQWpCO0FBQ0EsUUFBSXRTLElBQUksR0FBR1IsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZTBFLFFBQWYsQ0FBd0IrUCxnQkFBekIsRUFBMkMsb0NBQTNDLENBQWhCO0FBRUFjLFNBQUssQ0FBQ3BLLFNBQU4sR0FBa0I3VixJQUFJLENBQUNBLElBQUwsQ0FBVSt4QixPQUE1QjtBQUNBbGxCLFFBQUksQ0FBQ2dKLFNBQUwsR0FBaUI3VixJQUFJLENBQUNBLElBQUwsQ0FBVTZNLElBQTNCO0FBRUFoTixTQUFLLENBQUM2SyxRQUFOLENBQWUwRSxRQUFmLENBQXdCK1AsZ0JBQXhCLENBQXlDN1MsS0FBekMsQ0FBK0NDLE9BQS9DLEdBQXlELE9BQXpEO0FBQ0E5SCxjQUFVLENBQUMsWUFBWTtBQUNyQnNYLHFFQUFRLENBQUNsYyxLQUFLLENBQUM2SyxRQUFOLENBQWUwRSxRQUFmLENBQXdCK1AsZ0JBQXpCLEVBQTJDLFNBQTNDLENBQVI7QUFFQSxVQUFJLE9BQU9uVyxRQUFQLEtBQW9CLFVBQXhCLEVBQW9DQSxRQUFRO0FBQzdDLEtBSlMsRUFJUCxFQUpPLENBQVY7QUFLRCxHQWREOztBQWdCQSxPQUFLNlQsaUJBQUwsR0FBeUIsVUFBVTdULFFBQVYsRUFBb0I7QUFDM0MsUUFBSW5KLEtBQUssR0FBRyxJQUFaOztBQUVBb2Msc0VBQVcsQ0FBQ3BjLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXFFLE1BQWYsQ0FBc0JvUSxnQkFBdkIsRUFBeUMsU0FBekMsQ0FBWDtBQUNBMWEsY0FBVSxDQUFDLFlBQVk7QUFDckI1RSxXQUFLLENBQUM2SyxRQUFOLENBQWVxRSxNQUFmLENBQXNCb1EsZ0JBQXRCLENBQXVDN1MsS0FBdkMsQ0FBNkNDLE9BQTdDLEdBQXVELE1BQXZEO0FBRUEsVUFBSSxPQUFPdkQsUUFBUCxLQUFvQixVQUF4QixFQUFvQ0EsUUFBUTtBQUM3QyxLQUpTLEVBSVAsR0FKTyxDQUFWO0FBS0QsR0FURDs7QUFXQSxPQUFLOFQsa0JBQUwsR0FBMEIsVUFBVTlULFFBQVYsRUFBb0I7QUFDNUMsUUFBSW5KLEtBQUssR0FBRyxJQUFaOztBQUVBb2Msc0VBQVcsQ0FBQ3BjLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZTBFLFFBQWYsQ0FBd0IrUCxnQkFBekIsRUFBMkMsU0FBM0MsQ0FBWDtBQUNBMWEsY0FBVSxDQUFDLFlBQVk7QUFDckI1RSxXQUFLLENBQUM2SyxRQUFOLENBQWUwRSxRQUFmLENBQXdCK1AsZ0JBQXhCLENBQXlDN1MsS0FBekMsQ0FBK0NDLE9BQS9DLEdBQXlELE1BQXpEO0FBRUEsVUFBSSxPQUFPdkQsUUFBUCxLQUFvQixVQUF4QixFQUFvQ0EsUUFBUTtBQUM3QyxLQUpTLEVBSVAsR0FKTyxDQUFWO0FBS0QsR0FURDs7QUFXQSxPQUFLZ3BCLHFDQUFMLEdBQTZDLFVBQVVDLE1BQVYsRUFBa0JDLFdBQWxCLEVBQStCO0FBQzFFLFFBQUlyeUIsS0FBSyxHQUFHLElBQVo7O0FBQ0EsUUFBSTZ4QixPQUFPLEdBQUdybEIsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXdVLE9BQWhCLEVBQXlCLE1BQU1yZixLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDdUYsVUFBakMsQ0FBNEMxQixZQUE1QyxDQUF5RDhCLGNBQS9ELEdBQWdGLG9DQUF6RyxDQUFuQjtBQUVBc0sseUVBQWMsQ0FBQ3RPLDREQUFLLENBQUNxbEIsT0FBRCxFQUFVLG1CQUFWLENBQU4sRUFBc0MsVUFBVWhiLEdBQVYsRUFBZTtBQUNqRSxVQUFJL0IsRUFBRSxHQUFHK0IsR0FBRyxDQUFDK0YsT0FBSixDQUFZOUgsRUFBckI7QUFDQSxVQUFJd2QsWUFBWSxHQUFJRixNQUFNLENBQUN6eUIsT0FBUCxDQUFlbVYsRUFBZixNQUF1QixDQUFDLENBQTVDO0FBRUEsVUFBSW9jLElBQUksR0FBRyxDQUFYO0FBQ0ExYyxzRUFBUyxDQUFDNmQsV0FBRCxFQUFjLFVBQVVFLEVBQVYsRUFBYztBQUNuQyxZQUFJQSxFQUFFLENBQUN2YixhQUFILEtBQXFCbEMsRUFBekIsRUFBNkI7QUFDM0JvYyxjQUFJLEdBQUcsQ0FBQ3NCLFVBQVUsQ0FBQ0QsRUFBRSxDQUFDRSxzQkFBSixDQUFWLEdBQXdDLEdBQXpDLEVBQThDQyxPQUE5QyxDQUFzRCxDQUF0RCxDQUFQO0FBQ0Q7QUFDRixPQUpRLENBQVQ7O0FBTUEsVUFBSTdiLEdBQUcsS0FBSyxJQUFaLEVBQWtCO0FBQ2hCLFlBQUk4YixHQUFHLEdBQUdubUIsNERBQUssQ0FBQ3FLLEdBQUQsRUFBTSw4QkFBTixDQUFmOztBQUVBLFlBQUl5YixZQUFKLEVBQWtCO0FBQ2hCcFcseUVBQVEsQ0FBQ3lXLEdBQUQsRUFBTSxpQkFBTixDQUFSO0FBQ0FBLGFBQUcsQ0FBQzNjLFNBQUosR0FBZ0JoVyxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDZ0MsV0FBakMsQ0FBNkM2QixZQUE3QyxDQUEwRDNHLFFBQTFFO0FBQ0E0cUIsYUFBRyxDQUFDbG1CLEtBQUosQ0FBVW5JLEtBQVYsR0FBa0IsTUFBbEI7QUFDRCxTQUpELE1BSU87QUFDTHF1QixhQUFHLENBQUNsbUIsS0FBSixDQUFVbkksS0FBVixHQUFrQixDQUFFNHNCLElBQUksR0FBRyxDQUFQLElBQVlBLElBQUksS0FBSyxDQUF0QixHQUEyQkEsSUFBM0IsR0FBa0MsQ0FBbkMsSUFBd0MsR0FBMUQ7QUFDRDtBQUNGO0FBQ0YsS0F0QmEsQ0FBZDtBQXVCRCxHQTNCRDs7QUE2QkEsT0FBSzBCLGdCQUFMLEdBQXdCLFVBQVV6cEIsUUFBVixFQUFvQjtBQUMxQyxRQUFJbkosS0FBSyxHQUFHLElBQVo7O0FBRUFBLFNBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3Qm9MLDZCQUF4QixDQUFzRCxVQUFVbUYsZUFBVixFQUEyQjtBQUMvRXhiLFdBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QmdMLGlDQUF4Qjs7QUFDQWpXLFdBQUssQ0FBQzR4QixxQkFBTixDQUE0QnBXLGVBQTVCOztBQUVBLFVBQUk3RCxNQUFNLEdBQUcsRUFBYjtBQUNBbkQsc0VBQVMsQ0FBQ3hVLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUM2RCxZQUFqQyxDQUE4Q0csSUFBL0MsRUFBcUQsVUFBVWdJLEdBQVYsRUFBZTtBQUMzRWMsY0FBTSxDQUFDdlUsSUFBUCxDQUFZeVQsR0FBRyxDQUFDL0IsRUFBaEI7QUFDRCxPQUZRLENBQVQ7QUFJQWxRLGdCQUFVLENBQUMsWUFBWTtBQUNyQjVFLGFBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QnlNLGdDQUF4QixDQUF5RCxVQUFVMGEsTUFBVixFQUFrQjtBQUN6RXB5QixlQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0I4TSxxQ0FBeEIsQ0FBOERKLE1BQTlELEVBQXNFLFVBQVUwYSxXQUFWLEVBQXVCO0FBQzNGcnlCLGlCQUFLLENBQUNteUIscUNBQU4sQ0FBNENDLE1BQTVDLEVBQW9EQyxXQUFwRDtBQUNELFdBRkQ7QUFHRCxTQUpEO0FBS0QsT0FOUyxFQU1QLEdBTk8sQ0FBVjs7QUFRQSxVQUFJLE9BQU9scEIsUUFBUCxLQUFvQixVQUF4QixFQUFvQztBQUNsQ0EsZ0JBQVE7QUFDVDtBQUNGLEtBcEJEO0FBcUJELEdBeEJEOztBQTBCQSxPQUFLMHBCLFVBQUwsR0FBa0IsVUFBVUMsR0FBVixFQUFlO0FBQy9CLFFBQUk5eUIsS0FBSyxHQUFHLElBQVo7O0FBQ0EsUUFBSSt3QixRQUFRLEdBQUc3cEIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQWY7QUFDQSxRQUFJbVksZ0JBQWdCLEdBQUdwWSxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBdkI7QUFDQSxRQUFJZ3FCLGNBQWMsR0FBR2pxQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBckI7QUFDQSxRQUFJaVosS0FBSyxHQUFHbFosUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQVo7QUFDQSxRQUFJcW5CLFdBQVcsR0FBR3RuQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBbEI7QUFFQTRwQixZQUFRLENBQUMza0IsWUFBVCxDQUFzQixPQUF0QixFQUErQiw2QkFBNkIwbUIsR0FBRyxDQUFDaGUsRUFBaEU7QUFDQXdLLG9CQUFnQixDQUFDbFQsWUFBakIsQ0FBOEIsT0FBOUIsRUFBdUMsMEJBQXZDO0FBQ0Era0Isa0JBQWMsQ0FBQy9rQixZQUFmLENBQTRCLE9BQTVCLEVBQXFDLDBCQUFyQztBQUNBZ1UsU0FBSyxDQUFDaFUsWUFBTixDQUFtQixPQUFuQixFQUE0QiwyQkFBNUI7QUFDQW9pQixlQUFXLENBQUNwaUIsWUFBWixDQUF5QixPQUF6QixFQUFrQyxpQ0FBbEM7QUFFQTJrQixZQUFRLENBQUNuVSxPQUFULENBQWlCOUgsRUFBakIsR0FBc0JnZSxHQUFHLENBQUNoZSxFQUExQjtBQUNBLFFBQUlpZSxTQUFTLEdBQUdDLGlFQUFTLENBQUNGLEdBQUcsQ0FBQ1osT0FBTCxDQUF6QjtBQUNBLFFBQUllLGVBQWUsR0FBR0QsaUVBQVMsQ0FBQ0YsR0FBRyxDQUFDOWxCLElBQUwsQ0FBL0I7O0FBRUEsUUFBSSxPQUFPOGxCLEdBQUcsQ0FBQ3ZILEtBQVgsS0FBcUIsV0FBekIsRUFBc0M7QUFDcEN3RixjQUFRLENBQUNuVSxPQUFULENBQWlCekYsUUFBakIsR0FBNEIyYixHQUFHLENBQUN2SCxLQUFKLENBQVV6VyxFQUF0QztBQUNBaWUsZUFBUyxHQUFHQyxpRUFBUyxDQUFDRixHQUFHLENBQUNaLE9BQUosR0FBYyxLQUFkLEdBQXNCWSxHQUFHLENBQUN2SCxLQUFKLENBQVVyYyxNQUFWLENBQWlCOGlCLFVBQXZDLEdBQW9ELElBQXBELEdBQTJEaHlCLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNrRSxPQUFqQyxDQUF5Q0UsZUFBekMsQ0FBeUQ2akIsR0FBRyxDQUFDdkgsS0FBSixDQUFVcmMsTUFBbkUsQ0FBM0QsR0FBd0ksR0FBekksQ0FBckI7QUFDQStqQixxQkFBZSxHQUFHRCxpRUFBUyxDQUFFLE9BQU9GLEdBQUcsQ0FBQ3ZILEtBQUosQ0FBVXJjLE1BQVYsQ0FBaUJzZixXQUF4QixLQUF3QyxXQUF4QyxJQUF1RHNFLEdBQUcsQ0FBQ3ZILEtBQUosQ0FBVXJjLE1BQVYsQ0FBaUJzZixXQUFqQixDQUE2Qmx1QixNQUE3QixHQUFzQyxDQUE5RixHQUFtR3d5QixHQUFHLENBQUN2SCxLQUFKLENBQVVyYyxNQUFWLENBQWlCc2YsV0FBcEgsR0FBa0lzRSxHQUFHLENBQUM5bEIsSUFBdkksQ0FBM0I7QUFDRDs7QUFFRG9ULFNBQUssQ0FBQ3BLLFNBQU4sR0FBbUIrYyxTQUFTLENBQUN6eUIsTUFBVixHQUFtQixFQUFwQixHQUEyQnl5QixTQUFTLENBQUNHLE1BQVYsQ0FBaUIsQ0FBakIsRUFBb0IsRUFBcEIsSUFBMEIsS0FBckQsR0FBOERILFNBQWhGO0FBQ0F2RSxlQUFXLENBQUN4WSxTQUFaLEdBQXlCaWQsZUFBZSxDQUFDM3lCLE1BQWhCLEdBQXlCLEdBQTFCLEdBQWtDMnlCLGVBQWUsQ0FBQ0MsTUFBaEIsQ0FBdUIsQ0FBdkIsRUFBMEIsR0FBMUIsSUFBaUMsS0FBbkUsR0FBNEVELGVBQXBHO0FBRUE5QixrQkFBYyxDQUFDOWtCLFdBQWYsQ0FBMkIrVCxLQUEzQjtBQUNBK1Esa0JBQWMsQ0FBQzlrQixXQUFmLENBQTJCbWlCLFdBQTNCO0FBQ0FsUCxvQkFBZ0IsQ0FBQ2pULFdBQWpCLENBQTZCOGtCLGNBQTdCO0FBQ0FKLFlBQVEsQ0FBQzFrQixXQUFULENBQXFCaVQsZ0JBQXJCO0FBRUEsV0FBT3lSLFFBQVA7QUFDRCxHQWpDRDs7QUFtQ0EsT0FBS29DLFdBQUwsR0FBbUIsVUFBVXppQixLQUFWLEVBQWlCO0FBQ2xDO0FBQ0EsUUFBSXFnQixRQUFRLEdBQUc3cEIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQWY7QUFDQSxRQUFJbVksZ0JBQWdCLEdBQUdwWSxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBdkI7QUFDQSxRQUFJZ3FCLGNBQWMsR0FBR2pxQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBckI7QUFDQSxRQUFJaVosS0FBSyxHQUFHbFosUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQVo7QUFDQSxRQUFJcW5CLFdBQVcsR0FBR3RuQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBbEI7QUFDQSxRQUFJaXNCLE9BQU8sR0FBR0osaUVBQVMsQ0FBQ3RpQixLQUFLLENBQUMxRCxJQUFQLENBQXZCO0FBRUErakIsWUFBUSxDQUFDM2tCLFlBQVQsQ0FBc0IsT0FBdEIsRUFBK0IsaUNBQWlDc0UsS0FBSyxDQUFDb0UsRUFBdEU7QUFDQXdLLG9CQUFnQixDQUFDbFQsWUFBakIsQ0FBOEIsT0FBOUIsRUFBdUMsNEJBQXZDO0FBQ0Era0Isa0JBQWMsQ0FBQy9rQixZQUFmLENBQTRCLE9BQTVCLEVBQXFDLDRCQUFyQztBQUNBZ1UsU0FBSyxDQUFDaFUsWUFBTixDQUFtQixPQUFuQixFQUE0Qiw2QkFBNUI7QUFDQW9pQixlQUFXLENBQUNwaUIsWUFBWixDQUF5QixPQUF6QixFQUFrQyxtQ0FBbEM7QUFFQTJrQixZQUFRLENBQUNuVSxPQUFULENBQWlCOUgsRUFBakIsR0FBc0JwRSxLQUFLLENBQUNvRSxFQUE1QjtBQUNBc0wsU0FBSyxDQUFDcEssU0FBTixHQUFtQnRGLEtBQUssQ0FBQ3doQixPQUFOLENBQWM1eEIsTUFBZCxHQUF1QixFQUF4QixHQUE4Qm9RLEtBQUssQ0FBQ3doQixPQUFOLENBQWNnQixNQUFkLENBQXFCLENBQXJCLEVBQXdCLEVBQXhCLElBQThCLEtBQTVELEdBQW9FeGlCLEtBQUssQ0FBQ3doQixPQUE1RjtBQUNBMUQsZUFBVyxDQUFDeFksU0FBWixHQUF5Qm9kLE9BQU8sQ0FBQzl5QixNQUFSLEdBQWlCLEVBQWxCLEdBQXdCOHlCLE9BQU8sQ0FBQ0YsTUFBUixDQUFlLENBQWYsRUFBa0IsRUFBbEIsSUFBd0IsS0FBaEQsR0FBd0RFLE9BQWhGO0FBRUFqQyxrQkFBYyxDQUFDOWtCLFdBQWYsQ0FBMkIrVCxLQUEzQjtBQUNBK1Esa0JBQWMsQ0FBQzlrQixXQUFmLENBQTJCbWlCLFdBQTNCO0FBQ0FsUCxvQkFBZ0IsQ0FBQ2pULFdBQWpCLENBQTZCOGtCLGNBQTdCO0FBQ0FKLFlBQVEsQ0FBQzFrQixXQUFULENBQXFCaVQsZ0JBQXJCO0FBRUEsV0FBT3lSLFFBQVA7QUFDRCxHQXpCRDs7QUEyQkEsT0FBS0QsY0FBTCxHQUFzQixVQUFVRixVQUFWLEVBQXNCO0FBQzFDO0FBQ0EsUUFBSUcsUUFBUSxHQUFHN3BCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUFmO0FBQ0EsUUFBSW1ZLGdCQUFnQixHQUFHcFksUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXZCO0FBQ0EsUUFBSWdxQixjQUFjLEdBQUdqcUIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXJCO0FBQ0EsUUFBSWlaLEtBQUssR0FBR2xaLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUFaO0FBQ0EsUUFBSXFuQixXQUFXLEdBQUd0bkIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQWxCO0FBQ0EsUUFBSWtzQixrQkFBa0IsR0FBR0wsaUVBQVMsQ0FBQ3BDLFVBQVUsQ0FBQ3BDLFdBQVosQ0FBbEM7QUFFQXVDLFlBQVEsQ0FBQzNrQixZQUFULENBQXNCLE9BQXRCLEVBQStCLCtCQUErQndrQixVQUFVLENBQUM5YixFQUF6RTtBQUNBd0ssb0JBQWdCLENBQUNsVCxZQUFqQixDQUE4QixPQUE5QixFQUF1QywyQkFBdkM7QUFDQStrQixrQkFBYyxDQUFDL2tCLFlBQWYsQ0FBNEIsT0FBNUIsRUFBcUMsMkJBQXJDO0FBQ0FnVSxTQUFLLENBQUNoVSxZQUFOLENBQW1CLE9BQW5CLEVBQTRCLDRCQUE1QjtBQUNBb2lCLGVBQVcsQ0FBQ3BpQixZQUFaLENBQXlCLE9BQXpCLEVBQWtDLGtDQUFsQztBQUVBMmtCLFlBQVEsQ0FBQ25VLE9BQVQsQ0FBaUI5SCxFQUFqQixHQUFzQjhiLFVBQVUsQ0FBQzliLEVBQWpDO0FBQ0FzTCxTQUFLLENBQUNwSyxTQUFOLEdBQWtCNGEsVUFBVSxDQUFDeFEsS0FBN0I7QUFDQW9PLGVBQVcsQ0FBQ3hZLFNBQVosR0FBeUJxZCxrQkFBa0IsQ0FBQy95QixNQUFuQixHQUE0QixHQUE3QixHQUFvQyt5QixrQkFBa0IsQ0FBQ0gsTUFBbkIsQ0FBMEIsQ0FBMUIsRUFBNkIsR0FBN0IsSUFBb0MsS0FBeEUsR0FBZ0ZHLGtCQUF4RztBQUVBbEMsa0JBQWMsQ0FBQzlrQixXQUFmLENBQTJCK1QsS0FBM0I7QUFDQStRLGtCQUFjLENBQUM5a0IsV0FBZixDQUEyQm1pQixXQUEzQjtBQUNBbFAsb0JBQWdCLENBQUNqVCxXQUFqQixDQUE2QjhrQixjQUE3QjtBQUNBSixZQUFRLENBQUMxa0IsV0FBVCxDQUFxQmlULGdCQUFyQjtBQUVBLFdBQU95UixRQUFQO0FBQ0QsR0F6QkQ7O0FBMkJBLE9BQUt1QyxpQkFBTCxHQUF5QixVQUFVdmtCLE9BQVYsRUFBbUJELGdCQUFuQixFQUFxQ0UsY0FBckMsRUFBcUQ7QUFDNUUsUUFBSWhQLEtBQUssR0FBRyxJQUFaOztBQUNBLFFBQUl1ekIsVUFBVSxHQUFHL21CLDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWV3VSxPQUFoQixFQUF5QixNQUFNcmYsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3VGLFVBQWpDLENBQTRDckIsT0FBNUMsQ0FBb0R5QixjQUExRCxHQUEyRSx1Q0FBcEcsQ0FBdEI7O0FBRUEsUUFBSWdnQixZQUFZLEdBQUd4d0IsS0FBSyxDQUFDNGdCLGNBQU4sQ0FBcUI1Z0IsS0FBSyxDQUFDNkssUUFBTixDQUFleVYsY0FBZixDQUE4QkgsZUFBbkQsRUFBb0UsVUFBVWEsZ0JBQVYsRUFBNEJ5UCxhQUE1QixFQUEyQ0MsaUJBQTNDLEVBQThEcmUsTUFBOUQsRUFBc0U7QUFDM0osVUFBSW1oQixVQUFVLEdBQUd4ekIsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ2tFLE9BQWpDLENBQXlDc0QsTUFBTSxDQUFDalMsSUFBaEQsQ0FBakI7O0FBRUEsVUFBSSxPQUFPb3pCLFVBQVAsS0FBc0IsV0FBMUIsRUFBdUM7QUFDckMsWUFBSUEsVUFBVSxDQUFDbHpCLE1BQVgsS0FBc0IsQ0FBMUIsRUFBNkI7QUFDM0IwZ0IsMEJBQWdCLENBQUN2VSxLQUFqQixDQUF1QkMsT0FBdkIsR0FBaUMsTUFBakM7QUFDRDs7QUFDRDhILHdFQUFTLENBQUNnZixVQUFELEVBQWEsVUFBVVYsR0FBVixFQUFlMVgsR0FBZixFQUFvQnZZLEtBQXBCLEVBQTJCO0FBQy9DLGNBQUtBLEtBQUssR0FBRyxDQUFULElBQWV3UCxNQUFNLENBQUNnTyxjQUF0QixJQUF3QzdULDREQUFLLENBQUNra0IsaUJBQUQsRUFBb0IsZ0JBQWdCb0MsR0FBRyxDQUFDaGUsRUFBeEMsQ0FBTCxLQUFxRCxJQUFqRyxFQUF1RztBQUNyRyxnQkFBSStiLHlCQUF5QixHQUFHN3dCLEtBQUssQ0FBQzZ5QixVQUFOLENBQWlCQyxHQUFqQixDQUFoQzs7QUFDQXBDLDZCQUFpQixDQUFDcmtCLFdBQWxCLENBQThCd2tCLHlCQUE5QjtBQUNEOztBQUVELGNBQUlya0IsNERBQUssQ0FBQ2lrQixhQUFELEVBQWdCLGdCQUFnQnFDLEdBQUcsQ0FBQ2hlLEVBQXBDLENBQUwsS0FBaUQsSUFBckQsRUFBMkQ7QUFDekQsZ0JBQUlpYyxRQUFRLEdBQUcvd0IsS0FBSyxDQUFDNnlCLFVBQU4sQ0FBaUJDLEdBQWpCLENBQWY7O0FBQ0FyQyx5QkFBYSxDQUFDcGtCLFdBQWQsQ0FBMEIwa0IsUUFBMUI7QUFDRDtBQUNGLFNBVlEsQ0FBVDtBQVdEO0FBQ0YsS0FuQmtCLENBQW5COztBQXFCQXdDLGNBQVUsQ0FBQ3ZkLFNBQVgsR0FBdUIsRUFBdkI7QUFDQXVkLGNBQVUsQ0FBQ2xuQixXQUFYLENBQXVCbWtCLFlBQXZCLEVBMUI0RSxDQTRCNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDRCxHQW5DRDs7QUFxQ0EsT0FBS2lELGtCQUFMLEdBQTBCLFVBQVUxa0IsT0FBVixFQUFtQkQsZ0JBQW5CLEVBQXFDRSxjQUFyQyxFQUFxRDtBQUM3RSxRQUFJaFAsS0FBSyxHQUFHLElBQVo7O0FBQ0EsUUFBSTB6QixXQUFXLEdBQUdsbkIsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXdVLE9BQWhCLEVBQXlCLE1BQU1yZixLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDdUYsVUFBakMsQ0FBNENNLEtBQTVDLENBQWtERixjQUF4RCxHQUF5RSxzQ0FBbEcsQ0FBdkI7QUFFQWtqQixlQUFXLENBQUMxZCxTQUFaLEdBQXdCLEVBQXhCO0FBRUF4QixvRUFBUyxDQUFDeFUsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQzBFLFFBQWpDLENBQTBDQSxRQUEzQyxFQUFxRCxVQUFVb2tCLFNBQVYsRUFBcUJ2WSxHQUFyQixFQUEwQnZZLEtBQTFCLEVBQWlDO0FBQzdGLFVBQUlrdUIsUUFBUSxHQUFHL3dCLEtBQUssQ0FBQ216QixXQUFOLENBQWtCUSxTQUFsQixDQUFmOztBQUNBRCxpQkFBVyxDQUFDcm5CLFdBQVosQ0FBd0Iwa0IsUUFBeEI7QUFDRCxLQUhRLENBQVQ7QUFJRCxHQVZEOztBQVlBLE9BQUsxVCxXQUFMLEdBQW1CLFVBQVVsVSxRQUFWLEVBQW9CO0FBQ3JDLFFBQUluSixLQUFLLEdBQUcsSUFBWjs7QUFFQUEsU0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCZ04sd0JBQXhCLENBQWlELFVBQVVsSixPQUFWLEVBQW1CRCxnQkFBbkIsRUFBcUNFLGNBQXJDLEVBQXFEO0FBQ3BHaFAsV0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCaUwsNkJBQXhCOztBQUNBbFcsV0FBSyxDQUFDc3pCLGlCQUFOLENBQXdCdmtCLE9BQXhCLEVBQWlDRCxnQkFBakMsRUFBbURFLGNBQW5EOztBQUVBLFVBQUksT0FBTzdGLFFBQVAsS0FBb0IsVUFBeEIsRUFBb0M7QUFDbENBLGdCQUFRO0FBQ1Q7QUFDRixLQVBEO0FBUUQsR0FYRDs7QUFhQSxPQUFLeXFCLFlBQUwsR0FBb0IsVUFBVXpxQixRQUFWLEVBQW9CO0FBQ3RDLFFBQUluSixLQUFLLEdBQUcsSUFBWjs7QUFFQUEsU0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCNE4seUJBQXhCLENBQWtELFVBQVU5SixPQUFWLEVBQW1CRCxnQkFBbkIsRUFBcUNFLGNBQXJDLEVBQXFEO0FBQ3JHaFAsV0FBSyxDQUFDeXpCLGtCQUFOLENBQXlCMWtCLE9BQXpCLEVBQWtDRCxnQkFBbEMsRUFBb0RFLGNBQXBEOztBQUVBLFVBQUksT0FBTzdGLFFBQVAsS0FBb0IsVUFBeEIsRUFBb0M7QUFDbENBLGdCQUFRO0FBQ1Q7QUFDRixLQU5EO0FBT0QsR0FWRDs7QUFZQSxNQUFJMHFCLGNBQUo7QUFDQSxNQUFJQyx1QkFBSjs7QUFDQSxPQUFLalksZ0JBQUwsR0FBd0IsVUFBVS9SLE1BQVYsRUFBa0JYLFFBQWxCLEVBQTRCO0FBQ2xELFFBQUluSixLQUFLLEdBQUcsSUFBWjs7QUFDQSxRQUFJeWQsU0FBUyxHQUFHemQsS0FBSyxDQUFDMGQsU0FBTixFQUFoQjs7QUFFQSxRQUFJMWQsS0FBSyxDQUFDNkssUUFBTixDQUFlNFYsMEJBQWYsSUFBNkN6Z0IsS0FBSyxDQUFDNkssUUFBTixDQUFlMFYsMEJBQWYsR0FBNEMsSUFBNUMsR0FBbUQsSUFBSWpYLElBQUosR0FBV2tYLE9BQVgsRUFBcEcsRUFBMEg7QUFDeEh4Z0IsV0FBSyxDQUFDNkssUUFBTixDQUFlNFYsMEJBQWYsR0FBNEMsS0FBNUM7QUFDRDs7QUFFRCxRQUFJLENBQUN6Z0IsS0FBSyxDQUFDNkssUUFBTixDQUFlNFYsMEJBQXBCLEVBQWdEO0FBQzlDemdCLFdBQUssQ0FBQzZLLFFBQU4sQ0FBZTRWLDBCQUFmLEdBQTRDLElBQTVDO0FBQ0F6Z0IsV0FBSyxDQUFDNkssUUFBTixDQUFlMFYsMEJBQWYsR0FBNEMsSUFBSWpYLElBQUosR0FBV2tYLE9BQVgsRUFBNUM7O0FBRUEsVUFBSSxDQUFDdkUsK0RBQVEsQ0FBQ25TLE1BQU0sQ0FBQ3dTLFVBQVIsRUFBb0IsZUFBcEIsQ0FBYixFQUFtRDtBQUNqRG1CLGlCQUFTLENBQUNFLElBQVYsQ0FBZSxZQUFZO0FBQ3pCLGNBQUlrVyxjQUFKLEVBQW9CenBCLFlBQVksQ0FBQ3lwQixjQUFELENBQVo7QUFDcEIsY0FBSUMsdUJBQUosRUFBNkIxcEIsWUFBWSxDQUFDMHBCLHVCQUFELENBQVo7QUFFN0JoWiwrRUFBYyxDQUFDdE8sNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBaEIsRUFBMkIsaURBQTNCLENBQU4sRUFBcUYsVUFBVXRMLEdBQVYsRUFBZTtBQUNoSDRjLDhFQUFXLENBQUM1YyxHQUFELEVBQU0sZUFBTixDQUFYO0FBQ0QsV0FGYSxDQUFkO0FBSUFzYiwrRUFBYyxDQUFDdE8sNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBaEIsRUFBMkIsMkRBQTNCLENBQU4sRUFBK0YsVUFBVXRMLEdBQVYsRUFBZTtBQUMxSDRjLDhFQUFXLENBQUM1YyxHQUFELEVBQU0sd0JBQU4sQ0FBWDtBQUNBb0Ysc0JBQVUsQ0FBQyxZQUFZO0FBQ3JCcEYsaUJBQUcsQ0FBQ2lOLEtBQUosQ0FBVUMsT0FBVixHQUFvQixNQUFwQjtBQUNELGFBRlMsRUFFUCxHQUZPLENBQVY7QUFHRCxXQUxhLENBQWQ7QUFPQW9uQixpQ0FBdUIsR0FBR2x2QixVQUFVLENBQUMsWUFBWTtBQUMvQyxnQkFBSXFYLCtEQUFRLENBQUNuUyxNQUFELEVBQVMsbUNBQVQsQ0FBWixFQUEyRDtBQUN6RDlKLG1CQUFLLENBQUM0WixlQUFOLENBQXNCLFlBQVk7QUFDaEMsb0JBQUltYSxXQUFXLEdBQUd2bkIsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBaEIsRUFBMkIsd0NBQXdDOUssS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3VGLFVBQWpDLENBQTRDWixXQUE1QyxDQUF3RGdCLGNBQTNILENBQXZCO0FBRUF1akIsMkJBQVcsQ0FBQ3RuQixLQUFaLENBQWtCQyxPQUFsQixHQUE0QixPQUE1QjtBQUNBbW5CLDhCQUFjLEdBQUdqdkIsVUFBVSxDQUFDLFlBQVk7QUFDdENzWCxpRkFBUSxDQUFDNlgsV0FBRCxFQUFjLHdCQUFkLENBQVI7QUFDRCxpQkFGMEIsRUFFeEIsRUFGd0IsQ0FBM0I7O0FBSUEsb0JBQUksT0FBTzVxQixRQUFQLEtBQW9CLFVBQXhCLEVBQW9DO0FBQ2xDQSwwQkFBUTtBQUNUOztBQUVEc1UseUJBQVMsQ0FBQ2pCLElBQVY7QUFFQXhjLHFCQUFLLENBQUM2SyxRQUFOLENBQWU0ViwwQkFBZixHQUE0QyxLQUE1QztBQUNELGVBZkQ7QUFnQkQsYUFqQkQsTUFpQk8sSUFBSXhFLCtEQUFRLENBQUNuUyxNQUFELEVBQVMsb0NBQVQsQ0FBWixFQUE0RDtBQUNqRTlKLG1CQUFLLENBQUM0eUIsZ0JBQU4sQ0FBdUIsWUFBWTtBQUNqQyxvQkFBSW9CLFlBQVksR0FBR3huQiw0REFBSyxDQUFDeE0sS0FBSyxDQUFDNkssUUFBTixDQUFlQyxTQUFoQixFQUEyQix3Q0FBd0M5SyxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDdUYsVUFBakMsQ0FBNEMxQixZQUE1QyxDQUF5RDhCLGNBQTVILENBQXhCO0FBRUF4USxxQkFBSyxDQUFDNkssUUFBTixDQUFld0csV0FBZixDQUEyQmlPLGdCQUEzQixDQUE0QzdTLEtBQTVDLENBQWtEQyxPQUFsRCxHQUE0RCxNQUE1RDtBQUVBc25CLDRCQUFZLENBQUN2bkIsS0FBYixDQUFtQkMsT0FBbkIsR0FBNkIsT0FBN0I7QUFDQW1uQiw4QkFBYyxHQUFHanZCLFVBQVUsQ0FBQyxZQUFZO0FBQ3RDc1gsaUZBQVEsQ0FBQzhYLFlBQUQsRUFBZSx3QkFBZixDQUFSOztBQUVBLHNCQUFJLE9BQU83cUIsUUFBUCxLQUFvQixVQUF4QixFQUFvQztBQUNsQ0EsNEJBQVE7QUFDVDtBQUNGLGlCQU4wQixFQU14QixFQU53QixDQUEzQjtBQVFBc1UseUJBQVMsQ0FBQ2pCLElBQVY7QUFFQXhjLHFCQUFLLENBQUM2SyxRQUFOLENBQWU0ViwwQkFBZixHQUE0QyxLQUE1QztBQUNELGVBakJEO0FBa0JELGFBbkJNLE1BbUJBLElBQUl4RSwrREFBUSxDQUFDblMsTUFBRCxFQUFTLHdDQUFULENBQVosRUFBZ0U7QUFDckU5SixtQkFBSyxDQUFDcWQsV0FBTixDQUFrQixZQUFZO0FBQzVCLG9CQUFJNFcsZ0JBQWdCLEdBQUd6bkIsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBaEIsRUFBMkIsd0NBQXdDOUssS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3VGLFVBQWpDLENBQTRDckIsT0FBNUMsQ0FBb0R5QixjQUF2SCxDQUE1QjtBQUVBeWpCLGdDQUFnQixDQUFDeG5CLEtBQWpCLENBQXVCQyxPQUF2QixHQUFpQyxPQUFqQztBQUNBbW5CLDhCQUFjLEdBQUdqdkIsVUFBVSxDQUFDLFlBQVk7QUFDdENzWCxpRkFBUSxDQUFDK1gsZ0JBQUQsRUFBbUIsd0JBQW5CLENBQVI7QUFDRCxpQkFGMEIsRUFFeEIsRUFGd0IsQ0FBM0I7O0FBSUEsb0JBQUksT0FBTzlxQixRQUFQLEtBQW9CLFVBQXhCLEVBQW9DO0FBQ2xDQSwwQkFBUTtBQUNUOztBQUVEc1UseUJBQVMsQ0FBQ2pCLElBQVY7QUFFQXhjLHFCQUFLLENBQUM2SyxRQUFOLENBQWU0ViwwQkFBZixHQUE0QyxLQUE1QztBQUNELGVBZkQ7QUFnQkQsYUFqQk0sTUFpQkEsSUFBSXhFLCtEQUFRLENBQUNuUyxNQUFELEVBQVMsc0NBQVQsQ0FBWixFQUE4RDtBQUNuRTlKLG1CQUFLLENBQUM0ekIsWUFBTixDQUFtQixZQUFZO0FBQzdCLG9CQUFJTSxjQUFjLEdBQUcxbkIsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBaEIsRUFBMkIsd0NBQXdDOUssS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3VGLFVBQWpDLENBQTRDTSxLQUE1QyxDQUFrREYsY0FBckgsQ0FBMUI7QUFFQTBqQiw4QkFBYyxDQUFDem5CLEtBQWYsQ0FBcUJDLE9BQXJCLEdBQStCLE9BQS9CO0FBQ0FtbkIsOEJBQWMsR0FBR2p2QixVQUFVLENBQUMsWUFBWTtBQUN0Q3NYLGlGQUFRLENBQUNnWSxjQUFELEVBQWlCLHdCQUFqQixDQUFSO0FBQ0QsaUJBRjBCLEVBRXhCLEVBRndCLENBQTNCO0FBSUF6Vyx5QkFBUyxDQUFDakIsSUFBVjtBQUVBeGMscUJBQUssQ0FBQzZLLFFBQU4sQ0FBZTRWLDBCQUFmLEdBQTRDLEtBQTVDO0FBQ0QsZUFYRDtBQVlEO0FBQ0YsV0FwRW1DLEVBb0VqQyxHQXBFaUMsQ0FBcEM7QUFzRUF2RSx5RUFBUSxDQUFDcFMsTUFBTSxDQUFDd1MsVUFBUixFQUFvQixlQUFwQixDQUFSO0FBQ0QsU0F0RkQ7QUF1RkQsT0F4RkQsTUF3Rk8sSUFBSSxPQUFPblQsUUFBUCxLQUFvQixVQUF4QixFQUFvQztBQUN6Q25KLGFBQUssQ0FBQzZLLFFBQU4sQ0FBZTRWLDBCQUFmLEdBQTRDLEtBQTVDO0FBQ0F0WCxnQkFBUTtBQUNUO0FBQ0Y7QUFDRixHQXpHRDs7QUEyR0EsT0FBS2dyQixlQUFMLEdBQXVCLFVBQVVockIsUUFBVixFQUFvQjtBQUN6QyxRQUFJbkosS0FBSyxHQUFHLElBQVo7O0FBQ0EsUUFBTXV3QixRQUFRLEdBQUcvakIsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBaEIsRUFBMkIscUNBQTNCLENBQXRCO0FBRUFnUSx5RUFBYyxDQUFDdE8sNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBaEIsRUFBMkIsaURBQTNCLENBQU4sRUFBcUYsVUFBVXRMLEdBQVYsRUFBZTtBQUNoSDRjLHdFQUFXLENBQUM1YyxHQUFELEVBQU0sZUFBTixDQUFYO0FBQ0QsS0FGYSxDQUFkO0FBSUFzYix5RUFBYyxDQUFDdE8sNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBaEIsRUFBMkIsMkRBQTNCLENBQU4sRUFBK0YsVUFBVXRMLEdBQVYsRUFBZTtBQUMxSEEsU0FBRyxDQUFDaU4sS0FBSixDQUFVQyxPQUFWLEdBQW9CLE1BQXBCO0FBQ0EwUCx3RUFBVyxDQUFDNWMsR0FBRCxFQUFNLHdCQUFOLENBQVg7QUFDRCxLQUhhLENBQWQ7QUFLQSxRQUFJNDBCLFVBQVUsR0FBRyxLQUFqQjtBQUNBdFoseUVBQWMsQ0FBQ3RPLDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWhCLEVBQTJCLHNFQUEzQixDQUFOLEVBQTBHLFVBQVVzWSxPQUFWLEVBQW1CaEksR0FBbkIsRUFBd0J2WSxLQUF4QixFQUErQjtBQUNySixVQUFJLENBQUN1eEIsVUFBRCxJQUFlLENBQUNuWSwrREFBUSxDQUFDbUgsT0FBRCxFQUFVLDJCQUFWLENBQTVCLEVBQW9FO0FBQ2xFcGpCLGFBQUssQ0FBQzZiLGdCQUFOLENBQXVCclAsNERBQUssQ0FBQzRXLE9BQUQsRUFBVSwwQkFBVixDQUE1Qjs7QUFDQWdSLGtCQUFVLEdBQUcsSUFBYjtBQUNEO0FBQ0YsS0FMYSxDQUFkO0FBT0E3RCxZQUFRLENBQUM5akIsS0FBVCxDQUFlRSxPQUFmLEdBQXlCLEdBQXpCOztBQUNBM00sU0FBSyxDQUFDMmMscUNBQU47O0FBQ0EzYyxTQUFLLENBQUM0ZCxtQkFBTjs7QUFFQWhaLGNBQVUsQ0FBQyxZQUFZO0FBQ3JCLFVBQUksT0FBT3VFLFFBQVAsS0FBb0IsV0FBeEIsRUFBcUNBLFFBQVE7QUFDOUMsS0FGUyxFQUVQLEVBRk8sQ0FBVjtBQUdELEdBNUJEOztBQThCQSxPQUFLb1IsVUFBTCxHQUFrQixVQUFVcFIsUUFBVixFQUFvQjtBQUNwQyxRQUFJbkosS0FBSyxHQUFHLElBQVo7O0FBRUFBLFNBQUssQ0FBQzZLLFFBQU4sQ0FBZTZPLE1BQWYsR0FBd0IsSUFBeEI7O0FBRUExWixTQUFLLENBQUM0WixlQUFOOztBQUVBNVosU0FBSyxDQUFDNkssUUFBTixDQUFlQyxTQUFmLENBQXlCMkIsS0FBekIsQ0FBK0JDLE9BQS9CLEdBQXlDLE9BQXpDO0FBQ0ExTSxTQUFLLENBQUM2SyxRQUFOLENBQWV1VSxnQkFBZixDQUFnQzNTLEtBQWhDLENBQXNDQyxPQUF0QyxHQUFnRCxPQUFoRDtBQUNBOUgsY0FBVSxDQUFDLFlBQVk7QUFDckJzWCxxRUFBUSxDQUFDbGMsS0FBSyxDQUFDNkssUUFBTixDQUFlQyxTQUFoQixFQUEyQixTQUEzQixDQUFSO0FBRUEsVUFBSW1ELE1BQU0sR0FBR3pCLDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWUrRSxXQUFmLENBQTJCZixJQUE1QixFQUFrQyxtQkFBbEMsQ0FBbEI7O0FBQ0EsVUFBSVosTUFBTSxLQUFLLElBQWYsRUFBcUI7QUFDbkJqTyxhQUFLLENBQUNndUIsYUFBTixDQUFvQmh1QixLQUFLLENBQUNpdUIsc0JBQU4sQ0FBNkJoZ0IsTUFBN0IsRUFBcUNqTyxLQUFLLENBQUM2SyxRQUFOLENBQWUrRSxXQUFmLENBQTJCZixJQUEzQixDQUFnQ3lOLFVBQXJFLENBQXBCOztBQUNBdGMsYUFBSyxDQUFDZ3VCLGFBQU4sQ0FBb0JodUIsS0FBSyxDQUFDaXVCLHNCQUFOLENBQTZCaGdCLE1BQTdCLEVBQXFDak8sS0FBSyxDQUFDNkssUUFBTixDQUFlK0UsV0FBZixDQUEyQm1RLGVBQWhFLENBQXBCO0FBQ0Q7O0FBRUQvZixXQUFLLENBQUNtMEIsZUFBTixDQUFzQmhyQixRQUF0QjtBQUNELEtBVlMsRUFVUCxFQVZPLENBQVY7QUFXRCxHQXBCRDtBQXFCRCxDQWxtRU0sQzs7Ozs7Ozs7Ozs7O0FDakJQO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDTyxJQUFNa3JCLFNBQVMsR0FBRyxTQUFaQSxTQUFZLENBQVV6cEIsT0FBVixFQUFtQjtBQUMxQztBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDRSxPQUFLQyxRQUFMLEdBQWdCO0FBQ2R5cEIsVUFBTSxFQUFFLElBRE07QUFFZDNxQixRQUFJLEVBQUU7QUFDSnBLLFNBQUcsRUFBRSxJQUREO0FBRUp5TyxZQUFNLEVBQUUzTixTQUZKO0FBR0prMEIsbUJBQWEsRUFBRSx5QkFBWSxDQUMxQjtBQUpHLEtBRlE7QUFRZEMsVUFBTSxFQUFFLElBUk07QUFTZEMsYUFBUyxFQUFFLElBVEc7QUFVZEMsaUJBQWEsRUFBRSxJQVZEO0FBV2RDLFlBQVEsRUFBRSxJQUFJMzFCLDhDQUFLLENBQUNDLElBQVYsRUFYSTtBQVlkMjFCLGlCQUFhLEVBQUUsSUFBSTUxQiw4Q0FBSyxDQUFDQyxJQUFWLEVBWkQ7QUFhZDQxQixpQkFBYSxFQUFFLEtBYkQ7QUFjZEMsZ0JBQVksRUFBRSxFQWRBO0FBZWRDLG1CQUFlLEVBQUUsSUFmSDtBQWdCZEMsZ0JBQVksRUFBRSxJQWhCQTtBQWlCZHRiLFVBQU0sRUFBRSxLQWpCTTtBQWtCZDNNLFNBQUssRUFBRSxLQWxCTztBQW1CZDVELFlBQVEsRUFBRSxrQkFBVWhKLElBQVYsRUFBZ0IsQ0FDekIsQ0FwQmE7QUFxQmQ4MEIsa0JBQWMsRUFBRSwwQkFBWSxDQUMzQjtBQXRCYSxHQUFoQjs7QUF5QkEsTUFBSSxPQUFPcnFCLE9BQVAsS0FBbUIsV0FBdkIsRUFBb0M7QUFDbEMsU0FBSyxJQUFJOFYsR0FBVCxJQUFnQjlWLE9BQWhCLEVBQXlCO0FBQ3ZCLFVBQUlBLE9BQU8sQ0FBQytWLGNBQVIsQ0FBdUJELEdBQXZCLENBQUosRUFBaUM7QUFDL0IsYUFBSzdWLFFBQUwsQ0FBYzZWLEdBQWQsSUFBcUI5VixPQUFPLENBQUM4VixHQUFELENBQTVCO0FBQ0Q7QUFDRjtBQUNGOztBQUVELE9BQUt3VSxnQkFBTCxHQUF3QixJQUF4QjtBQUNBLE9BQUtDLHlCQUFMLEdBQWlDLElBQWpDOztBQUVBLE9BQUtDLFVBQUwsR0FBa0IsWUFBWTtBQUM1QixRQUFJcDFCLEtBQUssR0FBRyxJQUFaOztBQUVBLFFBQUlBLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZWlxQixZQUFmLENBQTRCeDBCLE1BQTVCLEdBQXFDLENBQXpDLEVBQTRDO0FBQzFDLFVBQUlILElBQUksR0FBR0gsS0FBSyxDQUFDNkssUUFBTixDQUFlaXFCLFlBQWYsQ0FBNEIsQ0FBNUIsQ0FBWDs7QUFFQSxVQUFJTyxLQUFLLEdBQUdyMUIsS0FBSyxDQUFDNkssUUFBTixDQUFlaXFCLFlBQWYsQ0FBNEJuMUIsT0FBNUIsQ0FBb0NRLElBQXBDLENBQVo7O0FBQ0EsVUFBSWsxQixLQUFLLEdBQUcsQ0FBQyxDQUFiLEVBQWdCO0FBQ2RyMUIsYUFBSyxDQUFDNkssUUFBTixDQUFlaXFCLFlBQWYsQ0FBNEJRLE1BQTVCLENBQW1DRCxLQUFuQyxFQUEwQyxDQUExQztBQUNEOztBQUVELFVBQUksT0FBT3IxQixLQUFLLENBQUM2SyxRQUFOLENBQWVsQixJQUFmLENBQW9CcEssR0FBM0IsS0FBbUMsUUFBbkMsSUFBK0NTLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZWxCLElBQWYsQ0FBb0JwSyxHQUFwQixDQUF3QmUsTUFBeEIsR0FBaUMsQ0FBcEYsRUFBdUY7QUFDckZOLGFBQUssQ0FBQ0UsT0FBTixDQUFjQyxJQUFkO0FBQ0QsT0FGRCxNQUVPO0FBQ0xILGFBQUssQ0FBQzZLLFFBQU4sQ0FBZTFCLFFBQWYsQ0FBd0JoSixJQUF4QjtBQUNEO0FBQ0Y7QUFDRixHQWpCRDs7QUFtQkEsT0FBS28xQixXQUFMLEdBQW1CLFlBQVk7QUFDN0IsUUFBSXYxQixLQUFLLEdBQUcsSUFBWjs7QUFFQUEsU0FBSyxDQUFDazFCLGdCQUFOLEdBQXlCSyxXQUFXLENBQUMsWUFBWTtBQUMvQ3YxQixXQUFLLENBQUNvMUIsVUFBTjtBQUNELEtBRm1DLEVBRWpDcDFCLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZWtxQixlQUZrQixDQUFwQzs7QUFJQSxRQUFJLzBCLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZTRwQixTQUFmLEtBQTZCLElBQWpDLEVBQXVDO0FBQ3JDejBCLFdBQUssQ0FBQzZLLFFBQU4sQ0FBZTZwQixhQUFmLEdBQStCLElBQUlwckIsSUFBSixFQUEvQjtBQUNBdEosV0FBSyxDQUFDbTFCLHlCQUFOLEdBQWtDSSxXQUFXLENBQUMsWUFBWTtBQUN4RCxZQUFJQyxXQUFXLEdBQUcsSUFBSWxzQixJQUFKLEVBQWxCO0FBQ0EsWUFBSStPLElBQUksR0FBR3JZLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZTZwQixhQUFmLENBQTZCbFUsT0FBN0IsS0FBeUNnVixXQUFXLENBQUNoVixPQUFaLEVBQXBEOztBQUVBLFlBQUl4Z0IsS0FBSyxDQUFDNkssUUFBTixDQUFleXBCLE1BQWYsQ0FBc0JyMEIsVUFBdEIsS0FBcUMsQ0FBckMsSUFBMENvWSxJQUFJLEdBQUdyWSxLQUFLLENBQUM2SyxRQUFOLENBQWVncUIsYUFBcEUsRUFBbUY7QUFDakY3MEIsZUFBSyxDQUFDeTFCLFdBQU47QUFDRDs7QUFFRHoxQixhQUFLLENBQUMwMUIsYUFBTjtBQUNELE9BVDRDLEVBUzFDMTFCLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZWdxQixhQVQyQixDQUE3QztBQVVEO0FBQ0YsR0FwQkQ7QUFzQkE7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0UsT0FBS2EsYUFBTCxHQUFxQixZQUFZO0FBQy9CLFFBQUkxMUIsS0FBSyxHQUFHLElBQVo7O0FBRUEsUUFBSXNVLE9BQU8sR0FBRztBQUNaL1UsU0FBRyxFQUFFUyxLQUFLLENBQUM2SyxRQUFOLENBQWU0cEIsU0FEUjtBQUVaaDBCLGFBQU8sRUFBRVQsS0FBSyxDQUFDNkssUUFBTixDQUFlbEIsSUFBZixDQUFvQnFFLE1BRmpCO0FBR1o1TixVQUFJLEVBQUUsS0FITTtBQUlaRyxhQUFPLEVBQUUsaUJBQVV3SixRQUFWLEVBQW9CNHJCLFVBQXBCLEVBQWdDejJCLEdBQWhDLEVBQXFDO0FBQzVDLFlBQUlBLEdBQUcsQ0FBQzRCLE1BQUosS0FBZSxHQUFmLElBQXNCZCxLQUFLLENBQUM2SyxRQUFOLENBQWV5cEIsTUFBZixDQUFzQnIwQixVQUF0QixLQUFxQyxDQUEvRCxFQUFrRTtBQUNoRSxjQUFJRCxLQUFLLENBQUM2SyxRQUFOLENBQWVrQyxLQUFuQixFQUEwQmpPLE9BQU8sQ0FBQ3dDLEdBQVIsQ0FBWSw4QkFBWjs7QUFDMUJ0QixlQUFLLENBQUN5MUIsV0FBTjtBQUNELFNBSEQsTUFHTyxJQUFJdjJCLEdBQUcsQ0FBQzRCLE1BQUosS0FBZSxHQUFmLElBQXNCZCxLQUFLLENBQUM2SyxRQUFOLENBQWV5cEIsTUFBZixDQUFzQnIwQixVQUF0QixLQUFxQyxDQUEvRCxFQUFrRTtBQUN2RSxjQUFJRCxLQUFLLENBQUM2SyxRQUFOLENBQWVrQyxLQUFuQixFQUEwQmpPLE9BQU8sQ0FBQ3dDLEdBQVIsQ0FBWSw0Q0FBWjs7QUFDMUJ0QixlQUFLLENBQUM0MUIsVUFBTjs7QUFFQWh4QixvQkFBVSxDQUFDLFlBQVk7QUFDckI1RSxpQkFBSyxDQUFDMDFCLGFBQU47QUFDRCxXQUZTLEVBRVAsR0FGTyxDQUFWO0FBR0Q7QUFDRjtBQWhCVyxLQUFkOztBQW1CQSxRQUFJLE9BQU8xMUIsS0FBSyxDQUFDNkssUUFBTixDQUFlbEIsSUFBZixDQUFvQnFFLE1BQTNCLEtBQXNDLFdBQTFDLEVBQXVEO0FBQ3JEc0csYUFBTyxDQUFDN1QsT0FBUixHQUFrQlQsS0FBSyxDQUFDNkssUUFBTixDQUFlbEIsSUFBZixDQUFvQnFFLE1BQXRDO0FBQ0Q7O0FBRURoTyxTQUFLLENBQUM2SyxRQUFOLENBQWUrcEIsYUFBZixDQUE2QjcwQixLQUE3QixHQUFxQ0csT0FBckMsQ0FBNkNvVSxPQUE3QztBQUNELEdBM0JEOztBQTZCQSxPQUFLcFUsT0FBTCxHQUFlLFlBQVk7QUFDekIsUUFBSUYsS0FBSyxHQUFHLElBQVo7O0FBRUEsUUFBSXNVLE9BQU8sR0FBRztBQUNaL1UsU0FBRyxFQUFFUyxLQUFLLENBQUM2SyxRQUFOLENBQWVsQixJQUFmLENBQW9CcEssR0FEYjtBQUVaYSxVQUFJLEVBQUUsS0FGTTtBQUdaRyxhQUFPLEVBQUUsaUJBQVV3SixRQUFWLEVBQW9CNHJCLFVBQXBCLEVBQWdDejJCLEdBQWhDLEVBQXFDO0FBQzVDLFlBQUlxVixJQUFJLEdBQUcsRUFBWDs7QUFDQSxZQUFJO0FBQ0ZBLGNBQUksR0FBR3BULElBQUksQ0FBQ2dELEtBQUwsQ0FBVzRGLFFBQVgsQ0FBUDtBQUNELFNBRkQsQ0FFRSxPQUFPRixDQUFQLEVBQVU7QUFDVixjQUFJN0osS0FBSyxDQUFDNkssUUFBTixDQUFla0MsS0FBbkIsRUFBMEJqTyxPQUFPLENBQUN3QyxHQUFSLENBQVl1SSxDQUFaLEVBQWU3SixLQUFLLENBQUM2SyxRQUFyQjtBQUMzQjs7QUFDRCxZQUFJM0wsR0FBRyxDQUFDNEIsTUFBSixLQUFlLEdBQW5CLEVBQXdCO0FBQ3RCZCxlQUFLLENBQUM2SyxRQUFOLENBQWUxQixRQUFmLENBQXdCb0wsSUFBeEI7QUFDRCxTQUZELE1BRU87QUFDTHZVLGVBQUssQ0FBQzZLLFFBQU4sQ0FBZWxCLElBQWYsQ0FBb0I0cUIsYUFBcEIsQ0FBa0NoZ0IsSUFBbEM7QUFDRDtBQUNGO0FBZlcsS0FBZDs7QUFrQkEsUUFBSSxPQUFPdlUsS0FBSyxDQUFDNkssUUFBTixDQUFlbEIsSUFBZixDQUFvQnFFLE1BQTNCLEtBQXNDLFdBQTFDLEVBQXVEO0FBQ3JEc0csYUFBTyxDQUFDN1QsT0FBUixHQUFrQlQsS0FBSyxDQUFDNkssUUFBTixDQUFlbEIsSUFBZixDQUFvQnFFLE1BQXRDO0FBQ0Q7O0FBRURoTyxTQUFLLENBQUM2SyxRQUFOLENBQWU4cEIsUUFBZixDQUF3QjUwQixLQUF4QixHQUFnQ0csT0FBaEMsQ0FBd0NvVSxPQUF4QztBQUNELEdBMUJEOztBQTRCQSxPQUFLc2hCLFVBQUwsR0FBa0IsWUFBWTtBQUM1QixRQUFJNTFCLEtBQUssR0FBRyxJQUFaOztBQUVBQSxTQUFLLENBQUM2SyxRQUFOLENBQWV5cEIsTUFBZixHQUF3QixJQUFJdUIsV0FBSixDQUFnQjcxQixLQUFLLENBQUM2SyxRQUFOLENBQWUycEIsTUFBL0IsRUFBdUM7QUFBRXNCLHFCQUFlLEVBQUU7QUFBbkIsS0FBdkMsQ0FBeEI7O0FBRUE5MUIsU0FBSyxDQUFDKzFCLHdCQUFOLENBQStCLzFCLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXlwQixNQUE5QztBQUNELEdBTkQ7O0FBUUEsT0FBS3lCLHdCQUFMLEdBQWdDLFVBQVV6QixNQUFWLEVBQWtCO0FBQ2hELFFBQUl0MEIsS0FBSyxHQUFHLElBQVo7O0FBRUFzMEIsVUFBTSxDQUFDdlcsZ0JBQVAsQ0FBd0IsTUFBeEIsRUFBZ0MsVUFBVWxVLENBQVYsRUFBYTtBQUMzQzdKLFdBQUssQ0FBQzZLLFFBQU4sQ0FBZTZPLE1BQWYsR0FBd0IsSUFBeEI7QUFDQSxVQUFJMVosS0FBSyxDQUFDNkssUUFBTixDQUFla0MsS0FBbkIsRUFBMEJqTyxPQUFPLENBQUN3QyxHQUFSLENBQVkseUJBQVosRUFBdUN1SSxDQUF2QztBQUMzQixLQUhELEVBR0csS0FISDtBQUtBeXFCLFVBQU0sQ0FBQ3ZXLGdCQUFQLENBQXdCLFNBQXhCLEVBQW1DLFVBQVVsVSxDQUFWLEVBQWE7QUFDOUMsVUFBSTdKLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZWtDLEtBQW5CLEVBQTBCO0FBQ3hCak8sZUFBTyxDQUFDd0MsR0FBUixDQUFZLHFCQUFaLEVBQW1DdEIsS0FBSyxDQUFDNkssUUFBTixDQUFlMnBCLE1BQWxEO0FBQ0ExMUIsZUFBTyxDQUFDd0MsR0FBUixDQUFZdUksQ0FBQyxDQUFDMUosSUFBZDtBQUNEOztBQUNELFVBQUlBLElBQUksR0FBRzBKLENBQUMsQ0FBQzFKLElBQWI7QUFDQSxVQUFJb1UsSUFBSSxHQUFHLElBQVg7O0FBRUEsVUFBSTtBQUNGQSxZQUFJLEdBQUdwVCxJQUFJLENBQUNnRCxLQUFMLENBQVdoRSxJQUFYLENBQVA7QUFDRCxPQUZELENBRUUsT0FBTzBKLENBQVAsRUFBVSxDQUNYOztBQUVELFVBQUk3SixLQUFLLENBQUM2SyxRQUFOLENBQWU0cEIsU0FBZixLQUE2QixJQUFqQyxFQUF1QztBQUNyQ3owQixhQUFLLENBQUM2SyxRQUFOLENBQWU2cEIsYUFBZixHQUErQixJQUFJcHJCLElBQUosRUFBL0I7QUFDRDs7QUFFRCxVQUFJaUwsSUFBSSxLQUFLLElBQVQsSUFBaUIsT0FBT0EsSUFBSSxDQUFDa2dCLFNBQVosS0FBMEIsV0FBL0MsRUFBNEQ7QUFDMUR6MEIsYUFBSyxDQUFDNkssUUFBTixDQUFlaXFCLFlBQWYsQ0FBNEIxeEIsSUFBNUIsQ0FBaUNtUixJQUFqQztBQUNEO0FBQ0YsS0FwQkQsRUFvQkcsS0FwQkg7QUFzQkErZixVQUFNLENBQUN2VyxnQkFBUCxDQUF3QixPQUF4QixFQUFpQyxVQUFVbFUsQ0FBVixFQUFhO0FBQzVDLFVBQUk3SixLQUFLLENBQUM2SyxRQUFOLENBQWVrQyxLQUFuQixFQUEwQjtBQUN4QmpPLGVBQU8sQ0FBQ3dDLEdBQVIsQ0FBWSxtQkFBWixFQUFpQ3RCLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZTJwQixNQUFoRDtBQUNEO0FBRUQ7OztBQUNBLFVBQUkzcUIsQ0FBQyxDQUFDNUosVUFBRixJQUFnQjQxQixXQUFXLENBQUNHLE1BQWhDLEVBQXdDO0FBQ3RDLFlBQUloMkIsS0FBSyxDQUFDNkssUUFBTixDQUFla0MsS0FBbkIsRUFBMEJqTyxPQUFPLENBQUNDLElBQVIsQ0FBYSx5QkFBYixFQUF3QzhLLENBQXhDO0FBQzNCLE9BRkQsTUFFTztBQUNMLFlBQUk3SixLQUFLLENBQUM2SyxRQUFOLENBQWVrQyxLQUFuQixFQUEwQmpPLE9BQU8sQ0FBQ3dDLEdBQVIsQ0FBWXVJLENBQVosRUFBZUEsQ0FBQyxDQUFDNUosVUFBakI7QUFDM0I7O0FBRURELFdBQUssQ0FBQ3kxQixXQUFOOztBQUVBejFCLFdBQUssQ0FBQzZLLFFBQU4sQ0FBZW1xQixZQUFmLEdBQThCLEtBQTlCO0FBQ0QsS0FmRCxFQWVHLEtBZkg7QUFnQkQsR0E5Q0Q7O0FBZ0RBLE9BQUtTLFdBQUwsR0FBbUIsWUFBWTtBQUM3QixTQUFLNXFCLFFBQUwsQ0FBYzZPLE1BQWQsR0FBdUIsS0FBdkI7QUFDQSxTQUFLN08sUUFBTCxDQUFjeXBCLE1BQWQsQ0FBcUIyQixLQUFyQjtBQUNELEdBSEQ7O0FBS0EsT0FBS0MsU0FBTCxHQUFpQixZQUFZO0FBQzNCLFFBQUlsMkIsS0FBSyxHQUFHLElBQVo7O0FBRUFBLFNBQUssQ0FBQzZLLFFBQU4sQ0FBZTRwQixTQUFmLEdBQTJCLElBQTNCO0FBQ0F6MEIsU0FBSyxDQUFDNkssUUFBTixDQUFlNk8sTUFBZixHQUF3QixLQUF4Qjs7QUFFQSxRQUFJMVosS0FBSyxDQUFDbTFCLHlCQUFOLEtBQW9DLElBQXhDLEVBQThDO0FBQzVDbmIsbUJBQWEsQ0FBQ2hhLEtBQUssQ0FBQ20xQix5QkFBUCxDQUFiO0FBQ0Q7O0FBRURuMUIsU0FBSyxDQUFDNkssUUFBTixDQUFlb3FCLGNBQWYsQ0FBOEJqMUIsS0FBSyxDQUFDNkssUUFBcEM7QUFDRCxHQVhEOztBQWFBLE9BQUtzckIsY0FBTCxHQUFzQixZQUFZO0FBQ2hDLFFBQUluMkIsS0FBSyxHQUFHLElBQVo7O0FBRUEsS0FBQyxZQUFZO0FBQ1gsVUFBSW8yQixNQUFNLEdBQUcsUUFBYixDQURXLENBR1g7O0FBQ0EsVUFBSUEsTUFBTSxJQUFJbHZCLFFBQWQsRUFBd0I7QUFDdEJBLGdCQUFRLENBQUM2VyxnQkFBVCxDQUEwQixrQkFBMUIsRUFBOENzWSxRQUE5QztBQUNELE9BRkQsTUFFTyxJQUFJLENBQUNELE1BQU0sR0FBRyxXQUFWLEtBQTBCbHZCLFFBQTlCLEVBQXdDO0FBQzdDQSxnQkFBUSxDQUFDNlcsZ0JBQVQsQ0FBMEIscUJBQTFCLEVBQWlEc1ksUUFBakQ7QUFDRCxPQUZNLE1BRUEsSUFBSSxDQUFDRCxNQUFNLEdBQUcsY0FBVixLQUE2Qmx2QixRQUFqQyxFQUEyQztBQUNoREEsZ0JBQVEsQ0FBQzZXLGdCQUFULENBQTBCLHdCQUExQixFQUFvRHNZLFFBQXBEO0FBQ0QsT0FGTSxNQUVBLElBQUksQ0FBQ0QsTUFBTSxHQUFHLFVBQVYsS0FBeUJsdkIsUUFBN0IsRUFBdUM7QUFDNUNBLGdCQUFRLENBQUM2VyxnQkFBVCxDQUEwQixvQkFBMUIsRUFBZ0RzWSxRQUFoRDtBQUNELE9BRk0sTUFFQSxJQUFJLGVBQWVudkIsUUFBbkIsRUFBNkI7QUFBRTtBQUNwQ0EsZ0JBQVEsQ0FBQ292QixTQUFULEdBQXFCcHZCLFFBQVEsQ0FBQ3F2QixVQUFULEdBQXNCRixRQUEzQztBQUNELE9BRk0sTUFFQTtBQUFFO0FBQ1A1M0IsY0FBTSxDQUFDKzNCLFVBQVAsR0FBb0IvM0IsTUFBTSxDQUFDZzRCLFVBQVAsR0FBb0JoNEIsTUFBTSxDQUFDaTRCLE9BQVAsR0FBaUJqNEIsTUFBTSxDQUFDazRCLE1BQVAsR0FBZ0JOLFFBQXpFO0FBQ0Q7O0FBRUQsZUFBU0EsUUFBVCxDQUFtQm5HLEdBQW5CLEVBQXdCO0FBQ3RCLFlBQUlwdkIsTUFBTSxHQUFHLEVBQWI7QUFDQSxZQUFJODFCLENBQUMsR0FBRyxTQUFSO0FBQ0EsWUFBSUMsQ0FBQyxHQUFHLFFBQVI7QUFDQSxZQUFJQyxNQUFNLEdBQUc7QUFDWEMsZUFBSyxFQUFFSCxDQURJO0FBQ0RJLGlCQUFPLEVBQUVKLENBRFI7QUFDV0ssa0JBQVEsRUFBRUwsQ0FEckI7QUFDd0JNLGNBQUksRUFBRUwsQ0FEOUI7QUFDaUNNLGtCQUFRLEVBQUVOLENBRDNDO0FBQzhDTyxrQkFBUSxFQUFFUDtBQUR4RCxTQUFiO0FBSUEzRyxXQUFHLEdBQUdBLEdBQUcsSUFBSXp4QixNQUFNLENBQUN1ZixLQUFwQjs7QUFDQSxZQUFJa1MsR0FBRyxDQUFDOXZCLElBQUosSUFBWTAyQixNQUFoQixFQUF3QjtBQUN0QmgyQixnQkFBTSxHQUFHZzJCLE1BQU0sQ0FBQzVHLEdBQUcsQ0FBQzl2QixJQUFMLENBQWY7QUFDRCxTQUZELE1BRU87QUFDTFUsZ0JBQU0sR0FBRyxLQUFLczFCLE1BQUwsSUFBZSxRQUFmLEdBQTBCLFNBQW5DO0FBQ0Q7O0FBRUQsWUFBSXQxQixNQUFNLEtBQUssU0FBWCxJQUF5QmQsS0FBSyxDQUFDNkssUUFBTixDQUFleXBCLE1BQWYsQ0FBc0JyMEIsVUFBdEIsS0FBcUMsQ0FBckMsSUFBMENELEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXlwQixNQUFmLENBQXNCcjBCLFVBQXRCLEtBQXFDLENBQTVHLEVBQWdIO0FBQzlHRCxlQUFLLENBQUM0MUIsVUFBTjtBQUNELFNBRkQsTUFFTyxJQUFJOTBCLE1BQU0sS0FBSyxRQUFYLEtBQXdCZCxLQUFLLENBQUM2SyxRQUFOLENBQWV5cEIsTUFBZixDQUFzQnIwQixVQUF0QixLQUFxQyxDQUFyQyxJQUEwQ0QsS0FBSyxDQUFDNkssUUFBTixDQUFleXBCLE1BQWYsQ0FBc0JyMEIsVUFBdEIsS0FBcUMsQ0FBdkcsQ0FBSixFQUErRztBQUNwSEQsZUFBSyxDQUFDeTFCLFdBQU47QUFDRDtBQUNGLE9BdENVLENBd0NYOzs7QUFDQSxVQUFJdnVCLFFBQVEsQ0FBQ2t2QixNQUFELENBQVIsS0FBcUIvMUIsU0FBekIsRUFBb0M7QUFDbENnMkIsZ0JBQVEsQ0FBQztBQUFFajJCLGNBQUksRUFBRThHLFFBQVEsQ0FBQ2t2QixNQUFELENBQVIsR0FBbUIsTUFBbkIsR0FBNEI7QUFBcEMsU0FBRCxDQUFSO0FBQ0Q7QUFDRixLQTVDRDtBQTZDRCxHQWhERDs7QUFrREEsT0FBSzlwQixJQUFMLEdBQVksWUFBWTtBQUN0QixRQUFJdE0sS0FBSyxHQUFHLElBQVo7O0FBRUEsUUFBSTtBQUNGLFVBQUlBLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZWtDLEtBQW5CLEVBQTBCak8sT0FBTyxDQUFDd0MsR0FBUixDQUFZLG9CQUFaLEVBQWtDdEIsS0FBSyxDQUFDNkssUUFBTixDQUFlMnBCLE1BQWpELEVBQXlELElBQUlsckIsSUFBSixFQUF6RDs7QUFFMUJ0SixXQUFLLENBQUM0MUIsVUFBTjs7QUFFQSxVQUFJNTFCLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZWtDLEtBQW5CLEVBQTBCak8sT0FBTyxDQUFDd0MsR0FBUixDQUFZLG1CQUFaLEVBQWlDdEIsS0FBSyxDQUFDNkssUUFBTixDQUFlMnBCLE1BQWhELEVBQXdELElBQUlsckIsSUFBSixFQUF4RCxFQUFvRXRKLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXlwQixNQUFmLENBQXNCcjBCLFVBQTFGOztBQUUxQkQsV0FBSyxDQUFDdTFCLFdBQU47O0FBQ0F2MUIsV0FBSyxDQUFDbTJCLGNBQU47O0FBRUF2eEIsZ0JBQVUsQ0FBQyxZQUFZO0FBQ3JCLFlBQUksQ0FBQzVFLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZW1xQixZQUFwQixFQUFrQztBQUNoQ2wyQixpQkFBTyxDQUFDd0MsR0FBUixDQUFZLFlBQVo7O0FBQ0F0QixlQUFLLENBQUNrMkIsU0FBTjtBQUNEO0FBQ0YsT0FMUyxFQUtQLElBTE8sQ0FBVjtBQU9BejNCLFlBQU0sQ0FBQ3NmLGdCQUFQLENBQXdCLFFBQXhCLEVBQWtDLFVBQVVDLEtBQVYsRUFBaUI7QUFDakQsWUFBSWhlLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZWtDLEtBQW5CLEVBQTBCak8sT0FBTyxDQUFDd0MsR0FBUixDQUFZLGlDQUFaLEVBQStDLElBQUlnSSxJQUFKLEVBQS9DOztBQUMxQnRKLGFBQUssQ0FBQzZLLFFBQU4sQ0FBZXlwQixNQUFmLENBQXNCMkIsS0FBdEI7O0FBQ0FqMkIsYUFBSyxDQUFDNkssUUFBTixDQUFlNk8sTUFBZixHQUF3QixLQUF4Qjs7QUFFQTFaLGFBQUssQ0FBQzZLLFFBQU4sQ0FBZStwQixhQUFmLENBQTZCNzBCLEtBQTdCOztBQUVBLFlBQUlDLEtBQUssQ0FBQ2sxQixnQkFBVixFQUE0QjtBQUMxQmxiLHVCQUFhLENBQUNoYSxLQUFLLENBQUNrMUIsZ0JBQVAsQ0FBYjtBQUNEO0FBQ0YsT0FWRDtBQVdBejJCLFlBQU0sQ0FBQ3NmLGdCQUFQLENBQXdCLGNBQXhCLEVBQXdDLFVBQVVDLEtBQVYsRUFBaUI7QUFDdkQsWUFBSWhlLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZWtDLEtBQW5CLEVBQTBCak8sT0FBTyxDQUFDd0MsR0FBUixDQUFZLGlDQUFaOztBQUMxQnRCLGFBQUssQ0FBQzZLLFFBQU4sQ0FBZXlwQixNQUFmLENBQXNCMkIsS0FBdEI7O0FBRUFqMkIsYUFBSyxDQUFDNkssUUFBTixDQUFlK3BCLGFBQWYsQ0FBNkI3MEIsS0FBN0I7O0FBRUEsWUFBSUMsS0FBSyxDQUFDazFCLGdCQUFWLEVBQTRCO0FBQzFCbGIsdUJBQWEsQ0FBQ2hhLEtBQUssQ0FBQ2sxQixnQkFBUCxDQUFiO0FBQ0Q7QUFDRixPQVREO0FBVUQsS0F0Q0QsQ0FzQ0UsT0FBT3JyQixDQUFQLEVBQVU7QUFDVixVQUFJN0osS0FBSyxDQUFDNkssUUFBTixDQUFla0MsS0FBbkIsRUFBMEJqTyxPQUFPLENBQUN3QyxHQUFSLENBQVksb0JBQVo7O0FBQzFCdEIsV0FBSyxDQUFDazJCLFNBQU47QUFDRDtBQUNGLEdBN0NEOztBQStDQSxPQUFLNXBCLElBQUw7QUFDRCxDQWpVTSxDOzs7Ozs7Ozs7Ozs7QUNQUDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ08sSUFBTWlHLGNBQWMsR0FBRyxTQUFqQkEsY0FBaUIsQ0FBVTNILE9BQVYsRUFBbUI7QUFDL0M7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0UsT0FBS0MsUUFBTCxHQUFnQjtBQUNkSSxZQUFRLEVBQUUsSUFESTtBQUVkSCxhQUFTLEVBQUUsSUFGRztBQUdkc1Usb0JBQWdCLEVBQUUsSUFISjtBQUlkaVksaUJBQWEsRUFBRSxJQUpEO0FBS2RwZCxrQkFBYyxFQUFFLElBTEY7QUFNZHFkLHNCQUFrQixFQUFFLElBTk47QUFPZDVkLFVBQU0sRUFBRSxLQVBNO0FBUWQ2ZCxrQkFBYyxFQUFFLElBUkY7QUFTZGhjLFlBQVEsRUFBRTtBQVRJLEdBQWhCOztBQVlBLE1BQUksT0FBTzNRLE9BQVAsS0FBbUIsV0FBdkIsRUFBb0M7QUFDbEMsU0FBSyxJQUFJOFYsR0FBVCxJQUFnQjlWLE9BQWhCLEVBQXlCO0FBQ3ZCLFVBQUlBLE9BQU8sQ0FBQytWLGNBQVIsQ0FBdUJELEdBQXZCLENBQUosRUFBaUM7QUFDL0IsYUFBSzdWLFFBQUwsQ0FBYzZWLEdBQWQsSUFBcUI5VixPQUFPLENBQUM4VixHQUFELENBQTVCO0FBQ0Q7QUFDRjtBQUNGOztBQUVELE9BQUtyTyxNQUFMLEdBQWMsWUFBWTtBQUN4QixRQUFJbkcsT0FBTyxHQUFHaEYsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQWQ7QUFDQSxRQUFJcXdCLFdBQVcsR0FBR3R3QixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBbEI7QUFDQSxRQUFJNk0sSUFBSSxHQUFHOU0sUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQVg7QUFFQSxRQUFJc3dCLGtCQUFrQixHQUFHdndCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUF6QjtBQUNBLFFBQUl1d0IscUJBQXFCLEdBQUd4d0IsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQTVCO0FBQ0EsUUFBSXd3Qix1QkFBdUIsR0FBR3p3QixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBOUI7QUFDQSxRQUFJeXdCLGdCQUFnQixHQUFHMXdCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixHQUF2QixDQUF2QjtBQUVBK0UsV0FBTyxDQUFDRSxZQUFSLENBQXFCLE9BQXJCLEVBQThCLHNCQUE5QjtBQUNBb3JCLGVBQVcsQ0FBQ3ByQixZQUFaLENBQXlCLE9BQXpCLEVBQWtDLDJCQUFsQztBQUNBNEgsUUFBSSxDQUFDNUgsWUFBTCxDQUFrQixPQUFsQixFQUEyQixtQkFBM0I7QUFDQXNyQix5QkFBcUIsQ0FBQ3RyQixZQUF0QixDQUFtQyxPQUFuQyxFQUE0QyxzQ0FBNUM7QUFDQXFyQixzQkFBa0IsQ0FBQ3JyQixZQUFuQixDQUFnQyxPQUFoQyxFQUF5QyxrQ0FBekM7QUFDQXVyQiwyQkFBdUIsQ0FBQ3ZyQixZQUF4QixDQUFxQyxPQUFyQyxFQUE4Qyx3Q0FBOUM7QUFDQXdyQixvQkFBZ0IsQ0FBQ3hyQixZQUFqQixDQUE4QixPQUE5QixFQUF1QyxnQ0FBdkM7QUFFQXdyQixvQkFBZ0IsQ0FBQzNjLElBQWpCLEdBQXdCLHFCQUF4QjtBQUNBMmMsb0JBQWdCLENBQUM1aEIsU0FBakIsR0FBNkIsR0FBN0I7QUFFQTJoQiwyQkFBdUIsQ0FBQ3RyQixXQUF4QixDQUFvQ3VyQixnQkFBcEM7QUFDQUgsc0JBQWtCLENBQUNwckIsV0FBbkIsQ0FBK0JzckIsdUJBQS9CO0FBQ0FELHlCQUFxQixDQUFDcnJCLFdBQXRCLENBQWtDb3JCLGtCQUFsQztBQUNBRCxlQUFXLENBQUNuckIsV0FBWixDQUF3QjJILElBQXhCO0FBQ0E5SCxXQUFPLENBQUNHLFdBQVIsQ0FBb0JtckIsV0FBcEI7QUFDQXRyQixXQUFPLENBQUNHLFdBQVIsQ0FBb0JxckIscUJBQXBCO0FBRUEsV0FBT3hyQixPQUFQO0FBQ0QsR0E3QkQ7O0FBK0JBLE9BQUtELGFBQUwsR0FBcUIsWUFBWTtBQUMvQixRQUFJQyxPQUFPLEdBQUdoRixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBZDtBQUVBK0UsV0FBTyxDQUFDRSxZQUFSLENBQXFCLE9BQXJCLEVBQThCLDhCQUE5QjtBQUVBLFdBQU9GLE9BQVA7QUFDRCxHQU5EOztBQVFBLE9BQUsyckIsY0FBTCxHQUFzQixZQUFZO0FBQ2hDLFFBQUk3M0IsS0FBSyxHQUFHLElBQVo7O0FBQ0EsUUFBSXFZLElBQUksR0FBRyxDQUFYO0FBQ0EsUUFBSStILEtBQUssR0FBRyxFQUFaO0FBQ0EsUUFBSTlKLElBQUksR0FBRyxFQUFYO0FBQ0EsUUFBSXdoQixPQUFPLEdBQUcsRUFBZDtBQUNBLFFBQUlDLE9BQU8sR0FBRyxLQUFkOztBQUVBLFFBQUkvM0IsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3FELFdBQWpDLENBQTZDSSxhQUE3QyxLQUErRCxJQUFuRSxFQUF5RTtBQUN2RStKLFVBQUksR0FBR0QsNkNBQU0sQ0FBQ3BZLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNxRCxXQUFqQyxDQUE2Q0ksYUFBN0MsQ0FBMkQ2ZixjQUE1RCxDQUFOLENBQWtGOVYsSUFBbEYsQ0FBdUZELDZDQUFNLEVBQTdGLENBQVA7QUFDQWdJLFdBQUssR0FBR3BnQixLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDZ0MsV0FBakMsQ0FBNkNtckIsZUFBN0MsQ0FBNkRDLFFBQXJFO0FBQ0EzaEIsVUFBSSxHQUFHdFcsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCeUgsY0FBeEIsQ0FBdUMwRiw2Q0FBTSxDQUFDekYsUUFBUCxDQUFnQjBGLElBQWhCLENBQXZDLENBQVA7QUFDQXlmLGFBQU8sR0FBRzkzQixLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0J5SCxjQUF4QixDQUF1QzBGLDZDQUFNLENBQUN6RixRQUFQLENBQWdCMEYsSUFBaEIsQ0FBdkMsQ0FBVjtBQUNBMGYsYUFBTyxHQUFHLEtBQVY7O0FBRUEsVUFBSTFmLElBQUksR0FBRyxDQUFQLElBQVlyWSxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDcUQsV0FBakMsQ0FBNkNJLGFBQTdDLENBQTJEb0csVUFBM0QsS0FBMEUsQ0FBMUYsRUFBNkY7QUFDM0YwTCxhQUFLLEdBQUdwZ0IsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ2dDLFdBQWpDLENBQTZDbXJCLGVBQTdDLENBQTZERSxRQUFyRTtBQUNBNWhCLFlBQUksR0FBRyxFQUFQO0FBQ0QsT0FIRCxNQUdPLElBQUl0VyxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDcUQsV0FBakMsQ0FBNkNJLGFBQTdDLENBQTJEb0csVUFBM0QsR0FBd0UsQ0FBeEUsSUFBNkUxVSxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDcUQsV0FBakMsQ0FBNkNJLGFBQTdDLENBQTJEb0csVUFBM0QsR0FBd0UsQ0FBekosRUFBNEo7QUFDaksyRCxZQUFJLEdBQUdELDZDQUFNLENBQUNwWSxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDcUQsV0FBakMsQ0FBNkNJLGFBQTdDLENBQTJEOGYsWUFBNUQsQ0FBTixDQUFnRi9WLElBQWhGLENBQXFGRCw2Q0FBTSxFQUEzRixDQUFQO0FBQ0EwZixlQUFPLEdBQUc5M0IsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCeUgsY0FBeEIsQ0FBdUMwRiw2Q0FBTSxDQUFDekYsUUFBUCxDQUFnQjBGLElBQWhCLENBQXZDLENBQVY7QUFDQStILGFBQUssR0FBR3BnQixLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0J5SCxjQUF4QixDQUF1QzBGLDZDQUFNLENBQUN6RixRQUFQLENBQWdCMEYsSUFBaEIsQ0FBdkMsQ0FBUjtBQUNBL0IsWUFBSSxHQUFHdFcsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ2dDLFdBQWpDLENBQTZDbXJCLGVBQTdDLENBQTZEOU0sSUFBcEU7QUFDQTZNLGVBQU8sR0FBRyxJQUFWO0FBQ0QsT0FOTSxNQU1BLElBQUkvM0IsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3FELFdBQWpDLENBQTZDSSxhQUE3QyxDQUEyRG9HLFVBQTNELEtBQTBFLENBQTlFLEVBQWlGO0FBQ3RGMEwsYUFBSyxHQUFHcGdCLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNnQyxXQUFqQyxDQUE2Q21yQixlQUE3QyxDQUE2RDNKLFNBQXJFO0FBQ0EvWCxZQUFJLEdBQUd0VyxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDZ0MsV0FBakMsQ0FBNkNtckIsZUFBN0MsQ0FBNkQ5TSxJQUFwRTtBQUNBNk0sZUFBTyxHQUFHLElBQVY7QUFDRCxPQUpNLE1BSUEsSUFBSS8zQixLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDcUQsV0FBakMsQ0FBNkNJLGFBQTdDLENBQTJEb0csVUFBM0QsSUFBeUUsQ0FBN0UsRUFBZ0Y7QUFDckYwTCxhQUFLLEdBQUdwZ0IsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ2dDLFdBQWpDLENBQTZDbXJCLGVBQTdDLENBQTZEMXZCLFFBQXJFO0FBQ0FnTyxZQUFJLEdBQUd0VyxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDZ0MsV0FBakMsQ0FBNkNtckIsZUFBN0MsQ0FBNkQ5TSxJQUFwRTtBQUNBNk0sZUFBTyxHQUFHLElBQVY7QUFDRDtBQUNGOztBQUVELFdBQU87QUFDTDNYLFdBQUssRUFBRUEsS0FERjtBQUVML0gsVUFBSSxFQUFFQSxJQUZEO0FBR0wvQixVQUFJLEVBQUVBLElBSEQ7QUFJTHdoQixhQUFPLEVBQUVBLE9BSko7QUFLTEMsYUFBTyxFQUFFQTtBQUxKLEtBQVA7QUFPRCxHQTFDRDs7QUE0Q0EsT0FBS0kseUJBQUwsR0FBaUMsWUFBWTtBQUMzQyxRQUFJQyxpQkFBaUIsR0FBR2x4QixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBeEI7QUFDQSxRQUFJa3hCLGlCQUFpQixHQUFHbnhCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUF4QjtBQUNBLFFBQUlteEIsZ0JBQWdCLEdBQUdweEIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXZCO0FBQ0EsUUFBSW94QixnQkFBZ0IsR0FBR3J4QixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBdkI7QUFDQSxRQUFJcXhCLGVBQWUsR0FBR3R4QixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBdEI7QUFDQSxRQUFJc3hCLGtCQUFrQixHQUFHdnhCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUF6QjtBQUVBaXhCLHFCQUFpQixDQUFDaHNCLFlBQWxCLENBQStCLE9BQS9CLEVBQXdDLGdDQUF4QztBQUNBaXNCLHFCQUFpQixDQUFDanNCLFlBQWxCLENBQStCLE9BQS9CLEVBQXdDLGdDQUF4QztBQUNBa3NCLG9CQUFnQixDQUFDbHNCLFlBQWpCLENBQThCLE9BQTlCLEVBQXVDLCtCQUF2QztBQUNBbXNCLG9CQUFnQixDQUFDbnNCLFlBQWpCLENBQThCLE9BQTlCLEVBQXVDLCtCQUF2QztBQUNBb3NCLG1CQUFlLENBQUNwc0IsWUFBaEIsQ0FBNkIsT0FBN0IsRUFBc0MsOEJBQXRDO0FBQ0Fvc0IsbUJBQWUsQ0FBQy9yQixLQUFoQixDQUFzQkMsT0FBdEIsR0FBZ0MsTUFBaEM7QUFDQStyQixzQkFBa0IsQ0FBQ3JzQixZQUFuQixDQUFnQyxPQUFoQyxFQUF5QyxpQ0FBekM7QUFFQWdzQixxQkFBaUIsQ0FBQy9yQixXQUFsQixDQUE4QmdzQixpQkFBOUI7QUFDQUQscUJBQWlCLENBQUMvckIsV0FBbEIsQ0FBOEJpc0IsZ0JBQTlCO0FBQ0FDLG9CQUFnQixDQUFDbHNCLFdBQWpCLENBQTZCbXNCLGVBQTdCO0FBQ0FKLHFCQUFpQixDQUFDL3JCLFdBQWxCLENBQThCa3NCLGdCQUE5QjtBQUNBSCxxQkFBaUIsQ0FBQy9yQixXQUFsQixDQUE4Qm9zQixrQkFBOUI7QUFFQSxXQUFPTCxpQkFBUDtBQUNELEdBdkJEOztBQXlCQSxPQUFLTSx5QkFBTCxHQUFpQyxZQUFZO0FBQzNDLFFBQUlOLGlCQUFpQixHQUFHbHhCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUF4QjtBQUNBLFFBQUlreEIsaUJBQWlCLEdBQUdueEIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXhCO0FBQ0EsUUFBSW14QixnQkFBZ0IsR0FBR3B4QixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBdkI7QUFDQSxRQUFJb3hCLGdCQUFnQixHQUFHcnhCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUF2QjtBQUNBLFFBQUlxeEIsZUFBZSxHQUFHdHhCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUF0QjtBQUNBLFFBQUlzeEIsa0JBQWtCLEdBQUd2eEIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXpCO0FBRUFpeEIscUJBQWlCLENBQUNoc0IsWUFBbEIsQ0FBK0IsT0FBL0IsRUFBd0MsaUNBQXhDO0FBQ0Fpc0IscUJBQWlCLENBQUNqc0IsWUFBbEIsQ0FBK0IsT0FBL0IsRUFBd0MsaUNBQXhDO0FBQ0Frc0Isb0JBQWdCLENBQUNsc0IsWUFBakIsQ0FBOEIsT0FBOUIsRUFBdUMsZ0NBQXZDO0FBQ0Ftc0Isb0JBQWdCLENBQUNuc0IsWUFBakIsQ0FBOEIsT0FBOUIsRUFBdUMsZ0NBQXZDO0FBQ0Fvc0IsbUJBQWUsQ0FBQ3BzQixZQUFoQixDQUE2QixPQUE3QixFQUFzQywrQkFBdEM7QUFDQW9zQixtQkFBZSxDQUFDL3JCLEtBQWhCLENBQXNCQyxPQUF0QixHQUFnQyxNQUFoQztBQUNBK3JCLHNCQUFrQixDQUFDcnNCLFlBQW5CLENBQWdDLE9BQWhDLEVBQXlDLGtDQUF6QztBQUVBZ3NCLHFCQUFpQixDQUFDL3JCLFdBQWxCLENBQThCZ3NCLGlCQUE5QjtBQUNBRCxxQkFBaUIsQ0FBQy9yQixXQUFsQixDQUE4QmlzQixnQkFBOUI7QUFDQUMsb0JBQWdCLENBQUNsc0IsV0FBakIsQ0FBNkJtc0IsZUFBN0I7QUFDQUoscUJBQWlCLENBQUMvckIsV0FBbEIsQ0FBOEJrc0IsZ0JBQTlCO0FBQ0FILHFCQUFpQixDQUFDL3JCLFdBQWxCLENBQThCb3NCLGtCQUE5QjtBQUVBLFdBQU9MLGlCQUFQO0FBQ0QsR0F2QkQsQ0F2SStDLENBZ0svQzs7O0FBQ0EsT0FBS08sb0JBQUwsR0FBNEIsWUFBWTtBQUN0QyxRQUFJMzRCLEtBQUssR0FBRyxJQUFaOztBQUNBLFFBQUk2M0IsY0FBYyxHQUFHNzNCLEtBQUssQ0FBQzYzQixjQUFOLEVBQXJCLENBRnNDLENBR3RDOzs7QUFDQSxRQUFJelgsS0FBSyxHQUFHeVgsY0FBYyxDQUFDelgsS0FBM0I7QUFDQSxRQUFJOUosSUFBSSxHQUFHdWhCLGNBQWMsQ0FBQ3ZoQixJQUExQjtBQUNBLFFBQUl3aEIsT0FBTyxHQUFHRCxjQUFjLENBQUNDLE9BQTdCO0FBQ0EsUUFBSWMsYUFBYSxHQUFHNTRCLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXdzQixhQUFuQztBQUNBLFFBQUl3QixhQUFhLEdBQUdyc0IsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBaEIsRUFBMkIsK0JBQTNCLENBQXpCO0FBQ0EsUUFBSWl0QixPQUFPLEdBQUdGLGNBQWMsQ0FBQ0UsT0FBN0I7O0FBRUEsUUFBSWMsYUFBYSxLQUFLLElBQXRCLEVBQTRCO0FBQzFCNzRCLFdBQUssQ0FBQzg0QixvQkFBTjs7QUFFQTVjLHFFQUFRLENBQUNsYyxLQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWhCLEVBQTJCLHFCQUEzQixDQUFSO0FBRUEsVUFBSWl1QixTQUFTLEdBQUc3eEIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQWhCO0FBQ0EsVUFBSTZ4QixhQUFhLEdBQUc5eEIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXBCO0FBQ0EsVUFBSTh4QixXQUFXLEdBQUcveEIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQWxCO0FBQ0EsVUFBSSt4QixNQUFNLEdBQUdoeUIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQWI7QUFDQSxVQUFJZ3lCLGdCQUFnQixHQUFHanlCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUF2QjtBQUNBLFVBQUlpeUIsYUFBYSxHQUFHbHlCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUFwQjtBQUNBLFVBQUlreUIsU0FBUyxHQUFHbnlCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUFoQjtBQUNBLFVBQUlteUIsYUFBYSxHQUFHcHlCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUFwQjtBQUNBLFVBQUlveUIsZUFBZSxHQUFHcnlCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUF0Qjs7QUFDQSxVQUFJaXhCLGlCQUFpQixHQUFHcDRCLEtBQUssQ0FBQ200Qix5QkFBTixFQUF4Qjs7QUFDQSxVQUFJcEosR0FBRyxHQUFHdmlCLDREQUFLLENBQUM0ckIsaUJBQUQsRUFBb0IsK0JBQXBCLENBQWY7QUFFQVcsZUFBUyxDQUFDM3NCLFlBQVYsQ0FBdUIsT0FBdkIsRUFBZ0MsOEJBQWhDO0FBQ0E2c0IsaUJBQVcsQ0FBQzdzQixZQUFaLENBQXlCLE9BQXpCLEVBQWtDLGlDQUFsQztBQUNBOHNCLFlBQU0sQ0FBQzlzQixZQUFQLENBQW9CLE9BQXBCLEVBQTZCLDJCQUE3QjtBQUNBNHNCLG1CQUFhLENBQUM1c0IsWUFBZCxDQUEyQixPQUEzQixFQUFvQyxtQ0FBcEM7QUFDQStzQixzQkFBZ0IsQ0FBQy9zQixZQUFqQixDQUE4QixPQUE5QixFQUF1QyxzQ0FBdkM7QUFDQWd0QixtQkFBYSxDQUFDaHRCLFlBQWQsQ0FBMkIsT0FBM0IsRUFBb0MsbUNBQXBDO0FBQ0FpdEIsZUFBUyxDQUFDanRCLFlBQVYsQ0FBdUIsT0FBdkIsRUFBZ0Msc0NBQWhDO0FBQ0FrdEIsbUJBQWEsQ0FBQ2x0QixZQUFkLENBQTJCLE9BQTNCLEVBQW9DLDBDQUFwQztBQUNBbXRCLHFCQUFlLENBQUNudEIsWUFBaEIsQ0FBNkIsT0FBN0IsRUFBc0MsNENBQXRDO0FBRUFnc0IsdUJBQWlCLENBQUNoc0IsWUFBbEIsQ0FBK0IsT0FBL0IsRUFBd0MsZ0NBQXhDLEVBM0IwQixDQTZCMUI7O0FBQ0E4c0IsWUFBTSxDQUFDbGpCLFNBQVAsR0FBbUI4aEIsT0FBbkI7QUFFQWtCLG1CQUFhLENBQUMzc0IsV0FBZCxDQUEwQjRzQixXQUExQjtBQUNBRCxtQkFBYSxDQUFDM3NCLFdBQWQsQ0FBMEI2c0IsTUFBMUI7QUFFQTFzQixrRUFBSyxDQUFDNHJCLGlCQUFELEVBQW9CLGdDQUFwQixDQUFMLENBQTJEcGlCLFNBQTNELEdBQXVFLElBQXZFO0FBQ0F4SixrRUFBSyxDQUFDNHJCLGlCQUFELEVBQW9CLGtDQUFwQixDQUFMLENBQTZEcGlCLFNBQTdELEdBQXlFLElBQXpFO0FBRUErWSxTQUFHLENBQUMva0IsR0FBSixHQUFVLEVBQVY7QUFDQStrQixTQUFHLENBQUN6QyxHQUFKLEdBQVUsRUFBVjtBQUNBeUMsU0FBRyxDQUFDdGlCLEtBQUosQ0FBVUMsT0FBVixHQUFvQixPQUFwQjtBQUVBNHNCLG1CQUFhLENBQUN0akIsU0FBZCxHQUEwQmhXLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNnQyxXQUFqQyxDQUE2QytDLFdBQTdDLENBQXlEc2IsSUFBbkY7QUFDQXFPLHFCQUFlLENBQUN2akIsU0FBaEIsR0FBNEJoVyxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDZ0MsV0FBakMsQ0FBNkMrQyxXQUE3QyxDQUF5RHdiLE1BQXJGO0FBRUFpTyxlQUFTLENBQUNodEIsV0FBVixDQUFzQml0QixhQUF0QjtBQUNBRCxlQUFTLENBQUNodEIsV0FBVixDQUFzQmt0QixlQUF0QjtBQUNBSCxtQkFBYSxDQUFDL3NCLFdBQWQsQ0FBMEIrckIsaUJBQTFCO0FBQ0FlLHNCQUFnQixDQUFDOXNCLFdBQWpCLENBQTZCZ3RCLFNBQTdCO0FBQ0FGLHNCQUFnQixDQUFDOXNCLFdBQWpCLENBQTZCK3NCLGFBQTdCO0FBRUFMLGVBQVMsQ0FBQzFzQixXQUFWLENBQXNCMnNCLGFBQXRCO0FBQ0FELGVBQVMsQ0FBQzFzQixXQUFWLENBQXNCOHNCLGdCQUF0QjtBQUVBTixtQkFBYSxHQUFHRCxhQUFhLENBQUN2c0IsV0FBZCxDQUEwQjBzQixTQUExQixDQUFoQjtBQUVBbjBCLGdCQUFVLENBQUMsWUFBWTtBQUNyQnNYLHVFQUFRLENBQUMwYyxhQUFELEVBQWdCLFNBQWhCLENBQVI7QUFDRCxPQUZTLEVBRVAsR0FGTyxDQUFWO0FBR0QsS0EzREQsTUEyRE87QUFDTCxVQUFJLENBQUMzYywrREFBUSxDQUFDMmMsYUFBRCxFQUFnQixTQUFoQixDQUFiLEVBQXlDO0FBQ3ZDMWMsdUVBQVEsQ0FBQzBjLGFBQUQsRUFBZ0IsU0FBaEIsQ0FBUjtBQUNEOztBQUNEcHNCLGtFQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWhCLEVBQTJCLGtDQUEzQixDQUFMLENBQW9Fa0wsU0FBcEUsR0FBZ0ZvSyxLQUFoRjtBQUNBNVQsa0VBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBaEIsRUFBMkIsNEJBQTNCLENBQUwsQ0FBOERrTCxTQUE5RCxHQUEwRU0sSUFBMUU7QUFDRDs7QUFFRDlCLG9FQUFTLENBQUN4VSxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDK0UsV0FBakMsQ0FBNkNHLGVBQTlDLEVBQStELFVBQVV5cEIsT0FBVixFQUFtQjtBQUN6RixVQUFJLENBQUNBLE9BQU8sQ0FBQzFNLFdBQVIsS0FBd0I5c0IsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQytDLFFBQXpELElBQXFFNHJCLE9BQU8sQ0FBQzVyQixRQUFSLEtBQXFCNU4sS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQytDLFFBQTVILEtBQXlJLE9BQU80ckIsT0FBTyxDQUFDQyxRQUFmLEtBQTRCLFdBQXpLLEVBQXNMO0FBQ3BMLFlBQUlDLFNBQVMsR0FBR2x0Qiw0REFBSyxDQUFDcXNCLGFBQUQsRUFBZ0Isb0NBQWhCLENBQXJCO0FBQ0FhLGlCQUFTLENBQUMxakIsU0FBVixHQUFzQixFQUF0QjtBQUVBeEosb0VBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBaEIsRUFBMkIsa0NBQTNCLENBQUwsQ0FBb0VrTCxTQUFwRSxHQUFnRixFQUFoRjtBQUNBeEosb0VBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBaEIsRUFBMkIsNEJBQTNCLENBQUwsQ0FBOERrTCxTQUE5RCxHQUEwRThoQixPQUExRTtBQUNBNWIsdUVBQVEsQ0FBQzFQLDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWhCLEVBQTJCLG9DQUEzQixDQUFOLEVBQXdFLGdDQUF4RSxDQUFSO0FBRUEwSix3RUFBUyxDQUFDZ2xCLE9BQU8sQ0FBQ0MsUUFBVCxFQUFtQixVQUFVRSxjQUFWLEVBQTBCO0FBQ3BELGNBQUkzbEIsSUFBSSxHQUFHaFUsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCb0ksNEJBQXhCLENBQXFEc21CLGNBQWMsQ0FBQy9yQixRQUFwRSxDQUFYOztBQUNBLGNBQUltckIsU0FBUyxHQUFHLzRCLEtBQUssQ0FBQ200Qix5QkFBTixFQUFoQjs7QUFDQSxjQUFJcEosR0FBRyxHQUFHdmlCLDREQUFLLENBQUN1c0IsU0FBRCxFQUFZLCtCQUFaLENBQWY7QUFDQSxjQUFJYSxVQUFVLEdBQUtELGNBQWMsQ0FBQzdNLFdBQWYsS0FBK0I5c0IsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQytDLFFBQWhFLElBQTRFK3JCLGNBQWMsQ0FBQy9yQixRQUFmLEtBQTRCNU4sS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQytDLFFBQTVKO0FBRUFtaEIsYUFBRyxDQUFDL2tCLEdBQUosR0FBVWdLLElBQVY7QUFDQSthLGFBQUcsQ0FBQ3pDLEdBQUosR0FBVSxFQUFWO0FBQ0F5QyxhQUFHLENBQUN0aUIsS0FBSixDQUFVQyxPQUFWLEdBQW9CLE9BQXBCOztBQUVBLGNBQUlrdEIsVUFBSixFQUFnQjtBQUNkMWQsMkVBQVEsQ0FBQzZjLFNBQUQsRUFBWSwrQkFBWixDQUFSO0FBQ0Q7O0FBRUR2c0Isc0VBQUssQ0FBQ3VzQixTQUFELEVBQVksaUNBQVosQ0FBTCxDQUFvRC9pQixTQUFwRCxHQUFnRTRqQixVQUFVLEdBQUcsS0FBSCxHQUFXLEVBQXJGO0FBQ0FwdEIsc0VBQUssQ0FBQ3VzQixTQUFELEVBQVksZ0NBQVosQ0FBTCxDQUFtRC9pQixTQUFuRCxHQUErRCxxQ0FBcUNoVyxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDZ0MsV0FBakMsQ0FBNkMrQyxXQUE3QyxDQUF5RHNiLElBQTlGLEdBQXFHLG1DQUFyRyxHQUEySXlPLGNBQWMsQ0FBQ3pPLElBQTFKLEdBQWlLLFNBQWhPO0FBQ0ExZSxzRUFBSyxDQUFDdXNCLFNBQUQsRUFBWSxrQ0FBWixDQUFMLENBQXFEL2lCLFNBQXJELEdBQWlFLHVDQUF1Q2hXLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNnQyxXQUFqQyxDQUE2QytDLFdBQTdDLENBQXlEd2IsTUFBaEcsR0FBeUcscUNBQXpHLEdBQWlKdU8sY0FBYyxDQUFDdk8sTUFBaEssR0FBeUssU0FBMU87QUFFQXNPLG1CQUFTLENBQUNydEIsV0FBVixDQUFzQjBzQixTQUF0QjtBQUNELFNBbkJRLENBQVQsQ0FSb0wsQ0E2QnBMO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDRDtBQUNGLEtBcERRLENBQVQ7O0FBc0RBLFFBQUloQixPQUFPLElBQUksQ0FBQzliLCtEQUFRLENBQUM0YyxhQUFELEVBQWdCLFlBQWhCLENBQXhCLEVBQXVEO0FBQ3JEM2MscUVBQVEsQ0FBQzJjLGFBQUQsRUFBZ0IsWUFBaEIsQ0FBUjtBQUNEO0FBQ0YsR0F2SUQ7O0FBeUlBLE9BQUtnQixvQkFBTCxHQUE0QixVQUFVQyxRQUFWLEVBQW9CO0FBQzlDLFFBQUk5NUIsS0FBSyxHQUFHLElBQVo7O0FBQ0EsUUFBSTYzQixjQUFjLEdBQUc3M0IsS0FBSyxDQUFDNjNCLGNBQU4sRUFBckIsQ0FGOEMsQ0FHOUM7OztBQUNBLFFBQUl6WCxLQUFLLEdBQUd5WCxjQUFjLENBQUN6WCxLQUEzQjtBQUNBLFFBQUk5SixJQUFJLEdBQUd1aEIsY0FBYyxDQUFDdmhCLElBQTFCO0FBQ0EsUUFBSXdoQixPQUFPLEdBQUdELGNBQWMsQ0FBQ0MsT0FBN0I7QUFDQSxRQUFJYyxhQUFhLEdBQUc1NEIsS0FBSyxDQUFDNkssUUFBTixDQUFld3NCLGFBQW5DO0FBQ0EsUUFBSXdCLGFBQWEsR0FBR3JzQiw0REFBSyxDQUFDeE0sS0FBSyxDQUFDNkssUUFBTixDQUFlQyxTQUFoQixFQUEyQixnQ0FBM0IsQ0FBekI7QUFDQSxRQUFJaXRCLE9BQU8sR0FBR0YsY0FBYyxDQUFDRSxPQUE3Qjs7QUFFQSxRQUFJYyxhQUFhLEtBQUssSUFBdEIsRUFBNEI7QUFDMUI3NEIsV0FBSyxDQUFDODRCLG9CQUFOOztBQUVBNWMscUVBQVEsQ0FBQ2xjLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBaEIsRUFBMkIsc0JBQTNCLENBQVI7QUFFQSxVQUFJaXVCLFNBQVMsR0FBRzd4QixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBaEI7QUFDQSxVQUFJNnhCLGFBQWEsR0FBRzl4QixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBcEI7QUFDQSxVQUFJOHhCLFdBQVcsR0FBRy94QixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBbEI7QUFDQSxVQUFJK3hCLE1BQU0sR0FBR2h5QixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBYjtBQUNBLFVBQUlneUIsZ0JBQWdCLEdBQUdqeUIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXZCO0FBQ0EsVUFBSWl5QixhQUFhLEdBQUdseUIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXBCO0FBQ0EsVUFBSWt5QixTQUFTLEdBQUdueUIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQWhCO0FBQ0EsVUFBSW15QixhQUFhLEdBQUdweUIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXBCO0FBQ0EsVUFBSW95QixlQUFlLEdBQUdyeUIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXRCOztBQUNBLFVBQUlpeEIsaUJBQWlCLEdBQUdwNEIsS0FBSyxDQUFDMDRCLHlCQUFOLEVBQXhCOztBQUNBLFVBQUkzSixHQUFHLEdBQUd2aUIsNERBQUssQ0FBQzRyQixpQkFBRCxFQUFvQixnQ0FBcEIsQ0FBZjtBQUVBVyxlQUFTLENBQUMzc0IsWUFBVixDQUF1QixPQUF2QixFQUFnQywrQkFBaEM7QUFDQTZzQixpQkFBVyxDQUFDN3NCLFlBQVosQ0FBeUIsT0FBekIsRUFBa0Msa0NBQWxDO0FBQ0E4c0IsWUFBTSxDQUFDOXNCLFlBQVAsQ0FBb0IsT0FBcEIsRUFBNkIsNEJBQTdCO0FBQ0E0c0IsbUJBQWEsQ0FBQzVzQixZQUFkLENBQTJCLE9BQTNCLEVBQW9DLG9DQUFwQztBQUNBK3NCLHNCQUFnQixDQUFDL3NCLFlBQWpCLENBQThCLE9BQTlCLEVBQXVDLHVDQUF2QztBQUNBZ3RCLG1CQUFhLENBQUNodEIsWUFBZCxDQUEyQixPQUEzQixFQUFvQyxvQ0FBcEM7QUFDQWl0QixlQUFTLENBQUNqdEIsWUFBVixDQUF1QixPQUF2QixFQUFnQyx1Q0FBaEM7QUFDQWt0QixtQkFBYSxDQUFDbHRCLFlBQWQsQ0FBMkIsT0FBM0IsRUFBb0MsMkNBQXBDO0FBQ0FtdEIscUJBQWUsQ0FBQ250QixZQUFoQixDQUE2QixPQUE3QixFQUFzQyw2Q0FBdEM7QUFFQWdzQix1QkFBaUIsQ0FBQ2hzQixZQUFsQixDQUErQixPQUEvQixFQUF3QyxpQ0FBeEMsRUEzQjBCLENBNkIxQjs7QUFDQThzQixZQUFNLENBQUNsakIsU0FBUCxHQUFtQjhoQixPQUFuQjtBQUVBa0IsbUJBQWEsQ0FBQzNzQixXQUFkLENBQTBCNHNCLFdBQTFCO0FBQ0FELG1CQUFhLENBQUMzc0IsV0FBZCxDQUEwQjZzQixNQUExQjtBQUVBMXNCLGtFQUFLLENBQUM0ckIsaUJBQUQsRUFBb0IsaUNBQXBCLENBQUwsQ0FBNERwaUIsU0FBNUQsR0FBd0UsSUFBeEU7QUFDQXhKLGtFQUFLLENBQUM0ckIsaUJBQUQsRUFBb0IsbUNBQXBCLENBQUwsQ0FBOERwaUIsU0FBOUQsR0FBMEUsUUFBUThqQixRQUFRLENBQUNDLHdCQUEzRjtBQUVBaEwsU0FBRyxDQUFDL2tCLEdBQUosR0FBVSxFQUFWO0FBQ0Era0IsU0FBRyxDQUFDekMsR0FBSixHQUFVLEVBQVY7QUFDQXlDLFNBQUcsQ0FBQ3RpQixLQUFKLENBQVVDLE9BQVYsR0FBb0IsT0FBcEI7QUFFQTRzQixtQkFBYSxDQUFDdGpCLFNBQWQsR0FBMEJoVyxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDZ0MsV0FBakMsQ0FBNkMrQyxXQUE3QyxDQUF5RHNiLElBQW5GO0FBQ0FxTyxxQkFBZSxDQUFDdmpCLFNBQWhCLEdBQTRCaFcsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ2dDLFdBQWpDLENBQTZDK0MsV0FBN0MsQ0FBeUR3YixNQUFyRjtBQUVBaU8sZUFBUyxDQUFDaHRCLFdBQVYsQ0FBc0JpdEIsYUFBdEI7QUFDQUQsZUFBUyxDQUFDaHRCLFdBQVYsQ0FBc0JrdEIsZUFBdEI7QUFDQUgsbUJBQWEsQ0FBQy9zQixXQUFkLENBQTBCK3JCLGlCQUExQjtBQUNBZSxzQkFBZ0IsQ0FBQzlzQixXQUFqQixDQUE2Qmd0QixTQUE3QjtBQUNBRixzQkFBZ0IsQ0FBQzlzQixXQUFqQixDQUE2QitzQixhQUE3QjtBQUVBTCxlQUFTLENBQUMxc0IsV0FBVixDQUFzQjJzQixhQUF0QjtBQUNBRCxlQUFTLENBQUMxc0IsV0FBVixDQUFzQjhzQixnQkFBdEI7QUFFQU4sbUJBQWEsR0FBR0QsYUFBYSxDQUFDdnNCLFdBQWQsQ0FBMEIwc0IsU0FBMUIsQ0FBaEI7QUFFQW4wQixnQkFBVSxDQUFDLFlBQVk7QUFDckJzWCx1RUFBUSxDQUFDMGMsYUFBRCxFQUFnQixTQUFoQixDQUFSO0FBQ0QsT0FGUyxFQUVQLEdBRk8sQ0FBVjtBQUdELEtBM0RELE1BMkRPO0FBQ0wsVUFBSSxDQUFDM2MsK0RBQVEsQ0FBQzJjLGFBQUQsRUFBZ0IsU0FBaEIsQ0FBYixFQUF5QztBQUN2QzFjLHVFQUFRLENBQUMwYyxhQUFELEVBQWdCLFNBQWhCLENBQVI7QUFDRDs7QUFDRHBzQixrRUFBSyxDQUFDeE0sS0FBSyxDQUFDNkssUUFBTixDQUFlQyxTQUFoQixFQUEyQixtQ0FBM0IsQ0FBTCxDQUFxRWtMLFNBQXJFLEdBQWlGb0ssS0FBakY7QUFDQTVULGtFQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWhCLEVBQTJCLDZCQUEzQixDQUFMLENBQStEa0wsU0FBL0QsR0FBMkVNLElBQTNFO0FBQ0Q7O0FBRUQ5QixvRUFBUyxDQUFDeFUsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQytFLFdBQWpDLENBQTZDRyxlQUE5QyxFQUErRCxVQUFVeXBCLE9BQVYsRUFBbUI7QUFDekYsVUFBSSxDQUFDQSxPQUFPLENBQUMxTSxXQUFSLEtBQXdCOXNCLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUMrQyxRQUF6RCxJQUFxRTRyQixPQUFPLENBQUM1ckIsUUFBUixLQUFxQjVOLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUMrQyxRQUE1SCxLQUF5SSxPQUFPNHJCLE9BQU8sQ0FBQ0MsUUFBZixLQUE0QixXQUF6SyxFQUFzTDtBQUNwTCxZQUFJQyxTQUFTLEdBQUdsdEIsNERBQUssQ0FBQ3FzQixhQUFELEVBQWdCLHFDQUFoQixDQUFyQjtBQUNBYSxpQkFBUyxDQUFDMWpCLFNBQVYsR0FBc0IsRUFBdEI7QUFFQXhKLG9FQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWhCLEVBQTJCLG1DQUEzQixDQUFMLENBQXFFa0wsU0FBckUsR0FBaUYsRUFBakY7QUFDQXhKLG9FQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWhCLEVBQTJCLDZCQUEzQixDQUFMLENBQStEa0wsU0FBL0QsR0FBMkU4aEIsT0FBM0U7QUFDQTViLHVFQUFRLENBQUMxUCw0REFBSyxDQUFDeE0sS0FBSyxDQUFDNkssUUFBTixDQUFlQyxTQUFoQixFQUEyQixxQ0FBM0IsQ0FBTixFQUF5RSxpQ0FBekUsQ0FBUjtBQUVBMEosd0VBQVMsQ0FBQ2dsQixPQUFPLENBQUNDLFFBQVQsRUFBbUIsVUFBVUUsY0FBVixFQUEwQjtBQUNwRCxjQUFJM2xCLElBQUksR0FBR2hVLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3Qm9JLDRCQUF4QixDQUFxRHNtQixjQUFjLENBQUMvckIsUUFBcEUsQ0FBWDs7QUFDQSxjQUFJbXJCLFNBQVMsR0FBRy80QixLQUFLLENBQUMwNEIseUJBQU4sRUFBaEI7O0FBQ0EsY0FBSTNKLEdBQUcsR0FBR3ZpQiw0REFBSyxDQUFDdXNCLFNBQUQsRUFBWSxnQ0FBWixDQUFmO0FBQ0EsY0FBSWEsVUFBVSxHQUFLRCxjQUFjLENBQUM3TSxXQUFmLEtBQStCOXNCLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUMrQyxRQUFoRSxJQUE0RStyQixjQUFjLENBQUMvckIsUUFBZixLQUE0QjVOLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUMrQyxRQUE1Sjs7QUFFQSxjQUFJZ3NCLFVBQUosRUFBZ0I7QUFDZDFkLDJFQUFRLENBQUM2YyxTQUFELEVBQVksZ0NBQVosQ0FBUjtBQUNEOztBQUVEaEssYUFBRyxDQUFDL2tCLEdBQUosR0FBVWdLLElBQVY7QUFDQSthLGFBQUcsQ0FBQ3pDLEdBQUosR0FBVSxFQUFWO0FBQ0F5QyxhQUFHLENBQUN0aUIsS0FBSixDQUFVQyxPQUFWLEdBQW9CLE9BQXBCO0FBRUFGLHNFQUFLLENBQUN1c0IsU0FBRCxFQUFZLGtDQUFaLENBQUwsQ0FBcUQvaUIsU0FBckQsR0FBaUU0akIsVUFBVSxHQUFHLEtBQUgsR0FBVyxFQUF0RjtBQUNBcHRCLHNFQUFLLENBQUN1c0IsU0FBRCxFQUFZLGlDQUFaLENBQUwsQ0FBb0QvaUIsU0FBcEQsR0FBZ0UscUNBQXFDaFcsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ2dDLFdBQWpDLENBQTZDK0MsV0FBN0MsQ0FBeURzYixJQUE5RixHQUFxRyxtQ0FBckcsR0FBMkl5TyxjQUFjLENBQUN6TyxJQUExSixHQUFpSyxTQUFqTztBQUNBMWUsc0VBQUssQ0FBQ3VzQixTQUFELEVBQVksbUNBQVosQ0FBTCxDQUFzRC9pQixTQUF0RCxHQUFrRSx1Q0FBdUNoVyxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDZ0MsV0FBakMsQ0FBNkMrQyxXQUE3QyxDQUF5RHdiLE1BQWhHLEdBQXlHLHFDQUF6RyxHQUFpSnVPLGNBQWMsQ0FBQ3ZPLE1BQWhLLEdBQXlLLEdBQXpLLEdBQStLME8sUUFBUSxDQUFDQyx3QkFBeEwsR0FBbU4sU0FBclI7QUFFQUwsbUJBQVMsQ0FBQ3J0QixXQUFWLENBQXNCMHNCLFNBQXRCO0FBQ0QsU0FuQlEsQ0FBVDtBQW9CRDtBQUNGLEtBOUJRLENBQVQ7O0FBZ0NBLFFBQUloQixPQUFPLElBQUksQ0FBQzliLCtEQUFRLENBQUM0YyxhQUFELEVBQWdCLFlBQWhCLENBQXhCLEVBQXVEO0FBQ3JEM2MscUVBQVEsQ0FBQzJjLGFBQUQsRUFBZ0IsWUFBaEIsQ0FBUjtBQUNEO0FBQ0YsR0FqSEQ7O0FBbUhBLE9BQUttQixlQUFMLEdBQXVCLFlBQVk7QUFDakMsUUFBSWg2QixLQUFLLEdBQUcsSUFBWjs7QUFDQSxRQUFJNjNCLGNBQWMsR0FBRzczQixLQUFLLENBQUM2M0IsY0FBTixFQUFyQixDQUZpQyxDQUdqQzs7O0FBQ0EsUUFBSXpYLEtBQUssR0FBR3lYLGNBQWMsQ0FBQ3pYLEtBQTNCO0FBQ0EsUUFBSTlKLElBQUksR0FBR3VoQixjQUFjLENBQUN2aEIsSUFBMUI7QUFDQSxRQUFJc2lCLGFBQWEsR0FBRzU0QixLQUFLLENBQUM2SyxRQUFOLENBQWV3c0IsYUFBbkM7QUFDQSxRQUFJNEMsYUFBYSxHQUFHenRCLDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWhCLEVBQTJCLGdDQUEzQixDQUF6QjtBQUNBLFFBQUlpdEIsT0FBTyxHQUFHRixjQUFjLENBQUNFLE9BQTdCOztBQUVBLFFBQUlrQyxhQUFhLEtBQUssSUFBdEIsRUFBNEI7QUFDMUJqNkIsV0FBSyxDQUFDODRCLG9CQUFOOztBQUVBLFVBQUlDLFNBQVMsR0FBRzd4QixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBaEI7QUFDQSxVQUFJNnhCLGFBQWEsR0FBRzl4QixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBcEI7QUFDQSxVQUFJOHhCLFdBQVcsR0FBRy94QixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBbEI7QUFDQSxVQUFJK3hCLE1BQU0sR0FBR2h5QixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBYjtBQUNBLFVBQUlneUIsZ0JBQWdCLEdBQUdqeUIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXZCO0FBQ0EsVUFBSSt5QixrQkFBa0IsR0FBR2h6QixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBekI7QUFDQSxVQUFJZ3pCLHNCQUFzQixHQUFHanpCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUE3QjtBQUNBLFVBQUlpekIsMkJBQTJCLEdBQUdsekIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQWxDO0FBQ0EsVUFBSWt6QiwyQkFBMkIsR0FBR256QixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBbEM7QUFDQSxVQUFJbXpCLHNCQUFzQixHQUFHcHpCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUE3QjtBQUNBLFVBQUlvekIsMkJBQTJCLEdBQUdyekIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQWxDO0FBQ0EsVUFBSXF6QiwyQkFBMkIsR0FBR3R6QixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBbEM7QUFDQSxVQUFJc3pCLGlCQUFpQixHQUFHdnpCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUF4QjtBQUNBLFVBQUl1ekIsa0JBQWtCLEdBQUd4ekIsUUFBUSxDQUFDQyxhQUFULENBQXVCLE1BQXZCLENBQXpCO0FBRUE0eEIsZUFBUyxDQUFDM3NCLFlBQVYsQ0FBdUIsT0FBdkIsRUFBZ0MsK0JBQWhDO0FBQ0E2c0IsaUJBQVcsQ0FBQzdzQixZQUFaLENBQXlCLE9BQXpCLEVBQWtDLGtDQUFsQztBQUNBOHNCLFlBQU0sQ0FBQzlzQixZQUFQLENBQW9CLE9BQXBCLEVBQTZCLDRCQUE3QjtBQUNBNHNCLG1CQUFhLENBQUM1c0IsWUFBZCxDQUEyQixPQUEzQixFQUFvQyxvQ0FBcEM7QUFDQStzQixzQkFBZ0IsQ0FBQy9zQixZQUFqQixDQUE4QixPQUE5QixFQUF1Qyx1Q0FBdkM7QUFFQTh0Qix3QkFBa0IsQ0FBQzl0QixZQUFuQixDQUFnQyxPQUFoQyxFQUF5Qyw0QkFBekM7QUFDQSt0Qiw0QkFBc0IsQ0FBQy90QixZQUF2QixDQUFvQyxPQUFwQyxFQUE2QyxpQ0FBN0M7QUFDQWd1QixpQ0FBMkIsQ0FBQ2h1QixZQUE1QixDQUF5QyxPQUF6QyxFQUFrRCxrQ0FBbEQ7QUFDQWl1QixpQ0FBMkIsQ0FBQ2p1QixZQUE1QixDQUF5QyxPQUF6QyxFQUFrRCxrQ0FBbEQ7QUFFQWt1Qiw0QkFBc0IsQ0FBQ2x1QixZQUF2QixDQUFvQyxPQUFwQyxFQUE2QyxpQ0FBN0M7QUFDQW11QixpQ0FBMkIsQ0FBQ251QixZQUE1QixDQUF5QyxPQUF6QyxFQUFrRCxrQ0FBbEQ7QUFDQW91QixpQ0FBMkIsQ0FBQ3B1QixZQUE1QixDQUF5QyxPQUF6QyxFQUFrRCxrQ0FBbEQ7QUFFQXF1Qix1QkFBaUIsQ0FBQ3J1QixZQUFsQixDQUErQixPQUEvQixFQUF3QyxpQ0FBeEM7QUFDQXN1Qix3QkFBa0IsQ0FBQ3R1QixZQUFuQixDQUFnQyxPQUFoQyxFQUF5QyxrQ0FBekM7QUFFQTZzQixpQkFBVyxDQUFDampCLFNBQVosR0FBd0JvSyxLQUF4QjtBQUNBOFksWUFBTSxDQUFDbGpCLFNBQVAsR0FBbUJNLElBQW5CO0FBRUE4akIsaUNBQTJCLENBQUNwa0IsU0FBNUIsR0FBd0NoVyxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDZ0MsV0FBakMsQ0FBNkNtckIsZUFBN0MsQ0FBNkQyQyxTQUFyRztBQUNBTixpQ0FBMkIsQ0FBQ3JrQixTQUE1QixHQUF3QyxJQUF4QztBQUNBbWtCLDRCQUFzQixDQUFDOXRCLFdBQXZCLENBQW1DK3RCLDJCQUFuQztBQUNBRCw0QkFBc0IsQ0FBQzl0QixXQUF2QixDQUFtQ2d1QiwyQkFBbkM7QUFDQUgsd0JBQWtCLENBQUM3dEIsV0FBbkIsQ0FBK0I4dEIsc0JBQS9CO0FBRUFJLGlDQUEyQixDQUFDdmtCLFNBQTVCLEdBQXdDaFcsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ2dDLFdBQWpDLENBQTZDbXJCLGVBQTdDLENBQTZENEMsU0FBckc7QUFDQUosaUNBQTJCLENBQUN4a0IsU0FBNUIsR0FBd0MsSUFBeEM7QUFDQXNrQiw0QkFBc0IsQ0FBQ2p1QixXQUF2QixDQUFtQ2t1QiwyQkFBbkM7QUFDQUQsNEJBQXNCLENBQUNqdUIsV0FBdkIsQ0FBbUNtdUIsMkJBQW5DO0FBQ0FOLHdCQUFrQixDQUFDN3RCLFdBQW5CLENBQStCaXVCLHNCQUEvQjtBQUVBSSx3QkFBa0IsQ0FBQzFrQixTQUFuQixHQUErQixJQUEvQjtBQUNBeWtCLHVCQUFpQixDQUFDcHVCLFdBQWxCLENBQThCcXVCLGtCQUE5QjtBQUVBdkIsc0JBQWdCLENBQUM5c0IsV0FBakIsQ0FBNkI2dEIsa0JBQTdCO0FBQ0FmLHNCQUFnQixDQUFDOXNCLFdBQWpCLENBQTZCb3VCLGlCQUE3QjtBQUVBekIsbUJBQWEsQ0FBQzNzQixXQUFkLENBQTBCNHNCLFdBQTFCO0FBQ0FELG1CQUFhLENBQUMzc0IsV0FBZCxDQUEwQjZzQixNQUExQjtBQUVBSCxlQUFTLENBQUMxc0IsV0FBVixDQUFzQjJzQixhQUF0QjtBQUNBRCxlQUFTLENBQUMxc0IsV0FBVixDQUFzQjhzQixnQkFBdEI7QUFFQWMsbUJBQWEsR0FBR3JCLGFBQWEsQ0FBQ3ZzQixXQUFkLENBQTBCMHNCLFNBQTFCLENBQWhCO0FBRUFuMEIsZ0JBQVUsQ0FBQyxZQUFZO0FBQ3JCc1gsdUVBQVEsQ0FBQzBjLGFBQUQsRUFBZ0IsU0FBaEIsQ0FBUjtBQUNELE9BRlMsRUFFUCxHQUZPLENBQVY7QUFHRCxLQXBFRCxNQW9FTztBQUNMLFVBQUksQ0FBQzNjLCtEQUFRLENBQUMyYyxhQUFELEVBQWdCLFNBQWhCLENBQWIsRUFBeUM7QUFDdkMxYyx1RUFBUSxDQUFDMGMsYUFBRCxFQUFnQixTQUFoQixDQUFSO0FBQ0Q7O0FBQ0Rwc0Isa0VBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBaEIsRUFBMkIsbUNBQTNCLENBQUwsQ0FBcUVrTCxTQUFyRSxHQUFpRm9LLEtBQWpGO0FBQ0E1VCxrRUFBSyxDQUFDeE0sS0FBSyxDQUFDNkssUUFBTixDQUFlQyxTQUFoQixFQUEyQiw2QkFBM0IsQ0FBTCxDQUErRGtMLFNBQS9ELEdBQTJFTSxJQUEzRTtBQUNEOztBQUVEOUIsb0VBQVMsQ0FBQ3hVLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUMrRSxXQUFqQyxDQUE2Q0csZUFBOUMsRUFBK0QsVUFBVXlwQixPQUFWLEVBQW1CO0FBQ3pGLFVBQUlBLE9BQU8sQ0FBQzFNLFdBQVIsS0FBd0I5c0IsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQytDLFFBQXpELElBQXFFNHJCLE9BQU8sQ0FBQzVyQixRQUFSLEtBQXFCNU4sS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQytDLFFBQS9ILEVBQXlJO0FBQ3ZJLFlBQUlndEIsU0FBUyxHQUFHcHVCLDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWhCLEVBQTJCLG1DQUEzQixDQUFMLENBQXFFa0wsU0FBckY7QUFDQSxZQUFJMmtCLFNBQVMsR0FBR251Qiw0REFBSyxDQUFDeE0sS0FBSyxDQUFDNkssUUFBTixDQUFlQyxTQUFoQixFQUEyQixtQ0FBM0IsQ0FBTCxDQUFxRWtMLFNBQXJGO0FBQ0EsWUFBSWtWLElBQUksR0FBRzFlLDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWhCLEVBQTJCLG1DQUEzQixDQUFoQjtBQUNBLFlBQUkyZ0IsTUFBTSxHQUFJK04sT0FBTyxDQUFDL04sTUFBUixHQUFpQixDQUFsQixHQUF1QixNQUF2QixHQUFpQytOLE9BQU8sQ0FBQy9OLE1BQVIsR0FBaUIsQ0FBakIsR0FBcUIsSUFBckIsR0FBNEIsTUFBMUU7QUFDQSxZQUFJb1AsU0FBUyxHQUFHckIsT0FBTyxDQUFDdE8sSUFBeEI7O0FBRUEsWUFBSTBQLFNBQVMsS0FBSzczQixNQUFNLENBQUN5MkIsT0FBTyxDQUFDcE8sTUFBVCxDQUFwQixJQUF3Q3JvQixNQUFNLENBQUN5MkIsT0FBTyxDQUFDcE8sTUFBVCxDQUFOLEtBQTJCdVAsU0FBdkUsRUFBa0Y7QUFDaEZudUIsc0VBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBaEIsRUFBMkIsbUNBQTNCLENBQUwsQ0FBcUVrTCxTQUFyRSxHQUFpRjJrQixTQUFqRjtBQUNEOztBQUVEbnVCLG9FQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWhCLEVBQTJCLG1DQUEzQixDQUFMLENBQXFFa0wsU0FBckUsR0FBaUZ3akIsT0FBTyxDQUFDcE8sTUFBekY7QUFFQWhQLDBFQUFXLENBQUM4TyxJQUFELEVBQU8sZUFBUCxDQUFYO0FBQ0E5TywwRUFBVyxDQUFDOE8sSUFBRCxFQUFPLGlCQUFQLENBQVg7QUFDQTlPLDBFQUFXLENBQUM4TyxJQUFELEVBQU8saUJBQVAsQ0FBWDtBQUVBaFAsdUVBQVEsQ0FBQ2dQLElBQUQsRUFBTyxnQkFBZ0JPLE1BQXZCLENBQVI7QUFFQVAsWUFBSSxDQUFDbFYsU0FBTCxHQUFpQjZrQixTQUFqQjtBQUNEO0FBQ0YsS0F0QlEsQ0FBVDs7QUF3QkEsUUFBSTlDLE9BQU8sSUFBSSxDQUFDOWIsK0RBQVEsQ0FBQ2dlLGFBQUQsRUFBZ0IsWUFBaEIsQ0FBeEIsRUFBdUQ7QUFDckQvZCxxRUFBUSxDQUFDK2QsYUFBRCxFQUFnQixZQUFoQixDQUFSO0FBQ0Q7QUFDRixHQWpIRDs7QUFtSEEsT0FBS2EsbUJBQUwsR0FBMkIsWUFBWTtBQUNyQyxRQUFJOTZCLEtBQUssR0FBRyxJQUFaOztBQUNBLFFBQUlxWSxJQUFJLEdBQUdELDZDQUFNLENBQUNwWSxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDcUQsV0FBakMsQ0FBNkNHLGlCQUE3QyxDQUErRDhmLGNBQWhFLENBQU4sQ0FBc0Y5VixJQUF0RixDQUEyRkQsNkNBQU0sRUFBakcsQ0FBWDtBQUNBLFFBQUlnSSxLQUFLLEdBQUcsYUFBWjtBQUNBLFFBQUl3WSxhQUFhLEdBQUc1NEIsS0FBSyxDQUFDNkssUUFBTixDQUFld3NCLGFBQW5DOztBQUNBLFFBQUkvZ0IsSUFBSSxHQUFHdFcsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCeUgsY0FBeEIsQ0FBdUMwRiw2Q0FBTSxDQUFDekYsUUFBUCxDQUFnQjBGLElBQWhCLENBQXZDLENBQVg7O0FBRUEsUUFBSUEsSUFBSSxHQUFHLENBQVAsSUFBWXJZLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNxRCxXQUFqQyxDQUE2Q0ksYUFBN0MsQ0FBMkRvRyxVQUEzRCxLQUEwRSxDQUExRixFQUE2RjtBQUMzRjBMLFdBQUssR0FBRyxVQUFSO0FBQ0E5SixVQUFJLEdBQUcsRUFBUDtBQUNELEtBSEQsTUFHTyxJQUFJdFcsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3FELFdBQWpDLENBQTZDSSxhQUE3QyxDQUEyRG9HLFVBQTNELEdBQXdFLENBQXhFLElBQTZFMVUsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3FELFdBQWpDLENBQTZDSSxhQUE3QyxDQUEyRG9HLFVBQTNELEdBQXdFLENBQXpKLEVBQTRKO0FBQ2pLMkQsVUFBSSxHQUFHRCw2Q0FBTSxDQUFDcFksS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3FELFdBQWpDLENBQTZDSSxhQUE3QyxDQUEyRDhmLFlBQTVELENBQU4sQ0FBZ0YvVixJQUFoRixDQUFxRkQsNkNBQU0sRUFBM0YsQ0FBUDtBQUNBZ0ksV0FBSyxHQUFHLFNBQVI7QUFDQTlKLFVBQUksR0FBR3RXLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QnlILGNBQXhCLENBQXVDMEYsNkNBQU0sQ0FBQ3pGLFFBQVAsQ0FBZ0IwRixJQUFoQixDQUF2QyxDQUFQO0FBQ0QsS0FKTSxNQUlBLElBQUlyWSxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDcUQsV0FBakMsQ0FBNkNJLGFBQTdDLENBQTJEb0csVUFBM0QsS0FBMEUsQ0FBOUUsRUFBaUY7QUFDdEYwTCxXQUFLLEdBQUcsV0FBUjtBQUNBOUosVUFBSSxHQUFHLEVBQVA7QUFDRCxLQUhNLE1BR0EsSUFBSXRXLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNxRCxXQUFqQyxDQUE2Q0ksYUFBN0MsQ0FBMkRvRyxVQUEzRCxJQUF5RSxDQUE3RSxFQUFnRjtBQUNyRjBMLFdBQUssR0FBRyxVQUFSO0FBQ0E5SixVQUFJLEdBQUcsRUFBUDtBQUNEOztBQUVELFFBQUk5Siw0REFBSyxDQUFDeE0sS0FBSyxDQUFDNkssUUFBTixDQUFlQyxTQUFoQixFQUEyQiw2QkFBM0IsQ0FBTCxLQUFtRSxJQUF2RSxFQUE2RTtBQUMzRTlLLFdBQUssQ0FBQzg0QixvQkFBTjs7QUFFQSxVQUFJaUMsWUFBWSxHQUFHN3pCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUFuQjtBQUNBLFVBQUk2ekIsZ0JBQWdCLEdBQUc5ekIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXZCO0FBQ0EsVUFBSTh6QixjQUFjLEdBQUcvekIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXJCO0FBQ0EsVUFBSSt6QixTQUFTLEdBQUdoMEIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQWhCO0FBQ0EsVUFBSWcwQixzQkFBc0IsR0FBR2owQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBN0I7QUFDQSxVQUFJaTBCLGVBQWUsR0FBR2wwQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsR0FBdkIsQ0FBdEI7QUFFQTR6QixrQkFBWSxDQUFDM3VCLFlBQWIsQ0FBMEIsT0FBMUIsRUFBbUMsNEJBQW5DO0FBQ0E2dUIsb0JBQWMsQ0FBQzd1QixZQUFmLENBQTRCLE9BQTVCLEVBQXFDLCtCQUFyQztBQUNBOHVCLGVBQVMsQ0FBQzl1QixZQUFWLENBQXVCLE9BQXZCLEVBQWdDLHlCQUFoQztBQUNBNHVCLHNCQUFnQixDQUFDNXVCLFlBQWpCLENBQThCLE9BQTlCLEVBQXVDLGlDQUF2QztBQUNBK3VCLDRCQUFzQixDQUFDL3VCLFlBQXZCLENBQW9DLE9BQXBDLEVBQTZDLG1DQUE3QztBQUNBZ3ZCLHFCQUFlLENBQUNodkIsWUFBaEIsQ0FBNkIsT0FBN0IsRUFBc0MsMkJBQXRDO0FBRUE2dUIsb0JBQWMsQ0FBQ2psQixTQUFmLEdBQTJCb0ssS0FBM0I7QUFDQThhLGVBQVMsQ0FBQ2xsQixTQUFWLEdBQXNCTSxJQUF0QjtBQUNBOGtCLHFCQUFlLENBQUNwbEIsU0FBaEIsR0FBNEJoVyxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDZ0MsV0FBakMsQ0FBNkMyQyxXQUE3QyxDQUF5RDBXLEtBQXJGO0FBRUE4VSxzQkFBZ0IsQ0FBQzN1QixXQUFqQixDQUE2QjR1QixjQUE3QjtBQUNBRCxzQkFBZ0IsQ0FBQzN1QixXQUFqQixDQUE2QjZ1QixTQUE3QjtBQUVBQyw0QkFBc0IsQ0FBQzl1QixXQUF2QixDQUFtQyt1QixlQUFuQztBQUNBTCxrQkFBWSxDQUFDMXVCLFdBQWIsQ0FBeUIydUIsZ0JBQXpCO0FBQ0FELGtCQUFZLENBQUMxdUIsV0FBYixDQUF5Qjh1QixzQkFBekI7QUFFQXZDLG1CQUFhLENBQUN2c0IsV0FBZCxDQUEwQjB1QixZQUExQjtBQUVBbjJCLGdCQUFVLENBQUMsWUFBWTtBQUNyQnNYLHVFQUFRLENBQUMwYyxhQUFELEVBQWdCLFNBQWhCLENBQVI7QUFDRCxPQUZTLEVBRVAsR0FGTyxDQUFWO0FBR0QsS0FqQ0QsTUFpQ087QUFDTCxVQUFJLENBQUMzYywrREFBUSxDQUFDMmMsYUFBRCxFQUFnQixTQUFoQixDQUFiLEVBQXlDO0FBQ3ZDMWMsdUVBQVEsQ0FBQzBjLGFBQUQsRUFBZ0IsU0FBaEIsQ0FBUjtBQUNEOztBQUNEcHNCLGtFQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWhCLEVBQTJCLGdDQUEzQixDQUFMLENBQWtFa0wsU0FBbEUsR0FBOEVvSyxLQUE5RTtBQUNBNVQsa0VBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBaEIsRUFBMkIsMEJBQTNCLENBQUwsQ0FBNERrTCxTQUE1RCxHQUF3RU0sSUFBeEU7QUFDRDtBQUNGLEdBOUREOztBQWdFQSxPQUFLd2lCLG9CQUFMLEdBQTRCLFlBQVk7QUFDdEMsUUFBSTk0QixLQUFLLEdBQUcsSUFBWjs7QUFDQSxRQUFJcTdCLDBCQUEwQixHQUFHN3VCLDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWhCLEVBQTJCLCtCQUEzQixDQUF0QztBQUNBLFFBQUl3d0Isa0JBQWtCLEdBQUc5dUIsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBaEIsRUFBMkIsNkJBQTNCLENBQTlCO0FBQ0EsUUFBSW12QixhQUFhLEdBQUd6dEIsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBaEIsRUFBMkIsZ0NBQTNCLENBQXpCO0FBQ0EsUUFBSXl3QixhQUFhLEdBQUcvdUIsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBaEIsRUFBMkIsZ0NBQTNCLENBQXpCO0FBRUFzUixzRUFBVyxDQUFDcGMsS0FBSyxDQUFDNkssUUFBTixDQUFlQyxTQUFoQixFQUEyQixxQkFBM0IsQ0FBWDtBQUNBc1Isc0VBQVcsQ0FBQ3BjLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBaEIsRUFBMkIsbUJBQTNCLENBQVg7QUFDQXNSLHNFQUFXLENBQUNwYyxLQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWhCLEVBQTJCLHNCQUEzQixDQUFYO0FBQ0FzUixzRUFBVyxDQUFDcGMsS0FBSyxDQUFDNkssUUFBTixDQUFlQyxTQUFoQixFQUEyQixzQkFBM0IsQ0FBWDs7QUFFQSxRQUFJdXdCLDBCQUEwQixLQUFLLElBQW5DLEVBQXlDO0FBQ3ZDak8sbUVBQU0sQ0FBQ2lPLDBCQUFELENBQU47QUFDRDs7QUFFRCxRQUFJQyxrQkFBa0IsS0FBSyxJQUEzQixFQUFpQztBQUMvQmxPLG1FQUFNLENBQUNrTyxrQkFBRCxDQUFOO0FBQ0Q7O0FBRUQsUUFBSXJCLGFBQWEsS0FBSyxJQUF0QixFQUE0QjtBQUMxQjdNLG1FQUFNLENBQUM2TSxhQUFELENBQU47QUFDRDs7QUFFRCxRQUFJc0IsYUFBYSxLQUFLLElBQXRCLEVBQTRCO0FBQzFCbk8sbUVBQU0sQ0FBQ21PLGFBQUQsQ0FBTjtBQUNEO0FBQ0YsR0EzQkQ7O0FBNkJBLE9BQUt6aEIsUUFBTCxHQUFnQixZQUFZO0FBQzFCLFFBQUk5WixLQUFLLEdBQUcsSUFBWjs7QUFFQSxRQUFJQSxLQUFLLENBQUM2SyxRQUFOLENBQWVvUCxjQUFuQixFQUFtQztBQUNqQzdQLGtCQUFZLENBQUNwSyxLQUFLLENBQUM2SyxRQUFOLENBQWVvUCxjQUFoQixDQUFaO0FBQ0Q7O0FBRURqYSxTQUFLLENBQUN3N0IsY0FBTjs7QUFFQXg3QixTQUFLLENBQUM2SyxRQUFOLENBQWU2TyxNQUFmLEdBQXdCLEtBQXhCO0FBQ0QsR0FWRDs7QUFZQSxPQUFLOGhCLGNBQUwsR0FBc0IsWUFBWTtBQUNoQyxRQUFJeDdCLEtBQUssR0FBRyxJQUFaOztBQUNBLFFBQUk0NEIsYUFBYSxHQUFHcHNCLDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWhCLEVBQTJCLFVBQTNCLENBQXpCO0FBQ0EsUUFBSXVILE1BQU0sR0FBRzdGLDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWhCLEVBQTJCLCtCQUEzQixDQUFsQjtBQUVBLFFBQUk4dEIsYUFBYSxLQUFLLElBQXRCLEVBQTRCeGMsa0VBQVcsQ0FBQ3djLGFBQUQsRUFBZ0IsU0FBaEIsQ0FBWDs7QUFFNUIsUUFBSXZtQixNQUFNLEtBQUssSUFBZixFQUFxQjtBQUNuQnpOLGdCQUFVLENBQUMsWUFBWTtBQUNyQndvQixxRUFBTSxDQUFDL2EsTUFBRCxDQUFOO0FBQ0QsT0FGUyxFQUVQLEdBRk8sQ0FBVjtBQUdEO0FBQ0YsR0FaRDs7QUFjQSxPQUFLOEgsZ0JBQUwsR0FBd0IsWUFBWTtBQUNsQyxRQUFJbmEsS0FBSyxHQUFHLElBQVo7O0FBRUEsUUFBSUEsS0FBSyxDQUFDNkssUUFBTixDQUFlb1AsY0FBbkIsRUFBbUM7QUFDakM3UCxrQkFBWSxDQUFDcEssS0FBSyxDQUFDNkssUUFBTixDQUFlb1AsY0FBaEIsQ0FBWjtBQUNEOztBQUVEamEsU0FBSyxDQUFDNkssUUFBTixDQUFlb1AsY0FBZixHQUFnQ3JWLFVBQVUsQ0FBQyxZQUFZO0FBQ3JENUUsV0FBSyxDQUFDeTdCLFlBQU4sQ0FBbUIsWUFBWTtBQUM3Qno3QixhQUFLLENBQUNtYSxnQkFBTjtBQUNELE9BRkQ7QUFHRCxLQUp5QyxFQUl2Q25hLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXlzQixrQkFKd0IsQ0FBMUM7QUFLRCxHQVpEOztBQWNBLE9BQUttRSxZQUFMLEdBQW9CLFVBQVV0eUIsUUFBVixFQUFvQjtBQUN0QyxRQUFJbkosS0FBSyxHQUFHLElBQVo7O0FBRUEsUUFBSUEsS0FBSyxDQUFDNkssUUFBTixDQUFlNk8sTUFBZixJQUF5QjFaLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNxRCxXQUFqQyxDQUE2Q0csaUJBQTdDLEtBQW1FLElBQTVGLElBQW9Hck8sS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3FELFdBQWpDLENBQTZDRyxpQkFBN0MsQ0FBK0RxRyxVQUEvRCxHQUE0RSxDQUFwTCxFQUF1TDtBQUNyTCxVQUFJLE9BQU8xVSxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDcUQsV0FBakMsQ0FBNkNHLGlCQUE3QyxDQUErRG9MLGFBQXRFLEtBQXdGLFNBQXhGLElBQXFHelosS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3FELFdBQWpDLENBQTZDRyxpQkFBN0MsQ0FBK0RvTCxhQUFwSyxJQUFxTCxPQUFPelosS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3FELFdBQWpDLENBQTZDRyxpQkFBN0MsQ0FBK0RrTCxLQUF0RSxLQUFnRixTQUFyUSxJQUFrUixDQUFDdlosS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3FELFdBQWpDLENBQTZDRyxpQkFBN0MsQ0FBK0RrTCxLQUF0VixFQUE2VjtBQUMzVnZaLGFBQUssQ0FBQzg2QixtQkFBTjs7QUFDQTN4QixnQkFBUTtBQUNULE9BSEQsTUFHTyxJQUFJbkosS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3FELFdBQWpDLENBQTZDSSxhQUE3QyxLQUErRCxJQUEvRCxJQUF1RXRPLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNxRCxXQUFqQyxDQUE2Q0ksYUFBN0MsQ0FBMkR3ckIsUUFBM0QsQ0FBb0UxNUIsSUFBcEUsS0FBNkUsU0FBeEosRUFBbUs7QUFDeEtKLGFBQUssQ0FBQ2c2QixlQUFOOztBQUNBN3dCLGdCQUFRO0FBQ1QsT0FITSxNQUdBLElBQUluSixLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDcUQsV0FBakMsQ0FBNkNJLGFBQTdDLEtBQStELElBQS9ELElBQXVFdE8sS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQ3FELFdBQWpDLENBQTZDSSxhQUE3QyxDQUEyRHdyQixRQUEzRCxDQUFvRTE1QixJQUFwRSxLQUE2RSxTQUF4SixFQUFtSztBQUN4S0osYUFBSyxDQUFDNjVCLG9CQUFOLENBQTJCNzVCLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNxRCxXQUFqQyxDQUE2Q0ksYUFBN0MsQ0FBMkR3ckIsUUFBdEY7O0FBQ0Ezd0IsZ0JBQVE7QUFDVCxPQUhNLE1BR0EsSUFBSW5KLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNxRCxXQUFqQyxDQUE2Q0UsZUFBN0MsS0FBaUUsSUFBckUsRUFBMkU7QUFDaEZwTyxhQUFLLENBQUMyNEIsb0JBQU47O0FBQ0F4dkIsZ0JBQVE7QUFDVCxPQUhNLE1BR0E7QUFDTG5KLGFBQUssQ0FBQzI0QixvQkFBTjtBQUNEO0FBQ0YsS0FoQkQsTUFnQk87QUFDTDM0QixXQUFLLENBQUM4WixRQUFOO0FBQ0Q7QUFDRixHQXRCRDs7QUF3QkEsT0FBS2dFLGNBQUwsR0FBc0IsWUFBWTtBQUNoQyxRQUFJOWQsS0FBSyxHQUFHLElBQVo7O0FBRUEwN0IsZ0VBQVcsQ0FBQzE3QixLQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWhCLEVBQTJCMEIsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBaEIsRUFBMkIsb0JBQTNCLENBQWhDLEVBQWtGOUssS0FBSyxDQUFDNkssUUFBTixDQUFldVUsZ0JBQWpHLEVBQW1IcGYsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQzBCLGFBQXBKLEVBQW1LLFVBQVVvdkIsTUFBVixFQUFrQkMsT0FBbEIsRUFBMkI7QUFDdk01N0IsV0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCOE8sWUFBeEI7O0FBQ0EsVUFBSTRoQixNQUFNLElBQUksQ0FBZCxFQUFpQjtBQUNmemYsdUVBQVEsQ0FBQ2xjLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBaEIsRUFBMkIsa0JBQTNCLENBQVI7QUFDRCxPQUZELE1BRU8sSUFBSTh3QixPQUFPLElBQUksQ0FBZixFQUFrQjtBQUN2QnhmLDBFQUFXLENBQUNwYyxLQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWhCLEVBQTJCLGtCQUEzQixDQUFYO0FBQ0Q7O0FBRUQ5SyxXQUFLLENBQUM2SyxRQUFOLENBQWUwUSxRQUFmLEdBQTBCLElBQTFCO0FBQ0QsS0FUVSxFQVNSLFlBQVk7QUFDYnZiLFdBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QmlQLGVBQXhCOztBQUNBdFYsZ0JBQVUsQ0FBQyxZQUFZO0FBQ3JCNUUsYUFBSyxDQUFDNkssUUFBTixDQUFlMFEsUUFBZixHQUEwQixLQUExQjtBQUNELE9BRlMsRUFFUCxHQUZPLENBQVY7QUFHRCxLQWRVLEVBY1IsWUFBWTtBQUNidmIsV0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCcVEscUJBQXhCO0FBQ0QsS0FoQlUsQ0FBWDtBQWlCRCxHQXBCRDs7QUFzQkEsT0FBS2YsVUFBTCxHQUFrQixVQUFVcFIsUUFBVixFQUFvQjtBQUNwQyxRQUFJbkosS0FBSyxHQUFHLElBQVo7O0FBRUEsUUFBSUEsS0FBSyxDQUFDNkssUUFBTixDQUFlQyxTQUFmLEtBQTZCLElBQWpDLEVBQXVDO0FBQ3JDOUssV0FBSyxDQUFDNkssUUFBTixDQUFlNk8sTUFBZixHQUF3QixJQUF4QjtBQUNBMVosV0FBSyxDQUFDNkssUUFBTixDQUFlQyxTQUFmLEdBQTJCOUssS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQzBCLGFBQWpDLENBQStDRixXQUEvQyxDQUEyRHJNLEtBQUssQ0FBQ3FTLE1BQU4sRUFBM0QsQ0FBM0I7QUFDQXJTLFdBQUssQ0FBQzZLLFFBQU4sQ0FBZXVVLGdCQUFmLEdBQWtDcGYsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQzBCLGFBQWpDLENBQStDRixXQUEvQyxDQUEyRHJNLEtBQUssQ0FBQ2lNLGFBQU4sRUFBM0QsQ0FBbEM7QUFDQWpNLFdBQUssQ0FBQzZLLFFBQU4sQ0FBZXdzQixhQUFmLEdBQStCN3FCLDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWhCLEVBQTJCLG1DQUEzQixDQUFwQzs7QUFFQTlLLFdBQUssQ0FBQzhkLGNBQU47QUFDRDs7QUFFRCxRQUFJLE9BQU8zVSxRQUFQLEtBQW9CLFVBQXhCLEVBQW9DO0FBQ2xDQSxjQUFRO0FBQ1Q7QUFDRixHQWZEOztBQWlCQSxPQUFLd1EsY0FBTCxHQUFzQixZQUFZO0FBQ2hDLFFBQUkzWixLQUFLLEdBQUcsSUFBWjs7QUFFQUEsU0FBSyxDQUFDdWEsVUFBTixDQUFpQixZQUFZO0FBQzNCdmEsV0FBSyxDQUFDeTdCLFlBQU4sQ0FBbUIsWUFBWTtBQUM3Qno3QixhQUFLLENBQUNtYSxnQkFBTjtBQUNELE9BRkQ7O0FBSUF2VixnQkFBVSxDQUFDLFlBQVk7QUFDckI1RSxhQUFLLENBQUNtYSxnQkFBTjtBQUNELE9BRlMsRUFFUCxJQUZPLENBQVY7QUFHRCxLQVJEO0FBU0QsR0FaRDtBQWFELENBanVCTSxDOzs7Ozs7Ozs7Ozs7QUNkUDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDTyxJQUFNN0gsYUFBYSxHQUFHLFNBQWhCQSxhQUFnQixDQUFVMUgsT0FBVixFQUFtQjtBQUM5QztBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDRSxPQUFLQyxRQUFMLEdBQWdCO0FBQ2RDLGFBQVMsRUFBRSxJQURHO0FBRWR3VSxvQkFBZ0IsRUFBRSxJQUZKO0FBR2RILGtCQUFjLEVBQUUsSUFIRjtBQUlkbFUsWUFBUSxFQUFFLElBSkk7QUFLZDR3QixlQUFXLEVBQUUsRUFMQztBQU1kQyxnQkFBWSxFQUFFLElBTkE7QUFPZEMseUJBQXFCLEVBQUUsS0FQVDtBQVFkQyxpQkFBYSxFQUFFLElBUkQ7QUFTZEMsZ0NBQTRCLEVBQUUsSUFUaEI7QUFVZEMsNEJBQXdCLEVBQUUsS0FWWjtBQVdkQyxxQkFBaUIsRUFBRSxLQVhMO0FBWWRDLDJCQUF1QixFQUFFLGlDQUFVajhCLElBQVYsRUFBZ0JnSixRQUFoQixFQUEwQjtBQUNqRCxVQUFJLE9BQU9oSixJQUFJLENBQUNrOEIsUUFBWixLQUF5QixXQUF6QixJQUF3Q2w4QixJQUFJLENBQUNrOEIsUUFBTCxDQUFjLzdCLE1BQWQsR0FBdUIsQ0FBL0QsSUFBb0UsT0FBTzZJLFFBQVAsS0FBb0IsVUFBNUYsRUFBd0c7QUFDdEcsWUFBSW16QixLQUFLLEdBQUcsS0FBWjtBQUNBOW5CLHdFQUFTLENBQUNyVSxJQUFJLENBQUNrOEIsUUFBTixFQUFnQixVQUFVMWxCLElBQVYsRUFBZ0I7QUFDdkMsY0FBSUEsSUFBSSxDQUFDeUUsR0FBTCxLQUFhLFVBQWIsSUFBMkIsQ0FBQ2toQixLQUFoQyxFQUF1QztBQUNyQyxnQkFBTUMsV0FBVyxHQUFHO0FBQ2xCcnhCLHNCQUFRLEVBQUV5TCxJQUFJLENBQUN2SDtBQURHLGFBQXBCO0FBR0FrdEIsaUJBQUssR0FBRyxJQUFSO0FBQ0F4OUIsbUJBQU8sQ0FBQ3dDLEdBQVIsQ0FBWWk3QixXQUFaO0FBQ0FwekIsb0JBQVEsQ0FBQ296QixXQUFELENBQVI7QUFDRDtBQUNGLFNBVFEsQ0FBVDtBQVVEO0FBQ0Y7QUExQmEsR0FBaEI7O0FBNkJBLE1BQUksT0FBTzN4QixPQUFQLEtBQW1CLFdBQXZCLEVBQW9DO0FBQ2xDLFNBQUssSUFBSThWLEdBQVQsSUFBZ0I5VixPQUFoQixFQUF5QjtBQUN2QixVQUFJQSxPQUFPLENBQUMrVixjQUFSLENBQXVCRCxHQUF2QixDQUFKLEVBQWlDO0FBQy9CLGFBQUs3VixRQUFMLENBQWM2VixHQUFkLElBQXFCOVYsT0FBTyxDQUFDOFYsR0FBRCxDQUE1QjtBQUNEO0FBQ0Y7QUFDRjs7QUFFRCxPQUFLOGIsYUFBTCxHQUFxQixZQUFZO0FBQy9CLFFBQUl0d0IsT0FBTyxHQUFHaEYsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQWQ7QUFDQSxRQUFJcXdCLFdBQVcsR0FBR3R3QixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBbEI7QUFDQSxRQUFJNk0sSUFBSSxHQUFHOU0sUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQVg7QUFFQSxRQUFJc3dCLGtCQUFrQixHQUFHdndCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUF6QjtBQUNBLFFBQUl1d0IscUJBQXFCLEdBQUd4d0IsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQTVCO0FBQ0EsUUFBSXMxQiwyQkFBMkIsR0FBR3YxQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBbEM7QUFDQSxRQUFJdTFCLHVCQUF1QixHQUFHeDFCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUE5QjtBQUNBLFFBQUl3MUIsNkJBQTZCLEdBQUd6MUIsUUFBUSxDQUFDQyxhQUFULENBQXVCLEtBQXZCLENBQXBDO0FBQ0EsUUFBSXd3Qix1QkFBdUIsR0FBR3p3QixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBOUI7QUFDQSxRQUFJeXdCLGdCQUFnQixHQUFHMXdCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixHQUF2QixDQUF2QjtBQUVBK0UsV0FBTyxDQUFDRSxZQUFSLENBQXFCLE9BQXJCLEVBQThCLHlCQUE5QjtBQUNBb3JCLGVBQVcsQ0FBQ3ByQixZQUFaLENBQXlCLE9BQXpCLEVBQWtDLDhCQUFsQztBQUNBNEgsUUFBSSxDQUFDNUgsWUFBTCxDQUFrQixPQUFsQixFQUEyQixzQkFBM0I7QUFDQXNyQix5QkFBcUIsQ0FBQ3RyQixZQUF0QixDQUFtQyxPQUFuQyxFQUE0Qyx5Q0FBNUM7QUFDQXFyQixzQkFBa0IsQ0FBQ3JyQixZQUFuQixDQUFnQyxPQUFoQyxFQUF5QyxxQ0FBekM7QUFDQXF3QiwrQkFBMkIsQ0FBQ3J3QixZQUE1QixDQUF5QyxPQUF6QyxFQUFrRCw2Q0FBbEQ7QUFDQXN3QiwyQkFBdUIsQ0FBQ3R3QixZQUF4QixDQUFxQyxPQUFyQyxFQUE4QywyQ0FBOUM7QUFDQXV3QixpQ0FBNkIsQ0FBQ3Z3QixZQUE5QixDQUEyQyxPQUEzQyxFQUFvRCxpREFBcEQ7QUFDQXVyQiwyQkFBdUIsQ0FBQ3ZyQixZQUF4QixDQUFxQyxPQUFyQyxFQUE4QywyQ0FBOUM7QUFDQXdyQixvQkFBZ0IsQ0FBQ3hyQixZQUFqQixDQUE4QixPQUE5QixFQUF1QyxtQ0FBdkM7QUFFQXdyQixvQkFBZ0IsQ0FBQzNjLElBQWpCLEdBQXdCLHFCQUF4QjtBQUNBMmMsb0JBQWdCLENBQUM1aEIsU0FBakIsR0FBNkIsR0FBN0I7QUFFQXltQiwrQkFBMkIsQ0FBQ3B3QixXQUE1QixDQUF3Q3F3Qix1QkFBeEM7QUFDQUQsK0JBQTJCLENBQUNwd0IsV0FBNUIsQ0FBd0Nzd0IsNkJBQXhDO0FBRUFoRiwyQkFBdUIsQ0FBQ3RyQixXQUF4QixDQUFvQ3VyQixnQkFBcEM7QUFDQUgsc0JBQWtCLENBQUNwckIsV0FBbkIsQ0FBK0JzckIsdUJBQS9CO0FBQ0FGLHNCQUFrQixDQUFDcHJCLFdBQW5CLENBQStCb3dCLDJCQUEvQjtBQUNBL0UseUJBQXFCLENBQUNyckIsV0FBdEIsQ0FBa0NvckIsa0JBQWxDO0FBQ0FELGVBQVcsQ0FBQ25yQixXQUFaLENBQXdCMkgsSUFBeEI7QUFDQTlILFdBQU8sQ0FBQ0csV0FBUixDQUFvQm1yQixXQUFwQjtBQUNBdHJCLFdBQU8sQ0FBQ0csV0FBUixDQUFvQnFyQixxQkFBcEI7QUFFQSxXQUFPeHJCLE9BQVA7QUFDRCxHQXZDRDs7QUF5Q0EsTUFBSTB3QixTQUFTLEdBQUcsRUFBaEI7O0FBQ0EsT0FBS0MsUUFBTCxHQUFnQixZQUFZO0FBQzFCLFFBQUk3OEIsS0FBSyxHQUFHLElBQVo7O0FBRUFBLFNBQUssQ0FBQzZLLFFBQU4sQ0FBZWl5QixXQUFmLEdBQTZCLElBQUl6SSxvREFBSixDQUFjO0FBQ3pDRyxZQUFNLEVBQUV4MEIsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQzhGLEdBQWpDLENBQXFDQyxhQUFyQyxHQUFxRDVRLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUM4RixHQUFqQyxDQUFxQ0ssU0FBckMsQ0FBK0NsUixPQUEvQyxDQUF1RCxRQUF2RCxFQUFpRUUsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQzhDLFNBQWxHLEVBQTZHN04sT0FBN0csQ0FBcUgsS0FBckgsRUFBNEhFLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUMrQyxRQUE3SixDQURwQjtBQUV6QzZtQixlQUFTLEVBQUV6MEIsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQzhGLEdBQWpDLENBQXFDQyxhQUFyQyxHQUFxRDVRLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUM4RixHQUFqQyxDQUFxQ00sa0JBQXJDLENBQXdEblIsT0FBeEQsQ0FBZ0UsUUFBaEUsRUFBMEVFLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUM4QyxTQUEzRyxFQUFzSDdOLE9BQXRILENBQThILEtBQTlILEVBQXFJRSxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDK0MsUUFBdEssQ0FGdkI7QUFHekNqRSxVQUFJLEVBQUU7QUFDSnBLLFdBQUcsRUFBRSxJQUREO0FBRUp5TyxjQUFNLEVBQUU7QUFDTix1QkFBYWhPLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUNtRDtBQUR4QztBQUZKLE9BSG1DO0FBU3pDN0UsY0FBUSxFQUFFLGtCQUFVaEosSUFBVixFQUFnQjtBQUN4QixZQUFJNDhCLE9BQU8sR0FBRzU3QixJQUFJLENBQUNDLFNBQUwsQ0FBZWpCLElBQWYsQ0FBZDtBQUNBLFlBQUlxMUIsV0FBVyxHQUFHLElBQUlsc0IsSUFBSixHQUFXa1gsT0FBWCxFQUFsQjs7QUFFQSxZQUFJLE9BQU9vYyxTQUFTLENBQUNHLE9BQUQsQ0FBaEIsS0FBOEIsV0FBOUIsSUFBOEMsT0FBT0gsU0FBUyxDQUFDRyxPQUFELENBQWhCLEtBQThCLFdBQTlCLElBQThDSCxTQUFTLENBQUNHLE9BQUQsQ0FBVCxHQUFxQixLQUF0QixHQUErQnZILFdBQTlILEVBQTRJO0FBQzFJb0gsbUJBQVMsQ0FBQ3o3QixJQUFJLENBQUNDLFNBQUwsQ0FBZWpCLElBQWYsQ0FBRCxDQUFULEdBQWtDcTFCLFdBQWxDOztBQUNBeDFCLGVBQUssQ0FBQzZLLFFBQU4sQ0FBZWd4QixXQUFmLENBQTJCejRCLElBQTNCLENBQWdDakQsSUFBaEM7QUFDRDtBQUNGLE9BakJ3QztBQWtCekM4MEIsb0JBQWMsRUFBRSx3QkFBVXBxQixRQUFWLEVBQW9CLENBQ25DLENBbkJ3QztBQW9CekNrQyxXQUFLLEVBQUU7QUFwQmtDLEtBQWQsQ0FBN0I7QUFzQkQsR0F6QkQ7O0FBMkJBLE9BQUtpd0Isb0JBQUwsR0FBNEIsWUFBWTtBQUN0QyxRQUFJaDlCLEtBQUssR0FBRyxJQUFaOztBQUVBLFFBQUlBLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZW94Qiw0QkFBbkIsRUFBaUQ7QUFDL0M3eEIsa0JBQVksQ0FBQ3BLLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZW94Qiw0QkFBaEIsQ0FBWjtBQUNEOztBQUVEajhCLFNBQUssQ0FBQzZLLFFBQU4sQ0FBZW94Qiw0QkFBZixHQUE4Q3IzQixVQUFVLENBQUMsWUFBWTtBQUNuRTVFLFdBQUssQ0FBQ3VjLGdCQUFOO0FBQ0QsS0FGdUQsRUFFckR2YyxLQUFLLENBQUM2SyxRQUFOLENBQWVxeEIsd0JBRnNDLENBQXhEO0FBR0QsR0FWRDs7QUFZQSxPQUFLM2YsZ0JBQUwsR0FBd0IsWUFBWTtBQUNsQyxRQUFJdmMsS0FBSyxHQUFHLElBQVo7O0FBRUEsUUFBSUEsS0FBSyxDQUFDNkssUUFBTixDQUFlb3hCLDRCQUFuQixFQUFpRDtBQUMvQzd4QixrQkFBWSxDQUFDcEssS0FBSyxDQUFDNkssUUFBTixDQUFlb3hCLDRCQUFoQixDQUFaO0FBQ0Q7O0FBRURqOEIsU0FBSyxDQUFDNkssUUFBTixDQUFlc3hCLGlCQUFmLEdBQW1DLEtBQW5DO0FBQ0EvZixzRUFBVyxDQUFDNVAsNERBQUssQ0FBQ3hNLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUMsU0FBaEIsRUFBMkIsc0NBQTNCLENBQU4sRUFBMEUsU0FBMUUsQ0FBWDtBQUNBbEcsY0FBVSxDQUFDLFlBQVk7QUFDckI1RSxXQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWYsQ0FBeUIyQixLQUF6QixDQUErQkMsT0FBL0IsR0FBeUMsTUFBekM7QUFDRCxLQUZTLEVBRVAsR0FGTyxDQUFWO0FBR0QsR0FaRDs7QUFjQSxPQUFLdXdCLDJCQUFMLEdBQW1DLFVBQVU5OEIsSUFBVixFQUFnQjtBQUNqRCxRQUFJSCxLQUFLLEdBQUcsSUFBWjs7QUFDQSxRQUFJb2dCLEtBQUssR0FBRzVULDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWV5VSxnQkFBaEIsRUFBa0MsNENBQWxDLENBQWpCO0FBQ0EsUUFBSWtQLFdBQVcsR0FBR2hpQiw0REFBSyxDQUFDeE0sS0FBSyxDQUFDNkssUUFBTixDQUFleVUsZ0JBQWhCLEVBQWtDLGtEQUFsQyxDQUF2QjtBQUNBLFFBQUkyVCxlQUFlLEdBQUdELGdFQUFTLENBQUM3eUIsSUFBSSxDQUFDQSxJQUFMLENBQVVxdUIsV0FBWCxDQUEvQjtBQUVBcE8sU0FBSyxDQUFDcEssU0FBTixHQUFtQjdWLElBQUksQ0FBQ0EsSUFBTCxDQUFVZ3JCLElBQVYsQ0FBZTdxQixNQUFmLEdBQXdCLEVBQXpCLEdBQStCSCxJQUFJLENBQUNBLElBQUwsQ0FBVWdyQixJQUFWLENBQWUrSCxNQUFmLENBQXNCLENBQXRCLEVBQXlCLEVBQXpCLElBQStCLEtBQTlELEdBQXNFL3lCLElBQUksQ0FBQ0EsSUFBTCxDQUFVZ3JCLElBQWxHO0FBQ0FxRCxlQUFXLENBQUN4WSxTQUFaLEdBQXlCaWQsZUFBZSxDQUFDM3lCLE1BQWhCLEdBQXlCLEVBQTFCLEdBQWdDMnlCLGVBQWUsQ0FBQ0MsTUFBaEIsQ0FBdUIsQ0FBdkIsRUFBMEIsRUFBMUIsSUFBZ0MsS0FBaEUsR0FBd0VELGVBQWhHO0FBRUFqekIsU0FBSyxDQUFDNkssUUFBTixDQUFleVUsZ0JBQWYsQ0FBZ0MxQyxPQUFoQyxDQUF3QzlILEVBQXhDLEdBQTZDM1UsSUFBSSxDQUFDQSxJQUFMLENBQVUyVSxFQUF2RDtBQUVBOVUsU0FBSyxDQUFDNkssUUFBTixDQUFlQyxTQUFmLENBQXlCMkIsS0FBekIsQ0FBK0JDLE9BQS9CLEdBQXlDLE9BQXpDO0FBQ0E5SCxjQUFVLENBQUMsWUFBWTtBQUNyQnNYLHFFQUFRLENBQUMxUCw0REFBSyxDQUFDeE0sS0FBSyxDQUFDNkssUUFBTixDQUFlQyxTQUFoQixFQUEyQixzQ0FBM0IsQ0FBTixFQUEwRSxTQUExRSxDQUFSO0FBQ0QsS0FGUyxFQUVQLEdBRk8sQ0FBVjs7QUFJQSxRQUFJOUssS0FBSyxDQUFDNkssUUFBTixDQUFlc1UsY0FBZixLQUFrQyxJQUF0QyxFQUE0QztBQUMxQ25mLFdBQUssQ0FBQ2s5QixzQkFBTixDQUE2Qi84QixJQUFJLENBQUNBLElBQWxDO0FBQ0Q7O0FBRURILFNBQUssQ0FBQ2c5QixvQkFBTjtBQUNELEdBckJEOztBQXVCQSxPQUFLRSxzQkFBTCxHQUE4QixVQUFVLzhCLElBQVYsRUFBZ0I7QUFDNUMsUUFBTUgsS0FBSyxHQUFHLElBQWQ7O0FBRUFBLFNBQUssQ0FBQzZLLFFBQU4sQ0FBZXV4Qix1QkFBZixDQUF1Q2o4QixJQUF2QyxFQUE2QyxVQUFVZzlCLFVBQVYsRUFBc0I7QUFDakUsVUFBSUEsVUFBVSxDQUFDanlCLFFBQVgsQ0FBb0I1SyxNQUFwQixHQUE2QixDQUFqQyxFQUFvQztBQUNsQ04sYUFBSyxDQUFDNkssUUFBTixDQUFlc1UsY0FBZixDQUE4QnRVLFFBQTlCLENBQXVDSyxRQUF2QyxHQUFrRGl5QixVQUFVLENBQUNqeUIsUUFBN0Q7O0FBQ0FsTCxhQUFLLENBQUM2SyxRQUFOLENBQWVzVSxjQUFmLENBQThCN1MsSUFBOUI7QUFDRDtBQUNGLEtBTEQ7QUFNRCxHQVREOztBQVdBLE9BQUs4d0IsZ0JBQUwsR0FBd0IsWUFBWTtBQUNsQyxRQUFJcDlCLEtBQUssR0FBRyxJQUFaOztBQUVBLFFBQUlBLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZW14QixhQUFuQixFQUFrQztBQUNoQzV4QixrQkFBWSxDQUFDcEssS0FBSyxDQUFDNkssUUFBTixDQUFlbXhCLGFBQWhCLENBQVo7QUFDRDs7QUFFRCxRQUFJaDhCLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZWd4QixXQUFmLENBQTJCdjdCLE1BQTNCLEdBQW9DLENBQXBDLElBQXlDLENBQUNOLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZXN4QixpQkFBN0QsRUFBZ0Y7QUFDOUUsVUFBSWg4QixJQUFJLEdBQUdILEtBQUssQ0FBQzZLLFFBQU4sQ0FBZWd4QixXQUFmLENBQTJCLENBQTNCLENBQVg7O0FBQ0EsVUFBSXhHLEtBQUssR0FBR3IxQixLQUFLLENBQUM2SyxRQUFOLENBQWVneEIsV0FBZixDQUEyQmw4QixPQUEzQixDQUFtQ1EsSUFBbkMsQ0FBWjs7QUFFQSxVQUFJLE9BQU9BLElBQUksQ0FBQzZXLGFBQVosS0FBOEIsV0FBbEMsRUFBK0M7QUFDN0NoWCxhQUFLLENBQUM2SyxRQUFOLENBQWVzeEIsaUJBQWYsR0FBbUMsSUFBbkM7O0FBQ0FuOEIsYUFBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCOEwsY0FBeEIsQ0FBdUM1VyxJQUFJLENBQUM2VyxhQUE1QyxFQUEyRCxVQUFVN1csSUFBVixFQUFnQjtBQUN6RUgsZUFBSyxDQUFDaTlCLDJCQUFOLENBQWtDOThCLElBQWxDOztBQUVBSCxlQUFLLENBQUM2SyxRQUFOLENBQWVteEIsYUFBZixHQUErQnAzQixVQUFVLENBQUMsWUFBWTtBQUNwRDVFLGlCQUFLLENBQUNvOUIsZ0JBQU47QUFDRCxXQUZ3QyxFQUV0Q3A5QixLQUFLLENBQUM2SyxRQUFOLENBQWVreEIscUJBRnVCLENBQXpDO0FBR0QsU0FORDs7QUFRQS83QixhQUFLLENBQUM2SyxRQUFOLENBQWVneEIsV0FBZixDQUEyQnZHLE1BQTNCLENBQWtDRCxLQUFsQyxFQUF5QyxDQUF6QztBQUNELE9BWEQsTUFXTyxJQUFJLE9BQU9sMUIsSUFBSSxDQUFDazlCLGNBQVosS0FBK0IsV0FBbkMsRUFBZ0Q7QUFDckRyOUIsYUFBSyxDQUFDNkssUUFBTixDQUFlbXhCLGFBQWYsR0FBK0JwM0IsVUFBVSxDQUFDLFlBQVk7QUFDcEQ1RSxlQUFLLENBQUNvOUIsZ0JBQU47QUFDRCxTQUZ3QyxFQUV0Q3A5QixLQUFLLENBQUM2SyxRQUFOLENBQWVpeEIsWUFGdUIsQ0FBekM7QUFHRCxPQUpNLE1BSUE7QUFDTDk3QixhQUFLLENBQUM2SyxRQUFOLENBQWVteEIsYUFBZixHQUErQnAzQixVQUFVLENBQUMsWUFBWTtBQUNwRDVFLGVBQUssQ0FBQ285QixnQkFBTjtBQUNELFNBRndDLEVBRXRDcDlCLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZWl4QixZQUZ1QixDQUF6QztBQUdEOztBQUVELFVBQUl6RyxLQUFLLEdBQUcsQ0FBQyxDQUFiLEVBQWdCO0FBQ2RyMUIsYUFBSyxDQUFDNkssUUFBTixDQUFlZ3hCLFdBQWYsQ0FBMkJ2RyxNQUEzQixDQUFrQ0QsS0FBbEMsRUFBeUMsQ0FBekM7QUFDRDtBQUNGLEtBNUJELE1BNEJPO0FBQ0xyMUIsV0FBSyxDQUFDNkssUUFBTixDQUFlbXhCLGFBQWYsR0FBK0JwM0IsVUFBVSxDQUFDLFlBQVk7QUFDcEQ1RSxhQUFLLENBQUNvOUIsZ0JBQU47QUFDRCxPQUZ3QyxFQUV0Q3A5QixLQUFLLENBQUM2SyxRQUFOLENBQWVpeEIsWUFGdUIsQ0FBekM7QUFHRDtBQUNGLEdBeENEOztBQTBDQSxPQUFLeHZCLElBQUwsR0FBWSxZQUFZO0FBQ3RCLFFBQUl0TSxLQUFLLEdBQUcsSUFBWjs7QUFFQSxRQUFJQSxLQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWYsS0FBNkIsSUFBakMsRUFBdUM7QUFDckM5SyxXQUFLLENBQUM2OEIsUUFBTjs7QUFDQTc4QixXQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWYsR0FBMkI5SyxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDMEIsYUFBakMsQ0FBK0NGLFdBQS9DLENBQTJEck0sS0FBSyxDQUFDdzhCLGFBQU4sRUFBM0QsQ0FBM0I7QUFDQXg4QixXQUFLLENBQUM2SyxRQUFOLENBQWV5VSxnQkFBZixHQUFrQzlTLDREQUFLLENBQUN4TSxLQUFLLENBQUM2SyxRQUFOLENBQWVDLFNBQWhCLEVBQTJCLDhDQUEzQixDQUF2QztBQUNELEtBSkQsTUFJTztBQUNMO0FBQ0E5SyxXQUFLLENBQUM2SyxRQUFOLENBQWVpeUIsV0FBZixDQUEyQnJILFdBQTNCLEdBRkssQ0FJTDs7O0FBQ0F6MUIsV0FBSyxDQUFDNkssUUFBTixDQUFlaXlCLFdBQWYsQ0FBMkJqeUIsUUFBM0IsQ0FBb0MycEIsTUFBcEMsR0FBNkN4MEIsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQzhGLEdBQWpDLENBQXFDQyxhQUFyQyxHQUFxRDVRLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUM4RixHQUFqQyxDQUFxQ0ssU0FBckMsQ0FBK0NsUixPQUEvQyxDQUF1RCxRQUF2RCxFQUFpRUUsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQzhDLFNBQWxHLEVBQTZHN04sT0FBN0csQ0FBcUgsS0FBckgsRUFBNEhFLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUMrQyxRQUE3SixDQUFsRztBQUNBNU4sV0FBSyxDQUFDNkssUUFBTixDQUFlaXlCLFdBQWYsQ0FBMkJqeUIsUUFBM0IsQ0FBb0M0cEIsU0FBcEMsR0FBZ0R6MEIsS0FBSyxDQUFDNkssUUFBTixDQUFlSSxRQUFmLENBQXdCSixRQUF4QixDQUFpQzhGLEdBQWpDLENBQXFDQyxhQUFyQyxHQUFxRDVRLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUM4RixHQUFqQyxDQUFxQ00sa0JBQXJDLENBQXdEblIsT0FBeEQsQ0FBZ0UsUUFBaEUsRUFBMEVFLEtBQUssQ0FBQzZLLFFBQU4sQ0FBZUksUUFBZixDQUF3QkosUUFBeEIsQ0FBaUM4QyxTQUEzRyxFQUFzSDdOLE9BQXRILENBQThILEtBQTlILEVBQXFJRSxLQUFLLENBQUM2SyxRQUFOLENBQWVJLFFBQWYsQ0FBd0JKLFFBQXhCLENBQWlDK0MsUUFBdEssQ0FBckcsQ0FOSyxDQVFMOztBQUNBNU4sV0FBSyxDQUFDNkssUUFBTixDQUFlaXlCLFdBQWYsQ0FBMkJsSCxVQUEzQjtBQUNEOztBQUVENTFCLFNBQUssQ0FBQ285QixnQkFBTjtBQUNELEdBcEJEO0FBcUJELENBNU9NLEM7Ozs7Ozs7Ozs7OztBQ1pQO0FBQUE7QUFFQTtBQUVBLElBQU1FLE1BQU0sR0FBRyxxQ0FBZjtBQUVBLElBQU10K0IsS0FBSyxHQUFHO0FBQ1o2UixLQUFHLEVBQUU7QUFDSHRSLE9BQUcsRUFBRSs5QjtBQURGLEdBRE87QUFJWkMsZUFBYSxFQUFFLGNBSkg7QUFJbUI7QUFDL0JDLFlBQVUsRUFBRSx3QkFMQTtBQUswQjtBQUN0Q0MsYUFBVyxFQUFFLFVBTkQsQ0FNWTs7QUFOWixDQUFkO0FBU2V6K0Isb0VBQWYsRTs7Ozs7Ozs7Ozs7O0FDZkE7QUFBQTtDQUVBOztBQUNBLElBQUkwK0IsZ0JBQUo7O0FBRUEsSUFBTWhDLFdBQVcsR0FBRyxTQUFkQSxXQUFjLENBQVVpQyxLQUFWLEVBQWlCQyxXQUFqQixFQUE4QnhlLGdCQUE5QixFQUFnRHRVLFNBQWhELEVBQTJEeVEsUUFBM0QsRUFBcUVzaUIsY0FBckUsRUFBcUZDLFdBQXJGLEVBQWtHO0FBQ3BILE1BQUlDLElBQUksR0FBRyxDQUFYO0FBQ0EsTUFBSUMsSUFBSSxHQUFHLENBQVg7QUFDQSxNQUFJQyxJQUFJLEdBQUcsQ0FBWDtBQUNBLE1BQUlDLElBQUksR0FBRyxDQUFYO0FBQ0EsTUFBSWhnQixRQUFRLEdBQUdJLDZEQUFjLEVBQTdCO0FBQ0EsTUFBSTZmLEtBQUssR0FBR0MsMERBQVcsRUFBdkI7QUFDQSxNQUFJQyxjQUFjLEdBQUdWLEtBQUssQ0FBQ3JoQixVQUFOLENBQWlCZ2lCLFFBQWpCLEtBQThCLE1BQW5EO0FBQ0EsTUFBSUMsT0FBTyxHQUFJRixjQUFjLEdBQUc1L0IsTUFBTSxDQUFDbU4sVUFBVixHQUF1QmQsU0FBUyxDQUFDMHpCLFdBQTlEO0FBQ0EsTUFBSUMsTUFBTSxHQUFJSixjQUFjLEdBQUc1L0IsTUFBTSxDQUFDb04sV0FBVixHQUF3QmYsU0FBUyxDQUFDNHpCLFlBQTlEO0FBQ0EsTUFBSUMsVUFBSjtBQUFnQixNQUFJQyxNQUFNLEdBQUcsSUFBYixDQVZvRyxDQVdwSDs7QUFFQSxNQUFJbEIsZ0JBQUosRUFBc0I7QUFDcEJ0ekIsZ0JBQVksQ0FBQ3N6QixnQkFBRCxDQUFaO0FBQ0Q7O0FBRUQsTUFBSW1CLGNBQWMsR0FBRyxTQUFqQkEsY0FBaUIsR0FBWTtBQUMvQixRQUFJQyxVQUFVLEdBQUc3aUIsdURBQVEsQ0FBQzBoQixLQUFELEVBQVEsa0JBQVIsQ0FBekI7QUFDQSxRQUFJWSxPQUFPLEdBQUlGLGNBQWMsR0FBRzUvQixNQUFNLENBQUNtTixVQUFWLEdBQXVCZCxTQUFTLENBQUMwekIsV0FBOUQ7QUFDQSxRQUFJQyxNQUFNLEdBQUlKLGNBQWMsR0FBRzUvQixNQUFNLENBQUNvTixXQUFWLEdBQXdCZixTQUFTLENBQUM0ekIsWUFBOUQ7QUFDQSxRQUFJSyxhQUFhLEdBQUdSLE9BQU8sR0FBRzVvQixRQUFRLENBQUNnb0IsS0FBSyxDQUFDYSxXQUFOLElBQXFCTSxVQUFVLEdBQUdsQixXQUFXLENBQUNZLFdBQVosR0FBMEIsQ0FBN0IsR0FBaUNaLFdBQVcsQ0FBQ1ksV0FBWixHQUEwQixHQUExRixDQUFELENBQXRDO0FBQ0EsUUFBSVEsWUFBWSxHQUFHUCxNQUFNLEdBQUc5b0IsUUFBUSxDQUFDZ29CLEtBQUssQ0FBQ2UsWUFBTixJQUFzQkksVUFBVSxHQUFHbEIsV0FBVyxDQUFDYyxZQUFaLEdBQTJCLEdBQTlCLEdBQW9DZCxXQUFXLENBQUNjLFlBQVosR0FBMkIsQ0FBL0YsQ0FBRCxDQUFwQztBQUNBLFFBQUlPLEtBQUssR0FBR3RwQixRQUFRLENBQUNnb0IsS0FBSyxDQUFDbHhCLEtBQU4sQ0FBWW9qQixHQUFiLENBQXBCO0FBQ0EsUUFBSXFQLE1BQU0sR0FBR3ZwQixRQUFRLENBQUNnb0IsS0FBSyxDQUFDbHhCLEtBQU4sQ0FBWTB5QixJQUFiLENBQXJCOztBQUVBLFFBQUlGLEtBQUssR0FBR0QsWUFBUixJQUF3QkEsWUFBWSxHQUFHLENBQTNDLEVBQThDO0FBQzVDckIsV0FBSyxDQUFDbHhCLEtBQU4sQ0FBWW9qQixHQUFaLEdBQWtCbVAsWUFBWSxHQUFHLElBQWpDO0FBQ0Q7O0FBQ0QsUUFBSUUsTUFBTSxHQUFHSCxhQUFULElBQTBCQSxhQUFhLEdBQUcsQ0FBOUMsRUFBaUQ7QUFDL0NwQixXQUFLLENBQUNseEIsS0FBTixDQUFZMHlCLElBQVosR0FBbUJKLGFBQWEsR0FBRyxJQUFuQztBQUNEO0FBQ0YsR0FmRDs7QUFpQkEsTUFBSTdnQixRQUFKLEVBQWM7QUFDWjtBQUNKO0FBQ0E7QUFFSSxRQUFJa2hCLFVBQVUsR0FBRyxLQUFqQjtBQUNBeEIsZUFBVyxDQUFDN2YsZ0JBQVosQ0FBNkIsWUFBN0IsRUFBMkMsVUFBVWxVLENBQVYsRUFBYTtBQUN0RHUxQixnQkFBVSxHQUFHLElBQWI7QUFFQSxVQUFJVCxVQUFKLEVBQWdCdjBCLFlBQVksQ0FBQ3UwQixVQUFELENBQVo7QUFFaEJKLGFBQU8sR0FBSUYsY0FBYyxHQUFHNS9CLE1BQU0sQ0FBQ21OLFVBQVYsR0FBdUJkLFNBQVMsQ0FBQzB6QixXQUExRDtBQUNBQyxZQUFNLEdBQUlKLGNBQWMsR0FBRzUvQixNQUFNLENBQUNvTixXQUFWLEdBQXdCZixTQUFTLENBQUM0ekIsWUFBMUQ7QUFFQUMsZ0JBQVUsR0FBRy81QixVQUFVLENBQUMsWUFBWTtBQUNsQ3c2QixrQkFBVSxHQUFHLEtBQWI7QUFDRCxPQUZzQixFQUVwQixHQUZvQixDQUF2QjtBQUdELEtBWEQsRUFXRztBQUFFQyxhQUFPLEVBQUVsQjtBQUFYLEtBWEg7QUFhQVAsZUFBVyxDQUFDN2YsZ0JBQVosQ0FBNkIsV0FBN0IsRUFBMEMsVUFBVWxVLENBQVYsRUFBYTtBQUNyREEsT0FBQyxDQUFDc21CLGNBQUY7QUFDQThOLFVBQUksR0FBR3AwQixDQUFDLENBQUN5MUIsYUFBRixDQUFnQixDQUFoQixFQUFtQkMsS0FBMUI7QUFDQXJCLFVBQUksR0FBR3IwQixDQUFDLENBQUN5MUIsYUFBRixDQUFnQixDQUFoQixFQUFtQkUsS0FBMUIsQ0FIcUQsQ0FJckQ7O0FBRUFDLGlCQUFXLENBQUM1MUIsQ0FBRCxDQUFYO0FBQ0QsS0FQRCxFQU9HO0FBQUV3MUIsYUFBTyxFQUFFbEI7QUFBWCxLQVBIO0FBU0FQLGVBQVcsQ0FBQzdmLGdCQUFaLENBQTZCLFVBQTdCLEVBQXlDLFVBQVVsVSxDQUFWLEVBQWE7QUFDcEQ7QUFDQTtBQUNBNjFCLHNCQUFnQixDQUFDNzFCLENBQUQsQ0FBaEI7QUFDQSswQixZQUFNLEdBQUcsSUFBVDs7QUFFQSxVQUFJUSxVQUFVLElBQUksT0FBT3RCLFdBQVAsS0FBdUIsVUFBekMsRUFBcUQ7QUFDbkRBLG1CQUFXO0FBQ1o7QUFDRixLQVRELEVBU0c7QUFBRXVCLGFBQU8sRUFBRWxCO0FBQVgsS0FUSDtBQVdBMS9CLFVBQU0sQ0FBQ3NmLGdCQUFQLENBQXdCLG1CQUF4QixFQUE2QyxVQUFVbFUsQ0FBVixFQUFhO0FBQ3hEZzFCLG9CQUFjO0FBQ2YsS0FGRCxFQUVHLElBRkg7QUFHRCxHQTFDRCxNQTBDTztBQUNMO0FBQ0FqQixlQUFXLENBQUMrQixXQUFaLEdBQTBCQyxhQUExQjtBQUVBbmhDLFVBQU0sQ0FBQ3NmLGdCQUFQLENBQXdCLFFBQXhCLEVBQWtDLFVBQVVsVSxDQUFWLEVBQWE7QUFDN0NnMUIsb0JBQWM7QUFDZixLQUZELEVBRUcsSUFGSDtBQUdEOztBQUVELFdBQVNlLGFBQVQsQ0FBd0IvMUIsQ0FBeEIsRUFBMkI7QUFDekJBLEtBQUMsR0FBR0EsQ0FBQyxJQUFJcEwsTUFBTSxDQUFDdWYsS0FBaEI7QUFDQW5VLEtBQUMsQ0FBQ3NtQixjQUFGO0FBRUFvTyxXQUFPLEdBQUlGLGNBQWMsR0FBRzUvQixNQUFNLENBQUNtTixVQUFWLEdBQXVCZCxTQUFTLENBQUMwekIsV0FBMUQ7QUFDQUMsVUFBTSxHQUFJSixjQUFjLEdBQUc1L0IsTUFBTSxDQUFDb04sV0FBVixHQUF3QmYsU0FBUyxDQUFDNHpCLFlBQTFEO0FBRUF0ZixvQkFBZ0IsQ0FBQzNTLEtBQWpCLENBQXVCQyxPQUF2QixHQUFpQyxPQUFqQyxDQVB5QixDQVN6Qjs7QUFDQXV4QixRQUFJLEdBQUdwMEIsQ0FBQyxDQUFDZzJCLE9BQVQ7QUFDQTNCLFFBQUksR0FBR3IwQixDQUFDLENBQUNpMkIsT0FBVDtBQUNBNTRCLFlBQVEsQ0FBQzY0QixTQUFULEdBQXFCTCxnQkFBckIsQ0FaeUIsQ0FhekI7O0FBQ0F4NEIsWUFBUSxDQUFDODRCLFdBQVQsR0FBdUJQLFdBQXZCO0FBQ0Q7QUFFRDtBQUNGO0FBQ0E7QUFDQTtBQUNBOzs7QUFDRSxNQUFJUSxxQkFBcUIsR0FBRyxTQUF4QkEscUJBQXdCLENBQVV0RSxNQUFWLEVBQWtCQyxPQUFsQixFQUEyQm1ELGFBQTNCLEVBQTBDQyxZQUExQyxFQUF3RDtBQUNsRixRQUFJO0FBQ0ZrQixXQUFPLEdBQUcsQ0FEWjtBQUVBLFFBQUlyUSxHQUFHLEdBQUk4TCxNQUFNLElBQUksQ0FBVixHQUFjLENBQWQsR0FBa0JBLE1BQTdCO0FBQ0EsUUFBSXdELElBQUksR0FBSXZELE9BQU8sSUFBSXNFLE9BQVgsR0FBcUJBLE9BQXJCLEdBQStCdEUsT0FBM0M7O0FBRUEsUUFBSXVELElBQUksSUFBSUosYUFBWixFQUEyQjtBQUN6QkksVUFBSSxHQUFHSixhQUFQO0FBQ0Q7O0FBQ0QsUUFBSWxQLEdBQUcsSUFBSW1QLFlBQVgsRUFBeUI7QUFDdkJuUCxTQUFHLEdBQUdtUCxZQUFOO0FBQ0Q7O0FBRUQsV0FBTztBQUNMblAsU0FBRyxFQUFFQSxHQURBO0FBRUxzUCxVQUFJLEVBQUVBO0FBRkQsS0FBUDtBQUlELEdBakJEOztBQW1CQSxXQUFTTSxXQUFULENBQXNCNTFCLENBQXRCLEVBQXlCO0FBQ3ZCQSxLQUFDLEdBQUdBLENBQUMsSUFBSXBMLE1BQU0sQ0FBQ3VmLEtBQWhCO0FBQ0FuVSxLQUFDLENBQUNzbUIsY0FBRixHQUZ1QixDQUd2Qjs7QUFDQSxRQUFJZ1EsSUFBSSxHQUFJamlCLFFBQUQsR0FBYXJVLENBQUMsQ0FBQ3kxQixhQUFGLENBQWdCLENBQWhCLEVBQW1CQyxLQUFoQyxHQUF3QzExQixDQUFDLENBQUNnMkIsT0FBckQ7QUFDQSxRQUFJTyxJQUFJLEdBQUlsaUIsUUFBRCxHQUFhclUsQ0FBQyxDQUFDeTFCLGFBQUYsQ0FBZ0IsQ0FBaEIsRUFBbUJFLEtBQWhDLEdBQXdDMzFCLENBQUMsQ0FBQ2kyQixPQUFyRDtBQUNBLFFBQUloQixVQUFVLEdBQUc3aUIsdURBQVEsQ0FBQzBoQixLQUFELEVBQVEsa0JBQVIsQ0FBekI7QUFDQSxRQUFJb0IsYUFBYSxHQUFHUixPQUFPLEdBQUc1b0IsUUFBUSxDQUFDZ29CLEtBQUssQ0FBQ2EsV0FBTixJQUFxQk0sVUFBVSxHQUFHbEIsV0FBVyxDQUFDWSxXQUFaLEdBQTBCLENBQTdCLEdBQWlDWixXQUFXLENBQUNZLFdBQVosR0FBMEIsR0FBMUYsQ0FBRCxDQUF0QztBQUNBLFFBQUlRLFlBQVksR0FBR1AsTUFBTSxHQUFHOW9CLFFBQVEsQ0FBQ2dvQixLQUFLLENBQUNlLFlBQU4sSUFBc0JJLFVBQVUsR0FBR2xCLFdBQVcsQ0FBQ2MsWUFBWixHQUEyQixHQUE5QixHQUFvQ2QsV0FBVyxDQUFDYyxZQUFaLEdBQTJCLENBQS9GLENBQUQsQ0FBcEM7QUFFQVgsUUFBSSxHQUFHRSxJQUFJLEdBQUdrQyxJQUFkO0FBQ0FuQyxRQUFJLEdBQUdFLElBQUksR0FBR2tDLElBQWQ7QUFDQW5DLFFBQUksR0FBR3RvQixRQUFRLENBQUN3cUIsSUFBRCxDQUFmO0FBQ0FqQyxRQUFJLEdBQUd2b0IsUUFBUSxDQUFDeXFCLElBQUQsQ0FBZjtBQUNBeEIsVUFBTSxHQUFHLElBQUl0MUIsSUFBSixHQUFXa1gsT0FBWCxFQUFUO0FBRUE2ZixpQkFBYTtBQUViLFFBQUksQ0FBQ3BrQix1REFBUSxDQUFDMGhCLEtBQUQsRUFBUSxnQkFBUixDQUFiLEVBQXdDemhCLHVEQUFRLENBQUN5aEIsS0FBRCxFQUFRLGdCQUFSLENBQVI7QUFFeEMsUUFBSWhDLE1BQU0sR0FBSXpkLFFBQUQsR0FBY2tpQixJQUFJLEdBQUd6cUIsUUFBUSxDQUFDaW9CLFdBQVcsQ0FBQ2MsWUFBWixHQUEyQixDQUE1QixDQUE3QixHQUFnRWYsS0FBSyxDQUFDMkMsU0FBTixHQUFrQnRDLElBQS9GO0FBQ0EsUUFBSXBDLE9BQU8sR0FBSTFkLFFBQUQsR0FBY2lpQixJQUFJLEdBQUd4cUIsUUFBUSxDQUFDaW9CLFdBQVcsQ0FBQ1ksV0FBWixHQUEwQixDQUEzQixDQUE3QixHQUErRGIsS0FBSyxDQUFDNEMsVUFBTixHQUFtQnhDLElBQWhHO0FBQ0EsUUFBSXlDLFlBQVksR0FBR1AscUJBQXFCLENBQUN0RSxNQUFELEVBQVNDLE9BQVQsRUFBa0JtRCxhQUFsQixFQUFpQ0MsWUFBakMsQ0FBeEMsQ0F0QnVCLENBc0JpRTtBQUV4RjtBQUNBOztBQUVBLFFBQUltQixJQUFJLEdBQUcsQ0FBUCxJQUFZQyxJQUFJLEdBQUcsQ0FBbkIsSUFBd0JELElBQUksR0FBRzVCLE9BQS9CLElBQTBDNkIsSUFBSSxHQUFHM0IsTUFBckQsRUFBNkQ7QUFDM0RpQixzQkFBZ0IsQ0FBQzcxQixDQUFELENBQWhCO0FBQ0QsS0FGRCxNQUVPLElBQUk4eEIsTUFBTSxHQUFHcUQsWUFBVCxJQUF5QnBELE9BQU8sR0FBR21ELGFBQXZDLEVBQXNEO0FBQzNEVyxzQkFBZ0IsQ0FBQzcxQixDQUFELENBQWhCO0FBQ0QsS0FGTSxNQUVBLElBQUkyMkIsWUFBWSxDQUFDM1EsR0FBYixHQUFtQm1QLFlBQW5CLElBQW1Dd0IsWUFBWSxDQUFDckIsSUFBYixHQUFvQkosYUFBM0QsRUFBMEU7QUFDL0VXLHNCQUFnQixDQUFDNzFCLENBQUQsQ0FBaEI7QUFDRCxLQUZNLE1BRUE7QUFDTDh6QixXQUFLLENBQUNseEIsS0FBTixDQUFZb2pCLEdBQVosR0FBa0IyUSxZQUFZLENBQUMzUSxHQUFiLEdBQW1CLElBQXJDO0FBQ0E4TixXQUFLLENBQUNseEIsS0FBTixDQUFZMHlCLElBQVosR0FBbUJxQixZQUFZLENBQUNyQixJQUFiLEdBQW9CLElBQXZDO0FBQ0Q7O0FBRUQsUUFBSSxPQUFPNWpCLFFBQVAsS0FBb0IsVUFBeEIsRUFBb0NBLFFBQVEsQ0FBQ29nQixNQUFELEVBQVNDLE9BQVQsQ0FBUjtBQUNyQzs7QUFFRCxXQUFTOEQsZ0JBQVQsQ0FBMkI3MUIsQ0FBM0IsRUFBOEI7QUFDNUJ1VixvQkFBZ0IsQ0FBQzNTLEtBQWpCLENBQXVCQyxPQUF2QixHQUFpQyxNQUFqQzs7QUFDQSxRQUFJd1IsUUFBSixFQUFjO0FBQ1pyVSxPQUFDLENBQUNzbUIsY0FBRjtBQUNELEtBRkQsTUFFTztBQUNMO0FBQ0FqcEIsY0FBUSxDQUFDNjRCLFNBQVQsR0FBcUIsSUFBckI7QUFDQTc0QixjQUFRLENBQUM4NEIsV0FBVCxHQUF1QixJQUF2QjtBQUNEOztBQUNEcEIsVUFBTSxHQUFHLElBQVQ7QUFFQXhpQiw4REFBVyxDQUFDdWhCLEtBQUQsRUFBUSxnQkFBUixDQUFYO0FBRUEsUUFBSSxPQUFPRSxjQUFQLEtBQTBCLFVBQTlCLEVBQTBDQSxjQUFjO0FBQ3pEOztBQUVELFdBQVN3QyxhQUFULEdBQTBCO0FBQ3hCLFFBQUkzQyxnQkFBSixFQUFzQjtBQUNwQnR6QixrQkFBWSxDQUFDc3pCLGdCQUFELENBQVo7QUFDRDs7QUFFREEsb0JBQWdCLEdBQUc5NEIsVUFBVSxDQUFDLFlBQVk7QUFDeEMsVUFBSWc2QixNQUFNLEtBQUssSUFBWCxJQUFtQkEsTUFBTSxHQUFHLElBQVQsR0FBZ0IsSUFBSXQxQixJQUFKLEdBQVdrWCxPQUFYLEVBQW5DLElBQTJELENBQUN0QyxRQUFoRSxFQUEwRTtBQUN4RXdoQix3QkFBZ0I7QUFDakIsT0FGRCxNQUVPLElBQUlkLE1BQU0sS0FBSyxJQUFmLEVBQXFCO0FBQzFCeUIscUJBQWE7QUFDZDtBQUNGLEtBTjRCLEVBTTFCLElBTjBCLENBQTdCO0FBT0Q7QUFDRixDQXBNRDs7QUFzTWUzRSwwRUFBZixFOzs7Ozs7Ozs7Ozs7QUMzTUE7QUFBQTtBQUFBO0FBQ0E7O0FBRUEsSUFBSTtBQUNGLE1BQUksT0FBTytFLGdCQUFQLEtBQTRCLFVBQWhDLEVBQTRDO0FBQzFDaGlDLFVBQU0sQ0FBQ2lpQywyQkFBUCxHQUFxQyxFQUFyQzs7QUFDQWppQyxVQUFNLENBQUNnaUMsZ0JBQVAsR0FBMEIsVUFBVTNyQixFQUFWLEVBQWM2ckIsSUFBZCxFQUFvQmoxQixLQUFwQixFQUEyQjtBQUNuRCxVQUFJMlAsTUFBTSxHQUFHLEtBQWI7QUFDQTdHLHNFQUFTLENBQUMvVixNQUFNLENBQUNpaUMsMkJBQVIsRUFBcUMsVUFBVWgyQixRQUFWLEVBQW9CMFEsR0FBcEIsRUFBeUJ2WSxLQUF6QixFQUFnQztBQUM1RSxZQUFJaVMsRUFBRSxLQUFLcEssUUFBUSxDQUFDb0ssRUFBcEIsRUFBd0I7QUFDdEJ1RyxnQkFBTSxHQUFHLElBQVQ7QUFDRDtBQUNGLE9BSlEsQ0FBVDs7QUFNQSxVQUFJLENBQUNBLE1BQUwsRUFBYTtBQUNYLFlBQUl1bEIsUUFBUSxHQUFHaDhCLFVBQVUsQ0FBQyxZQUFZO0FBQ3BDNFAsMEVBQVMsQ0FBQy9WLE1BQU0sQ0FBQ2lpQywyQkFBUixFQUFxQyxVQUFVaDJCLFFBQVYsRUFBb0IwUSxHQUFwQixFQUF5QnZZLEtBQXpCLEVBQWdDO0FBQzVFLGdCQUFJaVMsRUFBRSxLQUFLcEssUUFBUSxDQUFDb0ssRUFBcEIsRUFBd0I7QUFDdEJyVyxvQkFBTSxDQUFDaWlDLDJCQUFQLENBQW1DcEwsTUFBbkMsQ0FBMENsYSxHQUExQyxFQUErQyxDQUEvQztBQUNEO0FBQ0YsV0FKUSxDQUFUOztBQU1BLGNBQUksT0FBT3VsQixJQUFQLEtBQWdCLFVBQXBCLEVBQWdDO0FBQzlCQSxnQkFBSTtBQUNMO0FBQ0YsU0FWd0IsRUFVdEJqMUIsS0FWc0IsQ0FBekI7O0FBWUFqTixjQUFNLENBQUNpaUMsMkJBQVAsQ0FBbUN0OUIsSUFBbkMsQ0FBd0M7QUFDdEMwUixZQUFFLEVBQUVBLEVBRGtDO0FBRXRDNnJCLGNBQUksRUFBRUEsSUFGZ0M7QUFHdENqMUIsZUFBSyxFQUFFQSxLQUgrQjtBQUl0Q2sxQixrQkFBUSxFQUFFQTtBQUo0QixTQUF4Qzs7QUFPQSxlQUFPQSxRQUFQO0FBQ0QsT0FyQkQsTUFxQk87QUFDTCxjQUFNLElBQUlDLEtBQUosQ0FBVSw0QkFBNEIvckIsRUFBNUIsR0FBaUMsa0JBQTNDLENBQU47QUFDRDtBQUNGLEtBaENEOztBQWtDQSxRQUFJZ3NCLFlBQVksR0FBRyxTQUFmQSxZQUFlLEdBQVk7QUFDN0IsVUFBSXJpQyxNQUFNLENBQUNpaUMsMkJBQVAsQ0FBbUNwZ0MsTUFBbkMsR0FBNEMsQ0FBaEQsRUFBbUQ7QUFDakRrVSx3RUFBUyxDQUFDL1YsTUFBTSxDQUFDaWlDLDJCQUFSLEVBQXFDLFVBQVVoMkIsUUFBVixFQUFvQjBRLEdBQXBCLEVBQXlCdlksS0FBekIsRUFBZ0M7QUFDNUUsY0FBSTZILFFBQVEsQ0FBQ2syQixRQUFiLEVBQXVCO0FBQ3JCNW1CLHlCQUFhLENBQUN0UCxRQUFRLENBQUNrMkIsUUFBVixDQUFiO0FBQ0FsMkIsb0JBQVEsQ0FBQ2syQixRQUFULEdBQW9CLElBQXBCO0FBQ0Q7QUFDRixTQUxRLENBQVQ7QUFNRDtBQUNGLEtBVEQ7O0FBV0EsUUFBSUcsZ0JBQWdCLEdBQUcsU0FBbkJBLGdCQUFtQixHQUFZO0FBQ2pDLFVBQUl0aUMsTUFBTSxDQUFDaWlDLDJCQUFQLENBQW1DcGdDLE1BQW5DLEdBQTRDLENBQWhELEVBQW1EO0FBQ2pELFlBQUkwZ0MsR0FBRyxHQUFHLEVBQVY7QUFDQXhzQix3RUFBUyxDQUFDL1YsTUFBTSxDQUFDaWlDLDJCQUFSLEVBQXFDLFVBQVVoMkIsUUFBVixFQUFvQjBRLEdBQXBCLEVBQXlCdlksS0FBekIsRUFBZ0M7QUFDNUVtK0IsYUFBRyxDQUFDNTlCLElBQUosQ0FBU3NILFFBQVQ7QUFDRCxTQUZRLENBQVQ7QUFJQWpNLGNBQU0sQ0FBQ2lpQywyQkFBUCxHQUFxQyxFQUFyQztBQUNBbHNCLHdFQUFTLENBQUN3c0IsR0FBRCxFQUFNLFVBQVV0MkIsUUFBVixFQUFvQjBRLEdBQXBCLEVBQXlCdlksS0FBekIsRUFBZ0M7QUFDN0NwRSxnQkFBTSxDQUFDZ2lDLGdCQUFQLENBQXdCLzFCLFFBQVEsQ0FBQ29LLEVBQWpDLEVBQXFDcEssUUFBUSxDQUFDaTJCLElBQTlDLEVBQW9EajJCLFFBQVEsQ0FBQ2dCLEtBQTdEO0FBQ0QsU0FGUSxDQUFUO0FBR0Q7QUFDRixLQVpEOztBQWNBLFFBQUl5cUIsY0FBYyxHQUFHLFNBQWpCQSxjQUFpQixHQUFZO0FBQy9CLE9BQUMsWUFBWTtBQUNYLFlBQUlDLE1BQU0sR0FBRyxRQUFiLENBRFcsQ0FHWDs7QUFDQSxZQUFJQSxNQUFNLElBQUlsdkIsUUFBZCxFQUF3QjtBQUN0QkEsa0JBQVEsQ0FBQzZXLGdCQUFULENBQTBCLGtCQUExQixFQUE4Q3NZLFFBQTlDO0FBQ0QsU0FGRCxNQUVPLElBQUksQ0FBQ0QsTUFBTSxHQUFHLFdBQVYsS0FBMEJsdkIsUUFBOUIsRUFBd0M7QUFDN0NBLGtCQUFRLENBQUM2VyxnQkFBVCxDQUEwQixxQkFBMUIsRUFBaURzWSxRQUFqRDtBQUNELFNBRk0sTUFFQSxJQUFJLENBQUNELE1BQU0sR0FBRyxjQUFWLEtBQTZCbHZCLFFBQWpDLEVBQTJDO0FBQ2hEQSxrQkFBUSxDQUFDNlcsZ0JBQVQsQ0FBMEIsd0JBQTFCLEVBQW9Ec1ksUUFBcEQ7QUFDRCxTQUZNLE1BRUEsSUFBSSxDQUFDRCxNQUFNLEdBQUcsVUFBVixLQUF5Qmx2QixRQUE3QixFQUF1QztBQUM1Q0Esa0JBQVEsQ0FBQzZXLGdCQUFULENBQTBCLG9CQUExQixFQUFnRHNZLFFBQWhEO0FBQ0QsU0FGTSxNQUVBLElBQUksZUFBZW52QixRQUFuQixFQUE2QjtBQUFFO0FBQ3BDQSxrQkFBUSxDQUFDb3ZCLFNBQVQsR0FBcUJwdkIsUUFBUSxDQUFDcXZCLFVBQVQsR0FBc0JGLFFBQTNDO0FBQ0QsU0FGTSxNQUVBO0FBQUU7QUFDUDUzQixnQkFBTSxDQUFDKzNCLFVBQVAsR0FBb0IvM0IsTUFBTSxDQUFDZzRCLFVBQVAsR0FBb0JoNEIsTUFBTSxDQUFDaTRCLE9BQVAsR0FBaUJqNEIsTUFBTSxDQUFDazRCLE1BQVAsR0FBZ0JOLFFBQXpFO0FBQ0Q7O0FBRUQsaUJBQVNBLFFBQVQsQ0FBbUJuRyxHQUFuQixFQUF3QjtBQUN0QixjQUFJcHZCLE1BQU0sR0FBRyxFQUFiO0FBQ0EsY0FBSTgxQixDQUFDLEdBQUcsU0FBUjtBQUNBLGNBQUlDLENBQUMsR0FBRyxRQUFSO0FBQ0EsY0FBSUMsTUFBTSxHQUFHO0FBQ1hDLGlCQUFLLEVBQUVILENBREk7QUFDREksbUJBQU8sRUFBRUosQ0FEUjtBQUNXSyxvQkFBUSxFQUFFTCxDQURyQjtBQUN3Qk0sZ0JBQUksRUFBRUwsQ0FEOUI7QUFDaUNNLG9CQUFRLEVBQUVOLENBRDNDO0FBQzhDTyxvQkFBUSxFQUFFUDtBQUR4RCxXQUFiO0FBSUEzRyxhQUFHLEdBQUdBLEdBQUcsSUFBSXp4QixNQUFNLENBQUN1ZixLQUFwQjs7QUFDQSxjQUFJa1MsR0FBRyxDQUFDOXZCLElBQUosSUFBWTAyQixNQUFoQixFQUF3QjtBQUN0QmgyQixrQkFBTSxHQUFHZzJCLE1BQU0sQ0FBQzVHLEdBQUcsQ0FBQzl2QixJQUFMLENBQWY7QUFDRCxXQUZELE1BRU87QUFDTFUsa0JBQU0sR0FBRyxLQUFLczFCLE1BQUwsSUFBZSxRQUFmLEdBQTBCLFNBQW5DO0FBQ0Q7O0FBRUQsY0FBSXQxQixNQUFNLEtBQUssU0FBZixFQUEwQjtBQUN4QmlnQyw0QkFBZ0I7QUFDakIsV0FGRCxNQUVPLElBQUlqZ0MsTUFBTSxLQUFLLFFBQWYsRUFBeUI7QUFDOUJnZ0Msd0JBQVk7QUFDYjtBQUNGLFNBdENVLENBd0NYOzs7QUFDQSxZQUFJNTVCLFFBQVEsQ0FBQ2t2QixNQUFELENBQVIsS0FBcUIvMUIsU0FBekIsRUFBb0M7QUFDbENnMkIsa0JBQVEsQ0FBQztBQUFFajJCLGdCQUFJLEVBQUU4RyxRQUFRLENBQUNrdkIsTUFBRCxDQUFSLEdBQW1CLE1BQW5CLEdBQTRCO0FBQXBDLFdBQUQsQ0FBUjtBQUNEO0FBQ0YsT0E1Q0Q7QUE2Q0QsS0E5Q0Q7O0FBZ0RBRCxrQkFBYztBQUNmO0FBQ0YsQ0FoSEQsQ0FnSEUsT0FBTzkwQixHQUFQLEVBQVk7QUFDWnZDLFNBQU8sQ0FBQ3dDLEdBQVIsQ0FBWUQsR0FBWjtBQUNELEM7Ozs7Ozs7Ozs7Ozs7QUNySEQ7QUFDQSxJQUFJLENBQUM1QyxNQUFNLENBQUNLLE9BQVosRUFBcUI7QUFDbkJMLFFBQU0sQ0FBQ0ssT0FBUCxHQUFpQixZQUFZLENBQzVCLENBREQ7O0FBR0EsTUFBSSxPQUFPWSxjQUFQLEtBQTBCLFdBQTlCLEVBQTJDO0FBQ3pDakIsVUFBTSxDQUFDSyxPQUFQLENBQWVNLFNBQWYsQ0FBeUJrQyxHQUF6QixHQUErQixVQUFVRCxHQUFWLEVBQWU7QUFDNUMsWUFBTSxJQUFJNC9CLFdBQUosQ0FBZ0I1L0IsR0FBaEIsQ0FBTjtBQUNELEtBRkQ7O0FBR0E1QyxVQUFNLENBQUNLLE9BQVAsQ0FBZU0sU0FBZixDQUF5QkwsSUFBekIsR0FBZ0MsVUFBVXNDLEdBQVYsRUFBZTtBQUM3QyxZQUFNLElBQUk0L0IsV0FBSixDQUFnQjUvQixHQUFoQixDQUFOO0FBQ0QsS0FGRDs7QUFHQTVDLFVBQU0sQ0FBQ0ssT0FBUCxDQUFlTSxTQUFmLENBQXlCb0IsS0FBekIsR0FBaUMsVUFBVWEsR0FBVixFQUFlO0FBQzlDLFlBQU0sSUFBSTQvQixXQUFKLENBQWdCNS9CLEdBQWhCLENBQU47QUFDRCxLQUZEO0FBR0Q7QUFDRixDLENBRUQ7OztBQUNBLElBQUk7QUFDRjYvQixPQUFLLENBQUM5aEMsU0FBTixDQUFnQit3QixjQUFoQixLQUFtQytRLEtBQUssQ0FBQzloQyxTQUFOLENBQWdCK3dCLGNBQWhCLEdBQWlDLFlBQVk7QUFDOUUsU0FBS2dSLFdBQUwsR0FBbUIsQ0FBQyxDQUFwQjtBQUNELEdBRkQ7QUFHRCxDQUpELENBSUUsT0FBTzkvQixHQUFQLEVBQVk7QUFDWnZDLFNBQU8sQ0FBQ3dDLEdBQVIsQ0FBWUQsR0FBWjtBQUNELEMsQ0FFRDs7O0FBQ0EsSUFBSTtBQUNGNi9CLE9BQUssQ0FBQzloQyxTQUFOLENBQWdCZ2lDLGVBQWhCLEtBQW9DRixLQUFLLENBQUM5aEMsU0FBTixDQUFnQmdpQyxlQUFoQixHQUFrQyxZQUFZO0FBQ2hGLFNBQUtDLFlBQUwsR0FBb0IsQ0FBQyxDQUFyQjtBQUNELEdBRkQ7QUFHRCxDQUpELENBSUUsT0FBT2hnQyxHQUFQLEVBQVk7QUFDWnZDLFNBQU8sQ0FBQ3dDLEdBQVIsQ0FBWUQsR0FBWjtBQUNELEMsQ0FFRDs7O0FBQ0EsSUFBSTtBQUNGLE1BQUksQ0FBQ2lnQyxPQUFPLENBQUNsaUMsU0FBUixDQUFrQjJlLGdCQUF2QixFQUF5QztBQUN2QyxRQUFJRCxjQUFjLEdBQUcsRUFBckI7O0FBQXlCLFFBQUlDLGdCQUFnQixHQUFHLFNBQW5CQSxnQkFBbUIsQ0FBVWxVLENBQVYsRUFBYTAzQixDQUFiLEVBQWdCO0FBQzlELFVBQUlDLENBQUo7QUFBTyxVQUFJQyxDQUFDLEdBQUcsSUFBUjs7QUFDUCxVQUFJRCxDQUFDLEdBQUcsV0FBVTMzQixDQUFWLEVBQWE7QUFDbkJBLFNBQUMsQ0FBQ0MsTUFBRixHQUFXRCxDQUFDLENBQUM2M0IsVUFBYixFQUF5QjczQixDQUFDLENBQUM4M0IsYUFBRixHQUFrQkYsQ0FBM0MsRUFBOEM1M0IsQ0FBQyxDQUFDMDFCLEtBQUYsR0FBVXZoQixLQUFLLENBQUM2aEIsT0FBTixHQUFnQjM0QixRQUFRLENBQUM4RixJQUFULENBQWM0MEIsVUFBdEYsRUFBa0cvM0IsQ0FBQyxDQUFDMjFCLEtBQUYsR0FBVXhoQixLQUFLLENBQUM4aEIsT0FBTixHQUFnQjU0QixRQUFRLENBQUM4RixJQUFULENBQWM2MEIsU0FBMUksRUFBcUpOLENBQUMsQ0FBQ08sV0FBRixHQUFnQlAsQ0FBQyxDQUFDTyxXQUFGLENBQWNqNEIsQ0FBZCxDQUFoQixHQUFtQzAzQixDQUFDLENBQUNRLElBQUYsQ0FBT04sQ0FBUCxFQUFVNTNCLENBQVYsQ0FBeEw7QUFDRCxPQUZHLEVBRURBLENBQUMsS0FBSyxrQkFGVCxFQUU2QjtBQUMzQixZQUFJbTRCLENBQUMsR0FBRyxTQUFKQSxDQUFJLENBQVVuNEIsQ0FBVixFQUFhO0FBQ25CM0Msa0JBQVEsQ0FBQ2pILFVBQVQsS0FBd0IsVUFBeEIsSUFBc0N1aEMsQ0FBQyxDQUFDMzNCLENBQUQsQ0FBdkM7QUFDRCxTQUZEOztBQUdBLFlBQUkzQyxRQUFRLENBQUMrNkIsV0FBVCxDQUFxQixvQkFBckIsRUFBMkNELENBQTNDLEdBQStDbGtCLGNBQWMsQ0FBQzFhLElBQWYsQ0FBb0I7QUFDckU4K0IsZ0JBQU0sRUFBRSxJQUQ2RDtBQUVyRTloQyxjQUFJLEVBQUV5SixDQUYrRDtBQUdyRXM0QixrQkFBUSxFQUFFWixDQUgyRDtBQUlyRXIxQixpQkFBTyxFQUFFODFCO0FBSjRELFNBQXBCLENBQS9DLEVBS0E5NkIsUUFBUSxDQUFDakgsVUFBVCxJQUF1QixVQUwzQixFQUt1QztBQUNyQyxjQUFJc0QsQ0FBQyxHQUFHLElBQUkyOUIsS0FBSixFQUFSO0FBQ0EzOUIsV0FBQyxDQUFDbStCLFVBQUYsR0FBZWpqQyxNQUFmLEVBQXVCdWpDLENBQUMsQ0FBQ3orQixDQUFELENBQXhCO0FBQ0Q7QUFDRixPQWZELE1BZU8sS0FBSzArQixXQUFMLENBQWlCLE9BQU9wNEIsQ0FBeEIsRUFBMkIyM0IsQ0FBM0IsR0FBK0IxakIsY0FBYyxDQUFDMWEsSUFBZixDQUFvQjtBQUFFOCtCLGNBQU0sRUFBRSxJQUFWO0FBQWdCOWhDLFlBQUksRUFBRXlKLENBQXRCO0FBQXlCczRCLGdCQUFRLEVBQUVaLENBQW5DO0FBQXNDcjFCLGVBQU8sRUFBRXMxQjtBQUEvQyxPQUFwQixDQUEvQjtBQUNSLEtBbEJ3Qjs7QUFrQnRCLFFBQUlZLG1CQUFtQixHQUFHLFNBQXRCQSxtQkFBc0IsQ0FBVXY0QixDQUFWLEVBQWEwM0IsQ0FBYixFQUFnQjtBQUMzQyxXQUFLLElBQUlDLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUcxakIsY0FBYyxDQUFDeGQsTUFBbkMsR0FBNEM7QUFDMUMsWUFBSW1oQyxDQUFDLEdBQUczakIsY0FBYyxDQUFDMGpCLENBQUQsQ0FBdEI7O0FBQ0EsWUFBSUMsQ0FBQyxDQUFDUyxNQUFGLElBQVksSUFBWixJQUFvQlQsQ0FBQyxDQUFDcmhDLElBQUYsSUFBVXlKLENBQTlCLElBQW1DNDNCLENBQUMsQ0FBQ1UsUUFBRixJQUFjWixDQUFyRCxFQUF3RDtBQUN0RDEzQixXQUFDLElBQUksa0JBQUwsR0FBMEIsS0FBS3c0QixXQUFMLENBQWlCLG9CQUFqQixFQUF1Q1osQ0FBQyxDQUFDdjFCLE9BQXpDLENBQTFCLEdBQThFLEtBQUttMkIsV0FBTCxDQUFpQixPQUFPeDRCLENBQXhCLEVBQTJCNDNCLENBQUMsQ0FBQ3YxQixPQUE3QixDQUE5RTtBQUNBO0FBQ0Q7O0FBQ0QsVUFBRXMxQixDQUFGO0FBQ0Q7QUFDRixLQVRFOztBQVVIRixXQUFPLENBQUNsaUMsU0FBUixDQUFrQjJlLGdCQUFsQixHQUFxQ0EsZ0JBQXJDLEVBQXVEdWpCLE9BQU8sQ0FBQ2xpQyxTQUFSLENBQWtCZ2pDLG1CQUFsQixHQUF3Q0EsbUJBQS9GLEVBQW9IRSxZQUFZLEtBQUtBLFlBQVksQ0FBQ2xqQyxTQUFiLENBQXVCMmUsZ0JBQXZCLEdBQTBDQSxnQkFBMUMsRUFBNER1a0IsWUFBWSxDQUFDbGpDLFNBQWIsQ0FBdUJnakMsbUJBQXZCLEdBQTZDQSxtQkFBOUcsQ0FBaEksRUFBb1FHLE1BQU0sS0FBS0EsTUFBTSxDQUFDbmpDLFNBQVAsQ0FBaUIyZSxnQkFBakIsR0FBb0NBLGdCQUFwQyxFQUFzRHdrQixNQUFNLENBQUNuakMsU0FBUCxDQUFpQmdqQyxtQkFBakIsR0FBdUNBLG1CQUFsRyxDQUExUTtBQUNEOztBQUNEZCxTQUFPLENBQUNsaUMsU0FBUixDQUFrQmd1QixNQUFsQixLQUE2QmtVLE9BQU8sQ0FBQ2xpQyxTQUFSLENBQWtCZ3VCLE1BQWxCLEdBQTJCLFlBQVk7QUFDbEUsU0FBS29WLGFBQUwsQ0FBbUJDLFdBQW5CLENBQStCLElBQS9CO0FBQ0QsR0FGNEIsRUFFMUJDLFFBQVEsQ0FBQ3RqQyxTQUFULENBQW1CZ3VCLE1BQW5CLEdBQTRCdVYsY0FBYyxDQUFDdmpDLFNBQWYsQ0FBeUJndUIsTUFBekIsR0FBa0MsWUFBWTtBQUMzRSxTQUFLLElBQUl2akIsQ0FBQyxHQUFHLENBQVIsRUFBVzAzQixDQUFDLEdBQUcsS0FBS2poQyxNQUF6QixFQUFpQ2loQyxDQUFDLEdBQUcxM0IsQ0FBckMsRUFBd0NBLENBQUMsRUFBekM7QUFBNkMsV0FBS0EsQ0FBTCxLQUFXLEtBQUtBLENBQUwsRUFBUTI0QixhQUFuQixJQUFvQyxLQUFLMzRCLENBQUwsRUFBUTI0QixhQUFSLENBQXNCQyxXQUF0QixDQUFrQyxLQUFLNTRCLENBQUwsQ0FBbEMsQ0FBcEM7QUFBN0M7QUFDRCxHQUpEO0FBS0QsQ0FyQ0QsQ0FxQ0UsT0FBT3hJLEdBQVAsRUFBWTtBQUNadkMsU0FBTyxDQUFDd0MsR0FBUixDQUFZRCxHQUFaO0FBQ0Q7O0FBQ0QsT0FBTzNCLGNBQVAsS0FBMEIsV0FBMUIsS0FBMEMsUUFBT2pCLE1BQU0sQ0FBQzBDLElBQWQsTUFBdUIsUUFBdkIsS0FBb0MxQyxNQUFNLENBQUMwQyxJQUFQLEdBQWMsRUFBbEQsR0FBd0QsWUFBWTtBQUM1Rzs7QUFFQSxXQUFTeWhDLENBQVQsQ0FBWS80QixDQUFaLEVBQWU7QUFDYixXQUFPQSxDQUFDLEdBQUcsRUFBSixHQUFTLE1BQU1BLENBQWYsR0FBbUJBLENBQTFCO0FBQ0Q7O0FBRUQsV0FBU2c1QixLQUFULENBQWdCaDVCLENBQWhCLEVBQW1CO0FBQ2pCLFdBQU9pNUIsU0FBUyxDQUFDQyxTQUFWLEdBQXNCLENBQXRCLEVBQXlCRCxTQUFTLENBQUNFLElBQVYsQ0FBZW41QixDQUFmLElBQW9CLE1BQU1BLENBQUMsQ0FBQy9KLE9BQUYsQ0FBVWdqQyxTQUFWLEVBQXFCLFVBQVVqNUIsQ0FBVixFQUFhO0FBQzFGLFVBQUkwM0IsQ0FBQyxHQUFHNXFCLElBQUksQ0FBQzlNLENBQUQsQ0FBWjtBQUNBLGFBQU8sT0FBTzAzQixDQUFQLEtBQWEsUUFBYixHQUF3QkEsQ0FBeEIsR0FBNEIsUUFBUSxDQUFDLFNBQVMxM0IsQ0FBQyxDQUFDbzVCLFVBQUYsQ0FBYSxDQUFiLEVBQWdCbHZCLFFBQWhCLENBQXlCLEVBQXpCLENBQVYsRUFBd0NtdkIsS0FBeEMsQ0FBOEMsQ0FBQyxDQUEvQyxDQUEzQztBQUNELEtBSHlELENBQU4sR0FHL0MsR0FIMkIsR0FHckIsTUFBTXI1QixDQUFOLEdBQVUsR0FIckI7QUFJRDs7QUFFRCxXQUFTeUosR0FBVCxDQUFjekosQ0FBZCxFQUFpQjAzQixDQUFqQixFQUFvQjtBQUNsQixRQUFJQyxDQUFKO0FBQU8sUUFBSUMsQ0FBSjtBQUFPLFFBQUlPLENBQUo7QUFBTyxRQUFJeitCLENBQUo7QUFBTyxRQUFJaWUsQ0FBSjtBQUFPLFFBQUkyaEIsQ0FBQyxHQUFHQyxHQUFSO0FBQWEsUUFBSUMsQ0FBQyxHQUFHOUIsQ0FBQyxDQUFDMTNCLENBQUQsQ0FBVDs7QUFDaEQsWUFBUXc1QixDQUFDLElBQUksUUFBT0EsQ0FBUCxNQUFhLFFBQWxCLElBQThCLE9BQU9BLENBQUMsQ0FBQ0MsTUFBVCxLQUFvQixVQUFsRCxLQUFpRUQsQ0FBQyxHQUFHQSxDQUFDLENBQUNDLE1BQUYsQ0FBU3o1QixDQUFULENBQXJFLEdBQW1GLE9BQU8wNUIsR0FBUCxLQUFlLFVBQWYsS0FBOEJGLENBQUMsR0FBR0UsR0FBRyxDQUFDeEIsSUFBSixDQUFTUixDQUFULEVBQVkxM0IsQ0FBWixFQUFldzVCLENBQWYsQ0FBbEMsQ0FBbkYsVUFBZ0pBLENBQWhKLENBQVI7QUFDRSxXQUFLLFFBQUw7QUFDRSxlQUFPUixLQUFLLENBQUNRLENBQUQsQ0FBWjs7QUFDRixXQUFLLFFBQUw7QUFDRSxlQUFPRyxRQUFRLENBQUNILENBQUQsQ0FBUixHQUFjdGdDLE1BQU0sQ0FBQ3NnQyxDQUFELENBQXBCLEdBQTBCLE1BQWpDOztBQUNGLFdBQUssU0FBTDtBQUNBLFdBQUssTUFBTDtBQUNFLGVBQU90Z0MsTUFBTSxDQUFDc2dDLENBQUQsQ0FBYjs7QUFDRixXQUFLLFFBQUw7QUFDRSxZQUFJLENBQUNBLENBQUwsRUFBUSxPQUFPLE1BQVA7O0FBQ1IsWUFBSUQsR0FBRyxJQUFJSyxNQUFQLEVBQWVqaUIsQ0FBQyxHQUFHLEVBQW5CLEVBQXVCaEQsTUFBTSxDQUFDcGYsU0FBUCxDQUFpQjJVLFFBQWpCLENBQTBCMnZCLEtBQTFCLENBQWdDTCxDQUFoQyxNQUF1QyxnQkFBbEUsRUFBb0Y7QUFDbEYsZUFBSzkvQixDQUFDLEdBQUc4L0IsQ0FBQyxDQUFDL2lDLE1BQU4sRUFBY2toQyxDQUFDLEdBQUcsQ0FBdkIsRUFBMEJqK0IsQ0FBQyxHQUFHaStCLENBQTlCLEVBQWlDQSxDQUFDLElBQUksQ0FBdEM7QUFBeUNoZ0IsYUFBQyxDQUFDZ2dCLENBQUQsQ0FBRCxHQUFPbHVCLEdBQUcsQ0FBQ2t1QixDQUFELEVBQUk2QixDQUFKLENBQUgsSUFBYSxNQUFwQjtBQUF6Qzs7QUFDQSxpQkFBT3JCLENBQUMsR0FBR3hnQixDQUFDLENBQUNsaEIsTUFBRixLQUFhLENBQWIsR0FBaUIsSUFBakIsR0FBd0I4aUMsR0FBRyxHQUFHLFFBQVFBLEdBQVIsR0FBYzVoQixDQUFDLENBQUNwTyxJQUFGLENBQU8sUUFBUWd3QixHQUFmLENBQWQsR0FBb0MsSUFBcEMsR0FBMkNELENBQTNDLEdBQStDLEdBQWxELEdBQXdELE1BQU0zaEIsQ0FBQyxDQUFDcE8sSUFBRixDQUFPLEdBQVAsQ0FBTixHQUFvQixHQUEzRyxFQUFnSGd3QixHQUFHLEdBQUdELENBQXRILEVBQXlIbkIsQ0FBaEk7QUFDRDs7QUFDRCxZQUFJdUIsR0FBRyxJQUFJLFFBQU9BLEdBQVAsTUFBZSxRQUExQixFQUFvQyxLQUFLaGdDLENBQUMsR0FBR2dnQyxHQUFHLENBQUNqakMsTUFBUixFQUFnQmtoQyxDQUFDLEdBQUcsQ0FBekIsRUFBNEJqK0IsQ0FBQyxHQUFHaStCLENBQWhDLEVBQW1DQSxDQUFDLElBQUksQ0FBeEM7QUFBMkMsaUJBQU8rQixHQUFHLENBQUMvQixDQUFELENBQVYsS0FBa0IsUUFBbEIsS0FBK0JDLENBQUMsR0FBRzhCLEdBQUcsQ0FBQy9CLENBQUQsQ0FBUCxFQUFZUSxDQUFDLEdBQUcxdUIsR0FBRyxDQUFDbXVCLENBQUQsRUFBSTRCLENBQUosQ0FBbkIsRUFBMkJyQixDQUFDLElBQUl4Z0IsQ0FBQyxDQUFDcGUsSUFBRixDQUFPeS9CLEtBQUssQ0FBQ3BCLENBQUQsQ0FBTCxJQUFZMkIsR0FBRyxHQUFHLElBQUgsR0FBVSxHQUF6QixJQUFnQ3BCLENBQXZDLENBQS9EO0FBQTNDLFNBQXBDLE1BQStMLEtBQUtQLENBQUwsSUFBVTRCLENBQVY7QUFBYTdrQixnQkFBTSxDQUFDcGYsU0FBUCxDQUFpQnVoQixjQUFqQixDQUFnQ29oQixJQUFoQyxDQUFxQ3NCLENBQXJDLEVBQXdDNUIsQ0FBeEMsTUFBK0NPLENBQUMsR0FBRzF1QixHQUFHLENBQUNtdUIsQ0FBRCxFQUFJNEIsQ0FBSixDQUFQLEVBQWVyQixDQUFDLElBQUl4Z0IsQ0FBQyxDQUFDcGUsSUFBRixDQUFPeS9CLEtBQUssQ0FBQ3BCLENBQUQsQ0FBTCxJQUFZMkIsR0FBRyxHQUFHLElBQUgsR0FBVSxHQUF6QixJQUFnQ3BCLENBQXZDLENBQW5FO0FBQWI7QUFDL0wsZUFBT0EsQ0FBQyxHQUFHeGdCLENBQUMsQ0FBQ2xoQixNQUFGLEtBQWEsQ0FBYixHQUFpQixJQUFqQixHQUF3QjhpQyxHQUFHLEdBQUcsUUFBUUEsR0FBUixHQUFjNWhCLENBQUMsQ0FBQ3BPLElBQUYsQ0FBTyxRQUFRZ3dCLEdBQWYsQ0FBZCxHQUFvQyxJQUFwQyxHQUEyQ0QsQ0FBM0MsR0FBK0MsR0FBbEQsR0FBd0QsTUFBTTNoQixDQUFDLENBQUNwTyxJQUFGLENBQU8sR0FBUCxDQUFOLEdBQW9CLEdBQTNHLEVBQWdIZ3dCLEdBQUcsR0FBR0QsQ0FBdEgsRUFBeUhuQixDQUFoSTtBQWZKO0FBaUJEOztBQUVELFNBQU8xNEIsSUFBSSxDQUFDbEssU0FBTCxDQUFla2tDLE1BQXRCLEtBQWlDLFVBQWpDLEtBQWdEaDZCLElBQUksQ0FBQ2xLLFNBQUwsQ0FBZWtrQyxNQUFmLEdBQXdCLFlBQVk7QUFDbEYsV0FBT0UsUUFBUSxDQUFDLEtBQUtqNkIsT0FBTCxFQUFELENBQVIsR0FBMkIsS0FBS2dQLGNBQUwsS0FBd0IsR0FBeEIsR0FBOEJxcUIsQ0FBQyxDQUFDLEtBQUtwcUIsV0FBTCxLQUFxQixDQUF0QixDQUEvQixHQUEwRCxHQUExRCxHQUFnRW9xQixDQUFDLENBQUMsS0FBS25xQixVQUFMLEVBQUQsQ0FBakUsR0FBdUYsR0FBdkYsR0FBNkZtcUIsQ0FBQyxDQUFDLEtBQUtscUIsV0FBTCxFQUFELENBQTlGLEdBQXFILEdBQXJILEdBQTJIa3FCLENBQUMsQ0FBQyxLQUFLanFCLGFBQUwsRUFBRCxDQUE1SCxHQUFxSixHQUFySixHQUEySmlxQixDQUFDLENBQUMsS0FBS2UsYUFBTCxFQUFELENBQTVKLEdBQXFMLEdBQWhOLEdBQXNOLElBQTdOO0FBQ0QsR0FGK0MsRUFFN0M1Z0MsTUFBTSxDQUFDM0QsU0FBUCxDQUFpQmtrQyxNQUFqQixHQUEwQk0sTUFBTSxDQUFDeGtDLFNBQVAsQ0FBaUJra0MsTUFBakIsR0FBMEJPLE9BQU8sQ0FBQ3prQyxTQUFSLENBQWtCa2tDLE1BQWxCLEdBQTJCLFlBQVk7QUFDNUYsV0FBTyxLQUFLLzVCLE9BQUwsRUFBUDtBQUNELEdBSkQ7QUFLQSxNQUFJdTZCLEVBQUosRUFBUWhCLFNBQVIsRUFBbUJNLEdBQW5CLEVBQXdCSyxNQUF4QixFQUFnQzlzQixJQUFoQyxFQUFzQzRzQixHQUF0QztBQUNBLFNBQU85a0MsTUFBTSxDQUFDMEMsSUFBUCxDQUFZQyxTQUFuQixLQUFpQyxVQUFqQyxLQUFnRDBoQyxTQUFTLEdBQUcsMEhBQVosRUFBd0luc0IsSUFBSSxHQUFHO0FBQzdMLFVBQU0sS0FEdUw7QUFFN0wsU0FBSyxLQUZ3TDtBQUc3TCxVQUFNLEtBSHVMO0FBSTdMLFVBQU0sS0FKdUw7QUFLN0wsVUFBTSxLQUx1TDtBQU03TCxTQUFLLEtBTndMO0FBTzdMLFVBQU07QUFQdUwsR0FBL0ksRUFRN0NsWSxNQUFNLENBQUMwQyxJQUFQLENBQVlDLFNBQVosR0FBd0IsVUFBVXlJLENBQVYsRUFBYTAzQixDQUFiLEVBQWdCQyxDQUFoQixFQUFtQjtBQUM1QyxRQUFJQyxDQUFKO0FBQ0EsUUFBSTJCLEdBQUcsR0FBRyxFQUFOLEVBQVVLLE1BQU0sR0FBRyxFQUFuQixFQUF1QixPQUFPakMsQ0FBUCxLQUFhLFFBQXhDLEVBQWtELEtBQUtDLENBQUMsR0FBRyxDQUFULEVBQVlELENBQUMsR0FBR0MsQ0FBaEIsRUFBbUJBLENBQUMsSUFBSSxDQUF4QjtBQUEyQmdDLFlBQU0sSUFBSSxHQUFWO0FBQTNCLEtBQWxELE1BQWlHLE9BQU9qQyxDQUFQLEtBQWEsUUFBYixLQUEwQmlDLE1BQU0sR0FBR2pDLENBQW5DO0FBQ2pHLFFBQUkrQixHQUFHLEdBQUdoQyxDQUFOLEVBQVNBLENBQUMsSUFBSSxPQUFPQSxDQUFQLEtBQWEsVUFBbEIsS0FBaUMsUUFBT0EsQ0FBUCxNQUFhLFFBQWIsSUFBeUIsT0FBT0EsQ0FBQyxDQUFDamhDLE1BQVQsS0FBb0IsUUFBOUUsQ0FBYixFQUFzRyxNQUFNLElBQUl1Z0MsS0FBSixDQUFVLGdCQUFWLENBQU47QUFDdEcsV0FBT3Z0QixHQUFHLENBQUMsRUFBRCxFQUFLO0FBQUUsVUFBSXpKO0FBQU4sS0FBTCxDQUFWO0FBQ0QsR0FiRCxHQWFJLE9BQU9wTCxNQUFNLENBQUMwQyxJQUFQLENBQVlnRCxLQUFuQixLQUE2QixVQUE3QixLQUE0QzIvQixFQUFFLEdBQUcsMEdBQUwsRUFBaUhybEMsTUFBTSxDQUFDMEMsSUFBUCxDQUFZZ0QsS0FBWixHQUFvQixVQUFVNC9CLElBQVYsRUFBZ0JDLE9BQWhCLEVBQXlCO0FBQzVNLGFBQVNDLElBQVQsQ0FBZXA2QixDQUFmLEVBQWtCMDNCLENBQWxCLEVBQXFCO0FBQ25CLFVBQUlDLENBQUo7QUFBTyxVQUFJQyxDQUFKO0FBQU8sVUFBSU8sQ0FBQyxHQUFHbjRCLENBQUMsQ0FBQzAzQixDQUFELENBQVQ7QUFDZCxVQUFJUyxDQUFDLElBQUksUUFBT0EsQ0FBUCxNQUFhLFFBQXRCLEVBQWdDLEtBQUtSLENBQUwsSUFBVVEsQ0FBVjtBQUFheGpCLGNBQU0sQ0FBQ3BmLFNBQVAsQ0FBaUJ1aEIsY0FBakIsQ0FBZ0NvaEIsSUFBaEMsQ0FBcUNDLENBQXJDLEVBQXdDUixDQUF4QyxNQUErQ0MsQ0FBQyxHQUFHd0MsSUFBSSxDQUFDakMsQ0FBRCxFQUFJUixDQUFKLENBQVIsRUFBZ0IsS0FBSyxDQUFMLEtBQVdDLENBQVgsR0FBZU8sQ0FBQyxDQUFDUixDQUFELENBQUQsR0FBT0MsQ0FBdEIsR0FBMEIsT0FBT08sQ0FBQyxDQUFDUixDQUFELENBQWpHO0FBQWI7QUFDaEMsYUFBT3dDLE9BQU8sQ0FBQ2pDLElBQVIsQ0FBYWw0QixDQUFiLEVBQWdCMDNCLENBQWhCLEVBQW1CUyxDQUFuQixDQUFQO0FBQ0Q7O0FBRUQsUUFBSWtDLENBQUo7QUFDQSxRQUFJSCxJQUFJLEdBQUdoaEMsTUFBTSxDQUFDZ2hDLElBQUQsQ0FBYixFQUFxQkQsRUFBRSxDQUFDZixTQUFILEdBQWUsQ0FBcEMsRUFBdUNlLEVBQUUsQ0FBQ2QsSUFBSCxDQUFRZSxJQUFSLE1BQWtCQSxJQUFJLEdBQUdBLElBQUksQ0FBQ2prQyxPQUFMLENBQWFna0MsRUFBYixFQUFpQixVQUFVajZCLENBQVYsRUFBYTtBQUNoRyxhQUFPLFFBQVEsQ0FBQyxTQUFTQSxDQUFDLENBQUNvNUIsVUFBRixDQUFhLENBQWIsRUFBZ0JsdkIsUUFBaEIsQ0FBeUIsRUFBekIsQ0FBVixFQUF3Q212QixLQUF4QyxDQUE4QyxDQUFDLENBQS9DLENBQWY7QUFDRCxLQUZtRSxDQUF6QixDQUF2QyxFQUVDLGdCQUFnQkYsSUFBaEIsQ0FBcUJlLElBQUksQ0FBQ2prQyxPQUFMLENBQWEscUNBQWIsRUFBb0QsR0FBcEQsRUFBeURBLE9BQXpELENBQWlFLGtFQUFqRSxFQUFxSSxHQUFySSxFQUEwSUEsT0FBMUksQ0FBa0osc0JBQWxKLEVBQTBLLEVBQTFLLENBQXJCLENBRkwsRUFFME0sT0FBT29rQyxDQUFDLEdBQUdDLElBQUksQ0FBQyxNQUFNSixJQUFOLEdBQWEsR0FBZCxDQUFSLEVBQTRCLE9BQU9DLE9BQVAsS0FBbUIsVUFBbkIsR0FBZ0NDLElBQUksQ0FBQztBQUFFLFVBQUlDO0FBQU4sS0FBRCxFQUFZLEVBQVosQ0FBcEMsR0FBc0RBLENBQXpGO0FBQzFNLFVBQU0sSUFBSWpELFdBQUosQ0FBZ0IsWUFBaEIsQ0FBTjtBQUNELEdBWkcsQ0FiSjtBQTBCRCxDQW5FaUcsRUFBbEcsRSxDQXFFQTs7QUFDQSxJQUFJbUQsTUFBTSxHQUFHdFcsS0FBSyxDQUFDMXVCLFNBQU4sQ0FBZ0I4akMsS0FBN0I7O0FBRUEsSUFBSTtBQUNGa0IsUUFBTSxDQUFDckMsSUFBUCxDQUFZNzZCLFFBQVEsQ0FBQ205QixlQUFyQjtBQUNELENBRkQsQ0FFRSxPQUFPeDZCLENBQVAsRUFBVTtBQUNWaWtCLE9BQUssQ0FBQzF1QixTQUFOLENBQWdCOGpDLEtBQWhCLEdBQXdCLFVBQVUzQixDQUFWLEVBQWExM0IsQ0FBYixFQUFnQjtBQUN0QyxRQUFJQSxDQUFDLEdBQUcsT0FBT0EsQ0FBUCxLQUFhLFdBQWIsR0FBMkJBLENBQTNCLEdBQStCLEtBQUt2SixNQUF4QyxFQUFnRGtlLE1BQU0sQ0FBQ3BmLFNBQVAsQ0FBaUIyVSxRQUFqQixDQUEwQmd1QixJQUExQixDQUErQixJQUEvQixNQUF5QyxnQkFBN0YsRUFBK0csT0FBT3FDLE1BQU0sQ0FBQ3JDLElBQVAsQ0FBWSxJQUFaLEVBQWtCUixDQUFsQixFQUFxQjEzQixDQUFyQixDQUFQO0FBQy9HLFFBQUk0M0IsQ0FBSjtBQUFPLFFBQUlsK0IsQ0FBSjtBQUFPLFFBQUkrZ0MsQ0FBQyxHQUFHLEVBQVI7QUFBWSxRQUFJQyxDQUFDLEdBQUcsS0FBS2prQyxNQUFiO0FBQXFCLFFBQUkwaEMsQ0FBQyxHQUFHVCxDQUFDLElBQUksQ0FBYjtBQUMvQ1MsS0FBQyxHQUFHQSxDQUFDLElBQUksQ0FBTCxHQUFTQSxDQUFULEdBQWF1QyxDQUFDLEdBQUd2QyxDQUFyQjtBQUNBLFFBQUl4Z0IsQ0FBQyxHQUFHM1gsQ0FBQyxJQUFJMDZCLENBQWI7QUFDQSxRQUFJMTZCLENBQUMsR0FBRyxDQUFKLEtBQVUyWCxDQUFDLEdBQUcraUIsQ0FBQyxHQUFHMTZCLENBQWxCLEdBQXNCdEcsQ0FBQyxHQUFHaWUsQ0FBQyxHQUFHd2dCLENBQTlCLEVBQWlDeitCLENBQUMsR0FBRyxDQUF6QyxFQUE0QyxJQUFJK2dDLENBQUMsR0FBRyxJQUFJeFcsS0FBSixDQUFVdnFCLENBQVYsQ0FBSixFQUFrQixLQUFLaWhDLE1BQTNCLEVBQW1DLEtBQUsvQyxDQUFDLEdBQUcsQ0FBVCxFQUFZbCtCLENBQUMsR0FBR2srQixDQUFoQixFQUFtQkEsQ0FBQyxFQUFwQjtBQUF3QjZDLE9BQUMsQ0FBQzdDLENBQUQsQ0FBRCxHQUFPLEtBQUsrQyxNQUFMLENBQVl4QyxDQUFDLEdBQUdQLENBQWhCLENBQVA7QUFBeEIsS0FBbkMsTUFBMkYsS0FBS0EsQ0FBQyxHQUFHLENBQVQsRUFBWWwrQixDQUFDLEdBQUdrK0IsQ0FBaEIsRUFBbUJBLENBQUMsRUFBcEI7QUFBd0I2QyxPQUFDLENBQUM3QyxDQUFELENBQUQsR0FBTyxLQUFLTyxDQUFDLEdBQUdQLENBQVQsQ0FBUDtBQUF4QjtBQUN2SSxXQUFPNkMsQ0FBUDtBQUNELEdBUEQ7QUFRRCxDLENBRUQ7OztBQUVBLENBQUMsVUFBVXRlLE1BQVYsRUFBa0I7QUFDakIsTUFBSSxpQkFBaUJBLE1BQXJCLEVBQTZCO0FBQzdCLE1BQUl5ZSxNQUFNLEdBQUcsOEJBQWI7O0FBQ0EsTUFBSTVPLFdBQVcsR0FBRyxTQUFkQSxXQUFjLENBQVV0MkIsR0FBVixFQUFlO0FBQy9CLFFBQUltbEMsV0FBVyxHQUFHLElBQWxCO0FBQXdCLFFBQUk5RCxRQUFRLEdBQUcsR0FBZjtBQUFvQjs7QUFBd0IsUUFBSStELFdBQVcsR0FBRyxJQUFsQjtBQUF3QixRQUFJQyxLQUFLLEdBQUcsRUFBWjs7QUFDNUYsUUFBSSxDQUFDcmxDLEdBQUQsSUFBUSxPQUFPQSxHQUFQLEtBQWUsUUFBM0IsRUFBcUM7QUFDbkMsWUFBTSxJQUFJMGhDLFdBQUosQ0FBZ0Isc0JBQWhCLENBQU47QUFDRDs7QUFDRCxTQUFLam1CLEdBQUwsR0FBV3piLEdBQVg7QUFDQSxTQUFLVSxVQUFMLEdBQWtCLEtBQUs0a0MsVUFBdkI7QUFDQSxTQUFLQyxVQUFMLEdBQWtCLElBQWxCO0FBQ0EsU0FBS0MsSUFBTCxHQUFZLElBQVo7O0FBRUEsYUFBU0MsU0FBVCxDQUFvQnBFLFFBQXBCLEVBQThCO0FBQzVCOEQsaUJBQVcsQ0FBQ0ksVUFBWixHQUF5QmxnQyxVQUFVLENBQUMsWUFBWTtBQUM5Q3FnQyxZQUFJLENBQUNsRCxJQUFMLENBQVUyQyxXQUFWO0FBQ0QsT0FGa0MsRUFFaEM5RCxRQUZnQyxDQUFuQztBQUdEOztBQUVELGFBQVNxRSxJQUFULEdBQWlCO0FBQ2YsVUFBSTtBQUFFO0FBQ0osWUFBSVAsV0FBVyxDQUFDemtDLFVBQVosS0FBMkJ5a0MsV0FBVyxDQUFDMU8sTUFBM0MsRUFBbUQ7QUFBUTs7QUFDM0QsWUFBSTkyQixHQUFHLEdBQUcsSUFBSUMsY0FBSixFQUFWO0FBQ0FELFdBQUcsQ0FBQ08sSUFBSixDQUFTLEtBQVQsRUFBZ0JpbEMsV0FBVyxDQUFDMXBCLEdBQTVCLEVBQWlDLElBQWpDO0FBQ0E5YixXQUFHLENBQUMrQixnQkFBSixDQUFxQixRQUFyQixFQUErQixtQkFBL0I7QUFDQS9CLFdBQUcsQ0FBQytCLGdCQUFKLENBQXFCLGVBQXJCLEVBQXNDLFVBQXRDO0FBQW1EOztBQUNuRC9CLFdBQUcsQ0FBQytCLGdCQUFKLENBQXFCLGtCQUFyQixFQUF5QyxnQkFBekM7QUFDQSxZQUFJMGpDLFdBQVcsSUFBSSxJQUFuQixFQUF5QnpsQyxHQUFHLENBQUMrQixnQkFBSixDQUFxQixlQUFyQixFQUFzQzBqQyxXQUF0QztBQUN6QkMsYUFBSyxHQUFHLEVBQVI7QUFDQTFsQyxXQUFHLENBQUNnbUMsT0FBSixHQUFjLEtBQWQ7O0FBQ0FobUMsV0FBRyxDQUFDaW1DLGtCQUFKLEdBQXlCLFlBQVk7QUFDbkMsY0FBSSxLQUFLbGxDLFVBQUwsSUFBbUIsQ0FBbkIsSUFBeUIsS0FBS0EsVUFBTCxJQUFtQixDQUFuQixJQUF3QixLQUFLYSxNQUFMLElBQWUsR0FBcEUsRUFBMEU7QUFBRTtBQUMxRSxnQkFBSTRqQyxXQUFXLENBQUN6a0MsVUFBWixJQUEwQnlrQyxXQUFXLENBQUNHLFVBQTFDLEVBQXNEO0FBQ3BESCx5QkFBVyxDQUFDemtDLFVBQVosR0FBeUJ5a0MsV0FBVyxDQUFDVSxJQUFyQztBQUNBVix5QkFBVyxDQUFDVyxhQUFaLENBQTBCLE1BQTFCLEVBQWtDO0FBQUVqbEMsb0JBQUksRUFBRTtBQUFSLGVBQWxDO0FBQ0Q7O0FBQ0QsZ0JBQUlRLFlBQVksR0FBRyxFQUFuQjs7QUFDQSxnQkFBSTtBQUNGQSwwQkFBWSxHQUFHLEtBQUtBLFlBQUwsSUFBcUIsRUFBcEM7QUFDRCxhQUZELENBRUUsT0FBT2lKLENBQVAsRUFBVSxDQUNYO0FBQUM7OztBQUNGLGdCQUFJeTdCLEtBQUssR0FBRzFrQyxZQUFZLENBQUNzeUIsTUFBYixDQUFvQjBSLEtBQUssQ0FBQ3RrQyxNQUExQixFQUFrQ2dWLEtBQWxDLENBQXdDLElBQXhDLENBQVo7QUFBMkQsZ0JBQUlpd0IsU0FBUyxHQUFHLFNBQWhCO0FBQTJCLGdCQUFJcGxDLElBQUksR0FBRyxFQUFYO0FBQWUsZ0JBQUlvRCxDQUFDLEdBQUcsQ0FBUjtBQUNyRyxnQkFBSWlpQyxJQUFJLEdBQUcsRUFBWDtBQUNBWixpQkFBSyxHQUFHaGtDLFlBQVI7QUFBc0I7O0FBQ3RCLG1CQUFPMkMsQ0FBQyxHQUFHK2hDLEtBQUssQ0FBQ2hsQyxNQUFqQixFQUF5QmlELENBQUMsRUFBMUIsRUFBOEI7QUFDNUJpaUMsa0JBQUksR0FBR0YsS0FBSyxDQUFDL2hDLENBQUQsQ0FBTCxDQUFTekQsT0FBVCxDQUFpQjJrQyxNQUFqQixFQUF5QixFQUF6QixDQUFQOztBQUNBLGtCQUFJZSxJQUFJLENBQUM3bEMsT0FBTCxDQUFhLE9BQWIsTUFBMEIsQ0FBOUIsRUFBaUM7QUFDL0I0bEMseUJBQVMsR0FBR0MsSUFBSSxDQUFDMWxDLE9BQUwsQ0FBYSxZQUFiLEVBQTJCLEVBQTNCLENBQVo7QUFDRCxlQUZELE1BRU8sSUFBSTBsQyxJQUFJLENBQUM3bEMsT0FBTCxDQUFhLE9BQWIsTUFBMEIsQ0FBOUIsRUFBaUM7QUFDdEMsb0JBQUk4bEMsS0FBSyxHQUFHOXZCLFFBQVEsQ0FBQzZ2QixJQUFJLENBQUMxbEMsT0FBTCxDQUFhLFlBQWIsRUFBMkIsRUFBM0IsQ0FBRCxDQUFwQjs7QUFDQSxvQkFBSSxDQUFDNGxDLEtBQUssQ0FBQ0QsS0FBRCxDQUFWLEVBQW1CO0FBQ2pCN0UsMEJBQVEsR0FBRzZFLEtBQVg7QUFDRDtBQUNGLGVBTE0sTUFLQSxJQUFJRCxJQUFJLENBQUM3bEMsT0FBTCxDQUFhLE1BQWIsTUFBeUIsQ0FBN0IsRUFBZ0M7QUFDckNRLG9CQUFJLENBQUNpRCxJQUFMLENBQVVvaUMsSUFBSSxDQUFDMWxDLE9BQUwsQ0FBYSxXQUFiLEVBQTBCLEVBQTFCLENBQVY7QUFDRCxlQUZNLE1BRUEsSUFBSTBsQyxJQUFJLENBQUM3bEMsT0FBTCxDQUFhLEtBQWIsTUFBd0IsQ0FBNUIsRUFBK0I7QUFDcENnbEMsMkJBQVcsR0FBR2EsSUFBSSxDQUFDMWxDLE9BQUwsQ0FBYSxTQUFiLEVBQXdCLEVBQXhCLENBQWQ7QUFDRCxlQUZNLE1BRUEsSUFBSTBsQyxJQUFJLENBQUM3bEMsT0FBTCxDQUFhLElBQWIsTUFBdUIsQ0FBM0IsRUFBOEI7QUFBRTtBQUNyQ2dsQywyQkFBVyxHQUFHLElBQWQ7QUFDRCxlQUZNLE1BRUEsSUFBSWEsSUFBSSxLQUFLLEVBQWIsRUFBaUI7QUFDdEIsb0JBQUlybEMsSUFBSSxDQUFDRyxNQUFULEVBQWlCO0FBQ2Ysc0JBQUkwZCxLQUFLLEdBQUcsSUFBSTJuQixZQUFKLENBQWlCeGxDLElBQUksQ0FBQ2lULElBQUwsQ0FBVSxJQUFWLENBQWpCLEVBQWtDc3hCLFdBQVcsQ0FBQ25sQyxHQUE5QyxFQUFtRG9sQyxXQUFuRCxDQUFaO0FBQ0FELDZCQUFXLENBQUNXLGFBQVosQ0FBMEJFLFNBQTFCLEVBQXFDdm5CLEtBQXJDO0FBQ0E3ZCxzQkFBSSxHQUFHLEVBQVA7QUFDQW9sQywyQkFBUyxHQUFHLFNBQVo7QUFDRDtBQUNGO0FBQ0Y7O0FBQ0QsZ0JBQUksS0FBS3RsQyxVQUFMLEtBQW9CLENBQXhCLEVBQTJCK2tDLFNBQVMsQ0FBQ3BFLFFBQUQsQ0FBVDtBQUFxQjtBQUNqRCxXQXRDRCxNQXNDTyxJQUFJOEQsV0FBVyxDQUFDemtDLFVBQVosS0FBMkJ5a0MsV0FBVyxDQUFDMU8sTUFBM0MsRUFBbUQ7QUFDeEQsZ0JBQUksS0FBSy8xQixVQUFMLEtBQW9CLENBQXhCLEVBQTJCO0FBQUU7QUFDM0J5a0MseUJBQVcsQ0FBQ3prQyxVQUFaLEdBQXlCeWtDLFdBQVcsQ0FBQ0csVUFBckM7QUFDQUgseUJBQVcsQ0FBQ1csYUFBWixDQUEwQixPQUExQixFQUFtQztBQUFFamxDLG9CQUFJLEVBQUU7QUFBUixlQUFuQztBQUNBNGtDLHVCQUFTLENBQUNwRSxRQUFELENBQVQ7QUFDRCxhQUpELE1BSU8sSUFBSSxLQUFLM2dDLFVBQUwsS0FBb0IsQ0FBeEIsRUFBMkI7QUFBRTtBQUNsQytrQyx1QkFBUyxDQUFDcEUsUUFBRCxDQUFUO0FBQ0QsYUFGTSxNQUVBLENBQ047QUFDRjtBQUNGLFNBakREOztBQWtEQTFoQyxXQUFHLENBQUNnQyxJQUFKO0FBQ0EwRCxrQkFBVSxDQUFDLFlBQVk7QUFDckIsY0FBSSxJQUFKLEVBQWtDMUYsR0FBRyxDQUFDYSxLQUFKO0FBQ25DLFNBRlMsRUFFUGIsR0FBRyxDQUFDZ21DLE9BRkcsQ0FBVjtBQUdBUixtQkFBVyxDQUFDSyxJQUFaLEdBQW1CN2xDLEdBQW5CO0FBQ0QsT0FqRUQsQ0FpRUUsT0FBTzJLLENBQVAsRUFBVTtBQUFFO0FBQ1o2NkIsbUJBQVcsQ0FBQ1csYUFBWixDQUEwQixPQUExQixFQUFtQztBQUFFamxDLGNBQUksRUFBRSxPQUFSO0FBQWlCRCxjQUFJLEVBQUUwSixDQUFDLENBQUM0STtBQUF6QixTQUFuQztBQUF3RTtBQUN6RTtBQUNGOztBQUFBO0FBRUR3eUIsUUFBSTtBQUFJO0FBQ1QsR0F4RkQ7O0FBeUZBcFAsYUFBVyxDQUFDejJCLFNBQVosR0FBd0I7QUFDdEI2MkIsU0FBSyxFQUFFLGlCQUFZO0FBQUU7QUFDbkIsV0FBS2gyQixVQUFMLEdBQWtCLEtBQUsrMUIsTUFBdkI7QUFDQWhjLG1CQUFhLENBQUMsS0FBSzhxQixVQUFOLENBQWI7O0FBQ0EsV0FBS0MsSUFBTCxDQUFVaGxDLEtBQVY7QUFDRCxLQUxxQjtBQU10QjhrQyxjQUFVLEVBQUUsQ0FOVTtBQU90Qk8sUUFBSSxFQUFFLENBUGdCO0FBUXRCcFAsVUFBTSxFQUFFLENBUmM7QUFTdEJxUCxpQkFBYSxFQUFFLHVCQUFVamxDLElBQVYsRUFBZ0I0ZCxLQUFoQixFQUF1QjtBQUNwQyxVQUFJNG5CLFFBQVEsR0FBRyxLQUFLLE1BQU14bEMsSUFBTixHQUFhLFVBQWxCLENBQWY7O0FBQ0EsVUFBSXdsQyxRQUFKLEVBQWM7QUFDWixhQUFLLElBQUlyaUMsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR3FpQyxRQUFRLENBQUN0bEMsTUFBN0IsRUFBcUNpRCxDQUFDLEVBQXRDLEVBQTBDO0FBQ3hDcWlDLGtCQUFRLENBQUNyaUMsQ0FBRCxDQUFSLENBQVl3K0IsSUFBWixDQUFpQixJQUFqQixFQUF1Qi9qQixLQUF2QjtBQUNEO0FBQ0Y7O0FBQ0QsVUFBSSxLQUFLLE9BQU81ZCxJQUFaLENBQUosRUFBdUI7QUFDckIsYUFBSyxPQUFPQSxJQUFaLEVBQWtCMmhDLElBQWxCLENBQXVCLElBQXZCLEVBQTZCL2pCLEtBQTdCO0FBQ0Q7QUFDRixLQW5CcUI7QUFvQnRCRCxvQkFBZ0IsRUFBRSwwQkFBVTNkLElBQVYsRUFBZ0J5bEMsT0FBaEIsRUFBeUI7QUFDekMsVUFBSSxDQUFDLEtBQUssTUFBTXpsQyxJQUFOLEdBQWEsVUFBbEIsQ0FBTCxFQUFvQztBQUNsQyxhQUFLLE1BQU1BLElBQU4sR0FBYSxVQUFsQixJQUFnQyxFQUFoQztBQUNEOztBQUNELFdBQUssTUFBTUEsSUFBTixHQUFhLFVBQWxCLEVBQThCZ0QsSUFBOUIsQ0FBbUN5aUMsT0FBbkM7QUFDRCxLQXpCcUI7QUEwQnRCekQsdUJBQW1CLEVBQUUsNkJBQVVoaUMsSUFBVixFQUFnQnlsQyxPQUFoQixFQUF5QjtBQUM1QyxVQUFJRCxRQUFRLEdBQUcsS0FBSyxNQUFNeGxDLElBQU4sR0FBYSxVQUFsQixDQUFmOztBQUNBLFVBQUksQ0FBQ3dsQyxRQUFMLEVBQWU7QUFDYjtBQUNEOztBQUNELFdBQUssSUFBSXJpQyxDQUFDLEdBQUdxaUMsUUFBUSxDQUFDdGxDLE1BQVQsR0FBa0IsQ0FBL0IsRUFBa0NpRCxDQUFDLElBQUksQ0FBdkMsRUFBMEMsRUFBRUEsQ0FBNUMsRUFBK0M7QUFDN0MsWUFBSXFpQyxRQUFRLENBQUNyaUMsQ0FBRCxDQUFSLEtBQWdCc2lDLE9BQXBCLEVBQTZCO0FBQzNCRCxrQkFBUSxDQUFDdFEsTUFBVCxDQUFnQi94QixDQUFoQixFQUFtQixDQUFuQjtBQUNBO0FBQ0Q7QUFDRjtBQUNGLEtBckNxQjtBQXNDdEIxQyxXQUFPLEVBQUUsSUF0Q2E7QUF1Q3RCaWxDLGFBQVMsRUFBRSxJQXZDVztBQXdDdEJDLFVBQU0sRUFBRSxJQXhDYztBQXlDdEI5bEMsY0FBVSxFQUFFLENBekNVO0FBMEN0QithLE9BQUcsRUFBRTtBQTFDaUIsR0FBeEI7O0FBNENBLE1BQUkycUIsWUFBWSxHQUFHLFNBQWZBLFlBQWUsQ0FBVXhsQyxJQUFWLEVBQWdCNmxDLE1BQWhCLEVBQXdCckIsV0FBeEIsRUFBcUM7QUFDdEQsU0FBS3hrQyxJQUFMLEdBQVlBLElBQVo7QUFDQSxTQUFLNmxDLE1BQUwsR0FBY0EsTUFBZDtBQUNBLFNBQUtyQixXQUFMLEdBQW1CQSxXQUFXLElBQUksRUFBbEM7QUFDRCxHQUpEOztBQUtBZ0IsY0FBWSxDQUFDdm1DLFNBQWIsR0FBeUI7QUFBRWUsUUFBSSxFQUFFLElBQVI7QUFBY0MsUUFBSSxFQUFFLFNBQXBCO0FBQStCdWtDLGVBQVcsRUFBRSxFQUE1QztBQUFnRHFCLFVBQU0sRUFBRTtBQUF4RCxHQUF6QjtBQUNBLE1BQUksWUFBWWhnQixNQUFoQixFQUF3QmlnQixNQUFNLENBQUNDLE9BQVAsR0FBaUJyUSxXQUFqQjtBQUN4QjdQLFFBQU0sQ0FBQzZQLFdBQVAsR0FBcUJBLFdBQXJCO0FBQ0QsQ0FoSkQsRUFnSkdwM0IsTUFoSkgsRTs7Ozs7Ozs7Ozs7O0FDcEtBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQU15ZCxRQUFRLEdBQUcsU0FBWEEsUUFBVyxDQUFVbUYsT0FBVixFQUFtQjhrQixTQUFuQixFQUE4QjtBQUM3QyxNQUFJO0FBQ0YsUUFBSTlrQixPQUFPLENBQUMra0IsU0FBWixFQUF1QjtBQUNyQi9rQixhQUFPLENBQUMra0IsU0FBUixDQUFrQkMsR0FBbEIsQ0FBc0JGLFNBQXRCO0FBQ0QsS0FGRCxNQUVPO0FBQ0w5a0IsYUFBTyxDQUFDOGtCLFNBQVIsSUFBcUIsTUFBTUEsU0FBM0I7QUFDRDtBQUNGLEdBTkQsQ0FNRSxPQUFPdDhCLENBQVAsRUFBVTtBQUNWL0ssV0FBTyxDQUFDd25DLEtBQVI7QUFDRDs7QUFFRCxTQUFPamxCLE9BQVA7QUFDRCxDQVpEOztBQWNlbkYsdUVBQWYsRTs7Ozs7Ozs7Ozs7O0FDdEJBO0FBQUEsSUFBTTBSLFVBQVUsR0FBRyxTQUFiQSxVQUFhLENBQVU1UixFQUFWLEVBQWN1cUIsT0FBZCxFQUF1QjtBQUN4QyxNQUFJdnFCLEVBQUUsQ0FBQ3dxQixXQUFQLEVBQW9CO0FBQ2xCeHFCLE1BQUUsQ0FBQ00sVUFBSCxDQUFjbXFCLFlBQWQsQ0FBMkJGLE9BQTNCLEVBQW9DdnFCLEVBQUUsQ0FBQ3dxQixXQUF2QztBQUNELEdBRkQsTUFFTztBQUNMeHFCLE1BQUUsQ0FBQ00sVUFBSCxDQUFjalEsV0FBZCxDQUEwQms2QixPQUExQjtBQUNEO0FBQ0YsQ0FORDs7QUFRZTNZLHlFQUFmLEU7Ozs7Ozs7Ozs7OztBQ1JBO0FBQUEsSUFBTS9PLGdCQUFnQixHQUFHLFNBQW5CQSxnQkFBbUIsQ0FBQXZMLEdBQUcsRUFBSTtBQUM5QixTQUFPQSxHQUFHLENBQUN4VCxPQUFKLENBQVksUUFBWixFQUFzQixVQUFBNG1DLE1BQU07QUFBQSxzQkFBUUEsTUFBTSxDQUFDQyxXQUFQLEVBQVI7QUFBQSxHQUE1QixDQUFQO0FBQ0QsQ0FGRDs7QUFJZTluQiwrRUFBZixFOzs7Ozs7Ozs7Ozs7Ozs7OztBQ0pBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBLElBQU1wQyxPQUFPLEdBQUcsaUJBQVU0RSxPQUFWLEVBQW1CdWxCLFFBQW5CLEVBQTZCO0FBQzNDLE1BQUksUUFBT0EsUUFBUCxNQUFvQixRQUF4QixFQUFrQztBQUNoQyxRQUFJQyxtQkFBbUIsR0FBR0QsUUFBUSxDQUFDRSxZQUFULENBQXNCLE9BQXRCLENBQTFCO0FBQ0EsUUFBSUMsZ0JBQWdCLEdBQUdILFFBQVEsQ0FBQzl4QixFQUFoQzs7QUFFQSxRQUFJaXlCLGdCQUFnQixLQUFLLElBQXJCLElBQTZCQSxnQkFBZ0IsQ0FBQ3ptQyxNQUFqQixHQUEwQixDQUEzRCxFQUE4RDtBQUM1RHNtQyxjQUFRLEdBQUcsTUFBTUcsZ0JBQWpCO0FBQ0QsS0FGRCxNQUVPLElBQUlGLG1CQUFtQixLQUFLLElBQXhCLElBQWdDQSxtQkFBbUIsQ0FBQ3ZtQyxNQUFwQixHQUE2QixDQUFqRSxFQUFvRTtBQUN6RXNtQyxjQUFRLEdBQUcsTUFBTUMsbUJBQW1CLENBQUN2eEIsS0FBcEIsQ0FBMEIsR0FBMUIsRUFBK0IsQ0FBL0IsQ0FBakI7QUFDRCxLQUZNLE1BRUE7QUFDTHN4QixjQUFRLEdBQUdBLFFBQVEsQ0FBQ3RJLFFBQXBCO0FBQ0Q7QUFDRjs7QUFFRCxXQUFTN2hCLE9BQVQsQ0FBa0I0RSxPQUFsQixFQUEyQnVsQixRQUEzQixFQUFxQztBQUNuQyxRQUFJO0FBQ0Z2bEIsYUFBTyxHQUFHQSxPQUFPLENBQUMvRSxVQUFsQjtBQUNELEtBRkQsQ0FFRSxPQUFPelMsQ0FBUCxFQUFVO0FBQ1YvSyxhQUFPLENBQUN3QyxHQUFSLENBQVkrZixPQUFaLEVBQXFCdWxCLFFBQXJCO0FBQ0E5bkMsYUFBTyxDQUFDd25DLEtBQVI7QUFDRDs7QUFFRCxRQUFJamxCLE9BQU8sS0FBSyxJQUFaLElBQW9CLFFBQU9BLE9BQVAsTUFBbUIsUUFBM0MsRUFBcUQ7QUFDbkQsVUFBSXVsQixRQUFRLENBQUNJLEtBQVQsQ0FBZWhvQyxzREFBSyxDQUFDdStCLGFBQXJCLEtBQXVDdGhCLHlEQUFRLENBQUNvRixPQUFELEVBQVV1bEIsUUFBVixDQUFuRCxFQUF3RTtBQUN0RSxlQUFPdmxCLE9BQVA7QUFDRCxPQUZELE1BRU8sSUFBSXVsQixRQUFRLENBQUNJLEtBQVQsQ0FBZWhvQyxzREFBSyxDQUFDdytCLFVBQXJCLEtBQW9DbmMsT0FBTyxDQUFDdk0sRUFBUixLQUFlOHhCLFFBQVEsQ0FBQzltQyxPQUFULENBQWlCLEdBQWpCLEVBQXNCLEVBQXRCLENBQXZELEVBQWtGO0FBQ3ZGLGVBQU91aEIsT0FBUDtBQUNELE9BRk0sTUFFQSxJQUFJdWxCLFFBQVEsQ0FBQ0ksS0FBVCxDQUFlaG9DLHNEQUFLLENBQUN5K0IsV0FBckIsS0FBcUNwYyxPQUFPLENBQUNpZCxRQUFSLEtBQXFCc0ksUUFBUSxDQUFDSyxXQUFULEVBQTlELEVBQXNGO0FBQzNGLGVBQU81bEIsT0FBUDtBQUNELE9BRk0sTUFFQTtBQUNMLGVBQU81RSxPQUFPLENBQUM0RSxPQUFELEVBQVV1bEIsUUFBVixDQUFkO0FBQ0Q7QUFDRixLQVZELE1BVU87QUFDTCxhQUFPLElBQVA7QUFDRDtBQUNGOztBQUVELE1BQUksUUFBT3ZsQixPQUFQLE1BQW1CLFFBQXZCLEVBQWlDO0FBQy9CLFdBQU81RSxPQUFPLENBQUM0RSxPQUFELEVBQVV1bEIsUUFBVixDQUFkO0FBQ0QsR0FGRCxNQUVPO0FBQ0wsV0FBTyxJQUFQO0FBQ0Q7QUFDRixDQTFDRDs7QUE0Q2VucUIsc0VBQWYsRTs7Ozs7Ozs7Ozs7O0FDdkRBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQU16Six3QkFBd0IsR0FBRyxTQUEzQkEsd0JBQTJCLENBQVVrMEIsR0FBVixFQUFlaGtDLElBQWYsRUFBcUI7QUFDcEQsTUFBSUosQ0FBQyxHQUFHQyxNQUFNLENBQUNta0MsR0FBRCxDQUFkOztBQUNBLFNBQU9wa0MsQ0FBQyxDQUFDeEMsTUFBRixHQUFXNEMsSUFBbEI7QUFBd0JKLEtBQUMsR0FBRyxNQUFNQSxDQUFWO0FBQXhCOztBQUNBLFNBQU9BLENBQVA7QUFDRCxDQUpEOztBQU1la1EsdUZBQWYsRTs7Ozs7Ozs7Ozs7O0FDZEE7QUFBQSxJQUFNbTBCLFNBQVMsR0FBRyxTQUFaQSxTQUFZLENBQVVuckIsRUFBVixFQUFjO0FBQzlCLE1BQUlvckIsRUFBRSxHQUFHLENBQVQ7QUFDQSxNQUFJQyxFQUFFLEdBQUcsQ0FBVDs7QUFDQSxTQUFPcnJCLEVBQUUsSUFBSSxDQUFDMHBCLEtBQUssQ0FBQzFwQixFQUFFLENBQUN1a0IsVUFBSixDQUFaLElBQStCLENBQUNtRixLQUFLLENBQUMxcEIsRUFBRSxDQUFDc2tCLFNBQUosQ0FBNUMsRUFBNEQ7QUFDMUQ4RyxNQUFFLElBQUlwckIsRUFBRSxDQUFDdWtCLFVBQUgsR0FBZ0J2a0IsRUFBRSxDQUFDNGxCLFVBQXpCO0FBQ0F5RixNQUFFLElBQUlyckIsRUFBRSxDQUFDc2tCLFNBQUgsR0FBZXRrQixFQUFFLENBQUM2bEIsU0FBeEI7QUFDQTdsQixNQUFFLEdBQUdBLEVBQUUsQ0FBQ3NyQixZQUFSO0FBQ0Q7O0FBQ0QsU0FBTztBQUFFelgsT0FBRyxFQUFFd1gsRUFBUDtBQUFXbEksUUFBSSxFQUFFaUk7QUFBakIsR0FBUDtBQUNELENBVEQ7O0FBV2VELHdFQUFmLEU7Ozs7Ozs7Ozs7OztBQ1hBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBLFNBQVNJLFNBQVQsQ0FBb0JsbUIsT0FBcEIsRUFBNkI4a0IsU0FBN0IsRUFBd0M7QUFDdENBLFdBQVMsR0FBR0EsU0FBUyxDQUFDcm1DLE9BQVYsQ0FBa0IsR0FBbEIsRUFBdUIsRUFBdkIsQ0FBWjs7QUFFQSxNQUFJO0FBQ0YsUUFBSXVoQixPQUFPLENBQUMra0IsU0FBWixFQUF1QjtBQUNyQixhQUFPL2tCLE9BQU8sQ0FBQytrQixTQUFSLENBQWtCb0IsUUFBbEIsQ0FBMkJyQixTQUEzQixDQUFQO0FBQ0QsS0FGRCxNQUVPO0FBQ0wsYUFBTyxJQUFJc0IsTUFBSixDQUFXLFVBQVV0QixTQUFWLEdBQXNCLE9BQWpDLEVBQTBDLElBQTFDLEVBQWdEbkQsSUFBaEQsQ0FBcUQzaEIsT0FBTyxDQUFDOGtCLFNBQTdELENBQVA7QUFDRDtBQUNGLEdBTkQsQ0FNRSxPQUFPdDhCLENBQVAsRUFBVTtBQUNWLFFBQUksT0FBT0EsQ0FBQyxDQUFDNjlCLEtBQVQsS0FBbUIsV0FBdkIsRUFBb0M7QUFDbEM1b0MsYUFBTyxDQUFDd0MsR0FBUixDQUFZdUksQ0FBQyxDQUFDNjlCLEtBQWQ7QUFDRDs7QUFDRDVvQyxXQUFPLENBQUN3QyxHQUFSLENBQVl1SSxDQUFaLEVBQWV3WCxPQUFmLEVBQXdCOGtCLFNBQXhCO0FBRUEsV0FBTyxLQUFQO0FBQ0Q7QUFDRjs7QUFFRCxJQUFNbHFCLFFBQVEsR0FBRyxrQkFBVW9GLE9BQVYsRUFBbUI4a0IsU0FBbkIsRUFBOEI7QUFDN0MsTUFBSSxPQUFPQSxTQUFQLEtBQXFCLFFBQXpCLEVBQW1DO0FBQ2pDLFdBQU9vQixTQUFTLENBQUNsbUIsT0FBRCxFQUFVOGtCLFNBQVYsQ0FBaEI7QUFDRCxHQUZELE1BRU8sSUFBSUEsU0FBUyxZQUFZclksS0FBekIsRUFBZ0M7QUFDckMsUUFBSTdSLFFBQVEsR0FBRyxLQUFmOztBQUNBLFNBQUssSUFBSTFZLENBQVQsSUFBYzRpQyxTQUFkLEVBQXlCO0FBQ3ZCLFVBQUksT0FBT0EsU0FBUyxDQUFDNWlDLENBQUQsQ0FBaEIsS0FBd0IsUUFBeEIsSUFBb0Nna0MsU0FBUyxDQUFDbG1CLE9BQUQsRUFBVThrQixTQUFTLENBQUM1aUMsQ0FBRCxDQUFuQixDQUFqRCxFQUEwRTtBQUN4RTBZLGdCQUFRLEdBQUcsSUFBWDtBQUNEO0FBQ0Y7O0FBQ0QsV0FBT0EsUUFBUDtBQUNEO0FBQ0YsQ0FaRDs7QUFjZUEsdUVBQWYsRTs7Ozs7Ozs7Ozs7O0FDMUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7QUN0QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFNMHJCLFNBQVMsR0FBRyxTQUFaQSxTQUFZLENBQVUzRixDQUFWLEVBQWE7QUFDN0IsU0FDRSxRQUFPNEYsV0FBUCx5Q0FBT0EsV0FBUCxPQUF1QixRQUF2QixHQUNJNUYsQ0FBQyxZQUFZNEYsV0FEakI7QUFFSTtBQUFXNUYsR0FBQyxJQUFJLFFBQU9BLENBQVAsTUFBYSxRQUFsQixJQUE4QkEsQ0FBQyxLQUFLLElBQXBDLElBQTRDQSxDQUFDLENBQUM2RixRQUFGLEtBQWUsQ0FBM0QsSUFBZ0UsT0FBTzdGLENBQUMsQ0FBQzFELFFBQVQsS0FBc0IsUUFIdkc7QUFLRCxDQU5EOztBQVFlcUosd0VBQWYsRTs7Ozs7Ozs7Ozs7O0FDZkE7QUFBQTtBQUFBO0FBQ0E7O0FBRUEsSUFBTXJwQixjQUFjLEdBQUcsU0FBakJBLGNBQWlCLEdBQVk7QUFDakMsTUFBSXdwQixLQUFLLEdBQUcsS0FBWjs7QUFFQSxHQUFDLFVBQVV0bUIsQ0FBVixFQUFhO0FBQ1osUUFBSSxzVkFBc1Z3aEIsSUFBdFYsQ0FBMlZ4aEIsQ0FBM1YsS0FBaVcsMGtEQUEwa0R3aEIsSUFBMWtELENBQStrRHhoQixDQUFDLENBQUMwUixNQUFGLENBQVMsQ0FBVCxFQUFZLENBQVosQ0FBL2tELENBQXJXLEVBQXE4RDRVLEtBQUssR0FBRyxJQUFSO0FBQ3Q4RCxHQUZELEVBRUdDLFNBQVMsQ0FBQ0MsU0FBVixJQUF1QkQsU0FBUyxDQUFDRSxNQUFqQyxJQUEyQ3hwQyxNQUFNLENBQUN5cEMsS0FGckQsRUFIaUMsQ0FPakM7OztBQUNBLE1BQUksQ0FBQ0osS0FBTCxFQUFZO0FBQ1ZBLFNBQUssR0FBR3R5QiwrREFBYyxDQUFDL1csTUFBTSxDQUFDc3BDLFNBQVAsQ0FBaUJDLFNBQWpCLENBQTJCckIsV0FBM0IsRUFBRCxFQUEyQyxXQUEzQyxDQUFkLElBQTBFLGdCQUFnQnovQixRQUFsRztBQUNEOztBQUVELFNBQU80Z0MsS0FBUDtBQUNELENBYkQ7O0FBZWV4cEIsNkVBQWYsRTs7Ozs7Ozs7Ozs7O0FDbEJBO0FBQUE7QUFDQSxJQUFNOGYsV0FBVyxHQUFHLFNBQWRBLFdBQWMsR0FBWTtBQUM5QixTQUFPLENBQUMsQ0FBQzJKLFNBQVMsQ0FBQ0ksUUFBWixJQUF3QixpQkFBaUJuRixJQUFqQixDQUFzQitFLFNBQVMsQ0FBQ0ksUUFBaEMsQ0FBL0I7QUFDRCxDQUZEOztBQUllL0osMEVBQWYsRTs7Ozs7Ozs7Ozs7Ozs7O0FDTEEsSUFBTTVwQixTQUFTLEdBQUcsU0FBWkEsU0FBWSxDQUFVaFYsR0FBVixFQUFlMkosUUFBZixFQUF5QjtBQUN6QyxNQUFJM0osR0FBRyxLQUFLLElBQVosRUFBa0I7QUFDaEIsUUFBSXFELEtBQUssR0FBRyxDQUFaOztBQUNBLFNBQUssSUFBSXVZLEdBQVQsSUFBZ0I1YixHQUFoQixFQUFxQjtBQUNuQixVQUFJQSxHQUFHLENBQUNtaEIsY0FBSixDQUFtQnZGLEdBQW5CLENBQUosRUFBNkI7QUFDM0IsWUFBSWd0QixHQUFHLEdBQUdqL0IsUUFBUSxDQUFDM0osR0FBRyxDQUFDNGIsR0FBRCxDQUFKLEVBQVdBLEdBQVgsRUFBZ0J2WSxLQUFoQixDQUFsQjtBQUNBLFlBQUksT0FBT3VsQyxHQUFQLEtBQWUsV0FBbkIsRUFBZ0M1b0MsR0FBRyxDQUFDNGIsR0FBRCxDQUFILEdBQVdndEIsR0FBWDtBQUVoQ3ZsQyxhQUFLO0FBQ047QUFDRjtBQUNGLEdBVkQsTUFVTztBQUNML0QsV0FBTyxDQUFDd0MsR0FBUixDQUFZLHlCQUFaLFVBQThDOUIsR0FBOUM7QUFDRDs7QUFFRCxTQUFPQSxHQUFQO0FBQ0QsQ0FoQkQ7O0FBa0JlZ1Ysd0VBQWYsRTs7Ozs7Ozs7Ozs7Ozs7OztBQ2xCQTs7QUFFQSxJQUFNaEosWUFBWSxHQUFHLFNBQWZBLFlBQWUsQ0FBVTY4QixJQUFWLEVBQWdCQyxJQUFoQixFQUFzQkMsU0FBdEIsRUFBaUM7QUFDcEQsTUFBSUMsSUFBSSxHQUFJLE9BQU9ELFNBQVAsS0FBcUIsV0FBckIsSUFBb0NBLFNBQVMsS0FBSyxLQUFuRCxHQUE0RCxFQUE1RCxHQUFpRSxFQUE1RTs7QUFFQSxPQUFLLElBQU1obEMsQ0FBWCxJQUFnQjhrQyxJQUFoQixFQUFzQjtBQUNwQkcsUUFBSSxDQUFDamxDLENBQUQsQ0FBSixHQUFVOGtDLElBQUksQ0FBQzlrQyxDQUFELENBQWQ7QUFDRDs7QUFFRCxPQUFLLElBQU1rbEMsQ0FBWCxJQUFnQkgsSUFBaEIsRUFBc0I7QUFDcEIsUUFBSSxRQUFPRCxJQUFJLENBQUNJLENBQUQsQ0FBWCxNQUFtQixRQUF2QixFQUFpQztBQUMvQkQsVUFBSSxDQUFDQyxDQUFELENBQUosR0FBVUgsSUFBSSxDQUFDRyxDQUFELENBQWQ7QUFDRCxLQUZELE1BRU8sSUFBSUosSUFBSSxDQUFDSSxDQUFELENBQUosWUFBbUIzYSxLQUF2QixFQUE4QjtBQUNuQzBhLFVBQUksQ0FBQ0MsQ0FBRCxDQUFKLEdBQVVILElBQUksQ0FBQ0csQ0FBRCxDQUFkLENBRG1DLENBQ2hCO0FBQ3BCLEtBRk0sTUFFQSxJQUFJLE9BQU9KLElBQUksQ0FBQ0ksQ0FBRCxDQUFYLEtBQW1CLFdBQW5CLElBQWtDLFFBQU9KLElBQUksQ0FBQ0ksQ0FBRCxDQUFYLE1BQW1CLFFBQXJELElBQWlFSixJQUFJLENBQUNJLENBQUQsQ0FBSixLQUFZLElBQTdFLElBQXFGLE9BQU9KLElBQUksQ0FBQ0ksQ0FBRCxDQUFKLENBQVFaLFFBQWYsS0FBNEIsV0FBakgsSUFBZ0k5bUMsdURBQU0sQ0FBQ3NuQyxJQUFJLENBQUNJLENBQUQsQ0FBTCxDQUFOLEdBQWtCLENBQXRKLEVBQXlKO0FBQzlKRCxVQUFJLENBQUNDLENBQUQsQ0FBSixHQUFVajlCLFlBQVksQ0FBQzY4QixJQUFJLENBQUNJLENBQUQsQ0FBTCxFQUFVSCxJQUFJLENBQUNHLENBQUQsQ0FBZCxDQUF0QjtBQUNELEtBRk0sTUFFQSxJQUFJLE9BQU9KLElBQUksQ0FBQ0ksQ0FBRCxDQUFYLEtBQW1CLFdBQW5CLElBQWtDLFFBQU9KLElBQUksQ0FBQ0ksQ0FBRCxDQUFYLE1BQW1CLFFBQXpELEVBQW1FO0FBQ3hFRCxVQUFJLENBQUNDLENBQUQsQ0FBSixHQUFVSCxJQUFJLENBQUNHLENBQUQsQ0FBZDtBQUNELEtBRk0sTUFFQTtBQUNMM3BDLGFBQU8sQ0FBQ3dDLEdBQVIsQ0FBWSxNQUFaO0FBQ0Q7O0FBRUQsUUFBSWtuQyxJQUFJLENBQUNDLENBQUQsQ0FBSixLQUFZcG9DLFNBQWhCLEVBQTJCO0FBQ3pCLGFBQU9tb0MsSUFBSSxDQUFDQyxDQUFELENBQVg7QUFDRDtBQUNGOztBQUVELFNBQU9ELElBQVA7QUFDRCxDQTFCRDs7QUE0QmVoOUIsMkVBQWYsRTs7Ozs7Ozs7Ozs7O0FDOUJBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBTWs5QixXQUFXLEdBQUcsU0FBZEEsV0FBYyxDQUFVbHBDLEdBQVYsRUFBZTtBQUNqQyxNQUFJQSxHQUFHLEtBQUssSUFBUixJQUFnQkEsR0FBRyxDQUFDYyxNQUFKLEtBQWVELFNBQS9CLElBQTRDYixHQUFHLFlBQVlzdUIsS0FBL0QsRUFBc0U7QUFDcEUsV0FBT3R1QixHQUFHLENBQUNjLE1BQVg7QUFDRCxHQUZELE1BRU8sSUFBSWQsR0FBRyxLQUFLLElBQVosRUFBa0I7QUFDdkIsV0FBTyxDQUFQO0FBQ0QsR0FGTSxNQUVBO0FBQ0wsV0FBTyxDQUFQO0FBQ0Q7QUFDRixDQVJEOztBQVVla3BDLDBFQUFmLEU7Ozs7Ozs7Ozs7OztBQ2hCQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBTTV0QixjQUFjLEdBQUcsU0FBakJBLGNBQWlCLENBQVV0YixHQUFWLEVBQWUySixRQUFmLEVBQXlCO0FBQzlDLE1BQUksT0FBTzNKLEdBQVAsS0FBZSxXQUFmLElBQThCQSxHQUFHLEtBQUssSUFBdEMsSUFBOEMsT0FBT0EsR0FBRyxDQUFDYyxNQUFYLEtBQXNCLFdBQXBFLElBQW1GZCxHQUFHLFlBQVlzdUIsS0FBdEcsRUFBNkc7QUFDM0csUUFBSWpyQixLQUFLLEdBQUcsQ0FBWjs7QUFDQSxTQUFLLElBQU11WSxHQUFYLElBQWtCNWIsR0FBbEIsRUFBdUI7QUFDckIySixjQUFRLENBQUMzSixHQUFHLENBQUM0YixHQUFELENBQUosRUFBV0EsR0FBWCxFQUFnQnZZLEtBQWhCLEVBQXVCckQsR0FBRyxDQUFDYyxNQUEzQixDQUFSO0FBRUF1QyxXQUFLO0FBQ047QUFDRixHQVBELE1BT08sSUFBSSxPQUFPckQsR0FBUCxLQUFlLFdBQWYsSUFBOEJBLEdBQUcsS0FBSyxJQUExQyxFQUFnRDtBQUNyRDJKLFlBQVEsQ0FBQzNKLEdBQUQsRUFBTSxDQUFOLEVBQVMsQ0FBVCxFQUFZLENBQVosQ0FBUjtBQUNEO0FBQ0YsQ0FYRDs7QUFhZXNiLDZFQUFmLEU7Ozs7Ozs7Ozs7OztBQ3BCQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBLElBQU10TyxLQUFLLEdBQUcsU0FBUkEsS0FBUSxDQUFVbThCLEdBQVYsRUFBZS9CLFFBQWYsRUFBeUI7QUFDckMsTUFBSS96QixNQUFKO0FBRUEsTUFBSSsxQixNQUFNLEdBQUdELEdBQWI7QUFBa0IsTUFBSUUsV0FBVyxHQUFHakMsUUFBbEIsQ0FIbUIsQ0FHUzs7QUFFOUMsTUFBSSxPQUFPK0IsR0FBUCxLQUFlLFFBQWYsSUFBMkIvQixRQUFRLEtBQUt2bUMsU0FBNUMsRUFBdUQ7QUFDckR1bUMsWUFBUSxHQUFHK0IsR0FBWDtBQUNBQSxPQUFHLEdBQUd6aEMsUUFBTjtBQUNEOztBQUVELE1BQUk7QUFDRixRQUFJeWhDLEdBQUcsS0FBSyxJQUFaLEVBQWtCO0FBQ2hCL0IsY0FBUSxHQUFHa0MscURBQUksQ0FBQ2xDLFFBQUQsQ0FBZixDQURnQixDQUNXOztBQUUzQixVQUFJQSxRQUFRLENBQUNJLEtBQVQsQ0FBZWhvQyxzREFBSyxDQUFDdStCLGFBQXJCLENBQUosRUFBeUM7QUFDdkMxcUIsY0FBTSxHQUFHODFCLEdBQUcsQ0FBQ0ksc0JBQUosQ0FBMkJuQyxRQUFRLENBQUM5bUMsT0FBVCxDQUFpQixHQUFqQixFQUFzQixFQUF0QixDQUEzQixDQUFUO0FBQ0QsT0FGRCxNQUVPLElBQUk4bUMsUUFBUSxDQUFDSSxLQUFULENBQWVob0Msc0RBQUssQ0FBQ3crQixVQUFyQixDQUFKLEVBQXNDO0FBQzNDM3FCLGNBQU0sR0FBRzNMLFFBQVEsQ0FBQzhoQyxjQUFULENBQXdCcEMsUUFBUSxDQUFDOW1DLE9BQVQsQ0FBaUIsR0FBakIsRUFBc0IsRUFBdEIsQ0FBeEIsQ0FBVDtBQUNELE9BRk0sTUFFQSxJQUFJOG1DLFFBQVEsQ0FBQ0ksS0FBVCxDQUFlaG9DLHNEQUFLLENBQUN5K0IsV0FBckIsQ0FBSixFQUF1QztBQUM1QzVxQixjQUFNLEdBQUc4MUIsR0FBRyxDQUFDTSxvQkFBSixDQUF5QnJDLFFBQXpCLENBQVQ7QUFDRCxPQUZNLE1BRUE7QUFDTC96QixjQUFNLEdBQUc4MUIsR0FBRyxDQUFDTyxnQkFBSixDQUFxQnRDLFFBQXJCLENBQVQ7QUFDRDtBQUNGOztBQUVELFFBQUkvekIsTUFBTSxLQUFLLElBQVgsSUFBbUJBLE1BQU0sS0FBS3hTLFNBQTlCLElBQTJDd1MsTUFBTSxDQUFDZzFCLFFBQXRELEVBQWdFO0FBQzlELGFBQU9oMUIsTUFBUDtBQUNELEtBRkQsTUFFTyxJQUFJQSxNQUFNLEtBQUssSUFBWCxJQUFtQkEsTUFBTSxLQUFLeFMsU0FBOUIsSUFBMkN3UyxNQUFNLENBQUN2UyxNQUFQLEtBQWtCLENBQWpFLEVBQW9FO0FBQ3pFLGFBQU91UyxNQUFNLENBQUMsQ0FBRCxDQUFiO0FBQ0QsS0FGTSxNQUVBLElBQUlBLE1BQU0sS0FBSyxJQUFYLElBQW1CQSxNQUFNLEtBQUt4UyxTQUE5QixJQUEyQ3dTLE1BQU0sQ0FBQ3ZTLE1BQVAsR0FBZ0IsQ0FBL0QsRUFBa0U7QUFDdkUsYUFBT3d0QixLQUFLLENBQUMxdUIsU0FBTixDQUFnQjhqQyxLQUFoQixDQUFzQm5CLElBQXRCLENBQTJCbHZCLE1BQTNCLENBQVA7QUFDRCxLQUZNLE1BRUE7QUFDTCxhQUFPLElBQVA7QUFDRDtBQUNGLEdBeEJELENBd0JFLE9BQU9oSixDQUFQLEVBQVU7QUFDVi9LLFdBQU8sQ0FBQ3dDLEdBQVIsQ0FBWXVJLENBQVo7QUFDQS9LLFdBQU8sQ0FBQ3dDLEdBQVIsQ0FBWXVuQyxXQUFaO0FBQ0EvcEMsV0FBTyxDQUFDd0MsR0FBUixDQUFZc25DLE1BQVo7QUFDQTlwQyxXQUFPLENBQUN3QyxHQUFSLENBQVlxbkMsR0FBWixFQUFpQi9CLFFBQWpCO0FBQ0Q7QUFDRixDQXhDRDs7QUEwQ2VwNkIsb0VBQWYsRTs7Ozs7Ozs7Ozs7O0FDNURBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBTTRnQixNQUFNLEdBQUcsU0FBVEEsTUFBUyxDQUFVcFIsRUFBVixFQUFjO0FBQzNCLE1BQUlBLEVBQUUsS0FBSyxJQUFYLEVBQWlCO0FBQ2ZBLE1BQUUsQ0FBQ3dtQixhQUFILENBQWlCQyxXQUFqQixDQUE2QnptQixFQUE3QjtBQUNEO0FBQ0YsQ0FKRDs7QUFNZW9SLHFFQUFmLEU7Ozs7Ozs7Ozs7OztBQ1pBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQU1oUixXQUFXLEdBQUcsU0FBZEEsV0FBYyxDQUFVaUYsT0FBVixFQUFtQjhrQixTQUFuQixFQUE4QjtBQUNoRCxNQUFJO0FBQ0YsUUFBSTlrQixPQUFPLENBQUMra0IsU0FBWixFQUF1QjtBQUNyQi9rQixhQUFPLENBQUMra0IsU0FBUixDQUFrQmhaLE1BQWxCLENBQXlCK1ksU0FBekI7QUFDRCxLQUZELE1BRU87QUFDTDlrQixhQUFPLENBQUM4a0IsU0FBUixHQUFvQjlrQixPQUFPLENBQUM4a0IsU0FBUixDQUFrQnJtQyxPQUFsQixDQUEwQixJQUFJMm5DLE1BQUosQ0FBVyxZQUFZdEIsU0FBUyxDQUFDN3dCLEtBQVYsQ0FBZ0IsR0FBaEIsRUFBcUJsQyxJQUFyQixDQUEwQixHQUExQixDQUFaLEdBQTZDLFNBQXhELEVBQW1FLElBQW5FLENBQTFCLEVBQW9HLEdBQXBHLENBQXBCO0FBQ0Q7QUFDRixHQU5ELENBTUUsT0FBT3ZKLENBQVAsRUFBVTtBQUNWL0ssV0FBTyxDQUFDd0MsR0FBUixDQUFZK2YsT0FBWixFQUFxQjhrQixTQUFyQixFQURVLENBRVY7QUFDQTtBQUNEOztBQUVELFNBQU85a0IsT0FBUDtBQUNELENBZEQ7O0FBZ0JlakYsMEVBQWYsRTs7Ozs7Ozs7Ozs7O0FDeEJBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFNK3NCLGFBQWEsR0FBRyxTQUFoQkEsYUFBZ0IsQ0FBVVIsR0FBVixFQUFlO0FBQ25DLFNBQVFBLEdBQUcsS0FBSyxJQUFULEdBQWtCQSxHQUFHLENBQUNTLFlBQUosR0FBbUJULEdBQUcsQ0FBQ2pLLFlBQXpDLEdBQXlELEtBQWhFO0FBQ0QsQ0FGRDs7QUFJZXlLLDRFQUFmLEU7Ozs7Ozs7Ozs7OztBQ1hBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0EsSUFBTXBvQyxNQUFNLEdBQUcsU0FBVEEsTUFBUyxDQUFVdkIsR0FBVixFQUFlO0FBQzVCLE1BQUkwRCxJQUFJLEdBQUcsQ0FBWDtBQUFjLE1BQUlrWSxHQUFKOztBQUNkLE9BQUtBLEdBQUwsSUFBWTViLEdBQVosRUFBaUI7QUFDZixRQUFJQSxHQUFHLENBQUNtaEIsY0FBSixDQUFtQnZGLEdBQW5CLENBQUosRUFBNkJsWSxJQUFJO0FBQ2xDOztBQUVELE1BQUlBLElBQUksS0FBSyxDQUFULElBQWN5a0MsMERBQVMsQ0FBQ25vQyxHQUFELENBQTNCLEVBQWtDO0FBQ2hDMEQsUUFBSSxHQUFHLENBQVA7QUFDRDs7QUFFRCxTQUFPQSxJQUFQO0FBQ0QsQ0FYRDs7QUFhZW5DLHFFQUFmLEU7Ozs7Ozs7Ozs7OztBQ3ZCQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFNeVUsY0FBYyxHQUFHLFNBQWpCQSxjQUFpQixDQUFVbEMsR0FBVixFQUFlKzFCLE9BQWYsRUFBd0I7QUFDN0MsU0FBUS8xQixHQUFHLENBQUMzVCxPQUFKLENBQVkwcEMsT0FBWixJQUF1QixDQUFDLENBQWhDO0FBQ0QsQ0FGRDs7QUFJZTd6Qiw2RUFBZixFOzs7Ozs7Ozs7Ozs7QUNaQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQU13ZCxTQUFTLEdBQUcsU0FBWkEsU0FBWSxDQUFVc1csSUFBVixFQUFnQjtBQUNoQyxNQUFJdEksR0FBRyxHQUFHOTVCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixLQUF2QixDQUFWO0FBQ0E2NUIsS0FBRyxDQUFDaHJCLFNBQUosR0FBZ0JzekIsSUFBaEI7QUFDQSxTQUFPdEksR0FBRyxDQUFDdUksV0FBSixJQUFtQnZJLEdBQUcsQ0FBQ3dJLFNBQXZCLElBQW9DLEVBQTNDO0FBQ0QsQ0FKRDs7QUFNZXhXLHdFQUFmLEU7Ozs7Ozs7Ozs7OztBQ2ZBO0FBQUEsSUFBTThWLElBQUksR0FBRyxTQUFQQSxJQUFPLENBQVVXLE1BQVYsRUFBa0I7QUFDN0IsU0FBT0EsTUFBTSxDQUFDM3BDLE9BQVAsQ0FBZSxZQUFmLEVBQTZCLEVBQTdCLENBQVA7QUFDRCxDQUZEOztBQUllZ3BDLG1FQUFmLEU7Ozs7Ozs7Ozs7OztBQ0pBO0FBQWUsb0ZBQXVCLHdDQUF3QyxFOzs7Ozs7Ozs7Ozs7QUNBOUU7QUFBZSxvRkFBdUIsNkJBQTZCLEUiLCJmaWxlIjoiZ2FtaWZpY2F0aW9uLXV4LXBhY2thZ2UudjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMSk7XG4iLCIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSBhbnNpSFRNTFxuXG4vLyBSZWZlcmVuY2UgdG8gaHR0cHM6Ly9naXRodWIuY29tL3NpbmRyZXNvcmh1cy9hbnNpLXJlZ2V4XG52YXIgX3JlZ0FOU0kgPSAvKD86KD86XFx1MDAxYlxcWyl8XFx1MDA5YikoPzooPzpbMC05XXsxLDN9KT8oPzooPzo7WzAtOV17MCwzfSkqKT9bQS1NfGYtbV0pfFxcdTAwMWJbQS1NXS9cblxudmFyIF9kZWZDb2xvcnMgPSB7XG4gIHJlc2V0OiBbJ2ZmZicsICcwMDAnXSwgLy8gW0ZPUkVHUk9VRF9DT0xPUiwgQkFDS0dST1VORF9DT0xPUl1cbiAgYmxhY2s6ICcwMDAnLFxuICByZWQ6ICdmZjAwMDAnLFxuICBncmVlbjogJzIwOTgwNScsXG4gIHllbGxvdzogJ2U4YmYwMycsXG4gIGJsdWU6ICcwMDAwZmYnLFxuICBtYWdlbnRhOiAnZmYwMGZmJyxcbiAgY3lhbjogJzAwZmZlZScsXG4gIGxpZ2h0Z3JleTogJ2YwZjBmMCcsXG4gIGRhcmtncmV5OiAnODg4J1xufVxudmFyIF9zdHlsZXMgPSB7XG4gIDMwOiAnYmxhY2snLFxuICAzMTogJ3JlZCcsXG4gIDMyOiAnZ3JlZW4nLFxuICAzMzogJ3llbGxvdycsXG4gIDM0OiAnYmx1ZScsXG4gIDM1OiAnbWFnZW50YScsXG4gIDM2OiAnY3lhbicsXG4gIDM3OiAnbGlnaHRncmV5J1xufVxudmFyIF9vcGVuVGFncyA9IHtcbiAgJzEnOiAnZm9udC13ZWlnaHQ6Ym9sZCcsIC8vIGJvbGRcbiAgJzInOiAnb3BhY2l0eTowLjUnLCAvLyBkaW1cbiAgJzMnOiAnPGk+JywgLy8gaXRhbGljXG4gICc0JzogJzx1PicsIC8vIHVuZGVyc2NvcmVcbiAgJzgnOiAnZGlzcGxheTpub25lJywgLy8gaGlkZGVuXG4gICc5JzogJzxkZWw+JyAvLyBkZWxldGVcbn1cbnZhciBfY2xvc2VUYWdzID0ge1xuICAnMjMnOiAnPC9pPicsIC8vIHJlc2V0IGl0YWxpY1xuICAnMjQnOiAnPC91PicsIC8vIHJlc2V0IHVuZGVyc2NvcmVcbiAgJzI5JzogJzwvZGVsPicgLy8gcmVzZXQgZGVsZXRlXG59XG5cbjtbMCwgMjEsIDIyLCAyNywgMjgsIDM5LCA0OV0uZm9yRWFjaChmdW5jdGlvbiAobikge1xuICBfY2xvc2VUYWdzW25dID0gJzwvc3Bhbj4nXG59KVxuXG4vKipcbiAqIENvbnZlcnRzIHRleHQgd2l0aCBBTlNJIGNvbG9yIGNvZGVzIHRvIEhUTUwgbWFya3VwLlxuICogQHBhcmFtIHtTdHJpbmd9IHRleHRcbiAqIEByZXR1cm5zIHsqfVxuICovXG5mdW5jdGlvbiBhbnNpSFRNTCAodGV4dCkge1xuICAvLyBSZXR1cm5zIHRoZSB0ZXh0IGlmIHRoZSBzdHJpbmcgaGFzIG5vIEFOU0kgZXNjYXBlIGNvZGUuXG4gIGlmICghX3JlZ0FOU0kudGVzdCh0ZXh0KSkge1xuICAgIHJldHVybiB0ZXh0XG4gIH1cblxuICAvLyBDYWNoZSBvcGVuZWQgc2VxdWVuY2UuXG4gIHZhciBhbnNpQ29kZXMgPSBbXVxuICAvLyBSZXBsYWNlIHdpdGggbWFya3VwLlxuICB2YXIgcmV0ID0gdGV4dC5yZXBsYWNlKC9cXDAzM1xcWyhcXGQrKSptL2csIGZ1bmN0aW9uIChtYXRjaCwgc2VxKSB7XG4gICAgdmFyIG90ID0gX29wZW5UYWdzW3NlcV1cbiAgICBpZiAob3QpIHtcbiAgICAgIC8vIElmIGN1cnJlbnQgc2VxdWVuY2UgaGFzIGJlZW4gb3BlbmVkLCBjbG9zZSBpdC5cbiAgICAgIGlmICghIX5hbnNpQ29kZXMuaW5kZXhPZihzZXEpKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXh0cmEtYm9vbGVhbi1jYXN0XG4gICAgICAgIGFuc2lDb2Rlcy5wb3AoKVxuICAgICAgICByZXR1cm4gJzwvc3Bhbj4nXG4gICAgICB9XG4gICAgICAvLyBPcGVuIHRhZy5cbiAgICAgIGFuc2lDb2Rlcy5wdXNoKHNlcSlcbiAgICAgIHJldHVybiBvdFswXSA9PT0gJzwnID8gb3QgOiAnPHNwYW4gc3R5bGU9XCInICsgb3QgKyAnO1wiPidcbiAgICB9XG5cbiAgICB2YXIgY3QgPSBfY2xvc2VUYWdzW3NlcV1cbiAgICBpZiAoY3QpIHtcbiAgICAgIC8vIFBvcCBzZXF1ZW5jZVxuICAgICAgYW5zaUNvZGVzLnBvcCgpXG4gICAgICByZXR1cm4gY3RcbiAgICB9XG4gICAgcmV0dXJuICcnXG4gIH0pXG5cbiAgLy8gTWFrZSBzdXJlIHRhZ3MgYXJlIGNsb3NlZC5cbiAgdmFyIGwgPSBhbnNpQ29kZXMubGVuZ3RoXG4gIDsobCA+IDApICYmIChyZXQgKz0gQXJyYXkobCArIDEpLmpvaW4oJzwvc3Bhbj4nKSlcblxuICByZXR1cm4gcmV0XG59XG5cbi8qKlxuICogQ3VzdG9taXplIGNvbG9ycy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb2xvcnMgcmVmZXJlbmNlIHRvIF9kZWZDb2xvcnNcbiAqL1xuYW5zaUhUTUwuc2V0Q29sb3JzID0gZnVuY3Rpb24gKGNvbG9ycykge1xuICBpZiAodHlwZW9mIGNvbG9ycyAhPT0gJ29iamVjdCcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2Bjb2xvcnNgIHBhcmFtZXRlciBtdXN0IGJlIGFuIE9iamVjdC4nKVxuICB9XG5cbiAgdmFyIF9maW5hbENvbG9ycyA9IHt9XG4gIGZvciAodmFyIGtleSBpbiBfZGVmQ29sb3JzKSB7XG4gICAgdmFyIGhleCA9IGNvbG9ycy5oYXNPd25Qcm9wZXJ0eShrZXkpID8gY29sb3JzW2tleV0gOiBudWxsXG4gICAgaWYgKCFoZXgpIHtcbiAgICAgIF9maW5hbENvbG9yc1trZXldID0gX2RlZkNvbG9yc1trZXldXG4gICAgICBjb250aW51ZVxuICAgIH1cbiAgICBpZiAoJ3Jlc2V0JyA9PT0ga2V5KSB7XG4gICAgICBpZiAodHlwZW9mIGhleCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaGV4ID0gW2hleF1cbiAgICAgIH1cbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShoZXgpIHx8IGhleC5sZW5ndGggPT09IDAgfHwgaGV4LnNvbWUoZnVuY3Rpb24gKGgpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBoICE9PSAnc3RyaW5nJ1xuICAgICAgfSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgdmFsdWUgb2YgYCcgKyBrZXkgKyAnYCBwcm9wZXJ0eSBtdXN0IGJlIGFuIEFycmF5IGFuZCBlYWNoIGl0ZW0gY291bGQgb25seSBiZSBhIGhleCBzdHJpbmcsIGUuZy46IEZGMDAwMCcpXG4gICAgICB9XG4gICAgICB2YXIgZGVmSGV4Q29sb3IgPSBfZGVmQ29sb3JzW2tleV1cbiAgICAgIGlmICghaGV4WzBdKSB7XG4gICAgICAgIGhleFswXSA9IGRlZkhleENvbG9yWzBdXG4gICAgICB9XG4gICAgICBpZiAoaGV4Lmxlbmd0aCA9PT0gMSB8fCAhaGV4WzFdKSB7XG4gICAgICAgIGhleCA9IFtoZXhbMF1dXG4gICAgICAgIGhleC5wdXNoKGRlZkhleENvbG9yWzFdKVxuICAgICAgfVxuXG4gICAgICBoZXggPSBoZXguc2xpY2UoMCwgMilcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBoZXggIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSB2YWx1ZSBvZiBgJyArIGtleSArICdgIHByb3BlcnR5IG11c3QgYmUgYSBoZXggc3RyaW5nLCBlLmcuOiBGRjAwMDAnKVxuICAgIH1cbiAgICBfZmluYWxDb2xvcnNba2V5XSA9IGhleFxuICB9XG4gIF9zZXRUYWdzKF9maW5hbENvbG9ycylcbn1cblxuLyoqXG4gKiBSZXNldCBjb2xvcnMuXG4gKi9cbmFuc2lIVE1MLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICBfc2V0VGFncyhfZGVmQ29sb3JzKVxufVxuXG4vKipcbiAqIEV4cG9zZSB0YWdzLCBpbmNsdWRpbmcgb3BlbiBhbmQgY2xvc2UuXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5hbnNpSFRNTC50YWdzID0ge31cblxuaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYW5zaUhUTUwudGFncywgJ29wZW4nLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBfb3BlblRhZ3MgfVxuICB9KVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYW5zaUhUTUwudGFncywgJ2Nsb3NlJywge1xuICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gX2Nsb3NlVGFncyB9XG4gIH0pXG59IGVsc2Uge1xuICBhbnNpSFRNTC50YWdzLm9wZW4gPSBfb3BlblRhZ3NcbiAgYW5zaUhUTUwudGFncy5jbG9zZSA9IF9jbG9zZVRhZ3Ncbn1cblxuZnVuY3Rpb24gX3NldFRhZ3MgKGNvbG9ycykge1xuICAvLyByZXNldCBhbGxcbiAgX29wZW5UYWdzWycwJ10gPSAnZm9udC13ZWlnaHQ6bm9ybWFsO29wYWNpdHk6MTtjb2xvcjojJyArIGNvbG9ycy5yZXNldFswXSArICc7YmFja2dyb3VuZDojJyArIGNvbG9ycy5yZXNldFsxXVxuICAvLyBpbnZlcnNlXG4gIF9vcGVuVGFnc1snNyddID0gJ2NvbG9yOiMnICsgY29sb3JzLnJlc2V0WzFdICsgJztiYWNrZ3JvdW5kOiMnICsgY29sb3JzLnJlc2V0WzBdXG4gIC8vIGRhcmsgZ3JleVxuICBfb3BlblRhZ3NbJzkwJ10gPSAnY29sb3I6IycgKyBjb2xvcnMuZGFya2dyZXlcblxuICBmb3IgKHZhciBjb2RlIGluIF9zdHlsZXMpIHtcbiAgICB2YXIgY29sb3IgPSBfc3R5bGVzW2NvZGVdXG4gICAgdmFyIG9yaUNvbG9yID0gY29sb3JzW2NvbG9yXSB8fCAnMDAwJ1xuICAgIF9vcGVuVGFnc1tjb2RlXSA9ICdjb2xvcjojJyArIG9yaUNvbG9yXG4gICAgY29kZSA9IHBhcnNlSW50KGNvZGUpXG4gICAgX29wZW5UYWdzWyhjb2RlICsgMTApLnRvU3RyaW5nKCldID0gJ2JhY2tncm91bmQ6IycgKyBvcmlDb2xvclxuICB9XG59XG5cbmFuc2lIVE1MLnJlc2V0KClcbiIsIid1c2Ugc3RyaWN0J1xuXG5leHBvcnRzLmJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoXG5leHBvcnRzLnRvQnl0ZUFycmF5ID0gdG9CeXRlQXJyYXlcbmV4cG9ydHMuZnJvbUJ5dGVBcnJheSA9IGZyb21CeXRlQXJyYXlcblxudmFyIGxvb2t1cCA9IFtdXG52YXIgcmV2TG9va3VwID0gW11cbnZhciBBcnIgPSB0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcgPyBVaW50OEFycmF5IDogQXJyYXlcblxudmFyIGNvZGUgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLydcbmZvciAodmFyIGkgPSAwLCBsZW4gPSBjb2RlLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gIGxvb2t1cFtpXSA9IGNvZGVbaV1cbiAgcmV2TG9va3VwW2NvZGUuY2hhckNvZGVBdChpKV0gPSBpXG59XG5cbi8vIFN1cHBvcnQgZGVjb2RpbmcgVVJMLXNhZmUgYmFzZTY0IHN0cmluZ3MsIGFzIE5vZGUuanMgZG9lcy5cbi8vIFNlZTogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQmFzZTY0I1VSTF9hcHBsaWNhdGlvbnNcbnJldkxvb2t1cFsnLScuY2hhckNvZGVBdCgwKV0gPSA2MlxucmV2TG9va3VwWydfJy5jaGFyQ29kZUF0KDApXSA9IDYzXG5cbmZ1bmN0aW9uIGdldExlbnMgKGI2NCkge1xuICB2YXIgbGVuID0gYjY0Lmxlbmd0aFxuXG4gIGlmIChsZW4gJSA0ID4gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNCcpXG4gIH1cblxuICAvLyBUcmltIG9mZiBleHRyYSBieXRlcyBhZnRlciBwbGFjZWhvbGRlciBieXRlcyBhcmUgZm91bmRcbiAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vYmVhdGdhbW1pdC9iYXNlNjQtanMvaXNzdWVzLzQyXG4gIHZhciB2YWxpZExlbiA9IGI2NC5pbmRleE9mKCc9JylcbiAgaWYgKHZhbGlkTGVuID09PSAtMSkgdmFsaWRMZW4gPSBsZW5cblxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gdmFsaWRMZW4gPT09IGxlblxuICAgID8gMFxuICAgIDogNCAtICh2YWxpZExlbiAlIDQpXG5cbiAgcmV0dXJuIFt2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuXVxufVxuXG4vLyBiYXNlNjQgaXMgNC8zICsgdXAgdG8gdHdvIGNoYXJhY3RlcnMgb2YgdGhlIG9yaWdpbmFsIGRhdGFcbmZ1bmN0aW9uIGJ5dGVMZW5ndGggKGI2NCkge1xuICB2YXIgbGVucyA9IGdldExlbnMoYjY0KVxuICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdXG4gIHJldHVybiAoKHZhbGlkTGVuICsgcGxhY2VIb2xkZXJzTGVuKSAqIDMgLyA0KSAtIHBsYWNlSG9sZGVyc0xlblxufVxuXG5mdW5jdGlvbiBfYnl0ZUxlbmd0aCAoYjY0LCB2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuKSB7XG4gIHJldHVybiAoKHZhbGlkTGVuICsgcGxhY2VIb2xkZXJzTGVuKSAqIDMgLyA0KSAtIHBsYWNlSG9sZGVyc0xlblxufVxuXG5mdW5jdGlvbiB0b0J5dGVBcnJheSAoYjY0KSB7XG4gIHZhciB0bXBcbiAgdmFyIGxlbnMgPSBnZXRMZW5zKGI2NClcbiAgdmFyIHZhbGlkTGVuID0gbGVuc1swXVxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXVxuXG4gIHZhciBhcnIgPSBuZXcgQXJyKF9ieXRlTGVuZ3RoKGI2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikpXG5cbiAgdmFyIGN1ckJ5dGUgPSAwXG5cbiAgLy8gaWYgdGhlcmUgYXJlIHBsYWNlaG9sZGVycywgb25seSBnZXQgdXAgdG8gdGhlIGxhc3QgY29tcGxldGUgNCBjaGFyc1xuICB2YXIgbGVuID0gcGxhY2VIb2xkZXJzTGVuID4gMFxuICAgID8gdmFsaWRMZW4gLSA0XG4gICAgOiB2YWxpZExlblxuXG4gIHZhciBpXG4gIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxOCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDEyKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPDwgNikgfFxuICAgICAgcmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAzKV1cbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gMTYpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiA4KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDIpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMikgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldID4+IDQpXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICBpZiAocGxhY2VIb2xkZXJzTGVuID09PSAxKSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDEwKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgNCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildID4+IDIpXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIGFyclxufVxuXG5mdW5jdGlvbiB0cmlwbGV0VG9CYXNlNjQgKG51bSkge1xuICByZXR1cm4gbG9va3VwW251bSA+PiAxOCAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtID4+IDEyICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gPj4gNiAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtICYgMHgzRl1cbn1cblxuZnVuY3Rpb24gZW5jb2RlQ2h1bmsgKHVpbnQ4LCBzdGFydCwgZW5kKSB7XG4gIHZhciB0bXBcbiAgdmFyIG91dHB1dCA9IFtdXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSAzKSB7XG4gICAgdG1wID1cbiAgICAgICgodWludDhbaV0gPDwgMTYpICYgMHhGRjAwMDApICtcbiAgICAgICgodWludDhbaSArIDFdIDw8IDgpICYgMHhGRjAwKSArXG4gICAgICAodWludDhbaSArIDJdICYgMHhGRilcbiAgICBvdXRwdXQucHVzaCh0cmlwbGV0VG9CYXNlNjQodG1wKSlcbiAgfVxuICByZXR1cm4gb3V0cHV0LmpvaW4oJycpXG59XG5cbmZ1bmN0aW9uIGZyb21CeXRlQXJyYXkgKHVpbnQ4KSB7XG4gIHZhciB0bXBcbiAgdmFyIGxlbiA9IHVpbnQ4Lmxlbmd0aFxuICB2YXIgZXh0cmFCeXRlcyA9IGxlbiAlIDMgLy8gaWYgd2UgaGF2ZSAxIGJ5dGUgbGVmdCwgcGFkIDIgYnl0ZXNcbiAgdmFyIHBhcnRzID0gW11cbiAgdmFyIG1heENodW5rTGVuZ3RoID0gMTYzODMgLy8gbXVzdCBiZSBtdWx0aXBsZSBvZiAzXG5cbiAgLy8gZ28gdGhyb3VnaCB0aGUgYXJyYXkgZXZlcnkgdGhyZWUgYnl0ZXMsIHdlJ2xsIGRlYWwgd2l0aCB0cmFpbGluZyBzdHVmZiBsYXRlclxuICBmb3IgKHZhciBpID0gMCwgbGVuMiA9IGxlbiAtIGV4dHJhQnl0ZXM7IGkgPCBsZW4yOyBpICs9IG1heENodW5rTGVuZ3RoKSB7XG4gICAgcGFydHMucHVzaChlbmNvZGVDaHVuayh1aW50OCwgaSwgKGkgKyBtYXhDaHVua0xlbmd0aCkgPiBsZW4yID8gbGVuMiA6IChpICsgbWF4Q2h1bmtMZW5ndGgpKSlcbiAgfVxuXG4gIC8vIHBhZCB0aGUgZW5kIHdpdGggemVyb3MsIGJ1dCBtYWtlIHN1cmUgdG8gbm90IGZvcmdldCB0aGUgZXh0cmEgYnl0ZXNcbiAgaWYgKGV4dHJhQnl0ZXMgPT09IDEpIHtcbiAgICB0bXAgPSB1aW50OFtsZW4gLSAxXVxuICAgIHBhcnRzLnB1c2goXG4gICAgICBsb29rdXBbdG1wID4+IDJdICtcbiAgICAgIGxvb2t1cFsodG1wIDw8IDQpICYgMHgzRl0gK1xuICAgICAgJz09J1xuICAgIClcbiAgfSBlbHNlIGlmIChleHRyYUJ5dGVzID09PSAyKSB7XG4gICAgdG1wID0gKHVpbnQ4W2xlbiAtIDJdIDw8IDgpICsgdWludDhbbGVuIC0gMV1cbiAgICBwYXJ0cy5wdXNoKFxuICAgICAgbG9va3VwW3RtcCA+PiAxMF0gK1xuICAgICAgbG9va3VwWyh0bXAgPj4gNCkgJiAweDNGXSArXG4gICAgICBsb29rdXBbKHRtcCA8PCAyKSAmIDB4M0ZdICtcbiAgICAgICc9J1xuICAgIClcbiAgfVxuXG4gIHJldHVybiBwYXJ0cy5qb2luKCcnKVxufVxuIiwiLyohXG4gKiBUaGUgYnVmZmVyIG1vZHVsZSBmcm9tIG5vZGUuanMsIGZvciB0aGUgYnJvd3Nlci5cbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cDovL2Zlcm9zcy5vcmc+XG4gKiBAbGljZW5zZSAgTUlUXG4gKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG5cbid1c2Ugc3RyaWN0J1xuXG52YXIgYmFzZTY0ID0gcmVxdWlyZSgnYmFzZTY0LWpzJylcbnZhciBpZWVlNzU0ID0gcmVxdWlyZSgnaWVlZTc1NCcpXG52YXIgaXNBcnJheSA9IHJlcXVpcmUoJ2lzYXJyYXknKVxuXG5leHBvcnRzLkJ1ZmZlciA9IEJ1ZmZlclxuZXhwb3J0cy5TbG93QnVmZmVyID0gU2xvd0J1ZmZlclxuZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFUyA9IDUwXG5cbi8qKlxuICogSWYgYEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUYDpcbiAqICAgPT09IHRydWUgICAgVXNlIFVpbnQ4QXJyYXkgaW1wbGVtZW50YXRpb24gKGZhc3Rlc3QpXG4gKiAgID09PSBmYWxzZSAgIFVzZSBPYmplY3QgaW1wbGVtZW50YXRpb24gKG1vc3QgY29tcGF0aWJsZSwgZXZlbiBJRTYpXG4gKlxuICogQnJvd3NlcnMgdGhhdCBzdXBwb3J0IHR5cGVkIGFycmF5cyBhcmUgSUUgMTArLCBGaXJlZm94IDQrLCBDaHJvbWUgNyssIFNhZmFyaSA1LjErLFxuICogT3BlcmEgMTEuNissIGlPUyA0LjIrLlxuICpcbiAqIER1ZSB0byB2YXJpb3VzIGJyb3dzZXIgYnVncywgc29tZXRpbWVzIHRoZSBPYmplY3QgaW1wbGVtZW50YXRpb24gd2lsbCBiZSB1c2VkIGV2ZW5cbiAqIHdoZW4gdGhlIGJyb3dzZXIgc3VwcG9ydHMgdHlwZWQgYXJyYXlzLlxuICpcbiAqIE5vdGU6XG4gKlxuICogICAtIEZpcmVmb3ggNC0yOSBsYWNrcyBzdXBwb3J0IGZvciBhZGRpbmcgbmV3IHByb3BlcnRpZXMgdG8gYFVpbnQ4QXJyYXlgIGluc3RhbmNlcyxcbiAqICAgICBTZWU6IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY5NTQzOC5cbiAqXG4gKiAgIC0gQ2hyb21lIDktMTAgaXMgbWlzc2luZyB0aGUgYFR5cGVkQXJyYXkucHJvdG90eXBlLnN1YmFycmF5YCBmdW5jdGlvbi5cbiAqXG4gKiAgIC0gSUUxMCBoYXMgYSBicm9rZW4gYFR5cGVkQXJyYXkucHJvdG90eXBlLnN1YmFycmF5YCBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGFycmF5cyBvZlxuICogICAgIGluY29ycmVjdCBsZW5ndGggaW4gc29tZSBzaXR1YXRpb25zLlxuXG4gKiBXZSBkZXRlY3QgdGhlc2UgYnVnZ3kgYnJvd3NlcnMgYW5kIHNldCBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgIHRvIGBmYWxzZWAgc28gdGhleVxuICogZ2V0IHRoZSBPYmplY3QgaW1wbGVtZW50YXRpb24sIHdoaWNoIGlzIHNsb3dlciBidXQgYmVoYXZlcyBjb3JyZWN0bHkuXG4gKi9cbkJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUID0gZ2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlQgIT09IHVuZGVmaW5lZFxuICA/IGdsb2JhbC5UWVBFRF9BUlJBWV9TVVBQT1JUXG4gIDogdHlwZWRBcnJheVN1cHBvcnQoKVxuXG4vKlxuICogRXhwb3J0IGtNYXhMZW5ndGggYWZ0ZXIgdHlwZWQgYXJyYXkgc3VwcG9ydCBpcyBkZXRlcm1pbmVkLlxuICovXG5leHBvcnRzLmtNYXhMZW5ndGggPSBrTWF4TGVuZ3RoKClcblxuZnVuY3Rpb24gdHlwZWRBcnJheVN1cHBvcnQgKCkge1xuICB0cnkge1xuICAgIHZhciBhcnIgPSBuZXcgVWludDhBcnJheSgxKVxuICAgIGFyci5fX3Byb3RvX18gPSB7X19wcm90b19fOiBVaW50OEFycmF5LnByb3RvdHlwZSwgZm9vOiBmdW5jdGlvbiAoKSB7IHJldHVybiA0MiB9fVxuICAgIHJldHVybiBhcnIuZm9vKCkgPT09IDQyICYmIC8vIHR5cGVkIGFycmF5IGluc3RhbmNlcyBjYW4gYmUgYXVnbWVudGVkXG4gICAgICAgIHR5cGVvZiBhcnIuc3ViYXJyYXkgPT09ICdmdW5jdGlvbicgJiYgLy8gY2hyb21lIDktMTAgbGFjayBgc3ViYXJyYXlgXG4gICAgICAgIGFyci5zdWJhcnJheSgxLCAxKS5ieXRlTGVuZ3RoID09PSAwIC8vIGllMTAgaGFzIGJyb2tlbiBgc3ViYXJyYXlgXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5mdW5jdGlvbiBrTWF4TGVuZ3RoICgpIHtcbiAgcmV0dXJuIEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUXG4gICAgPyAweDdmZmZmZmZmXG4gICAgOiAweDNmZmZmZmZmXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlciAodGhhdCwgbGVuZ3RoKSB7XG4gIGlmIChrTWF4TGVuZ3RoKCkgPCBsZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCB0eXBlZCBhcnJheSBsZW5ndGgnKVxuICB9XG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlLCBmb3IgYmVzdCBwZXJmb3JtYW5jZVxuICAgIHRoYXQgPSBuZXcgVWludDhBcnJheShsZW5ndGgpXG4gICAgdGhhdC5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIH0gZWxzZSB7XG4gICAgLy8gRmFsbGJhY2s6IFJldHVybiBhbiBvYmplY3QgaW5zdGFuY2Ugb2YgdGhlIEJ1ZmZlciBjbGFzc1xuICAgIGlmICh0aGF0ID09PSBudWxsKSB7XG4gICAgICB0aGF0ID0gbmV3IEJ1ZmZlcihsZW5ndGgpXG4gICAgfVxuICAgIHRoYXQubGVuZ3RoID0gbGVuZ3RoXG4gIH1cblxuICByZXR1cm4gdGhhdFxufVxuXG4vKipcbiAqIFRoZSBCdWZmZXIgY29uc3RydWN0b3IgcmV0dXJucyBpbnN0YW5jZXMgb2YgYFVpbnQ4QXJyYXlgIHRoYXQgaGF2ZSB0aGVpclxuICogcHJvdG90eXBlIGNoYW5nZWQgdG8gYEJ1ZmZlci5wcm90b3R5cGVgLiBGdXJ0aGVybW9yZSwgYEJ1ZmZlcmAgaXMgYSBzdWJjbGFzcyBvZlxuICogYFVpbnQ4QXJyYXlgLCBzbyB0aGUgcmV0dXJuZWQgaW5zdGFuY2VzIHdpbGwgaGF2ZSBhbGwgdGhlIG5vZGUgYEJ1ZmZlcmAgbWV0aG9kc1xuICogYW5kIHRoZSBgVWludDhBcnJheWAgbWV0aG9kcy4gU3F1YXJlIGJyYWNrZXQgbm90YXRpb24gd29ya3MgYXMgZXhwZWN0ZWQgLS0gaXRcbiAqIHJldHVybnMgYSBzaW5nbGUgb2N0ZXQuXG4gKlxuICogVGhlIGBVaW50OEFycmF5YCBwcm90b3R5cGUgcmVtYWlucyB1bm1vZGlmaWVkLlxuICovXG5cbmZ1bmN0aW9uIEJ1ZmZlciAoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCAmJiAhKHRoaXMgaW5zdGFuY2VvZiBCdWZmZXIpKSB7XG4gICAgcmV0dXJuIG5ldyBCdWZmZXIoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICAvLyBDb21tb24gY2FzZS5cbiAgaWYgKHR5cGVvZiBhcmcgPT09ICdudW1iZXInKSB7XG4gICAgaWYgKHR5cGVvZiBlbmNvZGluZ09yT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnSWYgZW5jb2RpbmcgaXMgc3BlY2lmaWVkIHRoZW4gdGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcnXG4gICAgICApXG4gICAgfVxuICAgIHJldHVybiBhbGxvY1Vuc2FmZSh0aGlzLCBhcmcpXG4gIH1cbiAgcmV0dXJuIGZyb20odGhpcywgYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cbkJ1ZmZlci5wb29sU2l6ZSA9IDgxOTIgLy8gbm90IHVzZWQgYnkgdGhpcyBpbXBsZW1lbnRhdGlvblxuXG4vLyBUT0RPOiBMZWdhY3ksIG5vdCBuZWVkZWQgYW55bW9yZS4gUmVtb3ZlIGluIG5leHQgbWFqb3IgdmVyc2lvbi5cbkJ1ZmZlci5fYXVnbWVudCA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgYXJyLl9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgcmV0dXJuIGFyclxufVxuXG5mdW5jdGlvbiBmcm9tICh0aGF0LCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyJylcbiAgfVxuXG4gIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIHZhbHVlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICByZXR1cm4gZnJvbUFycmF5QnVmZmVyKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBmcm9tU3RyaW5nKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0KVxuICB9XG5cbiAgcmV0dXJuIGZyb21PYmplY3QodGhhdCwgdmFsdWUpXG59XG5cbi8qKlxuICogRnVuY3Rpb25hbGx5IGVxdWl2YWxlbnQgdG8gQnVmZmVyKGFyZywgZW5jb2RpbmcpIGJ1dCB0aHJvd3MgYSBUeXBlRXJyb3JcbiAqIGlmIHZhbHVlIGlzIGEgbnVtYmVyLlxuICogQnVmZmVyLmZyb20oc3RyWywgZW5jb2RpbmddKVxuICogQnVmZmVyLmZyb20oYXJyYXkpXG4gKiBCdWZmZXIuZnJvbShidWZmZXIpXG4gKiBCdWZmZXIuZnJvbShhcnJheUJ1ZmZlclssIGJ5dGVPZmZzZXRbLCBsZW5ndGhdXSlcbiAqKi9cbkJ1ZmZlci5mcm9tID0gZnVuY3Rpb24gKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGZyb20obnVsbCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gIEJ1ZmZlci5wcm90b3R5cGUuX19wcm90b19fID0gVWludDhBcnJheS5wcm90b3R5cGVcbiAgQnVmZmVyLl9fcHJvdG9fXyA9IFVpbnQ4QXJyYXlcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC5zcGVjaWVzICYmXG4gICAgICBCdWZmZXJbU3ltYm9sLnNwZWNpZXNdID09PSBCdWZmZXIpIHtcbiAgICAvLyBGaXggc3ViYXJyYXkoKSBpbiBFUzIwMTYuIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIvcHVsbC85N1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWZmZXIsIFN5bWJvbC5zcGVjaWVzLCB7XG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pXG4gIH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0U2l6ZSAoc2l6ZSkge1xuICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpXG4gIH0gZWxzZSBpZiAoc2l6ZSA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgbmVnYXRpdmUnKVxuICB9XG59XG5cbmZ1bmN0aW9uIGFsbG9jICh0aGF0LCBzaXplLCBmaWxsLCBlbmNvZGluZykge1xuICBhc3NlcnRTaXplKHNpemUpXG4gIGlmIChzaXplIDw9IDApIHtcbiAgICByZXR1cm4gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpXG4gIH1cbiAgaWYgKGZpbGwgIT09IHVuZGVmaW5lZCkge1xuICAgIC8vIE9ubHkgcGF5IGF0dGVudGlvbiB0byBlbmNvZGluZyBpZiBpdCdzIGEgc3RyaW5nLiBUaGlzXG4gICAgLy8gcHJldmVudHMgYWNjaWRlbnRhbGx5IHNlbmRpbmcgaW4gYSBudW1iZXIgdGhhdCB3b3VsZFxuICAgIC8vIGJlIGludGVycHJldHRlZCBhcyBhIHN0YXJ0IG9mZnNldC5cbiAgICByZXR1cm4gdHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJ1xuICAgICAgPyBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSkuZmlsbChmaWxsLCBlbmNvZGluZylcbiAgICAgIDogY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpLmZpbGwoZmlsbClcbiAgfVxuICByZXR1cm4gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpXG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBmaWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogYWxsb2Moc2l6ZVssIGZpbGxbLCBlbmNvZGluZ11dKVxuICoqL1xuQnVmZmVyLmFsbG9jID0gZnVuY3Rpb24gKHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIHJldHVybiBhbGxvYyhudWxsLCBzaXplLCBmaWxsLCBlbmNvZGluZylcbn1cblxuZnVuY3Rpb24gYWxsb2NVbnNhZmUgKHRoYXQsIHNpemUpIHtcbiAgYXNzZXJ0U2l6ZShzaXplKVxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUgPCAwID8gMCA6IGNoZWNrZWQoc2l6ZSkgfCAwKVxuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyArK2kpIHtcbiAgICAgIHRoYXRbaV0gPSAwXG4gICAgfVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbi8qKlxuICogRXF1aXZhbGVudCB0byBCdWZmZXIobnVtKSwgYnkgZGVmYXVsdCBjcmVhdGVzIGEgbm9uLXplcm8tZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqICovXG5CdWZmZXIuYWxsb2NVbnNhZmUgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICByZXR1cm4gYWxsb2NVbnNhZmUobnVsbCwgc2l6ZSlcbn1cbi8qKlxuICogRXF1aXZhbGVudCB0byBTbG93QnVmZmVyKG51bSksIGJ5IGRlZmF1bHQgY3JlYXRlcyBhIG5vbi16ZXJvLWZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKi9cbkJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3cgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICByZXR1cm4gYWxsb2NVbnNhZmUobnVsbCwgc2l6ZSlcbn1cblxuZnVuY3Rpb24gZnJvbVN0cmluZyAodGhhdCwgc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAodHlwZW9mIGVuY29kaW5nICE9PSAnc3RyaW5nJyB8fCBlbmNvZGluZyA9PT0gJycpIHtcbiAgICBlbmNvZGluZyA9ICd1dGY4J1xuICB9XG5cbiAgaWYgKCFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImVuY29kaW5nXCIgbXVzdCBiZSBhIHZhbGlkIHN0cmluZyBlbmNvZGluZycpXG4gIH1cblxuICB2YXIgbGVuZ3RoID0gYnl0ZUxlbmd0aChzdHJpbmcsIGVuY29kaW5nKSB8IDBcbiAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBsZW5ndGgpXG5cbiAgdmFyIGFjdHVhbCA9IHRoYXQud3JpdGUoc3RyaW5nLCBlbmNvZGluZylcblxuICBpZiAoYWN0dWFsICE9PSBsZW5ndGgpIHtcbiAgICAvLyBXcml0aW5nIGEgaGV4IHN0cmluZywgZm9yIGV4YW1wbGUsIHRoYXQgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzIHdpbGxcbiAgICAvLyBjYXVzZSBldmVyeXRoaW5nIGFmdGVyIHRoZSBmaXJzdCBpbnZhbGlkIGNoYXJhY3RlciB0byBiZSBpZ25vcmVkLiAoZS5nLlxuICAgIC8vICdhYnh4Y2QnIHdpbGwgYmUgdHJlYXRlZCBhcyAnYWInKVxuICAgIHRoYXQgPSB0aGF0LnNsaWNlKDAsIGFjdHVhbClcbiAgfVxuXG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUxpa2UgKHRoYXQsIGFycmF5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGggPCAwID8gMCA6IGNoZWNrZWQoYXJyYXkubGVuZ3RoKSB8IDBcbiAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBsZW5ndGgpXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICB0aGF0W2ldID0gYXJyYXlbaV0gJiAyNTVcbiAgfVxuICByZXR1cm4gdGhhdFxufVxuXG5mdW5jdGlvbiBmcm9tQXJyYXlCdWZmZXIgKHRoYXQsIGFycmF5LCBieXRlT2Zmc2V0LCBsZW5ndGgpIHtcbiAgYXJyYXkuYnl0ZUxlbmd0aCAvLyB0aGlzIHRocm93cyBpZiBgYXJyYXlgIGlzIG5vdCBhIHZhbGlkIEFycmF5QnVmZmVyXG5cbiAgaWYgKGJ5dGVPZmZzZXQgPCAwIHx8IGFycmF5LmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0KSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1xcJ29mZnNldFxcJyBpcyBvdXQgb2YgYm91bmRzJylcbiAgfVxuXG4gIGlmIChhcnJheS5ieXRlTGVuZ3RoIDwgYnl0ZU9mZnNldCArIChsZW5ndGggfHwgMCkpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXFwnbGVuZ3RoXFwnIGlzIG91dCBvZiBib3VuZHMnKVxuICB9XG5cbiAgaWYgKGJ5dGVPZmZzZXQgPT09IHVuZGVmaW5lZCAmJiBsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXkpXG4gIH0gZWxzZSBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5LCBieXRlT2Zmc2V0KVxuICB9IGVsc2Uge1xuICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlLCBmb3IgYmVzdCBwZXJmb3JtYW5jZVxuICAgIHRoYXQgPSBhcnJheVxuICAgIHRoYXQuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICB9IGVsc2Uge1xuICAgIC8vIEZhbGxiYWNrOiBSZXR1cm4gYW4gb2JqZWN0IGluc3RhbmNlIG9mIHRoZSBCdWZmZXIgY2xhc3NcbiAgICB0aGF0ID0gZnJvbUFycmF5TGlrZSh0aGF0LCBhcnJheSlcbiAgfVxuICByZXR1cm4gdGhhdFxufVxuXG5mdW5jdGlvbiBmcm9tT2JqZWN0ICh0aGF0LCBvYmopIHtcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihvYmopKSB7XG4gICAgdmFyIGxlbiA9IGNoZWNrZWQob2JqLmxlbmd0aCkgfCAwXG4gICAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBsZW4pXG5cbiAgICBpZiAodGhhdC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB0aGF0XG4gICAgfVxuXG4gICAgb2JqLmNvcHkodGhhdCwgMCwgMCwgbGVuKVxuICAgIHJldHVybiB0aGF0XG4gIH1cblxuICBpZiAob2JqKSB7XG4gICAgaWYgKCh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIG9iai5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikgfHwgJ2xlbmd0aCcgaW4gb2JqKSB7XG4gICAgICBpZiAodHlwZW9mIG9iai5sZW5ndGggIT09ICdudW1iZXInIHx8IGlzbmFuKG9iai5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgMClcbiAgICAgIH1cbiAgICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKHRoYXQsIG9iailcbiAgICB9XG5cbiAgICBpZiAob2JqLnR5cGUgPT09ICdCdWZmZXInICYmIGlzQXJyYXkob2JqLmRhdGEpKSB7XG4gICAgICByZXR1cm4gZnJvbUFycmF5TGlrZSh0aGF0LCBvYmouZGF0YSlcbiAgICB9XG4gIH1cblxuICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgb3IgYXJyYXktbGlrZSBvYmplY3QuJylcbn1cblxuZnVuY3Rpb24gY2hlY2tlZCAobGVuZ3RoKSB7XG4gIC8vIE5vdGU6IGNhbm5vdCB1c2UgYGxlbmd0aCA8IGtNYXhMZW5ndGgoKWAgaGVyZSBiZWNhdXNlIHRoYXQgZmFpbHMgd2hlblxuICAvLyBsZW5ndGggaXMgTmFOICh3aGljaCBpcyBvdGhlcndpc2UgY29lcmNlZCB0byB6ZXJvLilcbiAgaWYgKGxlbmd0aCA+PSBrTWF4TGVuZ3RoKCkpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAnc2l6ZTogMHgnICsga01heExlbmd0aCgpLnRvU3RyaW5nKDE2KSArICcgYnl0ZXMnKVxuICB9XG4gIHJldHVybiBsZW5ndGggfCAwXG59XG5cbmZ1bmN0aW9uIFNsb3dCdWZmZXIgKGxlbmd0aCkge1xuICBpZiAoK2xlbmd0aCAhPSBsZW5ndGgpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBlcWVxZXFcbiAgICBsZW5ndGggPSAwXG4gIH1cbiAgcmV0dXJuIEJ1ZmZlci5hbGxvYygrbGVuZ3RoKVxufVxuXG5CdWZmZXIuaXNCdWZmZXIgPSBmdW5jdGlvbiBpc0J1ZmZlciAoYikge1xuICByZXR1cm4gISEoYiAhPSBudWxsICYmIGIuX2lzQnVmZmVyKVxufVxuXG5CdWZmZXIuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUgKGEsIGIpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYSkgfHwgIUJ1ZmZlci5pc0J1ZmZlcihiKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyBtdXN0IGJlIEJ1ZmZlcnMnKVxuICB9XG5cbiAgaWYgKGEgPT09IGIpIHJldHVybiAwXG5cbiAgdmFyIHggPSBhLmxlbmd0aFxuICB2YXIgeSA9IGIubGVuZ3RoXG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IE1hdGgubWluKHgsIHkpOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAoYVtpXSAhPT0gYltpXSkge1xuICAgICAgeCA9IGFbaV1cbiAgICAgIHkgPSBiW2ldXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkgcmV0dXJuIC0xXG4gIGlmICh5IDwgeCkgcmV0dXJuIDFcbiAgcmV0dXJuIDBcbn1cblxuQnVmZmVyLmlzRW5jb2RpbmcgPSBmdW5jdGlvbiBpc0VuY29kaW5nIChlbmNvZGluZykge1xuICBzd2l0Y2ggKFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKSkge1xuICAgIGNhc2UgJ2hleCc6XG4gICAgY2FzZSAndXRmOCc6XG4gICAgY2FzZSAndXRmLTgnOlxuICAgIGNhc2UgJ2FzY2lpJzpcbiAgICBjYXNlICdsYXRpbjEnOlxuICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgY2FzZSAnYmFzZTY0JzpcbiAgICBjYXNlICd1Y3MyJzpcbiAgICBjYXNlICd1Y3MtMic6XG4gICAgY2FzZSAndXRmMTZsZSc6XG4gICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgcmV0dXJuIHRydWVcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuQnVmZmVyLmNvbmNhdCA9IGZ1bmN0aW9uIGNvbmNhdCAobGlzdCwgbGVuZ3RoKSB7XG4gIGlmICghaXNBcnJheShsaXN0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpXG4gIH1cblxuICBpZiAobGlzdC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gQnVmZmVyLmFsbG9jKDApXG4gIH1cblxuICB2YXIgaVxuICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBsZW5ndGggPSAwXG4gICAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHtcbiAgICAgIGxlbmd0aCArPSBsaXN0W2ldLmxlbmd0aFxuICAgIH1cbiAgfVxuXG4gIHZhciBidWZmZXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUobGVuZ3RoKVxuICB2YXIgcG9zID0gMFxuICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgIHZhciBidWYgPSBsaXN0W2ldXG4gICAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJylcbiAgICB9XG4gICAgYnVmLmNvcHkoYnVmZmVyLCBwb3MpXG4gICAgcG9zICs9IGJ1Zi5sZW5ndGhcbiAgfVxuICByZXR1cm4gYnVmZmVyXG59XG5cbmZ1bmN0aW9uIGJ5dGVMZW5ndGggKHN0cmluZywgZW5jb2RpbmcpIHtcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihzdHJpbmcpKSB7XG4gICAgcmV0dXJuIHN0cmluZy5sZW5ndGhcbiAgfVxuICBpZiAodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3ID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAoQXJyYXlCdWZmZXIuaXNWaWV3KHN0cmluZykgfHwgc3RyaW5nIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpKSB7XG4gICAgcmV0dXJuIHN0cmluZy5ieXRlTGVuZ3RoXG4gIH1cbiAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgc3RyaW5nID0gJycgKyBzdHJpbmdcbiAgfVxuXG4gIHZhciBsZW4gPSBzdHJpbmcubGVuZ3RoXG4gIGlmIChsZW4gPT09IDApIHJldHVybiAwXG5cbiAgLy8gVXNlIGEgZm9yIGxvb3AgdG8gYXZvaWQgcmVjdXJzaW9uXG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG4gIGZvciAoOzspIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxlblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgcmV0dXJuIHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gbGVuICogMlxuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGxlbiA+Pj4gMVxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgcmV0dXJuIGJhc2U2NFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgcmV0dXJuIHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoIC8vIGFzc3VtZSB1dGY4XG4gICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5CdWZmZXIuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcblxuZnVuY3Rpb24gc2xvd1RvU3RyaW5nIChlbmNvZGluZywgc3RhcnQsIGVuZCkge1xuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuXG4gIC8vIE5vIG5lZWQgdG8gdmVyaWZ5IHRoYXQgXCJ0aGlzLmxlbmd0aCA8PSBNQVhfVUlOVDMyXCIgc2luY2UgaXQncyBhIHJlYWQtb25seVxuICAvLyBwcm9wZXJ0eSBvZiBhIHR5cGVkIGFycmF5LlxuXG4gIC8vIFRoaXMgYmVoYXZlcyBuZWl0aGVyIGxpa2UgU3RyaW5nIG5vciBVaW50OEFycmF5IGluIHRoYXQgd2Ugc2V0IHN0YXJ0L2VuZFxuICAvLyB0byB0aGVpciB1cHBlci9sb3dlciBib3VuZHMgaWYgdGhlIHZhbHVlIHBhc3NlZCBpcyBvdXQgb2YgcmFuZ2UuXG4gIC8vIHVuZGVmaW5lZCBpcyBoYW5kbGVkIHNwZWNpYWxseSBhcyBwZXIgRUNNQS0yNjIgNnRoIEVkaXRpb24sXG4gIC8vIFNlY3Rpb24gMTMuMy4zLjcgUnVudGltZSBTZW1hbnRpY3M6IEtleWVkQmluZGluZ0luaXRpYWxpemF0aW9uLlxuICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCB8fCBzdGFydCA8IDApIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICAvLyBSZXR1cm4gZWFybHkgaWYgc3RhcnQgPiB0aGlzLmxlbmd0aC4gRG9uZSBoZXJlIHRvIHByZXZlbnQgcG90ZW50aWFsIHVpbnQzMlxuICAvLyBjb2VyY2lvbiBmYWlsIGJlbG93LlxuICBpZiAoc3RhcnQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkIHx8IGVuZCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgfVxuXG4gIGlmIChlbmQgPD0gMCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgLy8gRm9yY2UgY29lcnNpb24gdG8gdWludDMyLiBUaGlzIHdpbGwgYWxzbyBjb2VyY2UgZmFsc2V5L05hTiB2YWx1ZXMgdG8gMC5cbiAgZW5kID4+Pj0gMFxuICBzdGFydCA+Pj49IDBcblxuICBpZiAoZW5kIDw9IHN0YXJ0KSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4J1xuXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHV0ZjE2bGVTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoZW5jb2RpbmcgKyAnJykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuLy8gVGhlIHByb3BlcnR5IGlzIHVzZWQgYnkgYEJ1ZmZlci5pc0J1ZmZlcmAgYW5kIGBpcy1idWZmZXJgIChpbiBTYWZhcmkgNS03KSB0byBkZXRlY3Rcbi8vIEJ1ZmZlciBpbnN0YW5jZXMuXG5CdWZmZXIucHJvdG90eXBlLl9pc0J1ZmZlciA9IHRydWVcblxuZnVuY3Rpb24gc3dhcCAoYiwgbiwgbSkge1xuICB2YXIgaSA9IGJbbl1cbiAgYltuXSA9IGJbbV1cbiAgYlttXSA9IGlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMTYgPSBmdW5jdGlvbiBzd2FwMTYgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDIgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDIpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAxKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDMyID0gZnVuY3Rpb24gc3dhcDMyICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSA0ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgMylcbiAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgMilcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXA2NCA9IGZ1bmN0aW9uIHN3YXA2NCAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgOCAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gOCkge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDcpXG4gICAgc3dhcCh0aGlzLCBpICsgMSwgaSArIDYpXG4gICAgc3dhcCh0aGlzLCBpICsgMiwgaSArIDUpXG4gICAgc3dhcCh0aGlzLCBpICsgMywgaSArIDQpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoIHwgMFxuICBpZiAobGVuZ3RoID09PSAwKSByZXR1cm4gJydcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHJldHVybiB1dGY4U2xpY2UodGhpcywgMCwgbGVuZ3RoKVxuICByZXR1cm4gc2xvd1RvU3RyaW5nLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMgKGIpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXInKVxuICBpZiAodGhpcyA9PT0gYikgcmV0dXJuIHRydWVcbiAgcmV0dXJuIEJ1ZmZlci5jb21wYXJlKHRoaXMsIGIpID09PSAwXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5zcGVjdCA9IGZ1bmN0aW9uIGluc3BlY3QgKCkge1xuICB2YXIgc3RyID0gJydcbiAgdmFyIG1heCA9IGV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVNcbiAgaWYgKHRoaXMubGVuZ3RoID4gMCkge1xuICAgIHN0ciA9IHRoaXMudG9TdHJpbmcoJ2hleCcsIDAsIG1heCkubWF0Y2goLy57Mn0vZykuam9pbignICcpXG4gICAgaWYgKHRoaXMubGVuZ3RoID4gbWF4KSBzdHIgKz0gJyAuLi4gJ1xuICB9XG4gIHJldHVybiAnPEJ1ZmZlciAnICsgc3RyICsgJz4nXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUgKHRhcmdldCwgc3RhcnQsIGVuZCwgdGhpc1N0YXJ0LCB0aGlzRW5kKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKHRhcmdldCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJylcbiAgfVxuXG4gIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgc3RhcnQgPSAwXG4gIH1cbiAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZW5kID0gdGFyZ2V0ID8gdGFyZ2V0Lmxlbmd0aCA6IDBcbiAgfVxuICBpZiAodGhpc1N0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzU3RhcnQgPSAwXG4gIH1cbiAgaWYgKHRoaXNFbmQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXNFbmQgPSB0aGlzLmxlbmd0aFxuICB9XG5cbiAgaWYgKHN0YXJ0IDwgMCB8fCBlbmQgPiB0YXJnZXQubGVuZ3RoIHx8IHRoaXNTdGFydCA8IDAgfHwgdGhpc0VuZCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ291dCBvZiByYW5nZSBpbmRleCcpXG4gIH1cblxuICBpZiAodGhpc1N0YXJ0ID49IHRoaXNFbmQgJiYgc3RhcnQgPj0gZW5kKSB7XG4gICAgcmV0dXJuIDBcbiAgfVxuICBpZiAodGhpc1N0YXJ0ID49IHRoaXNFbmQpIHtcbiAgICByZXR1cm4gLTFcbiAgfVxuICBpZiAoc3RhcnQgPj0gZW5kKSB7XG4gICAgcmV0dXJuIDFcbiAgfVxuXG4gIHN0YXJ0ID4+Pj0gMFxuICBlbmQgPj4+PSAwXG4gIHRoaXNTdGFydCA+Pj49IDBcbiAgdGhpc0VuZCA+Pj49IDBcblxuICBpZiAodGhpcyA9PT0gdGFyZ2V0KSByZXR1cm4gMFxuXG4gIHZhciB4ID0gdGhpc0VuZCAtIHRoaXNTdGFydFxuICB2YXIgeSA9IGVuZCAtIHN0YXJ0XG4gIHZhciBsZW4gPSBNYXRoLm1pbih4LCB5KVxuXG4gIHZhciB0aGlzQ29weSA9IHRoaXMuc2xpY2UodGhpc1N0YXJ0LCB0aGlzRW5kKVxuICB2YXIgdGFyZ2V0Q29weSA9IHRhcmdldC5zbGljZShzdGFydCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAodGhpc0NvcHlbaV0gIT09IHRhcmdldENvcHlbaV0pIHtcbiAgICAgIHggPSB0aGlzQ29weVtpXVxuICAgICAgeSA9IHRhcmdldENvcHlbaV1cbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgaWYgKHggPCB5KSByZXR1cm4gLTFcbiAgaWYgKHkgPCB4KSByZXR1cm4gMVxuICByZXR1cm4gMFxufVxuXG4vLyBGaW5kcyBlaXRoZXIgdGhlIGZpcnN0IGluZGV4IG9mIGB2YWxgIGluIGBidWZmZXJgIGF0IG9mZnNldCA+PSBgYnl0ZU9mZnNldGAsXG4vLyBPUiB0aGUgbGFzdCBpbmRleCBvZiBgdmFsYCBpbiBgYnVmZmVyYCBhdCBvZmZzZXQgPD0gYGJ5dGVPZmZzZXRgLlxuLy9cbi8vIEFyZ3VtZW50czpcbi8vIC0gYnVmZmVyIC0gYSBCdWZmZXIgdG8gc2VhcmNoXG4vLyAtIHZhbCAtIGEgc3RyaW5nLCBCdWZmZXIsIG9yIG51bWJlclxuLy8gLSBieXRlT2Zmc2V0IC0gYW4gaW5kZXggaW50byBgYnVmZmVyYDsgd2lsbCBiZSBjbGFtcGVkIHRvIGFuIGludDMyXG4vLyAtIGVuY29kaW5nIC0gYW4gb3B0aW9uYWwgZW5jb2RpbmcsIHJlbGV2YW50IGlzIHZhbCBpcyBhIHN0cmluZ1xuLy8gLSBkaXIgLSB0cnVlIGZvciBpbmRleE9mLCBmYWxzZSBmb3IgbGFzdEluZGV4T2ZcbmZ1bmN0aW9uIGJpZGlyZWN0aW9uYWxJbmRleE9mIChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikge1xuICAvLyBFbXB0eSBidWZmZXIgbWVhbnMgbm8gbWF0Y2hcbiAgaWYgKGJ1ZmZlci5sZW5ndGggPT09IDApIHJldHVybiAtMVxuXG4gIC8vIE5vcm1hbGl6ZSBieXRlT2Zmc2V0XG4gIGlmICh0eXBlb2YgYnl0ZU9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICBlbmNvZGluZyA9IGJ5dGVPZmZzZXRcbiAgICBieXRlT2Zmc2V0ID0gMFxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPiAweDdmZmZmZmZmKSB7XG4gICAgYnl0ZU9mZnNldCA9IDB4N2ZmZmZmZmZcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0IDwgLTB4ODAwMDAwMDApIHtcbiAgICBieXRlT2Zmc2V0ID0gLTB4ODAwMDAwMDBcbiAgfVxuICBieXRlT2Zmc2V0ID0gK2J5dGVPZmZzZXQgIC8vIENvZXJjZSB0byBOdW1iZXIuXG4gIGlmIChpc05hTihieXRlT2Zmc2V0KSkge1xuICAgIC8vIGJ5dGVPZmZzZXQ6IGl0IGl0J3MgdW5kZWZpbmVkLCBudWxsLCBOYU4sIFwiZm9vXCIsIGV0Yywgc2VhcmNoIHdob2xlIGJ1ZmZlclxuICAgIGJ5dGVPZmZzZXQgPSBkaXIgPyAwIDogKGJ1ZmZlci5sZW5ndGggLSAxKVxuICB9XG5cbiAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXQ6IG5lZ2F0aXZlIG9mZnNldHMgc3RhcnQgZnJvbSB0aGUgZW5kIG9mIHRoZSBidWZmZXJcbiAgaWYgKGJ5dGVPZmZzZXQgPCAwKSBieXRlT2Zmc2V0ID0gYnVmZmVyLmxlbmd0aCArIGJ5dGVPZmZzZXRcbiAgaWYgKGJ5dGVPZmZzZXQgPj0gYnVmZmVyLmxlbmd0aCkge1xuICAgIGlmIChkaXIpIHJldHVybiAtMVxuICAgIGVsc2UgYnl0ZU9mZnNldCA9IGJ1ZmZlci5sZW5ndGggLSAxXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA8IDApIHtcbiAgICBpZiAoZGlyKSBieXRlT2Zmc2V0ID0gMFxuICAgIGVsc2UgcmV0dXJuIC0xXG4gIH1cblxuICAvLyBOb3JtYWxpemUgdmFsXG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIHZhbCA9IEJ1ZmZlci5mcm9tKHZhbCwgZW5jb2RpbmcpXG4gIH1cblxuICAvLyBGaW5hbGx5LCBzZWFyY2ggZWl0aGVyIGluZGV4T2YgKGlmIGRpciBpcyB0cnVlKSBvciBsYXN0SW5kZXhPZlxuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHZhbCkpIHtcbiAgICAvLyBTcGVjaWFsIGNhc2U6IGxvb2tpbmcgZm9yIGVtcHR5IHN0cmluZy9idWZmZXIgYWx3YXlzIGZhaWxzXG4gICAgaWYgKHZhbC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiAtMVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgdmFsID0gdmFsICYgMHhGRiAvLyBTZWFyY2ggZm9yIGEgYnl0ZSB2YWx1ZSBbMC0yNTVdXG4gICAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUICYmXG4gICAgICAgIHR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpZiAoZGlyKSB7XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YuY2FsbChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldClcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5SW5kZXhPZihidWZmZXIsIFsgdmFsIF0sIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpXG4gIH1cblxuICB0aHJvdyBuZXcgVHlwZUVycm9yKCd2YWwgbXVzdCBiZSBzdHJpbmcsIG51bWJlciBvciBCdWZmZXInKVxufVxuXG5mdW5jdGlvbiBhcnJheUluZGV4T2YgKGFyciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKSB7XG4gIHZhciBpbmRleFNpemUgPSAxXG4gIHZhciBhcnJMZW5ndGggPSBhcnIubGVuZ3RoXG4gIHZhciB2YWxMZW5ndGggPSB2YWwubGVuZ3RoXG5cbiAgaWYgKGVuY29kaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICBlbmNvZGluZyA9IFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgIGlmIChlbmNvZGluZyA9PT0gJ3VjczInIHx8IGVuY29kaW5nID09PSAndWNzLTInIHx8XG4gICAgICAgIGVuY29kaW5nID09PSAndXRmMTZsZScgfHwgZW5jb2RpbmcgPT09ICd1dGYtMTZsZScpIHtcbiAgICAgIGlmIChhcnIubGVuZ3RoIDwgMiB8fCB2YWwubGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gLTFcbiAgICAgIH1cbiAgICAgIGluZGV4U2l6ZSA9IDJcbiAgICAgIGFyckxlbmd0aCAvPSAyXG4gICAgICB2YWxMZW5ndGggLz0gMlxuICAgICAgYnl0ZU9mZnNldCAvPSAyXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZCAoYnVmLCBpKSB7XG4gICAgaWYgKGluZGV4U2l6ZSA9PT0gMSkge1xuICAgICAgcmV0dXJuIGJ1ZltpXVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYnVmLnJlYWRVSW50MTZCRShpICogaW5kZXhTaXplKVxuICAgIH1cbiAgfVxuXG4gIHZhciBpXG4gIGlmIChkaXIpIHtcbiAgICB2YXIgZm91bmRJbmRleCA9IC0xXG4gICAgZm9yIChpID0gYnl0ZU9mZnNldDsgaSA8IGFyckxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocmVhZChhcnIsIGkpID09PSByZWFkKHZhbCwgZm91bmRJbmRleCA9PT0gLTEgPyAwIDogaSAtIGZvdW5kSW5kZXgpKSB7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ID09PSAtMSkgZm91bmRJbmRleCA9IGlcbiAgICAgICAgaWYgKGkgLSBmb3VuZEluZGV4ICsgMSA9PT0gdmFsTGVuZ3RoKSByZXR1cm4gZm91bmRJbmRleCAqIGluZGV4U2l6ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGZvdW5kSW5kZXggIT09IC0xKSBpIC09IGkgLSBmb3VuZEluZGV4XG4gICAgICAgIGZvdW5kSW5kZXggPSAtMVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoYnl0ZU9mZnNldCArIHZhbExlbmd0aCA+IGFyckxlbmd0aCkgYnl0ZU9mZnNldCA9IGFyckxlbmd0aCAtIHZhbExlbmd0aFxuICAgIGZvciAoaSA9IGJ5dGVPZmZzZXQ7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgZm91bmQgPSB0cnVlXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHZhbExlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmIChyZWFkKGFyciwgaSArIGopICE9PSByZWFkKHZhbCwgaikpIHtcbiAgICAgICAgICBmb3VuZCA9IGZhbHNlXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGZvdW5kKSByZXR1cm4gaVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAtMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluY2x1ZGVzID0gZnVuY3Rpb24gaW5jbHVkZXMgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIHRoaXMuaW5kZXhPZih2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSAhPT0gLTFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gaW5kZXhPZiAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgdHJ1ZSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5sYXN0SW5kZXhPZiA9IGZ1bmN0aW9uIGxhc3RJbmRleE9mICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBmYWxzZSlcbn1cblxuZnVuY3Rpb24gaGV4V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICBvZmZzZXQgPSBOdW1iZXIob2Zmc2V0KSB8fCAwXG4gIHZhciByZW1haW5pbmcgPSBidWYubGVuZ3RoIC0gb2Zmc2V0XG4gIGlmICghbGVuZ3RoKSB7XG4gICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gIH0gZWxzZSB7XG4gICAgbGVuZ3RoID0gTnVtYmVyKGxlbmd0aClcbiAgICBpZiAobGVuZ3RoID4gcmVtYWluaW5nKSB7XG4gICAgICBsZW5ndGggPSByZW1haW5pbmdcbiAgICB9XG4gIH1cblxuICAvLyBtdXN0IGJlIGFuIGV2ZW4gbnVtYmVyIG9mIGRpZ2l0c1xuICB2YXIgc3RyTGVuID0gc3RyaW5nLmxlbmd0aFxuICBpZiAoc3RyTGVuICUgMiAhPT0gMCkgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBoZXggc3RyaW5nJylcblxuICBpZiAobGVuZ3RoID4gc3RyTGVuIC8gMikge1xuICAgIGxlbmd0aCA9IHN0ckxlbiAvIDJcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgdmFyIHBhcnNlZCA9IHBhcnNlSW50KHN0cmluZy5zdWJzdHIoaSAqIDIsIDIpLCAxNilcbiAgICBpZiAoaXNOYU4ocGFyc2VkKSkgcmV0dXJuIGlcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSBwYXJzZWRcbiAgfVxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiB1dGY4V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGY4VG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBhc2NpaVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYXNjaWlUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGxhdGluMVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGFzY2lpV3JpdGUoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBiYXNlNjRXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKGJhc2U2NFRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gdWNzMldyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIodXRmMTZsZVRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIHdyaXRlIChzdHJpbmcsIG9mZnNldCwgbGVuZ3RoLCBlbmNvZGluZykge1xuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nKVxuICBpZiAob2Zmc2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmNvZGluZyA9ICd1dGY4J1xuICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gICAgb2Zmc2V0ID0gMFxuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBlbmNvZGluZylcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygb2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gb2Zmc2V0XG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIG9mZnNldFssIGxlbmd0aF1bLCBlbmNvZGluZ10pXG4gIH0gZWxzZSBpZiAoaXNGaW5pdGUob2Zmc2V0KSkge1xuICAgIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgICBpZiAoaXNGaW5pdGUobGVuZ3RoKSkge1xuICAgICAgbGVuZ3RoID0gbGVuZ3RoIHwgMFxuICAgICAgaWYgKGVuY29kaW5nID09PSB1bmRlZmluZWQpIGVuY29kaW5nID0gJ3V0ZjgnXG4gICAgfSBlbHNlIHtcbiAgICAgIGVuY29kaW5nID0gbGVuZ3RoXG4gICAgICBsZW5ndGggPSB1bmRlZmluZWRcbiAgICB9XG4gIC8vIGxlZ2FjeSB3cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXQsIGxlbmd0aCkgLSByZW1vdmUgaW4gdjAuMTNcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQnXG4gICAgKVxuICB9XG5cbiAgdmFyIHJlbWFpbmluZyA9IHRoaXMubGVuZ3RoIC0gb2Zmc2V0XG4gIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCB8fCBsZW5ndGggPiByZW1haW5pbmcpIGxlbmd0aCA9IHJlbWFpbmluZ1xuXG4gIGlmICgoc3RyaW5nLmxlbmd0aCA+IDAgJiYgKGxlbmd0aCA8IDAgfHwgb2Zmc2V0IDwgMCkpIHx8IG9mZnNldCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0F0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzJylcbiAgfVxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG5cbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBoZXhXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgICAgcmV0dXJuIHV0ZjhXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICAgIHJldHVybiBhc2NpaVdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGF0aW4xV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgLy8gV2FybmluZzogbWF4TGVuZ3RoIG5vdCB0YWtlbiBpbnRvIGFjY291bnQgaW4gYmFzZTY0V3JpdGVcbiAgICAgICAgcmV0dXJuIGJhc2U2NFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiB1Y3MyV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OICgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnQnVmZmVyJyxcbiAgICBkYXRhOiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLl9hcnIgfHwgdGhpcywgMClcbiAgfVxufVxuXG5mdW5jdGlvbiBiYXNlNjRTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGlmIChzdGFydCA9PT0gMCAmJiBlbmQgPT09IGJ1Zi5sZW5ndGgpIHtcbiAgICByZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYuc2xpY2Uoc3RhcnQsIGVuZCkpXG4gIH1cbn1cblxuZnVuY3Rpb24gdXRmOFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuICB2YXIgcmVzID0gW11cblxuICB2YXIgaSA9IHN0YXJ0XG4gIHdoaWxlIChpIDwgZW5kKSB7XG4gICAgdmFyIGZpcnN0Qnl0ZSA9IGJ1ZltpXVxuICAgIHZhciBjb2RlUG9pbnQgPSBudWxsXG4gICAgdmFyIGJ5dGVzUGVyU2VxdWVuY2UgPSAoZmlyc3RCeXRlID4gMHhFRikgPyA0XG4gICAgICA6IChmaXJzdEJ5dGUgPiAweERGKSA/IDNcbiAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4QkYpID8gMlxuICAgICAgOiAxXG5cbiAgICBpZiAoaSArIGJ5dGVzUGVyU2VxdWVuY2UgPD0gZW5kKSB7XG4gICAgICB2YXIgc2Vjb25kQnl0ZSwgdGhpcmRCeXRlLCBmb3VydGhCeXRlLCB0ZW1wQ29kZVBvaW50XG5cbiAgICAgIHN3aXRjaCAoYnl0ZXNQZXJTZXF1ZW5jZSkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgaWYgKGZpcnN0Qnl0ZSA8IDB4ODApIHtcbiAgICAgICAgICAgIGNvZGVQb2ludCA9IGZpcnN0Qnl0ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweDFGKSA8PCAweDYgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4N0YpIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICB0aGlyZEJ5dGUgPSBidWZbaSArIDJdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKHRoaXJkQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHhDIHwgKHNlY29uZEJ5dGUgJiAweDNGKSA8PCAweDYgfCAodGhpcmRCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3RkYgJiYgKHRlbXBDb2RlUG9pbnQgPCAweEQ4MDAgfHwgdGVtcENvZGVQb2ludCA+IDB4REZGRikpIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICB0aGlyZEJ5dGUgPSBidWZbaSArIDJdXG4gICAgICAgICAgZm91cnRoQnl0ZSA9IGJ1ZltpICsgM11cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKGZvdXJ0aEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweEYpIDw8IDB4MTIgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4QyB8ICh0aGlyZEJ5dGUgJiAweDNGKSA8PCAweDYgfCAoZm91cnRoQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4RkZGRiAmJiB0ZW1wQ29kZVBvaW50IDwgMHgxMTAwMDApIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29kZVBvaW50ID09PSBudWxsKSB7XG4gICAgICAvLyB3ZSBkaWQgbm90IGdlbmVyYXRlIGEgdmFsaWQgY29kZVBvaW50IHNvIGluc2VydCBhXG4gICAgICAvLyByZXBsYWNlbWVudCBjaGFyIChVK0ZGRkQpIGFuZCBhZHZhbmNlIG9ubHkgMSBieXRlXG4gICAgICBjb2RlUG9pbnQgPSAweEZGRkRcbiAgICAgIGJ5dGVzUGVyU2VxdWVuY2UgPSAxXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPiAweEZGRkYpIHtcbiAgICAgIC8vIGVuY29kZSB0byB1dGYxNiAoc3Vycm9nYXRlIHBhaXIgZGFuY2UpXG4gICAgICBjb2RlUG9pbnQgLT0gMHgxMDAwMFxuICAgICAgcmVzLnB1c2goY29kZVBvaW50ID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKVxuICAgICAgY29kZVBvaW50ID0gMHhEQzAwIHwgY29kZVBvaW50ICYgMHgzRkZcbiAgICB9XG5cbiAgICByZXMucHVzaChjb2RlUG9pbnQpXG4gICAgaSArPSBieXRlc1BlclNlcXVlbmNlXG4gIH1cblxuICByZXR1cm4gZGVjb2RlQ29kZVBvaW50c0FycmF5KHJlcylcbn1cblxuLy8gQmFzZWQgb24gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjI3NDcyNzIvNjgwNzQyLCB0aGUgYnJvd3NlciB3aXRoXG4vLyB0aGUgbG93ZXN0IGxpbWl0IGlzIENocm9tZSwgd2l0aCAweDEwMDAwIGFyZ3MuXG4vLyBXZSBnbyAxIG1hZ25pdHVkZSBsZXNzLCBmb3Igc2FmZXR5XG52YXIgTUFYX0FSR1VNRU5UU19MRU5HVEggPSAweDEwMDBcblxuZnVuY3Rpb24gZGVjb2RlQ29kZVBvaW50c0FycmF5IChjb2RlUG9pbnRzKSB7XG4gIHZhciBsZW4gPSBjb2RlUG9pbnRzLmxlbmd0aFxuICBpZiAobGVuIDw9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKSB7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBjb2RlUG9pbnRzKSAvLyBhdm9pZCBleHRyYSBzbGljZSgpXG4gIH1cblxuICAvLyBEZWNvZGUgaW4gY2h1bmtzIHRvIGF2b2lkIFwiY2FsbCBzdGFjayBzaXplIGV4Y2VlZGVkXCIuXG4gIHZhciByZXMgPSAnJ1xuICB2YXIgaSA9IDBcbiAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICByZXMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShcbiAgICAgIFN0cmluZyxcbiAgICAgIGNvZGVQb2ludHMuc2xpY2UoaSwgaSArPSBNQVhfQVJHVU1FTlRTX0xFTkdUSClcbiAgICApXG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiBhc2NpaVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSAmIDB4N0YpXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5mdW5jdGlvbiBsYXRpbjFTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciByZXQgPSAnJ1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5mdW5jdGlvbiBoZXhTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciBsZW4gPSBidWYubGVuZ3RoXG5cbiAgaWYgKCFzdGFydCB8fCBzdGFydCA8IDApIHN0YXJ0ID0gMFxuICBpZiAoIWVuZCB8fCBlbmQgPCAwIHx8IGVuZCA+IGxlbikgZW5kID0gbGVuXG5cbiAgdmFyIG91dCA9ICcnXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgb3V0ICs9IHRvSGV4KGJ1ZltpXSlcbiAgfVxuICByZXR1cm4gb3V0XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciBieXRlcyA9IGJ1Zi5zbGljZShzdGFydCwgZW5kKVxuICB2YXIgcmVzID0gJydcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldICsgYnl0ZXNbaSArIDFdICogMjU2KVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIHNsaWNlIChzdGFydCwgZW5kKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBzdGFydCA9IH5+c3RhcnRcbiAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW4gOiB+fmVuZFxuXG4gIGlmIChzdGFydCA8IDApIHtcbiAgICBzdGFydCArPSBsZW5cbiAgICBpZiAoc3RhcnQgPCAwKSBzdGFydCA9IDBcbiAgfSBlbHNlIGlmIChzdGFydCA+IGxlbikge1xuICAgIHN0YXJ0ID0gbGVuXG4gIH1cblxuICBpZiAoZW5kIDwgMCkge1xuICAgIGVuZCArPSBsZW5cbiAgICBpZiAoZW5kIDwgMCkgZW5kID0gMFxuICB9IGVsc2UgaWYgKGVuZCA+IGxlbikge1xuICAgIGVuZCA9IGxlblxuICB9XG5cbiAgaWYgKGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydFxuXG4gIHZhciBuZXdCdWZcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgbmV3QnVmID0gdGhpcy5zdWJhcnJheShzdGFydCwgZW5kKVxuICAgIG5ld0J1Zi5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIH0gZWxzZSB7XG4gICAgdmFyIHNsaWNlTGVuID0gZW5kIC0gc3RhcnRcbiAgICBuZXdCdWYgPSBuZXcgQnVmZmVyKHNsaWNlTGVuLCB1bmRlZmluZWQpXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbGljZUxlbjsgKytpKSB7XG4gICAgICBuZXdCdWZbaV0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3QnVmXG59XG5cbi8qXG4gKiBOZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IGJ1ZmZlciBpc24ndCB0cnlpbmcgdG8gd3JpdGUgb3V0IG9mIGJvdW5kcy5cbiAqL1xuZnVuY3Rpb24gY2hlY2tPZmZzZXQgKG9mZnNldCwgZXh0LCBsZW5ndGgpIHtcbiAgaWYgKChvZmZzZXQgJSAxKSAhPT0gMCB8fCBvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb2Zmc2V0IGlzIG5vdCB1aW50JylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50TEUgPSBmdW5jdGlvbiByZWFkVUludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XVxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuICB9XG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50QkUgPSBmdW5jdGlvbiByZWFkVUludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuICB9XG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXVxuICB2YXIgbXVsID0gMVxuICB3aGlsZSAoYnl0ZUxlbmd0aCA+IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdICogbXVsXG4gIH1cblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQ4ID0gZnVuY3Rpb24gcmVhZFVJbnQ4IChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiB0aGlzW29mZnNldF1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2TEUgPSBmdW5jdGlvbiByZWFkVUludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkJFID0gZnVuY3Rpb24gcmVhZFVJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDgpIHwgdGhpc1tvZmZzZXQgKyAxXVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAoKHRoaXNbb2Zmc2V0XSkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpKSArXG4gICAgICAodGhpc1tvZmZzZXQgKyAzXSAqIDB4MTAwMDAwMClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyQkUgPSBmdW5jdGlvbiByZWFkVUludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSAqIDB4MTAwMDAwMCkgK1xuICAgICgodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHxcbiAgICB0aGlzW29mZnNldCArIDNdKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnRMRSA9IGZ1bmN0aW9uIHJlYWRJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF1cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWxcbiAgfVxuICBtdWwgKj0gMHg4MFxuXG4gIGlmICh2YWwgPj0gbXVsKSB2YWwgLT0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpXG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnRCRSA9IGZ1bmN0aW9uIHJlYWRJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aFxuICB2YXIgbXVsID0gMVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWldXG4gIHdoaWxlIChpID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0taV0gKiBtdWxcbiAgfVxuICBtdWwgKj0gMHg4MFxuXG4gIGlmICh2YWwgPj0gbXVsKSB2YWwgLT0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpXG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQ4ID0gZnVuY3Rpb24gcmVhZEludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgaWYgKCEodGhpc1tvZmZzZXRdICYgMHg4MCkpIHJldHVybiAodGhpc1tvZmZzZXRdKVxuICByZXR1cm4gKCgweGZmIC0gdGhpc1tvZmZzZXRdICsgMSkgKiAtMSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KVxuICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2QkUgPSBmdW5jdGlvbiByZWFkSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAxXSB8ICh0aGlzW29mZnNldF0gPDwgOClcbiAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkxFID0gZnVuY3Rpb24gcmVhZEludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSkgfFxuICAgICh0aGlzW29mZnNldCArIDFdIDw8IDgpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDNdIDw8IDI0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkJFID0gZnVuY3Rpb24gcmVhZEludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSA8PCAyNCkgfFxuICAgICh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfFxuICAgICh0aGlzW29mZnNldCArIDNdKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdExFID0gZnVuY3Rpb24gcmVhZEZsb2F0TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDIzLCA0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdEJFID0gZnVuY3Rpb24gcmVhZEZsb2F0QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCAyMywgNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlTEUgPSBmdW5jdGlvbiByZWFkRG91YmxlTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA4LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDUyLCA4KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVCRSA9IGZ1bmN0aW9uIHJlYWREb3VibGVCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDUyLCA4KVxufVxuXG5mdW5jdGlvbiBjaGVja0ludCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYnVmZmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpXG4gIGlmICh2YWx1ZSA+IG1heCB8fCB2YWx1ZSA8IG1pbikgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBpcyBvdXQgb2YgYm91bmRzJylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludExFID0gZnVuY3Rpb24gd3JpdGVVSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbWF4Qnl0ZXMgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCkgLSAxXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbWF4Qnl0ZXMsIDApXG4gIH1cblxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgdGhpc1tvZmZzZXRdID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICh2YWx1ZSAvIG11bCkgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludEJFID0gZnVuY3Rpb24gd3JpdGVVSW50QkUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbWF4Qnl0ZXMgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCkgLSAxXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbWF4Qnl0ZXMsIDApXG4gIH1cblxuICB2YXIgaSA9IGJ5dGVMZW5ndGggLSAxXG4gIHZhciBtdWwgPSAxXG4gIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICh2YWx1ZSAvIG11bCkgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDggPSBmdW5jdGlvbiB3cml0ZVVJbnQ4ICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDEsIDB4ZmYsIDApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHZhbHVlID0gTWF0aC5mbG9vcih2YWx1ZSlcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDFcbn1cblxuZnVuY3Rpb24gb2JqZWN0V3JpdGVVSW50MTYgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuKSB7XG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmICsgdmFsdWUgKyAxXG4gIGZvciAodmFyIGkgPSAwLCBqID0gTWF0aC5taW4oYnVmLmxlbmd0aCAtIG9mZnNldCwgMik7IGkgPCBqOyArK2kpIHtcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSAodmFsdWUgJiAoMHhmZiA8PCAoOCAqIChsaXR0bGVFbmRpYW4gPyBpIDogMSAtIGkpKSkpID4+PlxuICAgICAgKGxpdHRsZUVuZGlhbiA/IGkgOiAxIC0gaSkgKiA4XG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlVUludDE2QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuZnVuY3Rpb24gb2JqZWN0V3JpdGVVSW50MzIgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuKSB7XG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmZmZmZiArIHZhbHVlICsgMVxuICBmb3IgKHZhciBpID0gMCwgaiA9IE1hdGgubWluKGJ1Zi5sZW5ndGggLSBvZmZzZXQsIDQpOyBpIDwgajsgKytpKSB7XG4gICAgYnVmW29mZnNldCArIGldID0gKHZhbHVlID4+PiAobGl0dGxlRW5kaWFuID8gaSA6IDMgLSBpKSAqIDgpICYgMHhmZlxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlVUludDMyTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSA+Pj4gMjQpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludExFID0gZnVuY3Rpb24gd3JpdGVJbnRMRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIGxpbWl0ID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGggLSAxKVxuXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpXG4gIH1cblxuICB2YXIgaSA9IDBcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHN1YiA9IDBcbiAgdGhpc1tvZmZzZXRdID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgaWYgKHZhbHVlIDwgMCAmJiBzdWIgPT09IDAgJiYgdGhpc1tvZmZzZXQgKyBpIC0gMV0gIT09IDApIHtcbiAgICAgIHN1YiA9IDFcbiAgICB9XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludEJFID0gZnVuY3Rpb24gd3JpdGVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIGxpbWl0ID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGggLSAxKVxuXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpXG4gIH1cblxuICB2YXIgaSA9IGJ5dGVMZW5ndGggLSAxXG4gIHZhciBtdWwgPSAxXG4gIHZhciBzdWIgPSAwXG4gIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgaWYgKHZhbHVlIDwgMCAmJiBzdWIgPT09IDAgJiYgdGhpc1tvZmZzZXQgKyBpICsgMV0gIT09IDApIHtcbiAgICAgIHN1YiA9IDFcbiAgICB9XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDggPSBmdW5jdGlvbiB3cml0ZUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHg3ZiwgLTB4ODApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHZhbHVlID0gTWF0aC5mbG9vcih2YWx1ZSlcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmICsgdmFsdWUgKyAxXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAxXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkxFID0gZnVuY3Rpb24gd3JpdGVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZUludDE2QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZUludDMyTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkJFID0gZnVuY3Rpb24gd3JpdGVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4N2ZmZmZmZmYsIC0weDgwMDAwMDAwKVxuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZmZmZmYgKyB2YWx1ZSArIDFcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbmZ1bmN0aW9uIGNoZWNrSUVFRTc1NCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XG4gIGlmIChvZmZzZXQgKyBleHQgPiBidWYubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbiAgaWYgKG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxufVxuXG5mdW5jdGlvbiB3cml0ZUZsb2F0IChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDQsIDMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgsIC0zLjQwMjgyMzQ2NjM4NTI4ODZlKzM4KVxuICB9XG4gIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDIzLCA0KVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRMRSA9IGZ1bmN0aW9uIHdyaXRlRmxvYXRMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRmxvYXQodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdEJFID0gZnVuY3Rpb24gd3JpdGVGbG9hdEJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRG91YmxlIChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDgsIDEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4LCAtMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgNTIsIDgpXG4gIHJldHVybiBvZmZzZXQgKyA4XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVMRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUJFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuLy8gY29weSh0YXJnZXRCdWZmZXIsIHRhcmdldFN0YXJ0PTAsIHNvdXJjZVN0YXJ0PTAsIHNvdXJjZUVuZD1idWZmZXIubGVuZ3RoKVxuQnVmZmVyLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weSAodGFyZ2V0LCB0YXJnZXRTdGFydCwgc3RhcnQsIGVuZCkge1xuICBpZiAoIXN0YXJ0KSBzdGFydCA9IDBcbiAgaWYgKCFlbmQgJiYgZW5kICE9PSAwKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0U3RhcnQgPj0gdGFyZ2V0Lmxlbmd0aCkgdGFyZ2V0U3RhcnQgPSB0YXJnZXQubGVuZ3RoXG4gIGlmICghdGFyZ2V0U3RhcnQpIHRhcmdldFN0YXJ0ID0gMFxuICBpZiAoZW5kID4gMCAmJiBlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblxuICAvLyBDb3B5IDAgYnl0ZXM7IHdlJ3JlIGRvbmVcbiAgaWYgKGVuZCA9PT0gc3RhcnQpIHJldHVybiAwXG4gIGlmICh0YXJnZXQubGVuZ3RoID09PSAwIHx8IHRoaXMubGVuZ3RoID09PSAwKSByZXR1cm4gMFxuXG4gIC8vIEZhdGFsIGVycm9yIGNvbmRpdGlvbnNcbiAgaWYgKHRhcmdldFN0YXJ0IDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCd0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzJylcbiAgfVxuICBpZiAoc3RhcnQgPCAwIHx8IHN0YXJ0ID49IHRoaXMubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignc291cmNlU3RhcnQgb3V0IG9mIGJvdW5kcycpXG4gIGlmIChlbmQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignc291cmNlRW5kIG91dCBvZiBib3VuZHMnKVxuXG4gIC8vIEFyZSB3ZSBvb2I/XG4gIGlmIChlbmQgPiB0aGlzLmxlbmd0aCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCA8IGVuZCAtIHN0YXJ0KSB7XG4gICAgZW5kID0gdGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0ICsgc3RhcnRcbiAgfVxuXG4gIHZhciBsZW4gPSBlbmQgLSBzdGFydFxuICB2YXIgaVxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQgJiYgc3RhcnQgPCB0YXJnZXRTdGFydCAmJiB0YXJnZXRTdGFydCA8IGVuZCkge1xuICAgIC8vIGRlc2NlbmRpbmcgY29weSBmcm9tIGVuZFxuICAgIGZvciAoaSA9IGxlbiAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICB0YXJnZXRbaSArIHRhcmdldFN0YXJ0XSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfSBlbHNlIGlmIChsZW4gPCAxMDAwIHx8ICFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIC8vIGFzY2VuZGluZyBjb3B5IGZyb20gc3RhcnRcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgIHRhcmdldFtpICsgdGFyZ2V0U3RhcnRdID0gdGhpc1tpICsgc3RhcnRdXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIFVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKFxuICAgICAgdGFyZ2V0LFxuICAgICAgdGhpcy5zdWJhcnJheShzdGFydCwgc3RhcnQgKyBsZW4pLFxuICAgICAgdGFyZ2V0U3RhcnRcbiAgICApXG4gIH1cblxuICByZXR1cm4gbGVuXG59XG5cbi8vIFVzYWdlOlxuLy8gICAgYnVmZmVyLmZpbGwobnVtYmVyWywgb2Zmc2V0WywgZW5kXV0pXG4vLyAgICBidWZmZXIuZmlsbChidWZmZXJbLCBvZmZzZXRbLCBlbmRdXSlcbi8vICAgIGJ1ZmZlci5maWxsKHN0cmluZ1ssIG9mZnNldFssIGVuZF1dWywgZW5jb2RpbmddKVxuQnVmZmVyLnByb3RvdHlwZS5maWxsID0gZnVuY3Rpb24gZmlsbCAodmFsLCBzdGFydCwgZW5kLCBlbmNvZGluZykge1xuICAvLyBIYW5kbGUgc3RyaW5nIGNhc2VzOlxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAodHlwZW9mIHN0YXJ0ID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBzdGFydFxuICAgICAgc3RhcnQgPSAwXG4gICAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGVuZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVuY29kaW5nID0gZW5kXG4gICAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICAgIH1cbiAgICBpZiAodmFsLmxlbmd0aCA9PT0gMSkge1xuICAgICAgdmFyIGNvZGUgPSB2YWwuY2hhckNvZGVBdCgwKVxuICAgICAgaWYgKGNvZGUgPCAyNTYpIHtcbiAgICAgICAgdmFsID0gY29kZVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZW5jb2RpbmcgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgZW5jb2RpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdlbmNvZGluZyBtdXN0IGJlIGEgc3RyaW5nJylcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycgJiYgIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIHZhbCA9IHZhbCAmIDI1NVxuICB9XG5cbiAgLy8gSW52YWxpZCByYW5nZXMgYXJlIG5vdCBzZXQgdG8gYSBkZWZhdWx0LCBzbyBjYW4gcmFuZ2UgY2hlY2sgZWFybHkuXG4gIGlmIChzdGFydCA8IDAgfHwgdGhpcy5sZW5ndGggPCBzdGFydCB8fCB0aGlzLmxlbmd0aCA8IGVuZCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdPdXQgb2YgcmFuZ2UgaW5kZXgnKVxuICB9XG5cbiAgaWYgKGVuZCA8PSBzdGFydCkge1xuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBzdGFydCA9IHN0YXJ0ID4+PiAwXG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gdGhpcy5sZW5ndGggOiBlbmQgPj4+IDBcblxuICBpZiAoIXZhbCkgdmFsID0gMFxuXG4gIHZhciBpXG4gIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICAgIHRoaXNbaV0gPSB2YWxcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGJ5dGVzID0gQnVmZmVyLmlzQnVmZmVyKHZhbClcbiAgICAgID8gdmFsXG4gICAgICA6IHV0ZjhUb0J5dGVzKG5ldyBCdWZmZXIodmFsLCBlbmNvZGluZykudG9TdHJpbmcoKSlcbiAgICB2YXIgbGVuID0gYnl0ZXMubGVuZ3RoXG4gICAgZm9yIChpID0gMDsgaSA8IGVuZCAtIHN0YXJ0OyArK2kpIHtcbiAgICAgIHRoaXNbaSArIHN0YXJ0XSA9IGJ5dGVzW2kgJSBsZW5dXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXNcbn1cblxuLy8gSEVMUEVSIEZVTkNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PVxuXG52YXIgSU5WQUxJRF9CQVNFNjRfUkUgPSAvW14rXFwvMC05QS1aYS16LV9dL2dcblxuZnVuY3Rpb24gYmFzZTY0Y2xlYW4gKHN0cikge1xuICAvLyBOb2RlIHN0cmlwcyBvdXQgaW52YWxpZCBjaGFyYWN0ZXJzIGxpa2UgXFxuIGFuZCBcXHQgZnJvbSB0aGUgc3RyaW5nLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgc3RyID0gc3RyaW5ndHJpbShzdHIpLnJlcGxhY2UoSU5WQUxJRF9CQVNFNjRfUkUsICcnKVxuICAvLyBOb2RlIGNvbnZlcnRzIHN0cmluZ3Mgd2l0aCBsZW5ndGggPCAyIHRvICcnXG4gIGlmIChzdHIubGVuZ3RoIDwgMikgcmV0dXJuICcnXG4gIC8vIE5vZGUgYWxsb3dzIGZvciBub24tcGFkZGVkIGJhc2U2NCBzdHJpbmdzIChtaXNzaW5nIHRyYWlsaW5nID09PSksIGJhc2U2NC1qcyBkb2VzIG5vdFxuICB3aGlsZSAoc3RyLmxlbmd0aCAlIDQgIT09IDApIHtcbiAgICBzdHIgPSBzdHIgKyAnPSdcbiAgfVxuICByZXR1cm4gc3RyXG59XG5cbmZ1bmN0aW9uIHN0cmluZ3RyaW0gKHN0cikge1xuICBpZiAoc3RyLnRyaW0pIHJldHVybiBzdHIudHJpbSgpXG4gIHJldHVybiBzdHIucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpXG59XG5cbmZ1bmN0aW9uIHRvSGV4IChuKSB7XG4gIGlmIChuIDwgMTYpIHJldHVybiAnMCcgKyBuLnRvU3RyaW5nKDE2KVxuICByZXR1cm4gbi50b1N0cmluZygxNilcbn1cblxuZnVuY3Rpb24gdXRmOFRvQnl0ZXMgKHN0cmluZywgdW5pdHMpIHtcbiAgdW5pdHMgPSB1bml0cyB8fCBJbmZpbml0eVxuICB2YXIgY29kZVBvaW50XG4gIHZhciBsZW5ndGggPSBzdHJpbmcubGVuZ3RoXG4gIHZhciBsZWFkU3Vycm9nYXRlID0gbnVsbFxuICB2YXIgYnl0ZXMgPSBbXVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBjb2RlUG9pbnQgPSBzdHJpbmcuY2hhckNvZGVBdChpKVxuXG4gICAgLy8gaXMgc3Vycm9nYXRlIGNvbXBvbmVudFxuICAgIGlmIChjb2RlUG9pbnQgPiAweEQ3RkYgJiYgY29kZVBvaW50IDwgMHhFMDAwKSB7XG4gICAgICAvLyBsYXN0IGNoYXIgd2FzIGEgbGVhZFxuICAgICAgaWYgKCFsZWFkU3Vycm9nYXRlKSB7XG4gICAgICAgIC8vIG5vIGxlYWQgeWV0XG4gICAgICAgIGlmIChjb2RlUG9pbnQgPiAweERCRkYpIHtcbiAgICAgICAgICAvLyB1bmV4cGVjdGVkIHRyYWlsXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfSBlbHNlIGlmIChpICsgMSA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgLy8gdW5wYWlyZWQgbGVhZFxuICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICAvLyB2YWxpZCBsZWFkXG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcblxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyAyIGxlYWRzIGluIGEgcm93XG4gICAgICBpZiAoY29kZVBvaW50IDwgMHhEQzAwKSB7XG4gICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIHZhbGlkIHN1cnJvZ2F0ZSBwYWlyXG4gICAgICBjb2RlUG9pbnQgPSAobGVhZFN1cnJvZ2F0ZSAtIDB4RDgwMCA8PCAxMCB8IGNvZGVQb2ludCAtIDB4REMwMCkgKyAweDEwMDAwXG4gICAgfSBlbHNlIGlmIChsZWFkU3Vycm9nYXRlKSB7XG4gICAgICAvLyB2YWxpZCBibXAgY2hhciwgYnV0IGxhc3QgY2hhciB3YXMgYSBsZWFkXG4gICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICB9XG5cbiAgICBsZWFkU3Vycm9nYXRlID0gbnVsbFxuXG4gICAgLy8gZW5jb2RlIHV0ZjhcbiAgICBpZiAoY29kZVBvaW50IDwgMHg4MCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAxKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKGNvZGVQb2ludClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4ODAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgfCAweEMwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMDAwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAzKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHhDIHwgMHhFMCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMTAwMDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gNCkgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4MTIgfCAweEYwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHhDICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNvZGUgcG9pbnQnKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBieXRlc1xufVxuXG5mdW5jdGlvbiBhc2NpaVRvQnl0ZXMgKHN0cikge1xuICB2YXIgYnl0ZUFycmF5ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICAvLyBOb2RlJ3MgY29kZSBzZWVtcyB0byBiZSBkb2luZyB0aGlzIGFuZCBub3QgJiAweDdGLi5cbiAgICBieXRlQXJyYXkucHVzaChzdHIuY2hhckNvZGVBdChpKSAmIDB4RkYpXG4gIH1cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiB1dGYxNmxlVG9CeXRlcyAoc3RyLCB1bml0cykge1xuICB2YXIgYywgaGksIGxvXG4gIHZhciBieXRlQXJyYXkgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVha1xuXG4gICAgYyA9IHN0ci5jaGFyQ29kZUF0KGkpXG4gICAgaGkgPSBjID4+IDhcbiAgICBsbyA9IGMgJSAyNTZcbiAgICBieXRlQXJyYXkucHVzaChsbylcbiAgICBieXRlQXJyYXkucHVzaChoaSlcbiAgfVxuXG4gIHJldHVybiBieXRlQXJyYXlcbn1cblxuZnVuY3Rpb24gYmFzZTY0VG9CeXRlcyAoc3RyKSB7XG4gIHJldHVybiBiYXNlNjQudG9CeXRlQXJyYXkoYmFzZTY0Y2xlYW4oc3RyKSlcbn1cblxuZnVuY3Rpb24gYmxpdEJ1ZmZlciAoc3JjLCBkc3QsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoKGkgKyBvZmZzZXQgPj0gZHN0Lmxlbmd0aCkgfHwgKGkgPj0gc3JjLmxlbmd0aCkpIGJyZWFrXG4gICAgZHN0W2kgKyBvZmZzZXRdID0gc3JjW2ldXG4gIH1cbiAgcmV0dXJuIGlcbn1cblxuZnVuY3Rpb24gaXNuYW4gKHZhbCkge1xuICByZXR1cm4gdmFsICE9PSB2YWwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zZWxmLWNvbXBhcmVcbn1cbiIsIi8qIVxuICogY3NzLXZhcnMtcG9ueWZpbGxcbiAqIHYyLjQuMVxuICogaHR0cHM6Ly9qaGlsZGVuYmlkZGxlLmdpdGh1Yi5pby9jc3MtdmFycy1wb255ZmlsbC9cbiAqIChjKSAyMDE4LTIwMjAgSm9obiBIaWxkZW5iaWRkbGUgPGh0dHA6Ly9oaWxkZW5iaWRkbGUuY29tPlxuICogTUlUIGxpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gICAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH07XG4gICAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbi8qIVxuICogZ2V0LWNzcy1kYXRhXG4gKiB2MS45LjBcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qaGlsZGVuYmlkZGxlL2dldC1jc3MtZGF0YVxuICogKGMpIDIwMTgtMjAyMCBKb2huIEhpbGRlbmJpZGRsZSA8aHR0cDovL2hpbGRlbmJpZGRsZS5jb20+XG4gKiBNSVQgbGljZW5zZVxuICovIGZ1bmN0aW9uIGdldFVybHModXJscykge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICB2YXIgc2V0dGluZ3MgPSB7XG4gICAgICAgIG1pbWVUeXBlOiBvcHRpb25zLm1pbWVUeXBlIHx8IG51bGwsXG4gICAgICAgIG9uQmVmb3JlU2VuZDogb3B0aW9ucy5vbkJlZm9yZVNlbmQgfHwgRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgICAgICBvblN1Y2Nlc3M6IG9wdGlvbnMub25TdWNjZXNzIHx8IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICAgICAgb25FcnJvcjogb3B0aW9ucy5vbkVycm9yIHx8IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICAgICAgb25Db21wbGV0ZTogb3B0aW9ucy5vbkNvbXBsZXRlIHx8IEZ1bmN0aW9uLnByb3RvdHlwZVxuICAgIH07XG4gICAgdmFyIHVybEFycmF5ID0gQXJyYXkuaXNBcnJheSh1cmxzKSA/IHVybHMgOiBbIHVybHMgXTtcbiAgICB2YXIgdXJsUXVldWUgPSBBcnJheS5hcHBseShudWxsLCBBcnJheSh1cmxBcnJheS5sZW5ndGgpKS5tYXAoKGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSkpO1xuICAgIGZ1bmN0aW9uIGlzVmFsaWRDc3MoY3NzVGV4dCkge1xuICAgICAgICB2YXIgaXNIVE1MID0gY3NzVGV4dCAmJiBjc3NUZXh0LnRyaW0oKS5jaGFyQXQoMCkgPT09IFwiPFwiO1xuICAgICAgICByZXR1cm4gY3NzVGV4dCAmJiAhaXNIVE1MO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvbkVycm9yKHhociwgdXJsSW5kZXgpIHtcbiAgICAgICAgc2V0dGluZ3Mub25FcnJvcih4aHIsIHVybEFycmF5W3VybEluZGV4XSwgdXJsSW5kZXgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvblN1Y2Nlc3MocmVzcG9uc2VUZXh0LCB1cmxJbmRleCkge1xuICAgICAgICB2YXIgcmV0dXJuVmFsID0gc2V0dGluZ3Mub25TdWNjZXNzKHJlc3BvbnNlVGV4dCwgdXJsQXJyYXlbdXJsSW5kZXhdLCB1cmxJbmRleCk7XG4gICAgICAgIHJlc3BvbnNlVGV4dCA9IHJldHVyblZhbCA9PT0gZmFsc2UgPyBcIlwiIDogcmV0dXJuVmFsIHx8IHJlc3BvbnNlVGV4dDtcbiAgICAgICAgdXJsUXVldWVbdXJsSW5kZXhdID0gcmVzcG9uc2VUZXh0O1xuICAgICAgICBpZiAodXJsUXVldWUuaW5kZXhPZihudWxsKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHNldHRpbmdzLm9uQ29tcGxldGUodXJsUXVldWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBwYXJzZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICB1cmxBcnJheS5mb3JFYWNoKChmdW5jdGlvbih1cmwsIGkpIHtcbiAgICAgICAgcGFyc2VyLnNldEF0dHJpYnV0ZShcImhyZWZcIiwgdXJsKTtcbiAgICAgICAgcGFyc2VyLmhyZWYgPSBTdHJpbmcocGFyc2VyLmhyZWYpO1xuICAgICAgICB2YXIgaXNJRWx0ZTkgPSBCb29sZWFuKGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgICAgICB2YXIgaXNJRWx0ZTlDT1JTID0gaXNJRWx0ZTkgJiYgcGFyc2VyLmhvc3Quc3BsaXQoXCI6XCIpWzBdICE9PSBsb2NhdGlvbi5ob3N0LnNwbGl0KFwiOlwiKVswXTtcbiAgICAgICAgaWYgKGlzSUVsdGU5Q09SUykge1xuICAgICAgICAgICAgdmFyIGlzU2FtZVByb3RvY29sID0gcGFyc2VyLnByb3RvY29sID09PSBsb2NhdGlvbi5wcm90b2NvbDtcbiAgICAgICAgICAgIGlmIChpc1NhbWVQcm90b2NvbCkge1xuICAgICAgICAgICAgICAgIHZhciB4ZHIgPSBuZXcgWERvbWFpblJlcXVlc3Q7XG4gICAgICAgICAgICAgICAgeGRyLm9wZW4oXCJHRVRcIiwgdXJsKTtcbiAgICAgICAgICAgICAgICB4ZHIudGltZW91dCA9IDA7XG4gICAgICAgICAgICAgICAgeGRyLm9ucHJvZ3Jlc3MgPSBGdW5jdGlvbi5wcm90b3R5cGU7XG4gICAgICAgICAgICAgICAgeGRyLm9udGltZW91dCA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcbiAgICAgICAgICAgICAgICB4ZHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkQ3NzKHhkci5yZXNwb25zZVRleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvblN1Y2Nlc3MoeGRyLnJlc3BvbnNlVGV4dCwgaSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkVycm9yKHhkciwgaSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHhkci5vbmVycm9yID0gZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IoeGRyLCBpKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB4ZHIuc2VuZCgpO1xuICAgICAgICAgICAgICAgIH0pLCAwKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiSW50ZXJuZXQgRXhwbG9yZXIgOSBDcm9zcy1PcmlnaW4gKENPUlMpIHJlcXVlc3RzIG11c3QgdXNlIHRoZSBzYW1lIHByb3RvY29sIChcIi5jb25jYXQodXJsLCBcIilcIikpO1xuICAgICAgICAgICAgICAgIG9uRXJyb3IobnVsbCwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0O1xuICAgICAgICAgICAgeGhyLm9wZW4oXCJHRVRcIiwgdXJsKTtcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5taW1lVHlwZSAmJiB4aHIub3ZlcnJpZGVNaW1lVHlwZSkge1xuICAgICAgICAgICAgICAgIHhoci5vdmVycmlkZU1pbWVUeXBlKHNldHRpbmdzLm1pbWVUeXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldHRpbmdzLm9uQmVmb3JlU2VuZCh4aHIsIHVybCwgaSk7XG4gICAgICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDAgJiYgaXNWYWxpZENzcyh4aHIucmVzcG9uc2VUZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25TdWNjZXNzKHhoci5yZXNwb25zZVRleHQsIGkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHhoci5zdGF0dXMgPT09IDAgJiYgaXNWYWxpZENzcyh4aHIucmVzcG9uc2VUZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25TdWNjZXNzKHhoci5yZXNwb25zZVRleHQsIGkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25FcnJvcih4aHIsIGkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHhoci5zZW5kKCk7XG4gICAgICAgIH1cbiAgICB9KSk7XG59XG5cbi8qKlxuICogR2V0cyBDU1MgZGF0YSBmcm9tIDxzdHlsZT4gYW5kIDxsaW5rPiBub2RlcyAoaW5jbHVkaW5nIEBpbXBvcnRzKSwgdGhlblxuICogcmV0dXJucyBkYXRhIGluIG9yZGVyIHByb2Nlc3NlZCBieSBET00uIEFsbG93cyBzcGVjaWZ5aW5nIG5vZGVzIHRvXG4gKiBpbmNsdWRlL2V4Y2x1ZGUgYW5kIGZpbHRlcmluZyBDU1MgZGF0YSB1c2luZyBSZWdFeC5cbiAqXG4gKiBAcHJlc2VydmVcbiAqIEBwYXJhbSB7b2JqZWN0fSAgIFtvcHRpb25zXSBUaGUgb3B0aW9ucyBvYmplY3RcbiAqIEBwYXJhbSB7b2JqZWN0fSAgIFtvcHRpb25zLnJvb3RFbGVtZW50PWRvY3VtZW50XSBSb290IGVsZW1lbnQgdG8gdHJhdmVyc2UgZm9yXG4gKiAgICAgICAgICAgICAgICAgICA8bGluaz4gYW5kIDxzdHlsZT4gbm9kZXMuXG4gKiBAcGFyYW0ge3N0cmluZ30gICBbb3B0aW9ucy5pbmNsdWRlXSBDU1Mgc2VsZWN0b3IgbWF0Y2hpbmcgPGxpbms+IGFuZCA8c3R5bGU+XG4gKiAgICAgICAgICAgICAgICAgICBub2RlcyB0byBpbmNsdWRlXG4gKiBAcGFyYW0ge3N0cmluZ30gICBbb3B0aW9ucy5leGNsdWRlXSBDU1Mgc2VsZWN0b3IgbWF0Y2hpbmcgPGxpbms+IGFuZCA8c3R5bGU+XG4gKiAgICAgICAgICAgICAgICAgICBub2RlcyB0byBleGNsdWRlXG4gKiBAcGFyYW0ge29iamVjdH0gICBbb3B0aW9ucy5maWx0ZXJdIFJlZ3VsYXIgZXhwcmVzc2lvbiB1c2VkIHRvIGZpbHRlciBub2RlIENTU1xuICogICAgICAgICAgICAgICAgICAgZGF0YS4gRWFjaCBibG9jayBvZiBDU1MgZGF0YSBpcyB0ZXN0ZWQgYWdhaW5zdCB0aGUgZmlsdGVyLFxuICogICAgICAgICAgICAgICAgICAgYW5kIG9ubHkgbWF0Y2hpbmcgZGF0YSBpcyBpbmNsdWRlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gIFtvcHRpb25zLnNraXBEaXNhYmxlZD10cnVlXSBEZXRlcm1pbmVzIGlmIGRpc2FibGVkXG4gKiAgICAgICAgICAgICAgICAgICBzdHlsZXNoZWV0cyB3aWxsIGJlIHNraXBwZWQgd2hpbGUgY29sbGVjdGluZyBDU1MgZGF0YS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gIFtvcHRpb25zLnVzZUNTU09NPWZhbHNlXSBEZXRlcm1pbmVzIGlmIENTUyBkYXRhIHdpbGwgYmVcbiAqICAgICAgICAgICAgICAgICAgIGNvbGxlY3RlZCBmcm9tIGEgc3R5bGVzaGVldCdzIHJ1bnRpbWUgdmFsdWVzIGluc3RlYWQgb2YgaXRzXG4gKiAgICAgICAgICAgICAgICAgICB0ZXh0IGNvbnRlbnQuIFRoaXMgaXMgcmVxdWlyZWQgdG8gZ2V0IGFjY3VyYXRlIENTUyBkYXRhXG4gKiAgICAgICAgICAgICAgICAgICB3aGVuIGEgc3R5bGVzaGVldCBoYXMgYmVlbiBtb2RpZmllZCB1c2luZyB0aGUgZGVsZXRlUnVsZSgpXG4gKiAgICAgICAgICAgICAgICAgICBvciBpbnNlcnRSdWxlKCkgbWV0aG9kcyBiZWNhdXNlIHRoZXNlIG1vZGlmaWNhdGlvbnMgd2lsbFxuICogICAgICAgICAgICAgICAgICAgbm90IGJlIHJlZmxlY3RlZCBpbiB0aGUgc3R5bGVzaGVldCdzIHRleHQgY29udGVudC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IFtvcHRpb25zLm9uQmVmb3JlU2VuZF0gQ2FsbGJhY2sgYmVmb3JlIFhIUiBpcyBzZW50LiBQYXNzZXNcbiAqICAgICAgICAgICAgICAgICAgIDEpIHRoZSBYSFIgb2JqZWN0LCAyKSBzb3VyY2Ugbm9kZSByZWZlcmVuY2UsIGFuZCAzKSB0aGVcbiAqICAgICAgICAgICAgICAgICAgIHNvdXJjZSBVUkwgYXMgYXJndW1lbnRzLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gW29wdGlvbnMub25TdWNjZXNzXSBDYWxsYmFjayBvbiBlYWNoIENTUyBub2RlIHJlYWQuIFBhc3Nlc1xuICogICAgICAgICAgICAgICAgICAgMSkgQ1NTIHRleHQsIDIpIHNvdXJjZSBub2RlIHJlZmVyZW5jZSwgYW5kIDMpIHRoZSBzb3VyY2VcbiAqICAgICAgICAgICAgICAgICAgIFVSTCBhcyBhcmd1bWVudHMuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbb3B0aW9ucy5vbkVycm9yXSBDYWxsYmFjayBvbiBlYWNoIGVycm9yLiBQYXNzZXMgMSkgdGhlIFhIUlxuICogICAgICAgICAgICAgICAgICAgb2JqZWN0IGZvciBpbnNwZWN0aW9uLCAyKSBzb3VyZSBub2RlIHJlZmVyZW5jZSwgYW5kIDMpIHRoZVxuICogICAgICAgICAgICAgICAgICAgc291cmNlIFVSTCB0aGF0IGZhaWxlZCAoZWl0aGVyIGEgPGxpbms+IGhyZWYgb3IgYW4gQGltcG9ydClcbiAqICAgICAgICAgICAgICAgICAgIGFzIGFyZ3VtZW50c1xuICogQHBhcmFtIHtmdW5jdGlvbn0gW29wdGlvbnMub25Db21wbGV0ZV0gQ2FsbGJhY2sgYWZ0ZXIgYWxsIG5vZGVzIGhhdmUgYmVlblxuICogICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkLiBQYXNzZXMgMSkgY29uY2F0ZW5hdGVkIENTUyB0ZXh0LCAyKSBhbiBhcnJheSBvZlxuICogICAgICAgICAgICAgICAgICAgQ1NTIHRleHQgaW4gRE9NIG9yZGVyLCBhbmQgMykgYW4gYXJyYXkgb2Ygbm9kZXMgaW4gRE9NXG4gKiAgICAgICAgICAgICAgICAgICBvcmRlciBhcyBhcmd1bWVudHMuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiAgIGdldENzc0RhdGEoe1xuICogICAgIHJvb3RFbGVtZW50IDogZG9jdW1lbnQsXG4gKiAgICAgaW5jbHVkZSAgICAgOiAnc3R5bGUsbGlua1tyZWw9XCJzdHlsZXNoZWV0XCJdJyxcbiAqICAgICBleGNsdWRlICAgICA6ICdbaHJlZj1cInNraXAuY3NzXCJdJyxcbiAqICAgICBmaWx0ZXIgICAgICA6IC9yZWQvLFxuICogICAgIHNraXBEaXNhYmxlZDogdHJ1ZSxcbiAqICAgICB1c2VDU1NPTSAgICA6IGZhbHNlLFxuICogICAgIG9uQmVmb3JlU2VuZCh4aHIsIG5vZGUsIHVybCkge1xuICogICAgICAgLy8gLi4uXG4gKiAgICAgfVxuICogICAgIG9uU3VjY2Vzcyhjc3NUZXh0LCBub2RlLCB1cmwpIHtcbiAqICAgICAgIC8vIC4uLlxuICogICAgIH1cbiAqICAgICBvbkVycm9yKHhociwgbm9kZSwgdXJsKSB7XG4gKiAgICAgICAvLyAuLi5cbiAqICAgICB9LFxuICogICAgIG9uQ29tcGxldGUoY3NzVGV4dCwgY3NzQXJyYXksIG5vZGVBcnJheSkge1xuICogICAgICAgLy8gLi4uXG4gKiAgICAgfVxuICogICB9KTtcbiAqLyBmdW5jdGlvbiBnZXRDc3NEYXRhKG9wdGlvbnMpIHtcbiAgICB2YXIgcmVnZXggPSB7XG4gICAgICAgIGNzc0NvbW1lbnRzOiAvXFwvXFwqW1xcc1xcU10rP1xcKlxcLy9nLFxuICAgICAgICBjc3NJbXBvcnRzOiAvKD86QGltcG9ydFxccyopKD86dXJsXFwoXFxzKik/KD86WydcIl0pKFteJ1wiXSopKD86WydcIl0pKD86XFxzKlxcKSk/KD86W147XSo7KS9nXG4gICAgfTtcbiAgICB2YXIgc2V0dGluZ3MgPSB7XG4gICAgICAgIHJvb3RFbGVtZW50OiBvcHRpb25zLnJvb3RFbGVtZW50IHx8IGRvY3VtZW50LFxuICAgICAgICBpbmNsdWRlOiBvcHRpb25zLmluY2x1ZGUgfHwgJ3N0eWxlLGxpbmtbcmVsPVwic3R5bGVzaGVldFwiXScsXG4gICAgICAgIGV4Y2x1ZGU6IG9wdGlvbnMuZXhjbHVkZSB8fCBudWxsLFxuICAgICAgICBmaWx0ZXI6IG9wdGlvbnMuZmlsdGVyIHx8IG51bGwsXG4gICAgICAgIHNraXBEaXNhYmxlZDogb3B0aW9ucy5za2lwRGlzYWJsZWQgIT09IGZhbHNlLFxuICAgICAgICB1c2VDU1NPTTogb3B0aW9ucy51c2VDU1NPTSB8fCBmYWxzZSxcbiAgICAgICAgb25CZWZvcmVTZW5kOiBvcHRpb25zLm9uQmVmb3JlU2VuZCB8fCBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgICAgIG9uU3VjY2Vzczogb3B0aW9ucy5vblN1Y2Nlc3MgfHwgRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgICAgICBvbkVycm9yOiBvcHRpb25zLm9uRXJyb3IgfHwgRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgICAgICBvbkNvbXBsZXRlOiBvcHRpb25zLm9uQ29tcGxldGUgfHwgRnVuY3Rpb24ucHJvdG90eXBlXG4gICAgfTtcbiAgICB2YXIgc291cmNlTm9kZXMgPSBBcnJheS5hcHBseShudWxsLCBzZXR0aW5ncy5yb290RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHNldHRpbmdzLmluY2x1ZGUpKS5maWx0ZXIoKGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuICFtYXRjaGVzU2VsZWN0b3Iobm9kZSwgc2V0dGluZ3MuZXhjbHVkZSk7XG4gICAgfSkpO1xuICAgIHZhciBjc3NBcnJheSA9IEFycmF5LmFwcGx5KG51bGwsIEFycmF5KHNvdXJjZU5vZGVzLmxlbmd0aCkpLm1hcCgoZnVuY3Rpb24oeCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9KSk7XG4gICAgZnVuY3Rpb24gaGFuZGxlQ29tcGxldGUoKSB7XG4gICAgICAgIHZhciBpc0NvbXBsZXRlID0gY3NzQXJyYXkuaW5kZXhPZihudWxsKSA9PT0gLTE7XG4gICAgICAgIGlmIChpc0NvbXBsZXRlKSB7XG4gICAgICAgICAgICB2YXIgY3NzVGV4dCA9IGNzc0FycmF5LmpvaW4oXCJcIik7XG4gICAgICAgICAgICBzZXR0aW5ncy5vbkNvbXBsZXRlKGNzc1RleHQsIGNzc0FycmF5LCBzb3VyY2VOb2Rlcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlU3VjY2Vzcyhjc3NUZXh0LCBjc3NJbmRleCwgbm9kZSwgc291cmNlVXJsKSB7XG4gICAgICAgIHZhciByZXR1cm5WYWwgPSBzZXR0aW5ncy5vblN1Y2Nlc3MoY3NzVGV4dCwgbm9kZSwgc291cmNlVXJsKTtcbiAgICAgICAgY3NzVGV4dCA9IHJldHVyblZhbCAhPT0gdW5kZWZpbmVkICYmIEJvb2xlYW4ocmV0dXJuVmFsKSA9PT0gZmFsc2UgPyBcIlwiIDogcmV0dXJuVmFsIHx8IGNzc1RleHQ7XG4gICAgICAgIHJlc29sdmVJbXBvcnRzKGNzc1RleHQsIG5vZGUsIHNvdXJjZVVybCwgKGZ1bmN0aW9uKHJlc29sdmVkQ3NzVGV4dCwgZXJyb3JEYXRhKSB7XG4gICAgICAgICAgICBpZiAoY3NzQXJyYXlbY3NzSW5kZXhdID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JEYXRhLmZvckVhY2goKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNldHRpbmdzLm9uRXJyb3IoZGF0YS54aHIsIG5vZGUsIGRhdGEudXJsKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgaWYgKCFzZXR0aW5ncy5maWx0ZXIgfHwgc2V0dGluZ3MuZmlsdGVyLnRlc3QocmVzb2x2ZWRDc3NUZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICBjc3NBcnJheVtjc3NJbmRleF0gPSByZXNvbHZlZENzc1RleHQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY3NzQXJyYXlbY3NzSW5kZXhdID0gXCJcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaGFuZGxlQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwYXJzZUltcG9ydERhdGEoY3NzVGV4dCwgYmFzZVVybCkge1xuICAgICAgICB2YXIgaWdub3JlUnVsZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IFtdO1xuICAgICAgICB2YXIgaW1wb3J0RGF0YSA9IHt9O1xuICAgICAgICBpbXBvcnREYXRhLnJ1bGVzID0gKGNzc1RleHQucmVwbGFjZShyZWdleC5jc3NDb21tZW50cywgXCJcIikubWF0Y2gocmVnZXguY3NzSW1wb3J0cykgfHwgW10pLmZpbHRlcigoZnVuY3Rpb24ocnVsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGlnbm9yZVJ1bGVzLmluZGV4T2YocnVsZSkgPT09IC0xO1xuICAgICAgICB9KSk7XG4gICAgICAgIGltcG9ydERhdGEudXJscyA9IGltcG9ydERhdGEucnVsZXMubWFwKChmdW5jdGlvbihydWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gcnVsZS5yZXBsYWNlKHJlZ2V4LmNzc0ltcG9ydHMsIFwiJDFcIik7XG4gICAgICAgIH0pKTtcbiAgICAgICAgaW1wb3J0RGF0YS5hYnNvbHV0ZVVybHMgPSBpbXBvcnREYXRhLnVybHMubWFwKChmdW5jdGlvbih1cmwpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRGdWxsVXJsKHVybCwgYmFzZVVybCk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgaW1wb3J0RGF0YS5hYnNvbHV0ZVJ1bGVzID0gaW1wb3J0RGF0YS5ydWxlcy5tYXAoKGZ1bmN0aW9uKHJ1bGUsIGkpIHtcbiAgICAgICAgICAgIHZhciBvbGRVcmwgPSBpbXBvcnREYXRhLnVybHNbaV07XG4gICAgICAgICAgICB2YXIgbmV3VXJsID0gZ2V0RnVsbFVybChpbXBvcnREYXRhLmFic29sdXRlVXJsc1tpXSwgYmFzZVVybCk7XG4gICAgICAgICAgICByZXR1cm4gcnVsZS5yZXBsYWNlKG9sZFVybCwgbmV3VXJsKTtcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gaW1wb3J0RGF0YTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzb2x2ZUltcG9ydHMoY3NzVGV4dCwgbm9kZSwgYmFzZVVybCwgY2FsbGJhY2tGbikge1xuICAgICAgICB2YXIgX19lcnJvckRhdGEgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IFtdO1xuICAgICAgICB2YXIgX19lcnJvclJ1bGVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgYXJndW1lbnRzWzVdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNV0gOiBbXTtcbiAgICAgICAgdmFyIGltcG9ydERhdGEgPSBwYXJzZUltcG9ydERhdGEoY3NzVGV4dCwgYmFzZVVybCwgX19lcnJvclJ1bGVzKTtcbiAgICAgICAgaWYgKGltcG9ydERhdGEucnVsZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBnZXRVcmxzKGltcG9ydERhdGEuYWJzb2x1dGVVcmxzLCB7XG4gICAgICAgICAgICAgICAgb25CZWZvcmVTZW5kOiBmdW5jdGlvbiBvbkJlZm9yZVNlbmQoeGhyLCB1cmwsIHVybEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLm9uQmVmb3JlU2VuZCh4aHIsIG5vZGUsIHVybCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvblN1Y2Nlc3M6IGZ1bmN0aW9uIG9uU3VjY2Vzcyhjc3NUZXh0LCB1cmwsIHVybEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1cm5WYWwgPSBzZXR0aW5ncy5vblN1Y2Nlc3MoY3NzVGV4dCwgbm9kZSwgdXJsKTtcbiAgICAgICAgICAgICAgICAgICAgY3NzVGV4dCA9IHJldHVyblZhbCA9PT0gZmFsc2UgPyBcIlwiIDogcmV0dXJuVmFsIHx8IGNzc1RleHQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXNwb25zZUltcG9ydERhdGEgPSBwYXJzZUltcG9ydERhdGEoY3NzVGV4dCwgdXJsLCBfX2Vycm9yUnVsZXMpO1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZUltcG9ydERhdGEucnVsZXMuZm9yRWFjaCgoZnVuY3Rpb24ocnVsZSwgaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3NzVGV4dCA9IGNzc1RleHQucmVwbGFjZShydWxlLCByZXNwb25zZUltcG9ydERhdGEuYWJzb2x1dGVSdWxlc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNzc1RleHQ7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbkVycm9yOiBmdW5jdGlvbiBvbkVycm9yKHhociwgdXJsLCB1cmxJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBfX2Vycm9yRGF0YS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHhocjogeGhyLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIF9fZXJyb3JSdWxlcy5wdXNoKGltcG9ydERhdGEucnVsZXNbdXJsSW5kZXhdKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUltcG9ydHMoY3NzVGV4dCwgbm9kZSwgYmFzZVVybCwgY2FsbGJhY2tGbiwgX19lcnJvckRhdGEsIF9fZXJyb3JSdWxlcyk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiBvbkNvbXBsZXRlKHJlc3BvbnNlQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VBcnJheS5mb3JFYWNoKChmdW5jdGlvbihpbXBvcnRUZXh0LCBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjc3NUZXh0ID0gY3NzVGV4dC5yZXBsYWNlKGltcG9ydERhdGEucnVsZXNbaV0sIGltcG9ydFRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVJbXBvcnRzKGNzc1RleHQsIG5vZGUsIGJhc2VVcmwsIGNhbGxiYWNrRm4sIF9fZXJyb3JEYXRhLCBfX2Vycm9yUnVsZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FsbGJhY2tGbihjc3NUZXh0LCBfX2Vycm9yRGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNvdXJjZU5vZGVzLmxlbmd0aCkge1xuICAgICAgICBzb3VyY2VOb2Rlcy5mb3JFYWNoKChmdW5jdGlvbihub2RlLCBpKSB7XG4gICAgICAgICAgICB2YXIgbGlua0hyZWYgPSBub2RlLmdldEF0dHJpYnV0ZShcImhyZWZcIik7XG4gICAgICAgICAgICB2YXIgbGlua1JlbCA9IG5vZGUuZ2V0QXR0cmlidXRlKFwicmVsXCIpO1xuICAgICAgICAgICAgdmFyIGlzTGluayA9IG5vZGUubm9kZU5hbWUgPT09IFwiTElOS1wiICYmIGxpbmtIcmVmICYmIGxpbmtSZWwgJiYgbGlua1JlbC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJzdHlsZXNoZWV0XCIpICE9PSAtMTtcbiAgICAgICAgICAgIHZhciBpc1NraXAgPSBzZXR0aW5ncy5za2lwRGlzYWJsZWQgPT09IGZhbHNlID8gZmFsc2UgOiBub2RlLmRpc2FibGVkO1xuICAgICAgICAgICAgdmFyIGlzU3R5bGUgPSBub2RlLm5vZGVOYW1lID09PSBcIlNUWUxFXCI7XG4gICAgICAgICAgICBpZiAoaXNMaW5rICYmICFpc1NraXApIHtcbiAgICAgICAgICAgICAgICBnZXRVcmxzKGxpbmtIcmVmLCB7XG4gICAgICAgICAgICAgICAgICAgIG1pbWVUeXBlOiBcInRleHQvY3NzXCIsXG4gICAgICAgICAgICAgICAgICAgIG9uQmVmb3JlU2VuZDogZnVuY3Rpb24gb25CZWZvcmVTZW5kKHhociwgdXJsLCB1cmxJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3Mub25CZWZvcmVTZW5kKHhociwgbm9kZSwgdXJsKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb25TdWNjZXNzOiBmdW5jdGlvbiBvblN1Y2Nlc3MoY3NzVGV4dCwgdXJsLCB1cmxJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNvdXJjZVVybCA9IGdldEZ1bGxVcmwobGlua0hyZWYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlU3VjY2Vzcyhjc3NUZXh0LCBpLCBub2RlLCBzb3VyY2VVcmwpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvbkVycm9yOiBmdW5jdGlvbiBvbkVycm9yKHhociwgdXJsLCB1cmxJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3NzQXJyYXlbaV0gPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3Mub25FcnJvcih4aHIsIG5vZGUsIHVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVDb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzU3R5bGUgJiYgIWlzU2tpcCkge1xuICAgICAgICAgICAgICAgIHZhciBjc3NUZXh0ID0gbm9kZS50ZXh0Q29udGVudDtcbiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3MudXNlQ1NTT00pIHtcbiAgICAgICAgICAgICAgICAgICAgY3NzVGV4dCA9IEFycmF5LmFwcGx5KG51bGwsIG5vZGUuc2hlZXQuY3NzUnVsZXMpLm1hcCgoZnVuY3Rpb24ocnVsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJ1bGUuY3NzVGV4dDtcbiAgICAgICAgICAgICAgICAgICAgfSkpLmpvaW4oXCJcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhhbmRsZVN1Y2Nlc3MoY3NzVGV4dCwgaSwgbm9kZSwgbG9jYXRpb24uaHJlZik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNzc0FycmF5W2ldID0gXCJcIjtcbiAgICAgICAgICAgICAgICBoYW5kbGVDb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc2V0dGluZ3Mub25Db21wbGV0ZShcIlwiLCBbXSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRGdWxsVXJsKHVybCwgYmFzZSkge1xuICAgIHZhciBkID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KFwiXCIpO1xuICAgIHZhciBiID0gZC5jcmVhdGVFbGVtZW50KFwiYmFzZVwiKTtcbiAgICB2YXIgYSA9IGQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgZC5oZWFkLmFwcGVuZENoaWxkKGIpO1xuICAgIGQuYm9keS5hcHBlbmRDaGlsZChhKTtcbiAgICBiLmhyZWYgPSBiYXNlIHx8IGRvY3VtZW50LmJhc2VVUkkgfHwgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJiYXNlXCIpIHx8IHt9KS5ocmVmIHx8IGxvY2F0aW9uLmhyZWY7XG4gICAgYS5ocmVmID0gdXJsO1xuICAgIHJldHVybiBhLmhyZWY7XG59XG5cbmZ1bmN0aW9uIG1hdGNoZXNTZWxlY3RvcihlbG0sIHNlbGVjdG9yKSB7XG4gICAgdmFyIG1hdGNoZXMgPSBlbG0ubWF0Y2hlcyB8fCBlbG0ubWF0Y2hlc1NlbGVjdG9yIHx8IGVsbS53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHwgZWxtLm1vek1hdGNoZXNTZWxlY3RvciB8fCBlbG0ubXNNYXRjaGVzU2VsZWN0b3IgfHwgZWxtLm9NYXRjaGVzU2VsZWN0b3I7XG4gICAgcmV0dXJuIG1hdGNoZXMuY2FsbChlbG0sIHNlbGVjdG9yKTtcbn1cblxudmFyIGJhbGFuY2VkTWF0Y2ggPSBiYWxhbmNlZDtcblxuZnVuY3Rpb24gYmFsYW5jZWQoYSwgYiwgc3RyKSB7XG4gICAgaWYgKGEgaW5zdGFuY2VvZiBSZWdFeHApIGEgPSBtYXliZU1hdGNoKGEsIHN0cik7XG4gICAgaWYgKGIgaW5zdGFuY2VvZiBSZWdFeHApIGIgPSBtYXliZU1hdGNoKGIsIHN0cik7XG4gICAgdmFyIHIgPSByYW5nZShhLCBiLCBzdHIpO1xuICAgIHJldHVybiByICYmIHtcbiAgICAgICAgc3RhcnQ6IHJbMF0sXG4gICAgICAgIGVuZDogclsxXSxcbiAgICAgICAgcHJlOiBzdHIuc2xpY2UoMCwgclswXSksXG4gICAgICAgIGJvZHk6IHN0ci5zbGljZShyWzBdICsgYS5sZW5ndGgsIHJbMV0pLFxuICAgICAgICBwb3N0OiBzdHIuc2xpY2UoclsxXSArIGIubGVuZ3RoKVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIG1heWJlTWF0Y2gocmVnLCBzdHIpIHtcbiAgICB2YXIgbSA9IHN0ci5tYXRjaChyZWcpO1xuICAgIHJldHVybiBtID8gbVswXSA6IG51bGw7XG59XG5cbmJhbGFuY2VkLnJhbmdlID0gcmFuZ2U7XG5cbmZ1bmN0aW9uIHJhbmdlKGEsIGIsIHN0cikge1xuICAgIHZhciBiZWdzLCBiZWcsIGxlZnQsIHJpZ2h0LCByZXN1bHQ7XG4gICAgdmFyIGFpID0gc3RyLmluZGV4T2YoYSk7XG4gICAgdmFyIGJpID0gc3RyLmluZGV4T2YoYiwgYWkgKyAxKTtcbiAgICB2YXIgaSA9IGFpO1xuICAgIGlmIChhaSA+PSAwICYmIGJpID4gMCkge1xuICAgICAgICBiZWdzID0gW107XG4gICAgICAgIGxlZnQgPSBzdHIubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoaSA+PSAwICYmICFyZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChpID09IGFpKSB7XG4gICAgICAgICAgICAgICAgYmVncy5wdXNoKGkpO1xuICAgICAgICAgICAgICAgIGFpID0gc3RyLmluZGV4T2YoYSwgaSArIDEpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChiZWdzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gWyBiZWdzLnBvcCgpLCBiaSBdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBiZWcgPSBiZWdzLnBvcCgpO1xuICAgICAgICAgICAgICAgIGlmIChiZWcgPCBsZWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQgPSBiZWc7XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0ID0gYmk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJpID0gc3RyLmluZGV4T2YoYiwgaSArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSA9IGFpIDwgYmkgJiYgYWkgPj0gMCA/IGFpIDogYmk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJlZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBbIGxlZnQsIHJpZ2h0IF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gcGFyc2VDc3MoY3NzKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgcHJlc2VydmVTdGF0aWM6IHRydWUsXG4gICAgICAgIHJlbW92ZUNvbW1lbnRzOiBmYWxzZVxuICAgIH07XG4gICAgdmFyIHNldHRpbmdzID0gX2V4dGVuZHMoe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcbiAgICB2YXIgZXJyb3JzID0gW107XG4gICAgZnVuY3Rpb24gZXJyb3IobXNnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNTUyBwYXJzZSBlcnJvcjogXCIuY29uY2F0KG1zZykpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXRjaChyZSkge1xuICAgICAgICB2YXIgbSA9IHJlLmV4ZWMoY3NzKTtcbiAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgIGNzcyA9IGNzcy5zbGljZShtWzBdLmxlbmd0aCk7XG4gICAgICAgICAgICByZXR1cm4gbTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBvcGVuKCkge1xuICAgICAgICByZXR1cm4gbWF0Y2goL157XFxzKi8pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoKC9efS8pO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3aGl0ZXNwYWNlKCkge1xuICAgICAgICBtYXRjaCgvXlxccyovKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWVudCgpIHtcbiAgICAgICAgd2hpdGVzcGFjZSgpO1xuICAgICAgICBpZiAoY3NzWzBdICE9PSBcIi9cIiB8fCBjc3NbMV0gIT09IFwiKlwiKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGkgPSAyO1xuICAgICAgICB3aGlsZSAoY3NzW2ldICYmIChjc3NbaV0gIT09IFwiKlwiIHx8IGNzc1tpICsgMV0gIT09IFwiL1wiKSkge1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY3NzW2ldKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3IoXCJlbmQgb2YgY29tbWVudCBpcyBtaXNzaW5nXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdHIgPSBjc3Muc2xpY2UoMiwgaSk7XG4gICAgICAgIGNzcyA9IGNzcy5zbGljZShpICsgMik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBcImNvbW1lbnRcIixcbiAgICAgICAgICAgIGNvbW1lbnQ6IHN0clxuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21tZW50cygpIHtcbiAgICAgICAgdmFyIGNtbnRzID0gW107XG4gICAgICAgIHZhciBjO1xuICAgICAgICB3aGlsZSAoYyA9IGNvbW1lbnQoKSkge1xuICAgICAgICAgICAgY21udHMucHVzaChjKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2V0dGluZ3MucmVtb3ZlQ29tbWVudHMgPyBbXSA6IGNtbnRzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzZWxlY3RvcigpIHtcbiAgICAgICAgd2hpdGVzcGFjZSgpO1xuICAgICAgICB3aGlsZSAoY3NzWzBdID09PSBcIn1cIikge1xuICAgICAgICAgICAgZXJyb3IoXCJleHRyYSBjbG9zaW5nIGJyYWNrZXRcIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG0gPSBtYXRjaCgvXigoXCIoPzpcXFxcXCJ8W15cIl0pKlwifCcoPzpcXFxcJ3xbXiddKSonfFtee10pKykvKTtcbiAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgIHJldHVybiBtWzBdLnRyaW0oKS5yZXBsYWNlKC9cXC9cXCooW14qXXxbXFxyXFxuXXwoXFwqKyhbXiovXXxbXFxyXFxuXSkpKSpcXCpcXC8rL2csIFwiXCIpLnJlcGxhY2UoL1wiKD86XFxcXFwifFteXCJdKSpcInwnKD86XFxcXCd8W14nXSkqJy9nLCAoZnVuY3Rpb24obSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtLnJlcGxhY2UoLywvZywgXCLigIxcIik7XG4gICAgICAgICAgICB9KSkuc3BsaXQoL1xccyooPyFbXihdKlxcKSksXFxzKi8pLm1hcCgoZnVuY3Rpb24ocykge1xuICAgICAgICAgICAgICAgIHJldHVybiBzLnJlcGxhY2UoL1xcdTIwMEMvZywgXCIsXCIpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlY2xhcmF0aW9uKCkge1xuICAgICAgICBpZiAoY3NzWzBdID09PSBcIkBcIikge1xuICAgICAgICAgICAgcmV0dXJuIGF0X3J1bGUoKTtcbiAgICAgICAgfVxuICAgICAgICBtYXRjaCgvXihbO1xcc10qKSsvKTtcbiAgICAgICAgdmFyIGNvbW1lbnRfcmVnZXhwID0gL1xcL1xcKlteKl0qXFwqKyhbXi8qXVteKl0qXFwqKykqXFwvL2c7XG4gICAgICAgIHZhciBwcm9wID0gbWF0Y2goL14oXFwqP1stIy8qXFxcXFxcd10rKFxcW1swLTlhLXpfLV0rXFxdKT8pXFxzKi8pO1xuICAgICAgICBpZiAoIXByb3ApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBwcm9wID0gcHJvcFswXS50cmltKCk7XG4gICAgICAgIGlmICghbWF0Y2goL146XFxzKi8pKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3IoXCJwcm9wZXJ0eSBtaXNzaW5nICc6J1wiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmFsID0gbWF0Y2goL14oKD86XFwvXFwqLio/XFwqXFwvfCcoPzpcXFxcJ3wuKSo/J3xcIig/OlxcXFxcInwuKSo/XCJ8XFwoKFxccyonKD86XFxcXCd8LikqPyd8XCIoPzpcXFxcXCJ8LikqP1wifFteKV0qPylcXHMqXFwpfFtefTtdKSspLyk7XG4gICAgICAgIHZhciByZXQgPSB7XG4gICAgICAgICAgICB0eXBlOiBcImRlY2xhcmF0aW9uXCIsXG4gICAgICAgICAgICBwcm9wZXJ0eTogcHJvcC5yZXBsYWNlKGNvbW1lbnRfcmVnZXhwLCBcIlwiKSxcbiAgICAgICAgICAgIHZhbHVlOiB2YWwgPyB2YWxbMF0ucmVwbGFjZShjb21tZW50X3JlZ2V4cCwgXCJcIikudHJpbSgpIDogXCJcIlxuICAgICAgICB9O1xuICAgICAgICBtYXRjaCgvXls7XFxzXSovKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVjbGFyYXRpb25zKCkge1xuICAgICAgICBpZiAoIW9wZW4oKSkge1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yKFwibWlzc2luZyAneydcIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGQ7XG4gICAgICAgIHZhciBkZWNscyA9IGNvbW1lbnRzKCk7XG4gICAgICAgIHdoaWxlIChkID0gZGVjbGFyYXRpb24oKSkge1xuICAgICAgICAgICAgZGVjbHMucHVzaChkKTtcbiAgICAgICAgICAgIGRlY2xzID0gZGVjbHMuY29uY2F0KGNvbW1lbnRzKCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY2xvc2UoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yKFwibWlzc2luZyAnfSdcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlY2xzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBrZXlmcmFtZSgpIHtcbiAgICAgICAgd2hpdGVzcGFjZSgpO1xuICAgICAgICB2YXIgdmFscyA9IFtdO1xuICAgICAgICB2YXIgbTtcbiAgICAgICAgd2hpbGUgKG0gPSBtYXRjaCgvXigoXFxkK1xcLlxcZCt8XFwuXFxkK3xcXGQrKSU/fFthLXpdKylcXHMqLykpIHtcbiAgICAgICAgICAgIHZhbHMucHVzaChtWzFdKTtcbiAgICAgICAgICAgIG1hdGNoKC9eLFxccyovKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFscy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJrZXlmcmFtZVwiLFxuICAgICAgICAgICAgICAgIHZhbHVlczogdmFscyxcbiAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnM6IGRlY2xhcmF0aW9ucygpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGF0X2tleWZyYW1lcygpIHtcbiAgICAgICAgdmFyIG0gPSBtYXRjaCgvXkAoWy1cXHddKyk/a2V5ZnJhbWVzXFxzKi8pO1xuICAgICAgICBpZiAoIW0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmVuZG9yID0gbVsxXTtcbiAgICAgICAgbSA9IG1hdGNoKC9eKFstXFx3XSspXFxzKi8pO1xuICAgICAgICBpZiAoIW0pIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJvcihcIkBrZXlmcmFtZXMgbWlzc2luZyBuYW1lXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuYW1lID0gbVsxXTtcbiAgICAgICAgaWYgKCFvcGVuKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJvcihcIkBrZXlmcmFtZXMgbWlzc2luZyAneydcIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZyYW1lO1xuICAgICAgICB2YXIgZnJhbWVzID0gY29tbWVudHMoKTtcbiAgICAgICAgd2hpbGUgKGZyYW1lID0ga2V5ZnJhbWUoKSkge1xuICAgICAgICAgICAgZnJhbWVzLnB1c2goZnJhbWUpO1xuICAgICAgICAgICAgZnJhbWVzID0gZnJhbWVzLmNvbmNhdChjb21tZW50cygpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNsb3NlKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJvcihcIkBrZXlmcmFtZXMgbWlzc2luZyAnfSdcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwia2V5ZnJhbWVzXCIsXG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgdmVuZG9yOiB2ZW5kb3IsXG4gICAgICAgICAgICBrZXlmcmFtZXM6IGZyYW1lc1xuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBhdF9wYWdlKCkge1xuICAgICAgICB2YXIgbSA9IG1hdGNoKC9eQHBhZ2UgKi8pO1xuICAgICAgICBpZiAobSkge1xuICAgICAgICAgICAgdmFyIHNlbCA9IHNlbGVjdG9yKCkgfHwgW107XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwicGFnZVwiLFxuICAgICAgICAgICAgICAgIHNlbGVjdG9yczogc2VsLFxuICAgICAgICAgICAgICAgIGRlY2xhcmF0aW9uczogZGVjbGFyYXRpb25zKClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYXRfcGFnZV9tYXJnaW5fYm94KCkge1xuICAgICAgICB2YXIgbSA9IG1hdGNoKC9AKHRvcHxib3R0b218bGVmdHxyaWdodCktKGxlZnR8Y2VudGVyfHJpZ2h0fHRvcHxtaWRkbGV8Ym90dG9tKS0/KGNvcm5lcik/XFxzKi8pO1xuICAgICAgICBpZiAobSkge1xuICAgICAgICAgICAgdmFyIG5hbWUgPSBcIlwiLmNvbmNhdChtWzFdLCBcIi1cIikuY29uY2F0KG1bMl0pICsgKG1bM10gPyBcIi1cIi5jb25jYXQobVszXSkgOiBcIlwiKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJwYWdlLW1hcmdpbi1ib3hcIixcbiAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAgIGRlY2xhcmF0aW9uczogZGVjbGFyYXRpb25zKClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYXRfZm9udGZhY2UoKSB7XG4gICAgICAgIHZhciBtID0gbWF0Y2goL15AZm9udC1mYWNlXFxzKi8pO1xuICAgICAgICBpZiAobSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcImZvbnQtZmFjZVwiLFxuICAgICAgICAgICAgICAgIGRlY2xhcmF0aW9uczogZGVjbGFyYXRpb25zKClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYXRfc3VwcG9ydHMoKSB7XG4gICAgICAgIHZhciBtID0gbWF0Y2goL15Ac3VwcG9ydHMgKihbXntdKykvKTtcbiAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJzdXBwb3J0c1wiLFxuICAgICAgICAgICAgICAgIHN1cHBvcnRzOiBtWzFdLnRyaW0oKSxcbiAgICAgICAgICAgICAgICBydWxlczogcnVsZXMoKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBhdF9ob3N0KCkge1xuICAgICAgICB2YXIgbSA9IG1hdGNoKC9eQGhvc3RcXHMqLyk7XG4gICAgICAgIGlmIChtKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiaG9zdFwiLFxuICAgICAgICAgICAgICAgIHJ1bGVzOiBydWxlcygpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGF0X21lZGlhKCkge1xuICAgICAgICB2YXIgbSA9IG1hdGNoKC9eQG1lZGlhKFtee10rKSovKTtcbiAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJtZWRpYVwiLFxuICAgICAgICAgICAgICAgIG1lZGlhOiAobVsxXSB8fCBcIlwiKS50cmltKCksXG4gICAgICAgICAgICAgICAgcnVsZXM6IHJ1bGVzKClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYXRfY3VzdG9tX20oKSB7XG4gICAgICAgIHZhciBtID0gbWF0Y2goL15AY3VzdG9tLW1lZGlhXFxzKygtLVteXFxzXSspXFxzKihbXns7XSspOy8pO1xuICAgICAgICBpZiAobSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcImN1c3RvbS1tZWRpYVwiLFxuICAgICAgICAgICAgICAgIG5hbWU6IG1bMV0udHJpbSgpLFxuICAgICAgICAgICAgICAgIG1lZGlhOiBtWzJdLnRyaW0oKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBhdF9kb2N1bWVudCgpIHtcbiAgICAgICAgdmFyIG0gPSBtYXRjaCgvXkAoWy1cXHddKyk/ZG9jdW1lbnQgKihbXntdKykvKTtcbiAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJkb2N1bWVudFwiLFxuICAgICAgICAgICAgICAgIGRvY3VtZW50OiBtWzJdLnRyaW0oKSxcbiAgICAgICAgICAgICAgICB2ZW5kb3I6IG1bMV0gPyBtWzFdLnRyaW0oKSA6IG51bGwsXG4gICAgICAgICAgICAgICAgcnVsZXM6IHJ1bGVzKClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYXRfeCgpIHtcbiAgICAgICAgdmFyIG0gPSBtYXRjaCgvXkAoaW1wb3J0fGNoYXJzZXR8bmFtZXNwYWNlKVxccyooW147XSspOy8pO1xuICAgICAgICBpZiAobSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBtWzFdLFxuICAgICAgICAgICAgICAgIG5hbWU6IG1bMl0udHJpbSgpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGF0X3J1bGUoKSB7XG4gICAgICAgIHdoaXRlc3BhY2UoKTtcbiAgICAgICAgaWYgKGNzc1swXSA9PT0gXCJAXCIpIHtcbiAgICAgICAgICAgIHZhciByZXQgPSBhdF94KCkgfHwgYXRfZm9udGZhY2UoKSB8fCBhdF9tZWRpYSgpIHx8IGF0X2tleWZyYW1lcygpIHx8IGF0X3N1cHBvcnRzKCkgfHwgYXRfZG9jdW1lbnQoKSB8fCBhdF9jdXN0b21fbSgpIHx8IGF0X2hvc3QoKSB8fCBhdF9wYWdlKCkgfHwgYXRfcGFnZV9tYXJnaW5fYm94KCk7XG4gICAgICAgICAgICBpZiAocmV0ICYmICFzZXR0aW5ncy5wcmVzZXJ2ZVN0YXRpYykge1xuICAgICAgICAgICAgICAgIHZhciBoYXNWYXJGdW5jID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKHJldC5kZWNsYXJhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFzVmFyRnVuYyA9IHJldC5kZWNsYXJhdGlvbnMuc29tZSgoZnVuY3Rpb24oZGVjbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC92YXJcXCgvLnRlc3QoZGVjbC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXJyID0gcmV0LmtleWZyYW1lcyB8fCByZXQucnVsZXMgfHwgW107XG4gICAgICAgICAgICAgICAgICAgIGhhc1ZhckZ1bmMgPSBhcnIuc29tZSgoZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKG9iai5kZWNsYXJhdGlvbnMgfHwgW10pLnNvbWUoKGZ1bmN0aW9uKGRlY2wpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gL3ZhclxcKC8udGVzdChkZWNsLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaGFzVmFyRnVuYyA/IHJldCA6IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBydWxlKCkge1xuICAgICAgICBpZiAoIXNldHRpbmdzLnByZXNlcnZlU3RhdGljKSB7XG4gICAgICAgICAgICB2YXIgYmFsYW5jZWRNYXRjaCQxID0gYmFsYW5jZWRNYXRjaChcIntcIiwgXCJ9XCIsIGNzcyk7XG4gICAgICAgICAgICBpZiAoYmFsYW5jZWRNYXRjaCQxKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhhc1ZhckRlY2wgPSAvOig/OnJvb3R8aG9zdCkoPyFbLjojKF0pLy50ZXN0KGJhbGFuY2VkTWF0Y2gkMS5wcmUpICYmIC8tLVxcUypcXHMqOi8udGVzdChiYWxhbmNlZE1hdGNoJDEuYm9keSk7XG4gICAgICAgICAgICAgICAgdmFyIGhhc1ZhckZ1bmMgPSAvdmFyXFwoLy50ZXN0KGJhbGFuY2VkTWF0Y2gkMS5ib2R5KTtcbiAgICAgICAgICAgICAgICBpZiAoIWhhc1ZhckRlY2wgJiYgIWhhc1ZhckZ1bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgY3NzID0gY3NzLnNsaWNlKGJhbGFuY2VkTWF0Y2gkMS5lbmQgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgc2VsID0gc2VsZWN0b3IoKSB8fCBbXTtcbiAgICAgICAgdmFyIGRlY2xzID0gc2V0dGluZ3MucHJlc2VydmVTdGF0aWMgPyBkZWNsYXJhdGlvbnMoKSA6IGRlY2xhcmF0aW9ucygpLmZpbHRlcigoZnVuY3Rpb24oZGVjbCkge1xuICAgICAgICAgICAgdmFyIGhhc1ZhckRlY2wgPSBzZWwuc29tZSgoZnVuY3Rpb24ocykge1xuICAgICAgICAgICAgICAgIHJldHVybiAvOig/OnJvb3R8aG9zdCkoPyFbLjojKF0pLy50ZXN0KHMpO1xuICAgICAgICAgICAgfSkpICYmIC9eLS1cXFMvLnRlc3QoZGVjbC5wcm9wZXJ0eSk7XG4gICAgICAgICAgICB2YXIgaGFzVmFyRnVuYyA9IC92YXJcXCgvLnRlc3QoZGVjbC52YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gaGFzVmFyRGVjbCB8fCBoYXNWYXJGdW5jO1xuICAgICAgICB9KSk7XG4gICAgICAgIGlmICghc2VsLmxlbmd0aCkge1xuICAgICAgICAgICAgZXJyb3IoXCJzZWxlY3RvciBtaXNzaW5nXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBcInJ1bGVcIixcbiAgICAgICAgICAgIHNlbGVjdG9yczogc2VsLFxuICAgICAgICAgICAgZGVjbGFyYXRpb25zOiBkZWNsc1xuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBydWxlcyhjb3JlKSB7XG4gICAgICAgIGlmICghY29yZSAmJiAhb3BlbigpKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3IoXCJtaXNzaW5nICd7J1wiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbm9kZTtcbiAgICAgICAgdmFyIHJ1bGVzID0gY29tbWVudHMoKTtcbiAgICAgICAgd2hpbGUgKGNzcy5sZW5ndGggJiYgKGNvcmUgfHwgY3NzWzBdICE9PSBcIn1cIikgJiYgKG5vZGUgPSBhdF9ydWxlKCkgfHwgcnVsZSgpKSkge1xuICAgICAgICAgICAgaWYgKG5vZGUudHlwZSkge1xuICAgICAgICAgICAgICAgIHJ1bGVzLnB1c2gobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBydWxlcyA9IHJ1bGVzLmNvbmNhdChjb21tZW50cygpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNvcmUgJiYgIWNsb3NlKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJvcihcIm1pc3NpbmcgJ30nXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBydWxlcztcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJzdHlsZXNoZWV0XCIsXG4gICAgICAgIHN0eWxlc2hlZXQ6IHtcbiAgICAgICAgICAgIHJ1bGVzOiBydWxlcyh0cnVlKSxcbiAgICAgICAgICAgIGVycm9yczogZXJyb3JzXG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBwYXJzZVZhcnMoY3NzRGF0YSkge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgIHBhcnNlSG9zdDogZmFsc2UsXG4gICAgICAgIHN0b3JlOiB7fSxcbiAgICAgICAgb25XYXJuaW5nOiBmdW5jdGlvbiBvbldhcm5pbmcoKSB7fVxuICAgIH07XG4gICAgdmFyIHNldHRpbmdzID0gX2V4dGVuZHMoe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcbiAgICB2YXIgcmVWYXJEZWNsU2VsZWN0b3JzID0gbmV3IFJlZ0V4cChcIjpcIi5jb25jYXQoc2V0dGluZ3MucGFyc2VIb3N0ID8gXCJob3N0XCIgOiBcInJvb3RcIiwgXCIkXCIpKTtcbiAgICBpZiAodHlwZW9mIGNzc0RhdGEgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgY3NzRGF0YSA9IHBhcnNlQ3NzKGNzc0RhdGEsIHNldHRpbmdzKTtcbiAgICB9XG4gICAgY3NzRGF0YS5zdHlsZXNoZWV0LnJ1bGVzLmZvckVhY2goKGZ1bmN0aW9uKHJ1bGUpIHtcbiAgICAgICAgaWYgKHJ1bGUudHlwZSAhPT0gXCJydWxlXCIgfHwgIXJ1bGUuc2VsZWN0b3JzLnNvbWUoKGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgICAgIHJldHVybiByZVZhckRlY2xTZWxlY3RvcnMudGVzdChzKTtcbiAgICAgICAgfSkpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcnVsZS5kZWNsYXJhdGlvbnMuZm9yRWFjaCgoZnVuY3Rpb24oZGVjbCwgaSkge1xuICAgICAgICAgICAgdmFyIHByb3AgPSBkZWNsLnByb3BlcnR5O1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gZGVjbC52YWx1ZTtcbiAgICAgICAgICAgIGlmIChwcm9wICYmIHByb3AuaW5kZXhPZihcIi0tXCIpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3Muc3RvcmVbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH0pKTtcbiAgICByZXR1cm4gc2V0dGluZ3Muc3RvcmU7XG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeUNzcyh0cmVlKSB7XG4gICAgdmFyIGRlbGltID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBcIlwiO1xuICAgIHZhciBjYiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkO1xuICAgIHZhciByZW5kZXJNZXRob2RzID0ge1xuICAgICAgICBjaGFyc2V0OiBmdW5jdGlvbiBjaGFyc2V0KG5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIkBjaGFyc2V0IFwiICsgbm9kZS5uYW1lICsgXCI7XCI7XG4gICAgICAgIH0sXG4gICAgICAgIGNvbW1lbnQ6IGZ1bmN0aW9uIGNvbW1lbnQobm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5vZGUuY29tbWVudC5pbmRleE9mKFwiX19DU1NWQVJTUE9OWUZJTExcIikgPT09IDAgPyBcIi8qXCIgKyBub2RlLmNvbW1lbnQgKyBcIiovXCIgOiBcIlwiO1xuICAgICAgICB9LFxuICAgICAgICBcImN1c3RvbS1tZWRpYVwiOiBmdW5jdGlvbiBjdXN0b21NZWRpYShub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJAY3VzdG9tLW1lZGlhIFwiICsgbm9kZS5uYW1lICsgXCIgXCIgKyBub2RlLm1lZGlhICsgXCI7XCI7XG4gICAgICAgIH0sXG4gICAgICAgIGRlY2xhcmF0aW9uOiBmdW5jdGlvbiBkZWNsYXJhdGlvbihub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZS5wcm9wZXJ0eSArIFwiOlwiICsgbm9kZS52YWx1ZSArIFwiO1wiO1xuICAgICAgICB9LFxuICAgICAgICBkb2N1bWVudDogZnVuY3Rpb24gZG9jdW1lbnQobm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiQFwiICsgKG5vZGUudmVuZG9yIHx8IFwiXCIpICsgXCJkb2N1bWVudCBcIiArIG5vZGUuZG9jdW1lbnQgKyBcIntcIiArIHZpc2l0KG5vZGUucnVsZXMpICsgXCJ9XCI7XG4gICAgICAgIH0sXG4gICAgICAgIFwiZm9udC1mYWNlXCI6IGZ1bmN0aW9uIGZvbnRGYWNlKG5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIkBmb250LWZhY2VcIiArIFwie1wiICsgdmlzaXQobm9kZS5kZWNsYXJhdGlvbnMpICsgXCJ9XCI7XG4gICAgICAgIH0sXG4gICAgICAgIGhvc3Q6IGZ1bmN0aW9uIGhvc3Qobm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiQGhvc3RcIiArIFwie1wiICsgdmlzaXQobm9kZS5ydWxlcykgKyBcIn1cIjtcbiAgICAgICAgfSxcbiAgICAgICAgaW1wb3J0OiBmdW5jdGlvbiBfaW1wb3J0KG5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIkBpbXBvcnQgXCIgKyBub2RlLm5hbWUgKyBcIjtcIjtcbiAgICAgICAgfSxcbiAgICAgICAga2V5ZnJhbWU6IGZ1bmN0aW9uIGtleWZyYW1lKG5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlLnZhbHVlcy5qb2luKFwiLFwiKSArIFwie1wiICsgdmlzaXQobm9kZS5kZWNsYXJhdGlvbnMpICsgXCJ9XCI7XG4gICAgICAgIH0sXG4gICAgICAgIGtleWZyYW1lczogZnVuY3Rpb24ga2V5ZnJhbWVzKG5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIkBcIiArIChub2RlLnZlbmRvciB8fCBcIlwiKSArIFwia2V5ZnJhbWVzIFwiICsgbm9kZS5uYW1lICsgXCJ7XCIgKyB2aXNpdChub2RlLmtleWZyYW1lcykgKyBcIn1cIjtcbiAgICAgICAgfSxcbiAgICAgICAgbWVkaWE6IGZ1bmN0aW9uIG1lZGlhKG5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIkBtZWRpYSBcIiArIG5vZGUubWVkaWEgKyBcIntcIiArIHZpc2l0KG5vZGUucnVsZXMpICsgXCJ9XCI7XG4gICAgICAgIH0sXG4gICAgICAgIG5hbWVzcGFjZTogZnVuY3Rpb24gbmFtZXNwYWNlKG5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIkBuYW1lc3BhY2UgXCIgKyBub2RlLm5hbWUgKyBcIjtcIjtcbiAgICAgICAgfSxcbiAgICAgICAgcGFnZTogZnVuY3Rpb24gcGFnZShub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJAcGFnZSBcIiArIChub2RlLnNlbGVjdG9ycy5sZW5ndGggPyBub2RlLnNlbGVjdG9ycy5qb2luKFwiLCBcIikgOiBcIlwiKSArIFwie1wiICsgdmlzaXQobm9kZS5kZWNsYXJhdGlvbnMpICsgXCJ9XCI7XG4gICAgICAgIH0sXG4gICAgICAgIFwicGFnZS1tYXJnaW4tYm94XCI6IGZ1bmN0aW9uIHBhZ2VNYXJnaW5Cb3gobm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiQFwiICsgbm9kZS5uYW1lICsgXCJ7XCIgKyB2aXNpdChub2RlLmRlY2xhcmF0aW9ucykgKyBcIn1cIjtcbiAgICAgICAgfSxcbiAgICAgICAgcnVsZTogZnVuY3Rpb24gcnVsZShub2RlKSB7XG4gICAgICAgICAgICB2YXIgZGVjbHMgPSBub2RlLmRlY2xhcmF0aW9ucztcbiAgICAgICAgICAgIGlmIChkZWNscy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS5zZWxlY3RvcnMuam9pbihcIixcIikgKyBcIntcIiArIHZpc2l0KGRlY2xzKSArIFwifVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzdXBwb3J0czogZnVuY3Rpb24gc3VwcG9ydHMobm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiQHN1cHBvcnRzIFwiICsgbm9kZS5zdXBwb3J0cyArIFwie1wiICsgdmlzaXQobm9kZS5ydWxlcykgKyBcIn1cIjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gdmlzaXQobm9kZXMpIHtcbiAgICAgICAgdmFyIGJ1ZiA9IFwiXCI7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBuID0gbm9kZXNbaV07XG4gICAgICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICAgICAgICBjYihuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0eHQgPSByZW5kZXJNZXRob2RzW24udHlwZV0obik7XG4gICAgICAgICAgICBpZiAodHh0KSB7XG4gICAgICAgICAgICAgICAgYnVmICs9IHR4dDtcbiAgICAgICAgICAgICAgICBpZiAodHh0Lmxlbmd0aCAmJiBuLnNlbGVjdG9ycykge1xuICAgICAgICAgICAgICAgICAgICBidWYgKz0gZGVsaW07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidWY7XG4gICAgfVxuICAgIHJldHVybiB2aXNpdCh0cmVlLnN0eWxlc2hlZXQucnVsZXMpO1xufVxuXG5mdW5jdGlvbiB3YWxrQ3NzKG5vZGUsIGZuKSB7XG4gICAgbm9kZS5ydWxlcy5mb3JFYWNoKChmdW5jdGlvbihydWxlKSB7XG4gICAgICAgIGlmIChydWxlLnJ1bGVzKSB7XG4gICAgICAgICAgICB3YWxrQ3NzKHJ1bGUsIGZuKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocnVsZS5rZXlmcmFtZXMpIHtcbiAgICAgICAgICAgIHJ1bGUua2V5ZnJhbWVzLmZvckVhY2goKGZ1bmN0aW9uKGtleWZyYW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKGtleWZyYW1lLnR5cGUgPT09IFwia2V5ZnJhbWVcIikge1xuICAgICAgICAgICAgICAgICAgICBmbihrZXlmcmFtZS5kZWNsYXJhdGlvbnMsIHJ1bGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJ1bGUuZGVjbGFyYXRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm4ocnVsZS5kZWNsYXJhdGlvbnMsIG5vZGUpO1xuICAgIH0pKTtcbn1cblxudmFyIFZBUl9QUk9QX0lERU5USUZJRVIgPSBcIi0tXCI7XG5cbnZhciBWQVJfRlVOQ19JREVOVElGSUVSID0gXCJ2YXJcIjtcblxuZnVuY3Rpb24gdHJhbnNmb3JtQ3NzKGNzc0RhdGEpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICBwcmVzZXJ2ZVN0YXRpYzogdHJ1ZSxcbiAgICAgICAgcHJlc2VydmVWYXJzOiBmYWxzZSxcbiAgICAgICAgdmFyaWFibGVzOiB7fSxcbiAgICAgICAgb25XYXJuaW5nOiBmdW5jdGlvbiBvbldhcm5pbmcoKSB7fVxuICAgIH07XG4gICAgdmFyIHNldHRpbmdzID0gX2V4dGVuZHMoe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcbiAgICBpZiAodHlwZW9mIGNzc0RhdGEgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgY3NzRGF0YSA9IHBhcnNlQ3NzKGNzc0RhdGEsIHNldHRpbmdzKTtcbiAgICB9XG4gICAgd2Fsa0Nzcyhjc3NEYXRhLnN0eWxlc2hlZXQsIChmdW5jdGlvbihkZWNsYXJhdGlvbnMsIG5vZGUpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWNsYXJhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBkZWNsID0gZGVjbGFyYXRpb25zW2ldO1xuICAgICAgICAgICAgdmFyIHR5cGUgPSBkZWNsLnR5cGU7XG4gICAgICAgICAgICB2YXIgcHJvcCA9IGRlY2wucHJvcGVydHk7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBkZWNsLnZhbHVlO1xuICAgICAgICAgICAgaWYgKHR5cGUgIT09IFwiZGVjbGFyYXRpb25cIikge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFzZXR0aW5ncy5wcmVzZXJ2ZVZhcnMgJiYgcHJvcCAmJiBwcm9wLmluZGV4T2YoVkFSX1BST1BfSURFTlRJRklFUikgPT09IDApIHtcbiAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZS5pbmRleE9mKFZBUl9GVU5DX0lERU5USUZJRVIgKyBcIihcIikgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc29sdmVkVmFsdWUgPSByZXNvbHZlVmFsdWUodmFsdWUsIHNldHRpbmdzKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzb2x2ZWRWYWx1ZSAhPT0gZGVjbC52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlZFZhbHVlID0gZml4TmVzdGVkQ2FsYyhyZXNvbHZlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZXR0aW5ncy5wcmVzZXJ2ZVZhcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlY2wudmFsdWUgPSByZXNvbHZlZFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVjbGFyYXRpb25zLnNwbGljZShpLCAwLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eTogcHJvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcmVzb2x2ZWRWYWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KSk7XG4gICAgcmV0dXJuIHN0cmluZ2lmeUNzcyhjc3NEYXRhKTtcbn1cblxuZnVuY3Rpb24gZml4TmVzdGVkQ2FsYyh2YWx1ZSkge1xuICAgIHZhciByZUNhbGNWYWwgPSAvY2FsY1xcKChbXildKylcXCkvZztcbiAgICAodmFsdWUubWF0Y2gocmVDYWxjVmFsKSB8fCBbXSkuZm9yRWFjaCgoZnVuY3Rpb24obWF0Y2gpIHtcbiAgICAgICAgdmFyIG5ld1ZhbCA9IFwiY2FsY1wiLmNvbmNhdChtYXRjaC5zcGxpdChcImNhbGNcIikuam9pbihcIlwiKSk7XG4gICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShtYXRjaCwgbmV3VmFsKTtcbiAgICB9KSk7XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlVmFsdWUodmFsdWUpIHtcbiAgICB2YXIgc2V0dGluZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIHZhciBfX3JlY3Vyc2l2ZUZhbGxiYWNrID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7XG4gICAgaWYgKHZhbHVlLmluZGV4T2YoXCJ2YXIoXCIpID09PSAtMSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHZhciB2YWx1ZURhdGEgPSBiYWxhbmNlZE1hdGNoKFwiKFwiLCBcIilcIiwgdmFsdWUpO1xuICAgIGZ1bmN0aW9uIHJlc29sdmVGdW5jKHZhbHVlKSB7XG4gICAgICAgIHZhciBuYW1lID0gdmFsdWUuc3BsaXQoXCIsXCIpWzBdLnJlcGxhY2UoL1tcXHNcXG5cXHRdL2csIFwiXCIpO1xuICAgICAgICB2YXIgZmFsbGJhY2sgPSAodmFsdWUubWF0Y2goLyg/OlxccyosXFxzKil7MX0oLiopPy8pIHx8IFtdKVsxXTtcbiAgICAgICAgdmFyIG1hdGNoID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNldHRpbmdzLnZhcmlhYmxlcywgbmFtZSkgPyBTdHJpbmcoc2V0dGluZ3MudmFyaWFibGVzW25hbWVdKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIHJlcGxhY2VtZW50ID0gbWF0Y2ggfHwgKGZhbGxiYWNrID8gU3RyaW5nKGZhbGxiYWNrKSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIHZhciB1bnJlc29sdmVkRmFsbGJhY2sgPSBfX3JlY3Vyc2l2ZUZhbGxiYWNrIHx8IHZhbHVlO1xuICAgICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgICAgICBzZXR0aW5ncy5vbldhcm5pbmcoJ3ZhcmlhYmxlIFwiJy5jb25jYXQobmFtZSwgJ1wiIGlzIHVuZGVmaW5lZCcpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVwbGFjZW1lbnQgJiYgcmVwbGFjZW1lbnQgIT09IFwidW5kZWZpbmVkXCIgJiYgcmVwbGFjZW1lbnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVWYWx1ZShyZXBsYWNlbWVudCwgc2V0dGluZ3MsIHVucmVzb2x2ZWRGYWxsYmFjayk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXCJ2YXIoXCIuY29uY2F0KHVucmVzb2x2ZWRGYWxsYmFjaywgXCIpXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghdmFsdWVEYXRhKSB7XG4gICAgICAgIGlmICh2YWx1ZS5pbmRleE9mKFwidmFyKFwiKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHNldHRpbmdzLm9uV2FybmluZygnbWlzc2luZyBjbG9zaW5nIFwiKVwiIGluIHRoZSB2YWx1ZSBcIicuY29uY2F0KHZhbHVlLCAnXCInKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0gZWxzZSBpZiAodmFsdWVEYXRhLnByZS5zbGljZSgtMykgPT09IFwidmFyXCIpIHtcbiAgICAgICAgdmFyIGlzRW1wdHlWYXJGdW5jID0gdmFsdWVEYXRhLmJvZHkudHJpbSgpLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgaWYgKGlzRW1wdHlWYXJGdW5jKSB7XG4gICAgICAgICAgICBzZXR0aW5ncy5vbldhcm5pbmcoXCJ2YXIoKSBtdXN0IGNvbnRhaW4gYSBub24td2hpdGVzcGFjZSBzdHJpbmdcIik7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWVEYXRhLnByZS5zbGljZSgwLCAtMykgKyByZXNvbHZlRnVuYyh2YWx1ZURhdGEuYm9keSkgKyByZXNvbHZlVmFsdWUodmFsdWVEYXRhLnBvc3QsIHNldHRpbmdzKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWx1ZURhdGEucHJlICsgXCIoXCIuY29uY2F0KHJlc29sdmVWYWx1ZSh2YWx1ZURhdGEuYm9keSwgc2V0dGluZ3MpLCBcIilcIikgKyByZXNvbHZlVmFsdWUodmFsdWVEYXRhLnBvc3QsIHNldHRpbmdzKTtcbiAgICB9XG59XG5cbnZhciBpc0Jyb3dzZXIgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiO1xuXG52YXIgaXNOYXRpdmVTdXBwb3J0ID0gaXNCcm93c2VyICYmIHdpbmRvdy5DU1MgJiYgd2luZG93LkNTUy5zdXBwb3J0cyAmJiB3aW5kb3cuQ1NTLnN1cHBvcnRzKFwiKC0tYTogMClcIik7XG5cbnZhciBjb3VudGVycyA9IHtcbiAgICBncm91cDogMCxcbiAgICBqb2I6IDBcbn07XG5cbnZhciBkZWZhdWx0cyA9IHtcbiAgICByb290RWxlbWVudDogaXNCcm93c2VyID8gZG9jdW1lbnQgOiBudWxsLFxuICAgIHNoYWRvd0RPTTogZmFsc2UsXG4gICAgaW5jbHVkZTogXCJzdHlsZSxsaW5rW3JlbD1zdHlsZXNoZWV0XVwiLFxuICAgIGV4Y2x1ZGU6IFwiXCIsXG4gICAgdmFyaWFibGVzOiB7fSxcbiAgICBvbmx5TGVnYWN5OiB0cnVlLFxuICAgIHByZXNlcnZlU3RhdGljOiB0cnVlLFxuICAgIHByZXNlcnZlVmFyczogZmFsc2UsXG4gICAgc2lsZW50OiBmYWxzZSxcbiAgICB1cGRhdGVET006IHRydWUsXG4gICAgdXBkYXRlVVJMczogdHJ1ZSxcbiAgICB3YXRjaDogbnVsbCxcbiAgICBvbkJlZm9yZVNlbmQ6IGZ1bmN0aW9uIG9uQmVmb3JlU2VuZCgpIHt9LFxuICAgIG9uRXJyb3I6IGZ1bmN0aW9uIG9uRXJyb3IoKSB7fSxcbiAgICBvbldhcm5pbmc6IGZ1bmN0aW9uIG9uV2FybmluZygpIHt9LFxuICAgIG9uU3VjY2VzczogZnVuY3Rpb24gb25TdWNjZXNzKCkge30sXG4gICAgb25Db21wbGV0ZTogZnVuY3Rpb24gb25Db21wbGV0ZSgpIHt9LFxuICAgIG9uRmluYWxseTogZnVuY3Rpb24gb25GaW5hbGx5KCkge31cbn07XG5cbnZhciByZWdleCA9IHtcbiAgICBjc3NDb21tZW50czogL1xcL1xcKltcXHNcXFNdKz9cXCpcXC8vZyxcbiAgICBjc3NLZXlmcmFtZXM6IC9AKD86LVxcdyotKT9rZXlmcmFtZXMvLFxuICAgIGNzc01lZGlhUXVlcmllczogL0BtZWRpYVtee10rXFx7KFtcXHNcXFNdKz99KVxccyp9L2csXG4gICAgY3NzVXJsczogL3VybFxcKCg/IVsnXCJdPyg/OmRhdGF8aHR0cHxcXC9cXC8pOilbJ1wiXT8oW14nXCIpXSopWydcIl0/XFwpL2csXG4gICAgY3NzVmFyRGVjbFJ1bGVzOiAvKD86Oig/OnJvb3R8aG9zdCkoPyFbLjojKF0pW1xccyxdKltee10qe1xccypbXn1dKn0pL2csXG4gICAgY3NzVmFyRGVjbHM6IC8oPzpbXFxzO10qKSgtezJ9XFx3W1xcdy1dKikoPzpcXHMqOlxccyopKFteO10qKTsvZyxcbiAgICBjc3NWYXJGdW5jOiAvdmFyXFwoXFxzKi0tW1xcdy1dLyxcbiAgICBjc3NWYXJzOiAvKD86KD86Oig/OnJvb3R8aG9zdCkoPyFbLjojKF0pW1xccyxdKltee10qe1xccypbXjtdKjsqXFxzKil8KD86dmFyXFwoXFxzKikpKC0tW146KV0rKSg/OlxccypbOildKS9cbn07XG5cbnZhciB2YXJpYWJsZVN0b3JlID0ge1xuICAgIGRvbToge30sXG4gICAgam9iOiB7fSxcbiAgICB1c2VyOiB7fVxufTtcblxudmFyIGNzc1ZhcnNJc1J1bm5pbmcgPSBmYWxzZTtcblxudmFyIGNzc1ZhcnNPYnNlcnZlciA9IG51bGw7XG5cbnZhciBjc3NWYXJzU3JjTm9kZUNvdW50ID0gMDtcblxudmFyIGRlYm91bmNlVGltZXIgPSBudWxsO1xuXG52YXIgaXNTaGFkb3dET01SZWFkeSA9IGZhbHNlO1xuXG4vKipcbiAqIEZldGNoZXMsIHBhcnNlcywgYW5kIHRyYW5zZm9ybXMgQ1NTIGN1c3RvbSBwcm9wZXJ0aWVzIGZyb20gc3BlY2lmaWVkXG4gKiA8c3R5bGU+IGFuZCA8bGluaz4gZWxlbWVudHMgaW50byBzdGF0aWMgdmFsdWVzLCB0aGVuIGFwcGVuZHMgYSBuZXcgPHN0eWxlPlxuICogZWxlbWVudCB3aXRoIHN0YXRpYyB2YWx1ZXMgdG8gdGhlIERPTSB0byBwcm92aWRlIENTUyBjdXN0b20gcHJvcGVydHlcbiAqIGNvbXBhdGliaWxpdHkgZm9yIGxlZ2FjeSBicm93c2Vycy4gQWxzbyBwcm92aWRlcyBhIHNpbmdsZSBpbnRlcmZhY2UgZm9yXG4gKiBsaXZlIHVwZGF0ZXMgb2YgcnVudGltZSB2YWx1ZXMgaW4gYm90aCBtb2Rlcm4gYW5kIGxlZ2FjeSBicm93c2Vycy5cbiAqXG4gKiBAcHJlc2VydmVcbiAqIEBwYXJhbSB7b2JqZWN0fSAgIFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICogQHBhcmFtIHtvYmplY3R9ICAgW29wdGlvbnMucm9vdEVsZW1lbnQ9ZG9jdW1lbnRdIFJvb3QgZWxlbWVudCB0byB0cmF2ZXJzZSBmb3JcbiAqICAgICAgICAgICAgICAgICAgIDxsaW5rPiBhbmQgPHN0eWxlPiBub2Rlc1xuICogQHBhcmFtIHtib29sZWFufSAgW29wdGlvbnMuc2hhZG93RE9NPWZhbHNlXSBEZXRlcm1pbmVzIGlmIHNoYWRvdyBET00gPGxpbms+XG4gKiAgICAgICAgICAgICAgICAgICBhbmQgPHN0eWxlPiBub2RlcyB3aWxsIGJlIHByb2Nlc3NlZC5cbiAqIEBwYXJhbSB7c3RyaW5nfSAgIFtvcHRpb25zLmluY2x1ZGU9XCJzdHlsZSxsaW5rW3JlbD1zdHlsZXNoZWV0XVwiXSBDU1Mgc2VsZWN0b3JcbiAqICAgICAgICAgICAgICAgICAgIG1hdGNoaW5nIDxsaW5rIHJlPVwic3R5bGVzaGVldFwiPiBhbmQgPHN0eWxlPiBub2RlcyB0b1xuICogICAgICAgICAgICAgICAgICAgcHJvY2Vzc1xuICogQHBhcmFtIHtzdHJpbmd9ICAgW29wdGlvbnMuZXhjbHVkZV0gQ1NTIHNlbGVjdG9yIG1hdGNoaW5nIDxsaW5rXG4gKiAgICAgICAgICAgICAgICAgICByZWw9XCJzdHlsZWhzZWV0XCI+IGFuZCA8c3R5bGU+IG5vZGVzIHRvIGV4Y2x1ZGUgZnJvbSB0aG9zZVxuICogICAgICAgICAgICAgICAgICAgbWF0Y2hlcyBieSBvcHRpb25zLmluY2x1ZGVcbiAqIEBwYXJhbSB7b2JqZWN0fSAgIFtvcHRpb25zLnZhcmlhYmxlc10gQSBtYXAgb2YgY3VzdG9tIHByb3BlcnR5IG5hbWUvdmFsdWVcbiAqICAgICAgICAgICAgICAgICAgIHBhaXJzLiBQcm9wZXJ0eSBuYW1lcyBjYW4gb21pdCBvciBpbmNsdWRlIHRoZSBsZWFkaW5nXG4gKiAgICAgICAgICAgICAgICAgICBkb3VibGUtaHlwaGVuICjigJQpLCBhbmQgdmFsdWVzIHNwZWNpZmllZCB3aWxsIG92ZXJyaWRlXG4gKiAgICAgICAgICAgICAgICAgICBwcmV2aW91cyB2YWx1ZXNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gIFtvcHRpb25zLm9ubHlMZWdhY3k9dHJ1ZV0gRGV0ZXJtaW5lcyBpZiB0aGUgcG9ueWZpbGwgd2lsbFxuICogICAgICAgICAgICAgICAgICAgb25seSBnZW5lcmF0ZSBsZWdhY3ktY29tcGF0aWJsZSBDU1MgaW4gYnJvd3NlcnMgdGhhdCBsYWNrXG4gKiAgICAgICAgICAgICAgICAgICBuYXRpdmUgc3VwcG9ydCAoaS5lLiwgbGVnYWN5IGJyb3dzZXJzKVxuICogQHBhcmFtIHtib29sZWFufSAgW29wdGlvbnMucHJlc2VydmVTdGF0aWM9dHJ1ZV0gRGV0ZXJtaW5lcyBpZiBDU1NcbiAqICAgICAgICAgICAgICAgICAgIGRlY2xhcmF0aW9ucyB0aGF0IGRvIG5vdCByZWZlcmVuY2UgYSBjdXN0b20gcHJvcGVydHkgd2lsbFxuICogICAgICAgICAgICAgICAgICAgYmUgcHJlc2VydmVkIGluIHRoZSB0cmFuc2Zvcm1lZCBDU1NcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gIFtvcHRpb25zLnByZXNlcnZlVmFycz1mYWxzZV0gRGV0ZXJtaW5lcyBpZiBDU1MgY3VzdG9tXG4gKiAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgd2lsbCBiZSBwcmVzZXJ2ZWQgaW4gdGhlIHRyYW5zZm9ybWVkXG4gKiAgICAgICAgICAgICAgICAgICBDU1NcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gIFtvcHRpb25zLnNpbGVudD1mYWxzZV0gRGV0ZXJtaW5lcyBpZiB3YXJuaW5nIGFuZCBlcnJvclxuICogICAgICAgICAgICAgICAgICAgbWVzc2FnZXMgd2lsbCBiZSBkaXNwbGF5ZWQgb24gdGhlIGNvbnNvbGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gIFtvcHRpb25zLnVwZGF0ZURPTT10cnVlXSBEZXRlcm1pbmVzIGlmIHRoZSBwb255ZmlsbCB3aWxsXG4gKiAgICAgICAgICAgICAgICAgICB1cGRhdGUgdGhlIERPTSBhZnRlciBwcm9jZXNzaW5nIENTUyBjdXN0b20gcHJvcGVydGllc1xuICogQHBhcmFtIHtib29sZWFufSAgW29wdGlvbnMudXBkYXRlVVJMcz10cnVlXSBEZXRlcm1pbmVzIGlmIHJlbGF0aXZlIHVybCgpXG4gKiAgICAgICAgICAgICAgICAgICBwYXRocyB3aWxsIGJlIGNvbnZlcnRlZCB0byBhYnNvbHV0ZSB1cmxzIGluIGV4dGVybmFsIENTU1xuICogQHBhcmFtIHtib29sZWFufSAgW29wdGlvbnMud2F0Y2g9ZmFsc2VdIERldGVybWluZXMgaWYgYSBNdXRhdGlvbk9ic2VydmVyIHdpbGxcbiAqICAgICAgICAgICAgICAgICAgIGJlIGNyZWF0ZWQgdGhhdCB3aWxsIGV4ZWN1dGUgdGhlIHBvbnlmaWxsIHdoZW4gYSA8bGluaz4gb3JcbiAqICAgICAgICAgICAgICAgICAgIDxzdHlsZT4gRE9NIG11dGF0aW9uIGlzIG9ic2VydmVkXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbb3B0aW9ucy5vbkJlZm9yZVNlbmRdIENhbGxiYWNrIGJlZm9yZSBYSFIgaXMgc2VudC4gUGFzc2VzXG4gKiAgICAgICAgICAgICAgICAgICAxKSB0aGUgWEhSIG9iamVjdCwgMikgc291cmNlIG5vZGUgcmVmZXJlbmNlLCBhbmQgMykgdGhlXG4gKiAgICAgICAgICAgICAgICAgICBzb3VyY2UgVVJMIGFzIGFyZ3VtZW50c1xuICogQHBhcmFtIHtmdW5jdGlvbn0gW29wdGlvbnMub25FcnJvcl0gQ2FsbGJhY2sgYWZ0ZXIgYSBDU1MgcGFyc2luZyBlcnJvciBoYXNcbiAqICAgICAgICAgICAgICAgICAgIG9jY3VycmVkIG9yIGFuIFhIUiByZXF1ZXN0IGhhcyBmYWlsZWQuIFBhc3NlcyAxKSBhbiBlcnJvclxuICogICAgICAgICAgICAgICAgICAgbWVzc2FnZSwgYW5kIDIpIHNvdXJjZSBub2RlIHJlZmVyZW5jZSwgMykgeGhyLCBhbmQgNCB1cmwgYXNcbiAqICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50cy5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IFtvcHRpb25zLm9uV2FybmluZ10gQ2FsbGJhY2sgYWZ0ZXIgZWFjaCBDU1MgcGFyc2luZyB3YXJuaW5nXG4gKiAgICAgICAgICAgICAgICAgICBoYXMgb2NjdXJyZWQuIFBhc3NlcyAxKSBhIHdhcm5pbmcgbWVzc2FnZSBhcyBhbiBhcmd1bWVudC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IFtvcHRpb25zLm9uU3VjY2Vzc10gQ2FsbGJhY2sgYWZ0ZXIgQ1NTIGRhdGEgaGFzIGJlZW5cbiAqICAgICAgICAgICAgICAgICAgIGNvbGxlY3RlZCBmcm9tIGVhY2ggbm9kZSBhbmQgYmVmb3JlIENTUyBjdXN0b20gcHJvcGVydGllc1xuICogICAgICAgICAgICAgICAgICAgaGF2ZSBiZWVuIHRyYW5zZm9ybWVkLiBBbGxvd3MgbW9kaWZ5aW5nIHRoZSBDU1MgZGF0YSBiZWZvcmVcbiAqICAgICAgICAgICAgICAgICAgIGl0IGlzIHRyYW5zZm9ybWVkIGJ5IHJldHVybmluZyBhbnkgc3RyaW5nIHZhbHVlIChvciBmYWxzZVxuICogICAgICAgICAgICAgICAgICAgdG8gc2tpcCkuIFBhc3NlcyAxKSBDU1MgdGV4dCwgMikgc291cmNlIG5vZGUgcmVmZXJlbmNlLCBhbmRcbiAqICAgICAgICAgICAgICAgICAgIDMpIHRoZSBzb3VyY2UgVVJMIGFzIGFyZ3VtZW50cy5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IFtvcHRpb25zLm9uQ29tcGxldGVdIENhbGxiYWNrIGFmdGVyIGFsbCBDU1MgaGFzIGJlZW5cbiAqICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZCwgbGVnYWN5LWNvbXBhdGlibGUgQ1NTIGhhcyBiZWVuIGdlbmVyYXRlZCwgYW5kXG4gKiAgICAgICAgICAgICAgICAgICAob3B0aW9uYWxseSkgdGhlIERPTSBoYXMgYmVlbiB1cGRhdGVkLiBQYXNzZXMgMSkgYSBDU1NcbiAqICAgICAgICAgICAgICAgICAgIHN0cmluZyB3aXRoIENTUyB2YXJpYWJsZSB2YWx1ZXMgcmVzb2x2ZWQsIDIpIGFuIGFycmF5IG9mXG4gKiAgICAgICAgICAgICAgICAgICBvdXRwdXQgPHN0eWxlPiBub2RlIHJlZmVyZW5jZXMgdGhhdCBoYXZlIGJlZW4gYXBwZW5kZWQgdG9cbiAqICAgICAgICAgICAgICAgICAgIHRoZSBET00sIDMpIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCBjdXN0b20gcHJvcGVyaWVzIG5hbWVzXG4gKiAgICAgICAgICAgICAgICAgICBhbmQgdmFsdWVzLCBhbmQgNCkgdGhlIHBvbnlmaWxsIGV4ZWN1dGlvbiB0aW1lIGluXG4gKiAgICAgICAgICAgICAgICAgICBtaWxsaXNlY29uZHMuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbb3B0aW9ucy5vbkZpbmFsbHldIENhbGxiYWNrIGluIG1vZGVybiBhbmQgbGVnYWN5IGJyb3dzZXJzXG4gKiAgICAgICAgICAgICAgICAgICBhZnRlciB0aGUgcG9ueWZpbGwgaGFzIGZpbmlzaGVkIGFsbCB0YXNrcy4gUGFzc2VzIDEpIGFcbiAqICAgICAgICAgICAgICAgICAgIGJvb2xlYW4gaW5kaWNhdGluZyBpZiB0aGUgbGFzdCBwb255ZmlsbCBjYWxsIHJlc3VsdGVkIGluIGFcbiAqICAgICAgICAgICAgICAgICAgIHN0eWxlIGNoYW5nZSwgMikgYSBib29sZWFuIGluZGljYXRpbmcgaWYgdGhlIGN1cnJlbnRcbiAqICAgICAgICAgICAgICAgICAgIGJyb3dzZXIgcHJvdmlkZXMgbmF0aXZlIHN1cHBvcnQgZm9yIENTUyBjdXN0b20gcHJvcGVydGllcyxcbiAqICAgICAgICAgICAgICAgICAgIGFuZCAzKSB0aGUgcG9ueWZpbGwgZXhlY3V0aW9uIHRpbWUgaW4gbWlsbGlzZWNvbmRzLlxuICogQGV4YW1wbGVcbiAqXG4gKiAgIGNzc1ZhcnMoe1xuICogICAgIHJvb3RFbGVtZW50ICAgOiBkb2N1bWVudCxcbiAqICAgICBzaGFkb3dET00gICAgIDogZmFsc2UsXG4gKiAgICAgaW5jbHVkZSAgICAgICA6ICdzdHlsZSxsaW5rW3JlbD1cInN0eWxlc2hlZXRcIl0nLFxuICogICAgIGV4Y2x1ZGUgICAgICAgOiAnJyxcbiAqICAgICB2YXJpYWJsZXMgICAgIDoge30sXG4gKiAgICAgb25seUxlZ2FjeSAgICA6IHRydWUsXG4gKiAgICAgcHJlc2VydmVTdGF0aWM6IHRydWUsXG4gKiAgICAgcHJlc2VydmVWYXJzICA6IGZhbHNlLFxuICogICAgIHNpbGVudCAgICAgICAgOiBmYWxzZSxcbiAqICAgICB1cGRhdGVET00gICAgIDogdHJ1ZSxcbiAqICAgICB1cGRhdGVVUkxzICAgIDogdHJ1ZSxcbiAqICAgICB3YXRjaCAgICAgICAgIDogZmFsc2UsXG4gKiAgICAgb25CZWZvcmVTZW5kKHhociwgbm9kZSwgdXJsKSB7fSxcbiAqICAgICBvbkVycm9yKG1lc3NhZ2UsIG5vZGUsIHhociwgdXJsKSB7fSxcbiAqICAgICBvbldhcm5pbmcobWVzc2FnZSkge30sXG4gKiAgICAgb25TdWNjZXNzKGNzc1RleHQsIG5vZGUsIHVybCkge30sXG4gKiAgICAgb25Db21wbGV0ZShjc3NUZXh0LCBzdHlsZU5vZGUsIGNzc1ZhcmlhYmxlcywgYmVuY2htYXJrKSB7fSxcbiAqICAgICBvbkZpbmFsbHkoaGFzQ2hhbmdlZCwgaGFzTmF0aXZlU3VwcG9ydCwgYmVuY2htYXJrKVxuICogICB9KTtcbiAqLyBmdW5jdGlvbiBjc3NWYXJzKCkge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICB2YXIgbXNnUHJlZml4ID0gXCJjc3NWYXJzKCk6IFwiO1xuICAgIHZhciBzZXR0aW5ncyA9IF9leHRlbmRzKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgZnVuY3Rpb24gaGFuZGxlRXJyb3IobWVzc2FnZSwgc291cmNlTm9kZSwgeGhyLCB1cmwpIHtcbiAgICAgICAgaWYgKCFzZXR0aW5ncy5zaWxlbnQgJiYgd2luZG93LmNvbnNvbGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJcIi5jb25jYXQobXNnUHJlZml4KS5jb25jYXQobWVzc2FnZSwgXCJcXG5cIiksIHNvdXJjZU5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHNldHRpbmdzLm9uRXJyb3IobWVzc2FnZSwgc291cmNlTm9kZSwgeGhyLCB1cmwpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVXYXJuaW5nKG1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKCFzZXR0aW5ncy5zaWxlbnQgJiYgd2luZG93LmNvbnNvbGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlwiLmNvbmNhdChtc2dQcmVmaXgpLmNvbmNhdChtZXNzYWdlKSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0dGluZ3Mub25XYXJuaW5nKG1lc3NhZ2UpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVGaW5hbGx5KGhhc0NoYW5nZWQpIHtcbiAgICAgICAgc2V0dGluZ3Mub25GaW5hbGx5KEJvb2xlYW4oaGFzQ2hhbmdlZCksIGlzTmF0aXZlU3VwcG9ydCwgZ2V0VGltZVN0YW1wKCkgLSBzZXR0aW5ncy5fX2JlbmNobWFyayk7XG4gICAgfVxuICAgIGlmICghaXNCcm93c2VyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNldHRpbmdzLndhdGNoKSB7XG4gICAgICAgIHNldHRpbmdzLndhdGNoID0gZGVmYXVsdHMud2F0Y2g7XG4gICAgICAgIGFkZE11dGF0aW9uT2JzZXJ2ZXIoc2V0dGluZ3MpO1xuICAgICAgICBjc3NWYXJzKHNldHRpbmdzKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAoc2V0dGluZ3Mud2F0Y2ggPT09IGZhbHNlICYmIGNzc1ZhcnNPYnNlcnZlcikge1xuICAgICAgICBjc3NWYXJzT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICBjc3NWYXJzT2JzZXJ2ZXIgPSBudWxsO1xuICAgIH1cbiAgICBpZiAoIXNldHRpbmdzLl9fYmVuY2htYXJrKSB7XG4gICAgICAgIGlmIChjc3NWYXJzSXNSdW5uaW5nID09PSBzZXR0aW5ncy5yb290RWxlbWVudCkge1xuICAgICAgICAgICAgY3NzVmFyc0RlYm91bmNlZChvcHRpb25zKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3JjTm9kZXMgPSBBcnJheS5hcHBseShudWxsLCBzZXR0aW5ncy5yb290RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jc3N2YXJzXTpub3QoW2RhdGEtY3NzdmFycz1cIm91dFwiXSknKSk7XG4gICAgICAgIHNldHRpbmdzLl9fYmVuY2htYXJrID0gZ2V0VGltZVN0YW1wKCk7XG4gICAgICAgIHNldHRpbmdzLmV4Y2x1ZGUgPSBbIGNzc1ZhcnNPYnNlcnZlciA/ICdbZGF0YS1jc3N2YXJzXTpub3QoW2RhdGEtY3NzdmFycz1cIlwiXSknIDogJ1tkYXRhLWNzc3ZhcnM9XCJvdXRcIl0nLCBcImxpbmtbZGlzYWJsZWRdXCIsIHNldHRpbmdzLmV4Y2x1ZGUgXS5maWx0ZXIoKGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZWN0b3I7XG4gICAgICAgIH0pKS5qb2luKFwiLFwiKTtcbiAgICAgICAgc2V0dGluZ3MudmFyaWFibGVzID0gZml4VmFyTmFtZXMoc2V0dGluZ3MudmFyaWFibGVzKTtcbiAgICAgICAgc3JjTm9kZXMuZm9yRWFjaCgoZnVuY3Rpb24oc3JjTm9kZSkge1xuICAgICAgICAgICAgdmFyIGhhc1N0eWxlQ2FjaGUgPSBzcmNOb2RlLnRhZ05hbWUgPT09IFwiU1RZTEVcIiAmJiBzcmNOb2RlLl9fY3NzVmFycy50ZXh0O1xuICAgICAgICAgICAgdmFyIGhhc1N0eWxlQ2hhbmdlZCA9IGhhc1N0eWxlQ2FjaGUgJiYgc3JjTm9kZS50ZXh0Q29udGVudCAhPT0gc3JjTm9kZS5fX2Nzc1ZhcnMudGV4dDtcbiAgICAgICAgICAgIGlmIChoYXNTdHlsZUNhY2hlICYmIGhhc1N0eWxlQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIHNyY05vZGUuc2hlZXQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzcmNOb2RlLnNldEF0dHJpYnV0ZShcImRhdGEtY3NzdmFyc1wiLCBcIlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICBpZiAoIWNzc1ZhcnNPYnNlcnZlcikge1xuICAgICAgICAgICAgdmFyIG91dE5vZGVzID0gQXJyYXkuYXBwbHkobnVsbCwgc2V0dGluZ3Mucm9vdEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY3NzdmFycz1cIm91dFwiXScpKTtcbiAgICAgICAgICAgIG91dE5vZGVzLmZvckVhY2goKGZ1bmN0aW9uKG91dE5vZGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YUdyb3VwID0gb3V0Tm9kZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNzc3ZhcnMtZ3JvdXBcIik7XG4gICAgICAgICAgICAgICAgdmFyIHNyY05vZGUgPSBkYXRhR3JvdXAgPyBzZXR0aW5ncy5yb290RWxlbWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jc3N2YXJzPVwic3JjXCJdW2RhdGEtY3NzdmFycy1ncm91cD1cIicuY29uY2F0KGRhdGFHcm91cCwgJ1wiXScpKSA6IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKCFzcmNOb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dE5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvdXROb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBpZiAoY3NzVmFyc1NyY05vZGVDb3VudCAmJiBzcmNOb2Rlcy5sZW5ndGggPCBjc3NWYXJzU3JjTm9kZUNvdW50KSB7XG4gICAgICAgICAgICAgICAgY3NzVmFyc1NyY05vZGVDb3VudCA9IHNyY05vZGVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB2YXJpYWJsZVN0b3JlLmRvbSA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlICE9PSBcImxvYWRpbmdcIikge1xuICAgICAgICBpZiAoaXNOYXRpdmVTdXBwb3J0ICYmIHNldHRpbmdzLm9ubHlMZWdhY3kpIHtcbiAgICAgICAgICAgIHZhciBoYXNWYXJDaGFuZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy51cGRhdGVET00pIHtcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0RWxtID0gc2V0dGluZ3Mucm9vdEVsZW1lbnQuaG9zdCB8fCAoc2V0dGluZ3Mucm9vdEVsZW1lbnQgPT09IGRvY3VtZW50ID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IDogc2V0dGluZ3Mucm9vdEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHNldHRpbmdzLnZhcmlhYmxlcykuZm9yRWFjaCgoZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YXJWYWx1ZSA9IHNldHRpbmdzLnZhcmlhYmxlc1trZXldO1xuICAgICAgICAgICAgICAgICAgICBoYXNWYXJDaGFuZ2UgPSBoYXNWYXJDaGFuZ2UgfHwgdmFyVmFsdWUgIT09IGdldENvbXB1dGVkU3R5bGUodGFyZ2V0RWxtKS5nZXRQcm9wZXJ0eVZhbHVlKGtleSk7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldEVsbS5zdHlsZS5zZXRQcm9wZXJ0eShrZXksIHZhclZhbHVlKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoYW5kbGVGaW5hbGx5KGhhc1ZhckNoYW5nZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzU2hhZG93RE9NUmVhZHkgJiYgKHNldHRpbmdzLnNoYWRvd0RPTSB8fCBzZXR0aW5ncy5yb290RWxlbWVudC5zaGFkb3dSb290IHx8IHNldHRpbmdzLnJvb3RFbGVtZW50Lmhvc3QpKSB7XG4gICAgICAgICAgICBnZXRDc3NEYXRhKHtcbiAgICAgICAgICAgICAgICByb290RWxlbWVudDogZGVmYXVsdHMucm9vdEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgaW5jbHVkZTogZGVmYXVsdHMuaW5jbHVkZSxcbiAgICAgICAgICAgICAgICBleGNsdWRlOiBzZXR0aW5ncy5leGNsdWRlLFxuICAgICAgICAgICAgICAgIHNraXBEaXNhYmxlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgb25TdWNjZXNzOiBmdW5jdGlvbiBvblN1Y2Nlc3MoY3NzVGV4dCwgbm9kZSwgdXJsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNzc1RleHQgPSBjc3NUZXh0LnJlcGxhY2UocmVnZXguY3NzQ29tbWVudHMsIFwiXCIpLnJlcGxhY2UocmVnZXguY3NzTWVkaWFRdWVyaWVzLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgY3NzVGV4dCA9IChjc3NUZXh0Lm1hdGNoKHJlZ2V4LmNzc1ZhckRlY2xSdWxlcykgfHwgW10pLmpvaW4oXCJcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjc3NUZXh0IHx8IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gb25Db21wbGV0ZShjc3NUZXh0LCBjc3NBcnJheSwgbm9kZUFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlVmFycyhjc3NUZXh0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9yZTogdmFyaWFibGVTdG9yZS5kb20sXG4gICAgICAgICAgICAgICAgICAgICAgICBvbldhcm5pbmc6IGhhbmRsZVdhcm5pbmdcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlzU2hhZG93RE9NUmVhZHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjc3NWYXJzKHNldHRpbmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNzc1ZhcnNJc1J1bm5pbmcgPSBzZXR0aW5ncy5yb290RWxlbWVudDtcbiAgICAgICAgICAgIGdldENzc0RhdGEoe1xuICAgICAgICAgICAgICAgIHJvb3RFbGVtZW50OiBzZXR0aW5ncy5yb290RWxlbWVudCxcbiAgICAgICAgICAgICAgICBpbmNsdWRlOiBzZXR0aW5ncy5pbmNsdWRlLFxuICAgICAgICAgICAgICAgIGV4Y2x1ZGU6IHNldHRpbmdzLmV4Y2x1ZGUsXG4gICAgICAgICAgICAgICAgc2tpcERpc2FibGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBvbkJlZm9yZVNlbmQ6IHNldHRpbmdzLm9uQmVmb3JlU2VuZCxcbiAgICAgICAgICAgICAgICBvbkVycm9yOiBmdW5jdGlvbiBvbkVycm9yKHhociwgbm9kZSwgdXJsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXNwb25zZVVybCA9IHhoci5yZXNwb25zZVVSTCB8fCBnZXRGdWxsVXJsJDEodXJsLCBsb2NhdGlvbi5ocmVmKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXR1c1RleHQgPSB4aHIuc3RhdHVzVGV4dCA/IFwiKFwiLmNvbmNhdCh4aHIuc3RhdHVzVGV4dCwgXCIpXCIpIDogXCJVbnNwZWNpZmllZCBFcnJvclwiICsgKHhoci5zdGF0dXMgPT09IDAgPyBcIiAocG9zc2libHkgQ09SUyByZWxhdGVkKVwiIDogXCJcIik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlcnJvck1zZyA9IFwiQ1NTIFhIUiBFcnJvcjogXCIuY29uY2F0KHJlc3BvbnNlVXJsLCBcIiBcIikuY29uY2F0KHhoci5zdGF0dXMsIFwiIFwiKS5jb25jYXQoc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKGVycm9yTXNnLCBub2RlLCB4aHIsIHJlc3BvbnNlVXJsKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uU3VjY2VzczogZnVuY3Rpb24gb25TdWNjZXNzKGNzc1RleHQsIG5vZGUsIHVybCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXNMaW5rID0gbm9kZS50YWdOYW1lID09PSBcIkxJTktcIjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlzU3R5bGVJbXBvcnQgPSBub2RlLnRhZ05hbWUgPT09IFwiU1RZTEVcIiAmJiBjc3NUZXh0ICE9PSBub2RlLnRleHRDb250ZW50O1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dXJuVmFsID0gc2V0dGluZ3Mub25TdWNjZXNzKGNzc1RleHQsIG5vZGUsIHVybCk7XG4gICAgICAgICAgICAgICAgICAgIGNzc1RleHQgPSByZXR1cm5WYWwgIT09IHVuZGVmaW5lZCAmJiBCb29sZWFuKHJldHVyblZhbCkgPT09IGZhbHNlID8gXCJcIiA6IHJldHVyblZhbCB8fCBjc3NUZXh0O1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3MudXBkYXRlVVJMcyAmJiAoaXNMaW5rIHx8IGlzU3R5bGVJbXBvcnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjc3NUZXh0ID0gZml4UmVsYXRpdmVDc3NVcmxzKGNzc1RleHQsIHVybCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNzc1RleHQ7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiBvbkNvbXBsZXRlKGNzc1RleHQsIGNzc0FycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBub2RlQXJyYXkgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IFtdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudFZhcnMgPSBfZXh0ZW5kcyh7fSwgdmFyaWFibGVTdG9yZS5kb20sIHZhcmlhYmxlU3RvcmUudXNlcik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoYXNWYXJDaGFuZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVTdG9yZS5qb2IgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgbm9kZUFycmF5LmZvckVhY2goKGZ1bmN0aW9uKG5vZGUsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub2RlQ1NTID0gY3NzQXJyYXlbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLl9fY3NzVmFycyA9IG5vZGUuX19jc3NWYXJzIHx8IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5fX2Nzc1ZhcnMudGV4dCA9IG5vZGVDU1M7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVnZXguY3NzVmFycy50ZXN0KG5vZGVDU1MpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNzc1RyZWUgPSBwYXJzZUNzcyhub2RlQ1NTLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVzZXJ2ZVN0YXRpYzogc2V0dGluZ3MucHJlc2VydmVTdGF0aWMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVDb21tZW50czogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VWYXJzKGNzc1RyZWUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlSG9zdDogQm9vbGVhbihzZXR0aW5ncy5yb290RWxlbWVudC5ob3N0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlOiB2YXJpYWJsZVN0b3JlLmRvbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uV2FybmluZzogaGFuZGxlV2FybmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5fX2Nzc1ZhcnMudHJlZSA9IGNzc1RyZWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKGVyci5tZXNzYWdlLCBub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgX2V4dGVuZHModmFyaWFibGVTdG9yZS5qb2IsIHZhcmlhYmxlU3RvcmUuZG9tKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzLnVwZGF0ZURPTSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2V4dGVuZHModmFyaWFibGVTdG9yZS51c2VyLCBzZXR0aW5ncy52YXJpYWJsZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2V4dGVuZHModmFyaWFibGVTdG9yZS5qb2IsIHZhcmlhYmxlU3RvcmUudXNlcik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZXh0ZW5kcyh2YXJpYWJsZVN0b3JlLmpvYiwgdmFyaWFibGVTdG9yZS51c2VyLCBzZXR0aW5ncy52YXJpYWJsZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2V4dGVuZHMoY3VycmVudFZhcnMsIHNldHRpbmdzLnZhcmlhYmxlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaGFzVmFyQ2hhbmdlID0gY291bnRlcnMuam9iID4gMCAmJiBCb29sZWFuKE9iamVjdC5rZXlzKHZhcmlhYmxlU3RvcmUuam9iKS5sZW5ndGggPiBPYmplY3Qua2V5cyhjdXJyZW50VmFycykubGVuZ3RoIHx8IEJvb2xlYW4oT2JqZWN0LmtleXMoY3VycmVudFZhcnMpLmxlbmd0aCAmJiBPYmplY3Qua2V5cyh2YXJpYWJsZVN0b3JlLmpvYikuc29tZSgoZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFyaWFibGVTdG9yZS5qb2Jba2V5XSAhPT0gY3VycmVudFZhcnNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfSkpKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXNWYXJDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0Q3NzTm9kZXMoc2V0dGluZ3Mucm9vdEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3NzVmFycyhzZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3V0Q3NzQXJyYXkgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvdXROb2RlQXJyYXkgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoYXNLZXlmcmFtZXNXaXRoVmFycyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzLnVwZGF0ZURPTSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50ZXJzLmpvYisrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZUFycmF5LmZvckVhY2goKGZ1bmN0aW9uKG5vZGUsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNTa2lwID0gIW5vZGUuX19jc3NWYXJzLnRyZWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUuX19jc3NWYXJzLnRyZWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybUNzcyhub2RlLl9fY3NzVmFycy50cmVlLCBfZXh0ZW5kcyh7fSwgc2V0dGluZ3MsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZXM6IHZhcmlhYmxlU3RvcmUuam9iLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uV2FybmluZzogaGFuZGxlV2FybmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG91dENzcyA9IHN0cmluZ2lmeUNzcyhub2RlLl9fY3NzVmFycy50cmVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncy51cGRhdGVET00pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZUNTUyA9IGNzc0FycmF5W2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoYXNDU1NWYXJGdW5jID0gcmVnZXguY3NzVmFyRnVuYy50ZXN0KG5vZGVDU1MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbm9kZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNzc3ZhcnNcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNzc3ZhcnNcIiwgXCJzcmNcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvdXRDc3MubGVuZ3RoICYmIGhhc0NTU1ZhckZ1bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFHcm91cCA9IG5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1jc3N2YXJzLWdyb3VwXCIpIHx8ICsrY291bnRlcnMuZ3JvdXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvdXRDc3NOb1NwYWNlcyA9IG91dENzcy5yZXBsYWNlKC9cXHMvZywgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvdXROb2RlID0gc2V0dGluZ3Mucm9vdEVsZW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY3NzdmFycz1cIm91dFwiXVtkYXRhLWNzc3ZhcnMtZ3JvdXA9XCInLmNvbmNhdChkYXRhR3JvdXAsICdcIl0nKSkgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNLZXlmcmFtZXNXaXRoVmFycyA9IGhhc0tleWZyYW1lc1dpdGhWYXJzIHx8IHJlZ2V4LmNzc0tleWZyYW1lcy50ZXN0KG91dENzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncy5wcmVzZXJ2ZVN0YXRpYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zaGVldC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvdXROb2RlLmhhc0F0dHJpYnV0ZShcImRhdGEtY3NzdmFyc1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0Tm9kZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNzc3ZhcnNcIiwgXCJvdXRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG91dENzc05vU3BhY2VzID09PSBub2RlLnRleHRDb250ZW50LnJlcGxhY2UoL1xccy9nLCBcIlwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTa2lwID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvdXROb2RlICYmIG91dE5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1jc3N2YXJzLWdyb3VwXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dE5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvdXROb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvdXRDc3NOb1NwYWNlcyAhPT0gb3V0Tm9kZS50ZXh0Q29udGVudC5yZXBsYWNlKC9cXHMvZywgXCJcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsgbm9kZSwgb3V0Tm9kZSBdLmZvckVhY2goKGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuLnNldEF0dHJpYnV0ZShcImRhdGEtY3NzdmFycy1qb2JcIiwgY291bnRlcnMuam9iKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuLnNldEF0dHJpYnV0ZShcImRhdGEtY3NzdmFycy1ncm91cFwiLCBkYXRhR3JvdXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0Tm9kZS50ZXh0Q29udGVudCA9IG91dENzcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dENzc0FycmF5LnB1c2gob3V0Q3NzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dE5vZGVBcnJheS5wdXNoKG91dE5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvdXROb2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG91dE5vZGUsIG5vZGUubmV4dFNpYmxpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS50ZXh0Q29udGVudC5yZXBsYWNlKC9cXHMvZywgXCJcIikgIT09IG91dENzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRDc3NBcnJheS5wdXNoKG91dENzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKGVyci5tZXNzYWdlLCBub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNTa2lwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKFwiZGF0YS1jc3N2YXJzXCIsIFwic2tpcFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFub2RlLmhhc0F0dHJpYnV0ZShcImRhdGEtY3NzdmFycy1qb2JcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNzc3ZhcnMtam9iXCIsIGNvdW50ZXJzLmpvYik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3NzVmFyc1NyY05vZGVDb3VudCA9IHNldHRpbmdzLnJvb3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNzc3ZhcnNdOm5vdChbZGF0YS1jc3N2YXJzPVwib3V0XCJdKScpLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncy5zaGFkb3dET00pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxtcyA9IFtdLmNvbmNhdChzZXR0aW5ncy5yb290RWxlbWVudCkuY29uY2F0KEFycmF5LmFwcGx5KG51bGwsIHNldHRpbmdzLnJvb3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIqXCIpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGVsbTsgZWxtID0gZWxtc1tpXTsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbG0uc2hhZG93Um9vdCAmJiBlbG0uc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKFwic3R5bGVcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaGFkb3dTZXR0aW5ncyA9IF9leHRlbmRzKHt9LCBzZXR0aW5ncywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvb3RFbGVtZW50OiBlbG0uc2hhZG93Um9vdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3NWYXJzKHNoYWRvd1NldHRpbmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncy51cGRhdGVET00gJiYgaGFzS2V5ZnJhbWVzV2l0aFZhcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXhLZXlmcmFtZXMoc2V0dGluZ3Mucm9vdEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY3NzVmFyc0lzUnVubmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3Mub25Db21wbGV0ZShvdXRDc3NBcnJheS5qb2luKFwiXCIpLCBvdXROb2RlQXJyYXksIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodmFyaWFibGVTdG9yZS5qb2IpKSwgZ2V0VGltZVN0YW1wKCkgLSBzZXR0aW5ncy5fX2JlbmNobWFyayk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVGaW5hbGx5KG91dE5vZGVBcnJheS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoZnVuY3Rpb24gaW5pdChldnQpIHtcbiAgICAgICAgICAgIGNzc1ZhcnMob3B0aW9ucyk7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBpbml0KTtcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cblxuY3NzVmFycy5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICAgIGNvdW50ZXJzLmpvYiA9IDA7XG4gICAgY291bnRlcnMuZ3JvdXAgPSAwO1xuICAgIGNzc1ZhcnNJc1J1bm5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3NzVmFyc09ic2VydmVyKSB7XG4gICAgICAgIGNzc1ZhcnNPYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgIGNzc1ZhcnNPYnNlcnZlciA9IG51bGw7XG4gICAgfVxuICAgIGNzc1ZhcnNTcmNOb2RlQ291bnQgPSAwO1xuICAgIGRlYm91bmNlVGltZXIgPSBudWxsO1xuICAgIGlzU2hhZG93RE9NUmVhZHkgPSBmYWxzZTtcbiAgICBmb3IgKHZhciBwcm9wIGluIHZhcmlhYmxlU3RvcmUpIHtcbiAgICAgICAgdmFyaWFibGVTdG9yZVtwcm9wXSA9IHt9O1xuICAgIH1cbn07XG5cbmZ1bmN0aW9uIGFkZE11dGF0aW9uT2JzZXJ2ZXIoc2V0dGluZ3MpIHtcbiAgICBmdW5jdGlvbiBpc0Rpc2FibGVkKG5vZGUpIHtcbiAgICAgICAgdmFyIGlzRGlzYWJsZWRBdHRyID0gaXNMaW5rKG5vZGUpICYmIG5vZGUuaGFzQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gICAgICAgIHZhciBpc0Rpc2FibGVkU2hlZXQgPSAobm9kZS5zaGVldCB8fCB7fSkuZGlzYWJsZWQ7XG4gICAgICAgIHJldHVybiBpc0Rpc2FibGVkQXR0ciB8fCBpc0Rpc2FibGVkU2hlZXQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzTGluayhub2RlKSB7XG4gICAgICAgIHZhciBpc1N0eWxlc2hlZXQgPSBub2RlLnRhZ05hbWUgPT09IFwiTElOS1wiICYmIChub2RlLmdldEF0dHJpYnV0ZShcInJlbFwiKSB8fCBcIlwiKS5pbmRleE9mKFwic3R5bGVzaGVldFwiKSAhPT0gLTE7XG4gICAgICAgIHJldHVybiBpc1N0eWxlc2hlZXQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzU3R5bGUobm9kZSkge1xuICAgICAgICByZXR1cm4gbm9kZS50YWdOYW1lID09PSBcIlNUWUxFXCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzVmFsaWRBdHRyaWJ1dGVNdXRhdGlvbihtdXRhdGlvbikge1xuICAgICAgICB2YXIgaXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICBpZiAobXV0YXRpb24udHlwZSA9PT0gXCJhdHRyaWJ1dGVzXCIgJiYgaXNMaW5rKG11dGF0aW9uLnRhcmdldCkgJiYgIWlzRGlzYWJsZWQobXV0YXRpb24udGFyZ2V0KSkge1xuICAgICAgICAgICAgdmFyIGlzRW5hYmxlZE11dGF0aW9uID0gbXV0YXRpb24uYXR0cmlidXRlTmFtZSA9PT0gXCJkaXNhYmxlZFwiO1xuICAgICAgICAgICAgdmFyIGlzSHJlZk11dGF0aW9uID0gbXV0YXRpb24uYXR0cmlidXRlTmFtZSA9PT0gXCJocmVmXCI7XG4gICAgICAgICAgICB2YXIgaXNTa2lwTm9kZSA9IG11dGF0aW9uLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNzc3ZhcnNcIikgPT09IFwic2tpcFwiO1xuICAgICAgICAgICAgdmFyIGlzU3JjTm9kZSA9IG11dGF0aW9uLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNzc3ZhcnNcIikgPT09IFwic3JjXCI7XG4gICAgICAgICAgICBpZiAoaXNFbmFibGVkTXV0YXRpb24pIHtcbiAgICAgICAgICAgICAgICBpc1ZhbGlkID0gIWlzU2tpcE5vZGUgJiYgIWlzU3JjTm9kZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNIcmVmTXV0YXRpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNTa2lwTm9kZSkge1xuICAgICAgICAgICAgICAgICAgICBtdXRhdGlvbi50YXJnZXQuc2V0QXR0cmlidXRlKFwiZGF0YS1jc3N2YXJzXCIsIFwiXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNTcmNOb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc2V0Q3NzTm9kZXMoc2V0dGluZ3Mucm9vdEVsZW1lbnQsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpc1ZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNWYWxpZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNWYWxpZFN0eWxlVGV4dE11dGF0aW9uKG11dGF0aW9uKSB7XG4gICAgICAgIHZhciBpc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgIGlmIChtdXRhdGlvbi50eXBlID09PSBcImNoaWxkTGlzdFwiKSB7XG4gICAgICAgICAgICB2YXIgaXNTdHlsZUVsbSA9IGlzU3R5bGUobXV0YXRpb24udGFyZ2V0KTtcbiAgICAgICAgICAgIHZhciBpc091dE5vZGUgPSBtdXRhdGlvbi50YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1jc3N2YXJzXCIpID09PSBcIm91dFwiO1xuICAgICAgICAgICAgaXNWYWxpZCA9IGlzU3R5bGVFbG0gJiYgIWlzT3V0Tm9kZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNWYWxpZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNWYWxpZEFkZE11dGF0aW9uKG11dGF0aW9uKSB7XG4gICAgICAgIHZhciBpc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgIGlmIChtdXRhdGlvbi50eXBlID09PSBcImNoaWxkTGlzdFwiKSB7XG4gICAgICAgICAgICBpc1ZhbGlkID0gQXJyYXkuYXBwbHkobnVsbCwgbXV0YXRpb24uYWRkZWROb2Rlcykuc29tZSgoZnVuY3Rpb24obm9kZSkge1xuICAgICAgICAgICAgICAgIHZhciBpc0VsbSA9IG5vZGUubm9kZVR5cGUgPT09IDE7XG4gICAgICAgICAgICAgICAgdmFyIGhhc0F0dHIgPSBpc0VsbSAmJiBub2RlLmhhc0F0dHJpYnV0ZShcImRhdGEtY3NzdmFyc1wiKTtcbiAgICAgICAgICAgICAgICB2YXIgaXNTdHlsZVdpdGhWYXJzID0gaXNTdHlsZShub2RlKSAmJiByZWdleC5jc3NWYXJzLnRlc3Qobm9kZS50ZXh0Q29udGVudCk7XG4gICAgICAgICAgICAgICAgdmFyIGlzVmFsaWQgPSAhaGFzQXR0ciAmJiAoaXNMaW5rKG5vZGUpIHx8IGlzU3R5bGVXaXRoVmFycyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQgJiYgIWlzRGlzYWJsZWQobm9kZSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzVmFsaWRSZW1vdmVNdXRhdGlvbihtdXRhdGlvbikge1xuICAgICAgICB2YXIgaXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICBpZiAobXV0YXRpb24udHlwZSA9PT0gXCJjaGlsZExpc3RcIikge1xuICAgICAgICAgICAgaXNWYWxpZCA9IEFycmF5LmFwcGx5KG51bGwsIG11dGF0aW9uLnJlbW92ZWROb2Rlcykuc29tZSgoZnVuY3Rpb24obm9kZSkge1xuICAgICAgICAgICAgICAgIHZhciBpc0VsbSA9IG5vZGUubm9kZVR5cGUgPT09IDE7XG4gICAgICAgICAgICAgICAgdmFyIGlzT3V0Tm9kZSA9IGlzRWxtICYmIG5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1jc3N2YXJzXCIpID09PSBcIm91dFwiO1xuICAgICAgICAgICAgICAgIHZhciBpc1NyY05vZGUgPSBpc0VsbSAmJiBub2RlLmdldEF0dHJpYnV0ZShcImRhdGEtY3NzdmFyc1wiKSA9PT0gXCJzcmNcIjtcbiAgICAgICAgICAgICAgICB2YXIgaXNWYWxpZCA9IGlzU3JjTm9kZTtcbiAgICAgICAgICAgICAgICBpZiAoaXNTcmNOb2RlIHx8IGlzT3V0Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YUdyb3VwID0gbm9kZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNzc3ZhcnMtZ3JvdXBcIik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvcnBoYW5Ob2RlID0gc2V0dGluZ3Mucm9vdEVsZW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY3NzdmFycy1ncm91cD1cIicuY29uY2F0KGRhdGFHcm91cCwgJ1wiXScpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzU3JjTm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRDc3NOb2RlcyhzZXR0aW5ncy5yb290RWxlbWVudCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9ycGhhbk5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ycGhhbk5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvcnBoYW5Ob2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaXNWYWxpZDtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNWYWxpZDtcbiAgICB9XG4gICAgaWYgKCF3aW5kb3cuTXV0YXRpb25PYnNlcnZlcikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChjc3NWYXJzT2JzZXJ2ZXIpIHtcbiAgICAgICAgY3NzVmFyc09ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgY3NzVmFyc09ic2VydmVyID0gbnVsbDtcbiAgICB9XG4gICAgY3NzVmFyc09ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKGZ1bmN0aW9uKG11dGF0aW9ucykge1xuICAgICAgICB2YXIgaGFzVmFsaWRNdXRhdGlvbiA9IG11dGF0aW9ucy5zb21lKChmdW5jdGlvbihtdXRhdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWRBdHRyaWJ1dGVNdXRhdGlvbihtdXRhdGlvbikgfHwgaXNWYWxpZFN0eWxlVGV4dE11dGF0aW9uKG11dGF0aW9uKSB8fCBpc1ZhbGlkQWRkTXV0YXRpb24obXV0YXRpb24pIHx8IGlzVmFsaWRSZW1vdmVNdXRhdGlvbihtdXRhdGlvbik7XG4gICAgICAgIH0pKTtcbiAgICAgICAgaWYgKGhhc1ZhbGlkTXV0YXRpb24pIHtcbiAgICAgICAgICAgIGNzc1ZhcnMoc2V0dGluZ3MpO1xuICAgICAgICB9XG4gICAgfSkpO1xuICAgIGNzc1ZhcnNPYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwge1xuICAgICAgICBhdHRyaWJ1dGVzOiB0cnVlLFxuICAgICAgICBhdHRyaWJ1dGVGaWx0ZXI6IFsgXCJkaXNhYmxlZFwiLCBcImhyZWZcIiBdLFxuICAgICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICAgIHN1YnRyZWU6IHRydWVcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gY3NzVmFyc0RlYm91bmNlZChzZXR0aW5ncykge1xuICAgIHZhciBkZWxheSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMTAwO1xuICAgIGNsZWFyVGltZW91dChkZWJvdW5jZVRpbWVyKTtcbiAgICBkZWJvdW5jZVRpbWVyID0gc2V0VGltZW91dCgoZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldHRpbmdzLl9fYmVuY2htYXJrID0gbnVsbDtcbiAgICAgICAgY3NzVmFycyhzZXR0aW5ncyk7XG4gICAgfSksIGRlbGF5KTtcbn1cblxuZnVuY3Rpb24gZml4S2V5ZnJhbWVzKHJvb3RFbGVtZW50KSB7XG4gICAgdmFyIGFuaW1hdGlvbk5hbWVQcm9wID0gWyBcImFuaW1hdGlvbi1uYW1lXCIsIFwiLW1vei1hbmltYXRpb24tbmFtZVwiLCBcIi13ZWJraXQtYW5pbWF0aW9uLW5hbWVcIiBdLmZpbHRlcigoZnVuY3Rpb24ocHJvcCkge1xuICAgICAgICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5KVtwcm9wXTtcbiAgICB9KSlbMF07XG4gICAgaWYgKGFuaW1hdGlvbk5hbWVQcm9wKSB7XG4gICAgICAgIHZhciBhbGxOb2RlcyA9IHJvb3RFbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKTtcbiAgICAgICAgdmFyIGtleWZyYW1lTm9kZXMgPSBbXTtcbiAgICAgICAgdmFyIG5hbWVNYXJrZXIgPSBcIl9fQ1NTVkFSU1BPTllGSUxMLUtFWUZSQU1FU19fXCI7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhbGxOb2Rlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIG5vZGUgPSBhbGxOb2Rlc1tpXTtcbiAgICAgICAgICAgIHZhciBhbmltYXRpb25OYW1lID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKVthbmltYXRpb25OYW1lUHJvcF07XG4gICAgICAgICAgICBpZiAoYW5pbWF0aW9uTmFtZSAhPT0gXCJub25lXCIpIHtcbiAgICAgICAgICAgICAgICBub2RlLnN0eWxlW2FuaW1hdGlvbk5hbWVQcm9wXSArPSBuYW1lTWFya2VyO1xuICAgICAgICAgICAgICAgIGtleWZyYW1lTm9kZXMucHVzaChub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2b2lkIGRvY3VtZW50LmJvZHkub2Zmc2V0SGVpZ2h0O1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9sZW4gPSBrZXlmcmFtZU5vZGVzLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgbm9kZVN0eWxlID0ga2V5ZnJhbWVOb2Rlc1tfaV0uc3R5bGU7XG4gICAgICAgICAgICBub2RlU3R5bGVbYW5pbWF0aW9uTmFtZVByb3BdID0gbm9kZVN0eWxlW2FuaW1hdGlvbk5hbWVQcm9wXS5yZXBsYWNlKG5hbWVNYXJrZXIsIFwiXCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBmaXhSZWxhdGl2ZUNzc1VybHMoY3NzVGV4dCwgYmFzZVVybCkge1xuICAgIHZhciBjc3NVcmxzID0gY3NzVGV4dC5yZXBsYWNlKHJlZ2V4LmNzc0NvbW1lbnRzLCBcIlwiKS5tYXRjaChyZWdleC5jc3NVcmxzKSB8fCBbXTtcbiAgICBjc3NVcmxzLmZvckVhY2goKGZ1bmN0aW9uKGNzc1VybCkge1xuICAgICAgICB2YXIgb2xkVXJsID0gY3NzVXJsLnJlcGxhY2UocmVnZXguY3NzVXJscywgXCIkMVwiKTtcbiAgICAgICAgdmFyIG5ld1VybCA9IGdldEZ1bGxVcmwkMShvbGRVcmwsIGJhc2VVcmwpO1xuICAgICAgICBjc3NUZXh0ID0gY3NzVGV4dC5yZXBsYWNlKGNzc1VybCwgY3NzVXJsLnJlcGxhY2Uob2xkVXJsLCBuZXdVcmwpKTtcbiAgICB9KSk7XG4gICAgcmV0dXJuIGNzc1RleHQ7XG59XG5cbmZ1bmN0aW9uIGZpeFZhck5hbWVzKCkge1xuICAgIHZhciB2YXJPYmogPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIHZhciByZUxlYWRpbmdIeXBoZW5zID0gL14tezJ9LztcbiAgICByZXR1cm4gT2JqZWN0LmtleXModmFyT2JqKS5yZWR1Y2UoKGZ1bmN0aW9uKG9iaiwgdmFsdWUpIHtcbiAgICAgICAgdmFyIGtleSA9IHJlTGVhZGluZ0h5cGhlbnMudGVzdCh2YWx1ZSkgPyB2YWx1ZSA6IFwiLS1cIi5jb25jYXQodmFsdWUucmVwbGFjZSgvXi0rLywgXCJcIikpO1xuICAgICAgICBvYmpba2V5XSA9IHZhck9ialt2YWx1ZV07XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSksIHt9KTtcbn1cblxuZnVuY3Rpb24gZ2V0RnVsbFVybCQxKHVybCkge1xuICAgIHZhciBiYXNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBsb2NhdGlvbi5ocmVmO1xuICAgIHZhciBkID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KFwiXCIpO1xuICAgIHZhciBiID0gZC5jcmVhdGVFbGVtZW50KFwiYmFzZVwiKTtcbiAgICB2YXIgYSA9IGQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgZC5oZWFkLmFwcGVuZENoaWxkKGIpO1xuICAgIGQuYm9keS5hcHBlbmRDaGlsZChhKTtcbiAgICBiLmhyZWYgPSBiYXNlO1xuICAgIGEuaHJlZiA9IHVybDtcbiAgICByZXR1cm4gYS5ocmVmO1xufVxuXG5mdW5jdGlvbiBnZXRUaW1lU3RhbXAoKSB7XG4gICAgcmV0dXJuIGlzQnJvd3NlciAmJiAod2luZG93LnBlcmZvcm1hbmNlIHx8IHt9KS5ub3cgPyB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkgOiAobmV3IERhdGUpLmdldFRpbWUoKTtcbn1cblxuZnVuY3Rpb24gcmVzZXRDc3NOb2Rlcyhyb290RWxlbWVudCkge1xuICAgIHZhciByZXNldERPTVZhcmlhYmxlU3RvcmUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuICAgIHZhciByZXNldE5vZGVzID0gQXJyYXkuYXBwbHkobnVsbCwgcm9vdEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY3NzdmFycz1cInNraXBcIl0sW2RhdGEtY3NzdmFycz1cInNyY1wiXScpKTtcbiAgICByZXNldE5vZGVzLmZvckVhY2goKGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUuc2V0QXR0cmlidXRlKFwiZGF0YS1jc3N2YXJzXCIsIFwiXCIpO1xuICAgIH0pKTtcbiAgICBpZiAocmVzZXRET01WYXJpYWJsZVN0b3JlKSB7XG4gICAgICAgIHZhcmlhYmxlU3RvcmUuZG9tID0ge307XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjc3NWYXJzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3NzLXZhcnMtcG9ueWZpbGwuZXNtLmpzLm1hcFxuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFIgPSB0eXBlb2YgUmVmbGVjdCA9PT0gJ29iamVjdCcgPyBSZWZsZWN0IDogbnVsbFxudmFyIFJlZmxlY3RBcHBseSA9IFIgJiYgdHlwZW9mIFIuYXBwbHkgPT09ICdmdW5jdGlvbidcbiAgPyBSLmFwcGx5XG4gIDogZnVuY3Rpb24gUmVmbGVjdEFwcGx5KHRhcmdldCwgcmVjZWl2ZXIsIGFyZ3MpIHtcbiAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwodGFyZ2V0LCByZWNlaXZlciwgYXJncyk7XG4gIH1cblxudmFyIFJlZmxlY3RPd25LZXlzXG5pZiAoUiAmJiB0eXBlb2YgUi5vd25LZXlzID09PSAnZnVuY3Rpb24nKSB7XG4gIFJlZmxlY3RPd25LZXlzID0gUi5vd25LZXlzXG59IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KVxuICAgICAgLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHRhcmdldCkpO1xuICB9O1xufSBlbHNlIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gUHJvY2Vzc0VtaXRXYXJuaW5nKHdhcm5pbmcpIHtcbiAgaWYgKGNvbnNvbGUgJiYgY29uc29sZS53YXJuKSBjb25zb2xlLndhcm4od2FybmluZyk7XG59XG5cbnZhciBOdW1iZXJJc05hTiA9IE51bWJlci5pc05hTiB8fCBmdW5jdGlvbiBOdW1iZXJJc05hTih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIEV2ZW50RW1pdHRlci5pbml0LmNhbGwodGhpcyk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbm1vZHVsZS5leHBvcnRzLm9uY2UgPSBvbmNlO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50c0NvdW50ID0gMDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxudmFyIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuZnVuY3Rpb24gY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcikge1xuICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBsaXN0ZW5lcik7XG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEV2ZW50RW1pdHRlciwgJ2RlZmF1bHRNYXhMaXN0ZW5lcnMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24oYXJnKSB7XG4gICAgaWYgKHR5cGVvZiBhcmcgIT09ICdudW1iZXInIHx8IGFyZyA8IDAgfHwgTnVtYmVySXNOYU4oYXJnKSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgYXJnICsgJy4nKTtcbiAgICB9XG4gICAgZGVmYXVsdE1heExpc3RlbmVycyA9IGFyZztcbiAgfVxufSk7XG5cbkV2ZW50RW1pdHRlci5pbml0ID0gZnVuY3Rpb24oKSB7XG5cbiAgaWYgKHRoaXMuX2V2ZW50cyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICB0aGlzLl9ldmVudHMgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5fZXZlbnRzKSB7XG4gICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufTtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gc2V0TWF4TGlzdGVuZXJzKG4pIHtcbiAgaWYgKHR5cGVvZiBuICE9PSAnbnVtYmVyJyB8fCBuIDwgMCB8fCBOdW1iZXJJc05hTihuKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJuXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyArIG4gKyAnLicpO1xuICB9XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gX2dldE1heExpc3RlbmVycyh0aGF0KSB7XG4gIGlmICh0aGF0Ll9tYXhMaXN0ZW5lcnMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIHJldHVybiB0aGF0Ll9tYXhMaXN0ZW5lcnM7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gZ2V0TWF4TGlzdGVuZXJzKCkge1xuICByZXR1cm4gX2dldE1heExpc3RlbmVycyh0aGlzKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQodHlwZSkge1xuICB2YXIgYXJncyA9IFtdO1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gIHZhciBkb0Vycm9yID0gKHR5cGUgPT09ICdlcnJvcicpO1xuXG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZClcbiAgICBkb0Vycm9yID0gKGRvRXJyb3IgJiYgZXZlbnRzLmVycm9yID09PSB1bmRlZmluZWQpO1xuICBlbHNlIGlmICghZG9FcnJvcilcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAoZG9FcnJvcikge1xuICAgIHZhciBlcjtcbiAgICBpZiAoYXJncy5sZW5ndGggPiAwKVxuICAgICAgZXIgPSBhcmdzWzBdO1xuICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAvLyBOb3RlOiBUaGUgY29tbWVudHMgb24gdGhlIGB0aHJvd2AgbGluZXMgYXJlIGludGVudGlvbmFsLCB0aGV5IHNob3dcbiAgICAgIC8vIHVwIGluIE5vZGUncyBvdXRwdXQgaWYgdGhpcyByZXN1bHRzIGluIGFuIHVuaGFuZGxlZCBleGNlcHRpb24uXG4gICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICB9XG4gICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlclxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuaGFuZGxlZCBlcnJvci4nICsgKGVyID8gJyAoJyArIGVyLm1lc3NhZ2UgKyAnKScgOiAnJykpO1xuICAgIGVyci5jb250ZXh0ID0gZXI7XG4gICAgdGhyb3cgZXJyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICB9XG5cbiAgdmFyIGhhbmRsZXIgPSBldmVudHNbdHlwZV07XG5cbiAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgUmVmbGVjdEFwcGx5KGhhbmRsZXIsIHRoaXMsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBSZWZsZWN0QXBwbHkobGlzdGVuZXJzW2ldLCB0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuZnVuY3Rpb24gX2FkZExpc3RlbmVyKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIHByZXBlbmQpIHtcbiAgdmFyIG07XG4gIHZhciBldmVudHM7XG4gIHZhciBleGlzdGluZztcblxuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRhcmdldC5fZXZlbnRzQ291bnQgPSAwO1xuICB9IGVsc2Uge1xuICAgIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gICAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICAgIGlmIChldmVudHMubmV3TGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGFyZ2V0LmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyID8gbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgICAgIC8vIFJlLWFzc2lnbiBgZXZlbnRzYCBiZWNhdXNlIGEgbmV3TGlzdGVuZXIgaGFuZGxlciBjb3VsZCBoYXZlIGNhdXNlZCB0aGVcbiAgICAgIC8vIHRoaXMuX2V2ZW50cyB0byBiZSBhc3NpZ25lZCB0byBhIG5ldyBvYmplY3RcbiAgICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICAgIH1cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXTtcbiAgfVxuXG4gIGlmIChleGlzdGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgICArK3RhcmdldC5fZXZlbnRzQ291bnQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHR5cGVvZiBleGlzdGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9XG4gICAgICAgIHByZXBlbmQgPyBbbGlzdGVuZXIsIGV4aXN0aW5nXSA6IFtleGlzdGluZywgbGlzdGVuZXJdO1xuICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIH0gZWxzZSBpZiAocHJlcGVuZCkge1xuICAgICAgZXhpc3RpbmcudW5zaGlmdChsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4aXN0aW5nLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gICAgbSA9IF9nZXRNYXhMaXN0ZW5lcnModGFyZ2V0KTtcbiAgICBpZiAobSA+IDAgJiYgZXhpc3RpbmcubGVuZ3RoID4gbSAmJiAhZXhpc3Rpbmcud2FybmVkKSB7XG4gICAgICBleGlzdGluZy53YXJuZWQgPSB0cnVlO1xuICAgICAgLy8gTm8gZXJyb3IgY29kZSBmb3IgdGhpcyBzaW5jZSBpdCBpcyBhIFdhcm5pbmdcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgICAgdmFyIHcgPSBuZXcgRXJyb3IoJ1Bvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nLmxlbmd0aCArICcgJyArIFN0cmluZyh0eXBlKSArICcgbGlzdGVuZXJzICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnaW5jcmVhc2UgbGltaXQnKTtcbiAgICAgIHcubmFtZSA9ICdNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmcnO1xuICAgICAgdy5lbWl0dGVyID0gdGFyZ2V0O1xuICAgICAgdy50eXBlID0gdHlwZTtcbiAgICAgIHcuY291bnQgPSBleGlzdGluZy5sZW5ndGg7XG4gICAgICBQcm9jZXNzRW1pdFdhcm5pbmcodyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCB0cnVlKTtcbiAgICB9O1xuXG5mdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgaWYgKCF0aGlzLmZpcmVkKSB7XG4gICAgdGhpcy50YXJnZXQucmVtb3ZlTGlzdGVuZXIodGhpcy50eXBlLCB0aGlzLndyYXBGbik7XG4gICAgdGhpcy5maXJlZCA9IHRydWU7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0KTtcbiAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCwgYXJndW1lbnRzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfb25jZVdyYXAodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgc3RhdGUgPSB7IGZpcmVkOiBmYWxzZSwgd3JhcEZuOiB1bmRlZmluZWQsIHRhcmdldDogdGFyZ2V0LCB0eXBlOiB0eXBlLCBsaXN0ZW5lcjogbGlzdGVuZXIgfTtcbiAgdmFyIHdyYXBwZWQgPSBvbmNlV3JhcHBlci5iaW5kKHN0YXRlKTtcbiAgd3JhcHBlZC5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICBzdGF0ZS53cmFwRm4gPSB3cmFwcGVkO1xuICByZXR1cm4gd3JhcHBlZDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZSh0eXBlLCBsaXN0ZW5lcikge1xuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcbiAgdGhpcy5vbih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRPbmNlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRPbmNlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgICAgdGhpcy5wcmVwZW5kTGlzdGVuZXIodHlwZSwgX29uY2VXcmFwKHRoaXMsIHR5cGUsIGxpc3RlbmVyKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4vLyBFbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWYgYW5kIG9ubHkgaWYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHZhciBsaXN0LCBldmVudHMsIHBvc2l0aW9uLCBpLCBvcmlnaW5hbExpc3RlbmVyO1xuXG4gICAgICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgbGlzdCA9IGV2ZW50c1t0eXBlXTtcbiAgICAgIGlmIChsaXN0ID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHwgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3QubGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBsaXN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHBvc2l0aW9uID0gLTE7XG5cbiAgICAgICAgZm9yIChpID0gbGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fCBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgICAgb3JpZ2luYWxMaXN0ZW5lciA9IGxpc3RbaV0ubGlzdGVuZXI7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gMClcbiAgICAgICAgICBsaXN0LnNoaWZ0KCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHNwbGljZU9uZShsaXN0LCBwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpXG4gICAgICAgICAgZXZlbnRzW3R5cGVdID0gbGlzdFswXTtcblxuICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIG9yaWdpbmFsTGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID1cbiAgICBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnModHlwZSkge1xuICAgICAgdmFyIGxpc3RlbmVycywgZXZlbnRzLCBpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudHNbdHlwZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZXZlbnRzKTtcbiAgICAgICAgdmFyIGtleTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGxpc3RlbmVycyA9IGV2ZW50c1t0eXBlXTtcblxuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICAgICAgfSBlbHNlIGlmIChsaXN0ZW5lcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBMSUZPIG9yZGVyXG4gICAgICAgIGZvciAoaSA9IGxpc3RlbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5mdW5jdGlvbiBfbGlzdGVuZXJzKHRhcmdldCwgdHlwZSwgdW53cmFwKSB7XG4gIHZhciBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuICBpZiAoZXZsaXN0ZW5lciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBbXTtcblxuICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpXG4gICAgcmV0dXJuIHVud3JhcCA/IFtldmxpc3RlbmVyLmxpc3RlbmVyIHx8IGV2bGlzdGVuZXJdIDogW2V2bGlzdGVuZXJdO1xuXG4gIHJldHVybiB1bndyYXAgP1xuICAgIHVud3JhcExpc3RlbmVycyhldmxpc3RlbmVyKSA6IGFycmF5Q2xvbmUoZXZsaXN0ZW5lciwgZXZsaXN0ZW5lci5sZW5ndGgpO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIHRydWUpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnMgPSBmdW5jdGlvbiByYXdMaXN0ZW5lcnModHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLmxpc3RlbmVyQ291bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBsaXN0ZW5lckNvdW50LmNhbGwoZW1pdHRlciwgdHlwZSk7XG4gIH1cbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGxpc3RlbmVyQ291bnQ7XG5mdW5jdGlvbiBsaXN0ZW5lckNvdW50KHR5cGUpIHtcbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTtcblxuICAgIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfSBlbHNlIGlmIChldmxpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gMDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgcmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50ID4gMCA/IFJlZmxlY3RPd25LZXlzKHRoaXMuX2V2ZW50cykgOiBbXTtcbn07XG5cbmZ1bmN0aW9uIGFycmF5Q2xvbmUoYXJyLCBuKSB7XG4gIHZhciBjb3B5ID0gbmV3IEFycmF5KG4pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSlcbiAgICBjb3B5W2ldID0gYXJyW2ldO1xuICByZXR1cm4gY29weTtcbn1cblxuZnVuY3Rpb24gc3BsaWNlT25lKGxpc3QsIGluZGV4KSB7XG4gIGZvciAoOyBpbmRleCArIDEgPCBsaXN0Lmxlbmd0aDsgaW5kZXgrKylcbiAgICBsaXN0W2luZGV4XSA9IGxpc3RbaW5kZXggKyAxXTtcbiAgbGlzdC5wb3AoKTtcbn1cblxuZnVuY3Rpb24gdW53cmFwTGlzdGVuZXJzKGFycikge1xuICB2YXIgcmV0ID0gbmV3IEFycmF5KGFyci5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJldC5sZW5ndGg7ICsraSkge1xuICAgIHJldFtpXSA9IGFycltpXS5saXN0ZW5lciB8fCBhcnJbaV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gb25jZShlbWl0dGVyLCBuYW1lKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZXZlbnRMaXN0ZW5lcigpIHtcbiAgICAgIGlmIChlcnJvckxpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBlcnJvckxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIHJlc29sdmUoW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICB9O1xuICAgIHZhciBlcnJvckxpc3RlbmVyO1xuXG4gICAgLy8gQWRkaW5nIGFuIGVycm9yIGxpc3RlbmVyIGlzIG5vdCBvcHRpb25hbCBiZWNhdXNlXG4gICAgLy8gaWYgYW4gZXJyb3IgaXMgdGhyb3duIG9uIGFuIGV2ZW50IGVtaXR0ZXIgd2UgY2Fubm90XG4gICAgLy8gZ3VhcmFudGVlIHRoYXQgdGhlIGFjdHVhbCBldmVudCB3ZSBhcmUgd2FpdGluZyB3aWxsXG4gICAgLy8gYmUgZmlyZWQuIFRoZSByZXN1bHQgY291bGQgYmUgYSBzaWxlbnQgd2F5IHRvIGNyZWF0ZVxuICAgIC8vIG1lbW9yeSBvciBmaWxlIGRlc2NyaXB0b3IgbGVha3MsIHdoaWNoIGlzIHNvbWV0aGluZ1xuICAgIC8vIHdlIHNob3VsZCBhdm9pZC5cbiAgICBpZiAobmFtZSAhPT0gJ2Vycm9yJykge1xuICAgICAgZXJyb3JMaXN0ZW5lciA9IGZ1bmN0aW9uIGVycm9yTGlzdGVuZXIoZXJyKSB7XG4gICAgICAgIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIobmFtZSwgZXZlbnRMaXN0ZW5lcik7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfTtcblxuICAgICAgZW1pdHRlci5vbmNlKCdlcnJvcicsIGVycm9yTGlzdGVuZXIpO1xuICAgIH1cblxuICAgIGVtaXR0ZXIub25jZShuYW1lLCBldmVudExpc3RlbmVyKTtcbiAgfSk7XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBIVE1MX0FMUEhBID0gWydhcG9zJywgJ25ic3AnLCAnaWV4Y2wnLCAnY2VudCcsICdwb3VuZCcsICdjdXJyZW4nLCAneWVuJywgJ2JydmJhcicsICdzZWN0JywgJ3VtbCcsICdjb3B5JywgJ29yZGYnLCAnbGFxdW8nLCAnbm90JywgJ3NoeScsICdyZWcnLCAnbWFjcicsICdkZWcnLCAncGx1c21uJywgJ3N1cDInLCAnc3VwMycsICdhY3V0ZScsICdtaWNybycsICdwYXJhJywgJ21pZGRvdCcsICdjZWRpbCcsICdzdXAxJywgJ29yZG0nLCAncmFxdW8nLCAnZnJhYzE0JywgJ2ZyYWMxMicsICdmcmFjMzQnLCAnaXF1ZXN0JywgJ0FncmF2ZScsICdBYWN1dGUnLCAnQWNpcmMnLCAnQXRpbGRlJywgJ0F1bWwnLCAnQXJpbmcnLCAnQWVsaWcnLCAnQ2NlZGlsJywgJ0VncmF2ZScsICdFYWN1dGUnLCAnRWNpcmMnLCAnRXVtbCcsICdJZ3JhdmUnLCAnSWFjdXRlJywgJ0ljaXJjJywgJ0l1bWwnLCAnRVRIJywgJ050aWxkZScsICdPZ3JhdmUnLCAnT2FjdXRlJywgJ09jaXJjJywgJ090aWxkZScsICdPdW1sJywgJ3RpbWVzJywgJ09zbGFzaCcsICdVZ3JhdmUnLCAnVWFjdXRlJywgJ1VjaXJjJywgJ1V1bWwnLCAnWWFjdXRlJywgJ1RIT1JOJywgJ3N6bGlnJywgJ2FncmF2ZScsICdhYWN1dGUnLCAnYWNpcmMnLCAnYXRpbGRlJywgJ2F1bWwnLCAnYXJpbmcnLCAnYWVsaWcnLCAnY2NlZGlsJywgJ2VncmF2ZScsICdlYWN1dGUnLCAnZWNpcmMnLCAnZXVtbCcsICdpZ3JhdmUnLCAnaWFjdXRlJywgJ2ljaXJjJywgJ2l1bWwnLCAnZXRoJywgJ250aWxkZScsICdvZ3JhdmUnLCAnb2FjdXRlJywgJ29jaXJjJywgJ290aWxkZScsICdvdW1sJywgJ2RpdmlkZScsICdvc2xhc2gnLCAndWdyYXZlJywgJ3VhY3V0ZScsICd1Y2lyYycsICd1dW1sJywgJ3lhY3V0ZScsICd0aG9ybicsICd5dW1sJywgJ3F1b3QnLCAnYW1wJywgJ2x0JywgJ2d0JywgJ09FbGlnJywgJ29lbGlnJywgJ1NjYXJvbicsICdzY2Fyb24nLCAnWXVtbCcsICdjaXJjJywgJ3RpbGRlJywgJ2Vuc3AnLCAnZW1zcCcsICd0aGluc3AnLCAnenduaicsICd6d2onLCAnbHJtJywgJ3JsbScsICduZGFzaCcsICdtZGFzaCcsICdsc3F1bycsICdyc3F1bycsICdzYnF1bycsICdsZHF1bycsICdyZHF1bycsICdiZHF1bycsICdkYWdnZXInLCAnRGFnZ2VyJywgJ3Blcm1pbCcsICdsc2FxdW8nLCAncnNhcXVvJywgJ2V1cm8nLCAnZm5vZicsICdBbHBoYScsICdCZXRhJywgJ0dhbW1hJywgJ0RlbHRhJywgJ0Vwc2lsb24nLCAnWmV0YScsICdFdGEnLCAnVGhldGEnLCAnSW90YScsICdLYXBwYScsICdMYW1iZGEnLCAnTXUnLCAnTnUnLCAnWGknLCAnT21pY3JvbicsICdQaScsICdSaG8nLCAnU2lnbWEnLCAnVGF1JywgJ1Vwc2lsb24nLCAnUGhpJywgJ0NoaScsICdQc2knLCAnT21lZ2EnLCAnYWxwaGEnLCAnYmV0YScsICdnYW1tYScsICdkZWx0YScsICdlcHNpbG9uJywgJ3pldGEnLCAnZXRhJywgJ3RoZXRhJywgJ2lvdGEnLCAna2FwcGEnLCAnbGFtYmRhJywgJ211JywgJ251JywgJ3hpJywgJ29taWNyb24nLCAncGknLCAncmhvJywgJ3NpZ21hZicsICdzaWdtYScsICd0YXUnLCAndXBzaWxvbicsICdwaGknLCAnY2hpJywgJ3BzaScsICdvbWVnYScsICd0aGV0YXN5bScsICd1cHNpaCcsICdwaXYnLCAnYnVsbCcsICdoZWxsaXAnLCAncHJpbWUnLCAnUHJpbWUnLCAnb2xpbmUnLCAnZnJhc2wnLCAnd2VpZXJwJywgJ2ltYWdlJywgJ3JlYWwnLCAndHJhZGUnLCAnYWxlZnN5bScsICdsYXJyJywgJ3VhcnInLCAncmFycicsICdkYXJyJywgJ2hhcnInLCAnY3JhcnInLCAnbEFycicsICd1QXJyJywgJ3JBcnInLCAnZEFycicsICdoQXJyJywgJ2ZvcmFsbCcsICdwYXJ0JywgJ2V4aXN0JywgJ2VtcHR5JywgJ25hYmxhJywgJ2lzaW4nLCAnbm90aW4nLCAnbmknLCAncHJvZCcsICdzdW0nLCAnbWludXMnLCAnbG93YXN0JywgJ3JhZGljJywgJ3Byb3AnLCAnaW5maW4nLCAnYW5nJywgJ2FuZCcsICdvcicsICdjYXAnLCAnY3VwJywgJ2ludCcsICd0aGVyZTQnLCAnc2ltJywgJ2NvbmcnLCAnYXN5bXAnLCAnbmUnLCAnZXF1aXYnLCAnbGUnLCAnZ2UnLCAnc3ViJywgJ3N1cCcsICduc3ViJywgJ3N1YmUnLCAnc3VwZScsICdvcGx1cycsICdvdGltZXMnLCAncGVycCcsICdzZG90JywgJ2xjZWlsJywgJ3JjZWlsJywgJ2xmbG9vcicsICdyZmxvb3InLCAnbGFuZycsICdyYW5nJywgJ2xveicsICdzcGFkZXMnLCAnY2x1YnMnLCAnaGVhcnRzJywgJ2RpYW1zJ107XG52YXIgSFRNTF9DT0RFUyA9IFszOSwgMTYwLCAxNjEsIDE2MiwgMTYzLCAxNjQsIDE2NSwgMTY2LCAxNjcsIDE2OCwgMTY5LCAxNzAsIDE3MSwgMTcyLCAxNzMsIDE3NCwgMTc1LCAxNzYsIDE3NywgMTc4LCAxNzksIDE4MCwgMTgxLCAxODIsIDE4MywgMTg0LCAxODUsIDE4NiwgMTg3LCAxODgsIDE4OSwgMTkwLCAxOTEsIDE5MiwgMTkzLCAxOTQsIDE5NSwgMTk2LCAxOTcsIDE5OCwgMTk5LCAyMDAsIDIwMSwgMjAyLCAyMDMsIDIwNCwgMjA1LCAyMDYsIDIwNywgMjA4LCAyMDksIDIxMCwgMjExLCAyMTIsIDIxMywgMjE0LCAyMTUsIDIxNiwgMjE3LCAyMTgsIDIxOSwgMjIwLCAyMjEsIDIyMiwgMjIzLCAyMjQsIDIyNSwgMjI2LCAyMjcsIDIyOCwgMjI5LCAyMzAsIDIzMSwgMjMyLCAyMzMsIDIzNCwgMjM1LCAyMzYsIDIzNywgMjM4LCAyMzksIDI0MCwgMjQxLCAyNDIsIDI0MywgMjQ0LCAyNDUsIDI0NiwgMjQ3LCAyNDgsIDI0OSwgMjUwLCAyNTEsIDI1MiwgMjUzLCAyNTQsIDI1NSwgMzQsIDM4LCA2MCwgNjIsIDMzOCwgMzM5LCAzNTIsIDM1MywgMzc2LCA3MTAsIDczMiwgODE5NCwgODE5NSwgODIwMSwgODIwNCwgODIwNSwgODIwNiwgODIwNywgODIxMSwgODIxMiwgODIxNiwgODIxNywgODIxOCwgODIyMCwgODIyMSwgODIyMiwgODIyNCwgODIyNSwgODI0MCwgODI0OSwgODI1MCwgODM2NCwgNDAyLCA5MTMsIDkxNCwgOTE1LCA5MTYsIDkxNywgOTE4LCA5MTksIDkyMCwgOTIxLCA5MjIsIDkyMywgOTI0LCA5MjUsIDkyNiwgOTI3LCA5MjgsIDkyOSwgOTMxLCA5MzIsIDkzMywgOTM0LCA5MzUsIDkzNiwgOTM3LCA5NDUsIDk0NiwgOTQ3LCA5NDgsIDk0OSwgOTUwLCA5NTEsIDk1MiwgOTUzLCA5NTQsIDk1NSwgOTU2LCA5NTcsIDk1OCwgOTU5LCA5NjAsIDk2MSwgOTYyLCA5NjMsIDk2NCwgOTY1LCA5NjYsIDk2NywgOTY4LCA5NjksIDk3NywgOTc4LCA5ODIsIDgyMjYsIDgyMzAsIDgyNDIsIDgyNDMsIDgyNTQsIDgyNjAsIDg0NzIsIDg0NjUsIDg0NzYsIDg0ODIsIDg1MDEsIDg1OTIsIDg1OTMsIDg1OTQsIDg1OTUsIDg1OTYsIDg2MjksIDg2NTYsIDg2NTcsIDg2NTgsIDg2NTksIDg2NjAsIDg3MDQsIDg3MDYsIDg3MDcsIDg3MDksIDg3MTEsIDg3MTIsIDg3MTMsIDg3MTUsIDg3MTksIDg3MjEsIDg3MjIsIDg3MjcsIDg3MzAsIDg3MzMsIDg3MzQsIDg3MzYsIDg3NDMsIDg3NDQsIDg3NDUsIDg3NDYsIDg3NDcsIDg3NTYsIDg3NjQsIDg3NzMsIDg3NzYsIDg4MDAsIDg4MDEsIDg4MDQsIDg4MDUsIDg4MzQsIDg4MzUsIDg4MzYsIDg4MzgsIDg4MzksIDg4NTMsIDg4NTUsIDg4NjksIDg5MDEsIDg5NjgsIDg5NjksIDg5NzAsIDg5NzEsIDkwMDEsIDkwMDIsIDk2NzQsIDk4MjQsIDk4MjcsIDk4MjksIDk4MzBdO1xudmFyIGFscGhhSW5kZXggPSB7fTtcbnZhciBudW1JbmRleCA9IHt9O1xuKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGxlbmd0aCA9IEhUTUxfQUxQSEEubGVuZ3RoO1xuICAgIHdoaWxlIChpIDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBhID0gSFRNTF9BTFBIQVtpXTtcbiAgICAgICAgdmFyIGMgPSBIVE1MX0NPREVTW2ldO1xuICAgICAgICBhbHBoYUluZGV4W2FdID0gU3RyaW5nLmZyb21DaGFyQ29kZShjKTtcbiAgICAgICAgbnVtSW5kZXhbY10gPSBhO1xuICAgICAgICBpKys7XG4gICAgfVxufSkoKTtcbnZhciBIdG1sNEVudGl0aWVzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEh0bWw0RW50aXRpZXMoKSB7XG4gICAgfVxuICAgIEh0bWw0RW50aXRpZXMucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgaWYgKCFzdHIgfHwgIXN0ci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyYoIz9bXFx3XFxkXSspOz8vZywgZnVuY3Rpb24gKHMsIGVudGl0eSkge1xuICAgICAgICAgICAgdmFyIGNocjtcbiAgICAgICAgICAgIGlmIChlbnRpdHkuY2hhckF0KDApID09PSBcIiNcIikge1xuICAgICAgICAgICAgICAgIHZhciBjb2RlID0gZW50aXR5LmNoYXJBdCgxKS50b0xvd2VyQ2FzZSgpID09PSAneCcgP1xuICAgICAgICAgICAgICAgICAgICBwYXJzZUludChlbnRpdHkuc3Vic3RyKDIpLCAxNikgOlxuICAgICAgICAgICAgICAgICAgICBwYXJzZUludChlbnRpdHkuc3Vic3RyKDEpKTtcbiAgICAgICAgICAgICAgICBpZiAoIShpc05hTihjb2RlKSB8fCBjb2RlIDwgLTMyNzY4IHx8IGNvZGUgPiA2NTUzNSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hyID0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjaHIgPSBhbHBoYUluZGV4W2VudGl0eV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2hyIHx8IHM7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgSHRtbDRFbnRpdGllcy5kZWNvZGUgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHJldHVybiBuZXcgSHRtbDRFbnRpdGllcygpLmRlY29kZShzdHIpO1xuICAgIH07XG4gICAgSHRtbDRFbnRpdGllcy5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICBpZiAoIXN0ciB8fCAhc3RyLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdHJMZW5ndGggPSBzdHIubGVuZ3RoO1xuICAgICAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCBzdHJMZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBhbHBoYSA9IG51bUluZGV4W3N0ci5jaGFyQ29kZUF0KGkpXTtcbiAgICAgICAgICAgIHJlc3VsdCArPSBhbHBoYSA/IFwiJlwiICsgYWxwaGEgKyBcIjtcIiA6IHN0ci5jaGFyQXQoaSk7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIEh0bWw0RW50aXRpZXMuZW5jb2RlID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICByZXR1cm4gbmV3IEh0bWw0RW50aXRpZXMoKS5lbmNvZGUoc3RyKTtcbiAgICB9O1xuICAgIEh0bWw0RW50aXRpZXMucHJvdG90eXBlLmVuY29kZU5vblVURiA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgaWYgKCFzdHIgfHwgIXN0ci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RyTGVuZ3RoID0gc3RyLmxlbmd0aDtcbiAgICAgICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgc3RyTGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgY2MgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIHZhciBhbHBoYSA9IG51bUluZGV4W2NjXTtcbiAgICAgICAgICAgIGlmIChhbHBoYSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBcIiZcIiArIGFscGhhICsgXCI7XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjYyA8IDMyIHx8IGNjID4gMTI2KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IFwiJiNcIiArIGNjICsgXCI7XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gc3RyLmNoYXJBdChpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgSHRtbDRFbnRpdGllcy5lbmNvZGVOb25VVEYgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHJldHVybiBuZXcgSHRtbDRFbnRpdGllcygpLmVuY29kZU5vblVURihzdHIpO1xuICAgIH07XG4gICAgSHRtbDRFbnRpdGllcy5wcm90b3R5cGUuZW5jb2RlTm9uQVNDSUkgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIGlmICghc3RyIHx8ICFzdHIubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0ckxlbmd0aCA9IHN0ci5sZW5ndGg7XG4gICAgICAgIHZhciByZXN1bHQgPSAnJztcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHN0ckxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGMgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIGlmIChjIDw9IDI1NSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBzdHJbaSsrXTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdCArPSAnJiMnICsgYyArICc7JztcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgSHRtbDRFbnRpdGllcy5lbmNvZGVOb25BU0NJSSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBIdG1sNEVudGl0aWVzKCkuZW5jb2RlTm9uQVNDSUkoc3RyKTtcbiAgICB9O1xuICAgIHJldHVybiBIdG1sNEVudGl0aWVzO1xufSgpKTtcbmV4cG9ydHMuSHRtbDRFbnRpdGllcyA9IEh0bWw0RW50aXRpZXM7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBFTlRJVElFUyA9IFtbJ0FhY3V0ZScsIFsxOTNdXSwgWydhYWN1dGUnLCBbMjI1XV0sIFsnQWJyZXZlJywgWzI1OF1dLCBbJ2FicmV2ZScsIFsyNTldXSwgWydhYycsIFs4NzY2XV0sIFsnYWNkJywgWzg3NjddXSwgWydhY0UnLCBbODc2NiwgODE5XV0sIFsnQWNpcmMnLCBbMTk0XV0sIFsnYWNpcmMnLCBbMjI2XV0sIFsnYWN1dGUnLCBbMTgwXV0sIFsnQWN5JywgWzEwNDBdXSwgWydhY3knLCBbMTA3Ml1dLCBbJ0FFbGlnJywgWzE5OF1dLCBbJ2FlbGlnJywgWzIzMF1dLCBbJ2FmJywgWzgyODldXSwgWydBZnInLCBbMTIwMDY4XV0sIFsnYWZyJywgWzEyMDA5NF1dLCBbJ0FncmF2ZScsIFsxOTJdXSwgWydhZ3JhdmUnLCBbMjI0XV0sIFsnYWxlZnN5bScsIFs4NTAxXV0sIFsnYWxlcGgnLCBbODUwMV1dLCBbJ0FscGhhJywgWzkxM11dLCBbJ2FscGhhJywgWzk0NV1dLCBbJ0FtYWNyJywgWzI1Nl1dLCBbJ2FtYWNyJywgWzI1N11dLCBbJ2FtYWxnJywgWzEwODE1XV0sIFsnYW1wJywgWzM4XV0sIFsnQU1QJywgWzM4XV0sIFsnYW5kYW5kJywgWzEwODM3XV0sIFsnQW5kJywgWzEwODM1XV0sIFsnYW5kJywgWzg3NDNdXSwgWydhbmRkJywgWzEwODQ0XV0sIFsnYW5kc2xvcGUnLCBbMTA4NDBdXSwgWydhbmR2JywgWzEwODQyXV0sIFsnYW5nJywgWzg3MzZdXSwgWydhbmdlJywgWzEwNjYwXV0sIFsnYW5nbGUnLCBbODczNl1dLCBbJ2FuZ21zZGFhJywgWzEwNjY0XV0sIFsnYW5nbXNkYWInLCBbMTA2NjVdXSwgWydhbmdtc2RhYycsIFsxMDY2Nl1dLCBbJ2FuZ21zZGFkJywgWzEwNjY3XV0sIFsnYW5nbXNkYWUnLCBbMTA2NjhdXSwgWydhbmdtc2RhZicsIFsxMDY2OV1dLCBbJ2FuZ21zZGFnJywgWzEwNjcwXV0sIFsnYW5nbXNkYWgnLCBbMTA2NzFdXSwgWydhbmdtc2QnLCBbODczN11dLCBbJ2FuZ3J0JywgWzg3MzVdXSwgWydhbmdydHZiJywgWzg4OTRdXSwgWydhbmdydHZiZCcsIFsxMDY1M11dLCBbJ2FuZ3NwaCcsIFs4NzM4XV0sIFsnYW5nc3QnLCBbMTk3XV0sIFsnYW5nemFycicsIFs5MDg0XV0sIFsnQW9nb24nLCBbMjYwXV0sIFsnYW9nb24nLCBbMjYxXV0sIFsnQW9wZicsIFsxMjAxMjBdXSwgWydhb3BmJywgWzEyMDE0Nl1dLCBbJ2FwYWNpcicsIFsxMDg2M11dLCBbJ2FwJywgWzg3NzZdXSwgWydhcEUnLCBbMTA4NjRdXSwgWydhcGUnLCBbODc3OF1dLCBbJ2FwaWQnLCBbODc3OV1dLCBbJ2Fwb3MnLCBbMzldXSwgWydBcHBseUZ1bmN0aW9uJywgWzgyODldXSwgWydhcHByb3gnLCBbODc3Nl1dLCBbJ2FwcHJveGVxJywgWzg3NzhdXSwgWydBcmluZycsIFsxOTddXSwgWydhcmluZycsIFsyMjldXSwgWydBc2NyJywgWzExOTk2NF1dLCBbJ2FzY3InLCBbMTE5OTkwXV0sIFsnQXNzaWduJywgWzg3ODhdXSwgWydhc3QnLCBbNDJdXSwgWydhc3ltcCcsIFs4Nzc2XV0sIFsnYXN5bXBlcScsIFs4NzgxXV0sIFsnQXRpbGRlJywgWzE5NV1dLCBbJ2F0aWxkZScsIFsyMjddXSwgWydBdW1sJywgWzE5Nl1dLCBbJ2F1bWwnLCBbMjI4XV0sIFsnYXdjb25pbnQnLCBbODc1NV1dLCBbJ2F3aW50JywgWzEwNzY5XV0sIFsnYmFja2NvbmcnLCBbODc4MF1dLCBbJ2JhY2tlcHNpbG9uJywgWzEwMTRdXSwgWydiYWNrcHJpbWUnLCBbODI0NV1dLCBbJ2JhY2tzaW0nLCBbODc2NV1dLCBbJ2JhY2tzaW1lcScsIFs4OTA5XV0sIFsnQmFja3NsYXNoJywgWzg3MjZdXSwgWydCYXJ2JywgWzEwOTgzXV0sIFsnYmFydmVlJywgWzg4OTNdXSwgWydiYXJ3ZWQnLCBbODk2NV1dLCBbJ0JhcndlZCcsIFs4OTY2XV0sIFsnYmFyd2VkZ2UnLCBbODk2NV1dLCBbJ2JicmsnLCBbOTE0MV1dLCBbJ2Jicmt0YnJrJywgWzkxNDJdXSwgWydiY29uZycsIFs4NzgwXV0sIFsnQmN5JywgWzEwNDFdXSwgWydiY3knLCBbMTA3M11dLCBbJ2JkcXVvJywgWzgyMjJdXSwgWydiZWNhdXMnLCBbODc1N11dLCBbJ2JlY2F1c2UnLCBbODc1N11dLCBbJ0JlY2F1c2UnLCBbODc1N11dLCBbJ2JlbXB0eXYnLCBbMTA2NzJdXSwgWydiZXBzaScsIFsxMDE0XV0sIFsnYmVybm91JywgWzg0OTJdXSwgWydCZXJub3VsbGlzJywgWzg0OTJdXSwgWydCZXRhJywgWzkxNF1dLCBbJ2JldGEnLCBbOTQ2XV0sIFsnYmV0aCcsIFs4NTAyXV0sIFsnYmV0d2VlbicsIFs4ODEyXV0sIFsnQmZyJywgWzEyMDA2OV1dLCBbJ2JmcicsIFsxMjAwOTVdXSwgWydiaWdjYXAnLCBbODg5OF1dLCBbJ2JpZ2NpcmMnLCBbOTcxMV1dLCBbJ2JpZ2N1cCcsIFs4ODk5XV0sIFsnYmlnb2RvdCcsIFsxMDc1Ml1dLCBbJ2JpZ29wbHVzJywgWzEwNzUzXV0sIFsnYmlnb3RpbWVzJywgWzEwNzU0XV0sIFsnYmlnc3FjdXAnLCBbMTA3NThdXSwgWydiaWdzdGFyJywgWzk3MzNdXSwgWydiaWd0cmlhbmdsZWRvd24nLCBbOTY2MV1dLCBbJ2JpZ3RyaWFuZ2xldXAnLCBbOTY1MV1dLCBbJ2JpZ3VwbHVzJywgWzEwNzU2XV0sIFsnYmlndmVlJywgWzg4OTddXSwgWydiaWd3ZWRnZScsIFs4ODk2XV0sIFsnYmthcm93JywgWzEwNTA5XV0sIFsnYmxhY2tsb3plbmdlJywgWzEwNzMxXV0sIFsnYmxhY2tzcXVhcmUnLCBbOTY0Ml1dLCBbJ2JsYWNrdHJpYW5nbGUnLCBbOTY1Ml1dLCBbJ2JsYWNrdHJpYW5nbGVkb3duJywgWzk2NjJdXSwgWydibGFja3RyaWFuZ2xlbGVmdCcsIFs5NjY2XV0sIFsnYmxhY2t0cmlhbmdsZXJpZ2h0JywgWzk2NTZdXSwgWydibGFuaycsIFs5MjUxXV0sIFsnYmxrMTInLCBbOTYxOF1dLCBbJ2JsazE0JywgWzk2MTddXSwgWydibGszNCcsIFs5NjE5XV0sIFsnYmxvY2snLCBbOTYwOF1dLCBbJ2JuZScsIFs2MSwgODQyMV1dLCBbJ2JuZXF1aXYnLCBbODgwMSwgODQyMV1dLCBbJ2JOb3QnLCBbMTA5ODldXSwgWydibm90JywgWzg5NzZdXSwgWydCb3BmJywgWzEyMDEyMV1dLCBbJ2JvcGYnLCBbMTIwMTQ3XV0sIFsnYm90JywgWzg4NjldXSwgWydib3R0b20nLCBbODg2OV1dLCBbJ2Jvd3RpZScsIFs4OTA0XV0sIFsnYm94Ym94JywgWzEwNjk3XV0sIFsnYm94ZGwnLCBbOTQ4OF1dLCBbJ2JveGRMJywgWzk1NTddXSwgWydib3hEbCcsIFs5NTU4XV0sIFsnYm94REwnLCBbOTU1OV1dLCBbJ2JveGRyJywgWzk0ODRdXSwgWydib3hkUicsIFs5NTU0XV0sIFsnYm94RHInLCBbOTU1NV1dLCBbJ2JveERSJywgWzk1NTZdXSwgWydib3hoJywgWzk0NzJdXSwgWydib3hIJywgWzk1NTJdXSwgWydib3hoZCcsIFs5NTE2XV0sIFsnYm94SGQnLCBbOTU3Ml1dLCBbJ2JveGhEJywgWzk1NzNdXSwgWydib3hIRCcsIFs5NTc0XV0sIFsnYm94aHUnLCBbOTUyNF1dLCBbJ2JveEh1JywgWzk1NzVdXSwgWydib3hoVScsIFs5NTc2XV0sIFsnYm94SFUnLCBbOTU3N11dLCBbJ2JveG1pbnVzJywgWzg4NjNdXSwgWydib3hwbHVzJywgWzg4NjJdXSwgWydib3h0aW1lcycsIFs4ODY0XV0sIFsnYm94dWwnLCBbOTQ5Nl1dLCBbJ2JveHVMJywgWzk1NjNdXSwgWydib3hVbCcsIFs5NTY0XV0sIFsnYm94VUwnLCBbOTU2NV1dLCBbJ2JveHVyJywgWzk0OTJdXSwgWydib3h1UicsIFs5NTYwXV0sIFsnYm94VXInLCBbOTU2MV1dLCBbJ2JveFVSJywgWzk1NjJdXSwgWydib3h2JywgWzk0NzRdXSwgWydib3hWJywgWzk1NTNdXSwgWydib3h2aCcsIFs5NTMyXV0sIFsnYm94dkgnLCBbOTU3OF1dLCBbJ2JveFZoJywgWzk1NzldXSwgWydib3hWSCcsIFs5NTgwXV0sIFsnYm94dmwnLCBbOTUwOF1dLCBbJ2JveHZMJywgWzk1NjldXSwgWydib3hWbCcsIFs5NTcwXV0sIFsnYm94VkwnLCBbOTU3MV1dLCBbJ2JveHZyJywgWzk1MDBdXSwgWydib3h2UicsIFs5NTY2XV0sIFsnYm94VnInLCBbOTU2N11dLCBbJ2JveFZSJywgWzk1NjhdXSwgWydicHJpbWUnLCBbODI0NV1dLCBbJ2JyZXZlJywgWzcyOF1dLCBbJ0JyZXZlJywgWzcyOF1dLCBbJ2JydmJhcicsIFsxNjZdXSwgWydic2NyJywgWzExOTk5MV1dLCBbJ0JzY3InLCBbODQ5Ml1dLCBbJ2JzZW1pJywgWzgyNzFdXSwgWydic2ltJywgWzg3NjVdXSwgWydic2ltZScsIFs4OTA5XV0sIFsnYnNvbGInLCBbMTA2OTNdXSwgWydic29sJywgWzkyXV0sIFsnYnNvbGhzdWInLCBbMTAxODRdXSwgWydidWxsJywgWzgyMjZdXSwgWydidWxsZXQnLCBbODIyNl1dLCBbJ2J1bXAnLCBbODc4Ml1dLCBbJ2J1bXBFJywgWzEwOTI2XV0sIFsnYnVtcGUnLCBbODc4M11dLCBbJ0J1bXBlcScsIFs4NzgyXV0sIFsnYnVtcGVxJywgWzg3ODNdXSwgWydDYWN1dGUnLCBbMjYyXV0sIFsnY2FjdXRlJywgWzI2M11dLCBbJ2NhcGFuZCcsIFsxMDgyMF1dLCBbJ2NhcGJyY3VwJywgWzEwODI1XV0sIFsnY2FwY2FwJywgWzEwODI3XV0sIFsnY2FwJywgWzg3NDVdXSwgWydDYXAnLCBbODkxNF1dLCBbJ2NhcGN1cCcsIFsxMDgyM11dLCBbJ2NhcGRvdCcsIFsxMDgxNl1dLCBbJ0NhcGl0YWxEaWZmZXJlbnRpYWxEJywgWzg1MTddXSwgWydjYXBzJywgWzg3NDUsIDY1MDI0XV0sIFsnY2FyZXQnLCBbODI1N11dLCBbJ2Nhcm9uJywgWzcxMV1dLCBbJ0NheWxleXMnLCBbODQ5M11dLCBbJ2NjYXBzJywgWzEwODI5XV0sIFsnQ2Nhcm9uJywgWzI2OF1dLCBbJ2NjYXJvbicsIFsyNjldXSwgWydDY2VkaWwnLCBbMTk5XV0sIFsnY2NlZGlsJywgWzIzMV1dLCBbJ0NjaXJjJywgWzI2NF1dLCBbJ2NjaXJjJywgWzI2NV1dLCBbJ0Njb25pbnQnLCBbODc1Ml1dLCBbJ2NjdXBzJywgWzEwODI4XV0sIFsnY2N1cHNzbScsIFsxMDgzMl1dLCBbJ0Nkb3QnLCBbMjY2XV0sIFsnY2RvdCcsIFsyNjddXSwgWydjZWRpbCcsIFsxODRdXSwgWydDZWRpbGxhJywgWzE4NF1dLCBbJ2NlbXB0eXYnLCBbMTA2NzRdXSwgWydjZW50JywgWzE2Ml1dLCBbJ2NlbnRlcmRvdCcsIFsxODNdXSwgWydDZW50ZXJEb3QnLCBbMTgzXV0sIFsnY2ZyJywgWzEyMDA5Nl1dLCBbJ0NmcicsIFs4NDkzXV0sIFsnQ0hjeScsIFsxMDYzXV0sIFsnY2hjeScsIFsxMDk1XV0sIFsnY2hlY2snLCBbMTAwMDNdXSwgWydjaGVja21hcmsnLCBbMTAwMDNdXSwgWydDaGknLCBbOTM1XV0sIFsnY2hpJywgWzk2N11dLCBbJ2NpcmMnLCBbNzEwXV0sIFsnY2lyY2VxJywgWzg3OTFdXSwgWydjaXJjbGVhcnJvd2xlZnQnLCBbODYzNF1dLCBbJ2NpcmNsZWFycm93cmlnaHQnLCBbODYzNV1dLCBbJ2NpcmNsZWRhc3QnLCBbODg1OV1dLCBbJ2NpcmNsZWRjaXJjJywgWzg4NThdXSwgWydjaXJjbGVkZGFzaCcsIFs4ODYxXV0sIFsnQ2lyY2xlRG90JywgWzg4NTddXSwgWydjaXJjbGVkUicsIFsxNzRdXSwgWydjaXJjbGVkUycsIFs5NDE2XV0sIFsnQ2lyY2xlTWludXMnLCBbODg1NF1dLCBbJ0NpcmNsZVBsdXMnLCBbODg1M11dLCBbJ0NpcmNsZVRpbWVzJywgWzg4NTVdXSwgWydjaXInLCBbOTY3NV1dLCBbJ2NpckUnLCBbMTA2OTFdXSwgWydjaXJlJywgWzg3OTFdXSwgWydjaXJmbmludCcsIFsxMDc2OF1dLCBbJ2Npcm1pZCcsIFsxMDk5MV1dLCBbJ2NpcnNjaXInLCBbMTA2OTBdXSwgWydDbG9ja3dpc2VDb250b3VySW50ZWdyYWwnLCBbODc1NF1dLCBbJ2NsdWJzJywgWzk4MjddXSwgWydjbHVic3VpdCcsIFs5ODI3XV0sIFsnY29sb24nLCBbNThdXSwgWydDb2xvbicsIFs4NzU5XV0sIFsnQ29sb25lJywgWzEwODY4XV0sIFsnY29sb25lJywgWzg3ODhdXSwgWydjb2xvbmVxJywgWzg3ODhdXSwgWydjb21tYScsIFs0NF1dLCBbJ2NvbW1hdCcsIFs2NF1dLCBbJ2NvbXAnLCBbODcwNV1dLCBbJ2NvbXBmbicsIFs4NzI4XV0sIFsnY29tcGxlbWVudCcsIFs4NzA1XV0sIFsnY29tcGxleGVzJywgWzg0NTBdXSwgWydjb25nJywgWzg3NzNdXSwgWydjb25nZG90JywgWzEwODYxXV0sIFsnQ29uZ3J1ZW50JywgWzg4MDFdXSwgWydjb25pbnQnLCBbODc1MF1dLCBbJ0NvbmludCcsIFs4NzUxXV0sIFsnQ29udG91ckludGVncmFsJywgWzg3NTBdXSwgWydjb3BmJywgWzEyMDE0OF1dLCBbJ0NvcGYnLCBbODQ1MF1dLCBbJ2NvcHJvZCcsIFs4NzIwXV0sIFsnQ29wcm9kdWN0JywgWzg3MjBdXSwgWydjb3B5JywgWzE2OV1dLCBbJ0NPUFknLCBbMTY5XV0sIFsnY29weXNyJywgWzg0NzFdXSwgWydDb3VudGVyQ2xvY2t3aXNlQ29udG91ckludGVncmFsJywgWzg3NTVdXSwgWydjcmFycicsIFs4NjI5XV0sIFsnY3Jvc3MnLCBbMTAwMDddXSwgWydDcm9zcycsIFsxMDc5OV1dLCBbJ0NzY3InLCBbMTE5OTY2XV0sIFsnY3NjcicsIFsxMTk5OTJdXSwgWydjc3ViJywgWzEwOTU5XV0sIFsnY3N1YmUnLCBbMTA5NjFdXSwgWydjc3VwJywgWzEwOTYwXV0sIFsnY3N1cGUnLCBbMTA5NjJdXSwgWydjdGRvdCcsIFs4OTQzXV0sIFsnY3VkYXJybCcsIFsxMDU1Ml1dLCBbJ2N1ZGFycnInLCBbMTA1NDldXSwgWydjdWVwcicsIFs4OTI2XV0sIFsnY3Vlc2MnLCBbODkyN11dLCBbJ2N1bGFycicsIFs4NjMwXV0sIFsnY3VsYXJycCcsIFsxMDU1N11dLCBbJ2N1cGJyY2FwJywgWzEwODI0XV0sIFsnY3VwY2FwJywgWzEwODIyXV0sIFsnQ3VwQ2FwJywgWzg3ODFdXSwgWydjdXAnLCBbODc0Nl1dLCBbJ0N1cCcsIFs4OTE1XV0sIFsnY3VwY3VwJywgWzEwODI2XV0sIFsnY3VwZG90JywgWzg4NDVdXSwgWydjdXBvcicsIFsxMDgyMV1dLCBbJ2N1cHMnLCBbODc0NiwgNjUwMjRdXSwgWydjdXJhcnInLCBbODYzMV1dLCBbJ2N1cmFycm0nLCBbMTA1NTZdXSwgWydjdXJseWVxcHJlYycsIFs4OTI2XV0sIFsnY3VybHllcXN1Y2MnLCBbODkyN11dLCBbJ2N1cmx5dmVlJywgWzg5MTBdXSwgWydjdXJseXdlZGdlJywgWzg5MTFdXSwgWydjdXJyZW4nLCBbMTY0XV0sIFsnY3VydmVhcnJvd2xlZnQnLCBbODYzMF1dLCBbJ2N1cnZlYXJyb3dyaWdodCcsIFs4NjMxXV0sIFsnY3V2ZWUnLCBbODkxMF1dLCBbJ2N1d2VkJywgWzg5MTFdXSwgWydjd2NvbmludCcsIFs4NzU0XV0sIFsnY3dpbnQnLCBbODc1M11dLCBbJ2N5bGN0eScsIFs5MDA1XV0sIFsnZGFnZ2VyJywgWzgyMjRdXSwgWydEYWdnZXInLCBbODIyNV1dLCBbJ2RhbGV0aCcsIFs4NTA0XV0sIFsnZGFycicsIFs4NTk1XV0sIFsnRGFycicsIFs4NjA5XV0sIFsnZEFycicsIFs4NjU5XV0sIFsnZGFzaCcsIFs4MjA4XV0sIFsnRGFzaHYnLCBbMTA5ODBdXSwgWydkYXNodicsIFs4ODY3XV0sIFsnZGJrYXJvdycsIFsxMDUxMV1dLCBbJ2RibGFjJywgWzczM11dLCBbJ0RjYXJvbicsIFsyNzBdXSwgWydkY2Fyb24nLCBbMjcxXV0sIFsnRGN5JywgWzEwNDRdXSwgWydkY3knLCBbMTA3Nl1dLCBbJ2RkYWdnZXInLCBbODIyNV1dLCBbJ2RkYXJyJywgWzg2NTBdXSwgWydERCcsIFs4NTE3XV0sIFsnZGQnLCBbODUxOF1dLCBbJ0REb3RyYWhkJywgWzEwNTEzXV0sIFsnZGRvdHNlcScsIFsxMDg3MV1dLCBbJ2RlZycsIFsxNzZdXSwgWydEZWwnLCBbODcxMV1dLCBbJ0RlbHRhJywgWzkxNl1dLCBbJ2RlbHRhJywgWzk0OF1dLCBbJ2RlbXB0eXYnLCBbMTA2NzNdXSwgWydkZmlzaHQnLCBbMTA2MjNdXSwgWydEZnInLCBbMTIwMDcxXV0sIFsnZGZyJywgWzEyMDA5N11dLCBbJ2RIYXInLCBbMTA1OTddXSwgWydkaGFybCcsIFs4NjQzXV0sIFsnZGhhcnInLCBbODY0Ml1dLCBbJ0RpYWNyaXRpY2FsQWN1dGUnLCBbMTgwXV0sIFsnRGlhY3JpdGljYWxEb3QnLCBbNzI5XV0sIFsnRGlhY3JpdGljYWxEb3VibGVBY3V0ZScsIFs3MzNdXSwgWydEaWFjcml0aWNhbEdyYXZlJywgWzk2XV0sIFsnRGlhY3JpdGljYWxUaWxkZScsIFs3MzJdXSwgWydkaWFtJywgWzg5MDBdXSwgWydkaWFtb25kJywgWzg5MDBdXSwgWydEaWFtb25kJywgWzg5MDBdXSwgWydkaWFtb25kc3VpdCcsIFs5ODMwXV0sIFsnZGlhbXMnLCBbOTgzMF1dLCBbJ2RpZScsIFsxNjhdXSwgWydEaWZmZXJlbnRpYWxEJywgWzg1MThdXSwgWydkaWdhbW1hJywgWzk4OV1dLCBbJ2Rpc2luJywgWzg5NDZdXSwgWydkaXYnLCBbMjQ3XV0sIFsnZGl2aWRlJywgWzI0N11dLCBbJ2RpdmlkZW9udGltZXMnLCBbODkwM11dLCBbJ2Rpdm9ueCcsIFs4OTAzXV0sIFsnREpjeScsIFsxMDI2XV0sIFsnZGpjeScsIFsxMTA2XV0sIFsnZGxjb3JuJywgWzg5OTBdXSwgWydkbGNyb3AnLCBbODk3M11dLCBbJ2RvbGxhcicsIFszNl1dLCBbJ0RvcGYnLCBbMTIwMTIzXV0sIFsnZG9wZicsIFsxMjAxNDldXSwgWydEb3QnLCBbMTY4XV0sIFsnZG90JywgWzcyOV1dLCBbJ0RvdERvdCcsIFs4NDEyXV0sIFsnZG90ZXEnLCBbODc4NF1dLCBbJ2RvdGVxZG90JywgWzg3ODVdXSwgWydEb3RFcXVhbCcsIFs4Nzg0XV0sIFsnZG90bWludXMnLCBbODc2MF1dLCBbJ2RvdHBsdXMnLCBbODcyNF1dLCBbJ2RvdHNxdWFyZScsIFs4ODY1XV0sIFsnZG91YmxlYmFyd2VkZ2UnLCBbODk2Nl1dLCBbJ0RvdWJsZUNvbnRvdXJJbnRlZ3JhbCcsIFs4NzUxXV0sIFsnRG91YmxlRG90JywgWzE2OF1dLCBbJ0RvdWJsZURvd25BcnJvdycsIFs4NjU5XV0sIFsnRG91YmxlTGVmdEFycm93JywgWzg2NTZdXSwgWydEb3VibGVMZWZ0UmlnaHRBcnJvdycsIFs4NjYwXV0sIFsnRG91YmxlTGVmdFRlZScsIFsxMDk4MF1dLCBbJ0RvdWJsZUxvbmdMZWZ0QXJyb3cnLCBbMTAyMzJdXSwgWydEb3VibGVMb25nTGVmdFJpZ2h0QXJyb3cnLCBbMTAyMzRdXSwgWydEb3VibGVMb25nUmlnaHRBcnJvdycsIFsxMDIzM11dLCBbJ0RvdWJsZVJpZ2h0QXJyb3cnLCBbODY1OF1dLCBbJ0RvdWJsZVJpZ2h0VGVlJywgWzg4NzJdXSwgWydEb3VibGVVcEFycm93JywgWzg2NTddXSwgWydEb3VibGVVcERvd25BcnJvdycsIFs4NjYxXV0sIFsnRG91YmxlVmVydGljYWxCYXInLCBbODc0MV1dLCBbJ0Rvd25BcnJvd0JhcicsIFsxMDUxNV1dLCBbJ2Rvd25hcnJvdycsIFs4NTk1XV0sIFsnRG93bkFycm93JywgWzg1OTVdXSwgWydEb3duYXJyb3cnLCBbODY1OV1dLCBbJ0Rvd25BcnJvd1VwQXJyb3cnLCBbODY5M11dLCBbJ0Rvd25CcmV2ZScsIFs3ODVdXSwgWydkb3duZG93bmFycm93cycsIFs4NjUwXV0sIFsnZG93bmhhcnBvb25sZWZ0JywgWzg2NDNdXSwgWydkb3duaGFycG9vbnJpZ2h0JywgWzg2NDJdXSwgWydEb3duTGVmdFJpZ2h0VmVjdG9yJywgWzEwNTc2XV0sIFsnRG93bkxlZnRUZWVWZWN0b3InLCBbMTA1OTBdXSwgWydEb3duTGVmdFZlY3RvckJhcicsIFsxMDU4Ml1dLCBbJ0Rvd25MZWZ0VmVjdG9yJywgWzg2MzddXSwgWydEb3duUmlnaHRUZWVWZWN0b3InLCBbMTA1OTFdXSwgWydEb3duUmlnaHRWZWN0b3JCYXInLCBbMTA1ODNdXSwgWydEb3duUmlnaHRWZWN0b3InLCBbODY0MV1dLCBbJ0Rvd25UZWVBcnJvdycsIFs4NjE1XV0sIFsnRG93blRlZScsIFs4ODY4XV0sIFsnZHJia2Fyb3cnLCBbMTA1MTJdXSwgWydkcmNvcm4nLCBbODk5MV1dLCBbJ2RyY3JvcCcsIFs4OTcyXV0sIFsnRHNjcicsIFsxMTk5NjddXSwgWydkc2NyJywgWzExOTk5M11dLCBbJ0RTY3knLCBbMTAyOV1dLCBbJ2RzY3knLCBbMTEwOV1dLCBbJ2Rzb2wnLCBbMTA3NDJdXSwgWydEc3Ryb2snLCBbMjcyXV0sIFsnZHN0cm9rJywgWzI3M11dLCBbJ2R0ZG90JywgWzg5NDVdXSwgWydkdHJpJywgWzk2NjNdXSwgWydkdHJpZicsIFs5NjYyXV0sIFsnZHVhcnInLCBbODY5M11dLCBbJ2R1aGFyJywgWzEwNjA3XV0sIFsnZHdhbmdsZScsIFsxMDY2Ml1dLCBbJ0RaY3knLCBbMTAzOV1dLCBbJ2R6Y3knLCBbMTExOV1dLCBbJ2R6aWdyYXJyJywgWzEwMjM5XV0sIFsnRWFjdXRlJywgWzIwMV1dLCBbJ2VhY3V0ZScsIFsyMzNdXSwgWydlYXN0ZXInLCBbMTA4NjJdXSwgWydFY2Fyb24nLCBbMjgyXV0sIFsnZWNhcm9uJywgWzI4M11dLCBbJ0VjaXJjJywgWzIwMl1dLCBbJ2VjaXJjJywgWzIzNF1dLCBbJ2VjaXInLCBbODc5MF1dLCBbJ2Vjb2xvbicsIFs4Nzg5XV0sIFsnRWN5JywgWzEwNjldXSwgWydlY3knLCBbMTEwMV1dLCBbJ2VERG90JywgWzEwODcxXV0sIFsnRWRvdCcsIFsyNzhdXSwgWydlZG90JywgWzI3OV1dLCBbJ2VEb3QnLCBbODc4NV1dLCBbJ2VlJywgWzg1MTldXSwgWydlZkRvdCcsIFs4Nzg2XV0sIFsnRWZyJywgWzEyMDA3Ml1dLCBbJ2VmcicsIFsxMjAwOThdXSwgWydlZycsIFsxMDkwNl1dLCBbJ0VncmF2ZScsIFsyMDBdXSwgWydlZ3JhdmUnLCBbMjMyXV0sIFsnZWdzJywgWzEwOTAyXV0sIFsnZWdzZG90JywgWzEwOTA0XV0sIFsnZWwnLCBbMTA5MDVdXSwgWydFbGVtZW50JywgWzg3MTJdXSwgWydlbGludGVycycsIFs5MTkxXV0sIFsnZWxsJywgWzg0NjddXSwgWydlbHMnLCBbMTA5MDFdXSwgWydlbHNkb3QnLCBbMTA5MDNdXSwgWydFbWFjcicsIFsyNzRdXSwgWydlbWFjcicsIFsyNzVdXSwgWydlbXB0eScsIFs4NzA5XV0sIFsnZW1wdHlzZXQnLCBbODcwOV1dLCBbJ0VtcHR5U21hbGxTcXVhcmUnLCBbOTcyM11dLCBbJ2VtcHR5dicsIFs4NzA5XV0sIFsnRW1wdHlWZXJ5U21hbGxTcXVhcmUnLCBbOTY0M11dLCBbJ2Vtc3AxMycsIFs4MTk2XV0sIFsnZW1zcDE0JywgWzgxOTddXSwgWydlbXNwJywgWzgxOTVdXSwgWydFTkcnLCBbMzMwXV0sIFsnZW5nJywgWzMzMV1dLCBbJ2Vuc3AnLCBbODE5NF1dLCBbJ0VvZ29uJywgWzI4MF1dLCBbJ2VvZ29uJywgWzI4MV1dLCBbJ0VvcGYnLCBbMTIwMTI0XV0sIFsnZW9wZicsIFsxMjAxNTBdXSwgWydlcGFyJywgWzg5MTddXSwgWydlcGFyc2wnLCBbMTA3MjNdXSwgWydlcGx1cycsIFsxMDg2NV1dLCBbJ2Vwc2knLCBbOTQ5XV0sIFsnRXBzaWxvbicsIFs5MTddXSwgWydlcHNpbG9uJywgWzk0OV1dLCBbJ2Vwc2l2JywgWzEwMTNdXSwgWydlcWNpcmMnLCBbODc5MF1dLCBbJ2VxY29sb24nLCBbODc4OV1dLCBbJ2Vxc2ltJywgWzg3NzBdXSwgWydlcXNsYW50Z3RyJywgWzEwOTAyXV0sIFsnZXFzbGFudGxlc3MnLCBbMTA5MDFdXSwgWydFcXVhbCcsIFsxMDg2OV1dLCBbJ2VxdWFscycsIFs2MV1dLCBbJ0VxdWFsVGlsZGUnLCBbODc3MF1dLCBbJ2VxdWVzdCcsIFs4Nzk5XV0sIFsnRXF1aWxpYnJpdW0nLCBbODY1Ml1dLCBbJ2VxdWl2JywgWzg4MDFdXSwgWydlcXVpdkREJywgWzEwODcyXV0sIFsnZXF2cGFyc2wnLCBbMTA3MjVdXSwgWydlcmFycicsIFsxMDYwOV1dLCBbJ2VyRG90JywgWzg3ODddXSwgWydlc2NyJywgWzg0OTVdXSwgWydFc2NyJywgWzg0OTZdXSwgWydlc2RvdCcsIFs4Nzg0XV0sIFsnRXNpbScsIFsxMDg2N11dLCBbJ2VzaW0nLCBbODc3MF1dLCBbJ0V0YScsIFs5MTldXSwgWydldGEnLCBbOTUxXV0sIFsnRVRIJywgWzIwOF1dLCBbJ2V0aCcsIFsyNDBdXSwgWydFdW1sJywgWzIwM11dLCBbJ2V1bWwnLCBbMjM1XV0sIFsnZXVybycsIFs4MzY0XV0sIFsnZXhjbCcsIFszM11dLCBbJ2V4aXN0JywgWzg3MDddXSwgWydFeGlzdHMnLCBbODcwN11dLCBbJ2V4cGVjdGF0aW9uJywgWzg0OTZdXSwgWydleHBvbmVudGlhbGUnLCBbODUxOV1dLCBbJ0V4cG9uZW50aWFsRScsIFs4NTE5XV0sIFsnZmFsbGluZ2RvdHNlcScsIFs4Nzg2XV0sIFsnRmN5JywgWzEwNjBdXSwgWydmY3knLCBbMTA5Ml1dLCBbJ2ZlbWFsZScsIFs5NzkyXV0sIFsnZmZpbGlnJywgWzY0MjU5XV0sIFsnZmZsaWcnLCBbNjQyNTZdXSwgWydmZmxsaWcnLCBbNjQyNjBdXSwgWydGZnInLCBbMTIwMDczXV0sIFsnZmZyJywgWzEyMDA5OV1dLCBbJ2ZpbGlnJywgWzY0MjU3XV0sIFsnRmlsbGVkU21hbGxTcXVhcmUnLCBbOTcyNF1dLCBbJ0ZpbGxlZFZlcnlTbWFsbFNxdWFyZScsIFs5NjQyXV0sIFsnZmpsaWcnLCBbMTAyLCAxMDZdXSwgWydmbGF0JywgWzk4MzddXSwgWydmbGxpZycsIFs2NDI1OF1dLCBbJ2ZsdG5zJywgWzk2NDldXSwgWydmbm9mJywgWzQwMl1dLCBbJ0ZvcGYnLCBbMTIwMTI1XV0sIFsnZm9wZicsIFsxMjAxNTFdXSwgWydmb3JhbGwnLCBbODcwNF1dLCBbJ0ZvckFsbCcsIFs4NzA0XV0sIFsnZm9yaycsIFs4OTE2XV0sIFsnZm9ya3YnLCBbMTA5NjldXSwgWydGb3VyaWVydHJmJywgWzg0OTddXSwgWydmcGFydGludCcsIFsxMDc2NV1dLCBbJ2ZyYWMxMicsIFsxODldXSwgWydmcmFjMTMnLCBbODUzMV1dLCBbJ2ZyYWMxNCcsIFsxODhdXSwgWydmcmFjMTUnLCBbODUzM11dLCBbJ2ZyYWMxNicsIFs4NTM3XV0sIFsnZnJhYzE4JywgWzg1MzldXSwgWydmcmFjMjMnLCBbODUzMl1dLCBbJ2ZyYWMyNScsIFs4NTM0XV0sIFsnZnJhYzM0JywgWzE5MF1dLCBbJ2ZyYWMzNScsIFs4NTM1XV0sIFsnZnJhYzM4JywgWzg1NDBdXSwgWydmcmFjNDUnLCBbODUzNl1dLCBbJ2ZyYWM1NicsIFs4NTM4XV0sIFsnZnJhYzU4JywgWzg1NDFdXSwgWydmcmFjNzgnLCBbODU0Ml1dLCBbJ2ZyYXNsJywgWzgyNjBdXSwgWydmcm93bicsIFs4OTk0XV0sIFsnZnNjcicsIFsxMTk5OTVdXSwgWydGc2NyJywgWzg0OTddXSwgWydnYWN1dGUnLCBbNTAxXV0sIFsnR2FtbWEnLCBbOTE1XV0sIFsnZ2FtbWEnLCBbOTQ3XV0sIFsnR2FtbWFkJywgWzk4OF1dLCBbJ2dhbW1hZCcsIFs5ODldXSwgWydnYXAnLCBbMTA4ODZdXSwgWydHYnJldmUnLCBbMjg2XV0sIFsnZ2JyZXZlJywgWzI4N11dLCBbJ0djZWRpbCcsIFsyOTBdXSwgWydHY2lyYycsIFsyODRdXSwgWydnY2lyYycsIFsyODVdXSwgWydHY3knLCBbMTA0M11dLCBbJ2djeScsIFsxMDc1XV0sIFsnR2RvdCcsIFsyODhdXSwgWydnZG90JywgWzI4OV1dLCBbJ2dlJywgWzg4MDVdXSwgWydnRScsIFs4ODA3XV0sIFsnZ0VsJywgWzEwODkyXV0sIFsnZ2VsJywgWzg5MjNdXSwgWydnZXEnLCBbODgwNV1dLCBbJ2dlcXEnLCBbODgwN11dLCBbJ2dlcXNsYW50JywgWzEwODc4XV0sIFsnZ2VzY2MnLCBbMTA5MjFdXSwgWydnZXMnLCBbMTA4NzhdXSwgWydnZXNkb3QnLCBbMTA4ODBdXSwgWydnZXNkb3RvJywgWzEwODgyXV0sIFsnZ2VzZG90b2wnLCBbMTA4ODRdXSwgWydnZXNsJywgWzg5MjMsIDY1MDI0XV0sIFsnZ2VzbGVzJywgWzEwOTAwXV0sIFsnR2ZyJywgWzEyMDA3NF1dLCBbJ2dmcicsIFsxMjAxMDBdXSwgWydnZycsIFs4ODExXV0sIFsnR2cnLCBbODkyMV1dLCBbJ2dnZycsIFs4OTIxXV0sIFsnZ2ltZWwnLCBbODUwM11dLCBbJ0dKY3knLCBbMTAyN11dLCBbJ2dqY3knLCBbMTEwN11dLCBbJ2dsYScsIFsxMDkxN11dLCBbJ2dsJywgWzg4MjNdXSwgWydnbEUnLCBbMTA4OThdXSwgWydnbGonLCBbMTA5MTZdXSwgWydnbmFwJywgWzEwODkwXV0sIFsnZ25hcHByb3gnLCBbMTA4OTBdXSwgWydnbmUnLCBbMTA4ODhdXSwgWydnbkUnLCBbODgwOV1dLCBbJ2duZXEnLCBbMTA4ODhdXSwgWydnbmVxcScsIFs4ODA5XV0sIFsnZ25zaW0nLCBbODkzNV1dLCBbJ0dvcGYnLCBbMTIwMTI2XV0sIFsnZ29wZicsIFsxMjAxNTJdXSwgWydncmF2ZScsIFs5Nl1dLCBbJ0dyZWF0ZXJFcXVhbCcsIFs4ODA1XV0sIFsnR3JlYXRlckVxdWFsTGVzcycsIFs4OTIzXV0sIFsnR3JlYXRlckZ1bGxFcXVhbCcsIFs4ODA3XV0sIFsnR3JlYXRlckdyZWF0ZXInLCBbMTA5MTRdXSwgWydHcmVhdGVyTGVzcycsIFs4ODIzXV0sIFsnR3JlYXRlclNsYW50RXF1YWwnLCBbMTA4NzhdXSwgWydHcmVhdGVyVGlsZGUnLCBbODgxOV1dLCBbJ0dzY3InLCBbMTE5OTcwXV0sIFsnZ3NjcicsIFs4NDU4XV0sIFsnZ3NpbScsIFs4ODE5XV0sIFsnZ3NpbWUnLCBbMTA4OTRdXSwgWydnc2ltbCcsIFsxMDg5Nl1dLCBbJ2d0Y2MnLCBbMTA5MTldXSwgWydndGNpcicsIFsxMDg3NF1dLCBbJ2d0JywgWzYyXV0sIFsnR1QnLCBbNjJdXSwgWydHdCcsIFs4ODExXV0sIFsnZ3Rkb3QnLCBbODkxOV1dLCBbJ2d0bFBhcicsIFsxMDY0NV1dLCBbJ2d0cXVlc3QnLCBbMTA4NzZdXSwgWydndHJhcHByb3gnLCBbMTA4ODZdXSwgWydndHJhcnInLCBbMTA2MTZdXSwgWydndHJkb3QnLCBbODkxOV1dLCBbJ2d0cmVxbGVzcycsIFs4OTIzXV0sIFsnZ3RyZXFxbGVzcycsIFsxMDg5Ml1dLCBbJ2d0cmxlc3MnLCBbODgyM11dLCBbJ2d0cnNpbScsIFs4ODE5XV0sIFsnZ3ZlcnRuZXFxJywgWzg4MDksIDY1MDI0XV0sIFsnZ3ZuRScsIFs4ODA5LCA2NTAyNF1dLCBbJ0hhY2VrJywgWzcxMV1dLCBbJ2hhaXJzcCcsIFs4MjAyXV0sIFsnaGFsZicsIFsxODldXSwgWydoYW1pbHQnLCBbODQ1OV1dLCBbJ0hBUkRjeScsIFsxMDY2XV0sIFsnaGFyZGN5JywgWzEwOThdXSwgWydoYXJyY2lyJywgWzEwNTY4XV0sIFsnaGFycicsIFs4NTk2XV0sIFsnaEFycicsIFs4NjYwXV0sIFsnaGFycncnLCBbODYyMV1dLCBbJ0hhdCcsIFs5NF1dLCBbJ2hiYXInLCBbODQ2M11dLCBbJ0hjaXJjJywgWzI5Ml1dLCBbJ2hjaXJjJywgWzI5M11dLCBbJ2hlYXJ0cycsIFs5ODI5XV0sIFsnaGVhcnRzdWl0JywgWzk4MjldXSwgWydoZWxsaXAnLCBbODIzMF1dLCBbJ2hlcmNvbicsIFs4ODg5XV0sIFsnaGZyJywgWzEyMDEwMV1dLCBbJ0hmcicsIFs4NDYwXV0sIFsnSGlsYmVydFNwYWNlJywgWzg0NTldXSwgWydoa3NlYXJvdycsIFsxMDUzM11dLCBbJ2hrc3dhcm93JywgWzEwNTM0XV0sIFsnaG9hcnInLCBbODcwM11dLCBbJ2hvbXRodCcsIFs4NzYzXV0sIFsnaG9va2xlZnRhcnJvdycsIFs4NjE3XV0sIFsnaG9va3JpZ2h0YXJyb3cnLCBbODYxOF1dLCBbJ2hvcGYnLCBbMTIwMTUzXV0sIFsnSG9wZicsIFs4NDYxXV0sIFsnaG9yYmFyJywgWzgyMTNdXSwgWydIb3Jpem9udGFsTGluZScsIFs5NDcyXV0sIFsnaHNjcicsIFsxMTk5OTddXSwgWydIc2NyJywgWzg0NTldXSwgWydoc2xhc2gnLCBbODQ2M11dLCBbJ0hzdHJvaycsIFsyOTRdXSwgWydoc3Ryb2snLCBbMjk1XV0sIFsnSHVtcERvd25IdW1wJywgWzg3ODJdXSwgWydIdW1wRXF1YWwnLCBbODc4M11dLCBbJ2h5YnVsbCcsIFs4MjU5XV0sIFsnaHlwaGVuJywgWzgyMDhdXSwgWydJYWN1dGUnLCBbMjA1XV0sIFsnaWFjdXRlJywgWzIzN11dLCBbJ2ljJywgWzgyOTFdXSwgWydJY2lyYycsIFsyMDZdXSwgWydpY2lyYycsIFsyMzhdXSwgWydJY3knLCBbMTA0OF1dLCBbJ2ljeScsIFsxMDgwXV0sIFsnSWRvdCcsIFszMDRdXSwgWydJRWN5JywgWzEwNDVdXSwgWydpZWN5JywgWzEwNzddXSwgWydpZXhjbCcsIFsxNjFdXSwgWydpZmYnLCBbODY2MF1dLCBbJ2lmcicsIFsxMjAxMDJdXSwgWydJZnInLCBbODQ2NV1dLCBbJ0lncmF2ZScsIFsyMDRdXSwgWydpZ3JhdmUnLCBbMjM2XV0sIFsnaWknLCBbODUyMF1dLCBbJ2lpaWludCcsIFsxMDc2NF1dLCBbJ2lpaW50JywgWzg3NDldXSwgWydpaW5maW4nLCBbMTA3MTZdXSwgWydpaW90YScsIFs4NDg5XV0sIFsnSUpsaWcnLCBbMzA2XV0sIFsnaWpsaWcnLCBbMzA3XV0sIFsnSW1hY3InLCBbMjk4XV0sIFsnaW1hY3InLCBbMjk5XV0sIFsnaW1hZ2UnLCBbODQ2NV1dLCBbJ0ltYWdpbmFyeUknLCBbODUyMF1dLCBbJ2ltYWdsaW5lJywgWzg0NjRdXSwgWydpbWFncGFydCcsIFs4NDY1XV0sIFsnaW1hdGgnLCBbMzA1XV0sIFsnSW0nLCBbODQ2NV1dLCBbJ2ltb2YnLCBbODg4N11dLCBbJ2ltcGVkJywgWzQzN11dLCBbJ0ltcGxpZXMnLCBbODY1OF1dLCBbJ2luY2FyZScsIFs4NDUzXV0sIFsnaW4nLCBbODcxMl1dLCBbJ2luZmluJywgWzg3MzRdXSwgWydpbmZpbnRpZScsIFsxMDcxN11dLCBbJ2lub2RvdCcsIFszMDVdXSwgWydpbnRjYWwnLCBbODg5MF1dLCBbJ2ludCcsIFs4NzQ3XV0sIFsnSW50JywgWzg3NDhdXSwgWydpbnRlZ2VycycsIFs4NDg0XV0sIFsnSW50ZWdyYWwnLCBbODc0N11dLCBbJ2ludGVyY2FsJywgWzg4OTBdXSwgWydJbnRlcnNlY3Rpb24nLCBbODg5OF1dLCBbJ2ludGxhcmhrJywgWzEwNzc1XV0sIFsnaW50cHJvZCcsIFsxMDgxMl1dLCBbJ0ludmlzaWJsZUNvbW1hJywgWzgyOTFdXSwgWydJbnZpc2libGVUaW1lcycsIFs4MjkwXV0sIFsnSU9jeScsIFsxMDI1XV0sIFsnaW9jeScsIFsxMTA1XV0sIFsnSW9nb24nLCBbMzAyXV0sIFsnaW9nb24nLCBbMzAzXV0sIFsnSW9wZicsIFsxMjAxMjhdXSwgWydpb3BmJywgWzEyMDE1NF1dLCBbJ0lvdGEnLCBbOTIxXV0sIFsnaW90YScsIFs5NTNdXSwgWydpcHJvZCcsIFsxMDgxMl1dLCBbJ2lxdWVzdCcsIFsxOTFdXSwgWydpc2NyJywgWzExOTk5OF1dLCBbJ0lzY3InLCBbODQ2NF1dLCBbJ2lzaW4nLCBbODcxMl1dLCBbJ2lzaW5kb3QnLCBbODk0OV1dLCBbJ2lzaW5FJywgWzg5NTNdXSwgWydpc2lucycsIFs4OTQ4XV0sIFsnaXNpbnN2JywgWzg5NDddXSwgWydpc2ludicsIFs4NzEyXV0sIFsnaXQnLCBbODI5MF1dLCBbJ0l0aWxkZScsIFsyOTZdXSwgWydpdGlsZGUnLCBbMjk3XV0sIFsnSXVrY3knLCBbMTAzMF1dLCBbJ2l1a2N5JywgWzExMTBdXSwgWydJdW1sJywgWzIwN11dLCBbJ2l1bWwnLCBbMjM5XV0sIFsnSmNpcmMnLCBbMzA4XV0sIFsnamNpcmMnLCBbMzA5XV0sIFsnSmN5JywgWzEwNDldXSwgWydqY3knLCBbMTA4MV1dLCBbJ0pmcicsIFsxMjAwNzddXSwgWydqZnInLCBbMTIwMTAzXV0sIFsnam1hdGgnLCBbNTY3XV0sIFsnSm9wZicsIFsxMjAxMjldXSwgWydqb3BmJywgWzEyMDE1NV1dLCBbJ0pzY3InLCBbMTE5OTczXV0sIFsnanNjcicsIFsxMTk5OTldXSwgWydKc2VyY3knLCBbMTAzMl1dLCBbJ2pzZXJjeScsIFsxMTEyXV0sIFsnSnVrY3knLCBbMTAyOF1dLCBbJ2p1a2N5JywgWzExMDhdXSwgWydLYXBwYScsIFs5MjJdXSwgWydrYXBwYScsIFs5NTRdXSwgWydrYXBwYXYnLCBbMTAwOF1dLCBbJ0tjZWRpbCcsIFszMTBdXSwgWydrY2VkaWwnLCBbMzExXV0sIFsnS2N5JywgWzEwNTBdXSwgWydrY3knLCBbMTA4Ml1dLCBbJ0tmcicsIFsxMjAwNzhdXSwgWydrZnInLCBbMTIwMTA0XV0sIFsna2dyZWVuJywgWzMxMl1dLCBbJ0tIY3knLCBbMTA2MV1dLCBbJ2toY3knLCBbMTA5M11dLCBbJ0tKY3knLCBbMTAzNl1dLCBbJ2tqY3knLCBbMTExNl1dLCBbJ0tvcGYnLCBbMTIwMTMwXV0sIFsna29wZicsIFsxMjAxNTZdXSwgWydLc2NyJywgWzExOTk3NF1dLCBbJ2tzY3InLCBbMTIwMDAwXV0sIFsnbEFhcnInLCBbODY2Nl1dLCBbJ0xhY3V0ZScsIFszMTNdXSwgWydsYWN1dGUnLCBbMzE0XV0sIFsnbGFlbXB0eXYnLCBbMTA2NzZdXSwgWydsYWdyYW4nLCBbODQ2Nl1dLCBbJ0xhbWJkYScsIFs5MjNdXSwgWydsYW1iZGEnLCBbOTU1XV0sIFsnbGFuZycsIFsxMDIxNl1dLCBbJ0xhbmcnLCBbMTAyMThdXSwgWydsYW5nZCcsIFsxMDY0MV1dLCBbJ2xhbmdsZScsIFsxMDIxNl1dLCBbJ2xhcCcsIFsxMDg4NV1dLCBbJ0xhcGxhY2V0cmYnLCBbODQ2Nl1dLCBbJ2xhcXVvJywgWzE3MV1dLCBbJ2xhcnJiJywgWzg2NzZdXSwgWydsYXJyYmZzJywgWzEwNTI3XV0sIFsnbGFycicsIFs4NTkyXV0sIFsnTGFycicsIFs4NjA2XV0sIFsnbEFycicsIFs4NjU2XV0sIFsnbGFycmZzJywgWzEwNTI1XV0sIFsnbGFycmhrJywgWzg2MTddXSwgWydsYXJybHAnLCBbODYxOV1dLCBbJ2xhcnJwbCcsIFsxMDU1M11dLCBbJ2xhcnJzaW0nLCBbMTA2MTFdXSwgWydsYXJydGwnLCBbODYxMF1dLCBbJ2xhdGFpbCcsIFsxMDUyMV1dLCBbJ2xBdGFpbCcsIFsxMDUyM11dLCBbJ2xhdCcsIFsxMDkyM11dLCBbJ2xhdGUnLCBbMTA5MjVdXSwgWydsYXRlcycsIFsxMDkyNSwgNjUwMjRdXSwgWydsYmFycicsIFsxMDUwOF1dLCBbJ2xCYXJyJywgWzEwNTEwXV0sIFsnbGJicmsnLCBbMTAwOThdXSwgWydsYnJhY2UnLCBbMTIzXV0sIFsnbGJyYWNrJywgWzkxXV0sIFsnbGJya2UnLCBbMTA2MzVdXSwgWydsYnJrc2xkJywgWzEwNjM5XV0sIFsnbGJya3NsdScsIFsxMDYzN11dLCBbJ0xjYXJvbicsIFszMTddXSwgWydsY2Fyb24nLCBbMzE4XV0sIFsnTGNlZGlsJywgWzMxNV1dLCBbJ2xjZWRpbCcsIFszMTZdXSwgWydsY2VpbCcsIFs4OTY4XV0sIFsnbGN1YicsIFsxMjNdXSwgWydMY3knLCBbMTA1MV1dLCBbJ2xjeScsIFsxMDgzXV0sIFsnbGRjYScsIFsxMDU1MF1dLCBbJ2xkcXVvJywgWzgyMjBdXSwgWydsZHF1b3InLCBbODIyMl1dLCBbJ2xkcmRoYXInLCBbMTA1OTldXSwgWydsZHJ1c2hhcicsIFsxMDU3MV1dLCBbJ2xkc2gnLCBbODYyNl1dLCBbJ2xlJywgWzg4MDRdXSwgWydsRScsIFs4ODA2XV0sIFsnTGVmdEFuZ2xlQnJhY2tldCcsIFsxMDIxNl1dLCBbJ0xlZnRBcnJvd0JhcicsIFs4Njc2XV0sIFsnbGVmdGFycm93JywgWzg1OTJdXSwgWydMZWZ0QXJyb3cnLCBbODU5Ml1dLCBbJ0xlZnRhcnJvdycsIFs4NjU2XV0sIFsnTGVmdEFycm93UmlnaHRBcnJvdycsIFs4NjQ2XV0sIFsnbGVmdGFycm93dGFpbCcsIFs4NjEwXV0sIFsnTGVmdENlaWxpbmcnLCBbODk2OF1dLCBbJ0xlZnREb3VibGVCcmFja2V0JywgWzEwMjE0XV0sIFsnTGVmdERvd25UZWVWZWN0b3InLCBbMTA1OTNdXSwgWydMZWZ0RG93blZlY3RvckJhcicsIFsxMDU4NV1dLCBbJ0xlZnREb3duVmVjdG9yJywgWzg2NDNdXSwgWydMZWZ0Rmxvb3InLCBbODk3MF1dLCBbJ2xlZnRoYXJwb29uZG93bicsIFs4NjM3XV0sIFsnbGVmdGhhcnBvb251cCcsIFs4NjM2XV0sIFsnbGVmdGxlZnRhcnJvd3MnLCBbODY0N11dLCBbJ2xlZnRyaWdodGFycm93JywgWzg1OTZdXSwgWydMZWZ0UmlnaHRBcnJvdycsIFs4NTk2XV0sIFsnTGVmdHJpZ2h0YXJyb3cnLCBbODY2MF1dLCBbJ2xlZnRyaWdodGFycm93cycsIFs4NjQ2XV0sIFsnbGVmdHJpZ2h0aGFycG9vbnMnLCBbODY1MV1dLCBbJ2xlZnRyaWdodHNxdWlnYXJyb3cnLCBbODYyMV1dLCBbJ0xlZnRSaWdodFZlY3RvcicsIFsxMDU3NF1dLCBbJ0xlZnRUZWVBcnJvdycsIFs4NjEyXV0sIFsnTGVmdFRlZScsIFs4ODY3XV0sIFsnTGVmdFRlZVZlY3RvcicsIFsxMDU4Nl1dLCBbJ2xlZnR0aHJlZXRpbWVzJywgWzg5MDddXSwgWydMZWZ0VHJpYW5nbGVCYXInLCBbMTA3MDNdXSwgWydMZWZ0VHJpYW5nbGUnLCBbODg4Ml1dLCBbJ0xlZnRUcmlhbmdsZUVxdWFsJywgWzg4ODRdXSwgWydMZWZ0VXBEb3duVmVjdG9yJywgWzEwNTc3XV0sIFsnTGVmdFVwVGVlVmVjdG9yJywgWzEwNTkyXV0sIFsnTGVmdFVwVmVjdG9yQmFyJywgWzEwNTg0XV0sIFsnTGVmdFVwVmVjdG9yJywgWzg2MzldXSwgWydMZWZ0VmVjdG9yQmFyJywgWzEwNTc4XV0sIFsnTGVmdFZlY3RvcicsIFs4NjM2XV0sIFsnbEVnJywgWzEwODkxXV0sIFsnbGVnJywgWzg5MjJdXSwgWydsZXEnLCBbODgwNF1dLCBbJ2xlcXEnLCBbODgwNl1dLCBbJ2xlcXNsYW50JywgWzEwODc3XV0sIFsnbGVzY2MnLCBbMTA5MjBdXSwgWydsZXMnLCBbMTA4NzddXSwgWydsZXNkb3QnLCBbMTA4NzldXSwgWydsZXNkb3RvJywgWzEwODgxXV0sIFsnbGVzZG90b3InLCBbMTA4ODNdXSwgWydsZXNnJywgWzg5MjIsIDY1MDI0XV0sIFsnbGVzZ2VzJywgWzEwODk5XV0sIFsnbGVzc2FwcHJveCcsIFsxMDg4NV1dLCBbJ2xlc3Nkb3QnLCBbODkxOF1dLCBbJ2xlc3NlcWd0cicsIFs4OTIyXV0sIFsnbGVzc2VxcWd0cicsIFsxMDg5MV1dLCBbJ0xlc3NFcXVhbEdyZWF0ZXInLCBbODkyMl1dLCBbJ0xlc3NGdWxsRXF1YWwnLCBbODgwNl1dLCBbJ0xlc3NHcmVhdGVyJywgWzg4MjJdXSwgWydsZXNzZ3RyJywgWzg4MjJdXSwgWydMZXNzTGVzcycsIFsxMDkxM11dLCBbJ2xlc3NzaW0nLCBbODgxOF1dLCBbJ0xlc3NTbGFudEVxdWFsJywgWzEwODc3XV0sIFsnTGVzc1RpbGRlJywgWzg4MThdXSwgWydsZmlzaHQnLCBbMTA2MjBdXSwgWydsZmxvb3InLCBbODk3MF1dLCBbJ0xmcicsIFsxMjAwNzldXSwgWydsZnInLCBbMTIwMTA1XV0sIFsnbGcnLCBbODgyMl1dLCBbJ2xnRScsIFsxMDg5N11dLCBbJ2xIYXInLCBbMTA1OTRdXSwgWydsaGFyZCcsIFs4NjM3XV0sIFsnbGhhcnUnLCBbODYzNl1dLCBbJ2xoYXJ1bCcsIFsxMDYwMl1dLCBbJ2xoYmxrJywgWzk2MDRdXSwgWydMSmN5JywgWzEwMzNdXSwgWydsamN5JywgWzExMTNdXSwgWydsbGFycicsIFs4NjQ3XV0sIFsnbGwnLCBbODgxMF1dLCBbJ0xsJywgWzg5MjBdXSwgWydsbGNvcm5lcicsIFs4OTkwXV0sIFsnTGxlZnRhcnJvdycsIFs4NjY2XV0sIFsnbGxoYXJkJywgWzEwNjAzXV0sIFsnbGx0cmknLCBbOTcyMl1dLCBbJ0xtaWRvdCcsIFszMTldXSwgWydsbWlkb3QnLCBbMzIwXV0sIFsnbG1vdXN0YWNoZScsIFs5MTM2XV0sIFsnbG1vdXN0JywgWzkxMzZdXSwgWydsbmFwJywgWzEwODg5XV0sIFsnbG5hcHByb3gnLCBbMTA4ODldXSwgWydsbmUnLCBbMTA4ODddXSwgWydsbkUnLCBbODgwOF1dLCBbJ2xuZXEnLCBbMTA4ODddXSwgWydsbmVxcScsIFs4ODA4XV0sIFsnbG5zaW0nLCBbODkzNF1dLCBbJ2xvYW5nJywgWzEwMjIwXV0sIFsnbG9hcnInLCBbODcwMV1dLCBbJ2xvYnJrJywgWzEwMjE0XV0sIFsnbG9uZ2xlZnRhcnJvdycsIFsxMDIyOV1dLCBbJ0xvbmdMZWZ0QXJyb3cnLCBbMTAyMjldXSwgWydMb25nbGVmdGFycm93JywgWzEwMjMyXV0sIFsnbG9uZ2xlZnRyaWdodGFycm93JywgWzEwMjMxXV0sIFsnTG9uZ0xlZnRSaWdodEFycm93JywgWzEwMjMxXV0sIFsnTG9uZ2xlZnRyaWdodGFycm93JywgWzEwMjM0XV0sIFsnbG9uZ21hcHN0bycsIFsxMDIzNl1dLCBbJ2xvbmdyaWdodGFycm93JywgWzEwMjMwXV0sIFsnTG9uZ1JpZ2h0QXJyb3cnLCBbMTAyMzBdXSwgWydMb25ncmlnaHRhcnJvdycsIFsxMDIzM11dLCBbJ2xvb3BhcnJvd2xlZnQnLCBbODYxOV1dLCBbJ2xvb3BhcnJvd3JpZ2h0JywgWzg2MjBdXSwgWydsb3BhcicsIFsxMDYyOV1dLCBbJ0xvcGYnLCBbMTIwMTMxXV0sIFsnbG9wZicsIFsxMjAxNTddXSwgWydsb3BsdXMnLCBbMTA3OTddXSwgWydsb3RpbWVzJywgWzEwODA0XV0sIFsnbG93YXN0JywgWzg3MjddXSwgWydsb3diYXInLCBbOTVdXSwgWydMb3dlckxlZnRBcnJvdycsIFs4NjAxXV0sIFsnTG93ZXJSaWdodEFycm93JywgWzg2MDBdXSwgWydsb3onLCBbOTY3NF1dLCBbJ2xvemVuZ2UnLCBbOTY3NF1dLCBbJ2xvemYnLCBbMTA3MzFdXSwgWydscGFyJywgWzQwXV0sIFsnbHBhcmx0JywgWzEwNjQzXV0sIFsnbHJhcnInLCBbODY0Nl1dLCBbJ2xyY29ybmVyJywgWzg5OTFdXSwgWydscmhhcicsIFs4NjUxXV0sIFsnbHJoYXJkJywgWzEwNjA1XV0sIFsnbHJtJywgWzgyMDZdXSwgWydscnRyaScsIFs4ODk1XV0sIFsnbHNhcXVvJywgWzgyNDldXSwgWydsc2NyJywgWzEyMDAwMV1dLCBbJ0xzY3InLCBbODQ2Nl1dLCBbJ2xzaCcsIFs4NjI0XV0sIFsnTHNoJywgWzg2MjRdXSwgWydsc2ltJywgWzg4MThdXSwgWydsc2ltZScsIFsxMDg5M11dLCBbJ2xzaW1nJywgWzEwODk1XV0sIFsnbHNxYicsIFs5MV1dLCBbJ2xzcXVvJywgWzgyMTZdXSwgWydsc3F1b3InLCBbODIxOF1dLCBbJ0xzdHJvaycsIFszMjFdXSwgWydsc3Ryb2snLCBbMzIyXV0sIFsnbHRjYycsIFsxMDkxOF1dLCBbJ2x0Y2lyJywgWzEwODczXV0sIFsnbHQnLCBbNjBdXSwgWydMVCcsIFs2MF1dLCBbJ0x0JywgWzg4MTBdXSwgWydsdGRvdCcsIFs4OTE4XV0sIFsnbHRocmVlJywgWzg5MDddXSwgWydsdGltZXMnLCBbODkwNV1dLCBbJ2x0bGFycicsIFsxMDYxNF1dLCBbJ2x0cXVlc3QnLCBbMTA4NzVdXSwgWydsdHJpJywgWzk2NjddXSwgWydsdHJpZScsIFs4ODg0XV0sIFsnbHRyaWYnLCBbOTY2Nl1dLCBbJ2x0clBhcicsIFsxMDY0Nl1dLCBbJ2x1cmRzaGFyJywgWzEwNTcwXV0sIFsnbHVydWhhcicsIFsxMDU5OF1dLCBbJ2x2ZXJ0bmVxcScsIFs4ODA4LCA2NTAyNF1dLCBbJ2x2bkUnLCBbODgwOCwgNjUwMjRdXSwgWydtYWNyJywgWzE3NV1dLCBbJ21hbGUnLCBbOTc5NF1dLCBbJ21hbHQnLCBbMTAwMTZdXSwgWydtYWx0ZXNlJywgWzEwMDE2XV0sIFsnTWFwJywgWzEwNTAxXV0sIFsnbWFwJywgWzg2MTRdXSwgWydtYXBzdG8nLCBbODYxNF1dLCBbJ21hcHN0b2Rvd24nLCBbODYxNV1dLCBbJ21hcHN0b2xlZnQnLCBbODYxMl1dLCBbJ21hcHN0b3VwJywgWzg2MTNdXSwgWydtYXJrZXInLCBbOTY0Nl1dLCBbJ21jb21tYScsIFsxMDc5M11dLCBbJ01jeScsIFsxMDUyXV0sIFsnbWN5JywgWzEwODRdXSwgWydtZGFzaCcsIFs4MjEyXV0sIFsnbUREb3QnLCBbODc2Ml1dLCBbJ21lYXN1cmVkYW5nbGUnLCBbODczN11dLCBbJ01lZGl1bVNwYWNlJywgWzgyODddXSwgWydNZWxsaW50cmYnLCBbODQ5OV1dLCBbJ01mcicsIFsxMjAwODBdXSwgWydtZnInLCBbMTIwMTA2XV0sIFsnbWhvJywgWzg0ODddXSwgWydtaWNybycsIFsxODFdXSwgWydtaWRhc3QnLCBbNDJdXSwgWydtaWRjaXInLCBbMTA5OTJdXSwgWydtaWQnLCBbODczOV1dLCBbJ21pZGRvdCcsIFsxODNdXSwgWydtaW51c2InLCBbODg2M11dLCBbJ21pbnVzJywgWzg3MjJdXSwgWydtaW51c2QnLCBbODc2MF1dLCBbJ21pbnVzZHUnLCBbMTA3OTRdXSwgWydNaW51c1BsdXMnLCBbODcyM11dLCBbJ21sY3AnLCBbMTA5NzFdXSwgWydtbGRyJywgWzgyMzBdXSwgWydtbnBsdXMnLCBbODcyM11dLCBbJ21vZGVscycsIFs4ODcxXV0sIFsnTW9wZicsIFsxMjAxMzJdXSwgWydtb3BmJywgWzEyMDE1OF1dLCBbJ21wJywgWzg3MjNdXSwgWydtc2NyJywgWzEyMDAwMl1dLCBbJ01zY3InLCBbODQ5OV1dLCBbJ21zdHBvcycsIFs4NzY2XV0sIFsnTXUnLCBbOTI0XV0sIFsnbXUnLCBbOTU2XV0sIFsnbXVsdGltYXAnLCBbODg4OF1dLCBbJ211bWFwJywgWzg4ODhdXSwgWyduYWJsYScsIFs4NzExXV0sIFsnTmFjdXRlJywgWzMyM11dLCBbJ25hY3V0ZScsIFszMjRdXSwgWyduYW5nJywgWzg3MzYsIDg0MDJdXSwgWyduYXAnLCBbODc3N11dLCBbJ25hcEUnLCBbMTA4NjQsIDgyNF1dLCBbJ25hcGlkJywgWzg3NzksIDgyNF1dLCBbJ25hcG9zJywgWzMyOV1dLCBbJ25hcHByb3gnLCBbODc3N11dLCBbJ25hdHVyYWwnLCBbOTgzOF1dLCBbJ25hdHVyYWxzJywgWzg0NjldXSwgWyduYXR1cicsIFs5ODM4XV0sIFsnbmJzcCcsIFsxNjBdXSwgWyduYnVtcCcsIFs4NzgyLCA4MjRdXSwgWyduYnVtcGUnLCBbODc4MywgODI0XV0sIFsnbmNhcCcsIFsxMDgxOV1dLCBbJ05jYXJvbicsIFszMjddXSwgWyduY2Fyb24nLCBbMzI4XV0sIFsnTmNlZGlsJywgWzMyNV1dLCBbJ25jZWRpbCcsIFszMjZdXSwgWyduY29uZycsIFs4Nzc1XV0sIFsnbmNvbmdkb3QnLCBbMTA4NjEsIDgyNF1dLCBbJ25jdXAnLCBbMTA4MThdXSwgWydOY3knLCBbMTA1M11dLCBbJ25jeScsIFsxMDg1XV0sIFsnbmRhc2gnLCBbODIxMV1dLCBbJ25lYXJoaycsIFsxMDUzMl1dLCBbJ25lYXJyJywgWzg1OTldXSwgWyduZUFycicsIFs4NjYzXV0sIFsnbmVhcnJvdycsIFs4NTk5XV0sIFsnbmUnLCBbODgwMF1dLCBbJ25lZG90JywgWzg3ODQsIDgyNF1dLCBbJ05lZ2F0aXZlTWVkaXVtU3BhY2UnLCBbODIwM11dLCBbJ05lZ2F0aXZlVGhpY2tTcGFjZScsIFs4MjAzXV0sIFsnTmVnYXRpdmVUaGluU3BhY2UnLCBbODIwM11dLCBbJ05lZ2F0aXZlVmVyeVRoaW5TcGFjZScsIFs4MjAzXV0sIFsnbmVxdWl2JywgWzg4MDJdXSwgWyduZXNlYXInLCBbMTA1MzZdXSwgWyduZXNpbScsIFs4NzcwLCA4MjRdXSwgWydOZXN0ZWRHcmVhdGVyR3JlYXRlcicsIFs4ODExXV0sIFsnTmVzdGVkTGVzc0xlc3MnLCBbODgxMF1dLCBbJ25leGlzdCcsIFs4NzA4XV0sIFsnbmV4aXN0cycsIFs4NzA4XV0sIFsnTmZyJywgWzEyMDA4MV1dLCBbJ25mcicsIFsxMjAxMDddXSwgWyduZ0UnLCBbODgwNywgODI0XV0sIFsnbmdlJywgWzg4MTddXSwgWyduZ2VxJywgWzg4MTddXSwgWyduZ2VxcScsIFs4ODA3LCA4MjRdXSwgWyduZ2Vxc2xhbnQnLCBbMTA4NzgsIDgyNF1dLCBbJ25nZXMnLCBbMTA4NzgsIDgyNF1dLCBbJ25HZycsIFs4OTIxLCA4MjRdXSwgWyduZ3NpbScsIFs4ODIxXV0sIFsnbkd0JywgWzg4MTEsIDg0MDJdXSwgWyduZ3QnLCBbODgxNV1dLCBbJ25ndHInLCBbODgxNV1dLCBbJ25HdHYnLCBbODgxMSwgODI0XV0sIFsnbmhhcnInLCBbODYyMl1dLCBbJ25oQXJyJywgWzg2NTRdXSwgWyduaHBhcicsIFsxMDk5NF1dLCBbJ25pJywgWzg3MTVdXSwgWyduaXMnLCBbODk1Nl1dLCBbJ25pc2QnLCBbODk1NF1dLCBbJ25pdicsIFs4NzE1XV0sIFsnTkpjeScsIFsxMDM0XV0sIFsnbmpjeScsIFsxMTE0XV0sIFsnbmxhcnInLCBbODYwMl1dLCBbJ25sQXJyJywgWzg2NTNdXSwgWydubGRyJywgWzgyMjldXSwgWydubEUnLCBbODgwNiwgODI0XV0sIFsnbmxlJywgWzg4MTZdXSwgWydubGVmdGFycm93JywgWzg2MDJdXSwgWyduTGVmdGFycm93JywgWzg2NTNdXSwgWydubGVmdHJpZ2h0YXJyb3cnLCBbODYyMl1dLCBbJ25MZWZ0cmlnaHRhcnJvdycsIFs4NjU0XV0sIFsnbmxlcScsIFs4ODE2XV0sIFsnbmxlcXEnLCBbODgwNiwgODI0XV0sIFsnbmxlcXNsYW50JywgWzEwODc3LCA4MjRdXSwgWydubGVzJywgWzEwODc3LCA4MjRdXSwgWydubGVzcycsIFs4ODE0XV0sIFsnbkxsJywgWzg5MjAsIDgyNF1dLCBbJ25sc2ltJywgWzg4MjBdXSwgWyduTHQnLCBbODgxMCwgODQwMl1dLCBbJ25sdCcsIFs4ODE0XV0sIFsnbmx0cmknLCBbODkzOF1dLCBbJ25sdHJpZScsIFs4OTQwXV0sIFsnbkx0dicsIFs4ODEwLCA4MjRdXSwgWydubWlkJywgWzg3NDBdXSwgWydOb0JyZWFrJywgWzgyODhdXSwgWydOb25CcmVha2luZ1NwYWNlJywgWzE2MF1dLCBbJ25vcGYnLCBbMTIwMTU5XV0sIFsnTm9wZicsIFs4NDY5XV0sIFsnTm90JywgWzEwOTg4XV0sIFsnbm90JywgWzE3Ml1dLCBbJ05vdENvbmdydWVudCcsIFs4ODAyXV0sIFsnTm90Q3VwQ2FwJywgWzg4MTNdXSwgWydOb3REb3VibGVWZXJ0aWNhbEJhcicsIFs4NzQyXV0sIFsnTm90RWxlbWVudCcsIFs4NzEzXV0sIFsnTm90RXF1YWwnLCBbODgwMF1dLCBbJ05vdEVxdWFsVGlsZGUnLCBbODc3MCwgODI0XV0sIFsnTm90RXhpc3RzJywgWzg3MDhdXSwgWydOb3RHcmVhdGVyJywgWzg4MTVdXSwgWydOb3RHcmVhdGVyRXF1YWwnLCBbODgxN11dLCBbJ05vdEdyZWF0ZXJGdWxsRXF1YWwnLCBbODgwNywgODI0XV0sIFsnTm90R3JlYXRlckdyZWF0ZXInLCBbODgxMSwgODI0XV0sIFsnTm90R3JlYXRlckxlc3MnLCBbODgyNV1dLCBbJ05vdEdyZWF0ZXJTbGFudEVxdWFsJywgWzEwODc4LCA4MjRdXSwgWydOb3RHcmVhdGVyVGlsZGUnLCBbODgyMV1dLCBbJ05vdEh1bXBEb3duSHVtcCcsIFs4NzgyLCA4MjRdXSwgWydOb3RIdW1wRXF1YWwnLCBbODc4MywgODI0XV0sIFsnbm90aW4nLCBbODcxM11dLCBbJ25vdGluZG90JywgWzg5NDksIDgyNF1dLCBbJ25vdGluRScsIFs4OTUzLCA4MjRdXSwgWydub3RpbnZhJywgWzg3MTNdXSwgWydub3RpbnZiJywgWzg5NTFdXSwgWydub3RpbnZjJywgWzg5NTBdXSwgWydOb3RMZWZ0VHJpYW5nbGVCYXInLCBbMTA3MDMsIDgyNF1dLCBbJ05vdExlZnRUcmlhbmdsZScsIFs4OTM4XV0sIFsnTm90TGVmdFRyaWFuZ2xlRXF1YWwnLCBbODk0MF1dLCBbJ05vdExlc3MnLCBbODgxNF1dLCBbJ05vdExlc3NFcXVhbCcsIFs4ODE2XV0sIFsnTm90TGVzc0dyZWF0ZXInLCBbODgyNF1dLCBbJ05vdExlc3NMZXNzJywgWzg4MTAsIDgyNF1dLCBbJ05vdExlc3NTbGFudEVxdWFsJywgWzEwODc3LCA4MjRdXSwgWydOb3RMZXNzVGlsZGUnLCBbODgyMF1dLCBbJ05vdE5lc3RlZEdyZWF0ZXJHcmVhdGVyJywgWzEwOTE0LCA4MjRdXSwgWydOb3ROZXN0ZWRMZXNzTGVzcycsIFsxMDkxMywgODI0XV0sIFsnbm90bmknLCBbODcxNl1dLCBbJ25vdG5pdmEnLCBbODcxNl1dLCBbJ25vdG5pdmInLCBbODk1OF1dLCBbJ25vdG5pdmMnLCBbODk1N11dLCBbJ05vdFByZWNlZGVzJywgWzg4MzJdXSwgWydOb3RQcmVjZWRlc0VxdWFsJywgWzEwOTI3LCA4MjRdXSwgWydOb3RQcmVjZWRlc1NsYW50RXF1YWwnLCBbODkyOF1dLCBbJ05vdFJldmVyc2VFbGVtZW50JywgWzg3MTZdXSwgWydOb3RSaWdodFRyaWFuZ2xlQmFyJywgWzEwNzA0LCA4MjRdXSwgWydOb3RSaWdodFRyaWFuZ2xlJywgWzg5MzldXSwgWydOb3RSaWdodFRyaWFuZ2xlRXF1YWwnLCBbODk0MV1dLCBbJ05vdFNxdWFyZVN1YnNldCcsIFs4ODQ3LCA4MjRdXSwgWydOb3RTcXVhcmVTdWJzZXRFcXVhbCcsIFs4OTMwXV0sIFsnTm90U3F1YXJlU3VwZXJzZXQnLCBbODg0OCwgODI0XV0sIFsnTm90U3F1YXJlU3VwZXJzZXRFcXVhbCcsIFs4OTMxXV0sIFsnTm90U3Vic2V0JywgWzg4MzQsIDg0MDJdXSwgWydOb3RTdWJzZXRFcXVhbCcsIFs4ODQwXV0sIFsnTm90U3VjY2VlZHMnLCBbODgzM11dLCBbJ05vdFN1Y2NlZWRzRXF1YWwnLCBbMTA5MjgsIDgyNF1dLCBbJ05vdFN1Y2NlZWRzU2xhbnRFcXVhbCcsIFs4OTI5XV0sIFsnTm90U3VjY2VlZHNUaWxkZScsIFs4ODMxLCA4MjRdXSwgWydOb3RTdXBlcnNldCcsIFs4ODM1LCA4NDAyXV0sIFsnTm90U3VwZXJzZXRFcXVhbCcsIFs4ODQxXV0sIFsnTm90VGlsZGUnLCBbODc2OV1dLCBbJ05vdFRpbGRlRXF1YWwnLCBbODc3Ml1dLCBbJ05vdFRpbGRlRnVsbEVxdWFsJywgWzg3NzVdXSwgWydOb3RUaWxkZVRpbGRlJywgWzg3NzddXSwgWydOb3RWZXJ0aWNhbEJhcicsIFs4NzQwXV0sIFsnbnBhcmFsbGVsJywgWzg3NDJdXSwgWyducGFyJywgWzg3NDJdXSwgWyducGFyc2wnLCBbMTEwMDUsIDg0MjFdXSwgWyducGFydCcsIFs4NzA2LCA4MjRdXSwgWyducG9saW50JywgWzEwNzcyXV0sIFsnbnByJywgWzg4MzJdXSwgWyducHJjdWUnLCBbODkyOF1dLCBbJ25wcmVjJywgWzg4MzJdXSwgWyducHJlY2VxJywgWzEwOTI3LCA4MjRdXSwgWyducHJlJywgWzEwOTI3LCA4MjRdXSwgWyducmFycmMnLCBbMTA1NDcsIDgyNF1dLCBbJ25yYXJyJywgWzg2MDNdXSwgWyduckFycicsIFs4NjU1XV0sIFsnbnJhcnJ3JywgWzg2MDUsIDgyNF1dLCBbJ25yaWdodGFycm93JywgWzg2MDNdXSwgWyduUmlnaHRhcnJvdycsIFs4NjU1XV0sIFsnbnJ0cmknLCBbODkzOV1dLCBbJ25ydHJpZScsIFs4OTQxXV0sIFsnbnNjJywgWzg4MzNdXSwgWyduc2NjdWUnLCBbODkyOV1dLCBbJ25zY2UnLCBbMTA5MjgsIDgyNF1dLCBbJ05zY3InLCBbMTE5OTc3XV0sIFsnbnNjcicsIFsxMjAwMDNdXSwgWyduc2hvcnRtaWQnLCBbODc0MF1dLCBbJ25zaG9ydHBhcmFsbGVsJywgWzg3NDJdXSwgWyduc2ltJywgWzg3NjldXSwgWyduc2ltZScsIFs4NzcyXV0sIFsnbnNpbWVxJywgWzg3NzJdXSwgWyduc21pZCcsIFs4NzQwXV0sIFsnbnNwYXInLCBbODc0Ml1dLCBbJ25zcXN1YmUnLCBbODkzMF1dLCBbJ25zcXN1cGUnLCBbODkzMV1dLCBbJ25zdWInLCBbODgzNl1dLCBbJ25zdWJFJywgWzEwOTQ5LCA4MjRdXSwgWyduc3ViZScsIFs4ODQwXV0sIFsnbnN1YnNldCcsIFs4ODM0LCA4NDAyXV0sIFsnbnN1YnNldGVxJywgWzg4NDBdXSwgWyduc3Vic2V0ZXFxJywgWzEwOTQ5LCA4MjRdXSwgWyduc3VjYycsIFs4ODMzXV0sIFsnbnN1Y2NlcScsIFsxMDkyOCwgODI0XV0sIFsnbnN1cCcsIFs4ODM3XV0sIFsnbnN1cEUnLCBbMTA5NTAsIDgyNF1dLCBbJ25zdXBlJywgWzg4NDFdXSwgWyduc3Vwc2V0JywgWzg4MzUsIDg0MDJdXSwgWyduc3Vwc2V0ZXEnLCBbODg0MV1dLCBbJ25zdXBzZXRlcXEnLCBbMTA5NTAsIDgyNF1dLCBbJ250Z2wnLCBbODgyNV1dLCBbJ050aWxkZScsIFsyMDldXSwgWydudGlsZGUnLCBbMjQxXV0sIFsnbnRsZycsIFs4ODI0XV0sIFsnbnRyaWFuZ2xlbGVmdCcsIFs4OTM4XV0sIFsnbnRyaWFuZ2xlbGVmdGVxJywgWzg5NDBdXSwgWydudHJpYW5nbGVyaWdodCcsIFs4OTM5XV0sIFsnbnRyaWFuZ2xlcmlnaHRlcScsIFs4OTQxXV0sIFsnTnUnLCBbOTI1XV0sIFsnbnUnLCBbOTU3XV0sIFsnbnVtJywgWzM1XV0sIFsnbnVtZXJvJywgWzg0NzBdXSwgWydudW1zcCcsIFs4MTk5XV0sIFsnbnZhcCcsIFs4NzgxLCA4NDAyXV0sIFsnbnZkYXNoJywgWzg4NzZdXSwgWydudkRhc2gnLCBbODg3N11dLCBbJ25WZGFzaCcsIFs4ODc4XV0sIFsnblZEYXNoJywgWzg4NzldXSwgWydudmdlJywgWzg4MDUsIDg0MDJdXSwgWydudmd0JywgWzYyLCA4NDAyXV0sIFsnbnZIYXJyJywgWzEwNTAwXV0sIFsnbnZpbmZpbicsIFsxMDcxOF1dLCBbJ252bEFycicsIFsxMDQ5OF1dLCBbJ252bGUnLCBbODgwNCwgODQwMl1dLCBbJ252bHQnLCBbNjAsIDg0MDJdXSwgWydudmx0cmllJywgWzg4ODQsIDg0MDJdXSwgWydudnJBcnInLCBbMTA0OTldXSwgWydudnJ0cmllJywgWzg4ODUsIDg0MDJdXSwgWydudnNpbScsIFs4NzY0LCA4NDAyXV0sIFsnbndhcmhrJywgWzEwNTMxXV0sIFsnbndhcnInLCBbODU5OF1dLCBbJ253QXJyJywgWzg2NjJdXSwgWydud2Fycm93JywgWzg1OThdXSwgWydud25lYXInLCBbMTA1MzVdXSwgWydPYWN1dGUnLCBbMjExXV0sIFsnb2FjdXRlJywgWzI0M11dLCBbJ29hc3QnLCBbODg1OV1dLCBbJ09jaXJjJywgWzIxMl1dLCBbJ29jaXJjJywgWzI0NF1dLCBbJ29jaXInLCBbODg1OF1dLCBbJ09jeScsIFsxMDU0XV0sIFsnb2N5JywgWzEwODZdXSwgWydvZGFzaCcsIFs4ODYxXV0sIFsnT2RibGFjJywgWzMzNl1dLCBbJ29kYmxhYycsIFszMzddXSwgWydvZGl2JywgWzEwODA4XV0sIFsnb2RvdCcsIFs4ODU3XV0sIFsnb2Rzb2xkJywgWzEwNjg0XV0sIFsnT0VsaWcnLCBbMzM4XV0sIFsnb2VsaWcnLCBbMzM5XV0sIFsnb2ZjaXInLCBbMTA2ODddXSwgWydPZnInLCBbMTIwMDgyXV0sIFsnb2ZyJywgWzEyMDEwOF1dLCBbJ29nb24nLCBbNzMxXV0sIFsnT2dyYXZlJywgWzIxMF1dLCBbJ29ncmF2ZScsIFsyNDJdXSwgWydvZ3QnLCBbMTA2ODldXSwgWydvaGJhcicsIFsxMDY3N11dLCBbJ29obScsIFs5MzddXSwgWydvaW50JywgWzg3NTBdXSwgWydvbGFycicsIFs4NjM0XV0sIFsnb2xjaXInLCBbMTA2ODZdXSwgWydvbGNyb3NzJywgWzEwNjgzXV0sIFsnb2xpbmUnLCBbODI1NF1dLCBbJ29sdCcsIFsxMDY4OF1dLCBbJ09tYWNyJywgWzMzMl1dLCBbJ29tYWNyJywgWzMzM11dLCBbJ09tZWdhJywgWzkzN11dLCBbJ29tZWdhJywgWzk2OV1dLCBbJ09taWNyb24nLCBbOTI3XV0sIFsnb21pY3JvbicsIFs5NTldXSwgWydvbWlkJywgWzEwNjc4XV0sIFsnb21pbnVzJywgWzg4NTRdXSwgWydPb3BmJywgWzEyMDEzNF1dLCBbJ29vcGYnLCBbMTIwMTYwXV0sIFsnb3BhcicsIFsxMDY3OV1dLCBbJ09wZW5DdXJseURvdWJsZVF1b3RlJywgWzgyMjBdXSwgWydPcGVuQ3VybHlRdW90ZScsIFs4MjE2XV0sIFsnb3BlcnAnLCBbMTA2ODFdXSwgWydvcGx1cycsIFs4ODUzXV0sIFsnb3JhcnInLCBbODYzNV1dLCBbJ09yJywgWzEwODM2XV0sIFsnb3InLCBbODc0NF1dLCBbJ29yZCcsIFsxMDg0NV1dLCBbJ29yZGVyJywgWzg1MDBdXSwgWydvcmRlcm9mJywgWzg1MDBdXSwgWydvcmRmJywgWzE3MF1dLCBbJ29yZG0nLCBbMTg2XV0sIFsnb3JpZ29mJywgWzg4ODZdXSwgWydvcm9yJywgWzEwODM4XV0sIFsnb3JzbG9wZScsIFsxMDgzOV1dLCBbJ29ydicsIFsxMDg0M11dLCBbJ29TJywgWzk0MTZdXSwgWydPc2NyJywgWzExOTk3OF1dLCBbJ29zY3InLCBbODUwMF1dLCBbJ09zbGFzaCcsIFsyMTZdXSwgWydvc2xhc2gnLCBbMjQ4XV0sIFsnb3NvbCcsIFs4ODU2XV0sIFsnT3RpbGRlJywgWzIxM11dLCBbJ290aWxkZScsIFsyNDVdXSwgWydvdGltZXNhcycsIFsxMDgwNl1dLCBbJ090aW1lcycsIFsxMDgwN11dLCBbJ290aW1lcycsIFs4ODU1XV0sIFsnT3VtbCcsIFsyMTRdXSwgWydvdW1sJywgWzI0Nl1dLCBbJ292YmFyJywgWzkwMjFdXSwgWydPdmVyQmFyJywgWzgyNTRdXSwgWydPdmVyQnJhY2UnLCBbOTE4Ml1dLCBbJ092ZXJCcmFja2V0JywgWzkxNDBdXSwgWydPdmVyUGFyZW50aGVzaXMnLCBbOTE4MF1dLCBbJ3BhcmEnLCBbMTgyXV0sIFsncGFyYWxsZWwnLCBbODc0MV1dLCBbJ3BhcicsIFs4NzQxXV0sIFsncGFyc2ltJywgWzEwOTk1XV0sIFsncGFyc2wnLCBbMTEwMDVdXSwgWydwYXJ0JywgWzg3MDZdXSwgWydQYXJ0aWFsRCcsIFs4NzA2XV0sIFsnUGN5JywgWzEwNTVdXSwgWydwY3knLCBbMTA4N11dLCBbJ3BlcmNudCcsIFszN11dLCBbJ3BlcmlvZCcsIFs0Nl1dLCBbJ3Blcm1pbCcsIFs4MjQwXV0sIFsncGVycCcsIFs4ODY5XV0sIFsncGVydGVuaycsIFs4MjQxXV0sIFsnUGZyJywgWzEyMDA4M11dLCBbJ3BmcicsIFsxMjAxMDldXSwgWydQaGknLCBbOTM0XV0sIFsncGhpJywgWzk2Nl1dLCBbJ3BoaXYnLCBbOTgxXV0sIFsncGhtbWF0JywgWzg0OTldXSwgWydwaG9uZScsIFs5NzQyXV0sIFsnUGknLCBbOTI4XV0sIFsncGknLCBbOTYwXV0sIFsncGl0Y2hmb3JrJywgWzg5MTZdXSwgWydwaXYnLCBbOTgyXV0sIFsncGxhbmNrJywgWzg0NjNdXSwgWydwbGFuY2toJywgWzg0NjJdXSwgWydwbGFua3YnLCBbODQ2M11dLCBbJ3BsdXNhY2lyJywgWzEwNzg3XV0sIFsncGx1c2InLCBbODg2Ml1dLCBbJ3BsdXNjaXInLCBbMTA3ODZdXSwgWydwbHVzJywgWzQzXV0sIFsncGx1c2RvJywgWzg3MjRdXSwgWydwbHVzZHUnLCBbMTA3ODldXSwgWydwbHVzZScsIFsxMDg2Nl1dLCBbJ1BsdXNNaW51cycsIFsxNzddXSwgWydwbHVzbW4nLCBbMTc3XV0sIFsncGx1c3NpbScsIFsxMDc5MF1dLCBbJ3BsdXN0d28nLCBbMTA3OTFdXSwgWydwbScsIFsxNzddXSwgWydQb2luY2FyZXBsYW5lJywgWzg0NjBdXSwgWydwb2ludGludCcsIFsxMDc3M11dLCBbJ3BvcGYnLCBbMTIwMTYxXV0sIFsnUG9wZicsIFs4NDczXV0sIFsncG91bmQnLCBbMTYzXV0sIFsncHJhcCcsIFsxMDkzNV1dLCBbJ1ByJywgWzEwOTM5XV0sIFsncHInLCBbODgyNl1dLCBbJ3ByY3VlJywgWzg4MjhdXSwgWydwcmVjYXBwcm94JywgWzEwOTM1XV0sIFsncHJlYycsIFs4ODI2XV0sIFsncHJlY2N1cmx5ZXEnLCBbODgyOF1dLCBbJ1ByZWNlZGVzJywgWzg4MjZdXSwgWydQcmVjZWRlc0VxdWFsJywgWzEwOTI3XV0sIFsnUHJlY2VkZXNTbGFudEVxdWFsJywgWzg4MjhdXSwgWydQcmVjZWRlc1RpbGRlJywgWzg4MzBdXSwgWydwcmVjZXEnLCBbMTA5MjddXSwgWydwcmVjbmFwcHJveCcsIFsxMDkzN11dLCBbJ3ByZWNuZXFxJywgWzEwOTMzXV0sIFsncHJlY25zaW0nLCBbODkzNl1dLCBbJ3ByZScsIFsxMDkyN11dLCBbJ3ByRScsIFsxMDkzMV1dLCBbJ3ByZWNzaW0nLCBbODgzMF1dLCBbJ3ByaW1lJywgWzgyNDJdXSwgWydQcmltZScsIFs4MjQzXV0sIFsncHJpbWVzJywgWzg0NzNdXSwgWydwcm5hcCcsIFsxMDkzN11dLCBbJ3BybkUnLCBbMTA5MzNdXSwgWydwcm5zaW0nLCBbODkzNl1dLCBbJ3Byb2QnLCBbODcxOV1dLCBbJ1Byb2R1Y3QnLCBbODcxOV1dLCBbJ3Byb2ZhbGFyJywgWzkwMDZdXSwgWydwcm9mbGluZScsIFs4OTc4XV0sIFsncHJvZnN1cmYnLCBbODk3OV1dLCBbJ3Byb3AnLCBbODczM11dLCBbJ1Byb3BvcnRpb25hbCcsIFs4NzMzXV0sIFsnUHJvcG9ydGlvbicsIFs4NzU5XV0sIFsncHJvcHRvJywgWzg3MzNdXSwgWydwcnNpbScsIFs4ODMwXV0sIFsncHJ1cmVsJywgWzg4ODBdXSwgWydQc2NyJywgWzExOTk3OV1dLCBbJ3BzY3InLCBbMTIwMDA1XV0sIFsnUHNpJywgWzkzNl1dLCBbJ3BzaScsIFs5NjhdXSwgWydwdW5jc3AnLCBbODIwMF1dLCBbJ1FmcicsIFsxMjAwODRdXSwgWydxZnInLCBbMTIwMTEwXV0sIFsncWludCcsIFsxMDc2NF1dLCBbJ3FvcGYnLCBbMTIwMTYyXV0sIFsnUW9wZicsIFs4NDc0XV0sIFsncXByaW1lJywgWzgyNzldXSwgWydRc2NyJywgWzExOTk4MF1dLCBbJ3FzY3InLCBbMTIwMDA2XV0sIFsncXVhdGVybmlvbnMnLCBbODQ2MV1dLCBbJ3F1YXRpbnQnLCBbMTA3NzRdXSwgWydxdWVzdCcsIFs2M11dLCBbJ3F1ZXN0ZXEnLCBbODc5OV1dLCBbJ3F1b3QnLCBbMzRdXSwgWydRVU9UJywgWzM0XV0sIFsnckFhcnInLCBbODY2N11dLCBbJ3JhY2UnLCBbODc2NSwgODE3XV0sIFsnUmFjdXRlJywgWzM0MF1dLCBbJ3JhY3V0ZScsIFszNDFdXSwgWydyYWRpYycsIFs4NzMwXV0sIFsncmFlbXB0eXYnLCBbMTA2NzVdXSwgWydyYW5nJywgWzEwMjE3XV0sIFsnUmFuZycsIFsxMDIxOV1dLCBbJ3JhbmdkJywgWzEwNjQyXV0sIFsncmFuZ2UnLCBbMTA2NjFdXSwgWydyYW5nbGUnLCBbMTAyMTddXSwgWydyYXF1bycsIFsxODddXSwgWydyYXJyYXAnLCBbMTA2MTNdXSwgWydyYXJyYicsIFs4Njc3XV0sIFsncmFycmJmcycsIFsxMDUyOF1dLCBbJ3JhcnJjJywgWzEwNTQ3XV0sIFsncmFycicsIFs4NTk0XV0sIFsnUmFycicsIFs4NjA4XV0sIFsnckFycicsIFs4NjU4XV0sIFsncmFycmZzJywgWzEwNTI2XV0sIFsncmFycmhrJywgWzg2MThdXSwgWydyYXJybHAnLCBbODYyMF1dLCBbJ3JhcnJwbCcsIFsxMDU2NV1dLCBbJ3JhcnJzaW0nLCBbMTA2MTJdXSwgWydSYXJydGwnLCBbMTA1MThdXSwgWydyYXJydGwnLCBbODYxMV1dLCBbJ3JhcnJ3JywgWzg2MDVdXSwgWydyYXRhaWwnLCBbMTA1MjJdXSwgWydyQXRhaWwnLCBbMTA1MjRdXSwgWydyYXRpbycsIFs4NzU4XV0sIFsncmF0aW9uYWxzJywgWzg0NzRdXSwgWydyYmFycicsIFsxMDUwOV1dLCBbJ3JCYXJyJywgWzEwNTExXV0sIFsnUkJhcnInLCBbMTA1MTJdXSwgWydyYmJyaycsIFsxMDA5OV1dLCBbJ3JicmFjZScsIFsxMjVdXSwgWydyYnJhY2snLCBbOTNdXSwgWydyYnJrZScsIFsxMDYzNl1dLCBbJ3JicmtzbGQnLCBbMTA2MzhdXSwgWydyYnJrc2x1JywgWzEwNjQwXV0sIFsnUmNhcm9uJywgWzM0NF1dLCBbJ3JjYXJvbicsIFszNDVdXSwgWydSY2VkaWwnLCBbMzQyXV0sIFsncmNlZGlsJywgWzM0M11dLCBbJ3JjZWlsJywgWzg5NjldXSwgWydyY3ViJywgWzEyNV1dLCBbJ1JjeScsIFsxMDU2XV0sIFsncmN5JywgWzEwODhdXSwgWydyZGNhJywgWzEwNTUxXV0sIFsncmRsZGhhcicsIFsxMDYwMV1dLCBbJ3JkcXVvJywgWzgyMjFdXSwgWydyZHF1b3InLCBbODIyMV1dLCBbJ0Nsb3NlQ3VybHlEb3VibGVRdW90ZScsIFs4MjIxXV0sIFsncmRzaCcsIFs4NjI3XV0sIFsncmVhbCcsIFs4NDc2XV0sIFsncmVhbGluZScsIFs4NDc1XV0sIFsncmVhbHBhcnQnLCBbODQ3Nl1dLCBbJ3JlYWxzJywgWzg0NzddXSwgWydSZScsIFs4NDc2XV0sIFsncmVjdCcsIFs5NjQ1XV0sIFsncmVnJywgWzE3NF1dLCBbJ1JFRycsIFsxNzRdXSwgWydSZXZlcnNlRWxlbWVudCcsIFs4NzE1XV0sIFsnUmV2ZXJzZUVxdWlsaWJyaXVtJywgWzg2NTFdXSwgWydSZXZlcnNlVXBFcXVpbGlicml1bScsIFsxMDYwN11dLCBbJ3JmaXNodCcsIFsxMDYyMV1dLCBbJ3JmbG9vcicsIFs4OTcxXV0sIFsncmZyJywgWzEyMDExMV1dLCBbJ1JmcicsIFs4NDc2XV0sIFsnckhhcicsIFsxMDU5Nl1dLCBbJ3JoYXJkJywgWzg2NDFdXSwgWydyaGFydScsIFs4NjQwXV0sIFsncmhhcnVsJywgWzEwNjA0XV0sIFsnUmhvJywgWzkyOV1dLCBbJ3JobycsIFs5NjFdXSwgWydyaG92JywgWzEwMDldXSwgWydSaWdodEFuZ2xlQnJhY2tldCcsIFsxMDIxN11dLCBbJ1JpZ2h0QXJyb3dCYXInLCBbODY3N11dLCBbJ3JpZ2h0YXJyb3cnLCBbODU5NF1dLCBbJ1JpZ2h0QXJyb3cnLCBbODU5NF1dLCBbJ1JpZ2h0YXJyb3cnLCBbODY1OF1dLCBbJ1JpZ2h0QXJyb3dMZWZ0QXJyb3cnLCBbODY0NF1dLCBbJ3JpZ2h0YXJyb3d0YWlsJywgWzg2MTFdXSwgWydSaWdodENlaWxpbmcnLCBbODk2OV1dLCBbJ1JpZ2h0RG91YmxlQnJhY2tldCcsIFsxMDIxNV1dLCBbJ1JpZ2h0RG93blRlZVZlY3RvcicsIFsxMDU4OV1dLCBbJ1JpZ2h0RG93blZlY3RvckJhcicsIFsxMDU4MV1dLCBbJ1JpZ2h0RG93blZlY3RvcicsIFs4NjQyXV0sIFsnUmlnaHRGbG9vcicsIFs4OTcxXV0sIFsncmlnaHRoYXJwb29uZG93bicsIFs4NjQxXV0sIFsncmlnaHRoYXJwb29udXAnLCBbODY0MF1dLCBbJ3JpZ2h0bGVmdGFycm93cycsIFs4NjQ0XV0sIFsncmlnaHRsZWZ0aGFycG9vbnMnLCBbODY1Ml1dLCBbJ3JpZ2h0cmlnaHRhcnJvd3MnLCBbODY0OV1dLCBbJ3JpZ2h0c3F1aWdhcnJvdycsIFs4NjA1XV0sIFsnUmlnaHRUZWVBcnJvdycsIFs4NjE0XV0sIFsnUmlnaHRUZWUnLCBbODg2Nl1dLCBbJ1JpZ2h0VGVlVmVjdG9yJywgWzEwNTg3XV0sIFsncmlnaHR0aHJlZXRpbWVzJywgWzg5MDhdXSwgWydSaWdodFRyaWFuZ2xlQmFyJywgWzEwNzA0XV0sIFsnUmlnaHRUcmlhbmdsZScsIFs4ODgzXV0sIFsnUmlnaHRUcmlhbmdsZUVxdWFsJywgWzg4ODVdXSwgWydSaWdodFVwRG93blZlY3RvcicsIFsxMDU3NV1dLCBbJ1JpZ2h0VXBUZWVWZWN0b3InLCBbMTA1ODhdXSwgWydSaWdodFVwVmVjdG9yQmFyJywgWzEwNTgwXV0sIFsnUmlnaHRVcFZlY3RvcicsIFs4NjM4XV0sIFsnUmlnaHRWZWN0b3JCYXInLCBbMTA1NzldXSwgWydSaWdodFZlY3RvcicsIFs4NjQwXV0sIFsncmluZycsIFs3MzBdXSwgWydyaXNpbmdkb3RzZXEnLCBbODc4N11dLCBbJ3JsYXJyJywgWzg2NDRdXSwgWydybGhhcicsIFs4NjUyXV0sIFsncmxtJywgWzgyMDddXSwgWydybW91c3RhY2hlJywgWzkxMzddXSwgWydybW91c3QnLCBbOTEzN11dLCBbJ3JubWlkJywgWzEwOTkwXV0sIFsncm9hbmcnLCBbMTAyMjFdXSwgWydyb2FycicsIFs4NzAyXV0sIFsncm9icmsnLCBbMTAyMTVdXSwgWydyb3BhcicsIFsxMDYzMF1dLCBbJ3JvcGYnLCBbMTIwMTYzXV0sIFsnUm9wZicsIFs4NDc3XV0sIFsncm9wbHVzJywgWzEwNzk4XV0sIFsncm90aW1lcycsIFsxMDgwNV1dLCBbJ1JvdW5kSW1wbGllcycsIFsxMDYwOF1dLCBbJ3JwYXInLCBbNDFdXSwgWydycGFyZ3QnLCBbMTA2NDRdXSwgWydycHBvbGludCcsIFsxMDc3MF1dLCBbJ3JyYXJyJywgWzg2NDldXSwgWydScmlnaHRhcnJvdycsIFs4NjY3XV0sIFsncnNhcXVvJywgWzgyNTBdXSwgWydyc2NyJywgWzEyMDAwN11dLCBbJ1JzY3InLCBbODQ3NV1dLCBbJ3JzaCcsIFs4NjI1XV0sIFsnUnNoJywgWzg2MjVdXSwgWydyc3FiJywgWzkzXV0sIFsncnNxdW8nLCBbODIxN11dLCBbJ3JzcXVvcicsIFs4MjE3XV0sIFsnQ2xvc2VDdXJseVF1b3RlJywgWzgyMTddXSwgWydydGhyZWUnLCBbODkwOF1dLCBbJ3J0aW1lcycsIFs4OTA2XV0sIFsncnRyaScsIFs5NjU3XV0sIFsncnRyaWUnLCBbODg4NV1dLCBbJ3J0cmlmJywgWzk2NTZdXSwgWydydHJpbHRyaScsIFsxMDcwMl1dLCBbJ1J1bGVEZWxheWVkJywgWzEwNzQwXV0sIFsncnVsdWhhcicsIFsxMDYwMF1dLCBbJ3J4JywgWzg0NzhdXSwgWydTYWN1dGUnLCBbMzQ2XV0sIFsnc2FjdXRlJywgWzM0N11dLCBbJ3NicXVvJywgWzgyMThdXSwgWydzY2FwJywgWzEwOTM2XV0sIFsnU2Nhcm9uJywgWzM1Ml1dLCBbJ3NjYXJvbicsIFszNTNdXSwgWydTYycsIFsxMDk0MF1dLCBbJ3NjJywgWzg4MjddXSwgWydzY2N1ZScsIFs4ODI5XV0sIFsnc2NlJywgWzEwOTI4XV0sIFsnc2NFJywgWzEwOTMyXV0sIFsnU2NlZGlsJywgWzM1MF1dLCBbJ3NjZWRpbCcsIFszNTFdXSwgWydTY2lyYycsIFszNDhdXSwgWydzY2lyYycsIFszNDldXSwgWydzY25hcCcsIFsxMDkzOF1dLCBbJ3NjbkUnLCBbMTA5MzRdXSwgWydzY25zaW0nLCBbODkzN11dLCBbJ3NjcG9saW50JywgWzEwNzcxXV0sIFsnc2NzaW0nLCBbODgzMV1dLCBbJ1NjeScsIFsxMDU3XV0sIFsnc2N5JywgWzEwODldXSwgWydzZG90YicsIFs4ODY1XV0sIFsnc2RvdCcsIFs4OTAxXV0sIFsnc2RvdGUnLCBbMTA4NTRdXSwgWydzZWFyaGsnLCBbMTA1MzNdXSwgWydzZWFycicsIFs4NjAwXV0sIFsnc2VBcnInLCBbODY2NF1dLCBbJ3NlYXJyb3cnLCBbODYwMF1dLCBbJ3NlY3QnLCBbMTY3XV0sIFsnc2VtaScsIFs1OV1dLCBbJ3Nlc3dhcicsIFsxMDUzN11dLCBbJ3NldG1pbnVzJywgWzg3MjZdXSwgWydzZXRtbicsIFs4NzI2XV0sIFsnc2V4dCcsIFsxMDAzOF1dLCBbJ1NmcicsIFsxMjAwODZdXSwgWydzZnInLCBbMTIwMTEyXV0sIFsnc2Zyb3duJywgWzg5OTRdXSwgWydzaGFycCcsIFs5ODM5XV0sIFsnU0hDSGN5JywgWzEwNjVdXSwgWydzaGNoY3knLCBbMTA5N11dLCBbJ1NIY3knLCBbMTA2NF1dLCBbJ3NoY3knLCBbMTA5Nl1dLCBbJ1Nob3J0RG93bkFycm93JywgWzg1OTVdXSwgWydTaG9ydExlZnRBcnJvdycsIFs4NTkyXV0sIFsnc2hvcnRtaWQnLCBbODczOV1dLCBbJ3Nob3J0cGFyYWxsZWwnLCBbODc0MV1dLCBbJ1Nob3J0UmlnaHRBcnJvdycsIFs4NTk0XV0sIFsnU2hvcnRVcEFycm93JywgWzg1OTNdXSwgWydzaHknLCBbMTczXV0sIFsnU2lnbWEnLCBbOTMxXV0sIFsnc2lnbWEnLCBbOTYzXV0sIFsnc2lnbWFmJywgWzk2Ml1dLCBbJ3NpZ21hdicsIFs5NjJdXSwgWydzaW0nLCBbODc2NF1dLCBbJ3NpbWRvdCcsIFsxMDg1OF1dLCBbJ3NpbWUnLCBbODc3MV1dLCBbJ3NpbWVxJywgWzg3NzFdXSwgWydzaW1nJywgWzEwOTEwXV0sIFsnc2ltZ0UnLCBbMTA5MTJdXSwgWydzaW1sJywgWzEwOTA5XV0sIFsnc2ltbEUnLCBbMTA5MTFdXSwgWydzaW1uZScsIFs4Nzc0XV0sIFsnc2ltcGx1cycsIFsxMDc4OF1dLCBbJ3NpbXJhcnInLCBbMTA2MTBdXSwgWydzbGFycicsIFs4NTkyXV0sIFsnU21hbGxDaXJjbGUnLCBbODcyOF1dLCBbJ3NtYWxsc2V0bWludXMnLCBbODcyNl1dLCBbJ3NtYXNocCcsIFsxMDgwM11dLCBbJ3NtZXBhcnNsJywgWzEwNzI0XV0sIFsnc21pZCcsIFs4NzM5XV0sIFsnc21pbGUnLCBbODk5NV1dLCBbJ3NtdCcsIFsxMDkyMl1dLCBbJ3NtdGUnLCBbMTA5MjRdXSwgWydzbXRlcycsIFsxMDkyNCwgNjUwMjRdXSwgWydTT0ZUY3knLCBbMTA2OF1dLCBbJ3NvZnRjeScsIFsxMTAwXV0sIFsnc29sYmFyJywgWzkwMjNdXSwgWydzb2xiJywgWzEwNjkyXV0sIFsnc29sJywgWzQ3XV0sIFsnU29wZicsIFsxMjAxMzhdXSwgWydzb3BmJywgWzEyMDE2NF1dLCBbJ3NwYWRlcycsIFs5ODI0XV0sIFsnc3BhZGVzdWl0JywgWzk4MjRdXSwgWydzcGFyJywgWzg3NDFdXSwgWydzcWNhcCcsIFs4ODUxXV0sIFsnc3FjYXBzJywgWzg4NTEsIDY1MDI0XV0sIFsnc3FjdXAnLCBbODg1Ml1dLCBbJ3NxY3VwcycsIFs4ODUyLCA2NTAyNF1dLCBbJ1NxcnQnLCBbODczMF1dLCBbJ3Nxc3ViJywgWzg4NDddXSwgWydzcXN1YmUnLCBbODg0OV1dLCBbJ3Nxc3Vic2V0JywgWzg4NDddXSwgWydzcXN1YnNldGVxJywgWzg4NDldXSwgWydzcXN1cCcsIFs4ODQ4XV0sIFsnc3FzdXBlJywgWzg4NTBdXSwgWydzcXN1cHNldCcsIFs4ODQ4XV0sIFsnc3FzdXBzZXRlcScsIFs4ODUwXV0sIFsnc3F1YXJlJywgWzk2MzNdXSwgWydTcXVhcmUnLCBbOTYzM11dLCBbJ1NxdWFyZUludGVyc2VjdGlvbicsIFs4ODUxXV0sIFsnU3F1YXJlU3Vic2V0JywgWzg4NDddXSwgWydTcXVhcmVTdWJzZXRFcXVhbCcsIFs4ODQ5XV0sIFsnU3F1YXJlU3VwZXJzZXQnLCBbODg0OF1dLCBbJ1NxdWFyZVN1cGVyc2V0RXF1YWwnLCBbODg1MF1dLCBbJ1NxdWFyZVVuaW9uJywgWzg4NTJdXSwgWydzcXVhcmYnLCBbOTY0Ml1dLCBbJ3NxdScsIFs5NjMzXV0sIFsnc3F1ZicsIFs5NjQyXV0sIFsnc3JhcnInLCBbODU5NF1dLCBbJ1NzY3InLCBbMTE5OTgyXV0sIFsnc3NjcicsIFsxMjAwMDhdXSwgWydzc2V0bW4nLCBbODcyNl1dLCBbJ3NzbWlsZScsIFs4OTk1XV0sIFsnc3N0YXJmJywgWzg5MDJdXSwgWydTdGFyJywgWzg5MDJdXSwgWydzdGFyJywgWzk3MzRdXSwgWydzdGFyZicsIFs5NzMzXV0sIFsnc3RyYWlnaHRlcHNpbG9uJywgWzEwMTNdXSwgWydzdHJhaWdodHBoaScsIFs5ODFdXSwgWydzdHJucycsIFsxNzVdXSwgWydzdWInLCBbODgzNF1dLCBbJ1N1YicsIFs4OTEyXV0sIFsnc3ViZG90JywgWzEwOTQxXV0sIFsnc3ViRScsIFsxMDk0OV1dLCBbJ3N1YmUnLCBbODgzOF1dLCBbJ3N1YmVkb3QnLCBbMTA5NDddXSwgWydzdWJtdWx0JywgWzEwOTQ1XV0sIFsnc3VibkUnLCBbMTA5NTVdXSwgWydzdWJuZScsIFs4ODQyXV0sIFsnc3VicGx1cycsIFsxMDk0M11dLCBbJ3N1YnJhcnInLCBbMTA2MTddXSwgWydzdWJzZXQnLCBbODgzNF1dLCBbJ1N1YnNldCcsIFs4OTEyXV0sIFsnc3Vic2V0ZXEnLCBbODgzOF1dLCBbJ3N1YnNldGVxcScsIFsxMDk0OV1dLCBbJ1N1YnNldEVxdWFsJywgWzg4MzhdXSwgWydzdWJzZXRuZXEnLCBbODg0Ml1dLCBbJ3N1YnNldG5lcXEnLCBbMTA5NTVdXSwgWydzdWJzaW0nLCBbMTA5NTFdXSwgWydzdWJzdWInLCBbMTA5NjVdXSwgWydzdWJzdXAnLCBbMTA5NjNdXSwgWydzdWNjYXBwcm94JywgWzEwOTM2XV0sIFsnc3VjYycsIFs4ODI3XV0sIFsnc3VjY2N1cmx5ZXEnLCBbODgyOV1dLCBbJ1N1Y2NlZWRzJywgWzg4MjddXSwgWydTdWNjZWVkc0VxdWFsJywgWzEwOTI4XV0sIFsnU3VjY2VlZHNTbGFudEVxdWFsJywgWzg4MjldXSwgWydTdWNjZWVkc1RpbGRlJywgWzg4MzFdXSwgWydzdWNjZXEnLCBbMTA5MjhdXSwgWydzdWNjbmFwcHJveCcsIFsxMDkzOF1dLCBbJ3N1Y2NuZXFxJywgWzEwOTM0XV0sIFsnc3VjY25zaW0nLCBbODkzN11dLCBbJ3N1Y2NzaW0nLCBbODgzMV1dLCBbJ1N1Y2hUaGF0JywgWzg3MTVdXSwgWydzdW0nLCBbODcyMV1dLCBbJ1N1bScsIFs4NzIxXV0sIFsnc3VuZycsIFs5ODM0XV0sIFsnc3VwMScsIFsxODVdXSwgWydzdXAyJywgWzE3OF1dLCBbJ3N1cDMnLCBbMTc5XV0sIFsnc3VwJywgWzg4MzVdXSwgWydTdXAnLCBbODkxM11dLCBbJ3N1cGRvdCcsIFsxMDk0Ml1dLCBbJ3N1cGRzdWInLCBbMTA5NjhdXSwgWydzdXBFJywgWzEwOTUwXV0sIFsnc3VwZScsIFs4ODM5XV0sIFsnc3VwZWRvdCcsIFsxMDk0OF1dLCBbJ1N1cGVyc2V0JywgWzg4MzVdXSwgWydTdXBlcnNldEVxdWFsJywgWzg4MzldXSwgWydzdXBoc29sJywgWzEwMTg1XV0sIFsnc3VwaHN1YicsIFsxMDk2N11dLCBbJ3N1cGxhcnInLCBbMTA2MTldXSwgWydzdXBtdWx0JywgWzEwOTQ2XV0sIFsnc3VwbkUnLCBbMTA5NTZdXSwgWydzdXBuZScsIFs4ODQzXV0sIFsnc3VwcGx1cycsIFsxMDk0NF1dLCBbJ3N1cHNldCcsIFs4ODM1XV0sIFsnU3Vwc2V0JywgWzg5MTNdXSwgWydzdXBzZXRlcScsIFs4ODM5XV0sIFsnc3Vwc2V0ZXFxJywgWzEwOTUwXV0sIFsnc3Vwc2V0bmVxJywgWzg4NDNdXSwgWydzdXBzZXRuZXFxJywgWzEwOTU2XV0sIFsnc3Vwc2ltJywgWzEwOTUyXV0sIFsnc3Vwc3ViJywgWzEwOTY0XV0sIFsnc3Vwc3VwJywgWzEwOTY2XV0sIFsnc3dhcmhrJywgWzEwNTM0XV0sIFsnc3dhcnInLCBbODYwMV1dLCBbJ3N3QXJyJywgWzg2NjVdXSwgWydzd2Fycm93JywgWzg2MDFdXSwgWydzd253YXInLCBbMTA1MzhdXSwgWydzemxpZycsIFsyMjNdXSwgWydUYWInLCBbOV1dLCBbJ3RhcmdldCcsIFs4OTgyXV0sIFsnVGF1JywgWzkzMl1dLCBbJ3RhdScsIFs5NjRdXSwgWyd0YnJrJywgWzkxNDBdXSwgWydUY2Fyb24nLCBbMzU2XV0sIFsndGNhcm9uJywgWzM1N11dLCBbJ1RjZWRpbCcsIFszNTRdXSwgWyd0Y2VkaWwnLCBbMzU1XV0sIFsnVGN5JywgWzEwNThdXSwgWyd0Y3knLCBbMTA5MF1dLCBbJ3Rkb3QnLCBbODQxMV1dLCBbJ3RlbHJlYycsIFs4OTgxXV0sIFsnVGZyJywgWzEyMDA4N11dLCBbJ3RmcicsIFsxMjAxMTNdXSwgWyd0aGVyZTQnLCBbODc1Nl1dLCBbJ3RoZXJlZm9yZScsIFs4NzU2XV0sIFsnVGhlcmVmb3JlJywgWzg3NTZdXSwgWydUaGV0YScsIFs5MjBdXSwgWyd0aGV0YScsIFs5NTJdXSwgWyd0aGV0YXN5bScsIFs5NzddXSwgWyd0aGV0YXYnLCBbOTc3XV0sIFsndGhpY2thcHByb3gnLCBbODc3Nl1dLCBbJ3RoaWNrc2ltJywgWzg3NjRdXSwgWydUaGlja1NwYWNlJywgWzgyODcsIDgyMDJdXSwgWydUaGluU3BhY2UnLCBbODIwMV1dLCBbJ3RoaW5zcCcsIFs4MjAxXV0sIFsndGhrYXAnLCBbODc3Nl1dLCBbJ3Roa3NpbScsIFs4NzY0XV0sIFsnVEhPUk4nLCBbMjIyXV0sIFsndGhvcm4nLCBbMjU0XV0sIFsndGlsZGUnLCBbNzMyXV0sIFsnVGlsZGUnLCBbODc2NF1dLCBbJ1RpbGRlRXF1YWwnLCBbODc3MV1dLCBbJ1RpbGRlRnVsbEVxdWFsJywgWzg3NzNdXSwgWydUaWxkZVRpbGRlJywgWzg3NzZdXSwgWyd0aW1lc2JhcicsIFsxMDgwMV1dLCBbJ3RpbWVzYicsIFs4ODY0XV0sIFsndGltZXMnLCBbMjE1XV0sIFsndGltZXNkJywgWzEwODAwXV0sIFsndGludCcsIFs4NzQ5XV0sIFsndG9lYScsIFsxMDUzNl1dLCBbJ3RvcGJvdCcsIFs5MDE0XV0sIFsndG9wY2lyJywgWzEwOTkzXV0sIFsndG9wJywgWzg4NjhdXSwgWydUb3BmJywgWzEyMDEzOV1dLCBbJ3RvcGYnLCBbMTIwMTY1XV0sIFsndG9wZm9yaycsIFsxMDk3MF1dLCBbJ3Rvc2EnLCBbMTA1MzddXSwgWyd0cHJpbWUnLCBbODI0NF1dLCBbJ3RyYWRlJywgWzg0ODJdXSwgWydUUkFERScsIFs4NDgyXV0sIFsndHJpYW5nbGUnLCBbOTY1M11dLCBbJ3RyaWFuZ2xlZG93bicsIFs5NjYzXV0sIFsndHJpYW5nbGVsZWZ0JywgWzk2NjddXSwgWyd0cmlhbmdsZWxlZnRlcScsIFs4ODg0XV0sIFsndHJpYW5nbGVxJywgWzg3OTZdXSwgWyd0cmlhbmdsZXJpZ2h0JywgWzk2NTddXSwgWyd0cmlhbmdsZXJpZ2h0ZXEnLCBbODg4NV1dLCBbJ3RyaWRvdCcsIFs5NzA4XV0sIFsndHJpZScsIFs4Nzk2XV0sIFsndHJpbWludXMnLCBbMTA4MTBdXSwgWydUcmlwbGVEb3QnLCBbODQxMV1dLCBbJ3RyaXBsdXMnLCBbMTA4MDldXSwgWyd0cmlzYicsIFsxMDcwMV1dLCBbJ3RyaXRpbWUnLCBbMTA4MTFdXSwgWyd0cnBleml1bScsIFs5MTg2XV0sIFsnVHNjcicsIFsxMTk5ODNdXSwgWyd0c2NyJywgWzEyMDAwOV1dLCBbJ1RTY3knLCBbMTA2Ml1dLCBbJ3RzY3knLCBbMTA5NF1dLCBbJ1RTSGN5JywgWzEwMzVdXSwgWyd0c2hjeScsIFsxMTE1XV0sIFsnVHN0cm9rJywgWzM1OF1dLCBbJ3RzdHJvaycsIFszNTldXSwgWyd0d2l4dCcsIFs4ODEyXV0sIFsndHdvaGVhZGxlZnRhcnJvdycsIFs4NjA2XV0sIFsndHdvaGVhZHJpZ2h0YXJyb3cnLCBbODYwOF1dLCBbJ1VhY3V0ZScsIFsyMThdXSwgWyd1YWN1dGUnLCBbMjUwXV0sIFsndWFycicsIFs4NTkzXV0sIFsnVWFycicsIFs4NjA3XV0sIFsndUFycicsIFs4NjU3XV0sIFsnVWFycm9jaXInLCBbMTA1NjldXSwgWydVYnJjeScsIFsxMDM4XV0sIFsndWJyY3knLCBbMTExOF1dLCBbJ1VicmV2ZScsIFszNjRdXSwgWyd1YnJldmUnLCBbMzY1XV0sIFsnVWNpcmMnLCBbMjE5XV0sIFsndWNpcmMnLCBbMjUxXV0sIFsnVWN5JywgWzEwNTldXSwgWyd1Y3knLCBbMTA5MV1dLCBbJ3VkYXJyJywgWzg2NDVdXSwgWydVZGJsYWMnLCBbMzY4XV0sIFsndWRibGFjJywgWzM2OV1dLCBbJ3VkaGFyJywgWzEwNjA2XV0sIFsndWZpc2h0JywgWzEwNjIyXV0sIFsnVWZyJywgWzEyMDA4OF1dLCBbJ3VmcicsIFsxMjAxMTRdXSwgWydVZ3JhdmUnLCBbMjE3XV0sIFsndWdyYXZlJywgWzI0OV1dLCBbJ3VIYXInLCBbMTA1OTVdXSwgWyd1aGFybCcsIFs4NjM5XV0sIFsndWhhcnInLCBbODYzOF1dLCBbJ3VoYmxrJywgWzk2MDBdXSwgWyd1bGNvcm4nLCBbODk4OF1dLCBbJ3VsY29ybmVyJywgWzg5ODhdXSwgWyd1bGNyb3AnLCBbODk3NV1dLCBbJ3VsdHJpJywgWzk3MjBdXSwgWydVbWFjcicsIFszNjJdXSwgWyd1bWFjcicsIFszNjNdXSwgWyd1bWwnLCBbMTY4XV0sIFsnVW5kZXJCYXInLCBbOTVdXSwgWydVbmRlckJyYWNlJywgWzkxODNdXSwgWydVbmRlckJyYWNrZXQnLCBbOTE0MV1dLCBbJ1VuZGVyUGFyZW50aGVzaXMnLCBbOTE4MV1dLCBbJ1VuaW9uJywgWzg4OTldXSwgWydVbmlvblBsdXMnLCBbODg0Nl1dLCBbJ1VvZ29uJywgWzM3MF1dLCBbJ3VvZ29uJywgWzM3MV1dLCBbJ1VvcGYnLCBbMTIwMTQwXV0sIFsndW9wZicsIFsxMjAxNjZdXSwgWydVcEFycm93QmFyJywgWzEwNTE0XV0sIFsndXBhcnJvdycsIFs4NTkzXV0sIFsnVXBBcnJvdycsIFs4NTkzXV0sIFsnVXBhcnJvdycsIFs4NjU3XV0sIFsnVXBBcnJvd0Rvd25BcnJvdycsIFs4NjQ1XV0sIFsndXBkb3duYXJyb3cnLCBbODU5N11dLCBbJ1VwRG93bkFycm93JywgWzg1OTddXSwgWydVcGRvd25hcnJvdycsIFs4NjYxXV0sIFsnVXBFcXVpbGlicml1bScsIFsxMDYwNl1dLCBbJ3VwaGFycG9vbmxlZnQnLCBbODYzOV1dLCBbJ3VwaGFycG9vbnJpZ2h0JywgWzg2MzhdXSwgWyd1cGx1cycsIFs4ODQ2XV0sIFsnVXBwZXJMZWZ0QXJyb3cnLCBbODU5OF1dLCBbJ1VwcGVyUmlnaHRBcnJvdycsIFs4NTk5XV0sIFsndXBzaScsIFs5NjVdXSwgWydVcHNpJywgWzk3OF1dLCBbJ3Vwc2loJywgWzk3OF1dLCBbJ1Vwc2lsb24nLCBbOTMzXV0sIFsndXBzaWxvbicsIFs5NjVdXSwgWydVcFRlZUFycm93JywgWzg2MTNdXSwgWydVcFRlZScsIFs4ODY5XV0sIFsndXB1cGFycm93cycsIFs4NjQ4XV0sIFsndXJjb3JuJywgWzg5ODldXSwgWyd1cmNvcm5lcicsIFs4OTg5XV0sIFsndXJjcm9wJywgWzg5NzRdXSwgWydVcmluZycsIFszNjZdXSwgWyd1cmluZycsIFszNjddXSwgWyd1cnRyaScsIFs5NzIxXV0sIFsnVXNjcicsIFsxMTk5ODRdXSwgWyd1c2NyJywgWzEyMDAxMF1dLCBbJ3V0ZG90JywgWzg5NDRdXSwgWydVdGlsZGUnLCBbMzYwXV0sIFsndXRpbGRlJywgWzM2MV1dLCBbJ3V0cmknLCBbOTY1M11dLCBbJ3V0cmlmJywgWzk2NTJdXSwgWyd1dWFycicsIFs4NjQ4XV0sIFsnVXVtbCcsIFsyMjBdXSwgWyd1dW1sJywgWzI1Ml1dLCBbJ3V3YW5nbGUnLCBbMTA2NjNdXSwgWyd2YW5ncnQnLCBbMTA2NTJdXSwgWyd2YXJlcHNpbG9uJywgWzEwMTNdXSwgWyd2YXJrYXBwYScsIFsxMDA4XV0sIFsndmFybm90aGluZycsIFs4NzA5XV0sIFsndmFycGhpJywgWzk4MV1dLCBbJ3ZhcnBpJywgWzk4Ml1dLCBbJ3ZhcnByb3B0bycsIFs4NzMzXV0sIFsndmFycicsIFs4NTk3XV0sIFsndkFycicsIFs4NjYxXV0sIFsndmFycmhvJywgWzEwMDldXSwgWyd2YXJzaWdtYScsIFs5NjJdXSwgWyd2YXJzdWJzZXRuZXEnLCBbODg0MiwgNjUwMjRdXSwgWyd2YXJzdWJzZXRuZXFxJywgWzEwOTU1LCA2NTAyNF1dLCBbJ3ZhcnN1cHNldG5lcScsIFs4ODQzLCA2NTAyNF1dLCBbJ3ZhcnN1cHNldG5lcXEnLCBbMTA5NTYsIDY1MDI0XV0sIFsndmFydGhldGEnLCBbOTc3XV0sIFsndmFydHJpYW5nbGVsZWZ0JywgWzg4ODJdXSwgWyd2YXJ0cmlhbmdsZXJpZ2h0JywgWzg4ODNdXSwgWyd2QmFyJywgWzEwOTg0XV0sIFsnVmJhcicsIFsxMDk4N11dLCBbJ3ZCYXJ2JywgWzEwOTg1XV0sIFsnVmN5JywgWzEwNDJdXSwgWyd2Y3knLCBbMTA3NF1dLCBbJ3ZkYXNoJywgWzg4NjZdXSwgWyd2RGFzaCcsIFs4ODcyXV0sIFsnVmRhc2gnLCBbODg3M11dLCBbJ1ZEYXNoJywgWzg4NzVdXSwgWydWZGFzaGwnLCBbMTA5ODJdXSwgWyd2ZWViYXInLCBbODg5MV1dLCBbJ3ZlZScsIFs4NzQ0XV0sIFsnVmVlJywgWzg4OTddXSwgWyd2ZWVlcScsIFs4Nzk0XV0sIFsndmVsbGlwJywgWzg5NDJdXSwgWyd2ZXJiYXInLCBbMTI0XV0sIFsnVmVyYmFyJywgWzgyMTRdXSwgWyd2ZXJ0JywgWzEyNF1dLCBbJ1ZlcnQnLCBbODIxNF1dLCBbJ1ZlcnRpY2FsQmFyJywgWzg3MzldXSwgWydWZXJ0aWNhbExpbmUnLCBbMTI0XV0sIFsnVmVydGljYWxTZXBhcmF0b3InLCBbMTAwNzJdXSwgWydWZXJ0aWNhbFRpbGRlJywgWzg3NjhdXSwgWydWZXJ5VGhpblNwYWNlJywgWzgyMDJdXSwgWydWZnInLCBbMTIwMDg5XV0sIFsndmZyJywgWzEyMDExNV1dLCBbJ3ZsdHJpJywgWzg4ODJdXSwgWyd2bnN1YicsIFs4ODM0LCA4NDAyXV0sIFsndm5zdXAnLCBbODgzNSwgODQwMl1dLCBbJ1ZvcGYnLCBbMTIwMTQxXV0sIFsndm9wZicsIFsxMjAxNjddXSwgWyd2cHJvcCcsIFs4NzMzXV0sIFsndnJ0cmknLCBbODg4M11dLCBbJ1ZzY3InLCBbMTE5OTg1XV0sIFsndnNjcicsIFsxMjAwMTFdXSwgWyd2c3VibkUnLCBbMTA5NTUsIDY1MDI0XV0sIFsndnN1Ym5lJywgWzg4NDIsIDY1MDI0XV0sIFsndnN1cG5FJywgWzEwOTU2LCA2NTAyNF1dLCBbJ3ZzdXBuZScsIFs4ODQzLCA2NTAyNF1dLCBbJ1Z2ZGFzaCcsIFs4ODc0XV0sIFsndnppZ3phZycsIFsxMDY1MF1dLCBbJ1djaXJjJywgWzM3Ml1dLCBbJ3djaXJjJywgWzM3M11dLCBbJ3dlZGJhcicsIFsxMDg0N11dLCBbJ3dlZGdlJywgWzg3NDNdXSwgWydXZWRnZScsIFs4ODk2XV0sIFsnd2VkZ2VxJywgWzg3OTNdXSwgWyd3ZWllcnAnLCBbODQ3Ml1dLCBbJ1dmcicsIFsxMjAwOTBdXSwgWyd3ZnInLCBbMTIwMTE2XV0sIFsnV29wZicsIFsxMjAxNDJdXSwgWyd3b3BmJywgWzEyMDE2OF1dLCBbJ3dwJywgWzg0NzJdXSwgWyd3cicsIFs4NzY4XV0sIFsnd3JlYXRoJywgWzg3NjhdXSwgWydXc2NyJywgWzExOTk4Nl1dLCBbJ3dzY3InLCBbMTIwMDEyXV0sIFsneGNhcCcsIFs4ODk4XV0sIFsneGNpcmMnLCBbOTcxMV1dLCBbJ3hjdXAnLCBbODg5OV1dLCBbJ3hkdHJpJywgWzk2NjFdXSwgWydYZnInLCBbMTIwMDkxXV0sIFsneGZyJywgWzEyMDExN11dLCBbJ3hoYXJyJywgWzEwMjMxXV0sIFsneGhBcnInLCBbMTAyMzRdXSwgWydYaScsIFs5MjZdXSwgWyd4aScsIFs5NThdXSwgWyd4bGFycicsIFsxMDIyOV1dLCBbJ3hsQXJyJywgWzEwMjMyXV0sIFsneG1hcCcsIFsxMDIzNl1dLCBbJ3huaXMnLCBbODk1NV1dLCBbJ3hvZG90JywgWzEwNzUyXV0sIFsnWG9wZicsIFsxMjAxNDNdXSwgWyd4b3BmJywgWzEyMDE2OV1dLCBbJ3hvcGx1cycsIFsxMDc1M11dLCBbJ3hvdGltZScsIFsxMDc1NF1dLCBbJ3hyYXJyJywgWzEwMjMwXV0sIFsneHJBcnInLCBbMTAyMzNdXSwgWydYc2NyJywgWzExOTk4N11dLCBbJ3hzY3InLCBbMTIwMDEzXV0sIFsneHNxY3VwJywgWzEwNzU4XV0sIFsneHVwbHVzJywgWzEwNzU2XV0sIFsneHV0cmknLCBbOTY1MV1dLCBbJ3h2ZWUnLCBbODg5N11dLCBbJ3h3ZWRnZScsIFs4ODk2XV0sIFsnWWFjdXRlJywgWzIyMV1dLCBbJ3lhY3V0ZScsIFsyNTNdXSwgWydZQWN5JywgWzEwNzFdXSwgWyd5YWN5JywgWzExMDNdXSwgWydZY2lyYycsIFszNzRdXSwgWyd5Y2lyYycsIFszNzVdXSwgWydZY3knLCBbMTA2N11dLCBbJ3ljeScsIFsxMDk5XV0sIFsneWVuJywgWzE2NV1dLCBbJ1lmcicsIFsxMjAwOTJdXSwgWyd5ZnInLCBbMTIwMTE4XV0sIFsnWUljeScsIFsxMDMxXV0sIFsneWljeScsIFsxMTExXV0sIFsnWW9wZicsIFsxMjAxNDRdXSwgWyd5b3BmJywgWzEyMDE3MF1dLCBbJ1lzY3InLCBbMTE5OTg4XV0sIFsneXNjcicsIFsxMjAwMTRdXSwgWydZVWN5JywgWzEwNzBdXSwgWyd5dWN5JywgWzExMDJdXSwgWyd5dW1sJywgWzI1NV1dLCBbJ1l1bWwnLCBbMzc2XV0sIFsnWmFjdXRlJywgWzM3N11dLCBbJ3phY3V0ZScsIFszNzhdXSwgWydaY2Fyb24nLCBbMzgxXV0sIFsnemNhcm9uJywgWzM4Ml1dLCBbJ1pjeScsIFsxMDQ3XV0sIFsnemN5JywgWzEwNzldXSwgWydaZG90JywgWzM3OV1dLCBbJ3pkb3QnLCBbMzgwXV0sIFsnemVldHJmJywgWzg0ODhdXSwgWydaZXJvV2lkdGhTcGFjZScsIFs4MjAzXV0sIFsnWmV0YScsIFs5MThdXSwgWyd6ZXRhJywgWzk1MF1dLCBbJ3pmcicsIFsxMjAxMTldXSwgWydaZnInLCBbODQ4OF1dLCBbJ1pIY3knLCBbMTA0Nl1dLCBbJ3poY3knLCBbMTA3OF1dLCBbJ3ppZ3JhcnInLCBbODY2OV1dLCBbJ3pvcGYnLCBbMTIwMTcxXV0sIFsnWm9wZicsIFs4NDg0XV0sIFsnWnNjcicsIFsxMTk5ODldXSwgWyd6c2NyJywgWzEyMDAxNV1dLCBbJ3p3aicsIFs4MjA1XV0sIFsnenduaicsIFs4MjA0XV1dO1xudmFyIGFscGhhSW5kZXggPSB7fTtcbnZhciBjaGFySW5kZXggPSB7fTtcbmNyZWF0ZUluZGV4ZXMoYWxwaGFJbmRleCwgY2hhckluZGV4KTtcbnZhciBIdG1sNUVudGl0aWVzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEh0bWw1RW50aXRpZXMoKSB7XG4gICAgfVxuICAgIEh0bWw1RW50aXRpZXMucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgaWYgKCFzdHIgfHwgIXN0ci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyYoIz9bXFx3XFxkXSspOz8vZywgZnVuY3Rpb24gKHMsIGVudGl0eSkge1xuICAgICAgICAgICAgdmFyIGNocjtcbiAgICAgICAgICAgIGlmIChlbnRpdHkuY2hhckF0KDApID09PSBcIiNcIikge1xuICAgICAgICAgICAgICAgIHZhciBjb2RlID0gZW50aXR5LmNoYXJBdCgxKSA9PT0gJ3gnID9cbiAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQoZW50aXR5LnN1YnN0cigyKS50b0xvd2VyQ2FzZSgpLCAxNikgOlxuICAgICAgICAgICAgICAgICAgICBwYXJzZUludChlbnRpdHkuc3Vic3RyKDEpKTtcbiAgICAgICAgICAgICAgICBpZiAoIShpc05hTihjb2RlKSB8fCBjb2RlIDwgLTMyNzY4IHx8IGNvZGUgPiA2NTUzNSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hyID0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjaHIgPSBhbHBoYUluZGV4W2VudGl0eV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2hyIHx8IHM7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgSHRtbDVFbnRpdGllcy5kZWNvZGUgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHJldHVybiBuZXcgSHRtbDVFbnRpdGllcygpLmRlY29kZShzdHIpO1xuICAgIH07XG4gICAgSHRtbDVFbnRpdGllcy5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICBpZiAoIXN0ciB8fCAhc3RyLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdHJMZW5ndGggPSBzdHIubGVuZ3RoO1xuICAgICAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCBzdHJMZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBjaGFySW5mbyA9IGNoYXJJbmRleFtzdHIuY2hhckNvZGVBdChpKV07XG4gICAgICAgICAgICBpZiAoY2hhckluZm8pIHtcbiAgICAgICAgICAgICAgICB2YXIgYWxwaGEgPSBjaGFySW5mb1tzdHIuY2hhckNvZGVBdChpICsgMSldO1xuICAgICAgICAgICAgICAgIGlmIChhbHBoYSkge1xuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhbHBoYSA9IGNoYXJJbmZvWycnXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFscGhhKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBcIiZcIiArIGFscGhhICsgXCI7XCI7XG4gICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0ICs9IHN0ci5jaGFyQXQoaSk7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIEh0bWw1RW50aXRpZXMuZW5jb2RlID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICByZXR1cm4gbmV3IEh0bWw1RW50aXRpZXMoKS5lbmNvZGUoc3RyKTtcbiAgICB9O1xuICAgIEh0bWw1RW50aXRpZXMucHJvdG90eXBlLmVuY29kZU5vblVURiA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgaWYgKCFzdHIgfHwgIXN0ci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RyTGVuZ3RoID0gc3RyLmxlbmd0aDtcbiAgICAgICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgc3RyTGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgYyA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICAgICAgdmFyIGNoYXJJbmZvID0gY2hhckluZGV4W2NdO1xuICAgICAgICAgICAgaWYgKGNoYXJJbmZvKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFscGhhID0gY2hhckluZm9bc3RyLmNoYXJDb2RlQXQoaSArIDEpXTtcbiAgICAgICAgICAgICAgICBpZiAoYWxwaGEpIHtcbiAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYWxwaGEgPSBjaGFySW5mb1snJ107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhbHBoYSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gXCImXCIgKyBhbHBoYSArIFwiO1wiO1xuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjIDwgMzIgfHwgYyA+IDEyNikge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnJiMnICsgYyArICc7JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBzdHIuY2hhckF0KGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBIdG1sNUVudGl0aWVzLmVuY29kZU5vblVURiA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBIdG1sNUVudGl0aWVzKCkuZW5jb2RlTm9uVVRGKHN0cik7XG4gICAgfTtcbiAgICBIdG1sNUVudGl0aWVzLnByb3RvdHlwZS5lbmNvZGVOb25BU0NJSSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgaWYgKCFzdHIgfHwgIXN0ci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RyTGVuZ3RoID0gc3RyLmxlbmd0aDtcbiAgICAgICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgc3RyTGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgYyA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICAgICAgaWYgKGMgPD0gMjU1KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IHN0cltpKytdO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0ICs9ICcmIycgKyBjICsgJzsnO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBIdG1sNUVudGl0aWVzLmVuY29kZU5vbkFTQ0lJID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICByZXR1cm4gbmV3IEh0bWw1RW50aXRpZXMoKS5lbmNvZGVOb25BU0NJSShzdHIpO1xuICAgIH07XG4gICAgcmV0dXJuIEh0bWw1RW50aXRpZXM7XG59KCkpO1xuZXhwb3J0cy5IdG1sNUVudGl0aWVzID0gSHRtbDVFbnRpdGllcztcbmZ1bmN0aW9uIGNyZWF0ZUluZGV4ZXMoYWxwaGFJbmRleCwgY2hhckluZGV4KSB7XG4gICAgdmFyIGkgPSBFTlRJVElFUy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgICB2YXIgZSA9IEVOVElUSUVTW2ldO1xuICAgICAgICB2YXIgYWxwaGEgPSBlWzBdO1xuICAgICAgICB2YXIgY2hhcnMgPSBlWzFdO1xuICAgICAgICB2YXIgY2hyID0gY2hhcnNbMF07XG4gICAgICAgIHZhciBhZGRDaGFyID0gKGNociA8IDMyIHx8IGNociA+IDEyNikgfHwgY2hyID09PSA2MiB8fCBjaHIgPT09IDYwIHx8IGNociA9PT0gMzggfHwgY2hyID09PSAzNCB8fCBjaHIgPT09IDM5O1xuICAgICAgICB2YXIgY2hhckluZm8gPSB2b2lkIDA7XG4gICAgICAgIGlmIChhZGRDaGFyKSB7XG4gICAgICAgICAgICBjaGFySW5mbyA9IGNoYXJJbmRleFtjaHJdID0gY2hhckluZGV4W2Nocl0gfHwge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYXJzWzFdKSB7XG4gICAgICAgICAgICB2YXIgY2hyMiA9IGNoYXJzWzFdO1xuICAgICAgICAgICAgYWxwaGFJbmRleFthbHBoYV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNocikgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGNocjIpO1xuICAgICAgICAgICAgYWRkQ2hhciAmJiAoY2hhckluZm9bY2hyMl0gPSBhbHBoYSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhbHBoYUluZGV4W2FscGhhXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY2hyKTtcbiAgICAgICAgICAgIGFkZENoYXIgJiYgKGNoYXJJbmZvWycnXSA9IGFscGhhKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHhtbF9lbnRpdGllc18xID0gcmVxdWlyZShcIi4veG1sLWVudGl0aWVzXCIpO1xuZXhwb3J0cy5YbWxFbnRpdGllcyA9IHhtbF9lbnRpdGllc18xLlhtbEVudGl0aWVzO1xudmFyIGh0bWw0X2VudGl0aWVzXzEgPSByZXF1aXJlKFwiLi9odG1sNC1lbnRpdGllc1wiKTtcbmV4cG9ydHMuSHRtbDRFbnRpdGllcyA9IGh0bWw0X2VudGl0aWVzXzEuSHRtbDRFbnRpdGllcztcbnZhciBodG1sNV9lbnRpdGllc18xID0gcmVxdWlyZShcIi4vaHRtbDUtZW50aXRpZXNcIik7XG5leHBvcnRzLkh0bWw1RW50aXRpZXMgPSBodG1sNV9lbnRpdGllc18xLkh0bWw1RW50aXRpZXM7XG5leHBvcnRzLkFsbEh0bWxFbnRpdGllcyA9IGh0bWw1X2VudGl0aWVzXzEuSHRtbDVFbnRpdGllcztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEFMUEhBX0lOREVYID0ge1xuICAgICcmbHQnOiAnPCcsXG4gICAgJyZndCc6ICc+JyxcbiAgICAnJnF1b3QnOiAnXCInLFxuICAgICcmYXBvcyc6ICdcXCcnLFxuICAgICcmYW1wJzogJyYnLFxuICAgICcmbHQ7JzogJzwnLFxuICAgICcmZ3Q7JzogJz4nLFxuICAgICcmcXVvdDsnOiAnXCInLFxuICAgICcmYXBvczsnOiAnXFwnJyxcbiAgICAnJmFtcDsnOiAnJidcbn07XG52YXIgQ0hBUl9JTkRFWCA9IHtcbiAgICA2MDogJ2x0JyxcbiAgICA2MjogJ2d0JyxcbiAgICAzNDogJ3F1b3QnLFxuICAgIDM5OiAnYXBvcycsXG4gICAgMzg6ICdhbXAnXG59O1xudmFyIENIQVJfU19JTkRFWCA9IHtcbiAgICAnPCc6ICcmbHQ7JyxcbiAgICAnPic6ICcmZ3Q7JyxcbiAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICAnXFwnJzogJyZhcG9zOycsXG4gICAgJyYnOiAnJmFtcDsnXG59O1xudmFyIFhtbEVudGl0aWVzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFhtbEVudGl0aWVzKCkge1xuICAgIH1cbiAgICBYbWxFbnRpdGllcy5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICBpZiAoIXN0ciB8fCAhc3RyLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvWzw+XCInJl0vZywgZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgIHJldHVybiBDSEFSX1NfSU5ERVhbc107XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgWG1sRW50aXRpZXMuZW5jb2RlID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICByZXR1cm4gbmV3IFhtbEVudGl0aWVzKCkuZW5jb2RlKHN0cik7XG4gICAgfTtcbiAgICBYbWxFbnRpdGllcy5wcm90b3R5cGUuZGVjb2RlID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICBpZiAoIXN0ciB8fCAhc3RyLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvJiM/WzAtOWEtekEtWl0rOz8vZywgZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgIGlmIChzLmNoYXJBdCgxKSA9PT0gJyMnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvZGUgPSBzLmNoYXJBdCgyKS50b0xvd2VyQ2FzZSgpID09PSAneCcgP1xuICAgICAgICAgICAgICAgICAgICBwYXJzZUludChzLnN1YnN0cigzKSwgMTYpIDpcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQocy5zdWJzdHIoMikpO1xuICAgICAgICAgICAgICAgIGlmIChpc05hTihjb2RlKSB8fCBjb2RlIDwgLTMyNzY4IHx8IGNvZGUgPiA2NTUzNSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEFMUEhBX0lOREVYW3NdIHx8IHM7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgWG1sRW50aXRpZXMuZGVjb2RlID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICByZXR1cm4gbmV3IFhtbEVudGl0aWVzKCkuZGVjb2RlKHN0cik7XG4gICAgfTtcbiAgICBYbWxFbnRpdGllcy5wcm90b3R5cGUuZW5jb2RlTm9uVVRGID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICBpZiAoIXN0ciB8fCAhc3RyLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdHJMZW5ndGggPSBzdHIubGVuZ3RoO1xuICAgICAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCBzdHJMZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBjID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICB2YXIgYWxwaGEgPSBDSEFSX0lOREVYW2NdO1xuICAgICAgICAgICAgaWYgKGFscGhhKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IFwiJlwiICsgYWxwaGEgKyBcIjtcIjtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYyA8IDMyIHx8IGMgPiAxMjYpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gJyYjJyArIGMgKyAnOyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gc3RyLmNoYXJBdChpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgWG1sRW50aXRpZXMuZW5jb2RlTm9uVVRGID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICByZXR1cm4gbmV3IFhtbEVudGl0aWVzKCkuZW5jb2RlTm9uVVRGKHN0cik7XG4gICAgfTtcbiAgICBYbWxFbnRpdGllcy5wcm90b3R5cGUuZW5jb2RlTm9uQVNDSUkgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIGlmICghc3RyIHx8ICFzdHIubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0ckxlbmdodCA9IHN0ci5sZW5ndGg7XG4gICAgICAgIHZhciByZXN1bHQgPSAnJztcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHN0ckxlbmdodCkge1xuICAgICAgICAgICAgdmFyIGMgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIGlmIChjIDw9IDI1NSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBzdHJbaSsrXTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdCArPSAnJiMnICsgYyArICc7JztcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgWG1sRW50aXRpZXMuZW5jb2RlTm9uQVNDSUkgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHJldHVybiBuZXcgWG1sRW50aXRpZXMoKS5lbmNvZGVOb25BU0NJSShzdHIpO1xuICAgIH07XG4gICAgcmV0dXJuIFhtbEVudGl0aWVzO1xufSgpKTtcbmV4cG9ydHMuWG1sRW50aXRpZXMgPSBYbWxFbnRpdGllcztcbiIsIi8qKlxuICogSWRlbnRpY29uLmpzIDIuMy4zXG4gKiBodHRwOi8vZ2l0aHViLmNvbS9zdGV3YXJ0bG9yZC9pZGVudGljb24uanNcbiAqXG4gKiBQTkdMaWIgcmVxdWlyZWQgZm9yIFBORyBvdXRwdXRcbiAqIGh0dHA6Ly93d3cueGFyZy5vcmcvZG93bmxvYWQvcG5nbGliLmpzXG4gKlxuICogQ29weXJpZ2h0IDIwMTgsIFN0ZXdhcnQgTG9yZFxuICogUmVsZWFzZWQgdW5kZXIgdGhlIEJTRCBsaWNlbnNlXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL2JzZC1saWNlbnNlLnBocFxuICovXG5cbihmdW5jdGlvbigpIHtcbiAgICB2YXIgUE5HbGliO1xuICAgIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIFBOR2xpYiA9IHJlcXVpcmUoJy4vcG5nbGliJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgUE5HbGliID0gd2luZG93LlBOR2xpYjtcbiAgICB9XG5cbiAgICB2YXIgSWRlbnRpY29uID0gZnVuY3Rpb24oaGFzaCwgb3B0aW9ucyl7XG4gICAgICAgIGlmICh0eXBlb2YoaGFzaCkgIT09ICdzdHJpbmcnIHx8IGhhc2gubGVuZ3RoIDwgMTUpIHtcbiAgICAgICAgICAgIHRocm93ICdBIGhhc2ggb2YgYXQgbGVhc3QgMTUgY2hhcmFjdGVycyBpcyByZXF1aXJlZC4nO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kZWZhdWx0cyA9IHtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IFsyNDAsIDI0MCwgMjQwLCAyNTVdLFxuICAgICAgICAgICAgbWFyZ2luOiAgICAgMC4wOCxcbiAgICAgICAgICAgIHNpemU6ICAgICAgIDY0LFxuICAgICAgICAgICAgc2F0dXJhdGlvbjogMC43LFxuICAgICAgICAgICAgYnJpZ2h0bmVzczogMC41LFxuICAgICAgICAgICAgZm9ybWF0OiAgICAgJ3BuZydcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLm9wdGlvbnMgPSB0eXBlb2Yob3B0aW9ucykgPT09ICdvYmplY3QnID8gb3B0aW9ucyA6IHRoaXMuZGVmYXVsdHM7XG5cbiAgICAgICAgLy8gYmFja3dhcmQgY29tcGF0aWJpbGl0eSB3aXRoIG9sZCBjb25zdHJ1Y3RvciAoaGFzaCwgc2l6ZSwgbWFyZ2luKVxuICAgICAgICBpZiAodHlwZW9mKGFyZ3VtZW50c1sxXSkgPT09ICdudW1iZXInKSB7IHRoaXMub3B0aW9ucy5zaXplICAgPSBhcmd1bWVudHNbMV07IH1cbiAgICAgICAgaWYgKGFyZ3VtZW50c1syXSkgICAgICAgICAgICAgICAgICAgICAgeyB0aGlzLm9wdGlvbnMubWFyZ2luID0gYXJndW1lbnRzWzJdOyB9XG5cbiAgICAgICAgdGhpcy5oYXNoICAgICAgICA9IGhhc2hcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kICA9IHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kIHx8IHRoaXMuZGVmYXVsdHMuYmFja2dyb3VuZDtcbiAgICAgICAgdGhpcy5zaXplICAgICAgICA9IHRoaXMub3B0aW9ucy5zaXplICAgICAgIHx8IHRoaXMuZGVmYXVsdHMuc2l6ZTtcbiAgICAgICAgdGhpcy5mb3JtYXQgICAgICA9IHRoaXMub3B0aW9ucy5mb3JtYXQgICAgIHx8IHRoaXMuZGVmYXVsdHMuZm9ybWF0O1xuICAgICAgICB0aGlzLm1hcmdpbiAgICAgID0gdGhpcy5vcHRpb25zLm1hcmdpbiAhPT0gdW5kZWZpbmVkID8gdGhpcy5vcHRpb25zLm1hcmdpbiA6IHRoaXMuZGVmYXVsdHMubWFyZ2luO1xuXG4gICAgICAgIC8vIGZvcmVncm91bmQgZGVmYXVsdHMgdG8gbGFzdCA3IGNoYXJzIGFzIGh1ZSBhdCA3MCUgc2F0dXJhdGlvbiwgNTAlIGJyaWdodG5lc3NcbiAgICAgICAgdmFyIGh1ZSAgICAgICAgICA9IHBhcnNlSW50KHRoaXMuaGFzaC5zdWJzdHIoLTcpLCAxNikgLyAweGZmZmZmZmY7XG4gICAgICAgIHZhciBzYXR1cmF0aW9uICAgPSB0aGlzLm9wdGlvbnMuc2F0dXJhdGlvbiB8fCB0aGlzLmRlZmF1bHRzLnNhdHVyYXRpb247XG4gICAgICAgIHZhciBicmlnaHRuZXNzICAgPSB0aGlzLm9wdGlvbnMuYnJpZ2h0bmVzcyB8fCB0aGlzLmRlZmF1bHRzLmJyaWdodG5lc3M7XG4gICAgICAgIHRoaXMuZm9yZWdyb3VuZCAgPSB0aGlzLm9wdGlvbnMuZm9yZWdyb3VuZCB8fCB0aGlzLmhzbDJyZ2IoaHVlLCBzYXR1cmF0aW9uLCBicmlnaHRuZXNzKTtcbiAgICB9O1xuXG4gICAgSWRlbnRpY29uLnByb3RvdHlwZSA9IHtcbiAgICAgICAgYmFja2dyb3VuZDogbnVsbCxcbiAgICAgICAgZm9yZWdyb3VuZDogbnVsbCxcbiAgICAgICAgaGFzaDogICAgICAgbnVsbCxcbiAgICAgICAgbWFyZ2luOiAgICAgbnVsbCxcbiAgICAgICAgc2l6ZTogICAgICAgbnVsbCxcbiAgICAgICAgZm9ybWF0OiAgICAgbnVsbCxcblxuICAgICAgICBpbWFnZTogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzU3ZnKClcbiAgICAgICAgICAgICAgICA/IG5ldyBTdmcodGhpcy5zaXplLCB0aGlzLmZvcmVncm91bmQsIHRoaXMuYmFja2dyb3VuZClcbiAgICAgICAgICAgICAgICA6IG5ldyBQTkdsaWIodGhpcy5zaXplLCB0aGlzLnNpemUsIDI1Nik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdmFyIGltYWdlICAgICAgPSB0aGlzLmltYWdlKCksXG4gICAgICAgICAgICAgICAgc2l6ZSAgICAgICA9IHRoaXMuc2l6ZSxcbiAgICAgICAgICAgICAgICBiYXNlTWFyZ2luID0gTWF0aC5mbG9vcihzaXplICogdGhpcy5tYXJnaW4pLFxuICAgICAgICAgICAgICAgIGNlbGwgICAgICAgPSBNYXRoLmZsb29yKChzaXplIC0gKGJhc2VNYXJnaW4gKiAyKSkgLyA1KSxcbiAgICAgICAgICAgICAgICBtYXJnaW4gICAgID0gTWF0aC5mbG9vcigoc2l6ZSAtIGNlbGwgKiA1KSAvIDIpLFxuICAgICAgICAgICAgICAgIGJnICAgICAgICAgPSBpbWFnZS5jb2xvci5hcHBseShpbWFnZSwgdGhpcy5iYWNrZ3JvdW5kKSxcbiAgICAgICAgICAgICAgICBmZyAgICAgICAgID0gaW1hZ2UuY29sb3IuYXBwbHkoaW1hZ2UsIHRoaXMuZm9yZWdyb3VuZCk7XG5cbiAgICAgICAgICAgIC8vIHRoZSBmaXJzdCAxNSBjaGFyYWN0ZXJzIG9mIHRoZSBoYXNoIGNvbnRyb2wgdGhlIHBpeGVscyAoZXZlbi9vZGQpXG4gICAgICAgICAgICAvLyB0aGV5IGFyZSBkcmF3biBkb3duIHRoZSBtaWRkbGUgZmlyc3QsIHRoZW4gbWlycm9yZWQgb3V0d2FyZHNcbiAgICAgICAgICAgIHZhciBpLCBjb2xvcjtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCAxNTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29sb3IgPSBwYXJzZUludCh0aGlzLmhhc2guY2hhckF0KGkpLCAxNikgJSAyID8gYmcgOiBmZztcbiAgICAgICAgICAgICAgICBpZiAoaSA8IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWN0YW5nbGUoMiAqIGNlbGwgKyBtYXJnaW4sIGkgKiBjZWxsICsgbWFyZ2luLCBjZWxsLCBjZWxsLCBjb2xvciwgaW1hZ2UpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA8IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVjdGFuZ2xlKDEgKiBjZWxsICsgbWFyZ2luLCAoaSAtIDUpICogY2VsbCArIG1hcmdpbiwgY2VsbCwgY2VsbCwgY29sb3IsIGltYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWN0YW5nbGUoMyAqIGNlbGwgKyBtYXJnaW4sIChpIC0gNSkgKiBjZWxsICsgbWFyZ2luLCBjZWxsLCBjZWxsLCBjb2xvciwgaW1hZ2UpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA8IDE1KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVjdGFuZ2xlKDAgKiBjZWxsICsgbWFyZ2luLCAoaSAtIDEwKSAqIGNlbGwgKyBtYXJnaW4sIGNlbGwsIGNlbGwsIGNvbG9yLCBpbWFnZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVjdGFuZ2xlKDQgKiBjZWxsICsgbWFyZ2luLCAoaSAtIDEwKSAqIGNlbGwgKyBtYXJnaW4sIGNlbGwsIGNlbGwsIGNvbG9yLCBpbWFnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gaW1hZ2U7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVjdGFuZ2xlOiBmdW5jdGlvbih4LCB5LCB3LCBoLCBjb2xvciwgaW1hZ2Upe1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNTdmcoKSkge1xuICAgICAgICAgICAgICAgIGltYWdlLnJlY3RhbmdsZXMucHVzaCh7eDogeCwgeTogeSwgdzogdywgaDogaCwgY29sb3I6IGNvbG9yfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBpLCBqO1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IHg7IGkgPCB4ICsgdzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IHk7IGogPCB5ICsgaDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZS5idWZmZXJbaW1hZ2UuaW5kZXgoaSwgaildID0gY29sb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gYWRhcHRlZCBmcm9tOiBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9hZW1rZWkvMTMyNTkzN1xuICAgICAgICBoc2wycmdiOiBmdW5jdGlvbihoLCBzLCBiKXtcbiAgICAgICAgICAgIGggKj0gNjtcbiAgICAgICAgICAgIHMgPSBbXG4gICAgICAgICAgICAgICAgYiArPSBzICo9IGIgPCAuNSA/IGIgOiAxIC0gYixcbiAgICAgICAgICAgICAgICBiIC0gaCAlIDEgKiBzICogMixcbiAgICAgICAgICAgICAgICBiIC09IHMgKj0gMixcbiAgICAgICAgICAgICAgICBiLFxuICAgICAgICAgICAgICAgIGIgKyBoICUgMSAqIHMsXG4gICAgICAgICAgICAgICAgYiArIHNcbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIHJldHVybltcbiAgICAgICAgICAgICAgICBzWyB+fmggICAgJSA2IF0gKiAyNTUsIC8vIHJlZFxuICAgICAgICAgICAgICAgIHNbIChofDE2KSAlIDYgXSAqIDI1NSwgLy8gZ3JlZW5cbiAgICAgICAgICAgICAgICBzWyAoaHw4KSAgJSA2IF0gKiAyNTUgIC8vIGJsdWVcbiAgICAgICAgICAgIF07XG4gICAgICAgIH0sXG5cbiAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uKHJhdyl7XG4gICAgICAgICAgICAvLyBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IHdpdGggb2xkIHRvU3RyaW5nLCBkZWZhdWx0IHRvIGJhc2U2NFxuICAgICAgICAgICAgaWYgKHJhdykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlcigpLmdldER1bXAoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyKCkuZ2V0QmFzZTY0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgaXNTdmc6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXQubWF0Y2goL3N2Zy9pKVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBTdmcgPSBmdW5jdGlvbihzaXplLCBmb3JlZ3JvdW5kLCBiYWNrZ3JvdW5kKXtcbiAgICAgICAgdGhpcy5zaXplICAgICAgID0gc2l6ZTtcbiAgICAgICAgdGhpcy5mb3JlZ3JvdW5kID0gdGhpcy5jb2xvci5hcHBseSh0aGlzLCBmb3JlZ3JvdW5kKTtcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gdGhpcy5jb2xvci5hcHBseSh0aGlzLCBiYWNrZ3JvdW5kKTtcbiAgICAgICAgdGhpcy5yZWN0YW5nbGVzID0gW107XG4gICAgfTtcblxuICAgIFN2Zy5wcm90b3R5cGUgPSB7XG4gICAgICAgIHNpemU6ICAgICAgIG51bGwsXG4gICAgICAgIGZvcmVncm91bmQ6IG51bGwsXG4gICAgICAgIGJhY2tncm91bmQ6IG51bGwsXG4gICAgICAgIHJlY3RhbmdsZXM6IG51bGwsXG5cbiAgICAgICAgY29sb3I6IGZ1bmN0aW9uKHIsIGcsIGIsIGEpe1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IFtyLCBnLCBiXS5tYXAoTWF0aC5yb3VuZCk7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaCgoYSA+PSAwKSAmJiAoYSA8PSAyNTUpID8gYS8yNTUgOiAxKTtcbiAgICAgICAgICAgIHJldHVybiAncmdiYSgnICsgdmFsdWVzLmpvaW4oJywnKSArICcpJztcbiAgICAgICAgfSxcblxuICAgICAgICBnZXREdW1wOiBmdW5jdGlvbigpe1xuICAgICAgICAgIHZhciBpLFxuICAgICAgICAgICAgICAgIHhtbCxcbiAgICAgICAgICAgICAgICByZWN0LFxuICAgICAgICAgICAgICAgIGZnICAgICA9IHRoaXMuZm9yZWdyb3VuZCxcbiAgICAgICAgICAgICAgICBiZyAgICAgPSB0aGlzLmJhY2tncm91bmQsXG4gICAgICAgICAgICAgICAgc3Ryb2tlID0gdGhpcy5zaXplICogMC4wMDU7XG5cbiAgICAgICAgICAgIHhtbCA9IFwiPHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnXCJcbiAgICAgICAgICAgICAgICArIFwiIHdpZHRoPSdcIiArIHRoaXMuc2l6ZSArIFwiJyBoZWlnaHQ9J1wiICsgdGhpcy5zaXplICsgXCInXCJcbiAgICAgICAgICAgICAgICArIFwiIHN0eWxlPSdiYWNrZ3JvdW5kLWNvbG9yOlwiICsgYmcgKyBcIjsnPlwiXG4gICAgICAgICAgICAgICAgKyBcIjxnIHN0eWxlPSdmaWxsOlwiICsgZmcgKyBcIjsgc3Ryb2tlOlwiICsgZmcgKyBcIjsgc3Ryb2tlLXdpZHRoOlwiICsgc3Ryb2tlICsgXCI7Jz5cIjtcblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMucmVjdGFuZ2xlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHJlY3QgPSB0aGlzLnJlY3RhbmdsZXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKHJlY3QuY29sb3IgPT0gYmcpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIHhtbCArPSBcIjxyZWN0IFwiXG4gICAgICAgICAgICAgICAgICAgICsgXCIgeD0nXCIgICAgICArIHJlY3QueCArIFwiJ1wiXG4gICAgICAgICAgICAgICAgICAgICsgXCIgeT0nXCIgICAgICArIHJlY3QueSArIFwiJ1wiXG4gICAgICAgICAgICAgICAgICAgICsgXCIgd2lkdGg9J1wiICArIHJlY3QudyArIFwiJ1wiXG4gICAgICAgICAgICAgICAgICAgICsgXCIgaGVpZ2h0PSdcIiArIHJlY3QuaCArIFwiJ1wiXG4gICAgICAgICAgICAgICAgICAgICsgXCIvPlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeG1sICs9IFwiPC9nPjwvc3ZnPlwiXG5cbiAgICAgICAgICAgIHJldHVybiB4bWw7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0QmFzZTY0OiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBidG9hKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ0b2EodGhpcy5nZXREdW1wKCkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJ1ZmZlcih0aGlzLmdldER1bXAoKSwgJ2JpbmFyeScpLnRvU3RyaW5nKCdiYXNlNjQnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgJ0Nhbm5vdCBnZW5lcmF0ZSBiYXNlNjQgb3V0cHV0JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IElkZW50aWNvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3cuSWRlbnRpY29uID0gSWRlbnRpY29uO1xuICAgIH1cbn0pKCk7XG4iLCIvKipcbiogQSBoYW5keSBjbGFzcyB0byBjYWxjdWxhdGUgY29sb3IgdmFsdWVzLlxuKlxuKiBAdmVyc2lvbiAxLjBcbiogQGF1dGhvciBSb2JlcnQgRWlzZWxlIDxyb2JlcnRAeGFyZy5vcmc+XG4qIEBjb3B5cmlnaHQgQ29weXJpZ2h0IChjKSAyMDEwLCBSb2JlcnQgRWlzZWxlXG4qIEBsaW5rIGh0dHA6Ly93d3cueGFyZy5vcmcvMjAxMC8wMy9nZW5lcmF0ZS1jbGllbnQtc2lkZS1wbmctZmlsZXMtdXNpbmctamF2YXNjcmlwdC9cbiogQGxpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9ic2QtbGljZW5zZS5waHAgQlNEIExpY2Vuc2VcbipcbiovXG5cbihmdW5jdGlvbigpIHtcblxuXHQvLyBoZWxwZXIgZnVuY3Rpb25zIGZvciB0aGF0IGN0eFxuXHRmdW5jdGlvbiB3cml0ZShidWZmZXIsIG9mZnMpIHtcblx0XHRmb3IgKHZhciBpID0gMjsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBhcmd1bWVudHNbaV0ubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0YnVmZmVyW29mZnMrK10gPSBhcmd1bWVudHNbaV0uY2hhckF0KGopO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIGJ5dGUyKHcpIHtcblx0XHRyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSgodyA+PiA4KSAmIDI1NSwgdyAmIDI1NSk7XG5cdH1cblxuXHRmdW5jdGlvbiBieXRlNCh3KSB7XG5cdFx0cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoKHcgPj4gMjQpICYgMjU1LCAodyA+PiAxNikgJiAyNTUsICh3ID4+IDgpICYgMjU1LCB3ICYgMjU1KTtcblx0fVxuXG5cdGZ1bmN0aW9uIGJ5dGUybHNiKHcpIHtcblx0XHRyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSh3ICYgMjU1LCAodyA+PiA4KSAmIDI1NSk7XG5cdH1cblxuXHQvLyBtb2RpZmllZCBmcm9tIG9yaWdpbmFsIHNvdXJjZSB0byBzdXBwb3J0IE5QTVxuXHR2YXIgUE5HbGliID0gZnVuY3Rpb24od2lkdGgsaGVpZ2h0LGRlcHRoKSB7XG5cblx0XHR0aGlzLndpZHRoICAgPSB3aWR0aDtcblx0XHR0aGlzLmhlaWdodCAgPSBoZWlnaHQ7XG5cdFx0dGhpcy5kZXB0aCAgID0gZGVwdGg7XG5cblx0XHQvLyBwaXhlbCBkYXRhIGFuZCByb3cgZmlsdGVyIGlkZW50aWZpZXIgc2l6ZVxuXHRcdHRoaXMucGl4X3NpemUgPSBoZWlnaHQgKiAod2lkdGggKyAxKTtcblxuXHRcdC8vIGRlZmxhdGUgaGVhZGVyLCBwaXhfc2l6ZSwgYmxvY2sgaGVhZGVycywgYWRsZXIzMiBjaGVja3N1bVxuXHRcdHRoaXMuZGF0YV9zaXplID0gMiArIHRoaXMucGl4X3NpemUgKyA1ICogTWF0aC5mbG9vcigoMHhmZmZlICsgdGhpcy5waXhfc2l6ZSkgLyAweGZmZmYpICsgNDtcblxuXHRcdC8vIG9mZnNldHMgYW5kIHNpemVzIG9mIFBuZyBjaHVua3Ncblx0XHR0aGlzLmloZHJfb2ZmcyA9IDA7XHRcdFx0XHRcdFx0XHRcdFx0Ly8gSUhEUiBvZmZzZXQgYW5kIHNpemVcblx0XHR0aGlzLmloZHJfc2l6ZSA9IDQgKyA0ICsgMTMgKyA0O1xuXHRcdHRoaXMucGx0ZV9vZmZzID0gdGhpcy5paGRyX29mZnMgKyB0aGlzLmloZHJfc2l6ZTtcdC8vIFBMVEUgb2Zmc2V0IGFuZCBzaXplXG5cdFx0dGhpcy5wbHRlX3NpemUgPSA0ICsgNCArIDMgKiBkZXB0aCArIDQ7XG5cdFx0dGhpcy50cm5zX29mZnMgPSB0aGlzLnBsdGVfb2ZmcyArIHRoaXMucGx0ZV9zaXplO1x0Ly8gdFJOUyBvZmZzZXQgYW5kIHNpemVcblx0XHR0aGlzLnRybnNfc2l6ZSA9IDQgKyA0ICsgZGVwdGggKyA0O1xuXHRcdHRoaXMuaWRhdF9vZmZzID0gdGhpcy50cm5zX29mZnMgKyB0aGlzLnRybnNfc2l6ZTtcdC8vIElEQVQgb2Zmc2V0IGFuZCBzaXplXG5cdFx0dGhpcy5pZGF0X3NpemUgPSA0ICsgNCArIHRoaXMuZGF0YV9zaXplICsgNDtcblx0XHR0aGlzLmllbmRfb2ZmcyA9IHRoaXMuaWRhdF9vZmZzICsgdGhpcy5pZGF0X3NpemU7XHQvLyBJRU5EIG9mZnNldCBhbmQgc2l6ZVxuXHRcdHRoaXMuaWVuZF9zaXplID0gNCArIDQgKyA0O1xuXHRcdHRoaXMuYnVmZmVyX3NpemUgID0gdGhpcy5pZW5kX29mZnMgKyB0aGlzLmllbmRfc2l6ZTtcdC8vIHRvdGFsIFBORyBzaXplXG5cblx0XHR0aGlzLmJ1ZmZlciAgPSBuZXcgQXJyYXkoKTtcblx0XHR0aGlzLnBhbGV0dGUgPSBuZXcgT2JqZWN0KCk7XG5cdFx0dGhpcy5waW5kZXggID0gMDtcblxuXHRcdHZhciBfY3JjMzIgPSBuZXcgQXJyYXkoKTtcblxuXHRcdC8vIGluaXRpYWxpemUgYnVmZmVyIHdpdGggemVybyBieXRlc1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5idWZmZXJfc2l6ZTsgaSsrKSB7XG5cdFx0XHR0aGlzLmJ1ZmZlcltpXSA9IFwiXFx4MDBcIjtcblx0XHR9XG5cblx0XHQvLyBpbml0aWFsaXplIG5vbi16ZXJvIGVsZW1lbnRzXG5cdFx0d3JpdGUodGhpcy5idWZmZXIsIHRoaXMuaWhkcl9vZmZzLCBieXRlNCh0aGlzLmloZHJfc2l6ZSAtIDEyKSwgJ0lIRFInLCBieXRlNCh3aWR0aCksIGJ5dGU0KGhlaWdodCksIFwiXFx4MDhcXHgwM1wiKTtcblx0XHR3cml0ZSh0aGlzLmJ1ZmZlciwgdGhpcy5wbHRlX29mZnMsIGJ5dGU0KHRoaXMucGx0ZV9zaXplIC0gMTIpLCAnUExURScpO1xuXHRcdHdyaXRlKHRoaXMuYnVmZmVyLCB0aGlzLnRybnNfb2ZmcywgYnl0ZTQodGhpcy50cm5zX3NpemUgLSAxMiksICd0Uk5TJyk7XG5cdFx0d3JpdGUodGhpcy5idWZmZXIsIHRoaXMuaWRhdF9vZmZzLCBieXRlNCh0aGlzLmlkYXRfc2l6ZSAtIDEyKSwgJ0lEQVQnKTtcblx0XHR3cml0ZSh0aGlzLmJ1ZmZlciwgdGhpcy5pZW5kX29mZnMsIGJ5dGU0KHRoaXMuaWVuZF9zaXplIC0gMTIpLCAnSUVORCcpO1xuXG5cdFx0Ly8gaW5pdGlhbGl6ZSBkZWZsYXRlIGhlYWRlclxuXHRcdHZhciBoZWFkZXIgPSAoKDggKyAoNyA8PCA0KSkgPDwgOCkgfCAoMyA8PCA2KTtcblx0XHRoZWFkZXIrPSAzMSAtIChoZWFkZXIgJSAzMSk7XG5cblx0XHR3cml0ZSh0aGlzLmJ1ZmZlciwgdGhpcy5pZGF0X29mZnMgKyA4LCBieXRlMihoZWFkZXIpKTtcblxuXHRcdC8vIGluaXRpYWxpemUgZGVmbGF0ZSBibG9jayBoZWFkZXJzXG5cdFx0Zm9yICh2YXIgaSA9IDA7IChpIDw8IDE2KSAtIDEgPCB0aGlzLnBpeF9zaXplOyBpKyspIHtcblx0XHRcdHZhciBzaXplLCBiaXRzO1xuXHRcdFx0aWYgKGkgKyAweGZmZmYgPCB0aGlzLnBpeF9zaXplKSB7XG5cdFx0XHRcdHNpemUgPSAweGZmZmY7XG5cdFx0XHRcdGJpdHMgPSBcIlxceDAwXCI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzaXplID0gdGhpcy5waXhfc2l6ZSAtIChpIDw8IDE2KSAtIGk7XG5cdFx0XHRcdGJpdHMgPSBcIlxceDAxXCI7XG5cdFx0XHR9XG5cdFx0XHR3cml0ZSh0aGlzLmJ1ZmZlciwgdGhpcy5pZGF0X29mZnMgKyA4ICsgMiArIChpIDw8IDE2KSArIChpIDw8IDIpLCBiaXRzLCBieXRlMmxzYihzaXplKSwgYnl0ZTJsc2IofnNpemUpKTtcblx0XHR9XG5cblx0XHQvKiBDcmVhdGUgY3JjMzIgbG9va3VwIHRhYmxlICovXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7IGkrKykge1xuXHRcdFx0dmFyIGMgPSBpO1xuXHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCA4OyBqKyspIHtcblx0XHRcdFx0aWYgKGMgJiAxKSB7XG5cdFx0XHRcdFx0YyA9IC0zMDY2NzQ5MTIgXiAoKGMgPj4gMSkgJiAweDdmZmZmZmZmKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjID0gKGMgPj4gMSkgJiAweDdmZmZmZmZmO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRfY3JjMzJbaV0gPSBjO1xuXHRcdH1cblxuXHRcdC8vIGNvbXB1dGUgdGhlIGluZGV4IGludG8gYSBwbmcgZm9yIGEgZ2l2ZW4gcGl4ZWxcblx0XHR0aGlzLmluZGV4ID0gZnVuY3Rpb24oeCx5KSB7XG5cdFx0XHR2YXIgaSA9IHkgKiAodGhpcy53aWR0aCArIDEpICsgeCArIDE7XG5cdFx0XHR2YXIgaiA9IHRoaXMuaWRhdF9vZmZzICsgOCArIDIgKyA1ICogTWF0aC5mbG9vcigoaSAvIDB4ZmZmZikgKyAxKSArIGk7XG5cdFx0XHRyZXR1cm4gajtcblx0XHR9XG5cblx0XHQvLyBjb252ZXJ0IGEgY29sb3IgYW5kIGJ1aWxkIHVwIHRoZSBwYWxldHRlXG5cdFx0dGhpcy5jb2xvciA9IGZ1bmN0aW9uKHJlZCwgZ3JlZW4sIGJsdWUsIGFscGhhKSB7XG5cblx0XHRcdGFscGhhID0gYWxwaGEgPj0gMCA/IGFscGhhIDogMjU1O1xuXHRcdFx0dmFyIGNvbG9yID0gKCgoKChhbHBoYSA8PCA4KSB8IHJlZCkgPDwgOCkgfCBncmVlbikgPDwgOCkgfCBibHVlO1xuXG5cdFx0XHRpZiAodHlwZW9mIHRoaXMucGFsZXR0ZVtjb2xvcl0gPT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0XHRpZiAodGhpcy5waW5kZXggPT0gdGhpcy5kZXB0aCkgcmV0dXJuIFwiXFx4MDBcIjtcblxuXHRcdFx0XHR2YXIgbmR4ID0gdGhpcy5wbHRlX29mZnMgKyA4ICsgMyAqIHRoaXMucGluZGV4O1xuXG5cdFx0XHRcdHRoaXMuYnVmZmVyW25keCArIDBdID0gU3RyaW5nLmZyb21DaGFyQ29kZShyZWQpO1xuXHRcdFx0XHR0aGlzLmJ1ZmZlcltuZHggKyAxXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZ3JlZW4pO1xuXHRcdFx0XHR0aGlzLmJ1ZmZlcltuZHggKyAyXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoYmx1ZSk7XG5cdFx0XHRcdHRoaXMuYnVmZmVyW3RoaXMudHJuc19vZmZzKzgrdGhpcy5waW5kZXhdID0gU3RyaW5nLmZyb21DaGFyQ29kZShhbHBoYSk7XG5cblx0XHRcdFx0dGhpcy5wYWxldHRlW2NvbG9yXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUodGhpcy5waW5kZXgrKyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcy5wYWxldHRlW2NvbG9yXTtcblx0XHR9XG5cblx0XHQvLyBvdXRwdXQgYSBQTkcgc3RyaW5nLCBCYXNlNjQgZW5jb2RlZFxuXHRcdHRoaXMuZ2V0QmFzZTY0ID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciBzID0gdGhpcy5nZXREdW1wKCk7XG5cblx0XHRcdHZhciBjaCA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cIjtcblx0XHRcdHZhciBjMSwgYzIsIGMzLCBlMSwgZTIsIGUzLCBlNDtcblx0XHRcdHZhciBsID0gcy5sZW5ndGg7XG5cdFx0XHR2YXIgaSA9IDA7XG5cdFx0XHR2YXIgciA9IFwiXCI7XG5cblx0XHRcdGRvIHtcblx0XHRcdFx0YzEgPSBzLmNoYXJDb2RlQXQoaSk7XG5cdFx0XHRcdGUxID0gYzEgPj4gMjtcblx0XHRcdFx0YzIgPSBzLmNoYXJDb2RlQXQoaSsxKTtcblx0XHRcdFx0ZTIgPSAoKGMxICYgMykgPDwgNCkgfCAoYzIgPj4gNCk7XG5cdFx0XHRcdGMzID0gcy5jaGFyQ29kZUF0KGkrMik7XG5cdFx0XHRcdGlmIChsIDwgaSsyKSB7IGUzID0gNjQ7IH0gZWxzZSB7IGUzID0gKChjMiAmIDB4ZikgPDwgMikgfCAoYzMgPj4gNik7IH1cblx0XHRcdFx0aWYgKGwgPCBpKzMpIHsgZTQgPSA2NDsgfSBlbHNlIHsgZTQgPSBjMyAmIDB4M2Y7IH1cblx0XHRcdFx0cis9IGNoLmNoYXJBdChlMSkgKyBjaC5jaGFyQXQoZTIpICsgY2guY2hhckF0KGUzKSArIGNoLmNoYXJBdChlNCk7XG5cdFx0XHR9IHdoaWxlICgoaSs9IDMpIDwgbCk7XG5cdFx0XHRyZXR1cm4gcjtcblx0XHR9XG5cblx0XHQvLyBvdXRwdXQgYSBQTkcgc3RyaW5nXG5cdFx0dGhpcy5nZXREdW1wID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIGNvbXB1dGUgYWRsZXIzMiBvZiBvdXRwdXQgcGl4ZWxzICsgcm93IGZpbHRlciBieXRlc1xuXHRcdFx0dmFyIEJBU0UgPSA2NTUyMTsgLyogbGFyZ2VzdCBwcmltZSBzbWFsbGVyIHRoYW4gNjU1MzYgKi9cblx0XHRcdHZhciBOTUFYID0gNTU1MjsgIC8qIE5NQVggaXMgdGhlIGxhcmdlc3QgbiBzdWNoIHRoYXQgMjU1bihuKzEpLzIgKyAobisxKShCQVNFLTEpIDw9IDJeMzItMSAqL1xuXHRcdFx0dmFyIHMxID0gMTtcblx0XHRcdHZhciBzMiA9IDA7XG5cdFx0XHR2YXIgbiA9IE5NQVg7XG5cblx0XHRcdGZvciAodmFyIHkgPSAwOyB5IDwgdGhpcy5oZWlnaHQ7IHkrKykge1xuXHRcdFx0XHRmb3IgKHZhciB4ID0gLTE7IHggPCB0aGlzLndpZHRoOyB4KyspIHtcblx0XHRcdFx0XHRzMSs9IHRoaXMuYnVmZmVyW3RoaXMuaW5kZXgoeCwgeSldLmNoYXJDb2RlQXQoMCk7XG5cdFx0XHRcdFx0czIrPSBzMTtcblx0XHRcdFx0XHRpZiAoKG4tPSAxKSA9PSAwKSB7XG5cdFx0XHRcdFx0XHRzMSU9IEJBU0U7XG5cdFx0XHRcdFx0XHRzMiU9IEJBU0U7XG5cdFx0XHRcdFx0XHRuID0gTk1BWDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHMxJT0gQkFTRTtcblx0XHRcdHMyJT0gQkFTRTtcblx0XHRcdHdyaXRlKHRoaXMuYnVmZmVyLCB0aGlzLmlkYXRfb2ZmcyArIHRoaXMuaWRhdF9zaXplIC0gOCwgYnl0ZTQoKHMyIDw8IDE2KSB8IHMxKSk7XG5cblx0XHRcdC8vIGNvbXB1dGUgY3JjMzIgb2YgdGhlIFBORyBjaHVua3Ncblx0XHRcdGZ1bmN0aW9uIGNyYzMyKHBuZywgb2Zmcywgc2l6ZSkge1xuXHRcdFx0XHR2YXIgY3JjID0gLTE7XG5cdFx0XHRcdGZvciAodmFyIGkgPSA0OyBpIDwgc2l6ZS00OyBpICs9IDEpIHtcblx0XHRcdFx0XHRjcmMgPSBfY3JjMzJbKGNyYyBeIHBuZ1tvZmZzK2ldLmNoYXJDb2RlQXQoMCkpICYgMHhmZl0gXiAoKGNyYyA+PiA4KSAmIDB4MDBmZmZmZmYpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHdyaXRlKHBuZywgb2ZmcytzaXplLTQsIGJ5dGU0KGNyYyBeIC0xKSk7XG5cdFx0XHR9XG5cblx0XHRcdGNyYzMyKHRoaXMuYnVmZmVyLCB0aGlzLmloZHJfb2ZmcywgdGhpcy5paGRyX3NpemUpO1xuXHRcdFx0Y3JjMzIodGhpcy5idWZmZXIsIHRoaXMucGx0ZV9vZmZzLCB0aGlzLnBsdGVfc2l6ZSk7XG5cdFx0XHRjcmMzMih0aGlzLmJ1ZmZlciwgdGhpcy50cm5zX29mZnMsIHRoaXMudHJuc19zaXplKTtcblx0XHRcdGNyYzMyKHRoaXMuYnVmZmVyLCB0aGlzLmlkYXRfb2ZmcywgdGhpcy5pZGF0X3NpemUpO1xuXHRcdFx0Y3JjMzIodGhpcy5idWZmZXIsIHRoaXMuaWVuZF9vZmZzLCB0aGlzLmllbmRfc2l6ZSk7XG5cblx0XHRcdC8vIGNvbnZlcnQgUE5HIHRvIHN0cmluZ1xuXHRcdFx0cmV0dXJuIFwiXFx4ODlQTkdcXHJcXG5cXHgxYVxcblwiK3RoaXMuYnVmZmVyLmpvaW4oJycpO1xuXHRcdH1cblx0fVxuXG5cdC8vIG1vZGlmaWVkIGZyb20gb3JpZ2luYWwgc291cmNlIHRvIHN1cHBvcnQgTlBNXG5cdGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBQTkdsaWI7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LlBOR2xpYiA9IFBOR2xpYjtcblx0fVxufSkoKTtcbiIsIi8qISBpZWVlNzU0LiBCU0QtMy1DbGF1c2UgTGljZW5zZS4gRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnL29wZW5zb3VyY2U+ICovXG5leHBvcnRzLnJlYWQgPSBmdW5jdGlvbiAoYnVmZmVyLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbVxuICB2YXIgZUxlbiA9IChuQnl0ZXMgKiA4KSAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgbkJpdHMgPSAtN1xuICB2YXIgaSA9IGlzTEUgPyAobkJ5dGVzIC0gMSkgOiAwXG4gIHZhciBkID0gaXNMRSA/IC0xIDogMVxuICB2YXIgcyA9IGJ1ZmZlcltvZmZzZXQgKyBpXVxuXG4gIGkgKz0gZFxuXG4gIGUgPSBzICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIHMgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IGVMZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgZSA9IChlICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIG0gPSBlICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIGUgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IG1MZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgbSA9IChtICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIGlmIChlID09PSAwKSB7XG4gICAgZSA9IDEgLSBlQmlhc1xuICB9IGVsc2UgaWYgKGUgPT09IGVNYXgpIHtcbiAgICByZXR1cm4gbSA/IE5hTiA6ICgocyA/IC0xIDogMSkgKiBJbmZpbml0eSlcbiAgfSBlbHNlIHtcbiAgICBtID0gbSArIE1hdGgucG93KDIsIG1MZW4pXG4gICAgZSA9IGUgLSBlQmlhc1xuICB9XG4gIHJldHVybiAocyA/IC0xIDogMSkgKiBtICogTWF0aC5wb3coMiwgZSAtIG1MZW4pXG59XG5cbmV4cG9ydHMud3JpdGUgPSBmdW5jdGlvbiAoYnVmZmVyLCB2YWx1ZSwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG0sIGNcbiAgdmFyIGVMZW4gPSAobkJ5dGVzICogOCkgLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIHJ0ID0gKG1MZW4gPT09IDIzID8gTWF0aC5wb3coMiwgLTI0KSAtIE1hdGgucG93KDIsIC03NykgOiAwKVxuICB2YXIgaSA9IGlzTEUgPyAwIDogKG5CeXRlcyAtIDEpXG4gIHZhciBkID0gaXNMRSA/IDEgOiAtMVxuICB2YXIgcyA9IHZhbHVlIDwgMCB8fCAodmFsdWUgPT09IDAgJiYgMSAvIHZhbHVlIDwgMCkgPyAxIDogMFxuXG4gIHZhbHVlID0gTWF0aC5hYnModmFsdWUpXG5cbiAgaWYgKGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA9PT0gSW5maW5pdHkpIHtcbiAgICBtID0gaXNOYU4odmFsdWUpID8gMSA6IDBcbiAgICBlID0gZU1heFxuICB9IGVsc2Uge1xuICAgIGUgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbHVlKSAvIE1hdGguTE4yKVxuICAgIGlmICh2YWx1ZSAqIChjID0gTWF0aC5wb3coMiwgLWUpKSA8IDEpIHtcbiAgICAgIGUtLVxuICAgICAgYyAqPSAyXG4gICAgfVxuICAgIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgdmFsdWUgKz0gcnQgLyBjXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlICs9IHJ0ICogTWF0aC5wb3coMiwgMSAtIGVCaWFzKVxuICAgIH1cbiAgICBpZiAodmFsdWUgKiBjID49IDIpIHtcbiAgICAgIGUrK1xuICAgICAgYyAvPSAyXG4gICAgfVxuXG4gICAgaWYgKGUgKyBlQmlhcyA+PSBlTWF4KSB7XG4gICAgICBtID0gMFxuICAgICAgZSA9IGVNYXhcbiAgICB9IGVsc2UgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICBtID0gKCh2YWx1ZSAqIGMpIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IGUgKyBlQmlhc1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gdmFsdWUgKiBNYXRoLnBvdygyLCBlQmlhcyAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSAwXG4gICAgfVxuICB9XG5cbiAgZm9yICg7IG1MZW4gPj0gODsgYnVmZmVyW29mZnNldCArIGldID0gbSAmIDB4ZmYsIGkgKz0gZCwgbSAvPSAyNTYsIG1MZW4gLT0gOCkge31cblxuICBlID0gKGUgPDwgbUxlbikgfCBtXG4gIGVMZW4gKz0gbUxlblxuICBmb3IgKDsgZUxlbiA+IDA7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IGUgJiAweGZmLCBpICs9IGQsIGUgLz0gMjU2LCBlTGVuIC09IDgpIHt9XG5cbiAgYnVmZmVyW29mZnNldCArIGkgLSBkXSB8PSBzICogMTI4XG59XG4iLCJ2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIChhcnIpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoYXJyKSA9PSAnW29iamVjdCBBcnJheV0nO1xufTtcbiIsIi8qKlxuICogQSBKYXZhU2NyaXB0IGltcGxlbWVudGF0aW9uIG9mIHRoZSBTSEEgZmFtaWx5IG9mIGhhc2hlcyAtIGRlZmluZWQgaW4gRklQUyBQVUIgMTgwLTQsIEZJUFMgUFVCIDIwMixcbiAqIGFuZCBTUCA4MDAtMTg1IC0gYXMgd2VsbCBhcyB0aGUgY29ycmVzcG9uZGluZyBITUFDIGltcGxlbWVudGF0aW9uIGFzIGRlZmluZWQgaW4gRklQUyBQVUIgMTk4LTEuXG4gKlxuICogQ29weXJpZ2h0IDIwMDgtMjAyMCBCcmlhbiBUdXJlaywgMTk5OC0yMDA5IFBhdWwgSm9obnN0b24gJiBDb250cmlidXRvcnNcbiAqIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSBCU0QgTGljZW5zZVxuICogU2VlIGh0dHA6Ly9jYWxpZ2F0aW8uZ2l0aHViLmNvbS9qc1NIQS8gZm9yIG1vcmUgaW5mb3JtYXRpb25cbiAqL1xuY29uc3QgdD1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIjtmdW5jdGlvbiBuKHQsbixlLHIpe2xldCBpLHMsbztjb25zdCBoPW58fFswXSx1PShlPWV8fDApPj4+Myx3PS0xPT09cj8zOjA7Zm9yKGk9MDtpPHQubGVuZ3RoO2krPTEpbz1pK3Uscz1vPj4+MixoLmxlbmd0aDw9cyYmaC5wdXNoKDApLGhbc118PXRbaV08PDgqKHcrcioobyU0KSk7cmV0dXJue3ZhbHVlOmgsYmluTGVuOjgqdC5sZW5ndGgrZX19ZnVuY3Rpb24gZShlLHIsaSl7c3dpdGNoKHIpe2Nhc2VcIlVURjhcIjpjYXNlXCJVVEYxNkJFXCI6Y2FzZVwiVVRGMTZMRVwiOmJyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiZW5jb2RpbmcgbXVzdCBiZSBVVEY4LCBVVEYxNkJFLCBvciBVVEYxNkxFXCIpfXN3aXRjaChlKXtjYXNlXCJIRVhcIjpyZXR1cm4gZnVuY3Rpb24odCxuLGUpe3JldHVybiBmdW5jdGlvbih0LG4sZSxyKXtsZXQgaSxzLG8saDtpZigwIT10Lmxlbmd0aCUyKXRocm93IG5ldyBFcnJvcihcIlN0cmluZyBvZiBIRVggdHlwZSBtdXN0IGJlIGluIGJ5dGUgaW5jcmVtZW50c1wiKTtjb25zdCB1PW58fFswXSx3PShlPWV8fDApPj4+MyxjPS0xPT09cj8zOjA7Zm9yKGk9MDtpPHQubGVuZ3RoO2krPTIpe2lmKHM9cGFyc2VJbnQodC5zdWJzdHIoaSwyKSwxNiksaXNOYU4ocykpdGhyb3cgbmV3IEVycm9yKFwiU3RyaW5nIG9mIEhFWCB0eXBlIGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVyc1wiKTtmb3IoaD0oaT4+PjEpK3csbz1oPj4+Mjt1Lmxlbmd0aDw9bzspdS5wdXNoKDApO3Vbb118PXM8PDgqKGMrciooaCU0KSl9cmV0dXJue3ZhbHVlOnUsYmluTGVuOjQqdC5sZW5ndGgrZX19KHQsbixlLGkpfTtjYXNlXCJURVhUXCI6cmV0dXJuIGZ1bmN0aW9uKHQsbixlKXtyZXR1cm4gZnVuY3Rpb24odCxuLGUscixpKXtsZXQgcyxvLGgsdSx3LGMsZixhLGw9MDtjb25zdCBBPWV8fFswXSxFPShyPXJ8fDApPj4+MztpZihcIlVURjhcIj09PW4pZm9yKGY9LTE9PT1pPzM6MCxoPTA7aDx0Lmxlbmd0aDtoKz0xKWZvcihzPXQuY2hhckNvZGVBdChoKSxvPVtdLDEyOD5zP28ucHVzaChzKToyMDQ4PnM/KG8ucHVzaCgxOTJ8cz4+PjYpLG8ucHVzaCgxMjh8NjMmcykpOjU1Mjk2PnN8fDU3MzQ0PD1zP28ucHVzaCgyMjR8cz4+PjEyLDEyOHxzPj4+NiY2MywxMjh8NjMmcyk6KGgrPTEscz02NTUzNisoKDEwMjMmcyk8PDEwfDEwMjMmdC5jaGFyQ29kZUF0KGgpKSxvLnB1c2goMjQwfHM+Pj4xOCwxMjh8cz4+PjEyJjYzLDEyOHxzPj4+NiY2MywxMjh8NjMmcykpLHU9MDt1PG8ubGVuZ3RoO3UrPTEpe2ZvcihjPWwrRSx3PWM+Pj4yO0EubGVuZ3RoPD13OylBLnB1c2goMCk7QVt3XXw9b1t1XTw8OCooZitpKihjJTQpKSxsKz0xfWVsc2UgZm9yKGY9LTE9PT1pPzI6MCxhPVwiVVRGMTZMRVwiPT09biYmMSE9PWl8fFwiVVRGMTZMRVwiIT09biYmMT09PWksaD0wO2g8dC5sZW5ndGg7aCs9MSl7Zm9yKHM9dC5jaGFyQ29kZUF0KGgpLCEwPT09YSYmKHU9MjU1JnMscz11PDw4fHM+Pj44KSxjPWwrRSx3PWM+Pj4yO0EubGVuZ3RoPD13OylBLnB1c2goMCk7QVt3XXw9czw8OCooZitpKihjJTQpKSxsKz0yfXJldHVybnt2YWx1ZTpBLGJpbkxlbjo4Kmwrcn19KHQscixuLGUsaSl9O2Nhc2VcIkI2NFwiOnJldHVybiBmdW5jdGlvbihuLGUscil7cmV0dXJuIGZ1bmN0aW9uKG4sZSxyLGkpe2xldCBzLG8saCx1LHcsYyxmLGE9MDtjb25zdCBsPWV8fFswXSxBPShyPXJ8fDApPj4+MyxFPS0xPT09aT8zOjAsSD1uLmluZGV4T2YoXCI9XCIpO2lmKC0xPT09bi5zZWFyY2goL15bYS16QS1aMC05PSsvXSskLykpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjaGFyYWN0ZXIgaW4gYmFzZS02NCBzdHJpbmdcIik7aWYobj1uLnJlcGxhY2UoLz0vZyxcIlwiKSwtMSE9PUgmJkg8bi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCAnPScgZm91bmQgaW4gYmFzZS02NCBzdHJpbmdcIik7Zm9yKG89MDtvPG4ubGVuZ3RoO28rPTQpe2Zvcih3PW4uc3Vic3RyKG8sNCksdT0wLGg9MDtoPHcubGVuZ3RoO2grPTEpcz10LmluZGV4T2Yody5jaGFyQXQoaCkpLHV8PXM8PDE4LTYqaDtmb3IoaD0wO2g8dy5sZW5ndGgtMTtoKz0xKXtmb3IoZj1hK0EsYz1mPj4+MjtsLmxlbmd0aDw9YzspbC5wdXNoKDApO2xbY118PSh1Pj4+MTYtOCpoJjI1NSk8PDgqKEUraSooZiU0KSksYSs9MX19cmV0dXJue3ZhbHVlOmwsYmluTGVuOjgqYStyfX0obixlLHIsaSl9O2Nhc2VcIkJZVEVTXCI6cmV0dXJuIGZ1bmN0aW9uKHQsbixlKXtyZXR1cm4gZnVuY3Rpb24odCxuLGUscil7bGV0IGkscyxvLGg7Y29uc3QgdT1ufHxbMF0sdz0oZT1lfHwwKT4+PjMsYz0tMT09PXI/MzowO2ZvcihzPTA7czx0Lmxlbmd0aDtzKz0xKWk9dC5jaGFyQ29kZUF0KHMpLGg9cyt3LG89aD4+PjIsdS5sZW5ndGg8PW8mJnUucHVzaCgwKSx1W29dfD1pPDw4KihjK3IqKGglNCkpO3JldHVybnt2YWx1ZTp1LGJpbkxlbjo4KnQubGVuZ3RoK2V9fSh0LG4sZSxpKX07Y2FzZVwiQVJSQVlCVUZGRVJcIjp0cnl7bmV3IEFycmF5QnVmZmVyKDApfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcihcIkFSUkFZQlVGRkVSIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBlbnZpcm9ubWVudFwiKX1yZXR1cm4gZnVuY3Rpb24odCxlLHIpe3JldHVybiBmdW5jdGlvbih0LGUscixpKXtyZXR1cm4gbihuZXcgVWludDhBcnJheSh0KSxlLHIsaSl9KHQsZSxyLGkpfTtjYXNlXCJVSU5UOEFSUkFZXCI6dHJ5e25ldyBVaW50OEFycmF5KDApfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcihcIlVJTlQ4QVJSQVkgbm90IHN1cHBvcnRlZCBieSB0aGlzIGVudmlyb25tZW50XCIpfXJldHVybiBmdW5jdGlvbih0LGUscil7cmV0dXJuIG4odCxlLHIsaSl9O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiZm9ybWF0IG11c3QgYmUgSEVYLCBURVhULCBCNjQsIEJZVEVTLCBBUlJBWUJVRkZFUiwgb3IgVUlOVDhBUlJBWVwiKX19ZnVuY3Rpb24gcihuLGUscixpKXtzd2l0Y2gobil7Y2FzZVwiSEVYXCI6cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0LG4sZSxyKXtsZXQgaSxzLG89XCJcIjtjb25zdCBoPW4vOCx1PS0xPT09ZT8zOjA7Zm9yKGk9MDtpPGg7aSs9MSlzPXRbaT4+PjJdPj4+OCoodStlKihpJTQpKSxvKz1cIjAxMjM0NTY3ODlhYmNkZWZcIi5jaGFyQXQocz4+PjQmMTUpK1wiMDEyMzQ1Njc4OWFiY2RlZlwiLmNoYXJBdCgxNSZzKTtyZXR1cm4gci5vdXRwdXRVcHBlcj9vLnRvVXBwZXJDYXNlKCk6b30odCxlLHIsaSl9O2Nhc2VcIkI2NFwiOnJldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24obixlLHIsaSl7bGV0IHMsbyxoLHUsdyxjPVwiXCI7Y29uc3QgZj1lLzgsYT0tMT09PXI/MzowO2ZvcihzPTA7czxmO3MrPTMpZm9yKHU9cysxPGY/bltzKzE+Pj4yXTowLHc9cysyPGY/bltzKzI+Pj4yXTowLGg9KG5bcz4+PjJdPj4+OCooYStyKihzJTQpKSYyNTUpPDwxNnwodT4+PjgqKGErciooKHMrMSklNCkpJjI1NSk8PDh8dz4+PjgqKGErciooKHMrMiklNCkpJjI1NSxvPTA7bzw0O28rPTEpYys9OCpzKzYqbzw9ZT90LmNoYXJBdChoPj4+NiooMy1vKSY2Myk6aS5iNjRQYWQ7cmV0dXJuIGN9KG4sZSxyLGkpfTtjYXNlXCJCWVRFU1wiOnJldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCxuLGUpe2xldCByLGkscz1cIlwiO2NvbnN0IG89bi84LGg9LTE9PT1lPzM6MDtmb3Iocj0wO3I8bztyKz0xKWk9dFtyPj4+Ml0+Pj44KihoK2UqKHIlNCkpJjI1NSxzKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGkpO3JldHVybiBzfSh0LGUscil9O2Nhc2VcIkFSUkFZQlVGRkVSXCI6dHJ5e25ldyBBcnJheUJ1ZmZlcigwKX1jYXRjaCh0KXt0aHJvdyBuZXcgRXJyb3IoXCJBUlJBWUJVRkZFUiBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgZW52aXJvbm1lbnRcIil9cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0LG4sZSl7bGV0IHI7Y29uc3QgaT1uLzgscz1uZXcgQXJyYXlCdWZmZXIoaSksbz1uZXcgVWludDhBcnJheShzKSxoPS0xPT09ZT8zOjA7Zm9yKHI9MDtyPGk7cis9MSlvW3JdPXRbcj4+PjJdPj4+OCooaCtlKihyJTQpKSYyNTU7cmV0dXJuIHN9KHQsZSxyKX07Y2FzZVwiVUlOVDhBUlJBWVwiOnRyeXtuZXcgVWludDhBcnJheSgwKX1jYXRjaCh0KXt0aHJvdyBuZXcgRXJyb3IoXCJVSU5UOEFSUkFZIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBlbnZpcm9ubWVudFwiKX1yZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQsbixlKXtsZXQgcjtjb25zdCBpPW4vOCxzPS0xPT09ZT8zOjAsbz1uZXcgVWludDhBcnJheShpKTtmb3Iocj0wO3I8aTtyKz0xKW9bcl09dFtyPj4+Ml0+Pj44KihzK2UqKHIlNCkpJjI1NTtyZXR1cm4gb30odCxlLHIpfTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcImZvcm1hdCBtdXN0IGJlIEhFWCwgQjY0LCBCWVRFUywgQVJSQVlCVUZGRVIsIG9yIFVJTlQ4QVJSQVlcIil9fWNvbnN0IGk9WzExMTYzNTI0MDgsMTg5OTQ0NzQ0MSwzMDQ5MzIzNDcxLDM5MjEwMDk1NzMsOTYxOTg3MTYzLDE1MDg5NzA5OTMsMjQ1MzYzNTc0OCwyODcwNzYzMjIxLDM2MjQzODEwODAsMzEwNTk4NDAxLDYwNzIyNTI3OCwxNDI2ODgxOTg3LDE5MjUwNzgzODgsMjE2MjA3ODIwNiwyNjE0ODg4MTAzLDMyNDgyMjI1ODAsMzgzNTM5MDQwMSw0MDIyMjI0Nzc0LDI2NDM0NzA3OCw2MDQ4MDc2MjgsNzcwMjU1OTgzLDEyNDkxNTAxMjIsMTU1NTA4MTY5MiwxOTk2MDY0OTg2LDI1NTQyMjA4ODIsMjgyMTgzNDM0OSwyOTUyOTk2ODA4LDMyMTAzMTM2NzEsMzMzNjU3MTg5MSwzNTg0NTI4NzExLDExMzkyNjk5MywzMzgyNDE4OTUsNjY2MzA3MjA1LDc3MzUyOTkxMiwxMjk0NzU3MzcyLDEzOTYxODIyOTEsMTY5NTE4MzcwMCwxOTg2NjYxMDUxLDIxNzcwMjYzNTAsMjQ1Njk1NjAzNywyNzMwNDg1OTIxLDI4MjAzMDI0MTEsMzI1OTczMDgwMCwzMzQ1NzY0NzcxLDM1MTYwNjU4MTcsMzYwMDM1MjgwNCw0MDk0NTcxOTA5LDI3NTQyMzM0NCw0MzAyMjc3MzQsNTA2OTQ4NjE2LDY1OTA2MDU1Niw4ODM5OTc4NzcsOTU4MTM5NTcxLDEzMjI4MjIyMTgsMTUzNzAwMjA2MywxNzQ3ODczNzc5LDE5NTU1NjIyMjIsMjAyNDEwNDgxNSwyMjI3NzMwNDUyLDIzNjE4NTI0MjQsMjQyODQzNjQ3NCwyNzU2NzM0MTg3LDMyMDQwMzE0NzksMzMyOTMyNTI5OF0scz1bMzIzODM3MTAzMiw5MTQxNTA2NjMsODEyNzAyOTk5LDQxNDQ5MTI2OTcsNDI5MDc3NTg1NywxNzUwNjAzMDI1LDE2OTQwNzY4MzksMzIwNDA3NTQyOF0sbz1bMTc3OTAzMzcwMywzMTQ0MTM0Mjc3LDEwMTM5MDQyNDIsMjc3MzQ4MDc2MiwxMzU5ODkzMTE5LDI2MDA4MjI5MjQsNTI4NzM0NjM1LDE1NDE0NTkyMjVdLGg9XCJDaG9zZW4gU0hBIHZhcmlhbnQgaXMgbm90IHN1cHBvcnRlZFwiO2Z1bmN0aW9uIHUodCxuKXtsZXQgZSxyO2NvbnN0IGk9dC5iaW5MZW4+Pj4zLHM9bi5iaW5MZW4+Pj4zLG89aTw8MyxoPTQtaTw8MztpZihpJTQhPTApe2ZvcihlPTA7ZTxzO2UrPTQpcj1pK2U+Pj4yLHQudmFsdWVbcl18PW4udmFsdWVbZT4+PjJdPDxvLHQudmFsdWUucHVzaCgwKSx0LnZhbHVlW3IrMV18PW4udmFsdWVbZT4+PjJdPj4+aDtyZXR1cm4odC52YWx1ZS5sZW5ndGg8PDIpLTQ+PXMraSYmdC52YWx1ZS5wb3AoKSx7dmFsdWU6dC52YWx1ZSxiaW5MZW46dC5iaW5MZW4rbi5iaW5MZW59fXJldHVybnt2YWx1ZTp0LnZhbHVlLmNvbmNhdChuLnZhbHVlKSxiaW5MZW46dC5iaW5MZW4rbi5iaW5MZW59fWZ1bmN0aW9uIHcodCl7Y29uc3Qgbj17b3V0cHV0VXBwZXI6ITEsYjY0UGFkOlwiPVwiLG91dHB1dExlbjotMX0sZT10fHx7fSxyPVwiT3V0cHV0IGxlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgOFwiO2lmKG4ub3V0cHV0VXBwZXI9ZS5vdXRwdXRVcHBlcnx8ITEsZS5iNjRQYWQmJihuLmI2NFBhZD1lLmI2NFBhZCksZS5vdXRwdXRMZW4pe2lmKGUub3V0cHV0TGVuJTghPTApdGhyb3cgbmV3IEVycm9yKHIpO24ub3V0cHV0TGVuPWUub3V0cHV0TGVufWVsc2UgaWYoZS5zaGFrZUxlbil7aWYoZS5zaGFrZUxlbiU4IT0wKXRocm93IG5ldyBFcnJvcihyKTtuLm91dHB1dExlbj1lLnNoYWtlTGVufWlmKFwiYm9vbGVhblwiIT10eXBlb2Ygbi5vdXRwdXRVcHBlcil0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIG91dHB1dFVwcGVyIGZvcm1hdHRpbmcgb3B0aW9uXCIpO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBuLmI2NFBhZCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGI2NFBhZCBmb3JtYXR0aW5nIG9wdGlvblwiKTtyZXR1cm4gbn1mdW5jdGlvbiBjKHQsbixyLGkpe2NvbnN0IHM9dCtcIiBtdXN0IGluY2x1ZGUgYSB2YWx1ZSBhbmQgZm9ybWF0XCI7aWYoIW4pe2lmKCFpKXRocm93IG5ldyBFcnJvcihzKTtyZXR1cm4gaX1pZih2b2lkIDA9PT1uLnZhbHVlfHwhbi5mb3JtYXQpdGhyb3cgbmV3IEVycm9yKHMpO3JldHVybiBlKG4uZm9ybWF0LG4uZW5jb2Rpbmd8fFwiVVRGOFwiLHIpKG4udmFsdWUpfWNsYXNzIGZ7Y29uc3RydWN0b3IodCxuLGUpe2NvbnN0IHI9ZXx8e307aWYodGhpcy50PW4sdGhpcy5pPXIuZW5jb2Rpbmd8fFwiVVRGOFwiLHRoaXMubnVtUm91bmRzPXIubnVtUm91bmRzfHwxLGlzTmFOKHRoaXMubnVtUm91bmRzKXx8dGhpcy5udW1Sb3VuZHMhPT1wYXJzZUludCh0aGlzLm51bVJvdW5kcywxMCl8fDE+dGhpcy5udW1Sb3VuZHMpdGhyb3cgbmV3IEVycm9yKFwibnVtUm91bmRzIG11c3QgYSBpbnRlZ2VyID49IDFcIik7dGhpcy5zPXQsdGhpcy5vPVtdLHRoaXMuaD0wLHRoaXMudT0hMSx0aGlzLmw9MCx0aGlzLkE9ITEsdGhpcy5IPVtdLHRoaXMuUz1bXX11cGRhdGUodCl7bGV0IG4sZT0wO2NvbnN0IHI9dGhpcy5wPj4+NSxpPXRoaXMubSh0LHRoaXMubyx0aGlzLmgpLHM9aS5iaW5MZW4sbz1pLnZhbHVlLGg9cz4+PjU7Zm9yKG49MDtuPGg7bis9cillK3RoaXMucDw9cyYmKHRoaXMuQz10aGlzLlIoby5zbGljZShuLG4rciksdGhpcy5DKSxlKz10aGlzLnApO3RoaXMubCs9ZSx0aGlzLm89by5zbGljZShlPj4+NSksdGhpcy5oPXMldGhpcy5wLHRoaXMudT0hMH1nZXRIYXNoKHQsbil7bGV0IGUsaSxzPXRoaXMuVTtjb25zdCBvPXcobik7aWYodGhpcy52KXtpZigtMT09PW8ub3V0cHV0TGVuKXRocm93IG5ldyBFcnJvcihcIk91dHB1dCBsZW5ndGggbXVzdCBiZSBzcGVjaWZpZWQgaW4gb3B0aW9uc1wiKTtzPW8ub3V0cHV0TGVufWNvbnN0IGg9cih0LHMsdGhpcy5LLG8pO2lmKHRoaXMuQSYmdGhpcy5UKXJldHVybiBoKHRoaXMuVChvKSk7Zm9yKGk9dGhpcy5GKHRoaXMuby5zbGljZSgpLHRoaXMuaCx0aGlzLmwsdGhpcy5nKHRoaXMuQykscyksZT0xO2U8dGhpcy5udW1Sb3VuZHM7ZSs9MSl0aGlzLnYmJnMlMzIhPTAmJihpW2kubGVuZ3RoLTFdJj0xNjc3NzIxNT4+PjI0LXMlMzIpLGk9dGhpcy5GKGkscywwLHRoaXMuQih0aGlzLnMpLHMpO3JldHVybiBoKGkpfXNldEhNQUNLZXkodCxuLHIpe2lmKCF0aGlzLkwpdGhyb3cgbmV3IEVycm9yKFwiVmFyaWFudCBkb2VzIG5vdCBzdXBwb3J0IEhNQUNcIik7aWYodGhpcy51KXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBzZXQgTUFDIGtleSBhZnRlciBjYWxsaW5nIHVwZGF0ZVwiKTtjb25zdCBpPWUobiwocnx8e30pLmVuY29kaW5nfHxcIlVURjhcIix0aGlzLkspO3RoaXMuTShpKHQpKX1NKHQpe2NvbnN0IG49dGhpcy5wPj4+MyxlPW4vNC0xO2xldCByO2lmKDEhPT10aGlzLm51bVJvdW5kcyl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3Qgc2V0IG51bVJvdW5kcyB3aXRoIE1BQ1wiKTtpZih0aGlzLkEpdGhyb3cgbmV3IEVycm9yKFwiTUFDIGtleSBhbHJlYWR5IHNldFwiKTtmb3Iobjx0LmJpbkxlbi84JiYodC52YWx1ZT10aGlzLkYodC52YWx1ZSx0LmJpbkxlbiwwLHRoaXMuQih0aGlzLnMpLHRoaXMuVSkpO3QudmFsdWUubGVuZ3RoPD1lOyl0LnZhbHVlLnB1c2goMCk7Zm9yKHI9MDtyPD1lO3IrPTEpdGhpcy5IW3JdPTkwOTUyMjQ4Nl50LnZhbHVlW3JdLHRoaXMuU1tyXT0xNTQ5NTU2ODI4XnQudmFsdWVbcl07dGhpcy5DPXRoaXMuUih0aGlzLkgsdGhpcy5DKSx0aGlzLmw9dGhpcy5wLHRoaXMuQT0hMH1nZXRITUFDKHQsbil7Y29uc3QgZT13KG4pO3JldHVybiByKHQsdGhpcy5VLHRoaXMuSyxlKSh0aGlzLmsoKSl9aygpe2xldCB0O2lmKCF0aGlzLkEpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgZ2V0SE1BQyB3aXRob3V0IGZpcnN0IHNldHRpbmcgTUFDIGtleVwiKTtjb25zdCBuPXRoaXMuRih0aGlzLm8uc2xpY2UoKSx0aGlzLmgsdGhpcy5sLHRoaXMuZyh0aGlzLkMpLHRoaXMuVSk7cmV0dXJuIHQ9dGhpcy5SKHRoaXMuUyx0aGlzLkIodGhpcy5zKSksdD10aGlzLkYobix0aGlzLlUsdGhpcy5wLHQsdGhpcy5VKSx0fX1mdW5jdGlvbiBhKHQsbil7cmV0dXJuIHQ8PG58dD4+PjMyLW59ZnVuY3Rpb24gbCh0LG4pe3JldHVybiB0Pj4+bnx0PDwzMi1ufWZ1bmN0aW9uIEEodCxuKXtyZXR1cm4gdD4+Pm59ZnVuY3Rpb24gRSh0LG4sZSl7cmV0dXJuIHRebl5lfWZ1bmN0aW9uIEgodCxuLGUpe3JldHVybiB0Jm5efnQmZX1mdW5jdGlvbiBTKHQsbixlKXtyZXR1cm4gdCZuXnQmZV5uJmV9ZnVuY3Rpb24gYih0KXtyZXR1cm4gbCh0LDIpXmwodCwxMylebCh0LDIyKX1mdW5jdGlvbiBwKHQsbil7Y29uc3QgZT0oNjU1MzUmdCkrKDY1NTM1Jm4pO3JldHVybig2NTUzNSYodD4+PjE2KSsobj4+PjE2KSsoZT4+PjE2KSk8PDE2fDY1NTM1JmV9ZnVuY3Rpb24gZCh0LG4sZSxyKXtjb25zdCBpPSg2NTUzNSZ0KSsoNjU1MzUmbikrKDY1NTM1JmUpKyg2NTUzNSZyKTtyZXR1cm4oNjU1MzUmKHQ+Pj4xNikrKG4+Pj4xNikrKGU+Pj4xNikrKHI+Pj4xNikrKGk+Pj4xNikpPDwxNnw2NTUzNSZpfWZ1bmN0aW9uIG0odCxuLGUscixpKXtjb25zdCBzPSg2NTUzNSZ0KSsoNjU1MzUmbikrKDY1NTM1JmUpKyg2NTUzNSZyKSsoNjU1MzUmaSk7cmV0dXJuKDY1NTM1Jih0Pj4+MTYpKyhuPj4+MTYpKyhlPj4+MTYpKyhyPj4+MTYpKyhpPj4+MTYpKyhzPj4+MTYpKTw8MTZ8NjU1MzUmc31mdW5jdGlvbiBDKHQpe3JldHVybiBsKHQsNylebCh0LDE4KV5BKHQsMyl9ZnVuY3Rpb24geSh0KXtyZXR1cm4gbCh0LDYpXmwodCwxMSlebCh0LDI1KX1mdW5jdGlvbiBSKHQpe3JldHVyblsxNzMyNTg0MTkzLDQwMjMyMzM0MTcsMjU2MjM4MzEwMiwyNzE3MzM4NzgsMzI4NTM3NzUyMF19ZnVuY3Rpb24gVSh0LG4pe2xldCBlLHIsaSxzLG8saCx1O2NvbnN0IHc9W107Zm9yKGU9blswXSxyPW5bMV0saT1uWzJdLHM9blszXSxvPW5bNF0sdT0wO3U8ODA7dSs9MSl3W3VdPXU8MTY/dFt1XTphKHdbdS0zXV53W3UtOF1ed1t1LTE0XV53W3UtMTZdLDEpLGg9dTwyMD9tKGEoZSw1KSxIKHIsaSxzKSxvLDE1MTg1MDAyNDksd1t1XSk6dTw0MD9tKGEoZSw1KSxFKHIsaSxzKSxvLDE4NTk3NzUzOTMsd1t1XSk6dTw2MD9tKGEoZSw1KSxTKHIsaSxzKSxvLDI0MDA5NTk3MDgsd1t1XSk6bShhKGUsNSksRShyLGkscyksbywzMzk1NDY5NzgyLHdbdV0pLG89cyxzPWksaT1hKHIsMzApLHI9ZSxlPWg7cmV0dXJuIG5bMF09cChlLG5bMF0pLG5bMV09cChyLG5bMV0pLG5bMl09cChpLG5bMl0pLG5bM109cChzLG5bM10pLG5bNF09cChvLG5bNF0pLG59ZnVuY3Rpb24gdih0LG4sZSxyKXtsZXQgaTtjb25zdCBzPTE1KyhuKzY1Pj4+OTw8NCksbz1uK2U7Zm9yKDt0Lmxlbmd0aDw9czspdC5wdXNoKDApO2Zvcih0W24+Pj41XXw9MTI4PDwyNC1uJTMyLHRbc109NDI5NDk2NzI5NSZvLHRbcy0xXT1vLzQyOTQ5NjcyOTZ8MCxpPTA7aTx0Lmxlbmd0aDtpKz0xNilyPVUodC5zbGljZShpLGkrMTYpLHIpO3JldHVybiByfWNsYXNzIEsgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKHQsbixyKXtpZihcIlNIQS0xXCIhPT10KXRocm93IG5ldyBFcnJvcihoKTtzdXBlcih0LG4scik7Y29uc3QgaT1yfHx7fTt0aGlzLkw9ITAsdGhpcy5UPXRoaXMuayx0aGlzLks9LTEsdGhpcy5tPWUodGhpcy50LHRoaXMuaSx0aGlzLkspLHRoaXMuUj1VLHRoaXMuZz1mdW5jdGlvbih0KXtyZXR1cm4gdC5zbGljZSgpfSx0aGlzLkI9Uix0aGlzLkY9dix0aGlzLkM9WzE3MzI1ODQxOTMsNDAyMzIzMzQxNywyNTYyMzgzMTAyLDI3MTczMzg3OCwzMjg1Mzc3NTIwXSx0aGlzLnA9NTEyLHRoaXMuVT0xNjAsdGhpcy52PSExLGkuaG1hY0tleSYmdGhpcy5NKGMoXCJobWFjS2V5XCIsaS5obWFjS2V5LHRoaXMuSykpfX1mdW5jdGlvbiBUKHQpe2xldCBuO3JldHVybiBuPVwiU0hBLTIyNFwiPT10P3Muc2xpY2UoKTpvLnNsaWNlKCksbn1mdW5jdGlvbiBGKHQsbil7bGV0IGUscixzLG8saCx1LHcsYyxmLGEsRTtjb25zdCBSPVtdO2ZvcihlPW5bMF0scj1uWzFdLHM9blsyXSxvPW5bM10saD1uWzRdLHU9bls1XSx3PW5bNl0sYz1uWzddLEU9MDtFPDY0O0UrPTEpUltFXT1FPDE2P3RbRV06ZChsKFU9UltFLTJdLDE3KV5sKFUsMTkpXkEoVSwxMCksUltFLTddLEMoUltFLTE1XSksUltFLTE2XSksZj1tKGMseShoKSxIKGgsdSx3KSxpW0VdLFJbRV0pLGE9cChiKGUpLFMoZSxyLHMpKSxjPXcsdz11LHU9aCxoPXAobyxmKSxvPXMscz1yLHI9ZSxlPXAoZixhKTt2YXIgVTtyZXR1cm4gblswXT1wKGUsblswXSksblsxXT1wKHIsblsxXSksblsyXT1wKHMsblsyXSksblszXT1wKG8sblszXSksbls0XT1wKGgsbls0XSksbls1XT1wKHUsbls1XSksbls2XT1wKHcsbls2XSksbls3XT1wKGMsbls3XSksbn1jbGFzcyBnIGV4dGVuZHMgZntjb25zdHJ1Y3Rvcih0LG4scil7aWYoXCJTSEEtMjI0XCIhPT10JiZcIlNIQS0yNTZcIiE9PXQpdGhyb3cgbmV3IEVycm9yKGgpO3N1cGVyKHQsbixyKTtjb25zdCBpPXJ8fHt9O3RoaXMuVD10aGlzLmssdGhpcy5MPSEwLHRoaXMuSz0tMSx0aGlzLm09ZSh0aGlzLnQsdGhpcy5pLHRoaXMuSyksdGhpcy5SPUYsdGhpcy5nPWZ1bmN0aW9uKHQpe3JldHVybiB0LnNsaWNlKCl9LHRoaXMuQj1ULHRoaXMuRj1mdW5jdGlvbihuLGUscixpKXtyZXR1cm4gZnVuY3Rpb24odCxuLGUscixpKXtsZXQgcyxvO2NvbnN0IGg9MTUrKG4rNjU+Pj45PDw0KSx1PW4rZTtmb3IoO3QubGVuZ3RoPD1oOyl0LnB1c2goMCk7Zm9yKHRbbj4+PjVdfD0xMjg8PDI0LW4lMzIsdFtoXT00Mjk0OTY3Mjk1JnUsdFtoLTFdPXUvNDI5NDk2NzI5NnwwLHM9MDtzPHQubGVuZ3RoO3MrPTE2KXI9Rih0LnNsaWNlKHMscysxNikscik7cmV0dXJuIG89XCJTSEEtMjI0XCI9PT1pP1tyWzBdLHJbMV0sclsyXSxyWzNdLHJbNF0scls1XSxyWzZdXTpyLG99KG4sZSxyLGksdCl9LHRoaXMuQz1UKHQpLHRoaXMucD01MTIsdGhpcy5VPVwiU0hBLTIyNFwiPT09dD8yMjQ6MjU2LHRoaXMudj0hMSxpLmhtYWNLZXkmJnRoaXMuTShjKFwiaG1hY0tleVwiLGkuaG1hY0tleSx0aGlzLkspKX19Y2xhc3MgQntjb25zdHJ1Y3Rvcih0LG4pe3RoaXMuWT10LHRoaXMuTj1ufX1mdW5jdGlvbiBMKHQsbil7bGV0IGU7cmV0dXJuIG4+MzI/KGU9NjQtbixuZXcgQih0Lk48PG58dC5ZPj4+ZSx0Llk8PG58dC5OPj4+ZSkpOjAhPT1uPyhlPTMyLW4sbmV3IEIodC5ZPDxufHQuTj4+PmUsdC5OPDxufHQuWT4+PmUpKTp0fWZ1bmN0aW9uIE0odCxuKXtsZXQgZTtyZXR1cm4gbjwzMj8oZT0zMi1uLG5ldyBCKHQuWT4+Pm58dC5OPDxlLHQuTj4+Pm58dC5ZPDxlKSk6KGU9NjQtbixuZXcgQih0Lk4+Pj5ufHQuWTw8ZSx0Llk+Pj5ufHQuTjw8ZSkpfWZ1bmN0aW9uIGsodCxuKXtyZXR1cm4gbmV3IEIodC5ZPj4+bix0Lk4+Pj5ufHQuWTw8MzItbil9ZnVuY3Rpb24gWSh0LG4sZSl7cmV0dXJuIG5ldyBCKHQuWSZuLlledC5ZJmUuWV5uLlkmZS5ZLHQuTiZuLk5edC5OJmUuTl5uLk4mZS5OKX1mdW5jdGlvbiBOKHQpe2NvbnN0IG49TSh0LDI4KSxlPU0odCwzNCkscj1NKHQsMzkpO3JldHVybiBuZXcgQihuLlleZS5ZXnIuWSxuLk5eZS5OXnIuTil9ZnVuY3Rpb24gSSh0LG4pe2xldCBlLHI7ZT0oNjU1MzUmdC5OKSsoNjU1MzUmbi5OKSxyPSh0Lk4+Pj4xNikrKG4uTj4+PjE2KSsoZT4+PjE2KTtjb25zdCBpPSg2NTUzNSZyKTw8MTZ8NjU1MzUmZTtlPSg2NTUzNSZ0LlkpKyg2NTUzNSZuLlkpKyhyPj4+MTYpLHI9KHQuWT4+PjE2KSsobi5ZPj4+MTYpKyhlPj4+MTYpO3JldHVybiBuZXcgQigoNjU1MzUmcik8PDE2fDY1NTM1JmUsaSl9ZnVuY3Rpb24gWCh0LG4sZSxyKXtsZXQgaSxzO2k9KDY1NTM1JnQuTikrKDY1NTM1Jm4uTikrKDY1NTM1JmUuTikrKDY1NTM1JnIuTikscz0odC5OPj4+MTYpKyhuLk4+Pj4xNikrKGUuTj4+PjE2KSsoci5OPj4+MTYpKyhpPj4+MTYpO2NvbnN0IG89KDY1NTM1JnMpPDwxNnw2NTUzNSZpO2k9KDY1NTM1JnQuWSkrKDY1NTM1Jm4uWSkrKDY1NTM1JmUuWSkrKDY1NTM1JnIuWSkrKHM+Pj4xNikscz0odC5ZPj4+MTYpKyhuLlk+Pj4xNikrKGUuWT4+PjE2KSsoci5ZPj4+MTYpKyhpPj4+MTYpO3JldHVybiBuZXcgQigoNjU1MzUmcyk8PDE2fDY1NTM1Jmksbyl9ZnVuY3Rpb24geih0LG4sZSxyLGkpe2xldCBzLG87cz0oNjU1MzUmdC5OKSsoNjU1MzUmbi5OKSsoNjU1MzUmZS5OKSsoNjU1MzUmci5OKSsoNjU1MzUmaS5OKSxvPSh0Lk4+Pj4xNikrKG4uTj4+PjE2KSsoZS5OPj4+MTYpKyhyLk4+Pj4xNikrKGkuTj4+PjE2KSsocz4+PjE2KTtjb25zdCBoPSg2NTUzNSZvKTw8MTZ8NjU1MzUmcztzPSg2NTUzNSZ0LlkpKyg2NTUzNSZuLlkpKyg2NTUzNSZlLlkpKyg2NTUzNSZyLlkpKyg2NTUzNSZpLlkpKyhvPj4+MTYpLG89KHQuWT4+PjE2KSsobi5ZPj4+MTYpKyhlLlk+Pj4xNikrKHIuWT4+PjE2KSsoaS5ZPj4+MTYpKyhzPj4+MTYpO3JldHVybiBuZXcgQigoNjU1MzUmbyk8PDE2fDY1NTM1JnMsaCl9ZnVuY3Rpb24geCh0LG4pe3JldHVybiBuZXcgQih0Lllebi5ZLHQuTl5uLk4pfWZ1bmN0aW9uIF8odCl7Y29uc3Qgbj1NKHQsMTkpLGU9TSh0LDYxKSxyPWsodCw2KTtyZXR1cm4gbmV3IEIobi5ZXmUuWV5yLlksbi5OXmUuTl5yLk4pfWZ1bmN0aW9uIE8odCl7Y29uc3Qgbj1NKHQsMSksZT1NKHQsOCkscj1rKHQsNyk7cmV0dXJuIG5ldyBCKG4uWV5lLlleci5ZLG4uTl5lLk5eci5OKX1mdW5jdGlvbiBQKHQpe2NvbnN0IG49TSh0LDE0KSxlPU0odCwxOCkscj1NKHQsNDEpO3JldHVybiBuZXcgQihuLlleZS5ZXnIuWSxuLk5eZS5OXnIuTil9Y29uc3QgVj1bbmV3IEIoaVswXSwzNjA5NzY3NDU4KSxuZXcgQihpWzFdLDYwMjg5MTcyNSksbmV3IEIoaVsyXSwzOTY0NDg0Mzk5KSxuZXcgQihpWzNdLDIxNzMyOTU1NDgpLG5ldyBCKGlbNF0sNDA4MTYyODQ3MiksbmV3IEIoaVs1XSwzMDUzODM0MjY1KSxuZXcgQihpWzZdLDI5Mzc2NzE1NzkpLG5ldyBCKGlbN10sMzY2NDYwOTU2MCksbmV3IEIoaVs4XSwyNzM0ODgzMzk0KSxuZXcgQihpWzldLDExNjQ5OTY1NDIpLG5ldyBCKGlbMTBdLDEzMjM2MTA3NjQpLG5ldyBCKGlbMTFdLDM1OTAzMDQ5OTQpLG5ldyBCKGlbMTJdLDQwNjgxODIzODMpLG5ldyBCKGlbMTNdLDk5MTMzNjExMyksbmV3IEIoaVsxNF0sNjMzODAzMzE3KSxuZXcgQihpWzE1XSwzNDc5Nzc0ODY4KSxuZXcgQihpWzE2XSwyNjY2NjEzNDU4KSxuZXcgQihpWzE3XSw5NDQ3MTExMzkpLG5ldyBCKGlbMThdLDIzNDEyNjI3NzMpLG5ldyBCKGlbMTldLDIwMDc4MDA5MzMpLG5ldyBCKGlbMjBdLDE0OTU5OTA5MDEpLG5ldyBCKGlbMjFdLDE4NTY0MzEyMzUpLG5ldyBCKGlbMjJdLDMxNzUyMTgxMzIpLG5ldyBCKGlbMjNdLDIxOTg5NTA4MzcpLG5ldyBCKGlbMjRdLDM5OTk3MTkzMzkpLG5ldyBCKGlbMjVdLDc2Njc4NDAxNiksbmV3IEIoaVsyNl0sMjU2NjU5NDg3OSksbmV3IEIoaVsyN10sMzIwMzMzNzk1NiksbmV3IEIoaVsyOF0sMTAzNDQ1NzAyNiksbmV3IEIoaVsyOV0sMjQ2Njk0ODkwMSksbmV3IEIoaVszMF0sMzc1ODMyNjM4MyksbmV3IEIoaVszMV0sMTY4NzE3OTM2KSxuZXcgQihpWzMyXSwxMTg4MTc5OTY0KSxuZXcgQihpWzMzXSwxNTQ2MDQ1NzM0KSxuZXcgQihpWzM0XSwxNTIyODA1NDg1KSxuZXcgQihpWzM1XSwyNjQzODMzODIzKSxuZXcgQihpWzM2XSwyMzQzNTI3MzkwKSxuZXcgQihpWzM3XSwxMDE0NDc3NDgwKSxuZXcgQihpWzM4XSwxMjA2NzU5MTQyKSxuZXcgQihpWzM5XSwzNDQwNzc2MjcpLG5ldyBCKGlbNDBdLDEyOTA4NjM0NjApLG5ldyBCKGlbNDFdLDMxNTg0NTQyNzMpLG5ldyBCKGlbNDJdLDM1MDU5NTI2NTcpLG5ldyBCKGlbNDNdLDEwNjIxNzAwOCksbmV3IEIoaVs0NF0sMzYwNjAwODM0NCksbmV3IEIoaVs0NV0sMTQzMjcyNTc3NiksbmV3IEIoaVs0Nl0sMTQ2NzAzMTU5NCksbmV3IEIoaVs0N10sODUxMTY5NzIwKSxuZXcgQihpWzQ4XSwzMTAwODIzNzUyKSxuZXcgQihpWzQ5XSwxMzYzMjU4MTk1KSxuZXcgQihpWzUwXSwzNzUwNjg1NTkzKSxuZXcgQihpWzUxXSwzNzg1MDUwMjgwKSxuZXcgQihpWzUyXSwzMzE4MzA3NDI3KSxuZXcgQihpWzUzXSwzODEyNzIzNDAzKSxuZXcgQihpWzU0XSwyMDAzMDM0OTk1KSxuZXcgQihpWzU1XSwzNjAyMDM2ODk5KSxuZXcgQihpWzU2XSwxNTc1OTkwMDEyKSxuZXcgQihpWzU3XSwxMTI1NTkyOTI4KSxuZXcgQihpWzU4XSwyNzE2OTA0MzA2KSxuZXcgQihpWzU5XSw0NDI3NzYwNDQpLG5ldyBCKGlbNjBdLDU5MzY5ODM0NCksbmV3IEIoaVs2MV0sMzczMzExMDI0OSksbmV3IEIoaVs2Ml0sMjk5OTM1MTU3MyksbmV3IEIoaVs2M10sMzgxNTkyMDQyNyksbmV3IEIoMzM5MTU2OTYxNCwzOTI4MzgzOTAwKSxuZXcgQigzNTE1MjY3MjcxLDU2NjI4MDcxMSksbmV3IEIoMzk0MDE4NzYwNiwzNDU0MDY5NTM0KSxuZXcgQig0MTE4NjMwMjcxLDQwMDAyMzk5OTIpLG5ldyBCKDExNjQxODQ3NCwxOTE0MTM4NTU0KSxuZXcgQigxNzQyOTI0MjEsMjczMTA1NTI3MCksbmV3IEIoMjg5MzgwMzU2LDMyMDM5OTMwMDYpLG5ldyBCKDQ2MDM5MzI2OSwzMjA2MjAzMTUpLG5ldyBCKDY4NTQ3MTczMyw1ODc0OTY4MzYpLG5ldyBCKDg1MjE0Mjk3MSwxMDg2NzkyODUxKSxuZXcgQigxMDE3MDM2Mjk4LDM2NTU0MzEwMCksbmV3IEIoMTEyNjAwMDU4MCwyNjE4Mjk3Njc2KSxuZXcgQigxMjg4MDMzNDcwLDM0MDk4NTUxNTgpLG5ldyBCKDE1MDE1MDU5NDgsNDIzNDUwOTg2NiksbmV3IEIoMTYwNzE2NzkxNSw5ODcxNjc0NjgpLG5ldyBCKDE4MTY0MDIzMTYsMTI0NjE4OTU5MSldO2Z1bmN0aW9uIFoodCl7cmV0dXJuXCJTSEEtMzg0XCI9PT10P1tuZXcgQigzNDE4MDcwMzY1LHNbMF0pLG5ldyBCKDE2NTQyNzAyNTAsc1sxXSksbmV3IEIoMjQzODUyOTM3MCxzWzJdKSxuZXcgQigzNTU0NjIzNjAsc1szXSksbmV3IEIoMTczMTQwNTQxNSxzWzRdKSxuZXcgQig0MTA0ODg4NTg5NSxzWzVdKSxuZXcgQigzNjc1MDA4NTI1LHNbNl0pLG5ldyBCKDEyMDMwNjI4MTMsc1s3XSldOltuZXcgQihvWzBdLDQwODkyMzU3MjApLG5ldyBCKG9bMV0sMjIyNzg3MzU5NSksbmV3IEIob1syXSw0MjcxMTc1NzIzKSxuZXcgQihvWzNdLDE1OTU3NTAxMjkpLG5ldyBCKG9bNF0sMjkxNzU2NTEzNyksbmV3IEIob1s1XSw3MjU1MTExOTkpLG5ldyBCKG9bNl0sNDIxNTM4OTU0NyksbmV3IEIob1s3XSwzMjcwMzMyMDkpXX1mdW5jdGlvbiBqKHQsbil7bGV0IGUscixpLHMsbyxoLHUsdyxjLGYsYSxsO2NvbnN0IEE9W107Zm9yKGU9blswXSxyPW5bMV0saT1uWzJdLHM9blszXSxvPW5bNF0saD1uWzVdLHU9bls2XSx3PW5bN10sYT0wO2E8ODA7YSs9MSlhPDE2PyhsPTIqYSxBW2FdPW5ldyBCKHRbbF0sdFtsKzFdKSk6QVthXT1YKF8oQVthLTJdKSxBW2EtN10sTyhBW2EtMTVdKSxBW2EtMTZdKSxjPXoodyxQKG8pLChIPWgsUz11LG5ldyBCKChFPW8pLlkmSC5ZXn5FLlkmUy5ZLEUuTiZILk5efkUuTiZTLk4pKSxWW2FdLEFbYV0pLGY9SShOKGUpLFkoZSxyLGkpKSx3PXUsdT1oLGg9byxvPUkocyxjKSxzPWksaT1yLHI9ZSxlPUkoYyxmKTt2YXIgRSxILFM7cmV0dXJuIG5bMF09SShlLG5bMF0pLG5bMV09SShyLG5bMV0pLG5bMl09SShpLG5bMl0pLG5bM109SShzLG5bM10pLG5bNF09SShvLG5bNF0pLG5bNV09SShoLG5bNV0pLG5bNl09SSh1LG5bNl0pLG5bN109SSh3LG5bN10pLG59Y2xhc3MgcSBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCxuLHIpe2lmKFwiU0hBLTM4NFwiIT09dCYmXCJTSEEtNTEyXCIhPT10KXRocm93IG5ldyBFcnJvcihoKTtzdXBlcih0LG4scik7Y29uc3QgaT1yfHx7fTt0aGlzLlQ9dGhpcy5rLHRoaXMuTD0hMCx0aGlzLks9LTEsdGhpcy5tPWUodGhpcy50LHRoaXMuaSx0aGlzLkspLHRoaXMuUj1qLHRoaXMuZz1mdW5jdGlvbih0KXtyZXR1cm4gdC5zbGljZSgpfSx0aGlzLkI9Wix0aGlzLkY9ZnVuY3Rpb24obixlLHIsaSl7cmV0dXJuIGZ1bmN0aW9uKHQsbixlLHIsaSl7bGV0IHMsbztjb25zdCBoPTMxKyhuKzEyOT4+PjEwPDw1KSx1PW4rZTtmb3IoO3QubGVuZ3RoPD1oOyl0LnB1c2goMCk7Zm9yKHRbbj4+PjVdfD0xMjg8PDI0LW4lMzIsdFtoXT00Mjk0OTY3Mjk1JnUsdFtoLTFdPXUvNDI5NDk2NzI5NnwwLHM9MDtzPHQubGVuZ3RoO3MrPTMyKXI9aih0LnNsaWNlKHMscyszMikscik7cmV0dXJuIG89XCJTSEEtMzg0XCI9PT1pP1socj1yKVswXS5ZLHJbMF0uTixyWzFdLlksclsxXS5OLHJbMl0uWSxyWzJdLk4sclszXS5ZLHJbM10uTixyWzRdLlkscls0XS5OLHJbNV0uWSxyWzVdLk5dOltyWzBdLlksclswXS5OLHJbMV0uWSxyWzFdLk4sclsyXS5ZLHJbMl0uTixyWzNdLlksclszXS5OLHJbNF0uWSxyWzRdLk4scls1XS5ZLHJbNV0uTixyWzZdLlkscls2XS5OLHJbN10uWSxyWzddLk5dLG99KG4sZSxyLGksdCl9LHRoaXMuQz1aKHQpLHRoaXMucD0xMDI0LHRoaXMuVT1cIlNIQS0zODRcIj09PXQ/Mzg0OjUxMix0aGlzLnY9ITEsaS5obWFjS2V5JiZ0aGlzLk0oYyhcImhtYWNLZXlcIixpLmhtYWNLZXksdGhpcy5LKSl9fWNvbnN0IEQ9W25ldyBCKDAsMSksbmV3IEIoMCwzMjg5OCksbmV3IEIoMjE0NzQ4MzY0OCwzMjkwNiksbmV3IEIoMjE0NzQ4MzY0OCwyMTQ3NTE2NDE2KSxuZXcgQigwLDMyOTA3KSxuZXcgQigwLDIxNDc0ODM2NDkpLG5ldyBCKDIxNDc0ODM2NDgsMjE0NzUxNjU0NSksbmV3IEIoMjE0NzQ4MzY0OCwzMjc3NyksbmV3IEIoMCwxMzgpLG5ldyBCKDAsMTM2KSxuZXcgQigwLDIxNDc1MTY0MjUpLG5ldyBCKDAsMjE0NzQ4MzY1OCksbmV3IEIoMCwyMTQ3NTE2NTU1KSxuZXcgQigyMTQ3NDgzNjQ4LDEzOSksbmV3IEIoMjE0NzQ4MzY0OCwzMjkwNSksbmV3IEIoMjE0NzQ4MzY0OCwzMjc3MSksbmV3IEIoMjE0NzQ4MzY0OCwzMjc3MCksbmV3IEIoMjE0NzQ4MzY0OCwxMjgpLG5ldyBCKDAsMzI3NzgpLG5ldyBCKDIxNDc0ODM2NDgsMjE0NzQ4MzY1OCksbmV3IEIoMjE0NzQ4MzY0OCwyMTQ3NTE2NTQ1KSxuZXcgQigyMTQ3NDgzNjQ4LDMyODk2KSxuZXcgQigwLDIxNDc0ODM2NDkpLG5ldyBCKDIxNDc0ODM2NDgsMjE0NzUxNjQyNCldLEc9W1swLDM2LDMsNDEsMThdLFsxLDQ0LDEwLDQ1LDJdLFs2Miw2LDQzLDE1LDYxXSxbMjgsNTUsMjUsMjEsNTZdLFsyNywyMCwzOSw4LDE0XV07ZnVuY3Rpb24gSih0KXtsZXQgbjtjb25zdCBlPVtdO2ZvcihuPTA7bjw1O24rPTEpZVtuXT1bbmV3IEIoMCwwKSxuZXcgQigwLDApLG5ldyBCKDAsMCksbmV3IEIoMCwwKSxuZXcgQigwLDApXTtyZXR1cm4gZX1mdW5jdGlvbiBRKHQpe2xldCBuO2NvbnN0IGU9W107Zm9yKG49MDtuPDU7bis9MSllW25dPXRbbl0uc2xpY2UoKTtyZXR1cm4gZX1mdW5jdGlvbiBXKHQsbil7bGV0IGUscixpLHM7Y29uc3Qgbz1bXSxoPVtdO2lmKG51bGwhPT10KWZvcihyPTA7cjx0Lmxlbmd0aDtyKz0yKW5bKHI+Pj4xKSU1XVsocj4+PjEpLzV8MF09eChuWyhyPj4+MSklNV1bKHI+Pj4xKS81fDBdLG5ldyBCKHRbcisxXSx0W3JdKSk7Zm9yKGU9MDtlPDI0O2UrPTEpe2ZvcihzPUooKSxyPTA7cjw1O3IrPTEpb1tyXT0odT1uW3JdWzBdLHc9bltyXVsxXSxjPW5bcl1bMl0sZj1uW3JdWzNdLGE9bltyXVs0XSxuZXcgQih1Llledy5ZXmMuWV5mLlleYS5ZLHUuTl53Lk5eYy5OXmYuTl5hLk4pKTtmb3Iocj0wO3I8NTtyKz0xKWhbcl09eChvWyhyKzQpJTVdLEwob1socisxKSU1XSwxKSk7Zm9yKHI9MDtyPDU7cis9MSlmb3IoaT0wO2k8NTtpKz0xKW5bcl1baV09eChuW3JdW2ldLGhbcl0pO2ZvcihyPTA7cjw1O3IrPTEpZm9yKGk9MDtpPDU7aSs9MSlzW2ldWygyKnIrMyppKSU1XT1MKG5bcl1baV0sR1tyXVtpXSk7Zm9yKHI9MDtyPDU7cis9MSlmb3IoaT0wO2k8NTtpKz0xKW5bcl1baV09eChzW3JdW2ldLG5ldyBCKH5zWyhyKzEpJTVdW2ldLlkmc1socisyKSU1XVtpXS5ZLH5zWyhyKzEpJTVdW2ldLk4mc1socisyKSU1XVtpXS5OKSk7blswXVswXT14KG5bMF1bMF0sRFtlXSl9dmFyIHUsdyxjLGYsYTtyZXR1cm4gbn1mdW5jdGlvbiAkKHQpe2xldCBuLGUscj0wO2NvbnN0IGk9WzAsMF0scz1bNDI5NDk2NzI5NSZ0LHQvNDI5NDk2NzI5NiYyMDk3MTUxXTtmb3Iobj02O24+PTA7bi0tKWU9c1tuPj4yXT4+PjgqbiYyNTUsMD09PWUmJjA9PT1yfHwoaVtyKzE+PjJdfD1lPDw4KihyKzEpLHIrPTEpO3JldHVybiByPTAhPT1yP3I6MSxpWzBdfD1yLHt2YWx1ZTpyKzE+ND9pOltpWzBdXSxiaW5MZW46OCs4KnJ9fWZ1bmN0aW9uIHR0KHQpe3JldHVybiB1KCQodC5iaW5MZW4pLHQpfWZ1bmN0aW9uIG50KHQsbil7bGV0IGUscj0kKG4pO3I9dShyLHQpO2NvbnN0IGk9bj4+PjIscz0oaS1yLnZhbHVlLmxlbmd0aCVpKSVpO2ZvcihlPTA7ZTxzO2UrKylyLnZhbHVlLnB1c2goMCk7cmV0dXJuIHIudmFsdWV9Y2xhc3MgZXQgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKHQsbixyKXtsZXQgaT02LHM9MDtzdXBlcih0LG4scik7Y29uc3Qgbz1yfHx7fTtpZigxIT09dGhpcy5udW1Sb3VuZHMpe2lmKG8ua21hY0tleXx8by5obWFjS2V5KXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBzZXQgbnVtUm91bmRzIHdpdGggTUFDXCIpO2lmKFwiQ1NIQUtFMTI4XCI9PT10aGlzLnN8fFwiQ1NIQUtFMjU2XCI9PT10aGlzLnMpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHNldCBudW1Sb3VuZHMgZm9yIENTSEFLRSB2YXJpYW50c1wiKX1zd2l0Y2godGhpcy5LPTEsdGhpcy5tPWUodGhpcy50LHRoaXMuaSx0aGlzLkspLHRoaXMuUj1XLHRoaXMuZz1RLHRoaXMuQj1KLHRoaXMuQz1KKCksdGhpcy52PSExLHQpe2Nhc2VcIlNIQTMtMjI0XCI6dGhpcy5wPXM9MTE1Mix0aGlzLlU9MjI0LHRoaXMuTD0hMCx0aGlzLlQ9dGhpcy5rO2JyZWFrO2Nhc2VcIlNIQTMtMjU2XCI6dGhpcy5wPXM9MTA4OCx0aGlzLlU9MjU2LHRoaXMuTD0hMCx0aGlzLlQ9dGhpcy5rO2JyZWFrO2Nhc2VcIlNIQTMtMzg0XCI6dGhpcy5wPXM9ODMyLHRoaXMuVT0zODQsdGhpcy5MPSEwLHRoaXMuVD10aGlzLms7YnJlYWs7Y2FzZVwiU0hBMy01MTJcIjp0aGlzLnA9cz01NzYsdGhpcy5VPTUxMix0aGlzLkw9ITAsdGhpcy5UPXRoaXMuazticmVhaztjYXNlXCJTSEFLRTEyOFwiOmk9MzEsdGhpcy5wPXM9MTM0NCx0aGlzLlU9LTEsdGhpcy52PSEwLHRoaXMuTD0hMSx0aGlzLlQ9bnVsbDticmVhaztjYXNlXCJTSEFLRTI1NlwiOmk9MzEsdGhpcy5wPXM9MTA4OCx0aGlzLlU9LTEsdGhpcy52PSEwLHRoaXMuTD0hMSx0aGlzLlQ9bnVsbDticmVhaztjYXNlXCJLTUFDMTI4XCI6aT00LHRoaXMucD1zPTEzNDQsdGhpcy5JKHIpLHRoaXMuVT0tMSx0aGlzLnY9ITAsdGhpcy5MPSExLHRoaXMuVD10aGlzLlg7YnJlYWs7Y2FzZVwiS01BQzI1NlwiOmk9NCx0aGlzLnA9cz0xMDg4LHRoaXMuSShyKSx0aGlzLlU9LTEsdGhpcy52PSEwLHRoaXMuTD0hMSx0aGlzLlQ9dGhpcy5YO2JyZWFrO2Nhc2VcIkNTSEFLRTEyOFwiOnRoaXMucD1zPTEzNDQsaT10aGlzLl8ociksdGhpcy5VPS0xLHRoaXMudj0hMCx0aGlzLkw9ITEsdGhpcy5UPW51bGw7YnJlYWs7Y2FzZVwiQ1NIQUtFMjU2XCI6dGhpcy5wPXM9MTA4OCxpPXRoaXMuXyhyKSx0aGlzLlU9LTEsdGhpcy52PSEwLHRoaXMuTD0hMSx0aGlzLlQ9bnVsbDticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihoKX10aGlzLkY9ZnVuY3Rpb24odCxuLGUscixvKXtyZXR1cm4gZnVuY3Rpb24odCxuLGUscixpLHMsbyl7bGV0IGgsdSx3PTA7Y29uc3QgYz1bXSxmPWk+Pj41LGE9bj4+PjU7Zm9yKGg9MDtoPGEmJm4+PWk7aCs9ZilyPVcodC5zbGljZShoLGgrZiksciksbi09aTtmb3IodD10LnNsaWNlKGgpLG4lPWk7dC5sZW5ndGg8ZjspdC5wdXNoKDApO2ZvcihoPW4+Pj4zLHRbaD4+Ml1ePXM8PGglNCo4LHRbZi0xXV49MjE0NzQ4MzY0OCxyPVcodCxyKTszMipjLmxlbmd0aDxvJiYodT1yW3clNV1bdy81fDBdLGMucHVzaCh1Lk4pLCEoMzIqYy5sZW5ndGg+PW8pKTspYy5wdXNoKHUuWSksdys9MSwwPT02NCp3JWkmJihXKG51bGwsciksdz0wKTtyZXR1cm4gY30odCxuLDAscixzLGksbyl9LG8uaG1hY0tleSYmdGhpcy5NKGMoXCJobWFjS2V5XCIsby5obWFjS2V5LHRoaXMuSykpfV8odCxuKXtjb25zdCBlPWZ1bmN0aW9uKHQpe2NvbnN0IG49dHx8e307cmV0dXJue2Z1bmNOYW1lOmMoXCJmdW5jTmFtZVwiLG4uZnVuY05hbWUsMSx7dmFsdWU6W10sYmluTGVuOjB9KSxjdXN0b21pemF0aW9uOmMoXCJDdXN0b21pemF0aW9uXCIsbi5jdXN0b21pemF0aW9uLDEse3ZhbHVlOltdLGJpbkxlbjowfSl9fSh0fHx7fSk7biYmKGUuZnVuY05hbWU9bik7Y29uc3Qgcj11KHR0KGUuZnVuY05hbWUpLHR0KGUuY3VzdG9taXphdGlvbikpO2lmKDAhPT1lLmN1c3RvbWl6YXRpb24uYmluTGVufHwwIT09ZS5mdW5jTmFtZS5iaW5MZW4pe2NvbnN0IHQ9bnQocix0aGlzLnA+Pj4zKTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rPXRoaXMucD4+PjUpdGhpcy5DPXRoaXMuUih0LnNsaWNlKG4sbisodGhpcy5wPj4+NSkpLHRoaXMuQyksdGhpcy5sKz10aGlzLnA7cmV0dXJuIDR9cmV0dXJuIDMxfUkodCl7Y29uc3Qgbj1mdW5jdGlvbih0KXtjb25zdCBuPXR8fHt9O3JldHVybntrbWFjS2V5OmMoXCJrbWFjS2V5XCIsbi5rbWFjS2V5LDEpLGZ1bmNOYW1lOnt2YWx1ZTpbMTEyODM1MzA5OV0sYmluTGVuOjMyfSxjdXN0b21pemF0aW9uOmMoXCJDdXN0b21pemF0aW9uXCIsbi5jdXN0b21pemF0aW9uLDEse3ZhbHVlOltdLGJpbkxlbjowfSl9fSh0fHx7fSk7dGhpcy5fKHQsbi5mdW5jTmFtZSk7Y29uc3QgZT1udCh0dChuLmttYWNLZXkpLHRoaXMucD4+PjMpO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCs9dGhpcy5wPj4+NSl0aGlzLkM9dGhpcy5SKGUuc2xpY2UodCx0Kyh0aGlzLnA+Pj41KSksdGhpcy5DKSx0aGlzLmwrPXRoaXMucDt0aGlzLkE9ITB9WCh0KXtjb25zdCBuPXUoe3ZhbHVlOnRoaXMuby5zbGljZSgpLGJpbkxlbjp0aGlzLmh9LGZ1bmN0aW9uKHQpe2xldCBuLGUscj0wO2NvbnN0IGk9WzAsMF0scz1bNDI5NDk2NzI5NSZ0LHQvNDI5NDk2NzI5NiYyMDk3MTUxXTtmb3Iobj02O24+PTA7bi0tKWU9c1tuPj4yXT4+PjgqbiYyNTUsMD09PWUmJjA9PT1yfHwoaVtyPj4yXXw9ZTw8OCpyLHIrPTEpO3JldHVybiByPTAhPT1yP3I6MSxpW3I+PjJdfD1yPDw4KnIse3ZhbHVlOnIrMT40P2k6W2lbMF1dLGJpbkxlbjo4Kzgqcn19KHQub3V0cHV0TGVuKSk7cmV0dXJuIHRoaXMuRihuLnZhbHVlLG4uYmluTGVuLHRoaXMubCx0aGlzLmcodGhpcy5DKSx0Lm91dHB1dExlbil9fWV4cG9ydCBkZWZhdWx0IGNsYXNze2NvbnN0cnVjdG9yKHQsbixlKXtpZihcIlNIQS0xXCI9PXQpdGhpcy5PPW5ldyBLKHQsbixlKTtlbHNlIGlmKFwiU0hBLTIyNFwiPT10fHxcIlNIQS0yNTZcIj09dCl0aGlzLk89bmV3IGcodCxuLGUpO2Vsc2UgaWYoXCJTSEEtMzg0XCI9PXR8fFwiU0hBLTUxMlwiPT10KXRoaXMuTz1uZXcgcSh0LG4sZSk7ZWxzZXtpZihcIlNIQTMtMjI0XCIhPXQmJlwiU0hBMy0yNTZcIiE9dCYmXCJTSEEzLTM4NFwiIT10JiZcIlNIQTMtNTEyXCIhPXQmJlwiU0hBS0UxMjhcIiE9dCYmXCJTSEFLRTI1NlwiIT10JiZcIkNTSEFLRTEyOFwiIT10JiZcIkNTSEFLRTI1NlwiIT10JiZcIktNQUMxMjhcIiE9dCYmXCJLTUFDMjU2XCIhPXQpdGhyb3cgbmV3IEVycm9yKGgpO3RoaXMuTz1uZXcgZXQodCxuLGUpfX11cGRhdGUodCl7dGhpcy5PLnVwZGF0ZSh0KX1nZXRIYXNoKHQsbil7cmV0dXJuIHRoaXMuTy5nZXRIYXNoKHQsbil9c2V0SE1BQ0tleSh0LG4sZSl7dGhpcy5PLnNldEhNQUNLZXkodCxuLGUpfWdldEhNQUModCxuKXtyZXR1cm4gdGhpcy5PLmdldEhNQUModCxuKX19XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaGEubWpzLm1hcFxuIiwiLypcbiogbG9nbGV2ZWwgLSBodHRwczovL2dpdGh1Yi5jb20vcGltdGVycnkvbG9nbGV2ZWxcbipcbiogQ29weXJpZ2h0IChjKSAyMDEzIFRpbSBQZXJyeVxuKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4qL1xuKGZ1bmN0aW9uIChyb290LCBkZWZpbml0aW9uKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICBkZWZpbmUoZGVmaW5pdGlvbik7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGRlZmluaXRpb24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByb290LmxvZyA9IGRlZmluaXRpb24oKTtcbiAgICB9XG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIC8vIFNsaWdodGx5IGR1YmlvdXMgdHJpY2tzIHRvIGN1dCBkb3duIG1pbmltaXplZCBmaWxlIHNpemVcbiAgICB2YXIgbm9vcCA9IGZ1bmN0aW9uKCkge307XG4gICAgdmFyIHVuZGVmaW5lZFR5cGUgPSBcInVuZGVmaW5lZFwiO1xuICAgIHZhciBpc0lFID0gKHR5cGVvZiB3aW5kb3cgIT09IHVuZGVmaW5lZFR5cGUpICYmICh0eXBlb2Ygd2luZG93Lm5hdmlnYXRvciAhPT0gdW5kZWZpbmVkVHlwZSkgJiYgKFxuICAgICAgICAvVHJpZGVudFxcL3xNU0lFIC8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudClcbiAgICApO1xuXG4gICAgdmFyIGxvZ01ldGhvZHMgPSBbXG4gICAgICAgIFwidHJhY2VcIixcbiAgICAgICAgXCJkZWJ1Z1wiLFxuICAgICAgICBcImluZm9cIixcbiAgICAgICAgXCJ3YXJuXCIsXG4gICAgICAgIFwiZXJyb3JcIlxuICAgIF07XG5cbiAgICAvLyBDcm9zcy1icm93c2VyIGJpbmQgZXF1aXZhbGVudCB0aGF0IHdvcmtzIGF0IGxlYXN0IGJhY2sgdG8gSUU2XG4gICAgZnVuY3Rpb24gYmluZE1ldGhvZChvYmosIG1ldGhvZE5hbWUpIHtcbiAgICAgICAgdmFyIG1ldGhvZCA9IG9ialttZXRob2ROYW1lXTtcbiAgICAgICAgaWYgKHR5cGVvZiBtZXRob2QuYmluZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIG1ldGhvZC5iaW5kKG9iaik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKG1ldGhvZCwgb2JqKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAvLyBNaXNzaW5nIGJpbmQgc2hpbSBvciBJRTggKyBNb2Rlcm5penIsIGZhbGxiYWNrIHRvIHdyYXBwaW5nXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmFwcGx5KG1ldGhvZCwgW29iaiwgYXJndW1lbnRzXSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRyYWNlKCkgZG9lc24ndCBwcmludCB0aGUgbWVzc2FnZSBpbiBJRSwgc28gZm9yIHRoYXQgY2FzZSB3ZSBuZWVkIHRvIHdyYXAgaXRcbiAgICBmdW5jdGlvbiB0cmFjZUZvcklFKCkge1xuICAgICAgICBpZiAoY29uc29sZS5sb2cpIHtcbiAgICAgICAgICAgIGlmIChjb25zb2xlLmxvZy5hcHBseSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEluIG9sZCBJRSwgbmF0aXZlIGNvbnNvbGUgbWV0aG9kcyB0aGVtc2VsdmVzIGRvbid0IGhhdmUgYXBwbHkoKS5cbiAgICAgICAgICAgICAgICBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuYXBwbHkoY29uc29sZS5sb2csIFtjb25zb2xlLCBhcmd1bWVudHNdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uc29sZS50cmFjZSkgY29uc29sZS50cmFjZSgpO1xuICAgIH1cblxuICAgIC8vIEJ1aWxkIHRoZSBiZXN0IGxvZ2dpbmcgbWV0aG9kIHBvc3NpYmxlIGZvciB0aGlzIGVudlxuICAgIC8vIFdoZXJldmVyIHBvc3NpYmxlIHdlIHdhbnQgdG8gYmluZCwgbm90IHdyYXAsIHRvIHByZXNlcnZlIHN0YWNrIHRyYWNlc1xuICAgIGZ1bmN0aW9uIHJlYWxNZXRob2QobWV0aG9kTmFtZSkge1xuICAgICAgICBpZiAobWV0aG9kTmFtZSA9PT0gJ2RlYnVnJykge1xuICAgICAgICAgICAgbWV0aG9kTmFtZSA9ICdsb2cnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlID09PSB1bmRlZmluZWRUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIE5vIG1ldGhvZCBwb3NzaWJsZSwgZm9yIG5vdyAtIGZpeGVkIGxhdGVyIGJ5IGVuYWJsZUxvZ2dpbmdXaGVuQ29uc29sZUFycml2ZXNcbiAgICAgICAgfSBlbHNlIGlmIChtZXRob2ROYW1lID09PSAndHJhY2UnICYmIGlzSUUpIHtcbiAgICAgICAgICAgIHJldHVybiB0cmFjZUZvcklFO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbnNvbGVbbWV0aG9kTmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGJpbmRNZXRob2QoY29uc29sZSwgbWV0aG9kTmFtZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY29uc29sZS5sb2cgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGJpbmRNZXRob2QoY29uc29sZSwgJ2xvZycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5vb3A7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUaGVzZSBwcml2YXRlIGZ1bmN0aW9ucyBhbHdheXMgbmVlZCBgdGhpc2AgdG8gYmUgc2V0IHByb3Blcmx5XG5cbiAgICBmdW5jdGlvbiByZXBsYWNlTG9nZ2luZ01ldGhvZHMobGV2ZWwsIGxvZ2dlck5hbWUpIHtcbiAgICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsb2dNZXRob2RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbWV0aG9kTmFtZSA9IGxvZ01ldGhvZHNbaV07XG4gICAgICAgICAgICB0aGlzW21ldGhvZE5hbWVdID0gKGkgPCBsZXZlbCkgP1xuICAgICAgICAgICAgICAgIG5vb3AgOlxuICAgICAgICAgICAgICAgIHRoaXMubWV0aG9kRmFjdG9yeShtZXRob2ROYW1lLCBsZXZlbCwgbG9nZ2VyTmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEZWZpbmUgbG9nLmxvZyBhcyBhbiBhbGlhcyBmb3IgbG9nLmRlYnVnXG4gICAgICAgIHRoaXMubG9nID0gdGhpcy5kZWJ1ZztcbiAgICB9XG5cbiAgICAvLyBJbiBvbGQgSUUgdmVyc2lvbnMsIHRoZSBjb25zb2xlIGlzbid0IHByZXNlbnQgdW50aWwgeW91IGZpcnN0IG9wZW4gaXQuXG4gICAgLy8gV2UgYnVpbGQgcmVhbE1ldGhvZCgpIHJlcGxhY2VtZW50cyBoZXJlIHRoYXQgcmVnZW5lcmF0ZSBsb2dnaW5nIG1ldGhvZHNcbiAgICBmdW5jdGlvbiBlbmFibGVMb2dnaW5nV2hlbkNvbnNvbGVBcnJpdmVzKG1ldGhvZE5hbWUsIGxldmVsLCBsb2dnZXJOYW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09IHVuZGVmaW5lZFR5cGUpIHtcbiAgICAgICAgICAgICAgICByZXBsYWNlTG9nZ2luZ01ldGhvZHMuY2FsbCh0aGlzLCBsZXZlbCwgbG9nZ2VyTmFtZSk7XG4gICAgICAgICAgICAgICAgdGhpc1ttZXRob2ROYW1lXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIEJ5IGRlZmF1bHQsIHdlIHVzZSBjbG9zZWx5IGJvdW5kIHJlYWwgbWV0aG9kcyB3aGVyZXZlciBwb3NzaWJsZSwgYW5kXG4gICAgLy8gb3RoZXJ3aXNlIHdlIHdhaXQgZm9yIGEgY29uc29sZSB0byBhcHBlYXIsIGFuZCB0aGVuIHRyeSBhZ2Fpbi5cbiAgICBmdW5jdGlvbiBkZWZhdWx0TWV0aG9kRmFjdG9yeShtZXRob2ROYW1lLCBsZXZlbCwgbG9nZ2VyTmFtZSkge1xuICAgICAgICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICAgICAgICByZXR1cm4gcmVhbE1ldGhvZChtZXRob2ROYW1lKSB8fFxuICAgICAgICAgICAgICAgZW5hYmxlTG9nZ2luZ1doZW5Db25zb2xlQXJyaXZlcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIExvZ2dlcihuYW1lLCBkZWZhdWx0TGV2ZWwsIGZhY3RvcnkpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBjdXJyZW50TGV2ZWw7XG5cbiAgICAgIHZhciBzdG9yYWdlS2V5ID0gXCJsb2dsZXZlbFwiO1xuICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHN0b3JhZ2VLZXkgKz0gXCI6XCIgKyBuYW1lO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzeW1ib2xcIikge1xuICAgICAgICBzdG9yYWdlS2V5ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBwZXJzaXN0TGV2ZWxJZlBvc3NpYmxlKGxldmVsTnVtKSB7XG4gICAgICAgICAgdmFyIGxldmVsTmFtZSA9IChsb2dNZXRob2RzW2xldmVsTnVtXSB8fCAnc2lsZW50JykudG9VcHBlckNhc2UoKTtcblxuICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSB1bmRlZmluZWRUeXBlIHx8ICFzdG9yYWdlS2V5KSByZXR1cm47XG5cbiAgICAgICAgICAvLyBVc2UgbG9jYWxTdG9yYWdlIGlmIGF2YWlsYWJsZVxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Vbc3RvcmFnZUtleV0gPSBsZXZlbE5hbWU7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGNhdGNoIChpZ25vcmUpIHt9XG5cbiAgICAgICAgICAvLyBVc2Ugc2Vzc2lvbiBjb29raWUgYXMgZmFsbGJhY2tcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuY29va2llID1cbiAgICAgICAgICAgICAgICBlbmNvZGVVUklDb21wb25lbnQoc3RvcmFnZUtleSkgKyBcIj1cIiArIGxldmVsTmFtZSArIFwiO1wiO1xuICAgICAgICAgIH0gY2F0Y2ggKGlnbm9yZSkge31cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZ2V0UGVyc2lzdGVkTGV2ZWwoKSB7XG4gICAgICAgICAgdmFyIHN0b3JlZExldmVsO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IHVuZGVmaW5lZFR5cGUgfHwgIXN0b3JhZ2VLZXkpIHJldHVybjtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHN0b3JlZExldmVsID0gd2luZG93LmxvY2FsU3RvcmFnZVtzdG9yYWdlS2V5XTtcbiAgICAgICAgICB9IGNhdGNoIChpZ25vcmUpIHt9XG5cbiAgICAgICAgICAvLyBGYWxsYmFjayB0byBjb29raWVzIGlmIGxvY2FsIHN0b3JhZ2UgZ2l2ZXMgdXMgbm90aGluZ1xuICAgICAgICAgIGlmICh0eXBlb2Ygc3RvcmVkTGV2ZWwgPT09IHVuZGVmaW5lZFR5cGUpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIHZhciBjb29raWUgPSB3aW5kb3cuZG9jdW1lbnQuY29va2llO1xuICAgICAgICAgICAgICAgICAgdmFyIGxvY2F0aW9uID0gY29va2llLmluZGV4T2YoXG4gICAgICAgICAgICAgICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHN0b3JhZ2VLZXkpICsgXCI9XCIpO1xuICAgICAgICAgICAgICAgICAgaWYgKGxvY2F0aW9uICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgIHN0b3JlZExldmVsID0gL14oW147XSspLy5leGVjKGNvb2tpZS5zbGljZShsb2NhdGlvbikpWzFdO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGNhdGNoIChpZ25vcmUpIHt9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gSWYgdGhlIHN0b3JlZCBsZXZlbCBpcyBub3QgdmFsaWQsIHRyZWF0IGl0IGFzIGlmIG5vdGhpbmcgd2FzIHN0b3JlZC5cbiAgICAgICAgICBpZiAoc2VsZi5sZXZlbHNbc3RvcmVkTGV2ZWxdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgc3RvcmVkTGV2ZWwgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHN0b3JlZExldmVsO1xuICAgICAgfVxuXG4gICAgICAvKlxuICAgICAgICpcbiAgICAgICAqIFB1YmxpYyBsb2dnZXIgQVBJIC0gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9waW10ZXJyeS9sb2dsZXZlbCBmb3IgZGV0YWlsc1xuICAgICAgICpcbiAgICAgICAqL1xuXG4gICAgICBzZWxmLm5hbWUgPSBuYW1lO1xuXG4gICAgICBzZWxmLmxldmVscyA9IHsgXCJUUkFDRVwiOiAwLCBcIkRFQlVHXCI6IDEsIFwiSU5GT1wiOiAyLCBcIldBUk5cIjogMyxcbiAgICAgICAgICBcIkVSUk9SXCI6IDQsIFwiU0lMRU5UXCI6IDV9O1xuXG4gICAgICBzZWxmLm1ldGhvZEZhY3RvcnkgPSBmYWN0b3J5IHx8IGRlZmF1bHRNZXRob2RGYWN0b3J5O1xuXG4gICAgICBzZWxmLmdldExldmVsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBjdXJyZW50TGV2ZWw7XG4gICAgICB9O1xuXG4gICAgICBzZWxmLnNldExldmVsID0gZnVuY3Rpb24gKGxldmVsLCBwZXJzaXN0KSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBsZXZlbCA9PT0gXCJzdHJpbmdcIiAmJiBzZWxmLmxldmVsc1tsZXZlbC50b1VwcGVyQ2FzZSgpXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIGxldmVsID0gc2VsZi5sZXZlbHNbbGV2ZWwudG9VcHBlckNhc2UoKV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0eXBlb2YgbGV2ZWwgPT09IFwibnVtYmVyXCIgJiYgbGV2ZWwgPj0gMCAmJiBsZXZlbCA8PSBzZWxmLmxldmVscy5TSUxFTlQpIHtcbiAgICAgICAgICAgICAgY3VycmVudExldmVsID0gbGV2ZWw7XG4gICAgICAgICAgICAgIGlmIChwZXJzaXN0ICE9PSBmYWxzZSkgeyAgLy8gZGVmYXVsdHMgdG8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgcGVyc2lzdExldmVsSWZQb3NzaWJsZShsZXZlbCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmVwbGFjZUxvZ2dpbmdNZXRob2RzLmNhbGwoc2VsZiwgbGV2ZWwsIG5hbWUpO1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbnNvbGUgPT09IHVuZGVmaW5lZFR5cGUgJiYgbGV2ZWwgPCBzZWxmLmxldmVscy5TSUxFTlQpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBcIk5vIGNvbnNvbGUgYXZhaWxhYmxlIGZvciBsb2dnaW5nXCI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aHJvdyBcImxvZy5zZXRMZXZlbCgpIGNhbGxlZCB3aXRoIGludmFsaWQgbGV2ZWw6IFwiICsgbGV2ZWw7XG4gICAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2VsZi5zZXREZWZhdWx0TGV2ZWwgPSBmdW5jdGlvbiAobGV2ZWwpIHtcbiAgICAgICAgICBpZiAoIWdldFBlcnNpc3RlZExldmVsKCkpIHtcbiAgICAgICAgICAgICAgc2VsZi5zZXRMZXZlbChsZXZlbCwgZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHNlbGYuZW5hYmxlQWxsID0gZnVuY3Rpb24ocGVyc2lzdCkge1xuICAgICAgICAgIHNlbGYuc2V0TGV2ZWwoc2VsZi5sZXZlbHMuVFJBQ0UsIHBlcnNpc3QpO1xuICAgICAgfTtcblxuICAgICAgc2VsZi5kaXNhYmxlQWxsID0gZnVuY3Rpb24ocGVyc2lzdCkge1xuICAgICAgICAgIHNlbGYuc2V0TGV2ZWwoc2VsZi5sZXZlbHMuU0lMRU5ULCBwZXJzaXN0KTtcbiAgICAgIH07XG5cbiAgICAgIC8vIEluaXRpYWxpemUgd2l0aCB0aGUgcmlnaHQgbGV2ZWxcbiAgICAgIHZhciBpbml0aWFsTGV2ZWwgPSBnZXRQZXJzaXN0ZWRMZXZlbCgpO1xuICAgICAgaWYgKGluaXRpYWxMZXZlbCA9PSBudWxsKSB7XG4gICAgICAgICAgaW5pdGlhbExldmVsID0gZGVmYXVsdExldmVsID09IG51bGwgPyBcIldBUk5cIiA6IGRlZmF1bHRMZXZlbDtcbiAgICAgIH1cbiAgICAgIHNlbGYuc2V0TGV2ZWwoaW5pdGlhbExldmVsLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKlxuICAgICAqIFRvcC1sZXZlbCBBUElcbiAgICAgKlxuICAgICAqL1xuXG4gICAgdmFyIGRlZmF1bHRMb2dnZXIgPSBuZXcgTG9nZ2VyKCk7XG5cbiAgICB2YXIgX2xvZ2dlcnNCeU5hbWUgPSB7fTtcbiAgICBkZWZhdWx0TG9nZ2VyLmdldExvZ2dlciA9IGZ1bmN0aW9uIGdldExvZ2dlcihuYW1lKSB7XG4gICAgICAgIGlmICgodHlwZW9mIG5hbWUgIT09IFwic3ltYm9sXCIgJiYgdHlwZW9mIG5hbWUgIT09IFwic3RyaW5nXCIpIHx8IG5hbWUgPT09IFwiXCIpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiWW91IG11c3Qgc3VwcGx5IGEgbmFtZSB3aGVuIGNyZWF0aW5nIGEgbG9nZ2VyLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsb2dnZXIgPSBfbG9nZ2Vyc0J5TmFtZVtuYW1lXTtcbiAgICAgICAgaWYgKCFsb2dnZXIpIHtcbiAgICAgICAgICBsb2dnZXIgPSBfbG9nZ2Vyc0J5TmFtZVtuYW1lXSA9IG5ldyBMb2dnZXIoXG4gICAgICAgICAgICBuYW1lLCBkZWZhdWx0TG9nZ2VyLmdldExldmVsKCksIGRlZmF1bHRMb2dnZXIubWV0aG9kRmFjdG9yeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxvZ2dlcjtcbiAgICB9O1xuXG4gICAgLy8gR3JhYiB0aGUgY3VycmVudCBnbG9iYWwgbG9nIHZhcmlhYmxlIGluIGNhc2Ugb2Ygb3ZlcndyaXRlXG4gICAgdmFyIF9sb2cgPSAodHlwZW9mIHdpbmRvdyAhPT0gdW5kZWZpbmVkVHlwZSkgPyB3aW5kb3cubG9nIDogdW5kZWZpbmVkO1xuICAgIGRlZmF1bHRMb2dnZXIubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gdW5kZWZpbmVkVHlwZSAmJlxuICAgICAgICAgICAgICAgd2luZG93LmxvZyA9PT0gZGVmYXVsdExvZ2dlcikge1xuICAgICAgICAgICAgd2luZG93LmxvZyA9IF9sb2c7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGVmYXVsdExvZ2dlcjtcbiAgICB9O1xuXG4gICAgZGVmYXVsdExvZ2dlci5nZXRMb2dnZXJzID0gZnVuY3Rpb24gZ2V0TG9nZ2VycygpIHtcbiAgICAgICAgcmV0dXJuIF9sb2dnZXJzQnlOYW1lO1xuICAgIH07XG5cbiAgICAvLyBFUzYgZGVmYXVsdCBleHBvcnQsIGZvciBjb21wYXRpYmlsaXR5XG4gICAgZGVmYXVsdExvZ2dlclsnZGVmYXVsdCddID0gZGVmYXVsdExvZ2dlcjtcblxuICAgIHJldHVybiBkZWZhdWx0TG9nZ2VyO1xufSkpO1xuIiwiLy8hIG1vbWVudC5qc1xuXG47KGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG4gICAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcbiAgICBnbG9iYWwubW9tZW50ID0gZmFjdG9yeSgpXG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBob29rQ2FsbGJhY2s7XG5cbiAgICBmdW5jdGlvbiBob29rcyAoKSB7XG4gICAgICAgIHJldHVybiBob29rQ2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIGlzIGRvbmUgdG8gcmVnaXN0ZXIgdGhlIG1ldGhvZCBjYWxsZWQgd2l0aCBtb21lbnQoKVxuICAgIC8vIHdpdGhvdXQgY3JlYXRpbmcgY2lyY3VsYXIgZGVwZW5kZW5jaWVzLlxuICAgIGZ1bmN0aW9uIHNldEhvb2tDYWxsYmFjayAoY2FsbGJhY2spIHtcbiAgICAgICAgaG9va0NhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNBcnJheShpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQgaW5zdGFuY2VvZiBBcnJheSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBBcnJheV0nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzT2JqZWN0KGlucHV0KSB7XG4gICAgICAgIC8vIElFOCB3aWxsIHRyZWF0IHVuZGVmaW5lZCBhbmQgbnVsbCBhcyBvYmplY3QgaWYgaXQgd2Fzbid0IGZvclxuICAgICAgICAvLyBpbnB1dCAhPSBudWxsXG4gICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzT2JqZWN0RW1wdHkob2JqKSB7XG4gICAgICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcykge1xuICAgICAgICAgICAgcmV0dXJuIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopLmxlbmd0aCA9PT0gMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgaztcbiAgICAgICAgICAgIGZvciAoayBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzVW5kZWZpbmVkKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBpbnB1dCA9PT0gdm9pZCAwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzTnVtYmVyKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IE51bWJlcl0nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzRGF0ZShpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQgaW5zdGFuY2VvZiBEYXRlIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IERhdGVdJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYXAoYXJyLCBmbikge1xuICAgICAgICB2YXIgcmVzID0gW10sIGk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHJlcy5wdXNoKGZuKGFycltpXSwgaSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFzT3duUHJvcChhLCBiKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSwgYik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXh0ZW5kKGEsIGIpIHtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBiKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duUHJvcChiLCBpKSkge1xuICAgICAgICAgICAgICAgIGFbaV0gPSBiW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc093blByb3AoYiwgJ3RvU3RyaW5nJykpIHtcbiAgICAgICAgICAgIGEudG9TdHJpbmcgPSBiLnRvU3RyaW5nO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc093blByb3AoYiwgJ3ZhbHVlT2YnKSkge1xuICAgICAgICAgICAgYS52YWx1ZU9mID0gYi52YWx1ZU9mO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlVVRDIChpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWxPclVUQyhpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgdHJ1ZSkudXRjKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVmYXVsdFBhcnNpbmdGbGFncygpIHtcbiAgICAgICAgLy8gV2UgbmVlZCB0byBkZWVwIGNsb25lIHRoaXMgb2JqZWN0LlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZW1wdHkgICAgICAgICAgIDogZmFsc2UsXG4gICAgICAgICAgICB1bnVzZWRUb2tlbnMgICAgOiBbXSxcbiAgICAgICAgICAgIHVudXNlZElucHV0ICAgICA6IFtdLFxuICAgICAgICAgICAgb3ZlcmZsb3cgICAgICAgIDogLTIsXG4gICAgICAgICAgICBjaGFyc0xlZnRPdmVyICAgOiAwLFxuICAgICAgICAgICAgbnVsbElucHV0ICAgICAgIDogZmFsc2UsXG4gICAgICAgICAgICBpbnZhbGlkTW9udGggICAgOiBudWxsLFxuICAgICAgICAgICAgaW52YWxpZEZvcm1hdCAgIDogZmFsc2UsXG4gICAgICAgICAgICB1c2VySW52YWxpZGF0ZWQgOiBmYWxzZSxcbiAgICAgICAgICAgIGlzbyAgICAgICAgICAgICA6IGZhbHNlLFxuICAgICAgICAgICAgcGFyc2VkRGF0ZVBhcnRzIDogW10sXG4gICAgICAgICAgICBtZXJpZGllbSAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgcmZjMjgyMiAgICAgICAgIDogZmFsc2UsXG4gICAgICAgICAgICB3ZWVrZGF5TWlzbWF0Y2ggOiBmYWxzZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFBhcnNpbmdGbGFncyhtKSB7XG4gICAgICAgIGlmIChtLl9wZiA9PSBudWxsKSB7XG4gICAgICAgICAgICBtLl9wZiA9IGRlZmF1bHRQYXJzaW5nRmxhZ3MoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbS5fcGY7XG4gICAgfVxuXG4gICAgdmFyIHNvbWU7XG4gICAgaWYgKEFycmF5LnByb3RvdHlwZS5zb21lKSB7XG4gICAgICAgIHNvbWUgPSBBcnJheS5wcm90b3R5cGUuc29tZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBzb21lID0gZnVuY3Rpb24gKGZ1bikge1xuICAgICAgICAgICAgdmFyIHQgPSBPYmplY3QodGhpcyk7XG4gICAgICAgICAgICB2YXIgbGVuID0gdC5sZW5ndGggPj4+IDA7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaSBpbiB0ICYmIGZ1bi5jYWxsKHRoaXMsIHRbaV0sIGksIHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzVmFsaWQobSkge1xuICAgICAgICBpZiAobS5faXNWYWxpZCA9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgZmxhZ3MgPSBnZXRQYXJzaW5nRmxhZ3MobSk7XG4gICAgICAgICAgICB2YXIgcGFyc2VkUGFydHMgPSBzb21lLmNhbGwoZmxhZ3MucGFyc2VkRGF0ZVBhcnRzLCBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpICE9IG51bGw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBpc05vd1ZhbGlkID0gIWlzTmFOKG0uX2QuZ2V0VGltZSgpKSAmJlxuICAgICAgICAgICAgICAgIGZsYWdzLm92ZXJmbG93IDwgMCAmJlxuICAgICAgICAgICAgICAgICFmbGFncy5lbXB0eSAmJlxuICAgICAgICAgICAgICAgICFmbGFncy5pbnZhbGlkTW9udGggJiZcbiAgICAgICAgICAgICAgICAhZmxhZ3MuaW52YWxpZFdlZWtkYXkgJiZcbiAgICAgICAgICAgICAgICAhZmxhZ3Mud2Vla2RheU1pc21hdGNoICYmXG4gICAgICAgICAgICAgICAgIWZsYWdzLm51bGxJbnB1dCAmJlxuICAgICAgICAgICAgICAgICFmbGFncy5pbnZhbGlkRm9ybWF0ICYmXG4gICAgICAgICAgICAgICAgIWZsYWdzLnVzZXJJbnZhbGlkYXRlZCAmJlxuICAgICAgICAgICAgICAgICghZmxhZ3MubWVyaWRpZW0gfHwgKGZsYWdzLm1lcmlkaWVtICYmIHBhcnNlZFBhcnRzKSk7XG5cbiAgICAgICAgICAgIGlmIChtLl9zdHJpY3QpIHtcbiAgICAgICAgICAgICAgICBpc05vd1ZhbGlkID0gaXNOb3dWYWxpZCAmJlxuICAgICAgICAgICAgICAgICAgICBmbGFncy5jaGFyc0xlZnRPdmVyID09PSAwICYmXG4gICAgICAgICAgICAgICAgICAgIGZsYWdzLnVudXNlZFRva2Vucy5sZW5ndGggPT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgZmxhZ3MuYmlnSG91ciA9PT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoT2JqZWN0LmlzRnJvemVuID09IG51bGwgfHwgIU9iamVjdC5pc0Zyb3plbihtKSkge1xuICAgICAgICAgICAgICAgIG0uX2lzVmFsaWQgPSBpc05vd1ZhbGlkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzTm93VmFsaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG0uX2lzVmFsaWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlSW52YWxpZCAoZmxhZ3MpIHtcbiAgICAgICAgdmFyIG0gPSBjcmVhdGVVVEMoTmFOKTtcbiAgICAgICAgaWYgKGZsYWdzICE9IG51bGwpIHtcbiAgICAgICAgICAgIGV4dGVuZChnZXRQYXJzaW5nRmxhZ3MobSksIGZsYWdzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhtKS51c2VySW52YWxpZGF0ZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG07XG4gICAgfVxuXG4gICAgLy8gUGx1Z2lucyB0aGF0IGFkZCBwcm9wZXJ0aWVzIHNob3VsZCBhbHNvIGFkZCB0aGUga2V5IGhlcmUgKG51bGwgdmFsdWUpLFxuICAgIC8vIHNvIHdlIGNhbiBwcm9wZXJseSBjbG9uZSBvdXJzZWx2ZXMuXG4gICAgdmFyIG1vbWVudFByb3BlcnRpZXMgPSBob29rcy5tb21lbnRQcm9wZXJ0aWVzID0gW107XG5cbiAgICBmdW5jdGlvbiBjb3B5Q29uZmlnKHRvLCBmcm9tKSB7XG4gICAgICAgIHZhciBpLCBwcm9wLCB2YWw7XG5cbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9pc0FNb21lbnRPYmplY3QpKSB7XG4gICAgICAgICAgICB0by5faXNBTW9tZW50T2JqZWN0ID0gZnJvbS5faXNBTW9tZW50T2JqZWN0O1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5faSkpIHtcbiAgICAgICAgICAgIHRvLl9pID0gZnJvbS5faTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2YpKSB7XG4gICAgICAgICAgICB0by5fZiA9IGZyb20uX2Y7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9sKSkge1xuICAgICAgICAgICAgdG8uX2wgPSBmcm9tLl9sO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fc3RyaWN0KSkge1xuICAgICAgICAgICAgdG8uX3N0cmljdCA9IGZyb20uX3N0cmljdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX3R6bSkpIHtcbiAgICAgICAgICAgIHRvLl90em0gPSBmcm9tLl90em07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9pc1VUQykpIHtcbiAgICAgICAgICAgIHRvLl9pc1VUQyA9IGZyb20uX2lzVVRDO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fb2Zmc2V0KSkge1xuICAgICAgICAgICAgdG8uX29mZnNldCA9IGZyb20uX29mZnNldDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX3BmKSkge1xuICAgICAgICAgICAgdG8uX3BmID0gZ2V0UGFyc2luZ0ZsYWdzKGZyb20pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fbG9jYWxlKSkge1xuICAgICAgICAgICAgdG8uX2xvY2FsZSA9IGZyb20uX2xvY2FsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtb21lbnRQcm9wZXJ0aWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBtb21lbnRQcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcHJvcCA9IG1vbWVudFByb3BlcnRpZXNbaV07XG4gICAgICAgICAgICAgICAgdmFsID0gZnJvbVtwcm9wXTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKHZhbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9bcHJvcF0gPSB2YWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRvO1xuICAgIH1cblxuICAgIHZhciB1cGRhdGVJblByb2dyZXNzID0gZmFsc2U7XG5cbiAgICAvLyBNb21lbnQgcHJvdG90eXBlIG9iamVjdFxuICAgIGZ1bmN0aW9uIE1vbWVudChjb25maWcpIHtcbiAgICAgICAgY29weUNvbmZpZyh0aGlzLCBjb25maWcpO1xuICAgICAgICB0aGlzLl9kID0gbmV3IERhdGUoY29uZmlnLl9kICE9IG51bGwgPyBjb25maWcuX2QuZ2V0VGltZSgpIDogTmFOKTtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgdGhpcy5fZCA9IG5ldyBEYXRlKE5hTik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUHJldmVudCBpbmZpbml0ZSBsb29wIGluIGNhc2UgdXBkYXRlT2Zmc2V0IGNyZWF0ZXMgbmV3IG1vbWVudFxuICAgICAgICAvLyBvYmplY3RzLlxuICAgICAgICBpZiAodXBkYXRlSW5Qcm9ncmVzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHVwZGF0ZUluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMpO1xuICAgICAgICAgICAgdXBkYXRlSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNNb21lbnQgKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgTW9tZW50IHx8IChvYmogIT0gbnVsbCAmJiBvYmouX2lzQU1vbWVudE9iamVjdCAhPSBudWxsKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhYnNGbG9vciAobnVtYmVyKSB7XG4gICAgICAgIGlmIChudW1iZXIgPCAwKSB7XG4gICAgICAgICAgICAvLyAtMCAtPiAwXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5jZWlsKG51bWJlcikgfHwgMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKG51bWJlcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b0ludChhcmd1bWVudEZvckNvZXJjaW9uKSB7XG4gICAgICAgIHZhciBjb2VyY2VkTnVtYmVyID0gK2FyZ3VtZW50Rm9yQ29lcmNpb24sXG4gICAgICAgICAgICB2YWx1ZSA9IDA7XG5cbiAgICAgICAgaWYgKGNvZXJjZWROdW1iZXIgIT09IDAgJiYgaXNGaW5pdGUoY29lcmNlZE51bWJlcikpIHtcbiAgICAgICAgICAgIHZhbHVlID0gYWJzRmxvb3IoY29lcmNlZE51bWJlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLy8gY29tcGFyZSB0d28gYXJyYXlzLCByZXR1cm4gdGhlIG51bWJlciBvZiBkaWZmZXJlbmNlc1xuICAgIGZ1bmN0aW9uIGNvbXBhcmVBcnJheXMoYXJyYXkxLCBhcnJheTIsIGRvbnRDb252ZXJ0KSB7XG4gICAgICAgIHZhciBsZW4gPSBNYXRoLm1pbihhcnJheTEubGVuZ3RoLCBhcnJheTIubGVuZ3RoKSxcbiAgICAgICAgICAgIGxlbmd0aERpZmYgPSBNYXRoLmFicyhhcnJheTEubGVuZ3RoIC0gYXJyYXkyLmxlbmd0aCksXG4gICAgICAgICAgICBkaWZmcyA9IDAsXG4gICAgICAgICAgICBpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGlmICgoZG9udENvbnZlcnQgJiYgYXJyYXkxW2ldICE9PSBhcnJheTJbaV0pIHx8XG4gICAgICAgICAgICAgICAgKCFkb250Q29udmVydCAmJiB0b0ludChhcnJheTFbaV0pICE9PSB0b0ludChhcnJheTJbaV0pKSkge1xuICAgICAgICAgICAgICAgIGRpZmZzKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRpZmZzICsgbGVuZ3RoRGlmZjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB3YXJuKG1zZykge1xuICAgICAgICBpZiAoaG9va3Muc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdzID09PSBmYWxzZSAmJlxuICAgICAgICAgICAgICAgICh0eXBlb2YgY29uc29sZSAhPT0gICd1bmRlZmluZWQnKSAmJiBjb25zb2xlLndhcm4pIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRGVwcmVjYXRpb24gd2FybmluZzogJyArIG1zZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZXByZWNhdGUobXNnLCBmbikge1xuICAgICAgICB2YXIgZmlyc3RUaW1lID0gdHJ1ZTtcblxuICAgICAgICByZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChob29rcy5kZXByZWNhdGlvbkhhbmRsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlcihudWxsLCBtc2cpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZpcnN0VGltZSkge1xuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICAgICAgdmFyIGFyZztcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBhcmcgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbaV0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgKz0gJ1xcblsnICsgaSArICddICc7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gYXJndW1lbnRzWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnICs9IGtleSArICc6ICcgKyBhcmd1bWVudHNbMF1ba2V5XSArICcsICc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmcuc2xpY2UoMCwgLTIpOyAvLyBSZW1vdmUgdHJhaWxpbmcgY29tbWEgYW5kIHNwYWNlXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKGFyZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHdhcm4obXNnICsgJ1xcbkFyZ3VtZW50czogJyArIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3MpLmpvaW4oJycpICsgJ1xcbicgKyAobmV3IEVycm9yKCkpLnN0YWNrKTtcbiAgICAgICAgICAgICAgICBmaXJzdFRpbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9LCBmbik7XG4gICAgfVxuXG4gICAgdmFyIGRlcHJlY2F0aW9ucyA9IHt9O1xuXG4gICAgZnVuY3Rpb24gZGVwcmVjYXRlU2ltcGxlKG5hbWUsIG1zZykge1xuICAgICAgICBpZiAoaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgIGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlcihuYW1lLCBtc2cpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGVwcmVjYXRpb25zW25hbWVdKSB7XG4gICAgICAgICAgICB3YXJuKG1zZyk7XG4gICAgICAgICAgICBkZXByZWNhdGlvbnNbbmFtZV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaG9va3Muc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdzID0gZmFsc2U7XG4gICAgaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyID0gbnVsbDtcblxuICAgIGZ1bmN0aW9uIGlzRnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0IGluc3RhbmNlb2YgRnVuY3Rpb24gfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXQgKGNvbmZpZykge1xuICAgICAgICB2YXIgcHJvcCwgaTtcbiAgICAgICAgZm9yIChpIGluIGNvbmZpZykge1xuICAgICAgICAgICAgcHJvcCA9IGNvbmZpZ1tpXTtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHByb3ApKSB7XG4gICAgICAgICAgICAgICAgdGhpc1tpXSA9IHByb3A7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXNbJ18nICsgaV0gPSBwcm9wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgLy8gTGVuaWVudCBvcmRpbmFsIHBhcnNpbmcgYWNjZXB0cyBqdXN0IGEgbnVtYmVyIGluIGFkZGl0aW9uIHRvXG4gICAgICAgIC8vIG51bWJlciArIChwb3NzaWJseSkgc3R1ZmYgY29taW5nIGZyb20gX2RheU9mTW9udGhPcmRpbmFsUGFyc2UuXG4gICAgICAgIC8vIFRPRE86IFJlbW92ZSBcIm9yZGluYWxQYXJzZVwiIGZhbGxiYWNrIGluIG5leHQgbWFqb3IgcmVsZWFzZS5cbiAgICAgICAgdGhpcy5fZGF5T2ZNb250aE9yZGluYWxQYXJzZUxlbmllbnQgPSBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgKHRoaXMuX2RheU9mTW9udGhPcmRpbmFsUGFyc2Uuc291cmNlIHx8IHRoaXMuX29yZGluYWxQYXJzZS5zb3VyY2UpICtcbiAgICAgICAgICAgICAgICAnfCcgKyAoL1xcZHsxLDJ9Lykuc291cmNlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtZXJnZUNvbmZpZ3MocGFyZW50Q29uZmlnLCBjaGlsZENvbmZpZykge1xuICAgICAgICB2YXIgcmVzID0gZXh0ZW5kKHt9LCBwYXJlbnRDb25maWcpLCBwcm9wO1xuICAgICAgICBmb3IgKHByb3AgaW4gY2hpbGRDb25maWcpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wKGNoaWxkQ29uZmlnLCBwcm9wKSkge1xuICAgICAgICAgICAgICAgIGlmIChpc09iamVjdChwYXJlbnRDb25maWdbcHJvcF0pICYmIGlzT2JqZWN0KGNoaWxkQ29uZmlnW3Byb3BdKSkge1xuICAgICAgICAgICAgICAgICAgICByZXNbcHJvcF0gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5kKHJlc1twcm9wXSwgcGFyZW50Q29uZmlnW3Byb3BdKTtcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5kKHJlc1twcm9wXSwgY2hpbGRDb25maWdbcHJvcF0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hpbGRDb25maWdbcHJvcF0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXNbcHJvcF0gPSBjaGlsZENvbmZpZ1twcm9wXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcmVzW3Byb3BdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHByb3AgaW4gcGFyZW50Q29uZmlnKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duUHJvcChwYXJlbnRDb25maWcsIHByb3ApICYmXG4gICAgICAgICAgICAgICAgICAgICFoYXNPd25Qcm9wKGNoaWxkQ29uZmlnLCBwcm9wKSAmJlxuICAgICAgICAgICAgICAgICAgICBpc09iamVjdChwYXJlbnRDb25maWdbcHJvcF0pKSB7XG4gICAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIGNoYW5nZXMgdG8gcHJvcGVydGllcyBkb24ndCBtb2RpZnkgcGFyZW50IGNvbmZpZ1xuICAgICAgICAgICAgICAgIHJlc1twcm9wXSA9IGV4dGVuZCh7fSwgcmVzW3Byb3BdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIExvY2FsZShjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZyAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnNldChjb25maWcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGtleXM7XG5cbiAgICBpZiAoT2JqZWN0LmtleXMpIHtcbiAgICAgICAga2V5cyA9IE9iamVjdC5rZXlzO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGtleXMgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICB2YXIgaSwgcmVzID0gW107XG4gICAgICAgICAgICBmb3IgKGkgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhc093blByb3Aob2JqLCBpKSkge1xuICAgICAgICAgICAgICAgICAgICByZXMucHVzaChpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0Q2FsZW5kYXIgPSB7XG4gICAgICAgIHNhbWVEYXkgOiAnW1RvZGF5IGF0XSBMVCcsXG4gICAgICAgIG5leHREYXkgOiAnW1RvbW9ycm93IGF0XSBMVCcsXG4gICAgICAgIG5leHRXZWVrIDogJ2RkZGQgW2F0XSBMVCcsXG4gICAgICAgIGxhc3REYXkgOiAnW1llc3RlcmRheSBhdF0gTFQnLFxuICAgICAgICBsYXN0V2VlayA6ICdbTGFzdF0gZGRkZCBbYXRdIExUJyxcbiAgICAgICAgc2FtZUVsc2UgOiAnTCdcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gY2FsZW5kYXIgKGtleSwgbW9tLCBub3cpIHtcbiAgICAgICAgdmFyIG91dHB1dCA9IHRoaXMuX2NhbGVuZGFyW2tleV0gfHwgdGhpcy5fY2FsZW5kYXJbJ3NhbWVFbHNlJ107XG4gICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKG91dHB1dCkgPyBvdXRwdXQuY2FsbChtb20sIG5vdykgOiBvdXRwdXQ7XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRMb25nRGF0ZUZvcm1hdCA9IHtcbiAgICAgICAgTFRTICA6ICdoOm1tOnNzIEEnLFxuICAgICAgICBMVCAgIDogJ2g6bW0gQScsXG4gICAgICAgIEwgICAgOiAnTU0vREQvWVlZWScsXG4gICAgICAgIExMICAgOiAnTU1NTSBELCBZWVlZJyxcbiAgICAgICAgTExMICA6ICdNTU1NIEQsIFlZWVkgaDptbSBBJyxcbiAgICAgICAgTExMTCA6ICdkZGRkLCBNTU1NIEQsIFlZWVkgaDptbSBBJ1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBsb25nRGF0ZUZvcm1hdCAoa2V5KSB7XG4gICAgICAgIHZhciBmb3JtYXQgPSB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldLFxuICAgICAgICAgICAgZm9ybWF0VXBwZXIgPSB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXkudG9VcHBlckNhc2UoKV07XG5cbiAgICAgICAgaWYgKGZvcm1hdCB8fCAhZm9ybWF0VXBwZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldID0gZm9ybWF0VXBwZXIucmVwbGFjZSgvTU1NTXxNTXxERHxkZGRkL2csIGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWwuc2xpY2UoMSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0SW52YWxpZERhdGUgPSAnSW52YWxpZCBkYXRlJztcblxuICAgIGZ1bmN0aW9uIGludmFsaWREYXRlICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludmFsaWREYXRlO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0T3JkaW5hbCA9ICclZCc7XG4gICAgdmFyIGRlZmF1bHREYXlPZk1vbnRoT3JkaW5hbFBhcnNlID0gL1xcZHsxLDJ9LztcblxuICAgIGZ1bmN0aW9uIG9yZGluYWwgKG51bWJlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3JkaW5hbC5yZXBsYWNlKCclZCcsIG51bWJlcik7XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRSZWxhdGl2ZVRpbWUgPSB7XG4gICAgICAgIGZ1dHVyZSA6ICdpbiAlcycsXG4gICAgICAgIHBhc3QgICA6ICclcyBhZ28nLFxuICAgICAgICBzICA6ICdhIGZldyBzZWNvbmRzJyxcbiAgICAgICAgc3MgOiAnJWQgc2Vjb25kcycsXG4gICAgICAgIG0gIDogJ2EgbWludXRlJyxcbiAgICAgICAgbW0gOiAnJWQgbWludXRlcycsXG4gICAgICAgIGggIDogJ2FuIGhvdXInLFxuICAgICAgICBoaCA6ICclZCBob3VycycsXG4gICAgICAgIGQgIDogJ2EgZGF5JyxcbiAgICAgICAgZGQgOiAnJWQgZGF5cycsXG4gICAgICAgIE0gIDogJ2EgbW9udGgnLFxuICAgICAgICBNTSA6ICclZCBtb250aHMnLFxuICAgICAgICB5ICA6ICdhIHllYXInLFxuICAgICAgICB5eSA6ICclZCB5ZWFycydcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcmVsYXRpdmVUaW1lIChudW1iZXIsIHdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpIHtcbiAgICAgICAgdmFyIG91dHB1dCA9IHRoaXMuX3JlbGF0aXZlVGltZVtzdHJpbmddO1xuICAgICAgICByZXR1cm4gKGlzRnVuY3Rpb24ob3V0cHV0KSkgP1xuICAgICAgICAgICAgb3V0cHV0KG51bWJlciwgd2l0aG91dFN1ZmZpeCwgc3RyaW5nLCBpc0Z1dHVyZSkgOlxuICAgICAgICAgICAgb3V0cHV0LnJlcGxhY2UoLyVkL2ksIG51bWJlcik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFzdEZ1dHVyZSAoZGlmZiwgb3V0cHV0KSB7XG4gICAgICAgIHZhciBmb3JtYXQgPSB0aGlzLl9yZWxhdGl2ZVRpbWVbZGlmZiA+IDAgPyAnZnV0dXJlJyA6ICdwYXN0J107XG4gICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKGZvcm1hdCkgPyBmb3JtYXQob3V0cHV0KSA6IGZvcm1hdC5yZXBsYWNlKC8lcy9pLCBvdXRwdXQpO1xuICAgIH1cblxuICAgIHZhciBhbGlhc2VzID0ge307XG5cbiAgICBmdW5jdGlvbiBhZGRVbml0QWxpYXMgKHVuaXQsIHNob3J0aGFuZCkge1xuICAgICAgICB2YXIgbG93ZXJDYXNlID0gdW5pdC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBhbGlhc2VzW2xvd2VyQ2FzZV0gPSBhbGlhc2VzW2xvd2VyQ2FzZSArICdzJ10gPSBhbGlhc2VzW3Nob3J0aGFuZF0gPSB1bml0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZVVuaXRzKHVuaXRzKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdW5pdHMgPT09ICdzdHJpbmcnID8gYWxpYXNlc1t1bml0c10gfHwgYWxpYXNlc1t1bml0cy50b0xvd2VyQ2FzZSgpXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBub3JtYWxpemVPYmplY3RVbml0cyhpbnB1dE9iamVjdCkge1xuICAgICAgICB2YXIgbm9ybWFsaXplZElucHV0ID0ge30sXG4gICAgICAgICAgICBub3JtYWxpemVkUHJvcCxcbiAgICAgICAgICAgIHByb3A7XG5cbiAgICAgICAgZm9yIChwcm9wIGluIGlucHV0T2JqZWN0KSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duUHJvcChpbnB1dE9iamVjdCwgcHJvcCkpIHtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkUHJvcCA9IG5vcm1hbGl6ZVVuaXRzKHByb3ApO1xuICAgICAgICAgICAgICAgIGlmIChub3JtYWxpemVkUHJvcCkge1xuICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkSW5wdXRbbm9ybWFsaXplZFByb3BdID0gaW5wdXRPYmplY3RbcHJvcF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWRJbnB1dDtcbiAgICB9XG5cbiAgICB2YXIgcHJpb3JpdGllcyA9IHt9O1xuXG4gICAgZnVuY3Rpb24gYWRkVW5pdFByaW9yaXR5KHVuaXQsIHByaW9yaXR5KSB7XG4gICAgICAgIHByaW9yaXRpZXNbdW5pdF0gPSBwcmlvcml0eTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRQcmlvcml0aXplZFVuaXRzKHVuaXRzT2JqKSB7XG4gICAgICAgIHZhciB1bml0cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciB1IGluIHVuaXRzT2JqKSB7XG4gICAgICAgICAgICB1bml0cy5wdXNoKHt1bml0OiB1LCBwcmlvcml0eTogcHJpb3JpdGllc1t1XX0pO1xuICAgICAgICB9XG4gICAgICAgIHVuaXRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBhLnByaW9yaXR5IC0gYi5wcmlvcml0eTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB1bml0cztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB6ZXJvRmlsbChudW1iZXIsIHRhcmdldExlbmd0aCwgZm9yY2VTaWduKSB7XG4gICAgICAgIHZhciBhYnNOdW1iZXIgPSAnJyArIE1hdGguYWJzKG51bWJlciksXG4gICAgICAgICAgICB6ZXJvc1RvRmlsbCA9IHRhcmdldExlbmd0aCAtIGFic051bWJlci5sZW5ndGgsXG4gICAgICAgICAgICBzaWduID0gbnVtYmVyID49IDA7XG4gICAgICAgIHJldHVybiAoc2lnbiA/IChmb3JjZVNpZ24gPyAnKycgOiAnJykgOiAnLScpICtcbiAgICAgICAgICAgIE1hdGgucG93KDEwLCBNYXRoLm1heCgwLCB6ZXJvc1RvRmlsbCkpLnRvU3RyaW5nKCkuc3Vic3RyKDEpICsgYWJzTnVtYmVyO1xuICAgIH1cblxuICAgIHZhciBmb3JtYXR0aW5nVG9rZW5zID0gLyhcXFtbXlxcW10qXFxdKXwoXFxcXCk/KFtIaF1tbShzcyk/fE1vfE1NP00/TT98RG98REREb3xERD9EP0Q/fGRkZD9kP3xkbz98d1tvfHddP3xXW298V10/fFFvP3xZWVlZWVl8WVlZWVl8WVlZWXxZWXxnZyhnZ2c/KT98R0coR0dHPyk/fGV8RXxhfEF8aGg/fEhIP3xraz98bW0/fHNzP3xTezEsOX18eHxYfHp6P3xaWj98LikvZztcblxuICAgIHZhciBsb2NhbEZvcm1hdHRpbmdUb2tlbnMgPSAvKFxcW1teXFxbXSpcXF0pfChcXFxcKT8oTFRTfExUfExMP0w/TD98bHsxLDR9KS9nO1xuXG4gICAgdmFyIGZvcm1hdEZ1bmN0aW9ucyA9IHt9O1xuXG4gICAgdmFyIGZvcm1hdFRva2VuRnVuY3Rpb25zID0ge307XG5cbiAgICAvLyB0b2tlbjogICAgJ00nXG4gICAgLy8gcGFkZGVkOiAgIFsnTU0nLCAyXVxuICAgIC8vIG9yZGluYWw6ICAnTW8nXG4gICAgLy8gY2FsbGJhY2s6IGZ1bmN0aW9uICgpIHsgdGhpcy5tb250aCgpICsgMSB9XG4gICAgZnVuY3Rpb24gYWRkRm9ybWF0VG9rZW4gKHRva2VuLCBwYWRkZWQsIG9yZGluYWwsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBmdW5jID0gY2FsbGJhY2s7XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBmdW5jID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW2NhbGxiYWNrXSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICAgIGZvcm1hdFRva2VuRnVuY3Rpb25zW3Rva2VuXSA9IGZ1bmM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhZGRlZCkge1xuICAgICAgICAgICAgZm9ybWF0VG9rZW5GdW5jdGlvbnNbcGFkZGVkWzBdXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gemVyb0ZpbGwoZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCBwYWRkZWRbMV0sIHBhZGRlZFsyXSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcmRpbmFsKSB7XG4gICAgICAgICAgICBmb3JtYXRUb2tlbkZ1bmN0aW9uc1tvcmRpbmFsXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkub3JkaW5hbChmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksIHRva2VuKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW1vdmVGb3JtYXR0aW5nVG9rZW5zKGlucHV0KSB7XG4gICAgICAgIGlmIChpbnB1dC5tYXRjaCgvXFxbW1xcc1xcU10vKSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoL15cXFt8XFxdJC9nLCAnJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoL1xcXFwvZywgJycpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VGb3JtYXRGdW5jdGlvbihmb3JtYXQpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gZm9ybWF0Lm1hdGNoKGZvcm1hdHRpbmdUb2tlbnMpLCBpLCBsZW5ndGg7XG5cbiAgICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChmb3JtYXRUb2tlbkZ1bmN0aW9uc1thcnJheVtpXV0pIHtcbiAgICAgICAgICAgICAgICBhcnJheVtpXSA9IGZvcm1hdFRva2VuRnVuY3Rpb25zW2FycmF5W2ldXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXJyYXlbaV0gPSByZW1vdmVGb3JtYXR0aW5nVG9rZW5zKGFycmF5W2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAobW9tKSB7XG4gICAgICAgICAgICB2YXIgb3V0cHV0ID0gJycsIGk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBvdXRwdXQgKz0gaXNGdW5jdGlvbihhcnJheVtpXSkgPyBhcnJheVtpXS5jYWxsKG1vbSwgZm9ybWF0KSA6IGFycmF5W2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBmb3JtYXQgZGF0ZSB1c2luZyBuYXRpdmUgZGF0ZSBvYmplY3RcbiAgICBmdW5jdGlvbiBmb3JtYXRNb21lbnQobSwgZm9ybWF0KSB7XG4gICAgICAgIGlmICghbS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBtLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9ybWF0ID0gZXhwYW5kRm9ybWF0KGZvcm1hdCwgbS5sb2NhbGVEYXRhKCkpO1xuICAgICAgICBmb3JtYXRGdW5jdGlvbnNbZm9ybWF0XSA9IGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdIHx8IG1ha2VGb3JtYXRGdW5jdGlvbihmb3JtYXQpO1xuXG4gICAgICAgIHJldHVybiBmb3JtYXRGdW5jdGlvbnNbZm9ybWF0XShtKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBleHBhbmRGb3JtYXQoZm9ybWF0LCBsb2NhbGUpIHtcbiAgICAgICAgdmFyIGkgPSA1O1xuXG4gICAgICAgIGZ1bmN0aW9uIHJlcGxhY2VMb25nRGF0ZUZvcm1hdFRva2VucyhpbnB1dCkge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsZS5sb25nRGF0ZUZvcm1hdChpbnB1dCkgfHwgaW5wdXQ7XG4gICAgICAgIH1cblxuICAgICAgICBsb2NhbEZvcm1hdHRpbmdUb2tlbnMubGFzdEluZGV4ID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiBsb2NhbEZvcm1hdHRpbmdUb2tlbnMudGVzdChmb3JtYXQpKSB7XG4gICAgICAgICAgICBmb3JtYXQgPSBmb3JtYXQucmVwbGFjZShsb2NhbEZvcm1hdHRpbmdUb2tlbnMsIHJlcGxhY2VMb25nRGF0ZUZvcm1hdFRva2Vucyk7XG4gICAgICAgICAgICBsb2NhbEZvcm1hdHRpbmdUb2tlbnMubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgIGkgLT0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmb3JtYXQ7XG4gICAgfVxuXG4gICAgdmFyIG1hdGNoMSAgICAgICAgID0gL1xcZC87ICAgICAgICAgICAgLy8gICAgICAgMCAtIDlcbiAgICB2YXIgbWF0Y2gyICAgICAgICAgPSAvXFxkXFxkLzsgICAgICAgICAgLy8gICAgICAwMCAtIDk5XG4gICAgdmFyIG1hdGNoMyAgICAgICAgID0gL1xcZHszfS87ICAgICAgICAgLy8gICAgIDAwMCAtIDk5OVxuICAgIHZhciBtYXRjaDQgICAgICAgICA9IC9cXGR7NH0vOyAgICAgICAgIC8vICAgIDAwMDAgLSA5OTk5XG4gICAgdmFyIG1hdGNoNiAgICAgICAgID0gL1srLV0/XFxkezZ9LzsgICAgLy8gLTk5OTk5OSAtIDk5OTk5OVxuICAgIHZhciBtYXRjaDF0bzIgICAgICA9IC9cXGRcXGQ/LzsgICAgICAgICAvLyAgICAgICAwIC0gOTlcbiAgICB2YXIgbWF0Y2gzdG80ICAgICAgPSAvXFxkXFxkXFxkXFxkPy87ICAgICAvLyAgICAgOTk5IC0gOTk5OVxuICAgIHZhciBtYXRjaDV0bzYgICAgICA9IC9cXGRcXGRcXGRcXGRcXGRcXGQ/LzsgLy8gICA5OTk5OSAtIDk5OTk5OVxuICAgIHZhciBtYXRjaDF0bzMgICAgICA9IC9cXGR7MSwzfS87ICAgICAgIC8vICAgICAgIDAgLSA5OTlcbiAgICB2YXIgbWF0Y2gxdG80ICAgICAgPSAvXFxkezEsNH0vOyAgICAgICAvLyAgICAgICAwIC0gOTk5OVxuICAgIHZhciBtYXRjaDF0bzYgICAgICA9IC9bKy1dP1xcZHsxLDZ9LzsgIC8vIC05OTk5OTkgLSA5OTk5OTlcblxuICAgIHZhciBtYXRjaFVuc2lnbmVkICA9IC9cXGQrLzsgICAgICAgICAgIC8vICAgICAgIDAgLSBpbmZcbiAgICB2YXIgbWF0Y2hTaWduZWQgICAgPSAvWystXT9cXGQrLzsgICAgICAvLyAgICAtaW5mIC0gaW5mXG5cbiAgICB2YXIgbWF0Y2hPZmZzZXQgICAgPSAvWnxbKy1dXFxkXFxkOj9cXGRcXGQvZ2k7IC8vICswMDowMCAtMDA6MDAgKzAwMDAgLTAwMDAgb3IgWlxuICAgIHZhciBtYXRjaFNob3J0T2Zmc2V0ID0gL1p8WystXVxcZFxcZCg/Ojo/XFxkXFxkKT8vZ2k7IC8vICswMCAtMDAgKzAwOjAwIC0wMDowMCArMDAwMCAtMDAwMCBvciBaXG5cbiAgICB2YXIgbWF0Y2hUaW1lc3RhbXAgPSAvWystXT9cXGQrKFxcLlxcZHsxLDN9KT8vOyAvLyAxMjM0NTY3ODkgMTIzNDU2Nzg5LjEyM1xuXG4gICAgLy8gYW55IHdvcmQgKG9yIHR3bykgY2hhcmFjdGVycyBvciBudW1iZXJzIGluY2x1ZGluZyB0d28vdGhyZWUgd29yZCBtb250aCBpbiBhcmFiaWMuXG4gICAgLy8gaW5jbHVkZXMgc2NvdHRpc2ggZ2FlbGljIHR3byB3b3JkIGFuZCBoeXBoZW5hdGVkIG1vbnRoc1xuICAgIHZhciBtYXRjaFdvcmQgPSAvWzAtOV17MCwyNTZ9WydhLXpcXHUwMEEwLVxcdTA1RkZcXHUwNzAwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGMDdcXHVGRjEwLVxcdUZGRUZdezEsMjU2fXxbXFx1MDYwMC1cXHUwNkZGXFwvXXsxLDI1Nn0oXFxzKj9bXFx1MDYwMC1cXHUwNkZGXXsxLDI1Nn0pezEsMn0vaTtcblxuICAgIHZhciByZWdleGVzID0ge307XG5cbiAgICBmdW5jdGlvbiBhZGRSZWdleFRva2VuICh0b2tlbiwgcmVnZXgsIHN0cmljdFJlZ2V4KSB7XG4gICAgICAgIHJlZ2V4ZXNbdG9rZW5dID0gaXNGdW5jdGlvbihyZWdleCkgPyByZWdleCA6IGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlRGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIChpc1N0cmljdCAmJiBzdHJpY3RSZWdleCkgPyBzdHJpY3RSZWdleCA6IHJlZ2V4O1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFBhcnNlUmVnZXhGb3JUb2tlbiAodG9rZW4sIGNvbmZpZykge1xuICAgICAgICBpZiAoIWhhc093blByb3AocmVnZXhlcywgdG9rZW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh1bmVzY2FwZUZvcm1hdCh0b2tlbikpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlZ2V4ZXNbdG9rZW5dKGNvbmZpZy5fc3RyaWN0LCBjb25maWcuX2xvY2FsZSk7XG4gICAgfVxuXG4gICAgLy8gQ29kZSBmcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzU2MTQ5My9pcy10aGVyZS1hLXJlZ2V4cC1lc2NhcGUtZnVuY3Rpb24taW4tamF2YXNjcmlwdFxuICAgIGZ1bmN0aW9uIHVuZXNjYXBlRm9ybWF0KHMpIHtcbiAgICAgICAgcmV0dXJuIHJlZ2V4RXNjYXBlKHMucmVwbGFjZSgnXFxcXCcsICcnKS5yZXBsYWNlKC9cXFxcKFxcWyl8XFxcXChcXF0pfFxcWyhbXlxcXVxcW10qKVxcXXxcXFxcKC4pL2csIGZ1bmN0aW9uIChtYXRjaGVkLCBwMSwgcDIsIHAzLCBwNCkge1xuICAgICAgICAgICAgcmV0dXJuIHAxIHx8IHAyIHx8IHAzIHx8IHA0O1xuICAgICAgICB9KSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVnZXhFc2NhcGUocykge1xuICAgICAgICByZXR1cm4gcy5yZXBsYWNlKC9bLVxcL1xcXFxeJCorPy4oKXxbXFxde31dL2csICdcXFxcJCYnKTtcbiAgICB9XG5cbiAgICB2YXIgdG9rZW5zID0ge307XG5cbiAgICBmdW5jdGlvbiBhZGRQYXJzZVRva2VuICh0b2tlbiwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGksIGZ1bmMgPSBjYWxsYmFjaztcbiAgICAgICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRva2VuID0gW3Rva2VuXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNOdW1iZXIoY2FsbGJhY2spKSB7XG4gICAgICAgICAgICBmdW5jID0gZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgICAgICAgICAgICAgIGFycmF5W2NhbGxiYWNrXSA9IHRvSW50KGlucHV0KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRva2VuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0b2tlbnNbdG9rZW5baV1dID0gZnVuYztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZFdlZWtQYXJzZVRva2VuICh0b2tlbiwgY2FsbGJhY2spIHtcbiAgICAgICAgYWRkUGFyc2VUb2tlbih0b2tlbiwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnLCB0b2tlbikge1xuICAgICAgICAgICAgY29uZmlnLl93ID0gY29uZmlnLl93IHx8IHt9O1xuICAgICAgICAgICAgY2FsbGJhY2soaW5wdXQsIGNvbmZpZy5fdywgY29uZmlnLCB0b2tlbik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZFRpbWVUb0FycmF5RnJvbVRva2VuKHRva2VuLCBpbnB1dCwgY29uZmlnKSB7XG4gICAgICAgIGlmIChpbnB1dCAhPSBudWxsICYmIGhhc093blByb3AodG9rZW5zLCB0b2tlbikpIHtcbiAgICAgICAgICAgIHRva2Vuc1t0b2tlbl0oaW5wdXQsIGNvbmZpZy5fYSwgY29uZmlnLCB0b2tlbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgWUVBUiA9IDA7XG4gICAgdmFyIE1PTlRIID0gMTtcbiAgICB2YXIgREFURSA9IDI7XG4gICAgdmFyIEhPVVIgPSAzO1xuICAgIHZhciBNSU5VVEUgPSA0O1xuICAgIHZhciBTRUNPTkQgPSA1O1xuICAgIHZhciBNSUxMSVNFQ09ORCA9IDY7XG4gICAgdmFyIFdFRUsgPSA3O1xuICAgIHZhciBXRUVLREFZID0gODtcblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdZJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgeSA9IHRoaXMueWVhcigpO1xuICAgICAgICByZXR1cm4geSA8PSA5OTk5ID8gJycgKyB5IDogJysnICsgeTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnWVknLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy55ZWFyKCkgJSAxMDA7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1lZWVknLCAgIDRdLCAgICAgICAwLCAneWVhcicpO1xuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnWVlZWVknLCAgNV0sICAgICAgIDAsICd5ZWFyJyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydZWVlZWVknLCA2LCB0cnVlXSwgMCwgJ3llYXInKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygneWVhcicsICd5Jyk7XG5cbiAgICAvLyBQUklPUklUSUVTXG5cbiAgICBhZGRVbml0UHJpb3JpdHkoJ3llYXInLCAxKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ1knLCAgICAgIG1hdGNoU2lnbmVkKTtcbiAgICBhZGRSZWdleFRva2VuKCdZWScsICAgICBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignWVlZWScsICAgbWF0Y2gxdG80LCBtYXRjaDQpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ1lZWVlZJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcbiAgICBhZGRSZWdleFRva2VuKCdZWVlZWVknLCBtYXRjaDF0bzYsIG1hdGNoNik7XG5cbiAgICBhZGRQYXJzZVRva2VuKFsnWVlZWVknLCAnWVlZWVlZJ10sIFlFQVIpO1xuICAgIGFkZFBhcnNlVG9rZW4oJ1lZWVknLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgIGFycmF5W1lFQVJdID0gaW5wdXQubGVuZ3RoID09PSAyID8gaG9va3MucGFyc2VUd29EaWdpdFllYXIoaW5wdXQpIDogdG9JbnQoaW5wdXQpO1xuICAgIH0pO1xuICAgIGFkZFBhcnNlVG9rZW4oJ1lZJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgICAgICBhcnJheVtZRUFSXSA9IGhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KTtcbiAgICB9KTtcbiAgICBhZGRQYXJzZVRva2VuKCdZJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgICAgICBhcnJheVtZRUFSXSA9IHBhcnNlSW50KGlucHV0LCAxMCk7XG4gICAgfSk7XG5cbiAgICAvLyBIRUxQRVJTXG5cbiAgICBmdW5jdGlvbiBkYXlzSW5ZZWFyKHllYXIpIHtcbiAgICAgICAgcmV0dXJuIGlzTGVhcFllYXIoeWVhcikgPyAzNjYgOiAzNjU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNMZWFwWWVhcih5ZWFyKSB7XG4gICAgICAgIHJldHVybiAoeWVhciAlIDQgPT09IDAgJiYgeWVhciAlIDEwMCAhPT0gMCkgfHwgeWVhciAlIDQwMCA9PT0gMDtcbiAgICB9XG5cbiAgICAvLyBIT09LU1xuXG4gICAgaG9va3MucGFyc2VUd29EaWdpdFllYXIgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHRvSW50KGlucHV0KSArICh0b0ludChpbnB1dCkgPiA2OCA/IDE5MDAgOiAyMDAwKTtcbiAgICB9O1xuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgdmFyIGdldFNldFllYXIgPSBtYWtlR2V0U2V0KCdGdWxsWWVhcicsIHRydWUpO1xuXG4gICAgZnVuY3Rpb24gZ2V0SXNMZWFwWWVhciAoKSB7XG4gICAgICAgIHJldHVybiBpc0xlYXBZZWFyKHRoaXMueWVhcigpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWtlR2V0U2V0ICh1bml0LCBrZWVwVGltZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHNldCQxKHRoaXMsIHVuaXQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywga2VlcFRpbWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0KHRoaXMsIHVuaXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldCAobW9tLCB1bml0KSB7XG4gICAgICAgIHJldHVybiBtb20uaXNWYWxpZCgpID9cbiAgICAgICAgICAgIG1vbS5fZFsnZ2V0JyArIChtb20uX2lzVVRDID8gJ1VUQycgOiAnJykgKyB1bml0XSgpIDogTmFOO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldCQxIChtb20sIHVuaXQsIHZhbHVlKSB7XG4gICAgICAgIGlmIChtb20uaXNWYWxpZCgpICYmICFpc05hTih2YWx1ZSkpIHtcbiAgICAgICAgICAgIGlmICh1bml0ID09PSAnRnVsbFllYXInICYmIGlzTGVhcFllYXIobW9tLnllYXIoKSkgJiYgbW9tLm1vbnRoKCkgPT09IDEgJiYgbW9tLmRhdGUoKSA9PT0gMjkpIHtcbiAgICAgICAgICAgICAgICBtb20uX2RbJ3NldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgdW5pdF0odmFsdWUsIG1vbS5tb250aCgpLCBkYXlzSW5Nb250aCh2YWx1ZSwgbW9tLm1vbnRoKCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vbS5fZFsnc2V0JyArIChtb20uX2lzVVRDID8gJ1VUQycgOiAnJykgKyB1bml0XSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBzdHJpbmdHZXQgKHVuaXRzKSB7XG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGlzW3VuaXRzXSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzW3VuaXRzXSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gc3RyaW5nU2V0ICh1bml0cywgdmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB1bml0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHVuaXRzID0gbm9ybWFsaXplT2JqZWN0VW5pdHModW5pdHMpO1xuICAgICAgICAgICAgdmFyIHByaW9yaXRpemVkID0gZ2V0UHJpb3JpdGl6ZWRVbml0cyh1bml0cyk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByaW9yaXRpemVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpc1twcmlvcml0aXplZFtpXS51bml0XSh1bml0c1twcmlvcml0aXplZFtpXS51bml0XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHRoaXNbdW5pdHNdKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW3VuaXRzXSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbW9kKG4sIHgpIHtcbiAgICAgICAgcmV0dXJuICgobiAlIHgpICsgeCkgJSB4O1xuICAgIH1cblxuICAgIHZhciBpbmRleE9mO1xuXG4gICAgaWYgKEFycmF5LnByb3RvdHlwZS5pbmRleE9mKSB7XG4gICAgICAgIGluZGV4T2YgPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZjtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpbmRleE9mID0gZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgICAgIC8vIEkga25vd1xuICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzW2ldID09PSBvKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkYXlzSW5Nb250aCh5ZWFyLCBtb250aCkge1xuICAgICAgICBpZiAoaXNOYU4oeWVhcikgfHwgaXNOYU4obW9udGgpKSB7XG4gICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtb2RNb250aCA9IG1vZChtb250aCwgMTIpO1xuICAgICAgICB5ZWFyICs9IChtb250aCAtIG1vZE1vbnRoKSAvIDEyO1xuICAgICAgICByZXR1cm4gbW9kTW9udGggPT09IDEgPyAoaXNMZWFwWWVhcih5ZWFyKSA/IDI5IDogMjgpIDogKDMxIC0gbW9kTW9udGggJSA3ICUgMik7XG4gICAgfVxuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ00nLCBbJ01NJywgMl0sICdNbycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9udGgoKSArIDE7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignTU1NJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubW9udGhzU2hvcnQodGhpcywgZm9ybWF0KTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdNTU1NJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubW9udGhzKHRoaXMsIGZvcm1hdCk7XG4gICAgfSk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ21vbnRoJywgJ00nKTtcblxuICAgIC8vIFBSSU9SSVRZXG5cbiAgICBhZGRVbml0UHJpb3JpdHkoJ21vbnRoJywgOCk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdNJywgICAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdNTScsICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ01NTScsICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLm1vbnRoc1Nob3J0UmVnZXgoaXNTdHJpY3QpO1xuICAgIH0pO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ01NTU0nLCBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLm1vbnRoc1JlZ2V4KGlzU3RyaWN0KTtcbiAgICB9KTtcblxuICAgIGFkZFBhcnNlVG9rZW4oWydNJywgJ01NJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICAgICAgYXJyYXlbTU9OVEhdID0gdG9JbnQoaW5wdXQpIC0gMTtcbiAgICB9KTtcblxuICAgIGFkZFBhcnNlVG9rZW4oWydNTU0nLCAnTU1NTSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcsIHRva2VuKSB7XG4gICAgICAgIHZhciBtb250aCA9IGNvbmZpZy5fbG9jYWxlLm1vbnRoc1BhcnNlKGlucHV0LCB0b2tlbiwgY29uZmlnLl9zdHJpY3QpO1xuICAgICAgICAvLyBpZiB3ZSBkaWRuJ3QgZmluZCBhIG1vbnRoIG5hbWUsIG1hcmsgdGhlIGRhdGUgYXMgaW52YWxpZC5cbiAgICAgICAgaWYgKG1vbnRoICE9IG51bGwpIHtcbiAgICAgICAgICAgIGFycmF5W01PTlRIXSA9IG1vbnRoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaW52YWxpZE1vbnRoID0gaW5wdXQ7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIExPQ0FMRVNcblxuICAgIHZhciBNT05USFNfSU5fRk9STUFUID0gL0Rbb0RdPyhcXFtbXlxcW1xcXV0qXFxdfFxccykrTU1NTT8vO1xuICAgIHZhciBkZWZhdWx0TG9jYWxlTW9udGhzID0gJ0phbnVhcnlfRmVicnVhcnlfTWFyY2hfQXByaWxfTWF5X0p1bmVfSnVseV9BdWd1c3RfU2VwdGVtYmVyX09jdG9iZXJfTm92ZW1iZXJfRGVjZW1iZXInLnNwbGl0KCdfJyk7XG4gICAgZnVuY3Rpb24gbG9jYWxlTW9udGhzIChtLCBmb3JtYXQpIHtcbiAgICAgICAgaWYgKCFtKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNBcnJheSh0aGlzLl9tb250aHMpID8gdGhpcy5fbW9udGhzIDpcbiAgICAgICAgICAgICAgICB0aGlzLl9tb250aHNbJ3N0YW5kYWxvbmUnXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNBcnJheSh0aGlzLl9tb250aHMpID8gdGhpcy5fbW9udGhzW20ubW9udGgoKV0gOlxuICAgICAgICAgICAgdGhpcy5fbW9udGhzWyh0aGlzLl9tb250aHMuaXNGb3JtYXQgfHwgTU9OVEhTX0lOX0ZPUk1BVCkudGVzdChmb3JtYXQpID8gJ2Zvcm1hdCcgOiAnc3RhbmRhbG9uZSddW20ubW9udGgoKV07XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRMb2NhbGVNb250aHNTaG9ydCA9ICdKYW5fRmViX01hcl9BcHJfTWF5X0p1bl9KdWxfQXVnX1NlcF9PY3RfTm92X0RlYycuc3BsaXQoJ18nKTtcbiAgICBmdW5jdGlvbiBsb2NhbGVNb250aHNTaG9ydCAobSwgZm9ybWF0KSB7XG4gICAgICAgIGlmICghbSkge1xuICAgICAgICAgICAgcmV0dXJuIGlzQXJyYXkodGhpcy5fbW9udGhzU2hvcnQpID8gdGhpcy5fbW9udGhzU2hvcnQgOlxuICAgICAgICAgICAgICAgIHRoaXMuX21vbnRoc1Nob3J0WydzdGFuZGFsb25lJ107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzQXJyYXkodGhpcy5fbW9udGhzU2hvcnQpID8gdGhpcy5fbW9udGhzU2hvcnRbbS5tb250aCgpXSA6XG4gICAgICAgICAgICB0aGlzLl9tb250aHNTaG9ydFtNT05USFNfSU5fRk9STUFULnRlc3QoZm9ybWF0KSA/ICdmb3JtYXQnIDogJ3N0YW5kYWxvbmUnXVttLm1vbnRoKCldO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVN0cmljdFBhcnNlKG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcbiAgICAgICAgdmFyIGksIGlpLCBtb20sIGxsYyA9IG1vbnRoTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoIXRoaXMuX21vbnRoc1BhcnNlKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG5vdCB1c2VkXG4gICAgICAgICAgICB0aGlzLl9tb250aHNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlID0gW107XG4gICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlID0gW107XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTI7ICsraSkge1xuICAgICAgICAgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgaV0pO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbaV0gPSB0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldID0gdGhpcy5tb250aHMobW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgICAgIGlmIChmb3JtYXQgPT09ICdNTU0nKSB7XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9sb25nTW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChmb3JtYXQgPT09ICdNTU0nKSB7XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fbG9uZ01vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX2xvbmdNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9jYWxlTW9udGhzUGFyc2UgKG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcbiAgICAgICAgdmFyIGksIG1vbSwgcmVnZXg7XG5cbiAgICAgICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVTdHJpY3RQYXJzZS5jYWxsKHRoaXMsIG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9tb250aHNQYXJzZSkge1xuICAgICAgICAgICAgdGhpcy5fbW9udGhzUGFyc2UgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZSA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETzogYWRkIHNvcnRpbmdcbiAgICAgICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSBtb250aCAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlclxuICAgICAgICAvLyBzZWUgc29ydGluZyBpbiBjb21wdXRlTW9udGhzUGFyc2VcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuICAgICAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCBpXSk7XG4gICAgICAgICAgICBpZiAoc3RyaWN0ICYmICF0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMubW9udGhzKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnJykgKyAnJCcsICdpJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy5tb250aHNTaG9ydChtb20sICcnKS5yZXBsYWNlKCcuJywgJycpICsgJyQnLCAnaScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFzdHJpY3QgJiYgIXRoaXMuX21vbnRoc1BhcnNlW2ldKSB7XG4gICAgICAgICAgICAgICAgcmVnZXggPSAnXicgKyB0aGlzLm1vbnRocyhtb20sICcnKSArICd8XicgKyB0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpO1xuICAgICAgICAgICAgICAgIHRoaXMuX21vbnRoc1BhcnNlW2ldID0gbmV3IFJlZ0V4cChyZWdleC5yZXBsYWNlKCcuJywgJycpLCAnaScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGVzdCB0aGUgcmVnZXhcbiAgICAgICAgICAgIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnTU1NTScgJiYgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnTU1NJyAmJiB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghc3RyaWN0ICYmIHRoaXMuX21vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgZnVuY3Rpb24gc2V0TW9udGggKG1vbSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIGRheU9mTW9udGg7XG5cbiAgICAgICAgaWYgKCFtb20uaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICAvLyBObyBvcFxuICAgICAgICAgICAgcmV0dXJuIG1vbTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAoL15cXGQrJC8udGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRvSW50KHZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBtb20ubG9jYWxlRGF0YSgpLm1vbnRoc1BhcnNlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBBbm90aGVyIHNpbGVudCBmYWlsdXJlP1xuICAgICAgICAgICAgICAgIGlmICghaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtb207XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZGF5T2ZNb250aCA9IE1hdGgubWluKG1vbS5kYXRlKCksIGRheXNJbk1vbnRoKG1vbS55ZWFyKCksIHZhbHVlKSk7XG4gICAgICAgIG1vbS5fZFsnc2V0JyArIChtb20uX2lzVVRDID8gJ1VUQycgOiAnJykgKyAnTW9udGgnXSh2YWx1ZSwgZGF5T2ZNb250aCk7XG4gICAgICAgIHJldHVybiBtb207XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U2V0TW9udGggKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBzZXRNb250aCh0aGlzLCB2YWx1ZSk7XG4gICAgICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywgdHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBnZXQodGhpcywgJ01vbnRoJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXREYXlzSW5Nb250aCAoKSB7XG4gICAgICAgIHJldHVybiBkYXlzSW5Nb250aCh0aGlzLnllYXIoKSwgdGhpcy5tb250aCgpKTtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdE1vbnRoc1Nob3J0UmVnZXggPSBtYXRjaFdvcmQ7XG4gICAgZnVuY3Rpb24gbW9udGhzU2hvcnRSZWdleCAoaXNTdHJpY3QpIHtcbiAgICAgICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1JlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlTW9udGhzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU2hvcnRSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1Nob3J0UmVnZXgnKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21vbnRoc1Nob3J0UmVnZXggPSBkZWZhdWx0TW9udGhzU2hvcnRSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cbiAgICAgICAgICAgICAgICB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4IDogdGhpcy5fbW9udGhzU2hvcnRSZWdleDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBkZWZhdWx0TW9udGhzUmVnZXggPSBtYXRjaFdvcmQ7XG4gICAgZnVuY3Rpb24gbW9udGhzUmVnZXggKGlzU3RyaWN0KSB7XG4gICAgICAgIGlmICh0aGlzLl9tb250aHNQYXJzZUV4YWN0KSB7XG4gICAgICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19tb250aHNSZWdleCcpKSB7XG4gICAgICAgICAgICAgICAgY29tcHV0ZU1vbnRoc1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNTdHJpY3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU3RyaWN0UmVnZXg7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1JlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tb250aHNSZWdleCA9IGRlZmF1bHRNb250aHNSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTdHJpY3RSZWdleCAmJiBpc1N0cmljdCA/XG4gICAgICAgICAgICAgICAgdGhpcy5fbW9udGhzU3RyaWN0UmVnZXggOiB0aGlzLl9tb250aHNSZWdleDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbXB1dGVNb250aHNQYXJzZSAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGNtcExlblJldihhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYi5sZW5ndGggLSBhLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaG9ydFBpZWNlcyA9IFtdLCBsb25nUGllY2VzID0gW10sIG1peGVkUGllY2VzID0gW10sXG4gICAgICAgICAgICBpLCBtb207XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgICAgICAvLyBtYWtlIHRoZSByZWdleCBpZiB3ZSBkb24ndCBoYXZlIGl0IGFscmVhZHlcbiAgICAgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgaV0pO1xuICAgICAgICAgICAgc2hvcnRQaWVjZXMucHVzaCh0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpKTtcbiAgICAgICAgICAgIGxvbmdQaWVjZXMucHVzaCh0aGlzLm1vbnRocyhtb20sICcnKSk7XG4gICAgICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKHRoaXMubW9udGhzKG1vbSwgJycpKTtcbiAgICAgICAgICAgIG1peGVkUGllY2VzLnB1c2godGhpcy5tb250aHNTaG9ydChtb20sICcnKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSBtb250aCAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlciBpdFxuICAgICAgICAvLyB3aWxsIG1hdGNoIHRoZSBsb25nZXIgcGllY2UuXG4gICAgICAgIHNob3J0UGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICAgICAgbG9uZ1BpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgICAgIG1peGVkUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgICAgIHNob3J0UGllY2VzW2ldID0gcmVnZXhFc2NhcGUoc2hvcnRQaWVjZXNbaV0pO1xuICAgICAgICAgICAgbG9uZ1BpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKGxvbmdQaWVjZXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAyNDsgaSsrKSB7XG4gICAgICAgICAgICBtaXhlZFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKG1peGVkUGllY2VzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX21vbnRoc1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbWl4ZWRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgICAgICB0aGlzLl9tb250aHNTaG9ydFJlZ2V4ID0gdGhpcy5fbW9udGhzUmVnZXg7XG4gICAgICAgIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbG9uZ1BpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgICAgIHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBzaG9ydFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlRGF0ZSAoeSwgbSwgZCwgaCwgTSwgcywgbXMpIHtcbiAgICAgICAgLy8gY2FuJ3QganVzdCBhcHBseSgpIHRvIGNyZWF0ZSBhIGRhdGU6XG4gICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcS8xODEzNDhcbiAgICAgICAgdmFyIGRhdGU7XG4gICAgICAgIC8vIHRoZSBkYXRlIGNvbnN0cnVjdG9yIHJlbWFwcyB5ZWFycyAwLTk5IHRvIDE5MDAtMTk5OVxuICAgICAgICBpZiAoeSA8IDEwMCAmJiB5ID49IDApIHtcbiAgICAgICAgICAgIC8vIHByZXNlcnZlIGxlYXAgeWVhcnMgdXNpbmcgYSBmdWxsIDQwMCB5ZWFyIGN5Y2xlLCB0aGVuIHJlc2V0XG4gICAgICAgICAgICBkYXRlID0gbmV3IERhdGUoeSArIDQwMCwgbSwgZCwgaCwgTSwgcywgbXMpO1xuICAgICAgICAgICAgaWYgKGlzRmluaXRlKGRhdGUuZ2V0RnVsbFllYXIoKSkpIHtcbiAgICAgICAgICAgICAgICBkYXRlLnNldEZ1bGxZZWFyKHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKHksIG0sIGQsIGgsIE0sIHMsIG1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkYXRlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVVUQ0RhdGUgKHkpIHtcbiAgICAgICAgdmFyIGRhdGU7XG4gICAgICAgIC8vIHRoZSBEYXRlLlVUQyBmdW5jdGlvbiByZW1hcHMgeWVhcnMgMC05OSB0byAxOTAwLTE5OTlcbiAgICAgICAgaWYgKHkgPCAxMDAgJiYgeSA+PSAwKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAvLyBwcmVzZXJ2ZSBsZWFwIHllYXJzIHVzaW5nIGEgZnVsbCA0MDAgeWVhciBjeWNsZSwgdGhlbiByZXNldFxuICAgICAgICAgICAgYXJnc1swXSA9IHkgKyA0MDA7XG4gICAgICAgICAgICBkYXRlID0gbmV3IERhdGUoRGF0ZS5VVEMuYXBwbHkobnVsbCwgYXJncykpO1xuICAgICAgICAgICAgaWYgKGlzRmluaXRlKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSkpIHtcbiAgICAgICAgICAgICAgICBkYXRlLnNldFVUQ0Z1bGxZZWFyKHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKERhdGUuVVRDLmFwcGx5KG51bGwsIGFyZ3VtZW50cykpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgfVxuXG4gICAgLy8gc3RhcnQtb2YtZmlyc3Qtd2VlayAtIHN0YXJ0LW9mLXllYXJcbiAgICBmdW5jdGlvbiBmaXJzdFdlZWtPZmZzZXQoeWVhciwgZG93LCBkb3kpIHtcbiAgICAgICAgdmFyIC8vIGZpcnN0LXdlZWsgZGF5IC0tIHdoaWNoIGphbnVhcnkgaXMgYWx3YXlzIGluIHRoZSBmaXJzdCB3ZWVrICg0IGZvciBpc28sIDEgZm9yIG90aGVyKVxuICAgICAgICAgICAgZndkID0gNyArIGRvdyAtIGRveSxcbiAgICAgICAgICAgIC8vIGZpcnN0LXdlZWsgZGF5IGxvY2FsIHdlZWtkYXkgLS0gd2hpY2ggbG9jYWwgd2Vla2RheSBpcyBmd2RcbiAgICAgICAgICAgIGZ3ZGx3ID0gKDcgKyBjcmVhdGVVVENEYXRlKHllYXIsIDAsIGZ3ZCkuZ2V0VVRDRGF5KCkgLSBkb3cpICUgNztcblxuICAgICAgICByZXR1cm4gLWZ3ZGx3ICsgZndkIC0gMTtcbiAgICB9XG5cbiAgICAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fd2Vla19kYXRlI0NhbGN1bGF0aW5nX2FfZGF0ZV9naXZlbl90aGVfeWVhci4yQ193ZWVrX251bWJlcl9hbmRfd2Vla2RheVxuICAgIGZ1bmN0aW9uIGRheU9mWWVhckZyb21XZWVrcyh5ZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSkge1xuICAgICAgICB2YXIgbG9jYWxXZWVrZGF5ID0gKDcgKyB3ZWVrZGF5IC0gZG93KSAlIDcsXG4gICAgICAgICAgICB3ZWVrT2Zmc2V0ID0gZmlyc3RXZWVrT2Zmc2V0KHllYXIsIGRvdywgZG95KSxcbiAgICAgICAgICAgIGRheU9mWWVhciA9IDEgKyA3ICogKHdlZWsgLSAxKSArIGxvY2FsV2Vla2RheSArIHdlZWtPZmZzZXQsXG4gICAgICAgICAgICByZXNZZWFyLCByZXNEYXlPZlllYXI7XG5cbiAgICAgICAgaWYgKGRheU9mWWVhciA8PSAwKSB7XG4gICAgICAgICAgICByZXNZZWFyID0geWVhciAtIDE7XG4gICAgICAgICAgICByZXNEYXlPZlllYXIgPSBkYXlzSW5ZZWFyKHJlc1llYXIpICsgZGF5T2ZZZWFyO1xuICAgICAgICB9IGVsc2UgaWYgKGRheU9mWWVhciA+IGRheXNJblllYXIoeWVhcikpIHtcbiAgICAgICAgICAgIHJlc1llYXIgPSB5ZWFyICsgMTtcbiAgICAgICAgICAgIHJlc0RheU9mWWVhciA9IGRheU9mWWVhciAtIGRheXNJblllYXIoeWVhcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNZZWFyID0geWVhcjtcbiAgICAgICAgICAgIHJlc0RheU9mWWVhciA9IGRheU9mWWVhcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB5ZWFyOiByZXNZZWFyLFxuICAgICAgICAgICAgZGF5T2ZZZWFyOiByZXNEYXlPZlllYXJcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB3ZWVrT2ZZZWFyKG1vbSwgZG93LCBkb3kpIHtcbiAgICAgICAgdmFyIHdlZWtPZmZzZXQgPSBmaXJzdFdlZWtPZmZzZXQobW9tLnllYXIoKSwgZG93LCBkb3kpLFxuICAgICAgICAgICAgd2VlayA9IE1hdGguZmxvb3IoKG1vbS5kYXlPZlllYXIoKSAtIHdlZWtPZmZzZXQgLSAxKSAvIDcpICsgMSxcbiAgICAgICAgICAgIHJlc1dlZWssIHJlc1llYXI7XG5cbiAgICAgICAgaWYgKHdlZWsgPCAxKSB7XG4gICAgICAgICAgICByZXNZZWFyID0gbW9tLnllYXIoKSAtIDE7XG4gICAgICAgICAgICByZXNXZWVrID0gd2VlayArIHdlZWtzSW5ZZWFyKHJlc1llYXIsIGRvdywgZG95KTtcbiAgICAgICAgfSBlbHNlIGlmICh3ZWVrID4gd2Vla3NJblllYXIobW9tLnllYXIoKSwgZG93LCBkb3kpKSB7XG4gICAgICAgICAgICByZXNXZWVrID0gd2VlayAtIHdlZWtzSW5ZZWFyKG1vbS55ZWFyKCksIGRvdywgZG95KTtcbiAgICAgICAgICAgIHJlc1llYXIgPSBtb20ueWVhcigpICsgMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc1llYXIgPSBtb20ueWVhcigpO1xuICAgICAgICAgICAgcmVzV2VlayA9IHdlZWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd2VlazogcmVzV2VlayxcbiAgICAgICAgICAgIHllYXI6IHJlc1llYXJcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB3ZWVrc0luWWVhcih5ZWFyLCBkb3csIGRveSkge1xuICAgICAgICB2YXIgd2Vla09mZnNldCA9IGZpcnN0V2Vla09mZnNldCh5ZWFyLCBkb3csIGRveSksXG4gICAgICAgICAgICB3ZWVrT2Zmc2V0TmV4dCA9IGZpcnN0V2Vla09mZnNldCh5ZWFyICsgMSwgZG93LCBkb3kpO1xuICAgICAgICByZXR1cm4gKGRheXNJblllYXIoeWVhcikgLSB3ZWVrT2Zmc2V0ICsgd2Vla09mZnNldE5leHQpIC8gNztcbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbigndycsIFsnd3cnLCAyXSwgJ3dvJywgJ3dlZWsnKTtcbiAgICBhZGRGb3JtYXRUb2tlbignVycsIFsnV1cnLCAyXSwgJ1dvJywgJ2lzb1dlZWsnKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnd2VlaycsICd3Jyk7XG4gICAgYWRkVW5pdEFsaWFzKCdpc29XZWVrJywgJ1cnKTtcblxuICAgIC8vIFBSSU9SSVRJRVNcblxuICAgIGFkZFVuaXRQcmlvcml0eSgnd2VlaycsIDUpO1xuICAgIGFkZFVuaXRQcmlvcml0eSgnaXNvV2VlaycsIDUpO1xuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbigndycsICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ3d3JywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ1cnLCAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdXVycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcblxuICAgIGFkZFdlZWtQYXJzZVRva2VuKFsndycsICd3dycsICdXJywgJ1dXJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgICAgICB3ZWVrW3Rva2VuLnN1YnN0cigwLCAxKV0gPSB0b0ludChpbnB1dCk7XG4gICAgfSk7XG5cbiAgICAvLyBIRUxQRVJTXG5cbiAgICAvLyBMT0NBTEVTXG5cbiAgICBmdW5jdGlvbiBsb2NhbGVXZWVrIChtb20pIHtcbiAgICAgICAgcmV0dXJuIHdlZWtPZlllYXIobW9tLCB0aGlzLl93ZWVrLmRvdywgdGhpcy5fd2Vlay5kb3kpLndlZWs7XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRMb2NhbGVXZWVrID0ge1xuICAgICAgICBkb3cgOiAwLCAvLyBTdW5kYXkgaXMgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2Vlay5cbiAgICAgICAgZG95IDogNiAgLy8gVGhlIHdlZWsgdGhhdCBjb250YWlucyBKYW4gNnRoIGlzIHRoZSBmaXJzdCB3ZWVrIG9mIHRoZSB5ZWFyLlxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBsb2NhbGVGaXJzdERheU9mV2VlayAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93ZWVrLmRvdztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2NhbGVGaXJzdERheU9mWWVhciAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93ZWVrLmRveTtcbiAgICB9XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBnZXRTZXRXZWVrIChpbnB1dCkge1xuICAgICAgICB2YXIgd2VlayA9IHRoaXMubG9jYWxlRGF0YSgpLndlZWsodGhpcyk7XG4gICAgICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2VlayA6IHRoaXMuYWRkKChpbnB1dCAtIHdlZWspICogNywgJ2QnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTZXRJU09XZWVrIChpbnB1dCkge1xuICAgICAgICB2YXIgd2VlayA9IHdlZWtPZlllYXIodGhpcywgMSwgNCkud2VlaztcbiAgICAgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyB3ZWVrIDogdGhpcy5hZGQoKGlucHV0IC0gd2VlaykgKiA3LCAnZCcpO1xuICAgIH1cblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdkJywgMCwgJ2RvJywgJ2RheScpO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ2RkJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXNNaW4odGhpcywgZm9ybWF0KTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdkZGQnLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5c1Nob3J0KHRoaXMsIGZvcm1hdCk7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignZGRkZCcsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzKHRoaXMsIGZvcm1hdCk7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignZScsIDAsIDAsICd3ZWVrZGF5Jyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oJ0UnLCAwLCAwLCAnaXNvV2Vla2RheScpO1xuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCdkYXknLCAnZCcpO1xuICAgIGFkZFVuaXRBbGlhcygnd2Vla2RheScsICdlJyk7XG4gICAgYWRkVW5pdEFsaWFzKCdpc29XZWVrZGF5JywgJ0UnKTtcblxuICAgIC8vIFBSSU9SSVRZXG4gICAgYWRkVW5pdFByaW9yaXR5KCdkYXknLCAxMSk7XG4gICAgYWRkVW5pdFByaW9yaXR5KCd3ZWVrZGF5JywgMTEpO1xuICAgIGFkZFVuaXRQcmlvcml0eSgnaXNvV2Vla2RheScsIDExKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ2QnLCAgICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2UnLCAgICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0UnLCAgICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2RkJywgICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzTWluUmVnZXgoaXNTdHJpY3QpO1xuICAgIH0pO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2RkZCcsICAgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c1Nob3J0UmVnZXgoaXNTdHJpY3QpO1xuICAgIH0pO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2RkZGQnLCAgIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNSZWdleChpc1N0cmljdCk7XG4gICAgfSk7XG5cbiAgICBhZGRXZWVrUGFyc2VUb2tlbihbJ2RkJywgJ2RkZCcsICdkZGRkJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgICAgICB2YXIgd2Vla2RheSA9IGNvbmZpZy5fbG9jYWxlLndlZWtkYXlzUGFyc2UoaW5wdXQsIHRva2VuLCBjb25maWcuX3N0cmljdCk7XG4gICAgICAgIC8vIGlmIHdlIGRpZG4ndCBnZXQgYSB3ZWVrZGF5IG5hbWUsIG1hcmsgdGhlIGRhdGUgYXMgaW52YWxpZFxuICAgICAgICBpZiAod2Vla2RheSAhPSBudWxsKSB7XG4gICAgICAgICAgICB3ZWVrLmQgPSB3ZWVrZGF5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaW52YWxpZFdlZWtkYXkgPSBpbnB1dDtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgYWRkV2Vla1BhcnNlVG9rZW4oWydkJywgJ2UnLCAnRSddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICAgICAgd2Vla1t0b2tlbl0gPSB0b0ludChpbnB1dCk7XG4gICAgfSk7XG5cbiAgICAvLyBIRUxQRVJTXG5cbiAgICBmdW5jdGlvbiBwYXJzZVdlZWtkYXkoaW5wdXQsIGxvY2FsZSkge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc05hTihpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludChpbnB1dCwgMTApO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5wdXQgPSBsb2NhbGUud2Vla2RheXNQYXJzZShpbnB1dCk7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZUlzb1dlZWtkYXkoaW5wdXQsIGxvY2FsZSkge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c1BhcnNlKGlucHV0KSAlIDcgfHwgNztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNOYU4oaW5wdXQpID8gbnVsbCA6IGlucHV0O1xuICAgIH1cblxuICAgIC8vIExPQ0FMRVNcbiAgICBmdW5jdGlvbiBzaGlmdFdlZWtkYXlzICh3cywgbikge1xuICAgICAgICByZXR1cm4gd3Muc2xpY2UobiwgNykuY29uY2F0KHdzLnNsaWNlKDAsIG4pKTtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdExvY2FsZVdlZWtkYXlzID0gJ1N1bmRheV9Nb25kYXlfVHVlc2RheV9XZWRuZXNkYXlfVGh1cnNkYXlfRnJpZGF5X1NhdHVyZGF5Jy5zcGxpdCgnXycpO1xuICAgIGZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzIChtLCBmb3JtYXQpIHtcbiAgICAgICAgdmFyIHdlZWtkYXlzID0gaXNBcnJheSh0aGlzLl93ZWVrZGF5cykgPyB0aGlzLl93ZWVrZGF5cyA6XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1sobSAmJiBtICE9PSB0cnVlICYmIHRoaXMuX3dlZWtkYXlzLmlzRm9ybWF0LnRlc3QoZm9ybWF0KSkgPyAnZm9ybWF0JyA6ICdzdGFuZGFsb25lJ107XG4gICAgICAgIHJldHVybiAobSA9PT0gdHJ1ZSkgPyBzaGlmdFdlZWtkYXlzKHdlZWtkYXlzLCB0aGlzLl93ZWVrLmRvdylcbiAgICAgICAgICAgIDogKG0pID8gd2Vla2RheXNbbS5kYXkoKV0gOiB3ZWVrZGF5cztcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdExvY2FsZVdlZWtkYXlzU2hvcnQgPSAnU3VuX01vbl9UdWVfV2VkX1RodV9GcmlfU2F0Jy5zcGxpdCgnXycpO1xuICAgIGZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzU2hvcnQgKG0pIHtcbiAgICAgICAgcmV0dXJuIChtID09PSB0cnVlKSA/IHNoaWZ0V2Vla2RheXModGhpcy5fd2Vla2RheXNTaG9ydCwgdGhpcy5fd2Vlay5kb3cpXG4gICAgICAgICAgICA6IChtKSA/IHRoaXMuX3dlZWtkYXlzU2hvcnRbbS5kYXkoKV0gOiB0aGlzLl93ZWVrZGF5c1Nob3J0O1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0TG9jYWxlV2Vla2RheXNNaW4gPSAnU3VfTW9fVHVfV2VfVGhfRnJfU2EnLnNwbGl0KCdfJyk7XG4gICAgZnVuY3Rpb24gbG9jYWxlV2Vla2RheXNNaW4gKG0pIHtcbiAgICAgICAgcmV0dXJuIChtID09PSB0cnVlKSA/IHNoaWZ0V2Vla2RheXModGhpcy5fd2Vla2RheXNNaW4sIHRoaXMuX3dlZWsuZG93KVxuICAgICAgICAgICAgOiAobSkgPyB0aGlzLl93ZWVrZGF5c01pblttLmRheSgpXSA6IHRoaXMuX3dlZWtkYXlzTWluO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVN0cmljdFBhcnNlJDEod2Vla2RheU5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG4gICAgICAgIHZhciBpLCBpaSwgbW9tLCBsbGMgPSB3ZWVrZGF5TmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fbWluV2Vla2RheXNQYXJzZSA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNzsgKytpKSB7XG4gICAgICAgICAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCAxXSkuZGF5KGkpO1xuICAgICAgICAgICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2VbaV0gPSB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlW2ldID0gdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZVtpXSA9IHRoaXMud2Vla2RheXMobW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgICAgIGlmIChmb3JtYXQgPT09ICdkZGRkJykge1xuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3dlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0ID09PSAnZGRkJykge1xuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoZm9ybWF0ID09PSAnZGRkZCcpIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0ID09PSAnZGRkJykge1xuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzUGFyc2UgKHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuICAgICAgICB2YXIgaSwgbW9tLCByZWdleDtcblxuICAgICAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlU3RyaWN0UGFyc2UkMS5jYWxsKHRoaXMsIHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuXG4gICAgICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIDFdKS5kYXkoaSk7XG4gICAgICAgICAgICBpZiAoc3RyaWN0ICYmICF0aGlzLl9mdWxsV2Vla2RheXNQYXJzZVtpXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLndlZWtkYXlzKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnXFxcXC4/JykgKyAnJCcsICdpJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLndlZWtkYXlzU2hvcnQobW9tLCAnJykucmVwbGFjZSgnLicsICdcXFxcLj8nKSArICckJywgJ2knKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnXFxcXC4/JykgKyAnJCcsICdpJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgICAgICByZWdleCA9ICdeJyArIHRoaXMud2Vla2RheXMobW9tLCAnJykgKyAnfF4nICsgdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpICsgJ3xeJyArIHRoaXMud2Vla2RheXNNaW4obW9tLCAnJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZVtpXSA9IG5ldyBSZWdFeHAocmVnZXgucmVwbGFjZSgnLicsICcnKSwgJ2knKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRlc3QgdGhlIHJlZ2V4XG4gICAgICAgICAgICBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ2RkZGQnICYmIHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdkZGQnICYmIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnZGQnICYmIHRoaXMuX21pbldlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXN0cmljdCAmJiB0aGlzLl93ZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBnZXRTZXREYXlPZldlZWsgKGlucHV0KSB7XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsID8gdGhpcyA6IE5hTjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGF5ID0gdGhpcy5faXNVVEMgPyB0aGlzLl9kLmdldFVUQ0RheSgpIDogdGhpcy5fZC5nZXREYXkoKTtcbiAgICAgICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlucHV0ID0gcGFyc2VXZWVrZGF5KGlucHV0LCB0aGlzLmxvY2FsZURhdGEoKSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hZGQoaW5wdXQgLSBkYXksICdkJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZGF5O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U2V0TG9jYWxlRGF5T2ZXZWVrIChpbnB1dCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdlZWtkYXkgPSAodGhpcy5kYXkoKSArIDcgLSB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3cpICUgNztcbiAgICAgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyB3ZWVrZGF5IDogdGhpcy5hZGQoaW5wdXQgLSB3ZWVrZGF5LCAnZCcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFNldElTT0RheU9mV2VlayAoaW5wdXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYmVoYXZlcyB0aGUgc2FtZSBhcyBtb21lbnQjZGF5IGV4Y2VwdFxuICAgICAgICAvLyBhcyBhIGdldHRlciwgcmV0dXJucyA3IGluc3RlYWQgb2YgMCAoMS03IHJhbmdlIGluc3RlYWQgb2YgMC02KVxuICAgICAgICAvLyBhcyBhIHNldHRlciwgc3VuZGF5IHNob3VsZCBiZWxvbmcgdG8gdGhlIHByZXZpb3VzIHdlZWsuXG5cbiAgICAgICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHZhciB3ZWVrZGF5ID0gcGFyc2VJc29XZWVrZGF5KGlucHV0LCB0aGlzLmxvY2FsZURhdGEoKSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXkodGhpcy5kYXkoKSAlIDcgPyB3ZWVrZGF5IDogd2Vla2RheSAtIDcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF5KCkgfHwgNztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBkZWZhdWx0V2Vla2RheXNSZWdleCA9IG1hdGNoV29yZDtcbiAgICBmdW5jdGlvbiB3ZWVrZGF5c1JlZ2V4IChpc1N0cmljdCkge1xuICAgICAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlV2Vla2RheXNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXg7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNSZWdleCA9IGRlZmF1bHRXZWVrZGF5c1JlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXggOiB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRXZWVrZGF5c1Nob3J0UmVnZXggPSBtYXRjaFdvcmQ7XG4gICAgZnVuY3Rpb24gd2Vla2RheXNTaG9ydFJlZ2V4IChpc1N0cmljdCkge1xuICAgICAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlV2Vla2RheXNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzU2hvcnRSZWdleCcpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4ID0gZGVmYXVsdFdlZWtkYXlzU2hvcnRSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleCA6IHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBkZWZhdWx0V2Vla2RheXNNaW5SZWdleCA9IG1hdGNoV29yZDtcbiAgICBmdW5jdGlvbiB3ZWVrZGF5c01pblJlZ2V4IChpc1N0cmljdCkge1xuICAgICAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlV2Vla2RheXNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXg7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c01pblJlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNNaW5SZWdleCcpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNNaW5SZWdleCA9IGRlZmF1bHRXZWVrZGF5c01pblJlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXggOiB0aGlzLl93ZWVrZGF5c01pblJlZ2V4O1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBjb21wdXRlV2Vla2RheXNQYXJzZSAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGNtcExlblJldihhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYi5sZW5ndGggLSBhLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtaW5QaWVjZXMgPSBbXSwgc2hvcnRQaWVjZXMgPSBbXSwgbG9uZ1BpZWNlcyA9IFtdLCBtaXhlZFBpZWNlcyA9IFtdLFxuICAgICAgICAgICAgaSwgbW9tLCBtaW5wLCBzaG9ydHAsIGxvbmdwO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgICAgICAvLyBtYWtlIHRoZSByZWdleCBpZiB3ZSBkb24ndCBoYXZlIGl0IGFscmVhZHlcbiAgICAgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgMV0pLmRheShpKTtcbiAgICAgICAgICAgIG1pbnAgPSB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpO1xuICAgICAgICAgICAgc2hvcnRwID0gdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpO1xuICAgICAgICAgICAgbG9uZ3AgPSB0aGlzLndlZWtkYXlzKG1vbSwgJycpO1xuICAgICAgICAgICAgbWluUGllY2VzLnB1c2gobWlucCk7XG4gICAgICAgICAgICBzaG9ydFBpZWNlcy5wdXNoKHNob3J0cCk7XG4gICAgICAgICAgICBsb25nUGllY2VzLnB1c2gobG9uZ3ApO1xuICAgICAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChtaW5wKTtcbiAgICAgICAgICAgIG1peGVkUGllY2VzLnB1c2goc2hvcnRwKTtcbiAgICAgICAgICAgIG1peGVkUGllY2VzLnB1c2gobG9uZ3ApO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNvcnRpbmcgbWFrZXMgc3VyZSBpZiBvbmUgd2Vla2RheSAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlciBpdFxuICAgICAgICAvLyB3aWxsIG1hdGNoIHRoZSBsb25nZXIgcGllY2UuXG4gICAgICAgIG1pblBpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgICAgIHNob3J0UGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICAgICAgbG9uZ1BpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgICAgIG1peGVkUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDc7IGkrKykge1xuICAgICAgICAgICAgc2hvcnRQaWVjZXNbaV0gPSByZWdleEVzY2FwZShzaG9ydFBpZWNlc1tpXSk7XG4gICAgICAgICAgICBsb25nUGllY2VzW2ldID0gcmVnZXhFc2NhcGUobG9uZ1BpZWNlc1tpXSk7XG4gICAgICAgICAgICBtaXhlZFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKG1peGVkUGllY2VzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3dlZWtkYXlzUmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBtaXhlZFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleCA9IHRoaXMuX3dlZWtkYXlzUmVnZXg7XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzTWluUmVnZXggPSB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuXG4gICAgICAgIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBsb25nUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICAgICAgdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgc2hvcnRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgICAgICB0aGlzLl93ZWVrZGF5c01pblN0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbWluUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBmdW5jdGlvbiBoRm9ybWF0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ob3VycygpICUgMTIgfHwgMTI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24ga0Zvcm1hdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaG91cnMoKSB8fCAyNDtcbiAgICB9XG5cbiAgICBhZGRGb3JtYXRUb2tlbignSCcsIFsnSEgnLCAyXSwgMCwgJ2hvdXInKTtcbiAgICBhZGRGb3JtYXRUb2tlbignaCcsIFsnaGgnLCAyXSwgMCwgaEZvcm1hdCk7XG4gICAgYWRkRm9ybWF0VG9rZW4oJ2snLCBbJ2trJywgMl0sIDAsIGtGb3JtYXQpO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ2htbScsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICcnICsgaEZvcm1hdC5hcHBseSh0aGlzKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdobW1zcycsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICcnICsgaEZvcm1hdC5hcHBseSh0aGlzKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKSArXG4gICAgICAgICAgICB6ZXJvRmlsbCh0aGlzLnNlY29uZHMoKSwgMik7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignSG1tJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJycgKyB0aGlzLmhvdXJzKCkgKyB6ZXJvRmlsbCh0aGlzLm1pbnV0ZXMoKSwgMik7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignSG1tc3MnLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAnJyArIHRoaXMuaG91cnMoKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKSArXG4gICAgICAgICAgICB6ZXJvRmlsbCh0aGlzLnNlY29uZHMoKSwgMik7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBtZXJpZGllbSAodG9rZW4sIGxvd2VyY2FzZSkge1xuICAgICAgICBhZGRGb3JtYXRUb2tlbih0b2tlbiwgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1lcmlkaWVtKHRoaXMuaG91cnMoKSwgdGhpcy5taW51dGVzKCksIGxvd2VyY2FzZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG1lcmlkaWVtKCdhJywgdHJ1ZSk7XG4gICAgbWVyaWRpZW0oJ0EnLCBmYWxzZSk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ2hvdXInLCAnaCcpO1xuXG4gICAgLy8gUFJJT1JJVFlcbiAgICBhZGRVbml0UHJpb3JpdHkoJ2hvdXInLCAxMyk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBmdW5jdGlvbiBtYXRjaE1lcmlkaWVtIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUuX21lcmlkaWVtUGFyc2U7XG4gICAgfVxuXG4gICAgYWRkUmVnZXhUb2tlbignYScsICBtYXRjaE1lcmlkaWVtKTtcbiAgICBhZGRSZWdleFRva2VuKCdBJywgIG1hdGNoTWVyaWRpZW0pO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0gnLCAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdoJywgIG1hdGNoMXRvMik7XG4gICAgYWRkUmVnZXhUb2tlbignaycsICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0hIJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2hoJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2trJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuXG4gICAgYWRkUmVnZXhUb2tlbignaG1tJywgbWF0Y2gzdG80KTtcbiAgICBhZGRSZWdleFRva2VuKCdobW1zcycsIG1hdGNoNXRvNik7XG4gICAgYWRkUmVnZXhUb2tlbignSG1tJywgbWF0Y2gzdG80KTtcbiAgICBhZGRSZWdleFRva2VuKCdIbW1zcycsIG1hdGNoNXRvNik7XG5cbiAgICBhZGRQYXJzZVRva2VuKFsnSCcsICdISCddLCBIT1VSKTtcbiAgICBhZGRQYXJzZVRva2VuKFsnaycsICdrayddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgdmFyIGtJbnB1dCA9IHRvSW50KGlucHV0KTtcbiAgICAgICAgYXJyYXlbSE9VUl0gPSBrSW5wdXQgPT09IDI0ID8gMCA6IGtJbnB1dDtcbiAgICB9KTtcbiAgICBhZGRQYXJzZVRva2VuKFsnYScsICdBJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICBjb25maWcuX2lzUG0gPSBjb25maWcuX2xvY2FsZS5pc1BNKGlucHV0KTtcbiAgICAgICAgY29uZmlnLl9tZXJpZGllbSA9IGlucHV0O1xuICAgIH0pO1xuICAgIGFkZFBhcnNlVG9rZW4oWydoJywgJ2hoJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0KTtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9IHRydWU7XG4gICAgfSk7XG4gICAgYWRkUGFyc2VUb2tlbignaG1tJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIHZhciBwb3MgPSBpbnB1dC5sZW5ndGggLSAyO1xuICAgICAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MpKTtcbiAgICAgICAgYXJyYXlbTUlOVVRFXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MpKTtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9IHRydWU7XG4gICAgfSk7XG4gICAgYWRkUGFyc2VUb2tlbignaG1tc3MnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgdmFyIHBvczEgPSBpbnB1dC5sZW5ndGggLSA0O1xuICAgICAgICB2YXIgcG9zMiA9IGlucHV0Lmxlbmd0aCAtIDI7XG4gICAgICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQuc3Vic3RyKDAsIHBvczEpKTtcbiAgICAgICAgYXJyYXlbTUlOVVRFXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MxLCAyKSk7XG4gICAgICAgIGFycmF5W1NFQ09ORF0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMikpO1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBhZGRQYXJzZVRva2VuKCdIbW0nLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgdmFyIHBvcyA9IGlucHV0Lmxlbmd0aCAtIDI7XG4gICAgICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQuc3Vic3RyKDAsIHBvcykpO1xuICAgICAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvcykpO1xuICAgIH0pO1xuICAgIGFkZFBhcnNlVG9rZW4oJ0htbXNzJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIHZhciBwb3MxID0gaW5wdXQubGVuZ3RoIC0gNDtcbiAgICAgICAgdmFyIHBvczIgPSBpbnB1dC5sZW5ndGggLSAyO1xuICAgICAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MxKSk7XG4gICAgICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMSwgMikpO1xuICAgICAgICBhcnJheVtTRUNPTkRdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczIpKTtcbiAgICB9KTtcblxuICAgIC8vIExPQ0FMRVNcblxuICAgIGZ1bmN0aW9uIGxvY2FsZUlzUE0gKGlucHV0KSB7XG4gICAgICAgIC8vIElFOCBRdWlya3MgTW9kZSAmIElFNyBTdGFuZGFyZHMgTW9kZSBkbyBub3QgYWxsb3cgYWNjZXNzaW5nIHN0cmluZ3MgbGlrZSBhcnJheXNcbiAgICAgICAgLy8gVXNpbmcgY2hhckF0IHNob3VsZCBiZSBtb3JlIGNvbXBhdGlibGUuXG4gICAgICAgIHJldHVybiAoKGlucHV0ICsgJycpLnRvTG93ZXJDYXNlKCkuY2hhckF0KDApID09PSAncCcpO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0TG9jYWxlTWVyaWRpZW1QYXJzZSA9IC9bYXBdXFwuP20/XFwuPy9pO1xuICAgIGZ1bmN0aW9uIGxvY2FsZU1lcmlkaWVtIChob3VycywgbWludXRlcywgaXNMb3dlcikge1xuICAgICAgICBpZiAoaG91cnMgPiAxMSkge1xuICAgICAgICAgICAgcmV0dXJuIGlzTG93ZXIgPyAncG0nIDogJ1BNJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpc0xvd2VyID8gJ2FtJyA6ICdBTSc7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8vIE1PTUVOVFNcblxuICAgIC8vIFNldHRpbmcgdGhlIGhvdXIgc2hvdWxkIGtlZXAgdGhlIHRpbWUsIGJlY2F1c2UgdGhlIHVzZXIgZXhwbGljaXRseVxuICAgIC8vIHNwZWNpZmllZCB3aGljaCBob3VyIHRoZXkgd2FudC4gU28gdHJ5aW5nIHRvIG1haW50YWluIHRoZSBzYW1lIGhvdXIgKGluXG4gICAgLy8gYSBuZXcgdGltZXpvbmUpIG1ha2VzIHNlbnNlLiBBZGRpbmcvc3VidHJhY3RpbmcgaG91cnMgZG9lcyBub3QgZm9sbG93XG4gICAgLy8gdGhpcyBydWxlLlxuICAgIHZhciBnZXRTZXRIb3VyID0gbWFrZUdldFNldCgnSG91cnMnLCB0cnVlKTtcblxuICAgIHZhciBiYXNlQ29uZmlnID0ge1xuICAgICAgICBjYWxlbmRhcjogZGVmYXVsdENhbGVuZGFyLFxuICAgICAgICBsb25nRGF0ZUZvcm1hdDogZGVmYXVsdExvbmdEYXRlRm9ybWF0LFxuICAgICAgICBpbnZhbGlkRGF0ZTogZGVmYXVsdEludmFsaWREYXRlLFxuICAgICAgICBvcmRpbmFsOiBkZWZhdWx0T3JkaW5hbCxcbiAgICAgICAgZGF5T2ZNb250aE9yZGluYWxQYXJzZTogZGVmYXVsdERheU9mTW9udGhPcmRpbmFsUGFyc2UsXG4gICAgICAgIHJlbGF0aXZlVGltZTogZGVmYXVsdFJlbGF0aXZlVGltZSxcblxuICAgICAgICBtb250aHM6IGRlZmF1bHRMb2NhbGVNb250aHMsXG4gICAgICAgIG1vbnRoc1Nob3J0OiBkZWZhdWx0TG9jYWxlTW9udGhzU2hvcnQsXG5cbiAgICAgICAgd2VlazogZGVmYXVsdExvY2FsZVdlZWssXG5cbiAgICAgICAgd2Vla2RheXM6IGRlZmF1bHRMb2NhbGVXZWVrZGF5cyxcbiAgICAgICAgd2Vla2RheXNNaW46IGRlZmF1bHRMb2NhbGVXZWVrZGF5c01pbixcbiAgICAgICAgd2Vla2RheXNTaG9ydDogZGVmYXVsdExvY2FsZVdlZWtkYXlzU2hvcnQsXG5cbiAgICAgICAgbWVyaWRpZW1QYXJzZTogZGVmYXVsdExvY2FsZU1lcmlkaWVtUGFyc2VcbiAgICB9O1xuXG4gICAgLy8gaW50ZXJuYWwgc3RvcmFnZSBmb3IgbG9jYWxlIGNvbmZpZyBmaWxlc1xuICAgIHZhciBsb2NhbGVzID0ge307XG4gICAgdmFyIGxvY2FsZUZhbWlsaWVzID0ge307XG4gICAgdmFyIGdsb2JhbExvY2FsZTtcblxuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZUxvY2FsZShrZXkpIHtcbiAgICAgICAgcmV0dXJuIGtleSA/IGtleS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJ18nLCAnLScpIDoga2V5O1xuICAgIH1cblxuICAgIC8vIHBpY2sgdGhlIGxvY2FsZSBmcm9tIHRoZSBhcnJheVxuICAgIC8vIHRyeSBbJ2VuLWF1JywgJ2VuLWdiJ10gYXMgJ2VuLWF1JywgJ2VuLWdiJywgJ2VuJywgYXMgaW4gbW92ZSB0aHJvdWdoIHRoZSBsaXN0IHRyeWluZyBlYWNoXG4gICAgLy8gc3Vic3RyaW5nIGZyb20gbW9zdCBzcGVjaWZpYyB0byBsZWFzdCwgYnV0IG1vdmUgdG8gdGhlIG5leHQgYXJyYXkgaXRlbSBpZiBpdCdzIGEgbW9yZSBzcGVjaWZpYyB2YXJpYW50IHRoYW4gdGhlIGN1cnJlbnQgcm9vdFxuICAgIGZ1bmN0aW9uIGNob29zZUxvY2FsZShuYW1lcykge1xuICAgICAgICB2YXIgaSA9IDAsIGosIG5leHQsIGxvY2FsZSwgc3BsaXQ7XG5cbiAgICAgICAgd2hpbGUgKGkgPCBuYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHNwbGl0ID0gbm9ybWFsaXplTG9jYWxlKG5hbWVzW2ldKS5zcGxpdCgnLScpO1xuICAgICAgICAgICAgaiA9IHNwbGl0Lmxlbmd0aDtcbiAgICAgICAgICAgIG5leHQgPSBub3JtYWxpemVMb2NhbGUobmFtZXNbaSArIDFdKTtcbiAgICAgICAgICAgIG5leHQgPSBuZXh0ID8gbmV4dC5zcGxpdCgnLScpIDogbnVsbDtcbiAgICAgICAgICAgIHdoaWxlIChqID4gMCkge1xuICAgICAgICAgICAgICAgIGxvY2FsZSA9IGxvYWRMb2NhbGUoc3BsaXQuc2xpY2UoMCwgaikuam9pbignLScpKTtcbiAgICAgICAgICAgICAgICBpZiAobG9jYWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChuZXh0ICYmIG5leHQubGVuZ3RoID49IGogJiYgY29tcGFyZUFycmF5cyhzcGxpdCwgbmV4dCwgdHJ1ZSkgPj0gaiAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy90aGUgbmV4dCBhcnJheSBpdGVtIGlzIGJldHRlciB0aGFuIGEgc2hhbGxvd2VyIHN1YnN0cmluZyBvZiB0aGlzIG9uZVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgai0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnbG9iYWxMb2NhbGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9hZExvY2FsZShuYW1lKSB7XG4gICAgICAgIHZhciBvbGRMb2NhbGUgPSBudWxsO1xuICAgICAgICAvLyBUT0RPOiBGaW5kIGEgYmV0dGVyIHdheSB0byByZWdpc3RlciBhbmQgbG9hZCBhbGwgdGhlIGxvY2FsZXMgaW4gTm9kZVxuICAgICAgICBpZiAoIWxvY2FsZXNbbmFtZV0gJiYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSAmJlxuICAgICAgICAgICAgICAgIG1vZHVsZSAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBvbGRMb2NhbGUgPSBnbG9iYWxMb2NhbGUuX2FiYnI7XG4gICAgICAgICAgICAgICAgdmFyIGFsaWFzZWRSZXF1aXJlID0gcmVxdWlyZTtcbiAgICAgICAgICAgICAgICBhbGlhc2VkUmVxdWlyZSgnLi9sb2NhbGUvJyArIG5hbWUpO1xuICAgICAgICAgICAgICAgIGdldFNldEdsb2JhbExvY2FsZShvbGRMb2NhbGUpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIGZ1bmN0aW9uIHdpbGwgbG9hZCBsb2NhbGUgYW5kIHRoZW4gc2V0IHRoZSBnbG9iYWwgbG9jYWxlLiAgSWZcbiAgICAvLyBubyBhcmd1bWVudHMgYXJlIHBhc3NlZCBpbiwgaXQgd2lsbCBzaW1wbHkgcmV0dXJuIHRoZSBjdXJyZW50IGdsb2JhbFxuICAgIC8vIGxvY2FsZSBrZXkuXG4gICAgZnVuY3Rpb24gZ2V0U2V0R2xvYmFsTG9jYWxlIChrZXksIHZhbHVlcykge1xuICAgICAgICB2YXIgZGF0YTtcbiAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlcykpIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gZ2V0TG9jYWxlKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gZGVmaW5lTG9jYWxlKGtleSwgdmFsdWVzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAvLyBtb21lbnQuZHVyYXRpb24uX2xvY2FsZSA9IG1vbWVudC5fbG9jYWxlID0gZGF0YTtcbiAgICAgICAgICAgICAgICBnbG9iYWxMb2NhbGUgPSBkYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCh0eXBlb2YgY29uc29sZSAhPT0gICd1bmRlZmluZWQnKSAmJiBjb25zb2xlLndhcm4pIHtcbiAgICAgICAgICAgICAgICAgICAgLy93YXJuIHVzZXIgaWYgYXJndW1lbnRzIGFyZSBwYXNzZWQgYnV0IHRoZSBsb2NhbGUgY291bGQgbm90IGJlIHNldFxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0xvY2FsZSAnICsga2V5ICsgICcgbm90IGZvdW5kLiBEaWQgeW91IGZvcmdldCB0byBsb2FkIGl0PycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBnbG9iYWxMb2NhbGUuX2FiYnI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVmaW5lTG9jYWxlIChuYW1lLCBjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGxvY2FsZSwgcGFyZW50Q29uZmlnID0gYmFzZUNvbmZpZztcbiAgICAgICAgICAgIGNvbmZpZy5hYmJyID0gbmFtZTtcbiAgICAgICAgICAgIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGVTaW1wbGUoJ2RlZmluZUxvY2FsZU92ZXJyaWRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICd1c2UgbW9tZW50LnVwZGF0ZUxvY2FsZShsb2NhbGVOYW1lLCBjb25maWcpIHRvIGNoYW5nZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdhbiBleGlzdGluZyBsb2NhbGUuIG1vbWVudC5kZWZpbmVMb2NhbGUobG9jYWxlTmFtZSwgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnY29uZmlnKSBzaG91bGQgb25seSBiZSB1c2VkIGZvciBjcmVhdGluZyBhIG5ldyBsb2NhbGUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnU2VlIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvZGVmaW5lLWxvY2FsZS8gZm9yIG1vcmUgaW5mby4nKTtcbiAgICAgICAgICAgICAgICBwYXJlbnRDb25maWcgPSBsb2NhbGVzW25hbWVdLl9jb25maWc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZy5wYXJlbnRMb2NhbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChsb2NhbGVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50Q29uZmlnID0gbG9jYWxlc1tjb25maWcucGFyZW50TG9jYWxlXS5fY29uZmlnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZSA9IGxvYWRMb2NhbGUoY29uZmlnLnBhcmVudExvY2FsZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsb2NhbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Q29uZmlnID0gbG9jYWxlLl9jb25maWc7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxvY2FsZUZhbWlsaWVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxlRmFtaWxpZXNbY29uZmlnLnBhcmVudExvY2FsZV0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZUZhbWlsaWVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnOiBjb25maWdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2NhbGVzW25hbWVdID0gbmV3IExvY2FsZShtZXJnZUNvbmZpZ3MocGFyZW50Q29uZmlnLCBjb25maWcpKTtcblxuICAgICAgICAgICAgaWYgKGxvY2FsZUZhbWlsaWVzW25hbWVdKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxlRmFtaWxpZXNbbmFtZV0uZm9yRWFjaChmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICBkZWZpbmVMb2NhbGUoeC5uYW1lLCB4LmNvbmZpZyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGJhY2t3YXJkcyBjb21wYXQgZm9yIG5vdzogYWxzbyBzZXQgdGhlIGxvY2FsZVxuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHdlIHNldCB0aGUgbG9jYWxlIEFGVEVSIGFsbCBjaGlsZCBsb2NhbGVzIGhhdmUgYmVlblxuICAgICAgICAgICAgLy8gY3JlYXRlZCwgc28gd2Ugd29uJ3QgZW5kIHVwIHdpdGggdGhlIGNoaWxkIGxvY2FsZSBzZXQuXG4gICAgICAgICAgICBnZXRTZXRHbG9iYWxMb2NhbGUobmFtZSk7XG5cblxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsZXNbbmFtZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB1c2VmdWwgZm9yIHRlc3RpbmdcbiAgICAgICAgICAgIGRlbGV0ZSBsb2NhbGVzW25hbWVdO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVMb2NhbGUobmFtZSwgY29uZmlnKSB7XG4gICAgICAgIGlmIChjb25maWcgIT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGxvY2FsZSwgdG1wTG9jYWxlLCBwYXJlbnRDb25maWcgPSBiYXNlQ29uZmlnO1xuICAgICAgICAgICAgLy8gTUVSR0VcbiAgICAgICAgICAgIHRtcExvY2FsZSA9IGxvYWRMb2NhbGUobmFtZSk7XG4gICAgICAgICAgICBpZiAodG1wTG9jYWxlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRDb25maWcgPSB0bXBMb2NhbGUuX2NvbmZpZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbmZpZyA9IG1lcmdlQ29uZmlncyhwYXJlbnRDb25maWcsIGNvbmZpZyk7XG4gICAgICAgICAgICBsb2NhbGUgPSBuZXcgTG9jYWxlKGNvbmZpZyk7XG4gICAgICAgICAgICBsb2NhbGUucGFyZW50TG9jYWxlID0gbG9jYWxlc1tuYW1lXTtcbiAgICAgICAgICAgIGxvY2FsZXNbbmFtZV0gPSBsb2NhbGU7XG5cbiAgICAgICAgICAgIC8vIGJhY2t3YXJkcyBjb21wYXQgZm9yIG5vdzogYWxzbyBzZXQgdGhlIGxvY2FsZVxuICAgICAgICAgICAgZ2V0U2V0R2xvYmFsTG9jYWxlKG5hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gcGFzcyBudWxsIGZvciBjb25maWcgdG8gdW51cGRhdGUsIHVzZWZ1bCBmb3IgdGVzdHNcbiAgICAgICAgICAgIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAobG9jYWxlc1tuYW1lXS5wYXJlbnRMb2NhbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBsb2NhbGVzW25hbWVdID0gbG9jYWxlc1tuYW1lXS5wYXJlbnRMb2NhbGU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGxvY2FsZXNbbmFtZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb2NhbGVzW25hbWVdO1xuICAgIH1cblxuICAgIC8vIHJldHVybnMgbG9jYWxlIGRhdGFcbiAgICBmdW5jdGlvbiBnZXRMb2NhbGUgKGtleSkge1xuICAgICAgICB2YXIgbG9jYWxlO1xuXG4gICAgICAgIGlmIChrZXkgJiYga2V5Ll9sb2NhbGUgJiYga2V5Ll9sb2NhbGUuX2FiYnIpIHtcbiAgICAgICAgICAgIGtleSA9IGtleS5fbG9jYWxlLl9hYmJyO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBnbG9iYWxMb2NhbGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWlzQXJyYXkoa2V5KSkge1xuICAgICAgICAgICAgLy9zaG9ydC1jaXJjdWl0IGV2ZXJ5dGhpbmcgZWxzZVxuICAgICAgICAgICAgbG9jYWxlID0gbG9hZExvY2FsZShrZXkpO1xuICAgICAgICAgICAgaWYgKGxvY2FsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBrZXkgPSBba2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjaG9vc2VMb2NhbGUoa2V5KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaXN0TG9jYWxlcygpIHtcbiAgICAgICAgcmV0dXJuIGtleXMobG9jYWxlcyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2hlY2tPdmVyZmxvdyAobSkge1xuICAgICAgICB2YXIgb3ZlcmZsb3c7XG4gICAgICAgIHZhciBhID0gbS5fYTtcblxuICAgICAgICBpZiAoYSAmJiBnZXRQYXJzaW5nRmxhZ3MobSkub3ZlcmZsb3cgPT09IC0yKSB7XG4gICAgICAgICAgICBvdmVyZmxvdyA9XG4gICAgICAgICAgICAgICAgYVtNT05USF0gICAgICAgPCAwIHx8IGFbTU9OVEhdICAgICAgID4gMTEgID8gTU9OVEggOlxuICAgICAgICAgICAgICAgIGFbREFURV0gICAgICAgIDwgMSB8fCBhW0RBVEVdICAgICAgICA+IGRheXNJbk1vbnRoKGFbWUVBUl0sIGFbTU9OVEhdKSA/IERBVEUgOlxuICAgICAgICAgICAgICAgIGFbSE9VUl0gICAgICAgIDwgMCB8fCBhW0hPVVJdICAgICAgICA+IDI0IHx8IChhW0hPVVJdID09PSAyNCAmJiAoYVtNSU5VVEVdICE9PSAwIHx8IGFbU0VDT05EXSAhPT0gMCB8fCBhW01JTExJU0VDT05EXSAhPT0gMCkpID8gSE9VUiA6XG4gICAgICAgICAgICAgICAgYVtNSU5VVEVdICAgICAgPCAwIHx8IGFbTUlOVVRFXSAgICAgID4gNTkgID8gTUlOVVRFIDpcbiAgICAgICAgICAgICAgICBhW1NFQ09ORF0gICAgICA8IDAgfHwgYVtTRUNPTkRdICAgICAgPiA1OSAgPyBTRUNPTkQgOlxuICAgICAgICAgICAgICAgIGFbTUlMTElTRUNPTkRdIDwgMCB8fCBhW01JTExJU0VDT05EXSA+IDk5OSA/IE1JTExJU0VDT05EIDpcbiAgICAgICAgICAgICAgICAtMTtcblxuICAgICAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhtKS5fb3ZlcmZsb3dEYXlPZlllYXIgJiYgKG92ZXJmbG93IDwgWUVBUiB8fCBvdmVyZmxvdyA+IERBVEUpKSB7XG4gICAgICAgICAgICAgICAgb3ZlcmZsb3cgPSBEQVRFO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhtKS5fb3ZlcmZsb3dXZWVrcyAmJiBvdmVyZmxvdyA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBvdmVyZmxvdyA9IFdFRUs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ2V0UGFyc2luZ0ZsYWdzKG0pLl9vdmVyZmxvd1dlZWtkYXkgJiYgb3ZlcmZsb3cgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgb3ZlcmZsb3cgPSBXRUVLREFZO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MobSkub3ZlcmZsb3cgPSBvdmVyZmxvdztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtO1xuICAgIH1cblxuICAgIC8vIFBpY2sgdGhlIGZpcnN0IGRlZmluZWQgb2YgdHdvIG9yIHRocmVlIGFyZ3VtZW50cy5cbiAgICBmdW5jdGlvbiBkZWZhdWx0cyhhLCBiLCBjKSB7XG4gICAgICAgIGlmIChhICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICB9XG4gICAgICAgIGlmIChiICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGN1cnJlbnREYXRlQXJyYXkoY29uZmlnKSB7XG4gICAgICAgIC8vIGhvb2tzIGlzIGFjdHVhbGx5IHRoZSBleHBvcnRlZCBtb21lbnQgb2JqZWN0XG4gICAgICAgIHZhciBub3dWYWx1ZSA9IG5ldyBEYXRlKGhvb2tzLm5vdygpKTtcbiAgICAgICAgaWYgKGNvbmZpZy5fdXNlVVRDKSB7XG4gICAgICAgICAgICByZXR1cm4gW25vd1ZhbHVlLmdldFVUQ0Z1bGxZZWFyKCksIG5vd1ZhbHVlLmdldFVUQ01vbnRoKCksIG5vd1ZhbHVlLmdldFVUQ0RhdGUoKV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtub3dWYWx1ZS5nZXRGdWxsWWVhcigpLCBub3dWYWx1ZS5nZXRNb250aCgpLCBub3dWYWx1ZS5nZXREYXRlKCldO1xuICAgIH1cblxuICAgIC8vIGNvbnZlcnQgYW4gYXJyYXkgdG8gYSBkYXRlLlxuICAgIC8vIHRoZSBhcnJheSBzaG91bGQgbWlycm9yIHRoZSBwYXJhbWV0ZXJzIGJlbG93XG4gICAgLy8gbm90ZTogYWxsIHZhbHVlcyBwYXN0IHRoZSB5ZWFyIGFyZSBvcHRpb25hbCBhbmQgd2lsbCBkZWZhdWx0IHRvIHRoZSBsb3dlc3QgcG9zc2libGUgdmFsdWUuXG4gICAgLy8gW3llYXIsIG1vbnRoLCBkYXkgLCBob3VyLCBtaW51dGUsIHNlY29uZCwgbWlsbGlzZWNvbmRdXG4gICAgZnVuY3Rpb24gY29uZmlnRnJvbUFycmF5IChjb25maWcpIHtcbiAgICAgICAgdmFyIGksIGRhdGUsIGlucHV0ID0gW10sIGN1cnJlbnREYXRlLCBleHBlY3RlZFdlZWtkYXksIHllYXJUb1VzZTtcblxuICAgICAgICBpZiAoY29uZmlnLl9kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjdXJyZW50RGF0ZSA9IGN1cnJlbnREYXRlQXJyYXkoY29uZmlnKTtcblxuICAgICAgICAvL2NvbXB1dGUgZGF5IG9mIHRoZSB5ZWFyIGZyb20gd2Vla3MgYW5kIHdlZWtkYXlzXG4gICAgICAgIGlmIChjb25maWcuX3cgJiYgY29uZmlnLl9hW0RBVEVdID09IG51bGwgJiYgY29uZmlnLl9hW01PTlRIXSA9PSBudWxsKSB7XG4gICAgICAgICAgICBkYXlPZlllYXJGcm9tV2Vla0luZm8oY29uZmlnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vaWYgdGhlIGRheSBvZiB0aGUgeWVhciBpcyBzZXQsIGZpZ3VyZSBvdXQgd2hhdCBpdCBpc1xuICAgICAgICBpZiAoY29uZmlnLl9kYXlPZlllYXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgeWVhclRvVXNlID0gZGVmYXVsdHMoY29uZmlnLl9hW1lFQVJdLCBjdXJyZW50RGF0ZVtZRUFSXSk7XG5cbiAgICAgICAgICAgIGlmIChjb25maWcuX2RheU9mWWVhciA+IGRheXNJblllYXIoeWVhclRvVXNlKSB8fCBjb25maWcuX2RheU9mWWVhciA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLl9vdmVyZmxvd0RheU9mWWVhciA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRhdGUgPSBjcmVhdGVVVENEYXRlKHllYXJUb1VzZSwgMCwgY29uZmlnLl9kYXlPZlllYXIpO1xuICAgICAgICAgICAgY29uZmlnLl9hW01PTlRIXSA9IGRhdGUuZ2V0VVRDTW9udGgoKTtcbiAgICAgICAgICAgIGNvbmZpZy5fYVtEQVRFXSA9IGRhdGUuZ2V0VVRDRGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGVmYXVsdCB0byBjdXJyZW50IGRhdGUuXG4gICAgICAgIC8vICogaWYgbm8geWVhciwgbW9udGgsIGRheSBvZiBtb250aCBhcmUgZ2l2ZW4sIGRlZmF1bHQgdG8gdG9kYXlcbiAgICAgICAgLy8gKiBpZiBkYXkgb2YgbW9udGggaXMgZ2l2ZW4sIGRlZmF1bHQgbW9udGggYW5kIHllYXJcbiAgICAgICAgLy8gKiBpZiBtb250aCBpcyBnaXZlbiwgZGVmYXVsdCBvbmx5IHllYXJcbiAgICAgICAgLy8gKiBpZiB5ZWFyIGlzIGdpdmVuLCBkb24ndCBkZWZhdWx0IGFueXRoaW5nXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAzICYmIGNvbmZpZy5fYVtpXSA9PSBudWxsOyArK2kpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fYVtpXSA9IGlucHV0W2ldID0gY3VycmVudERhdGVbaV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBaZXJvIG91dCB3aGF0ZXZlciB3YXMgbm90IGRlZmF1bHRlZCwgaW5jbHVkaW5nIHRpbWVcbiAgICAgICAgZm9yICg7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgICAgIGNvbmZpZy5fYVtpXSA9IGlucHV0W2ldID0gKGNvbmZpZy5fYVtpXSA9PSBudWxsKSA/IChpID09PSAyID8gMSA6IDApIDogY29uZmlnLl9hW2ldO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIDI0OjAwOjAwLjAwMFxuICAgICAgICBpZiAoY29uZmlnLl9hW0hPVVJdID09PSAyNCAmJlxuICAgICAgICAgICAgICAgIGNvbmZpZy5fYVtNSU5VVEVdID09PSAwICYmXG4gICAgICAgICAgICAgICAgY29uZmlnLl9hW1NFQ09ORF0gPT09IDAgJiZcbiAgICAgICAgICAgICAgICBjb25maWcuX2FbTUlMTElTRUNPTkRdID09PSAwKSB7XG4gICAgICAgICAgICBjb25maWcuX25leHREYXkgPSB0cnVlO1xuICAgICAgICAgICAgY29uZmlnLl9hW0hPVVJdID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbmZpZy5fZCA9IChjb25maWcuX3VzZVVUQyA/IGNyZWF0ZVVUQ0RhdGUgOiBjcmVhdGVEYXRlKS5hcHBseShudWxsLCBpbnB1dCk7XG4gICAgICAgIGV4cGVjdGVkV2Vla2RheSA9IGNvbmZpZy5fdXNlVVRDID8gY29uZmlnLl9kLmdldFVUQ0RheSgpIDogY29uZmlnLl9kLmdldERheSgpO1xuXG4gICAgICAgIC8vIEFwcGx5IHRpbWV6b25lIG9mZnNldCBmcm9tIGlucHV0LiBUaGUgYWN0dWFsIHV0Y09mZnNldCBjYW4gYmUgY2hhbmdlZFxuICAgICAgICAvLyB3aXRoIHBhcnNlWm9uZS5cbiAgICAgICAgaWYgKGNvbmZpZy5fdHptICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fZC5zZXRVVENNaW51dGVzKGNvbmZpZy5fZC5nZXRVVENNaW51dGVzKCkgLSBjb25maWcuX3R6bSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29uZmlnLl9uZXh0RGF5KSB7XG4gICAgICAgICAgICBjb25maWcuX2FbSE9VUl0gPSAyNDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNoZWNrIGZvciBtaXNtYXRjaGluZyBkYXkgb2Ygd2Vla1xuICAgICAgICBpZiAoY29uZmlnLl93ICYmIHR5cGVvZiBjb25maWcuX3cuZCAhPT0gJ3VuZGVmaW5lZCcgJiYgY29uZmlnLl93LmQgIT09IGV4cGVjdGVkV2Vla2RheSkge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykud2Vla2RheU1pc21hdGNoID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRheU9mWWVhckZyb21XZWVrSW5mbyhjb25maWcpIHtcbiAgICAgICAgdmFyIHcsIHdlZWtZZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSwgdGVtcCwgd2Vla2RheU92ZXJmbG93O1xuXG4gICAgICAgIHcgPSBjb25maWcuX3c7XG4gICAgICAgIGlmICh3LkdHICE9IG51bGwgfHwgdy5XICE9IG51bGwgfHwgdy5FICE9IG51bGwpIHtcbiAgICAgICAgICAgIGRvdyA9IDE7XG4gICAgICAgICAgICBkb3kgPSA0O1xuXG4gICAgICAgICAgICAvLyBUT0RPOiBXZSBuZWVkIHRvIHRha2UgdGhlIGN1cnJlbnQgaXNvV2Vla1llYXIsIGJ1dCB0aGF0IGRlcGVuZHMgb25cbiAgICAgICAgICAgIC8vIGhvdyB3ZSBpbnRlcnByZXQgbm93IChsb2NhbCwgdXRjLCBmaXhlZCBvZmZzZXQpLiBTbyBjcmVhdGVcbiAgICAgICAgICAgIC8vIGEgbm93IHZlcnNpb24gb2YgY3VycmVudCBjb25maWcgKHRha2UgbG9jYWwvdXRjL29mZnNldCBmbGFncywgYW5kXG4gICAgICAgICAgICAvLyBjcmVhdGUgbm93KS5cbiAgICAgICAgICAgIHdlZWtZZWFyID0gZGVmYXVsdHMody5HRywgY29uZmlnLl9hW1lFQVJdLCB3ZWVrT2ZZZWFyKGNyZWF0ZUxvY2FsKCksIDEsIDQpLnllYXIpO1xuICAgICAgICAgICAgd2VlayA9IGRlZmF1bHRzKHcuVywgMSk7XG4gICAgICAgICAgICB3ZWVrZGF5ID0gZGVmYXVsdHMody5FLCAxKTtcbiAgICAgICAgICAgIGlmICh3ZWVrZGF5IDwgMSB8fCB3ZWVrZGF5ID4gNykge1xuICAgICAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkb3cgPSBjb25maWcuX2xvY2FsZS5fd2Vlay5kb3c7XG4gICAgICAgICAgICBkb3kgPSBjb25maWcuX2xvY2FsZS5fd2Vlay5kb3k7XG5cbiAgICAgICAgICAgIHZhciBjdXJXZWVrID0gd2Vla09mWWVhcihjcmVhdGVMb2NhbCgpLCBkb3csIGRveSk7XG5cbiAgICAgICAgICAgIHdlZWtZZWFyID0gZGVmYXVsdHMody5nZywgY29uZmlnLl9hW1lFQVJdLCBjdXJXZWVrLnllYXIpO1xuXG4gICAgICAgICAgICAvLyBEZWZhdWx0IHRvIGN1cnJlbnQgd2Vlay5cbiAgICAgICAgICAgIHdlZWsgPSBkZWZhdWx0cyh3LncsIGN1cldlZWsud2Vlayk7XG5cbiAgICAgICAgICAgIGlmICh3LmQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIHdlZWtkYXkgLS0gbG93IGRheSBudW1iZXJzIGFyZSBjb25zaWRlcmVkIG5leHQgd2Vla1xuICAgICAgICAgICAgICAgIHdlZWtkYXkgPSB3LmQ7XG4gICAgICAgICAgICAgICAgaWYgKHdlZWtkYXkgPCAwIHx8IHdlZWtkYXkgPiA2KSB7XG4gICAgICAgICAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh3LmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIGxvY2FsIHdlZWtkYXkgLS0gY291bnRpbmcgc3RhcnRzIGZyb20gYmVnaW5uaW5nIG9mIHdlZWtcbiAgICAgICAgICAgICAgICB3ZWVrZGF5ID0gdy5lICsgZG93O1xuICAgICAgICAgICAgICAgIGlmICh3LmUgPCAwIHx8IHcuZSA+IDYpIHtcbiAgICAgICAgICAgICAgICAgICAgd2Vla2RheU92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGRlZmF1bHQgdG8gYmVnaW5uaW5nIG9mIHdlZWtcbiAgICAgICAgICAgICAgICB3ZWVrZGF5ID0gZG93O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh3ZWVrIDwgMSB8fCB3ZWVrID4gd2Vla3NJblllYXIod2Vla1llYXIsIGRvdywgZG95KSkge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuX292ZXJmbG93V2Vla3MgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHdlZWtkYXlPdmVyZmxvdyAhPSBudWxsKSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5fb3ZlcmZsb3dXZWVrZGF5ID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRlbXAgPSBkYXlPZlllYXJGcm9tV2Vla3Mod2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KTtcbiAgICAgICAgICAgIGNvbmZpZy5fYVtZRUFSXSA9IHRlbXAueWVhcjtcbiAgICAgICAgICAgIGNvbmZpZy5fZGF5T2ZZZWFyID0gdGVtcC5kYXlPZlllYXI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBpc28gODYwMSByZWdleFxuICAgIC8vIDAwMDAtMDAtMDAgMDAwMC1XMDAgb3IgMDAwMC1XMDAtMCArIFQgKyAwMCBvciAwMDowMCBvciAwMDowMDowMCBvciAwMDowMDowMC4wMDAgKyArMDA6MDAgb3IgKzAwMDAgb3IgKzAwKVxuICAgIHZhciBleHRlbmRlZElzb1JlZ2V4ID0gL15cXHMqKCg/OlsrLV1cXGR7Nn18XFxkezR9KS0oPzpcXGRcXGQtXFxkXFxkfFdcXGRcXGQtXFxkfFdcXGRcXGR8XFxkXFxkXFxkfFxcZFxcZCkpKD86KFR8ICkoXFxkXFxkKD86OlxcZFxcZCg/OjpcXGRcXGQoPzpbLixdXFxkKyk/KT8pPykoW1xcK1xcLV1cXGRcXGQoPzo6P1xcZFxcZCk/fFxccypaKT8pPyQvO1xuICAgIHZhciBiYXNpY0lzb1JlZ2V4ID0gL15cXHMqKCg/OlsrLV1cXGR7Nn18XFxkezR9KSg/OlxcZFxcZFxcZFxcZHxXXFxkXFxkXFxkfFdcXGRcXGR8XFxkXFxkXFxkfFxcZFxcZCkpKD86KFR8ICkoXFxkXFxkKD86XFxkXFxkKD86XFxkXFxkKD86Wy4sXVxcZCspPyk/KT8pKFtcXCtcXC1dXFxkXFxkKD86Oj9cXGRcXGQpP3xcXHMqWik/KT8kLztcblxuICAgIHZhciB0elJlZ2V4ID0gL1p8WystXVxcZFxcZCg/Ojo/XFxkXFxkKT8vO1xuXG4gICAgdmFyIGlzb0RhdGVzID0gW1xuICAgICAgICBbJ1lZWVlZWS1NTS1ERCcsIC9bKy1dXFxkezZ9LVxcZFxcZC1cXGRcXGQvXSxcbiAgICAgICAgWydZWVlZLU1NLUREJywgL1xcZHs0fS1cXGRcXGQtXFxkXFxkL10sXG4gICAgICAgIFsnR0dHRy1bV11XVy1FJywgL1xcZHs0fS1XXFxkXFxkLVxcZC9dLFxuICAgICAgICBbJ0dHR0ctW1ddV1cnLCAvXFxkezR9LVdcXGRcXGQvLCBmYWxzZV0sXG4gICAgICAgIFsnWVlZWS1EREQnLCAvXFxkezR9LVxcZHszfS9dLFxuICAgICAgICBbJ1lZWVktTU0nLCAvXFxkezR9LVxcZFxcZC8sIGZhbHNlXSxcbiAgICAgICAgWydZWVlZWVlNTUREJywgL1srLV1cXGR7MTB9L10sXG4gICAgICAgIFsnWVlZWU1NREQnLCAvXFxkezh9L10sXG4gICAgICAgIC8vIFlZWVlNTSBpcyBOT1QgYWxsb3dlZCBieSB0aGUgc3RhbmRhcmRcbiAgICAgICAgWydHR0dHW1ddV1dFJywgL1xcZHs0fVdcXGR7M30vXSxcbiAgICAgICAgWydHR0dHW1ddV1cnLCAvXFxkezR9V1xcZHsyfS8sIGZhbHNlXSxcbiAgICAgICAgWydZWVlZREREJywgL1xcZHs3fS9dXG4gICAgXTtcblxuICAgIC8vIGlzbyB0aW1lIGZvcm1hdHMgYW5kIHJlZ2V4ZXNcbiAgICB2YXIgaXNvVGltZXMgPSBbXG4gICAgICAgIFsnSEg6bW06c3MuU1NTUycsIC9cXGRcXGQ6XFxkXFxkOlxcZFxcZFxcLlxcZCsvXSxcbiAgICAgICAgWydISDptbTpzcyxTU1NTJywgL1xcZFxcZDpcXGRcXGQ6XFxkXFxkLFxcZCsvXSxcbiAgICAgICAgWydISDptbTpzcycsIC9cXGRcXGQ6XFxkXFxkOlxcZFxcZC9dLFxuICAgICAgICBbJ0hIOm1tJywgL1xcZFxcZDpcXGRcXGQvXSxcbiAgICAgICAgWydISG1tc3MuU1NTUycsIC9cXGRcXGRcXGRcXGRcXGRcXGRcXC5cXGQrL10sXG4gICAgICAgIFsnSEhtbXNzLFNTU1MnLCAvXFxkXFxkXFxkXFxkXFxkXFxkLFxcZCsvXSxcbiAgICAgICAgWydISG1tc3MnLCAvXFxkXFxkXFxkXFxkXFxkXFxkL10sXG4gICAgICAgIFsnSEhtbScsIC9cXGRcXGRcXGRcXGQvXSxcbiAgICAgICAgWydISCcsIC9cXGRcXGQvXVxuICAgIF07XG5cbiAgICB2YXIgYXNwTmV0SnNvblJlZ2V4ID0gL15cXC8/RGF0ZVxcKChcXC0/XFxkKykvaTtcblxuICAgIC8vIGRhdGUgZnJvbSBpc28gZm9ybWF0XG4gICAgZnVuY3Rpb24gY29uZmlnRnJvbUlTTyhjb25maWcpIHtcbiAgICAgICAgdmFyIGksIGwsXG4gICAgICAgICAgICBzdHJpbmcgPSBjb25maWcuX2ksXG4gICAgICAgICAgICBtYXRjaCA9IGV4dGVuZGVkSXNvUmVnZXguZXhlYyhzdHJpbmcpIHx8IGJhc2ljSXNvUmVnZXguZXhlYyhzdHJpbmcpLFxuICAgICAgICAgICAgYWxsb3dUaW1lLCBkYXRlRm9ybWF0LCB0aW1lRm9ybWF0LCB0ekZvcm1hdDtcblxuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmlzbyA9IHRydWU7XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDAsIGwgPSBpc29EYXRlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNvRGF0ZXNbaV1bMV0uZXhlYyhtYXRjaFsxXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZUZvcm1hdCA9IGlzb0RhdGVzW2ldWzBdO1xuICAgICAgICAgICAgICAgICAgICBhbGxvd1RpbWUgPSBpc29EYXRlc1tpXVsyXSAhPT0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRlRm9ybWF0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWF0Y2hbM10pIHtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gaXNvVGltZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc29UaW1lc1tpXVsxXS5leGVjKG1hdGNoWzNdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWF0Y2hbMl0gc2hvdWxkIGJlICdUJyBvciBzcGFjZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZUZvcm1hdCA9IChtYXRjaFsyXSB8fCAnICcpICsgaXNvVGltZXNbaV1bMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGltZUZvcm1hdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFhbGxvd1RpbWUgJiYgdGltZUZvcm1hdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1hdGNoWzRdKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR6UmVnZXguZXhlYyhtYXRjaFs0XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdHpGb3JtYXQgPSAnWic7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25maWcuX2YgPSBkYXRlRm9ybWF0ICsgKHRpbWVGb3JtYXQgfHwgJycpICsgKHR6Rm9ybWF0IHx8ICcnKTtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gUkZDIDI4MjIgcmVnZXg6IEZvciBkZXRhaWxzIHNlZSBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMjgyMiNzZWN0aW9uLTMuM1xuICAgIHZhciByZmMyODIyID0gL14oPzooTW9ufFR1ZXxXZWR8VGh1fEZyaXxTYXR8U3VuKSw/XFxzKT8oXFxkezEsMn0pXFxzKEphbnxGZWJ8TWFyfEFwcnxNYXl8SnVufEp1bHxBdWd8U2VwfE9jdHxOb3Z8RGVjKVxccyhcXGR7Miw0fSlcXHMoXFxkXFxkKTooXFxkXFxkKSg/OjooXFxkXFxkKSk/XFxzKD86KFVUfEdNVHxbRUNNUF1bU0RdVCl8KFtael0pfChbKy1dXFxkezR9KSkkLztcblxuICAgIGZ1bmN0aW9uIGV4dHJhY3RGcm9tUkZDMjgyMlN0cmluZ3MoeWVhclN0ciwgbW9udGhTdHIsIGRheVN0ciwgaG91clN0ciwgbWludXRlU3RyLCBzZWNvbmRTdHIpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtcbiAgICAgICAgICAgIHVudHJ1bmNhdGVZZWFyKHllYXJTdHIpLFxuICAgICAgICAgICAgZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0LmluZGV4T2YobW9udGhTdHIpLFxuICAgICAgICAgICAgcGFyc2VJbnQoZGF5U3RyLCAxMCksXG4gICAgICAgICAgICBwYXJzZUludChob3VyU3RyLCAxMCksXG4gICAgICAgICAgICBwYXJzZUludChtaW51dGVTdHIsIDEwKVxuICAgICAgICBdO1xuXG4gICAgICAgIGlmIChzZWNvbmRTdHIpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHBhcnNlSW50KHNlY29uZFN0ciwgMTApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdW50cnVuY2F0ZVllYXIoeWVhclN0cikge1xuICAgICAgICB2YXIgeWVhciA9IHBhcnNlSW50KHllYXJTdHIsIDEwKTtcbiAgICAgICAgaWYgKHllYXIgPD0gNDkpIHtcbiAgICAgICAgICAgIHJldHVybiAyMDAwICsgeWVhcjtcbiAgICAgICAgfSBlbHNlIGlmICh5ZWFyIDw9IDk5OSkge1xuICAgICAgICAgICAgcmV0dXJuIDE5MDAgKyB5ZWFyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB5ZWFyO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByZXByb2Nlc3NSRkMyODIyKHMpIHtcbiAgICAgICAgLy8gUmVtb3ZlIGNvbW1lbnRzIGFuZCBmb2xkaW5nIHdoaXRlc3BhY2UgYW5kIHJlcGxhY2UgbXVsdGlwbGUtc3BhY2VzIHdpdGggYSBzaW5nbGUgc3BhY2VcbiAgICAgICAgcmV0dXJuIHMucmVwbGFjZSgvXFwoW14pXSpcXCl8W1xcblxcdF0vZywgJyAnKS5yZXBsYWNlKC8oXFxzXFxzKykvZywgJyAnKS5yZXBsYWNlKC9eXFxzXFxzKi8sICcnKS5yZXBsYWNlKC9cXHNcXHMqJC8sICcnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaGVja1dlZWtkYXkod2Vla2RheVN0ciwgcGFyc2VkSW5wdXQsIGNvbmZpZykge1xuICAgICAgICBpZiAod2Vla2RheVN0cikge1xuICAgICAgICAgICAgLy8gVE9ETzogUmVwbGFjZSB0aGUgdmFuaWxsYSBKUyBEYXRlIG9iamVjdCB3aXRoIGFuIGluZGVwZW50ZW50IGRheS1vZi13ZWVrIGNoZWNrLlxuICAgICAgICAgICAgdmFyIHdlZWtkYXlQcm92aWRlZCA9IGRlZmF1bHRMb2NhbGVXZWVrZGF5c1Nob3J0LmluZGV4T2Yod2Vla2RheVN0ciksXG4gICAgICAgICAgICAgICAgd2Vla2RheUFjdHVhbCA9IG5ldyBEYXRlKHBhcnNlZElucHV0WzBdLCBwYXJzZWRJbnB1dFsxXSwgcGFyc2VkSW5wdXRbMl0pLmdldERheSgpO1xuICAgICAgICAgICAgaWYgKHdlZWtkYXlQcm92aWRlZCAhPT0gd2Vla2RheUFjdHVhbCkge1xuICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLndlZWtkYXlNaXNtYXRjaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHZhciBvYnNPZmZzZXRzID0ge1xuICAgICAgICBVVDogMCxcbiAgICAgICAgR01UOiAwLFxuICAgICAgICBFRFQ6IC00ICogNjAsXG4gICAgICAgIEVTVDogLTUgKiA2MCxcbiAgICAgICAgQ0RUOiAtNSAqIDYwLFxuICAgICAgICBDU1Q6IC02ICogNjAsXG4gICAgICAgIE1EVDogLTYgKiA2MCxcbiAgICAgICAgTVNUOiAtNyAqIDYwLFxuICAgICAgICBQRFQ6IC03ICogNjAsXG4gICAgICAgIFBTVDogLTggKiA2MFxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBjYWxjdWxhdGVPZmZzZXQob2JzT2Zmc2V0LCBtaWxpdGFyeU9mZnNldCwgbnVtT2Zmc2V0KSB7XG4gICAgICAgIGlmIChvYnNPZmZzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBvYnNPZmZzZXRzW29ic09mZnNldF07XG4gICAgICAgIH0gZWxzZSBpZiAobWlsaXRhcnlPZmZzZXQpIHtcbiAgICAgICAgICAgIC8vIHRoZSBvbmx5IGFsbG93ZWQgbWlsaXRhcnkgdHogaXMgWlxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgaG0gPSBwYXJzZUludChudW1PZmZzZXQsIDEwKTtcbiAgICAgICAgICAgIHZhciBtID0gaG0gJSAxMDAsIGggPSAoaG0gLSBtKSAvIDEwMDtcbiAgICAgICAgICAgIHJldHVybiBoICogNjAgKyBtO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gZGF0ZSBhbmQgdGltZSBmcm9tIHJlZiAyODIyIGZvcm1hdFxuICAgIGZ1bmN0aW9uIGNvbmZpZ0Zyb21SRkMyODIyKGNvbmZpZykge1xuICAgICAgICB2YXIgbWF0Y2ggPSByZmMyODIyLmV4ZWMocHJlcHJvY2Vzc1JGQzI4MjIoY29uZmlnLl9pKSk7XG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgdmFyIHBhcnNlZEFycmF5ID0gZXh0cmFjdEZyb21SRkMyODIyU3RyaW5ncyhtYXRjaFs0XSwgbWF0Y2hbM10sIG1hdGNoWzJdLCBtYXRjaFs1XSwgbWF0Y2hbNl0sIG1hdGNoWzddKTtcbiAgICAgICAgICAgIGlmICghY2hlY2tXZWVrZGF5KG1hdGNoWzFdLCBwYXJzZWRBcnJheSwgY29uZmlnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uZmlnLl9hID0gcGFyc2VkQXJyYXk7XG4gICAgICAgICAgICBjb25maWcuX3R6bSA9IGNhbGN1bGF0ZU9mZnNldChtYXRjaFs4XSwgbWF0Y2hbOV0sIG1hdGNoWzEwXSk7XG5cbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IGNyZWF0ZVVUQ0RhdGUuYXBwbHkobnVsbCwgY29uZmlnLl9hKTtcbiAgICAgICAgICAgIGNvbmZpZy5fZC5zZXRVVENNaW51dGVzKGNvbmZpZy5fZC5nZXRVVENNaW51dGVzKCkgLSBjb25maWcuX3R6bSk7XG5cbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnJmYzI4MjIgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBkYXRlIGZyb20gaXNvIGZvcm1hdCBvciBmYWxsYmFja1xuICAgIGZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmcoY29uZmlnKSB7XG4gICAgICAgIHZhciBtYXRjaGVkID0gYXNwTmV0SnNvblJlZ2V4LmV4ZWMoY29uZmlnLl9pKTtcblxuICAgICAgICBpZiAobWF0Y2hlZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoK21hdGNoZWRbMV0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uZmlnRnJvbUlTTyhjb25maWcpO1xuICAgICAgICBpZiAoY29uZmlnLl9pc1ZhbGlkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgZGVsZXRlIGNvbmZpZy5faXNWYWxpZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbmZpZ0Zyb21SRkMyODIyKGNvbmZpZyk7XG4gICAgICAgIGlmIChjb25maWcuX2lzVmFsaWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBkZWxldGUgY29uZmlnLl9pc1ZhbGlkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmluYWwgYXR0ZW1wdCwgdXNlIElucHV0IEZhbGxiYWNrXG4gICAgICAgIGhvb2tzLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrKGNvbmZpZyk7XG4gICAgfVxuXG4gICAgaG9va3MuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2sgPSBkZXByZWNhdGUoXG4gICAgICAgICd2YWx1ZSBwcm92aWRlZCBpcyBub3QgaW4gYSByZWNvZ25pemVkIFJGQzI4MjIgb3IgSVNPIGZvcm1hdC4gbW9tZW50IGNvbnN0cnVjdGlvbiBmYWxscyBiYWNrIHRvIGpzIERhdGUoKSwgJyArXG4gICAgICAgICd3aGljaCBpcyBub3QgcmVsaWFibGUgYWNyb3NzIGFsbCBicm93c2VycyBhbmQgdmVyc2lvbnMuIE5vbiBSRkMyODIyL0lTTyBkYXRlIGZvcm1hdHMgYXJlICcgK1xuICAgICAgICAnZGlzY291cmFnZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBhbiB1cGNvbWluZyBtYWpvciByZWxlYXNlLiBQbGVhc2UgcmVmZXIgdG8gJyArXG4gICAgICAgICdodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2pzLWRhdGUvIGZvciBtb3JlIGluZm8uJyxcbiAgICAgICAgZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoY29uZmlnLl9pICsgKGNvbmZpZy5fdXNlVVRDID8gJyBVVEMnIDogJycpKTtcbiAgICAgICAgfVxuICAgICk7XG5cbiAgICAvLyBjb25zdGFudCB0aGF0IHJlZmVycyB0byB0aGUgSVNPIHN0YW5kYXJkXG4gICAgaG9va3MuSVNPXzg2MDEgPSBmdW5jdGlvbiAoKSB7fTtcblxuICAgIC8vIGNvbnN0YW50IHRoYXQgcmVmZXJzIHRvIHRoZSBSRkMgMjgyMiBmb3JtXG4gICAgaG9va3MuUkZDXzI4MjIgPSBmdW5jdGlvbiAoKSB7fTtcblxuICAgIC8vIGRhdGUgZnJvbSBzdHJpbmcgYW5kIGZvcm1hdCBzdHJpbmdcbiAgICBmdW5jdGlvbiBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KGNvbmZpZykge1xuICAgICAgICAvLyBUT0RPOiBNb3ZlIHRoaXMgdG8gYW5vdGhlciBwYXJ0IG9mIHRoZSBjcmVhdGlvbiBmbG93IHRvIHByZXZlbnQgY2lyY3VsYXIgZGVwc1xuICAgICAgICBpZiAoY29uZmlnLl9mID09PSBob29rcy5JU09fODYwMSkge1xuICAgICAgICAgICAgY29uZmlnRnJvbUlTTyhjb25maWcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcuX2YgPT09IGhvb2tzLlJGQ18yODIyKSB7XG4gICAgICAgICAgICBjb25maWdGcm9tUkZDMjgyMihjb25maWcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbmZpZy5fYSA9IFtdO1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5lbXB0eSA9IHRydWU7XG5cbiAgICAgICAgLy8gVGhpcyBhcnJheSBpcyB1c2VkIHRvIG1ha2UgYSBEYXRlLCBlaXRoZXIgd2l0aCBgbmV3IERhdGVgIG9yIGBEYXRlLlVUQ2BcbiAgICAgICAgdmFyIHN0cmluZyA9ICcnICsgY29uZmlnLl9pLFxuICAgICAgICAgICAgaSwgcGFyc2VkSW5wdXQsIHRva2VucywgdG9rZW4sIHNraXBwZWQsXG4gICAgICAgICAgICBzdHJpbmdMZW5ndGggPSBzdHJpbmcubGVuZ3RoLFxuICAgICAgICAgICAgdG90YWxQYXJzZWRJbnB1dExlbmd0aCA9IDA7XG5cbiAgICAgICAgdG9rZW5zID0gZXhwYW5kRm9ybWF0KGNvbmZpZy5fZiwgY29uZmlnLl9sb2NhbGUpLm1hdGNoKGZvcm1hdHRpbmdUb2tlbnMpIHx8IFtdO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgICAgICAgcGFyc2VkSW5wdXQgPSAoc3RyaW5nLm1hdGNoKGdldFBhcnNlUmVnZXhGb3JUb2tlbih0b2tlbiwgY29uZmlnKSkgfHwgW10pWzBdO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3Rva2VuJywgdG9rZW4sICdwYXJzZWRJbnB1dCcsIHBhcnNlZElucHV0LFxuICAgICAgICAgICAgLy8gICAgICAgICAncmVnZXgnLCBnZXRQYXJzZVJlZ2V4Rm9yVG9rZW4odG9rZW4sIGNvbmZpZykpO1xuICAgICAgICAgICAgaWYgKHBhcnNlZElucHV0KSB7XG4gICAgICAgICAgICAgICAgc2tpcHBlZCA9IHN0cmluZy5zdWJzdHIoMCwgc3RyaW5nLmluZGV4T2YocGFyc2VkSW5wdXQpKTtcbiAgICAgICAgICAgICAgICBpZiAoc2tpcHBlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZElucHV0LnB1c2goc2tpcHBlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN0cmluZyA9IHN0cmluZy5zbGljZShzdHJpbmcuaW5kZXhPZihwYXJzZWRJbnB1dCkgKyBwYXJzZWRJbnB1dC5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHRvdGFsUGFyc2VkSW5wdXRMZW5ndGggKz0gcGFyc2VkSW5wdXQubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZG9uJ3QgcGFyc2UgaWYgaXQncyBub3QgYSBrbm93biB0b2tlblxuICAgICAgICAgICAgaWYgKGZvcm1hdFRva2VuRnVuY3Rpb25zW3Rva2VuXSkge1xuICAgICAgICAgICAgICAgIGlmIChwYXJzZWRJbnB1dCkge1xuICAgICAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5lbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkVG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhZGRUaW1lVG9BcnJheUZyb21Ub2tlbih0b2tlbiwgcGFyc2VkSW5wdXQsIGNvbmZpZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjb25maWcuX3N0cmljdCAmJiAhcGFyc2VkSW5wdXQpIHtcbiAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRUb2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgcmVtYWluaW5nIHVucGFyc2VkIGlucHV0IGxlbmd0aCB0byB0aGUgc3RyaW5nXG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmNoYXJzTGVmdE92ZXIgPSBzdHJpbmdMZW5ndGggLSB0b3RhbFBhcnNlZElucHV0TGVuZ3RoO1xuICAgICAgICBpZiAoc3RyaW5nLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZElucHV0LnB1c2goc3RyaW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNsZWFyIF8xMmggZmxhZyBpZiBob3VyIGlzIDw9IDEyXG4gICAgICAgIGlmIChjb25maWcuX2FbSE9VUl0gPD0gMTIgJiZcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPT09IHRydWUgJiZcbiAgICAgICAgICAgIGNvbmZpZy5fYVtIT1VSXSA+IDApIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5wYXJzZWREYXRlUGFydHMgPSBjb25maWcuX2Euc2xpY2UoMCk7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLm1lcmlkaWVtID0gY29uZmlnLl9tZXJpZGllbTtcbiAgICAgICAgLy8gaGFuZGxlIG1lcmlkaWVtXG4gICAgICAgIGNvbmZpZy5fYVtIT1VSXSA9IG1lcmlkaWVtRml4V3JhcChjb25maWcuX2xvY2FsZSwgY29uZmlnLl9hW0hPVVJdLCBjb25maWcuX21lcmlkaWVtKTtcblxuICAgICAgICBjb25maWdGcm9tQXJyYXkoY29uZmlnKTtcbiAgICAgICAgY2hlY2tPdmVyZmxvdyhjb25maWcpO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gbWVyaWRpZW1GaXhXcmFwIChsb2NhbGUsIGhvdXIsIG1lcmlkaWVtKSB7XG4gICAgICAgIHZhciBpc1BtO1xuXG4gICAgICAgIGlmIChtZXJpZGllbSA9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBub3RoaW5nIHRvIGRvXG4gICAgICAgICAgICByZXR1cm4gaG91cjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG9jYWxlLm1lcmlkaWVtSG91ciAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxlLm1lcmlkaWVtSG91cihob3VyLCBtZXJpZGllbSk7XG4gICAgICAgIH0gZWxzZSBpZiAobG9jYWxlLmlzUE0gIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gRmFsbGJhY2tcbiAgICAgICAgICAgIGlzUG0gPSBsb2NhbGUuaXNQTShtZXJpZGllbSk7XG4gICAgICAgICAgICBpZiAoaXNQbSAmJiBob3VyIDwgMTIpIHtcbiAgICAgICAgICAgICAgICBob3VyICs9IDEyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc1BtICYmIGhvdXIgPT09IDEyKSB7XG4gICAgICAgICAgICAgICAgaG91ciA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaG91cjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgbm90IHN1cHBvc2VkIHRvIGhhcHBlblxuICAgICAgICAgICAgcmV0dXJuIGhvdXI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBkYXRlIGZyb20gc3RyaW5nIGFuZCBhcnJheSBvZiBmb3JtYXQgc3RyaW5nc1xuICAgIGZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmdBbmRBcnJheShjb25maWcpIHtcbiAgICAgICAgdmFyIHRlbXBDb25maWcsXG4gICAgICAgICAgICBiZXN0TW9tZW50LFxuXG4gICAgICAgICAgICBzY29yZVRvQmVhdCxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBjdXJyZW50U2NvcmU7XG5cbiAgICAgICAgaWYgKGNvbmZpZy5fZi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRGb3JtYXQgPSB0cnVlO1xuICAgICAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoTmFOKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb25maWcuX2YubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGN1cnJlbnRTY29yZSA9IDA7XG4gICAgICAgICAgICB0ZW1wQ29uZmlnID0gY29weUNvbmZpZyh7fSwgY29uZmlnKTtcbiAgICAgICAgICAgIGlmIChjb25maWcuX3VzZVVUQyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGVtcENvbmZpZy5fdXNlVVRDID0gY29uZmlnLl91c2VVVEM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZW1wQ29uZmlnLl9mID0gY29uZmlnLl9mW2ldO1xuICAgICAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdCh0ZW1wQ29uZmlnKTtcblxuICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKHRlbXBDb25maWcpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIGFueSBpbnB1dCB0aGF0IHdhcyBub3QgcGFyc2VkIGFkZCBhIHBlbmFsdHkgZm9yIHRoYXQgZm9ybWF0XG4gICAgICAgICAgICBjdXJyZW50U2NvcmUgKz0gZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLmNoYXJzTGVmdE92ZXI7XG5cbiAgICAgICAgICAgIC8vb3IgdG9rZW5zXG4gICAgICAgICAgICBjdXJyZW50U2NvcmUgKz0gZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLnVudXNlZFRva2Vucy5sZW5ndGggKiAxMDtcblxuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLnNjb3JlID0gY3VycmVudFNjb3JlO1xuXG4gICAgICAgICAgICBpZiAoc2NvcmVUb0JlYXQgPT0gbnVsbCB8fCBjdXJyZW50U2NvcmUgPCBzY29yZVRvQmVhdCkge1xuICAgICAgICAgICAgICAgIHNjb3JlVG9CZWF0ID0gY3VycmVudFNjb3JlO1xuICAgICAgICAgICAgICAgIGJlc3RNb21lbnQgPSB0ZW1wQ29uZmlnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZXh0ZW5kKGNvbmZpZywgYmVzdE1vbWVudCB8fCB0ZW1wQ29uZmlnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb25maWdGcm9tT2JqZWN0KGNvbmZpZykge1xuICAgICAgICBpZiAoY29uZmlnLl9kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaSA9IG5vcm1hbGl6ZU9iamVjdFVuaXRzKGNvbmZpZy5faSk7XG4gICAgICAgIGNvbmZpZy5fYSA9IG1hcChbaS55ZWFyLCBpLm1vbnRoLCBpLmRheSB8fCBpLmRhdGUsIGkuaG91ciwgaS5taW51dGUsIGkuc2Vjb25kLCBpLm1pbGxpc2Vjb25kXSwgZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIG9iaiAmJiBwYXJzZUludChvYmosIDEwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uZmlnRnJvbUFycmF5KGNvbmZpZyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlRnJvbUNvbmZpZyAoY29uZmlnKSB7XG4gICAgICAgIHZhciByZXMgPSBuZXcgTW9tZW50KGNoZWNrT3ZlcmZsb3cocHJlcGFyZUNvbmZpZyhjb25maWcpKSk7XG4gICAgICAgIGlmIChyZXMuX25leHREYXkpIHtcbiAgICAgICAgICAgIC8vIEFkZGluZyBpcyBzbWFydCBlbm91Z2ggYXJvdW5kIERTVFxuICAgICAgICAgICAgcmVzLmFkZCgxLCAnZCcpO1xuICAgICAgICAgICAgcmVzLl9uZXh0RGF5ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcmVwYXJlQ29uZmlnIChjb25maWcpIHtcbiAgICAgICAgdmFyIGlucHV0ID0gY29uZmlnLl9pLFxuICAgICAgICAgICAgZm9ybWF0ID0gY29uZmlnLl9mO1xuXG4gICAgICAgIGNvbmZpZy5fbG9jYWxlID0gY29uZmlnLl9sb2NhbGUgfHwgZ2V0TG9jYWxlKGNvbmZpZy5fbCk7XG5cbiAgICAgICAgaWYgKGlucHV0ID09PSBudWxsIHx8IChmb3JtYXQgPT09IHVuZGVmaW5lZCAmJiBpbnB1dCA9PT0gJycpKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlSW52YWxpZCh7bnVsbElucHV0OiB0cnVlfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29uZmlnLl9pID0gaW5wdXQgPSBjb25maWcuX2xvY2FsZS5wcmVwYXJzZShpbnB1dCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNNb21lbnQoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1vbWVudChjaGVja092ZXJmbG93KGlucHV0KSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNEYXRlKGlucHV0KSkge1xuICAgICAgICAgICAgY29uZmlnLl9kID0gaW5wdXQ7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShmb3JtYXQpKSB7XG4gICAgICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kQXJyYXkoY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIGlmIChmb3JtYXQpIHtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKTtcbiAgICAgICAgfSAgZWxzZSB7XG4gICAgICAgICAgICBjb25maWdGcm9tSW5wdXQoY29uZmlnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNWYWxpZChjb25maWcpKSB7XG4gICAgICAgICAgICBjb25maWcuX2QgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb25maWdGcm9tSW5wdXQoY29uZmlnKSB7XG4gICAgICAgIHZhciBpbnB1dCA9IGNvbmZpZy5faTtcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKGlucHV0KSkge1xuICAgICAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoaG9va3Mubm93KCkpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRGF0ZShpbnB1dCkpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGlucHV0LnZhbHVlT2YoKSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29uZmlnRnJvbVN0cmluZyhjb25maWcpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkoaW5wdXQpKSB7XG4gICAgICAgICAgICBjb25maWcuX2EgPSBtYXAoaW5wdXQuc2xpY2UoMCksIGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQob2JqLCAxMCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21BcnJheShjb25maWcpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KGlucHV0KSkge1xuICAgICAgICAgICAgY29uZmlnRnJvbU9iamVjdChjb25maWcpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGlucHV0KSkge1xuICAgICAgICAgICAgLy8gZnJvbSBtaWxsaXNlY29uZHNcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGlucHV0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhvb2tzLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrKGNvbmZpZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVMb2NhbE9yVVRDIChpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgaXNVVEMpIHtcbiAgICAgICAgdmFyIGMgPSB7fTtcblxuICAgICAgICBpZiAobG9jYWxlID09PSB0cnVlIHx8IGxvY2FsZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHN0cmljdCA9IGxvY2FsZTtcbiAgICAgICAgICAgIGxvY2FsZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgoaXNPYmplY3QoaW5wdXQpICYmIGlzT2JqZWN0RW1wdHkoaW5wdXQpKSB8fFxuICAgICAgICAgICAgICAgIChpc0FycmF5KGlucHV0KSAmJiBpbnB1dC5sZW5ndGggPT09IDApKSB7XG4gICAgICAgICAgICBpbnB1dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBvYmplY3QgY29uc3RydWN0aW9uIG11c3QgYmUgZG9uZSB0aGlzIHdheS5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzE0MjNcbiAgICAgICAgYy5faXNBTW9tZW50T2JqZWN0ID0gdHJ1ZTtcbiAgICAgICAgYy5fdXNlVVRDID0gYy5faXNVVEMgPSBpc1VUQztcbiAgICAgICAgYy5fbCA9IGxvY2FsZTtcbiAgICAgICAgYy5faSA9IGlucHV0O1xuICAgICAgICBjLl9mID0gZm9ybWF0O1xuICAgICAgICBjLl9zdHJpY3QgPSBzdHJpY3Q7XG5cbiAgICAgICAgcmV0dXJuIGNyZWF0ZUZyb21Db25maWcoYyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlTG9jYWwgKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0KSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVMb2NhbE9yVVRDKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0LCBmYWxzZSk7XG4gICAgfVxuXG4gICAgdmFyIHByb3RvdHlwZU1pbiA9IGRlcHJlY2F0ZShcbiAgICAgICAgJ21vbWVudCgpLm1pbiBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50Lm1heCBpbnN0ZWFkLiBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL21pbi1tYXgvJyxcbiAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG90aGVyID0gY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzVmFsaWQoKSAmJiBvdGhlci5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3RoZXIgPCB0aGlzID8gdGhpcyA6IG90aGVyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlSW52YWxpZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgKTtcblxuICAgIHZhciBwcm90b3R5cGVNYXggPSBkZXByZWNhdGUoXG4gICAgICAgICdtb21lbnQoKS5tYXggaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudC5taW4gaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9taW4tbWF4LycsXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvdGhlciA9IGNyZWF0ZUxvY2FsLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiYgb3RoZXIuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG90aGVyID4gdGhpcyA/IHRoaXMgOiBvdGhlcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUludmFsaWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICk7XG5cbiAgICAvLyBQaWNrIGEgbW9tZW50IG0gZnJvbSBtb21lbnRzIHNvIHRoYXQgbVtmbl0ob3RoZXIpIGlzIHRydWUgZm9yIGFsbFxuICAgIC8vIG90aGVyLiBUaGlzIHJlbGllcyBvbiB0aGUgZnVuY3Rpb24gZm4gdG8gYmUgdHJhbnNpdGl2ZS5cbiAgICAvL1xuICAgIC8vIG1vbWVudHMgc2hvdWxkIGVpdGhlciBiZSBhbiBhcnJheSBvZiBtb21lbnQgb2JqZWN0cyBvciBhbiBhcnJheSwgd2hvc2VcbiAgICAvLyBmaXJzdCBlbGVtZW50IGlzIGFuIGFycmF5IG9mIG1vbWVudCBvYmplY3RzLlxuICAgIGZ1bmN0aW9uIHBpY2tCeShmbiwgbW9tZW50cykge1xuICAgICAgICB2YXIgcmVzLCBpO1xuICAgICAgICBpZiAobW9tZW50cy5sZW5ndGggPT09IDEgJiYgaXNBcnJheShtb21lbnRzWzBdKSkge1xuICAgICAgICAgICAgbW9tZW50cyA9IG1vbWVudHNbMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFtb21lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzID0gbW9tZW50c1swXTtcbiAgICAgICAgZm9yIChpID0gMTsgaSA8IG1vbWVudHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmICghbW9tZW50c1tpXS5pc1ZhbGlkKCkgfHwgbW9tZW50c1tpXVtmbl0ocmVzKSkge1xuICAgICAgICAgICAgICAgIHJlcyA9IG1vbWVudHNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBVc2UgW10uc29ydCBpbnN0ZWFkP1xuICAgIGZ1bmN0aW9uIG1pbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXG4gICAgICAgIHJldHVybiBwaWNrQnkoJ2lzQmVmb3JlJywgYXJncyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWF4ICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG5cbiAgICAgICAgcmV0dXJuIHBpY2tCeSgnaXNBZnRlcicsIGFyZ3MpO1xuICAgIH1cblxuICAgIHZhciBub3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBEYXRlLm5vdyA/IERhdGUubm93KCkgOiArKG5ldyBEYXRlKCkpO1xuICAgIH07XG5cbiAgICB2YXIgb3JkZXJpbmcgPSBbJ3llYXInLCAncXVhcnRlcicsICdtb250aCcsICd3ZWVrJywgJ2RheScsICdob3VyJywgJ21pbnV0ZScsICdzZWNvbmQnLCAnbWlsbGlzZWNvbmQnXTtcblxuICAgIGZ1bmN0aW9uIGlzRHVyYXRpb25WYWxpZChtKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBtKSB7XG4gICAgICAgICAgICBpZiAoIShpbmRleE9mLmNhbGwob3JkZXJpbmcsIGtleSkgIT09IC0xICYmIChtW2tleV0gPT0gbnVsbCB8fCAhaXNOYU4obVtrZXldKSkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHVuaXRIYXNEZWNpbWFsID0gZmFsc2U7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3JkZXJpbmcubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChtW29yZGVyaW5nW2ldXSkge1xuICAgICAgICAgICAgICAgIGlmICh1bml0SGFzRGVjaW1hbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIG9ubHkgYWxsb3cgbm9uLWludGVnZXJzIGZvciBzbWFsbGVzdCB1bml0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwYXJzZUZsb2F0KG1bb3JkZXJpbmdbaV1dKSAhPT0gdG9JbnQobVtvcmRlcmluZ1tpXV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHVuaXRIYXNEZWNpbWFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1ZhbGlkJDEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1ZhbGlkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUludmFsaWQkMSgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUR1cmF0aW9uKE5hTik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gRHVyYXRpb24gKGR1cmF0aW9uKSB7XG4gICAgICAgIHZhciBub3JtYWxpemVkSW5wdXQgPSBub3JtYWxpemVPYmplY3RVbml0cyhkdXJhdGlvbiksXG4gICAgICAgICAgICB5ZWFycyA9IG5vcm1hbGl6ZWRJbnB1dC55ZWFyIHx8IDAsXG4gICAgICAgICAgICBxdWFydGVycyA9IG5vcm1hbGl6ZWRJbnB1dC5xdWFydGVyIHx8IDAsXG4gICAgICAgICAgICBtb250aHMgPSBub3JtYWxpemVkSW5wdXQubW9udGggfHwgMCxcbiAgICAgICAgICAgIHdlZWtzID0gbm9ybWFsaXplZElucHV0LndlZWsgfHwgbm9ybWFsaXplZElucHV0Lmlzb1dlZWsgfHwgMCxcbiAgICAgICAgICAgIGRheXMgPSBub3JtYWxpemVkSW5wdXQuZGF5IHx8IDAsXG4gICAgICAgICAgICBob3VycyA9IG5vcm1hbGl6ZWRJbnB1dC5ob3VyIHx8IDAsXG4gICAgICAgICAgICBtaW51dGVzID0gbm9ybWFsaXplZElucHV0Lm1pbnV0ZSB8fCAwLFxuICAgICAgICAgICAgc2Vjb25kcyA9IG5vcm1hbGl6ZWRJbnB1dC5zZWNvbmQgfHwgMCxcbiAgICAgICAgICAgIG1pbGxpc2Vjb25kcyA9IG5vcm1hbGl6ZWRJbnB1dC5taWxsaXNlY29uZCB8fCAwO1xuXG4gICAgICAgIHRoaXMuX2lzVmFsaWQgPSBpc0R1cmF0aW9uVmFsaWQobm9ybWFsaXplZElucHV0KTtcblxuICAgICAgICAvLyByZXByZXNlbnRhdGlvbiBmb3IgZGF0ZUFkZFJlbW92ZVxuICAgICAgICB0aGlzLl9taWxsaXNlY29uZHMgPSArbWlsbGlzZWNvbmRzICtcbiAgICAgICAgICAgIHNlY29uZHMgKiAxZTMgKyAvLyAxMDAwXG4gICAgICAgICAgICBtaW51dGVzICogNmU0ICsgLy8gMTAwMCAqIDYwXG4gICAgICAgICAgICBob3VycyAqIDEwMDAgKiA2MCAqIDYwOyAvL3VzaW5nIDEwMDAgKiA2MCAqIDYwIGluc3RlYWQgb2YgMzZlNSB0byBhdm9pZCBmbG9hdGluZyBwb2ludCByb3VuZGluZyBlcnJvcnMgaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzI5NzhcbiAgICAgICAgLy8gQmVjYXVzZSBvZiBkYXRlQWRkUmVtb3ZlIHRyZWF0cyAyNCBob3VycyBhcyBkaWZmZXJlbnQgZnJvbSBhXG4gICAgICAgIC8vIGRheSB3aGVuIHdvcmtpbmcgYXJvdW5kIERTVCwgd2UgbmVlZCB0byBzdG9yZSB0aGVtIHNlcGFyYXRlbHlcbiAgICAgICAgdGhpcy5fZGF5cyA9ICtkYXlzICtcbiAgICAgICAgICAgIHdlZWtzICogNztcbiAgICAgICAgLy8gSXQgaXMgaW1wb3NzaWJsZSB0byB0cmFuc2xhdGUgbW9udGhzIGludG8gZGF5cyB3aXRob3V0IGtub3dpbmdcbiAgICAgICAgLy8gd2hpY2ggbW9udGhzIHlvdSBhcmUgYXJlIHRhbGtpbmcgYWJvdXQsIHNvIHdlIGhhdmUgdG8gc3RvcmVcbiAgICAgICAgLy8gaXQgc2VwYXJhdGVseS5cbiAgICAgICAgdGhpcy5fbW9udGhzID0gK21vbnRocyArXG4gICAgICAgICAgICBxdWFydGVycyAqIDMgK1xuICAgICAgICAgICAgeWVhcnMgKiAxMjtcblxuICAgICAgICB0aGlzLl9kYXRhID0ge307XG5cbiAgICAgICAgdGhpcy5fbG9jYWxlID0gZ2V0TG9jYWxlKCk7XG5cbiAgICAgICAgdGhpcy5fYnViYmxlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNEdXJhdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBEdXJhdGlvbjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhYnNSb3VuZCAobnVtYmVyKSB7XG4gICAgICAgIGlmIChudW1iZXIgPCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgtMSAqIG51bWJlcikgKiAtMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKG51bWJlcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBmdW5jdGlvbiBvZmZzZXQgKHRva2VuLCBzZXBhcmF0b3IpIHtcbiAgICAgICAgYWRkRm9ybWF0VG9rZW4odG9rZW4sIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSB0aGlzLnV0Y09mZnNldCgpO1xuICAgICAgICAgICAgdmFyIHNpZ24gPSAnKyc7XG4gICAgICAgICAgICBpZiAob2Zmc2V0IDwgMCkge1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IC1vZmZzZXQ7XG4gICAgICAgICAgICAgICAgc2lnbiA9ICctJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzaWduICsgemVyb0ZpbGwofn4ob2Zmc2V0IC8gNjApLCAyKSArIHNlcGFyYXRvciArIHplcm9GaWxsKH5+KG9mZnNldCkgJSA2MCwgMik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9mZnNldCgnWicsICc6Jyk7XG4gICAgb2Zmc2V0KCdaWicsICcnKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ1onLCAgbWF0Y2hTaG9ydE9mZnNldCk7XG4gICAgYWRkUmVnZXhUb2tlbignWlonLCBtYXRjaFNob3J0T2Zmc2V0KTtcbiAgICBhZGRQYXJzZVRva2VuKFsnWicsICdaWiddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgY29uZmlnLl91c2VVVEMgPSB0cnVlO1xuICAgICAgICBjb25maWcuX3R6bSA9IG9mZnNldEZyb21TdHJpbmcobWF0Y2hTaG9ydE9mZnNldCwgaW5wdXQpO1xuICAgIH0pO1xuXG4gICAgLy8gSEVMUEVSU1xuXG4gICAgLy8gdGltZXpvbmUgY2h1bmtlclxuICAgIC8vICcrMTA6MDAnID4gWycxMCcsICAnMDAnXVxuICAgIC8vICctMTUzMCcgID4gWyctMTUnLCAnMzAnXVxuICAgIHZhciBjaHVua09mZnNldCA9IC8oW1xcK1xcLV18XFxkXFxkKS9naTtcblxuICAgIGZ1bmN0aW9uIG9mZnNldEZyb21TdHJpbmcobWF0Y2hlciwgc3RyaW5nKSB7XG4gICAgICAgIHZhciBtYXRjaGVzID0gKHN0cmluZyB8fCAnJykubWF0Y2gobWF0Y2hlcik7XG5cbiAgICAgICAgaWYgKG1hdGNoZXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNodW5rICAgPSBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0gfHwgW107XG4gICAgICAgIHZhciBwYXJ0cyAgID0gKGNodW5rICsgJycpLm1hdGNoKGNodW5rT2Zmc2V0KSB8fCBbJy0nLCAwLCAwXTtcbiAgICAgICAgdmFyIG1pbnV0ZXMgPSArKHBhcnRzWzFdICogNjApICsgdG9JbnQocGFydHNbMl0pO1xuXG4gICAgICAgIHJldHVybiBtaW51dGVzID09PSAwID9cbiAgICAgICAgICAwIDpcbiAgICAgICAgICBwYXJ0c1swXSA9PT0gJysnID8gbWludXRlcyA6IC1taW51dGVzO1xuICAgIH1cblxuICAgIC8vIFJldHVybiBhIG1vbWVudCBmcm9tIGlucHV0LCB0aGF0IGlzIGxvY2FsL3V0Yy96b25lIGVxdWl2YWxlbnQgdG8gbW9kZWwuXG4gICAgZnVuY3Rpb24gY2xvbmVXaXRoT2Zmc2V0KGlucHV0LCBtb2RlbCkge1xuICAgICAgICB2YXIgcmVzLCBkaWZmO1xuICAgICAgICBpZiAobW9kZWwuX2lzVVRDKSB7XG4gICAgICAgICAgICByZXMgPSBtb2RlbC5jbG9uZSgpO1xuICAgICAgICAgICAgZGlmZiA9IChpc01vbWVudChpbnB1dCkgfHwgaXNEYXRlKGlucHV0KSA/IGlucHV0LnZhbHVlT2YoKSA6IGNyZWF0ZUxvY2FsKGlucHV0KS52YWx1ZU9mKCkpIC0gcmVzLnZhbHVlT2YoKTtcbiAgICAgICAgICAgIC8vIFVzZSBsb3ctbGV2ZWwgYXBpLCBiZWNhdXNlIHRoaXMgZm4gaXMgbG93LWxldmVsIGFwaS5cbiAgICAgICAgICAgIHJlcy5fZC5zZXRUaW1lKHJlcy5fZC52YWx1ZU9mKCkgKyBkaWZmKTtcbiAgICAgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldChyZXMsIGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWwoaW5wdXQpLmxvY2FsKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXREYXRlT2Zmc2V0IChtKSB7XG4gICAgICAgIC8vIE9uIEZpcmVmb3guMjQgRGF0ZSNnZXRUaW1lem9uZU9mZnNldCByZXR1cm5zIGEgZmxvYXRpbmcgcG9pbnQuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L3B1bGwvMTg3MVxuICAgICAgICByZXR1cm4gLU1hdGgucm91bmQobS5fZC5nZXRUaW1lem9uZU9mZnNldCgpIC8gMTUpICogMTU7XG4gICAgfVxuXG4gICAgLy8gSE9PS1NcblxuICAgIC8vIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgd2hlbmV2ZXIgYSBtb21lbnQgaXMgbXV0YXRlZC5cbiAgICAvLyBJdCBpcyBpbnRlbmRlZCB0byBrZWVwIHRoZSBvZmZzZXQgaW4gc3luYyB3aXRoIHRoZSB0aW1lem9uZS5cbiAgICBob29rcy51cGRhdGVPZmZzZXQgPSBmdW5jdGlvbiAoKSB7fTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIC8vIGtlZXBMb2NhbFRpbWUgPSB0cnVlIG1lYW5zIG9ubHkgY2hhbmdlIHRoZSB0aW1lem9uZSwgd2l0aG91dFxuICAgIC8vIGFmZmVjdGluZyB0aGUgbG9jYWwgaG91ci4gU28gNTozMToyNiArMDMwMCAtLVt1dGNPZmZzZXQoMiwgdHJ1ZSldLS0+XG4gICAgLy8gNTozMToyNiArMDIwMCBJdCBpcyBwb3NzaWJsZSB0aGF0IDU6MzE6MjYgZG9lc24ndCBleGlzdCB3aXRoIG9mZnNldFxuICAgIC8vICswMjAwLCBzbyB3ZSBhZGp1c3QgdGhlIHRpbWUgYXMgbmVlZGVkLCB0byBiZSB2YWxpZC5cbiAgICAvL1xuICAgIC8vIEtlZXBpbmcgdGhlIHRpbWUgYWN0dWFsbHkgYWRkcy9zdWJ0cmFjdHMgKG9uZSBob3VyKVxuICAgIC8vIGZyb20gdGhlIGFjdHVhbCByZXByZXNlbnRlZCB0aW1lLiBUaGF0IGlzIHdoeSB3ZSBjYWxsIHVwZGF0ZU9mZnNldFxuICAgIC8vIGEgc2Vjb25kIHRpbWUuIEluIGNhc2UgaXQgd2FudHMgdXMgdG8gY2hhbmdlIHRoZSBvZmZzZXQgYWdhaW5cbiAgICAvLyBfY2hhbmdlSW5Qcm9ncmVzcyA9PSB0cnVlIGNhc2UsIHRoZW4gd2UgaGF2ZSB0byBhZGp1c3QsIGJlY2F1c2VcbiAgICAvLyB0aGVyZSBpcyBubyBzdWNoIHRpbWUgaW4gdGhlIGdpdmVuIHRpbWV6b25lLlxuICAgIGZ1bmN0aW9uIGdldFNldE9mZnNldCAoaW5wdXQsIGtlZXBMb2NhbFRpbWUsIGtlZXBNaW51dGVzKSB7XG4gICAgICAgIHZhciBvZmZzZXQgPSB0aGlzLl9vZmZzZXQgfHwgMCxcbiAgICAgICAgICAgIGxvY2FsQWRqdXN0O1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQgPSBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoU2hvcnRPZmZzZXQsIGlucHV0KTtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyhpbnB1dCkgPCAxNiAmJiAha2VlcE1pbnV0ZXMpIHtcbiAgICAgICAgICAgICAgICBpbnB1dCA9IGlucHV0ICogNjA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2lzVVRDICYmIGtlZXBMb2NhbFRpbWUpIHtcbiAgICAgICAgICAgICAgICBsb2NhbEFkanVzdCA9IGdldERhdGVPZmZzZXQodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9vZmZzZXQgPSBpbnB1dDtcbiAgICAgICAgICAgIHRoaXMuX2lzVVRDID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChsb2NhbEFkanVzdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQobG9jYWxBZGp1c3QsICdtJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob2Zmc2V0ICE9PSBpbnB1dCkge1xuICAgICAgICAgICAgICAgIGlmICgha2VlcExvY2FsVGltZSB8fCB0aGlzLl9jaGFuZ2VJblByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFN1YnRyYWN0KHRoaXMsIGNyZWF0ZUR1cmF0aW9uKGlucHV0IC0gb2Zmc2V0LCAnbScpLCAxLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VJblByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc1VUQyA/IG9mZnNldCA6IGdldERhdGVPZmZzZXQodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTZXRab25lIChpbnB1dCwga2VlcExvY2FsVGltZSkge1xuICAgICAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBpbnB1dCA9IC1pbnB1dDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQoaW5wdXQsIGtlZXBMb2NhbFRpbWUpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAtdGhpcy51dGNPZmZzZXQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldE9mZnNldFRvVVRDIChrZWVwTG9jYWxUaW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnV0Y09mZnNldCgwLCBrZWVwTG9jYWxUaW1lKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRPZmZzZXRUb0xvY2FsIChrZWVwTG9jYWxUaW1lKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc1VUQykge1xuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQoMCwga2VlcExvY2FsVGltZSk7XG4gICAgICAgICAgICB0aGlzLl9pc1VUQyA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAoa2VlcExvY2FsVGltZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3VidHJhY3QoZ2V0RGF0ZU9mZnNldCh0aGlzKSwgJ20nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRPZmZzZXRUb1BhcnNlZE9mZnNldCAoKSB7XG4gICAgICAgIGlmICh0aGlzLl90em0gIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQodGhpcy5fdHptLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMuX2kgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgdFpvbmUgPSBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoT2Zmc2V0LCB0aGlzLl9pKTtcbiAgICAgICAgICAgIGlmICh0Wm9uZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQodFpvbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQoMCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFzQWxpZ25lZEhvdXJPZmZzZXQgKGlucHV0KSB7XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpbnB1dCA9IGlucHV0ID8gY3JlYXRlTG9jYWwoaW5wdXQpLnV0Y09mZnNldCgpIDogMDtcblxuICAgICAgICByZXR1cm4gKHRoaXMudXRjT2Zmc2V0KCkgLSBpbnB1dCkgJSA2MCA9PT0gMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0RheWxpZ2h0U2F2aW5nVGltZSAoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICB0aGlzLnV0Y09mZnNldCgpID4gdGhpcy5jbG9uZSgpLm1vbnRoKDApLnV0Y09mZnNldCgpIHx8XG4gICAgICAgICAgICB0aGlzLnV0Y09mZnNldCgpID4gdGhpcy5jbG9uZSgpLm1vbnRoKDUpLnV0Y09mZnNldCgpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNEYXlsaWdodFNhdmluZ1RpbWVTaGlmdGVkICgpIHtcbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZCh0aGlzLl9pc0RTVFNoaWZ0ZWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXNEU1RTaGlmdGVkO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGMgPSB7fTtcblxuICAgICAgICBjb3B5Q29uZmlnKGMsIHRoaXMpO1xuICAgICAgICBjID0gcHJlcGFyZUNvbmZpZyhjKTtcblxuICAgICAgICBpZiAoYy5fYSkge1xuICAgICAgICAgICAgdmFyIG90aGVyID0gYy5faXNVVEMgPyBjcmVhdGVVVEMoYy5fYSkgOiBjcmVhdGVMb2NhbChjLl9hKTtcbiAgICAgICAgICAgIHRoaXMuX2lzRFNUU2hpZnRlZCA9IHRoaXMuaXNWYWxpZCgpICYmXG4gICAgICAgICAgICAgICAgY29tcGFyZUFycmF5cyhjLl9hLCBvdGhlci50b0FycmF5KCkpID4gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2lzRFNUU2hpZnRlZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRFNUU2hpZnRlZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0xvY2FsICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gIXRoaXMuX2lzVVRDIDogZmFsc2U7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNVdGNPZmZzZXQgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLl9pc1VUQyA6IGZhbHNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzVXRjICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpcy5faXNVVEMgJiYgdGhpcy5fb2Zmc2V0ID09PSAwIDogZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQVNQLk5FVCBqc29uIGRhdGUgZm9ybWF0IHJlZ2V4XG4gICAgdmFyIGFzcE5ldFJlZ2V4ID0gL14oXFwtfFxcKyk/KD86KFxcZCopWy4gXSk/KFxcZCspXFw6KFxcZCspKD86XFw6KFxcZCspKFxcLlxcZCopPyk/JC87XG5cbiAgICAvLyBmcm9tIGh0dHA6Ly9kb2NzLmNsb3N1cmUtbGlicmFyeS5nb29nbGVjb2RlLmNvbS9naXQvY2xvc3VyZV9nb29nX2RhdGVfZGF0ZS5qcy5zb3VyY2UuaHRtbFxuICAgIC8vIHNvbWV3aGF0IG1vcmUgaW4gbGluZSB3aXRoIDQuNC4zLjIgMjAwNCBzcGVjLCBidXQgYWxsb3dzIGRlY2ltYWwgYW55d2hlcmVcbiAgICAvLyBhbmQgZnVydGhlciBtb2RpZmllZCB0byBhbGxvdyBmb3Igc3RyaW5ncyBjb250YWluaW5nIGJvdGggd2VlayBhbmQgZGF5XG4gICAgdmFyIGlzb1JlZ2V4ID0gL14oLXxcXCspP1AoPzooWy0rXT9bMC05LC5dKilZKT8oPzooWy0rXT9bMC05LC5dKilNKT8oPzooWy0rXT9bMC05LC5dKilXKT8oPzooWy0rXT9bMC05LC5dKilEKT8oPzpUKD86KFstK10/WzAtOSwuXSopSCk/KD86KFstK10/WzAtOSwuXSopTSk/KD86KFstK10/WzAtOSwuXSopUyk/KT8kLztcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUR1cmF0aW9uIChpbnB1dCwga2V5KSB7XG4gICAgICAgIHZhciBkdXJhdGlvbiA9IGlucHV0LFxuICAgICAgICAgICAgLy8gbWF0Y2hpbmcgYWdhaW5zdCByZWdleHAgaXMgZXhwZW5zaXZlLCBkbyBpdCBvbiBkZW1hbmRcbiAgICAgICAgICAgIG1hdGNoID0gbnVsbCxcbiAgICAgICAgICAgIHNpZ24sXG4gICAgICAgICAgICByZXQsXG4gICAgICAgICAgICBkaWZmUmVzO1xuXG4gICAgICAgIGlmIChpc0R1cmF0aW9uKGlucHV0KSkge1xuICAgICAgICAgICAgZHVyYXRpb24gPSB7XG4gICAgICAgICAgICAgICAgbXMgOiBpbnB1dC5fbWlsbGlzZWNvbmRzLFxuICAgICAgICAgICAgICAgIGQgIDogaW5wdXQuX2RheXMsXG4gICAgICAgICAgICAgICAgTSAgOiBpbnB1dC5fbW9udGhzXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGlucHV0KSkge1xuICAgICAgICAgICAgZHVyYXRpb24gPSB7fTtcbiAgICAgICAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbltrZXldID0gaW5wdXQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uLm1pbGxpc2Vjb25kcyA9IGlucHV0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCEhKG1hdGNoID0gYXNwTmV0UmVnZXguZXhlYyhpbnB1dCkpKSB7XG4gICAgICAgICAgICBzaWduID0gKG1hdGNoWzFdID09PSAnLScpID8gLTEgOiAxO1xuICAgICAgICAgICAgZHVyYXRpb24gPSB7XG4gICAgICAgICAgICAgICAgeSAgOiAwLFxuICAgICAgICAgICAgICAgIGQgIDogdG9JbnQobWF0Y2hbREFURV0pICAgICAgICAgICAgICAgICAgICAgICAgICogc2lnbixcbiAgICAgICAgICAgICAgICBoICA6IHRvSW50KG1hdGNoW0hPVVJdKSAgICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG4gICAgICAgICAgICAgICAgbSAgOiB0b0ludChtYXRjaFtNSU5VVEVdKSAgICAgICAgICAgICAgICAgICAgICAgKiBzaWduLFxuICAgICAgICAgICAgICAgIHMgIDogdG9JbnQobWF0Y2hbU0VDT05EXSkgICAgICAgICAgICAgICAgICAgICAgICogc2lnbixcbiAgICAgICAgICAgICAgICBtcyA6IHRvSW50KGFic1JvdW5kKG1hdGNoW01JTExJU0VDT05EXSAqIDEwMDApKSAqIHNpZ24gLy8gdGhlIG1pbGxpc2Vjb25kIGRlY2ltYWwgcG9pbnQgaXMgaW5jbHVkZWQgaW4gdGhlIG1hdGNoXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKCEhKG1hdGNoID0gaXNvUmVnZXguZXhlYyhpbnB1dCkpKSB7XG4gICAgICAgICAgICBzaWduID0gKG1hdGNoWzFdID09PSAnLScpID8gLTEgOiAxO1xuICAgICAgICAgICAgZHVyYXRpb24gPSB7XG4gICAgICAgICAgICAgICAgeSA6IHBhcnNlSXNvKG1hdGNoWzJdLCBzaWduKSxcbiAgICAgICAgICAgICAgICBNIDogcGFyc2VJc28obWF0Y2hbM10sIHNpZ24pLFxuICAgICAgICAgICAgICAgIHcgOiBwYXJzZUlzbyhtYXRjaFs0XSwgc2lnbiksXG4gICAgICAgICAgICAgICAgZCA6IHBhcnNlSXNvKG1hdGNoWzVdLCBzaWduKSxcbiAgICAgICAgICAgICAgICBoIDogcGFyc2VJc28obWF0Y2hbNl0sIHNpZ24pLFxuICAgICAgICAgICAgICAgIG0gOiBwYXJzZUlzbyhtYXRjaFs3XSwgc2lnbiksXG4gICAgICAgICAgICAgICAgcyA6IHBhcnNlSXNvKG1hdGNoWzhdLCBzaWduKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChkdXJhdGlvbiA9PSBudWxsKSB7Ly8gY2hlY2tzIGZvciBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgZHVyYXRpb24gPSB7fTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZHVyYXRpb24gPT09ICdvYmplY3QnICYmICgnZnJvbScgaW4gZHVyYXRpb24gfHwgJ3RvJyBpbiBkdXJhdGlvbikpIHtcbiAgICAgICAgICAgIGRpZmZSZXMgPSBtb21lbnRzRGlmZmVyZW5jZShjcmVhdGVMb2NhbChkdXJhdGlvbi5mcm9tKSwgY3JlYXRlTG9jYWwoZHVyYXRpb24udG8pKTtcblxuICAgICAgICAgICAgZHVyYXRpb24gPSB7fTtcbiAgICAgICAgICAgIGR1cmF0aW9uLm1zID0gZGlmZlJlcy5taWxsaXNlY29uZHM7XG4gICAgICAgICAgICBkdXJhdGlvbi5NID0gZGlmZlJlcy5tb250aHM7XG4gICAgICAgIH1cblxuICAgICAgICByZXQgPSBuZXcgRHVyYXRpb24oZHVyYXRpb24pO1xuXG4gICAgICAgIGlmIChpc0R1cmF0aW9uKGlucHV0KSAmJiBoYXNPd25Qcm9wKGlucHV0LCAnX2xvY2FsZScpKSB7XG4gICAgICAgICAgICByZXQuX2xvY2FsZSA9IGlucHV0Ll9sb2NhbGU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cblxuICAgIGNyZWF0ZUR1cmF0aW9uLmZuID0gRHVyYXRpb24ucHJvdG90eXBlO1xuICAgIGNyZWF0ZUR1cmF0aW9uLmludmFsaWQgPSBjcmVhdGVJbnZhbGlkJDE7XG5cbiAgICBmdW5jdGlvbiBwYXJzZUlzbyAoaW5wLCBzaWduKSB7XG4gICAgICAgIC8vIFdlJ2Qgbm9ybWFsbHkgdXNlIH5+aW5wIGZvciB0aGlzLCBidXQgdW5mb3J0dW5hdGVseSBpdCBhbHNvXG4gICAgICAgIC8vIGNvbnZlcnRzIGZsb2F0cyB0byBpbnRzLlxuICAgICAgICAvLyBpbnAgbWF5IGJlIHVuZGVmaW5lZCwgc28gY2FyZWZ1bCBjYWxsaW5nIHJlcGxhY2Ugb24gaXQuXG4gICAgICAgIHZhciByZXMgPSBpbnAgJiYgcGFyc2VGbG9hdChpbnAucmVwbGFjZSgnLCcsICcuJykpO1xuICAgICAgICAvLyBhcHBseSBzaWduIHdoaWxlIHdlJ3JlIGF0IGl0XG4gICAgICAgIHJldHVybiAoaXNOYU4ocmVzKSA/IDAgOiByZXMpICogc2lnbjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKGJhc2UsIG90aGVyKSB7XG4gICAgICAgIHZhciByZXMgPSB7fTtcblxuICAgICAgICByZXMubW9udGhzID0gb3RoZXIubW9udGgoKSAtIGJhc2UubW9udGgoKSArXG4gICAgICAgICAgICAob3RoZXIueWVhcigpIC0gYmFzZS55ZWFyKCkpICogMTI7XG4gICAgICAgIGlmIChiYXNlLmNsb25lKCkuYWRkKHJlcy5tb250aHMsICdNJykuaXNBZnRlcihvdGhlcikpIHtcbiAgICAgICAgICAgIC0tcmVzLm1vbnRocztcbiAgICAgICAgfVxuXG4gICAgICAgIHJlcy5taWxsaXNlY29uZHMgPSArb3RoZXIgLSArKGJhc2UuY2xvbmUoKS5hZGQocmVzLm1vbnRocywgJ00nKSk7XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcikge1xuICAgICAgICB2YXIgcmVzO1xuICAgICAgICBpZiAoIShiYXNlLmlzVmFsaWQoKSAmJiBvdGhlci5pc1ZhbGlkKCkpKSB7XG4gICAgICAgICAgICByZXR1cm4ge21pbGxpc2Vjb25kczogMCwgbW9udGhzOiAwfTtcbiAgICAgICAgfVxuXG4gICAgICAgIG90aGVyID0gY2xvbmVXaXRoT2Zmc2V0KG90aGVyLCBiYXNlKTtcbiAgICAgICAgaWYgKGJhc2UuaXNCZWZvcmUob3RoZXIpKSB7XG4gICAgICAgICAgICByZXMgPSBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKGJhc2UsIG90aGVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlcyA9IHBvc2l0aXZlTW9tZW50c0RpZmZlcmVuY2Uob3RoZXIsIGJhc2UpO1xuICAgICAgICAgICAgcmVzLm1pbGxpc2Vjb25kcyA9IC1yZXMubWlsbGlzZWNvbmRzO1xuICAgICAgICAgICAgcmVzLm1vbnRocyA9IC1yZXMubW9udGhzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICAvLyBUT0RPOiByZW1vdmUgJ25hbWUnIGFyZyBhZnRlciBkZXByZWNhdGlvbiBpcyByZW1vdmVkXG4gICAgZnVuY3Rpb24gY3JlYXRlQWRkZXIoZGlyZWN0aW9uLCBuYW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodmFsLCBwZXJpb2QpIHtcbiAgICAgICAgICAgIHZhciBkdXIsIHRtcDtcbiAgICAgICAgICAgIC8vaW52ZXJ0IHRoZSBhcmd1bWVudHMsIGJ1dCBjb21wbGFpbiBhYm91dCBpdFxuICAgICAgICAgICAgaWYgKHBlcmlvZCAhPT0gbnVsbCAmJiAhaXNOYU4oK3BlcmlvZCkpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGVTaW1wbGUobmFtZSwgJ21vbWVudCgpLicgKyBuYW1lICArICcocGVyaW9kLCBudW1iZXIpIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgbW9tZW50KCkuJyArIG5hbWUgKyAnKG51bWJlciwgcGVyaW9kKS4gJyArXG4gICAgICAgICAgICAgICAgJ1NlZSBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2FkZC1pbnZlcnRlZC1wYXJhbS8gZm9yIG1vcmUgaW5mby4nKTtcbiAgICAgICAgICAgICAgICB0bXAgPSB2YWw7IHZhbCA9IHBlcmlvZDsgcGVyaW9kID0gdG1wO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YWwgPSB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyA/ICt2YWwgOiB2YWw7XG4gICAgICAgICAgICBkdXIgPSBjcmVhdGVEdXJhdGlvbih2YWwsIHBlcmlvZCk7XG4gICAgICAgICAgICBhZGRTdWJ0cmFjdCh0aGlzLCBkdXIsIGRpcmVjdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRTdWJ0cmFjdCAobW9tLCBkdXJhdGlvbiwgaXNBZGRpbmcsIHVwZGF0ZU9mZnNldCkge1xuICAgICAgICB2YXIgbWlsbGlzZWNvbmRzID0gZHVyYXRpb24uX21pbGxpc2Vjb25kcyxcbiAgICAgICAgICAgIGRheXMgPSBhYnNSb3VuZChkdXJhdGlvbi5fZGF5cyksXG4gICAgICAgICAgICBtb250aHMgPSBhYnNSb3VuZChkdXJhdGlvbi5fbW9udGhzKTtcblxuICAgICAgICBpZiAoIW1vbS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIC8vIE5vIG9wXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB1cGRhdGVPZmZzZXQgPSB1cGRhdGVPZmZzZXQgPT0gbnVsbCA/IHRydWUgOiB1cGRhdGVPZmZzZXQ7XG5cbiAgICAgICAgaWYgKG1vbnRocykge1xuICAgICAgICAgICAgc2V0TW9udGgobW9tLCBnZXQobW9tLCAnTW9udGgnKSArIG1vbnRocyAqIGlzQWRkaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF5cykge1xuICAgICAgICAgICAgc2V0JDEobW9tLCAnRGF0ZScsIGdldChtb20sICdEYXRlJykgKyBkYXlzICogaXNBZGRpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtaWxsaXNlY29uZHMpIHtcbiAgICAgICAgICAgIG1vbS5fZC5zZXRUaW1lKG1vbS5fZC52YWx1ZU9mKCkgKyBtaWxsaXNlY29uZHMgKiBpc0FkZGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVwZGF0ZU9mZnNldCkge1xuICAgICAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KG1vbSwgZGF5cyB8fCBtb250aHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGFkZCAgICAgID0gY3JlYXRlQWRkZXIoMSwgJ2FkZCcpO1xuICAgIHZhciBzdWJ0cmFjdCA9IGNyZWF0ZUFkZGVyKC0xLCAnc3VidHJhY3QnKTtcblxuICAgIGZ1bmN0aW9uIGdldENhbGVuZGFyRm9ybWF0KG15TW9tZW50LCBub3cpIHtcbiAgICAgICAgdmFyIGRpZmYgPSBteU1vbWVudC5kaWZmKG5vdywgJ2RheXMnLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIGRpZmYgPCAtNiA/ICdzYW1lRWxzZScgOlxuICAgICAgICAgICAgICAgIGRpZmYgPCAtMSA/ICdsYXN0V2VlaycgOlxuICAgICAgICAgICAgICAgIGRpZmYgPCAwID8gJ2xhc3REYXknIDpcbiAgICAgICAgICAgICAgICBkaWZmIDwgMSA/ICdzYW1lRGF5JyA6XG4gICAgICAgICAgICAgICAgZGlmZiA8IDIgPyAnbmV4dERheScgOlxuICAgICAgICAgICAgICAgIGRpZmYgPCA3ID8gJ25leHRXZWVrJyA6ICdzYW1lRWxzZSc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FsZW5kYXIkMSAodGltZSwgZm9ybWF0cykge1xuICAgICAgICAvLyBXZSB3YW50IHRvIGNvbXBhcmUgdGhlIHN0YXJ0IG9mIHRvZGF5LCB2cyB0aGlzLlxuICAgICAgICAvLyBHZXR0aW5nIHN0YXJ0LW9mLXRvZGF5IGRlcGVuZHMgb24gd2hldGhlciB3ZSdyZSBsb2NhbC91dGMvb2Zmc2V0IG9yIG5vdC5cbiAgICAgICAgdmFyIG5vdyA9IHRpbWUgfHwgY3JlYXRlTG9jYWwoKSxcbiAgICAgICAgICAgIHNvZCA9IGNsb25lV2l0aE9mZnNldChub3csIHRoaXMpLnN0YXJ0T2YoJ2RheScpLFxuICAgICAgICAgICAgZm9ybWF0ID0gaG9va3MuY2FsZW5kYXJGb3JtYXQodGhpcywgc29kKSB8fCAnc2FtZUVsc2UnO1xuXG4gICAgICAgIHZhciBvdXRwdXQgPSBmb3JtYXRzICYmIChpc0Z1bmN0aW9uKGZvcm1hdHNbZm9ybWF0XSkgPyBmb3JtYXRzW2Zvcm1hdF0uY2FsbCh0aGlzLCBub3cpIDogZm9ybWF0c1tmb3JtYXRdKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXQob3V0cHV0IHx8IHRoaXMubG9jYWxlRGF0YSgpLmNhbGVuZGFyKGZvcm1hdCwgdGhpcywgY3JlYXRlTG9jYWwobm93KSkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsb25lICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNb21lbnQodGhpcyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNBZnRlciAoaW5wdXQsIHVuaXRzKSB7XG4gICAgICAgIHZhciBsb2NhbElucHV0ID0gaXNNb21lbnQoaW5wdXQpID8gaW5wdXQgOiBjcmVhdGVMb2NhbChpbnB1dCk7XG4gICAgICAgIGlmICghKHRoaXMuaXNWYWxpZCgpICYmIGxvY2FsSW5wdXQuaXNWYWxpZCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpIHx8ICdtaWxsaXNlY29uZCc7XG4gICAgICAgIGlmICh1bml0cyA9PT0gJ21pbGxpc2Vjb25kJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVPZigpID4gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxJbnB1dC52YWx1ZU9mKCkgPCB0aGlzLmNsb25lKCkuc3RhcnRPZih1bml0cykudmFsdWVPZigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNCZWZvcmUgKGlucHV0LCB1bml0cykge1xuICAgICAgICB2YXIgbG9jYWxJbnB1dCA9IGlzTW9tZW50KGlucHV0KSA/IGlucHV0IDogY3JlYXRlTG9jYWwoaW5wdXQpO1xuICAgICAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbElucHV0LmlzVmFsaWQoKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKSB8fCAnbWlsbGlzZWNvbmQnO1xuICAgICAgICBpZiAodW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKSA8IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5lbmRPZih1bml0cykudmFsdWVPZigpIDwgbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0JldHdlZW4gKGZyb20sIHRvLCB1bml0cywgaW5jbHVzaXZpdHkpIHtcbiAgICAgICAgdmFyIGxvY2FsRnJvbSA9IGlzTW9tZW50KGZyb20pID8gZnJvbSA6IGNyZWF0ZUxvY2FsKGZyb20pLFxuICAgICAgICAgICAgbG9jYWxUbyA9IGlzTW9tZW50KHRvKSA/IHRvIDogY3JlYXRlTG9jYWwodG8pO1xuICAgICAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbEZyb20uaXNWYWxpZCgpICYmIGxvY2FsVG8uaXNWYWxpZCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGluY2x1c2l2aXR5ID0gaW5jbHVzaXZpdHkgfHwgJygpJztcbiAgICAgICAgcmV0dXJuIChpbmNsdXNpdml0eVswXSA9PT0gJygnID8gdGhpcy5pc0FmdGVyKGxvY2FsRnJvbSwgdW5pdHMpIDogIXRoaXMuaXNCZWZvcmUobG9jYWxGcm9tLCB1bml0cykpICYmXG4gICAgICAgICAgICAoaW5jbHVzaXZpdHlbMV0gPT09ICcpJyA/IHRoaXMuaXNCZWZvcmUobG9jYWxUbywgdW5pdHMpIDogIXRoaXMuaXNBZnRlcihsb2NhbFRvLCB1bml0cykpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzU2FtZSAoaW5wdXQsIHVuaXRzKSB7XG4gICAgICAgIHZhciBsb2NhbElucHV0ID0gaXNNb21lbnQoaW5wdXQpID8gaW5wdXQgOiBjcmVhdGVMb2NhbChpbnB1dCksXG4gICAgICAgICAgICBpbnB1dE1zO1xuICAgICAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbElucHV0LmlzVmFsaWQoKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKSB8fCAnbWlsbGlzZWNvbmQnO1xuICAgICAgICBpZiAodW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKSA9PT0gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbnB1dE1zID0gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLnN0YXJ0T2YodW5pdHMpLnZhbHVlT2YoKSA8PSBpbnB1dE1zICYmIGlucHV0TXMgPD0gdGhpcy5jbG9uZSgpLmVuZE9mKHVuaXRzKS52YWx1ZU9mKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1NhbWVPckFmdGVyIChpbnB1dCwgdW5pdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNTYW1lKGlucHV0LCB1bml0cykgfHwgdGhpcy5pc0FmdGVyKGlucHV0LCB1bml0cyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNTYW1lT3JCZWZvcmUgKGlucHV0LCB1bml0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1NhbWUoaW5wdXQsIHVuaXRzKSB8fCB0aGlzLmlzQmVmb3JlKGlucHV0LCB1bml0cyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGlmZiAoaW5wdXQsIHVuaXRzLCBhc0Zsb2F0KSB7XG4gICAgICAgIHZhciB0aGF0LFxuICAgICAgICAgICAgem9uZURlbHRhLFxuICAgICAgICAgICAgb3V0cHV0O1xuXG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgIH1cblxuICAgICAgICB0aGF0ID0gY2xvbmVXaXRoT2Zmc2V0KGlucHV0LCB0aGlzKTtcblxuICAgICAgICBpZiAoIXRoYXQuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG5cbiAgICAgICAgem9uZURlbHRhID0gKHRoYXQudXRjT2Zmc2V0KCkgLSB0aGlzLnV0Y09mZnNldCgpKSAqIDZlNDtcblxuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcblxuICAgICAgICBzd2l0Y2ggKHVuaXRzKSB7XG4gICAgICAgICAgICBjYXNlICd5ZWFyJzogb3V0cHV0ID0gbW9udGhEaWZmKHRoaXMsIHRoYXQpIC8gMTI7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbW9udGgnOiBvdXRwdXQgPSBtb250aERpZmYodGhpcywgdGhhdCk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncXVhcnRlcic6IG91dHB1dCA9IG1vbnRoRGlmZih0aGlzLCB0aGF0KSAvIDM7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc2Vjb25kJzogb3V0cHV0ID0gKHRoaXMgLSB0aGF0KSAvIDFlMzsgYnJlYWs7IC8vIDEwMDBcbiAgICAgICAgICAgIGNhc2UgJ21pbnV0ZSc6IG91dHB1dCA9ICh0aGlzIC0gdGhhdCkgLyA2ZTQ7IGJyZWFrOyAvLyAxMDAwICogNjBcbiAgICAgICAgICAgIGNhc2UgJ2hvdXInOiBvdXRwdXQgPSAodGhpcyAtIHRoYXQpIC8gMzZlNTsgYnJlYWs7IC8vIDEwMDAgKiA2MCAqIDYwXG4gICAgICAgICAgICBjYXNlICdkYXknOiBvdXRwdXQgPSAodGhpcyAtIHRoYXQgLSB6b25lRGVsdGEpIC8gODY0ZTU7IGJyZWFrOyAvLyAxMDAwICogNjAgKiA2MCAqIDI0LCBuZWdhdGUgZHN0XG4gICAgICAgICAgICBjYXNlICd3ZWVrJzogb3V0cHV0ID0gKHRoaXMgLSB0aGF0IC0gem9uZURlbHRhKSAvIDYwNDhlNTsgYnJlYWs7IC8vIDEwMDAgKiA2MCAqIDYwICogMjQgKiA3LCBuZWdhdGUgZHN0XG4gICAgICAgICAgICBkZWZhdWx0OiBvdXRwdXQgPSB0aGlzIC0gdGhhdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhc0Zsb2F0ID8gb3V0cHV0IDogYWJzRmxvb3Iob3V0cHV0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtb250aERpZmYgKGEsIGIpIHtcbiAgICAgICAgLy8gZGlmZmVyZW5jZSBpbiBtb250aHNcbiAgICAgICAgdmFyIHdob2xlTW9udGhEaWZmID0gKChiLnllYXIoKSAtIGEueWVhcigpKSAqIDEyKSArIChiLm1vbnRoKCkgLSBhLm1vbnRoKCkpLFxuICAgICAgICAgICAgLy8gYiBpcyBpbiAoYW5jaG9yIC0gMSBtb250aCwgYW5jaG9yICsgMSBtb250aClcbiAgICAgICAgICAgIGFuY2hvciA9IGEuY2xvbmUoKS5hZGQod2hvbGVNb250aERpZmYsICdtb250aHMnKSxcbiAgICAgICAgICAgIGFuY2hvcjIsIGFkanVzdDtcblxuICAgICAgICBpZiAoYiAtIGFuY2hvciA8IDApIHtcbiAgICAgICAgICAgIGFuY2hvcjIgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmIC0gMSwgJ21vbnRocycpO1xuICAgICAgICAgICAgLy8gbGluZWFyIGFjcm9zcyB0aGUgbW9udGhcbiAgICAgICAgICAgIGFkanVzdCA9IChiIC0gYW5jaG9yKSAvIChhbmNob3IgLSBhbmNob3IyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFuY2hvcjIgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmICsgMSwgJ21vbnRocycpO1xuICAgICAgICAgICAgLy8gbGluZWFyIGFjcm9zcyB0aGUgbW9udGhcbiAgICAgICAgICAgIGFkanVzdCA9IChiIC0gYW5jaG9yKSAvIChhbmNob3IyIC0gYW5jaG9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vY2hlY2sgZm9yIG5lZ2F0aXZlIHplcm8sIHJldHVybiB6ZXJvIGlmIG5lZ2F0aXZlIHplcm9cbiAgICAgICAgcmV0dXJuIC0od2hvbGVNb250aERpZmYgKyBhZGp1c3QpIHx8IDA7XG4gICAgfVxuXG4gICAgaG9va3MuZGVmYXVsdEZvcm1hdCA9ICdZWVlZLU1NLUREVEhIOm1tOnNzWic7XG4gICAgaG9va3MuZGVmYXVsdEZvcm1hdFV0YyA9ICdZWVlZLU1NLUREVEhIOm1tOnNzW1pdJztcblxuICAgIGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5sb2NhbGUoJ2VuJykuZm9ybWF0KCdkZGQgTU1NIEREIFlZWVkgSEg6bW06c3MgW0dNVF1aWicpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvSVNPU3RyaW5nKGtlZXBPZmZzZXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHV0YyA9IGtlZXBPZmZzZXQgIT09IHRydWU7XG4gICAgICAgIHZhciBtID0gdXRjID8gdGhpcy5jbG9uZSgpLnV0YygpIDogdGhpcztcbiAgICAgICAgaWYgKG0ueWVhcigpIDwgMCB8fCBtLnllYXIoKSA+IDk5OTkpIHtcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXRNb21lbnQobSwgdXRjID8gJ1lZWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1taXScgOiAnWVlZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTWicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nKSkge1xuICAgICAgICAgICAgLy8gbmF0aXZlIGltcGxlbWVudGF0aW9uIGlzIH41MHggZmFzdGVyLCB1c2UgaXQgd2hlbiB3ZSBjYW5cbiAgICAgICAgICAgIGlmICh1dGMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50b0RhdGUoKS50b0lTT1N0cmluZygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUodGhpcy52YWx1ZU9mKCkgKyB0aGlzLnV0Y09mZnNldCgpICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLnJlcGxhY2UoJ1onLCBmb3JtYXRNb21lbnQobSwgJ1onKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvcm1hdE1vbWVudChtLCB1dGMgPyAnWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1taXScgOiAnWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1onKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSBodW1hbiByZWFkYWJsZSByZXByZXNlbnRhdGlvbiBvZiBhIG1vbWVudCB0aGF0IGNhblxuICAgICAqIGFsc28gYmUgZXZhbHVhdGVkIHRvIGdldCBhIG5ldyBtb21lbnQgd2hpY2ggaXMgdGhlIHNhbWVcbiAgICAgKlxuICAgICAqIEBsaW5rIGh0dHBzOi8vbm9kZWpzLm9yZy9kaXN0L2xhdGVzdC9kb2NzL2FwaS91dGlsLmh0bWwjdXRpbF9jdXN0b21faW5zcGVjdF9mdW5jdGlvbl9vbl9vYmplY3RzXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5zcGVjdCAoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiAnbW9tZW50LmludmFsaWQoLyogJyArIHRoaXMuX2kgKyAnICovKSc7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZ1bmMgPSAnbW9tZW50JztcbiAgICAgICAgdmFyIHpvbmUgPSAnJztcbiAgICAgICAgaWYgKCF0aGlzLmlzTG9jYWwoKSkge1xuICAgICAgICAgICAgZnVuYyA9IHRoaXMudXRjT2Zmc2V0KCkgPT09IDAgPyAnbW9tZW50LnV0YycgOiAnbW9tZW50LnBhcnNlWm9uZSc7XG4gICAgICAgICAgICB6b25lID0gJ1onO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcmVmaXggPSAnWycgKyBmdW5jICsgJyhcIl0nO1xuICAgICAgICB2YXIgeWVhciA9ICgwIDw9IHRoaXMueWVhcigpICYmIHRoaXMueWVhcigpIDw9IDk5OTkpID8gJ1lZWVknIDogJ1lZWVlZWSc7XG4gICAgICAgIHZhciBkYXRldGltZSA9ICctTU0tRERbVF1ISDptbTpzcy5TU1MnO1xuICAgICAgICB2YXIgc3VmZml4ID0gem9uZSArICdbXCIpXSc7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0KHByZWZpeCArIHllYXIgKyBkYXRldGltZSArIHN1ZmZpeCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZm9ybWF0IChpbnB1dFN0cmluZykge1xuICAgICAgICBpZiAoIWlucHV0U3RyaW5nKSB7XG4gICAgICAgICAgICBpbnB1dFN0cmluZyA9IHRoaXMuaXNVdGMoKSA/IGhvb2tzLmRlZmF1bHRGb3JtYXRVdGMgOiBob29rcy5kZWZhdWx0Rm9ybWF0O1xuICAgICAgICB9XG4gICAgICAgIHZhciBvdXRwdXQgPSBmb3JtYXRNb21lbnQodGhpcywgaW5wdXRTdHJpbmcpO1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkucG9zdGZvcm1hdChvdXRwdXQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZyb20gKHRpbWUsIHdpdGhvdXRTdWZmaXgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNWYWxpZCgpICYmXG4gICAgICAgICAgICAgICAgKChpc01vbWVudCh0aW1lKSAmJiB0aW1lLmlzVmFsaWQoKSkgfHxcbiAgICAgICAgICAgICAgICAgY3JlYXRlTG9jYWwodGltZSkuaXNWYWxpZCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUR1cmF0aW9uKHt0bzogdGhpcywgZnJvbTogdGltZX0pLmxvY2FsZSh0aGlzLmxvY2FsZSgpKS5odW1hbml6ZSghd2l0aG91dFN1ZmZpeCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZyb21Ob3cgKHdpdGhvdXRTdWZmaXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnJvbShjcmVhdGVMb2NhbCgpLCB3aXRob3V0U3VmZml4KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0byAodGltZSwgd2l0aG91dFN1ZmZpeCkge1xuICAgICAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiZcbiAgICAgICAgICAgICAgICAoKGlzTW9tZW50KHRpbWUpICYmIHRpbWUuaXNWYWxpZCgpKSB8fFxuICAgICAgICAgICAgICAgICBjcmVhdGVMb2NhbCh0aW1lKS5pc1ZhbGlkKCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlRHVyYXRpb24oe2Zyb206IHRoaXMsIHRvOiB0aW1lfSkubG9jYWxlKHRoaXMubG9jYWxlKCkpLmh1bWFuaXplKCF3aXRob3V0U3VmZml4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9Ob3cgKHdpdGhvdXRTdWZmaXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG8oY3JlYXRlTG9jYWwoKSwgd2l0aG91dFN1ZmZpeCk7XG4gICAgfVxuXG4gICAgLy8gSWYgcGFzc2VkIGEgbG9jYWxlIGtleSwgaXQgd2lsbCBzZXQgdGhlIGxvY2FsZSBmb3IgdGhpc1xuICAgIC8vIGluc3RhbmNlLiAgT3RoZXJ3aXNlLCBpdCB3aWxsIHJldHVybiB0aGUgbG9jYWxlIGNvbmZpZ3VyYXRpb25cbiAgICAvLyB2YXJpYWJsZXMgZm9yIHRoaXMgaW5zdGFuY2UuXG4gICAgZnVuY3Rpb24gbG9jYWxlIChrZXkpIHtcbiAgICAgICAgdmFyIG5ld0xvY2FsZURhdGE7XG5cbiAgICAgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxlLl9hYmJyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3TG9jYWxlRGF0YSA9IGdldExvY2FsZShrZXkpO1xuICAgICAgICAgICAgaWYgKG5ld0xvY2FsZURhdGEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsZSA9IG5ld0xvY2FsZURhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBsYW5nID0gZGVwcmVjYXRlKFxuICAgICAgICAnbW9tZW50KCkubGFuZygpIGlzIGRlcHJlY2F0ZWQuIEluc3RlYWQsIHVzZSBtb21lbnQoKS5sb2NhbGVEYXRhKCkgdG8gZ2V0IHRoZSBsYW5ndWFnZSBjb25maWd1cmF0aW9uLiBVc2UgbW9tZW50KCkubG9jYWxlKCkgdG8gY2hhbmdlIGxhbmd1YWdlcy4nLFxuICAgICAgICBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZShrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgKTtcblxuICAgIGZ1bmN0aW9uIGxvY2FsZURhdGEgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxlO1xuICAgIH1cblxuICAgIHZhciBNU19QRVJfU0VDT05EID0gMTAwMDtcbiAgICB2YXIgTVNfUEVSX01JTlVURSA9IDYwICogTVNfUEVSX1NFQ09ORDtcbiAgICB2YXIgTVNfUEVSX0hPVVIgPSA2MCAqIE1TX1BFUl9NSU5VVEU7XG4gICAgdmFyIE1TX1BFUl80MDBfWUVBUlMgPSAoMzY1ICogNDAwICsgOTcpICogMjQgKiBNU19QRVJfSE9VUjtcblxuICAgIC8vIGFjdHVhbCBtb2R1bG8gLSBoYW5kbGVzIG5lZ2F0aXZlIG51bWJlcnMgKGZvciBkYXRlcyBiZWZvcmUgMTk3MCk6XG4gICAgZnVuY3Rpb24gbW9kJDEoZGl2aWRlbmQsIGRpdmlzb3IpIHtcbiAgICAgICAgcmV0dXJuIChkaXZpZGVuZCAlIGRpdmlzb3IgKyBkaXZpc29yKSAlIGRpdmlzb3I7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9jYWxTdGFydE9mRGF0ZSh5LCBtLCBkKSB7XG4gICAgICAgIC8vIHRoZSBkYXRlIGNvbnN0cnVjdG9yIHJlbWFwcyB5ZWFycyAwLTk5IHRvIDE5MDAtMTk5OVxuICAgICAgICBpZiAoeSA8IDEwMCAmJiB5ID49IDApIHtcbiAgICAgICAgICAgIC8vIHByZXNlcnZlIGxlYXAgeWVhcnMgdXNpbmcgYSBmdWxsIDQwMCB5ZWFyIGN5Y2xlLCB0aGVuIHJlc2V0XG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoeSArIDQwMCwgbSwgZCkgLSBNU19QRVJfNDAwX1lFQVJTO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHksIG0sIGQpLnZhbHVlT2YoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHV0Y1N0YXJ0T2ZEYXRlKHksIG0sIGQpIHtcbiAgICAgICAgLy8gRGF0ZS5VVEMgcmVtYXBzIHllYXJzIDAtOTkgdG8gMTkwMC0xOTk5XG4gICAgICAgIGlmICh5IDwgMTAwICYmIHkgPj0gMCkge1xuICAgICAgICAgICAgLy8gcHJlc2VydmUgbGVhcCB5ZWFycyB1c2luZyBhIGZ1bGwgNDAwIHllYXIgY3ljbGUsIHRoZW4gcmVzZXRcbiAgICAgICAgICAgIHJldHVybiBEYXRlLlVUQyh5ICsgNDAwLCBtLCBkKSAtIE1TX1BFUl80MDBfWUVBUlM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gRGF0ZS5VVEMoeSwgbSwgZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdGFydE9mICh1bml0cykge1xuICAgICAgICB2YXIgdGltZTtcbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgICAgIGlmICh1bml0cyA9PT0gdW5kZWZpbmVkIHx8IHVuaXRzID09PSAnbWlsbGlzZWNvbmQnIHx8ICF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3RhcnRPZkRhdGUgPSB0aGlzLl9pc1VUQyA/IHV0Y1N0YXJ0T2ZEYXRlIDogbG9jYWxTdGFydE9mRGF0ZTtcblxuICAgICAgICBzd2l0Y2ggKHVuaXRzKSB7XG4gICAgICAgICAgICBjYXNlICd5ZWFyJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUodGhpcy55ZWFyKCksIDAsIDEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncXVhcnRlcic6XG4gICAgICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCkgLSB0aGlzLm1vbnRoKCkgJSAzLCAxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ21vbnRoJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSwgMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd3ZWVrJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSwgdGhpcy5kYXRlKCkgLSB0aGlzLndlZWtkYXkoKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdpc29XZWVrJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSwgdGhpcy5kYXRlKCkgLSAodGhpcy5pc29XZWVrZGF5KCkgLSAxKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkYXknOlxuICAgICAgICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCksIHRoaXMuZGF0ZSgpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2hvdXInOlxuICAgICAgICAgICAgICAgIHRpbWUgPSB0aGlzLl9kLnZhbHVlT2YoKTtcbiAgICAgICAgICAgICAgICB0aW1lIC09IG1vZCQxKHRpbWUgKyAodGhpcy5faXNVVEMgPyAwIDogdGhpcy51dGNPZmZzZXQoKSAqIE1TX1BFUl9NSU5VVEUpLCBNU19QRVJfSE9VUik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdtaW51dGUnOlxuICAgICAgICAgICAgICAgIHRpbWUgPSB0aGlzLl9kLnZhbHVlT2YoKTtcbiAgICAgICAgICAgICAgICB0aW1lIC09IG1vZCQxKHRpbWUsIE1TX1BFUl9NSU5VVEUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc2Vjb25kJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gdGhpcy5fZC52YWx1ZU9mKCk7XG4gICAgICAgICAgICAgICAgdGltZSAtPSBtb2QkMSh0aW1lLCBNU19QRVJfU0VDT05EKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2Quc2V0VGltZSh0aW1lKTtcbiAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMsIHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBlbmRPZiAodW5pdHMpIHtcbiAgICAgICAgdmFyIHRpbWU7XG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgICAgICBpZiAodW5pdHMgPT09IHVuZGVmaW5lZCB8fCB1bml0cyA9PT0gJ21pbGxpc2Vjb25kJyB8fCAhdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0YXJ0T2ZEYXRlID0gdGhpcy5faXNVVEMgPyB1dGNTdGFydE9mRGF0ZSA6IGxvY2FsU3RhcnRPZkRhdGU7XG5cbiAgICAgICAgc3dpdGNoICh1bml0cykge1xuICAgICAgICAgICAgY2FzZSAneWVhcic6XG4gICAgICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKHRoaXMueWVhcigpICsgMSwgMCwgMSkgLSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncXVhcnRlcic6XG4gICAgICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCkgLSB0aGlzLm1vbnRoKCkgJSAzICsgMywgMSkgLSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbW9udGgnOlxuICAgICAgICAgICAgICAgIHRpbWUgPSBzdGFydE9mRGF0ZSh0aGlzLnllYXIoKSwgdGhpcy5tb250aCgpICsgMSwgMSkgLSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnd2Vlayc6XG4gICAgICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCksIHRoaXMuZGF0ZSgpIC0gdGhpcy53ZWVrZGF5KCkgKyA3KSAtIDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdpc29XZWVrJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSwgdGhpcy5kYXRlKCkgLSAodGhpcy5pc29XZWVrZGF5KCkgLSAxKSArIDcpIC0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2RheSc6XG4gICAgICAgICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSwgdGhpcy5kYXRlKCkgKyAxKSAtIDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdob3VyJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gdGhpcy5fZC52YWx1ZU9mKCk7XG4gICAgICAgICAgICAgICAgdGltZSArPSBNU19QRVJfSE9VUiAtIG1vZCQxKHRpbWUgKyAodGhpcy5faXNVVEMgPyAwIDogdGhpcy51dGNPZmZzZXQoKSAqIE1TX1BFUl9NSU5VVEUpLCBNU19QRVJfSE9VUikgLSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbWludXRlJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gdGhpcy5fZC52YWx1ZU9mKCk7XG4gICAgICAgICAgICAgICAgdGltZSArPSBNU19QRVJfTUlOVVRFIC0gbW9kJDEodGltZSwgTVNfUEVSX01JTlVURSkgLSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc2Vjb25kJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gdGhpcy5fZC52YWx1ZU9mKCk7XG4gICAgICAgICAgICAgICAgdGltZSArPSBNU19QRVJfU0VDT05EIC0gbW9kJDEodGltZSwgTVNfUEVSX1NFQ09ORCkgLSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZC5zZXRUaW1lKHRpbWUpO1xuICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywgdHJ1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZhbHVlT2YgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZC52YWx1ZU9mKCkgLSAoKHRoaXMuX29mZnNldCB8fCAwKSAqIDYwMDAwKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1bml4ICgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcy52YWx1ZU9mKCkgLyAxMDAwKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b0RhdGUgKCkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUodGhpcy52YWx1ZU9mKCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvQXJyYXkgKCkge1xuICAgICAgICB2YXIgbSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBbbS55ZWFyKCksIG0ubW9udGgoKSwgbS5kYXRlKCksIG0uaG91cigpLCBtLm1pbnV0ZSgpLCBtLnNlY29uZCgpLCBtLm1pbGxpc2Vjb25kKCldO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvT2JqZWN0ICgpIHtcbiAgICAgICAgdmFyIG0gPSB0aGlzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeWVhcnM6IG0ueWVhcigpLFxuICAgICAgICAgICAgbW9udGhzOiBtLm1vbnRoKCksXG4gICAgICAgICAgICBkYXRlOiBtLmRhdGUoKSxcbiAgICAgICAgICAgIGhvdXJzOiBtLmhvdXJzKCksXG4gICAgICAgICAgICBtaW51dGVzOiBtLm1pbnV0ZXMoKSxcbiAgICAgICAgICAgIHNlY29uZHM6IG0uc2Vjb25kcygpLFxuICAgICAgICAgICAgbWlsbGlzZWNvbmRzOiBtLm1pbGxpc2Vjb25kcygpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9KU09OICgpIHtcbiAgICAgICAgLy8gbmV3IERhdGUoTmFOKS50b0pTT04oKSA9PT0gbnVsbFxuICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLnRvSVNPU3RyaW5nKCkgOiBudWxsO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzVmFsaWQkMiAoKSB7XG4gICAgICAgIHJldHVybiBpc1ZhbGlkKHRoaXMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNpbmdGbGFncyAoKSB7XG4gICAgICAgIHJldHVybiBleHRlbmQoe30sIGdldFBhcnNpbmdGbGFncyh0aGlzKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW52YWxpZEF0ICgpIHtcbiAgICAgICAgcmV0dXJuIGdldFBhcnNpbmdGbGFncyh0aGlzKS5vdmVyZmxvdztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGlvbkRhdGEoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpbnB1dDogdGhpcy5faSxcbiAgICAgICAgICAgIGZvcm1hdDogdGhpcy5fZixcbiAgICAgICAgICAgIGxvY2FsZTogdGhpcy5fbG9jYWxlLFxuICAgICAgICAgICAgaXNVVEM6IHRoaXMuX2lzVVRDLFxuICAgICAgICAgICAgc3RyaWN0OiB0aGlzLl9zdHJpY3RcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ2dnJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2Vla1llYXIoKSAlIDEwMDtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnR0cnLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc29XZWVrWWVhcigpICUgMTAwO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gYWRkV2Vla1llYXJGb3JtYXRUb2tlbiAodG9rZW4sIGdldHRlcikge1xuICAgICAgICBhZGRGb3JtYXRUb2tlbigwLCBbdG9rZW4sIHRva2VuLmxlbmd0aF0sIDAsIGdldHRlcik7XG4gICAgfVxuXG4gICAgYWRkV2Vla1llYXJGb3JtYXRUb2tlbignZ2dnZycsICAgICAnd2Vla1llYXInKTtcbiAgICBhZGRXZWVrWWVhckZvcm1hdFRva2VuKCdnZ2dnZycsICAgICd3ZWVrWWVhcicpO1xuICAgIGFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ0dHR0cnLCAgJ2lzb1dlZWtZZWFyJyk7XG4gICAgYWRkV2Vla1llYXJGb3JtYXRUb2tlbignR0dHR0cnLCAnaXNvV2Vla1llYXInKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnd2Vla1llYXInLCAnZ2cnKTtcbiAgICBhZGRVbml0QWxpYXMoJ2lzb1dlZWtZZWFyJywgJ0dHJyk7XG5cbiAgICAvLyBQUklPUklUWVxuXG4gICAgYWRkVW5pdFByaW9yaXR5KCd3ZWVrWWVhcicsIDEpO1xuICAgIGFkZFVuaXRQcmlvcml0eSgnaXNvV2Vla1llYXInLCAxKTtcblxuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbignRycsICAgICAgbWF0Y2hTaWduZWQpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2cnLCAgICAgIG1hdGNoU2lnbmVkKTtcbiAgICBhZGRSZWdleFRva2VuKCdHRycsICAgICBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignZ2cnLCAgICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0dHR0cnLCAgIG1hdGNoMXRvNCwgbWF0Y2g0KTtcbiAgICBhZGRSZWdleFRva2VuKCdnZ2dnJywgICBtYXRjaDF0bzQsIG1hdGNoNCk7XG4gICAgYWRkUmVnZXhUb2tlbignR0dHR0cnLCAgbWF0Y2gxdG82LCBtYXRjaDYpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2dnZ2dnJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcblxuICAgIGFkZFdlZWtQYXJzZVRva2VuKFsnZ2dnZycsICdnZ2dnZycsICdHR0dHJywgJ0dHR0dHJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgICAgICB3ZWVrW3Rva2VuLnN1YnN0cigwLCAyKV0gPSB0b0ludChpbnB1dCk7XG4gICAgfSk7XG5cbiAgICBhZGRXZWVrUGFyc2VUb2tlbihbJ2dnJywgJ0dHJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgICAgICB3ZWVrW3Rva2VuXSA9IGhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KTtcbiAgICB9KTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIGZ1bmN0aW9uIGdldFNldFdlZWtZZWFyIChpbnB1dCkge1xuICAgICAgICByZXR1cm4gZ2V0U2V0V2Vla1llYXJIZWxwZXIuY2FsbCh0aGlzLFxuICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgIHRoaXMud2VlaygpLFxuICAgICAgICAgICAgICAgIHRoaXMud2Vla2RheSgpLFxuICAgICAgICAgICAgICAgIHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRvdyxcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3kpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFNldElTT1dlZWtZZWFyIChpbnB1dCkge1xuICAgICAgICByZXR1cm4gZ2V0U2V0V2Vla1llYXJIZWxwZXIuY2FsbCh0aGlzLFxuICAgICAgICAgICAgICAgIGlucHV0LCB0aGlzLmlzb1dlZWsoKSwgdGhpcy5pc29XZWVrZGF5KCksIDEsIDQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldElTT1dlZWtzSW5ZZWFyICgpIHtcbiAgICAgICAgcmV0dXJuIHdlZWtzSW5ZZWFyKHRoaXMueWVhcigpLCAxLCA0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRXZWVrc0luWWVhciAoKSB7XG4gICAgICAgIHZhciB3ZWVrSW5mbyA9IHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrO1xuICAgICAgICByZXR1cm4gd2Vla3NJblllYXIodGhpcy55ZWFyKCksIHdlZWtJbmZvLmRvdywgd2Vla0luZm8uZG95KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTZXRXZWVrWWVhckhlbHBlcihpbnB1dCwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcbiAgICAgICAgdmFyIHdlZWtzVGFyZ2V0O1xuICAgICAgICBpZiAoaW5wdXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHdlZWtPZlllYXIodGhpcywgZG93LCBkb3kpLnllYXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3ZWVrc1RhcmdldCA9IHdlZWtzSW5ZZWFyKGlucHV0LCBkb3csIGRveSk7XG4gICAgICAgICAgICBpZiAod2VlayA+IHdlZWtzVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgd2VlayA9IHdlZWtzVGFyZ2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNldFdlZWtBbGwuY2FsbCh0aGlzLCBpbnB1dCwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0V2Vla0FsbCh3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcbiAgICAgICAgdmFyIGRheU9mWWVhckRhdGEgPSBkYXlPZlllYXJGcm9tV2Vla3Mod2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KSxcbiAgICAgICAgICAgIGRhdGUgPSBjcmVhdGVVVENEYXRlKGRheU9mWWVhckRhdGEueWVhciwgMCwgZGF5T2ZZZWFyRGF0YS5kYXlPZlllYXIpO1xuXG4gICAgICAgIHRoaXMueWVhcihkYXRlLmdldFVUQ0Z1bGxZZWFyKCkpO1xuICAgICAgICB0aGlzLm1vbnRoKGRhdGUuZ2V0VVRDTW9udGgoKSk7XG4gICAgICAgIHRoaXMuZGF0ZShkYXRlLmdldFVUQ0RhdGUoKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdRJywgMCwgJ1FvJywgJ3F1YXJ0ZXInKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygncXVhcnRlcicsICdRJyk7XG5cbiAgICAvLyBQUklPUklUWVxuXG4gICAgYWRkVW5pdFByaW9yaXR5KCdxdWFydGVyJywgNyk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdRJywgbWF0Y2gxKTtcbiAgICBhZGRQYXJzZVRva2VuKCdRJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgICAgICBhcnJheVtNT05USF0gPSAodG9JbnQoaW5wdXQpIC0gMSkgKiAzO1xuICAgIH0pO1xuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgZnVuY3Rpb24gZ2V0U2V0UXVhcnRlciAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyBNYXRoLmNlaWwoKHRoaXMubW9udGgoKSArIDEpIC8gMykgOiB0aGlzLm1vbnRoKChpbnB1dCAtIDEpICogMyArIHRoaXMubW9udGgoKSAlIDMpO1xuICAgIH1cblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdEJywgWydERCcsIDJdLCAnRG8nLCAnZGF0ZScpO1xuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCdkYXRlJywgJ0QnKTtcblxuICAgIC8vIFBSSU9SSVRZXG4gICAgYWRkVW5pdFByaW9yaXR5KCdkYXRlJywgOSk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdEJywgIG1hdGNoMXRvMik7XG4gICAgYWRkUmVnZXhUb2tlbignREQnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignRG8nLCBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgICAgICAvLyBUT0RPOiBSZW1vdmUgXCJvcmRpbmFsUGFyc2VcIiBmYWxsYmFjayBpbiBuZXh0IG1ham9yIHJlbGVhc2UuXG4gICAgICAgIHJldHVybiBpc1N0cmljdCA/XG4gICAgICAgICAgKGxvY2FsZS5fZGF5T2ZNb250aE9yZGluYWxQYXJzZSB8fCBsb2NhbGUuX29yZGluYWxQYXJzZSkgOlxuICAgICAgICAgIGxvY2FsZS5fZGF5T2ZNb250aE9yZGluYWxQYXJzZUxlbmllbnQ7XG4gICAgfSk7XG5cbiAgICBhZGRQYXJzZVRva2VuKFsnRCcsICdERCddLCBEQVRFKTtcbiAgICBhZGRQYXJzZVRva2VuKCdEbycsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICAgICAgYXJyYXlbREFURV0gPSB0b0ludChpbnB1dC5tYXRjaChtYXRjaDF0bzIpWzBdKTtcbiAgICB9KTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIHZhciBnZXRTZXREYXlPZk1vbnRoID0gbWFrZUdldFNldCgnRGF0ZScsIHRydWUpO1xuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ0RERCcsIFsnRERERCcsIDNdLCAnREREbycsICdkYXlPZlllYXInKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnZGF5T2ZZZWFyJywgJ0RERCcpO1xuXG4gICAgLy8gUFJJT1JJVFlcbiAgICBhZGRVbml0UHJpb3JpdHkoJ2RheU9mWWVhcicsIDQpO1xuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbignREREJywgIG1hdGNoMXRvMyk7XG4gICAgYWRkUmVnZXhUb2tlbignRERERCcsIG1hdGNoMyk7XG4gICAgYWRkUGFyc2VUb2tlbihbJ0RERCcsICdEREREJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICBjb25maWcuX2RheU9mWWVhciA9IHRvSW50KGlucHV0KTtcbiAgICB9KTtcblxuICAgIC8vIEhFTFBFUlNcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIGZ1bmN0aW9uIGdldFNldERheU9mWWVhciAoaW5wdXQpIHtcbiAgICAgICAgdmFyIGRheU9mWWVhciA9IE1hdGgucm91bmQoKHRoaXMuY2xvbmUoKS5zdGFydE9mKCdkYXknKSAtIHRoaXMuY2xvbmUoKS5zdGFydE9mKCd5ZWFyJykpIC8gODY0ZTUpICsgMTtcbiAgICAgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyBkYXlPZlllYXIgOiB0aGlzLmFkZCgoaW5wdXQgLSBkYXlPZlllYXIpLCAnZCcpO1xuICAgIH1cblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdtJywgWydtbScsIDJdLCAwLCAnbWludXRlJyk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ21pbnV0ZScsICdtJyk7XG5cbiAgICAvLyBQUklPUklUWVxuXG4gICAgYWRkVW5pdFByaW9yaXR5KCdtaW51dGUnLCAxNCk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdtJywgIG1hdGNoMXRvMik7XG4gICAgYWRkUmVnZXhUb2tlbignbW0nLCBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUGFyc2VUb2tlbihbJ20nLCAnbW0nXSwgTUlOVVRFKTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIHZhciBnZXRTZXRNaW51dGUgPSBtYWtlR2V0U2V0KCdNaW51dGVzJywgZmFsc2UpO1xuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ3MnLCBbJ3NzJywgMl0sIDAsICdzZWNvbmQnKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnc2Vjb25kJywgJ3MnKTtcblxuICAgIC8vIFBSSU9SSVRZXG5cbiAgICBhZGRVbml0UHJpb3JpdHkoJ3NlY29uZCcsIDE1KTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ3MnLCAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdzcycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbiAgICBhZGRQYXJzZVRva2VuKFsncycsICdzcyddLCBTRUNPTkQpO1xuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgdmFyIGdldFNldFNlY29uZCA9IG1ha2VHZXRTZXQoJ1NlY29uZHMnLCBmYWxzZSk7XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbignUycsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIH5+KHRoaXMubWlsbGlzZWNvbmQoKSAvIDEwMCk7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIH5+KHRoaXMubWlsbGlzZWNvbmQoKSAvIDEwKTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTJywgM10sIDAsICdtaWxsaXNlY29uZCcpO1xuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTUycsIDRdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDtcbiAgICB9KTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTJywgNV0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDtcbiAgICB9KTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTUycsIDZdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwO1xuICAgIH0pO1xuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTUycsIDddLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwMDtcbiAgICB9KTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1NTJywgOF0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDAwMDtcbiAgICB9KTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1NTUycsIDldLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwMDAwO1xuICAgIH0pO1xuXG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ21pbGxpc2Vjb25kJywgJ21zJyk7XG5cbiAgICAvLyBQUklPUklUWVxuXG4gICAgYWRkVW5pdFByaW9yaXR5KCdtaWxsaXNlY29uZCcsIDE2KTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ1MnLCAgICBtYXRjaDF0bzMsIG1hdGNoMSk7XG4gICAgYWRkUmVnZXhUb2tlbignU1MnLCAgIG1hdGNoMXRvMywgbWF0Y2gyKTtcbiAgICBhZGRSZWdleFRva2VuKCdTU1MnLCAgbWF0Y2gxdG8zLCBtYXRjaDMpO1xuXG4gICAgdmFyIHRva2VuO1xuICAgIGZvciAodG9rZW4gPSAnU1NTUyc7IHRva2VuLmxlbmd0aCA8PSA5OyB0b2tlbiArPSAnUycpIHtcbiAgICAgICAgYWRkUmVnZXhUb2tlbih0b2tlbiwgbWF0Y2hVbnNpZ25lZCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VNcyhpbnB1dCwgYXJyYXkpIHtcbiAgICAgICAgYXJyYXlbTUlMTElTRUNPTkRdID0gdG9JbnQoKCcwLicgKyBpbnB1dCkgKiAxMDAwKTtcbiAgICB9XG5cbiAgICBmb3IgKHRva2VuID0gJ1MnOyB0b2tlbi5sZW5ndGggPD0gOTsgdG9rZW4gKz0gJ1MnKSB7XG4gICAgICAgIGFkZFBhcnNlVG9rZW4odG9rZW4sIHBhcnNlTXMpO1xuICAgIH1cbiAgICAvLyBNT01FTlRTXG5cbiAgICB2YXIgZ2V0U2V0TWlsbGlzZWNvbmQgPSBtYWtlR2V0U2V0KCdNaWxsaXNlY29uZHMnLCBmYWxzZSk7XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbigneicsICAwLCAwLCAnem9uZUFiYnInKTtcbiAgICBhZGRGb3JtYXRUb2tlbignenonLCAwLCAwLCAnem9uZU5hbWUnKTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIGZ1bmN0aW9uIGdldFpvbmVBYmJyICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzVVRDID8gJ1VUQycgOiAnJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRab25lTmFtZSAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1VUQyA/ICdDb29yZGluYXRlZCBVbml2ZXJzYWwgVGltZScgOiAnJztcbiAgICB9XG5cbiAgICB2YXIgcHJvdG8gPSBNb21lbnQucHJvdG90eXBlO1xuXG4gICAgcHJvdG8uYWRkICAgICAgICAgICAgICAgPSBhZGQ7XG4gICAgcHJvdG8uY2FsZW5kYXIgICAgICAgICAgPSBjYWxlbmRhciQxO1xuICAgIHByb3RvLmNsb25lICAgICAgICAgICAgID0gY2xvbmU7XG4gICAgcHJvdG8uZGlmZiAgICAgICAgICAgICAgPSBkaWZmO1xuICAgIHByb3RvLmVuZE9mICAgICAgICAgICAgID0gZW5kT2Y7XG4gICAgcHJvdG8uZm9ybWF0ICAgICAgICAgICAgPSBmb3JtYXQ7XG4gICAgcHJvdG8uZnJvbSAgICAgICAgICAgICAgPSBmcm9tO1xuICAgIHByb3RvLmZyb21Ob3cgICAgICAgICAgID0gZnJvbU5vdztcbiAgICBwcm90by50byAgICAgICAgICAgICAgICA9IHRvO1xuICAgIHByb3RvLnRvTm93ICAgICAgICAgICAgID0gdG9Ob3c7XG4gICAgcHJvdG8uZ2V0ICAgICAgICAgICAgICAgPSBzdHJpbmdHZXQ7XG4gICAgcHJvdG8uaW52YWxpZEF0ICAgICAgICAgPSBpbnZhbGlkQXQ7XG4gICAgcHJvdG8uaXNBZnRlciAgICAgICAgICAgPSBpc0FmdGVyO1xuICAgIHByb3RvLmlzQmVmb3JlICAgICAgICAgID0gaXNCZWZvcmU7XG4gICAgcHJvdG8uaXNCZXR3ZWVuICAgICAgICAgPSBpc0JldHdlZW47XG4gICAgcHJvdG8uaXNTYW1lICAgICAgICAgICAgPSBpc1NhbWU7XG4gICAgcHJvdG8uaXNTYW1lT3JBZnRlciAgICAgPSBpc1NhbWVPckFmdGVyO1xuICAgIHByb3RvLmlzU2FtZU9yQmVmb3JlICAgID0gaXNTYW1lT3JCZWZvcmU7XG4gICAgcHJvdG8uaXNWYWxpZCAgICAgICAgICAgPSBpc1ZhbGlkJDI7XG4gICAgcHJvdG8ubGFuZyAgICAgICAgICAgICAgPSBsYW5nO1xuICAgIHByb3RvLmxvY2FsZSAgICAgICAgICAgID0gbG9jYWxlO1xuICAgIHByb3RvLmxvY2FsZURhdGEgICAgICAgID0gbG9jYWxlRGF0YTtcbiAgICBwcm90by5tYXggICAgICAgICAgICAgICA9IHByb3RvdHlwZU1heDtcbiAgICBwcm90by5taW4gICAgICAgICAgICAgICA9IHByb3RvdHlwZU1pbjtcbiAgICBwcm90by5wYXJzaW5nRmxhZ3MgICAgICA9IHBhcnNpbmdGbGFncztcbiAgICBwcm90by5zZXQgICAgICAgICAgICAgICA9IHN0cmluZ1NldDtcbiAgICBwcm90by5zdGFydE9mICAgICAgICAgICA9IHN0YXJ0T2Y7XG4gICAgcHJvdG8uc3VidHJhY3QgICAgICAgICAgPSBzdWJ0cmFjdDtcbiAgICBwcm90by50b0FycmF5ICAgICAgICAgICA9IHRvQXJyYXk7XG4gICAgcHJvdG8udG9PYmplY3QgICAgICAgICAgPSB0b09iamVjdDtcbiAgICBwcm90by50b0RhdGUgICAgICAgICAgICA9IHRvRGF0ZTtcbiAgICBwcm90by50b0lTT1N0cmluZyAgICAgICA9IHRvSVNPU3RyaW5nO1xuICAgIHByb3RvLmluc3BlY3QgICAgICAgICAgID0gaW5zcGVjdDtcbiAgICBwcm90by50b0pTT04gICAgICAgICAgICA9IHRvSlNPTjtcbiAgICBwcm90by50b1N0cmluZyAgICAgICAgICA9IHRvU3RyaW5nO1xuICAgIHByb3RvLnVuaXggICAgICAgICAgICAgID0gdW5peDtcbiAgICBwcm90by52YWx1ZU9mICAgICAgICAgICA9IHZhbHVlT2Y7XG4gICAgcHJvdG8uY3JlYXRpb25EYXRhICAgICAgPSBjcmVhdGlvbkRhdGE7XG4gICAgcHJvdG8ueWVhciAgICAgICA9IGdldFNldFllYXI7XG4gICAgcHJvdG8uaXNMZWFwWWVhciA9IGdldElzTGVhcFllYXI7XG4gICAgcHJvdG8ud2Vla1llYXIgICAgPSBnZXRTZXRXZWVrWWVhcjtcbiAgICBwcm90by5pc29XZWVrWWVhciA9IGdldFNldElTT1dlZWtZZWFyO1xuICAgIHByb3RvLnF1YXJ0ZXIgPSBwcm90by5xdWFydGVycyA9IGdldFNldFF1YXJ0ZXI7XG4gICAgcHJvdG8ubW9udGggICAgICAgPSBnZXRTZXRNb250aDtcbiAgICBwcm90by5kYXlzSW5Nb250aCA9IGdldERheXNJbk1vbnRoO1xuICAgIHByb3RvLndlZWsgICAgICAgICAgID0gcHJvdG8ud2Vla3MgICAgICAgID0gZ2V0U2V0V2VlaztcbiAgICBwcm90by5pc29XZWVrICAgICAgICA9IHByb3RvLmlzb1dlZWtzICAgICA9IGdldFNldElTT1dlZWs7XG4gICAgcHJvdG8ud2Vla3NJblllYXIgICAgPSBnZXRXZWVrc0luWWVhcjtcbiAgICBwcm90by5pc29XZWVrc0luWWVhciA9IGdldElTT1dlZWtzSW5ZZWFyO1xuICAgIHByb3RvLmRhdGUgICAgICAgPSBnZXRTZXREYXlPZk1vbnRoO1xuICAgIHByb3RvLmRheSAgICAgICAgPSBwcm90by5kYXlzICAgICAgICAgICAgID0gZ2V0U2V0RGF5T2ZXZWVrO1xuICAgIHByb3RvLndlZWtkYXkgICAgPSBnZXRTZXRMb2NhbGVEYXlPZldlZWs7XG4gICAgcHJvdG8uaXNvV2Vla2RheSA9IGdldFNldElTT0RheU9mV2VlaztcbiAgICBwcm90by5kYXlPZlllYXIgID0gZ2V0U2V0RGF5T2ZZZWFyO1xuICAgIHByb3RvLmhvdXIgPSBwcm90by5ob3VycyA9IGdldFNldEhvdXI7XG4gICAgcHJvdG8ubWludXRlID0gcHJvdG8ubWludXRlcyA9IGdldFNldE1pbnV0ZTtcbiAgICBwcm90by5zZWNvbmQgPSBwcm90by5zZWNvbmRzID0gZ2V0U2V0U2Vjb25kO1xuICAgIHByb3RvLm1pbGxpc2Vjb25kID0gcHJvdG8ubWlsbGlzZWNvbmRzID0gZ2V0U2V0TWlsbGlzZWNvbmQ7XG4gICAgcHJvdG8udXRjT2Zmc2V0ICAgICAgICAgICAgPSBnZXRTZXRPZmZzZXQ7XG4gICAgcHJvdG8udXRjICAgICAgICAgICAgICAgICAgPSBzZXRPZmZzZXRUb1VUQztcbiAgICBwcm90by5sb2NhbCAgICAgICAgICAgICAgICA9IHNldE9mZnNldFRvTG9jYWw7XG4gICAgcHJvdG8ucGFyc2Vab25lICAgICAgICAgICAgPSBzZXRPZmZzZXRUb1BhcnNlZE9mZnNldDtcbiAgICBwcm90by5oYXNBbGlnbmVkSG91ck9mZnNldCA9IGhhc0FsaWduZWRIb3VyT2Zmc2V0O1xuICAgIHByb3RvLmlzRFNUICAgICAgICAgICAgICAgID0gaXNEYXlsaWdodFNhdmluZ1RpbWU7XG4gICAgcHJvdG8uaXNMb2NhbCAgICAgICAgICAgICAgPSBpc0xvY2FsO1xuICAgIHByb3RvLmlzVXRjT2Zmc2V0ICAgICAgICAgID0gaXNVdGNPZmZzZXQ7XG4gICAgcHJvdG8uaXNVdGMgICAgICAgICAgICAgICAgPSBpc1V0YztcbiAgICBwcm90by5pc1VUQyAgICAgICAgICAgICAgICA9IGlzVXRjO1xuICAgIHByb3RvLnpvbmVBYmJyID0gZ2V0Wm9uZUFiYnI7XG4gICAgcHJvdG8uem9uZU5hbWUgPSBnZXRab25lTmFtZTtcbiAgICBwcm90by5kYXRlcyAgPSBkZXByZWNhdGUoJ2RhdGVzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSBkYXRlIGluc3RlYWQuJywgZ2V0U2V0RGF5T2ZNb250aCk7XG4gICAgcHJvdG8ubW9udGhzID0gZGVwcmVjYXRlKCdtb250aHMgYWNjZXNzb3IgaXMgZGVwcmVjYXRlZC4gVXNlIG1vbnRoIGluc3RlYWQnLCBnZXRTZXRNb250aCk7XG4gICAgcHJvdG8ueWVhcnMgID0gZGVwcmVjYXRlKCd5ZWFycyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgeWVhciBpbnN0ZWFkJywgZ2V0U2V0WWVhcik7XG4gICAgcHJvdG8uem9uZSAgID0gZGVwcmVjYXRlKCdtb21lbnQoKS56b25lIGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQoKS51dGNPZmZzZXQgaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy96b25lLycsIGdldFNldFpvbmUpO1xuICAgIHByb3RvLmlzRFNUU2hpZnRlZCA9IGRlcHJlY2F0ZSgnaXNEU1RTaGlmdGVkIGlzIGRlcHJlY2F0ZWQuIFNlZSBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2RzdC1zaGlmdGVkLyBmb3IgbW9yZSBpbmZvcm1hdGlvbicsIGlzRGF5bGlnaHRTYXZpbmdUaW1lU2hpZnRlZCk7XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVVbml4IChpbnB1dCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWwoaW5wdXQgKiAxMDAwKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVJblpvbmUgKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKS5wYXJzZVpvbmUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcmVQYXJzZVBvc3RGb3JtYXQgKHN0cmluZykge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgIH1cblxuICAgIHZhciBwcm90byQxID0gTG9jYWxlLnByb3RvdHlwZTtcblxuICAgIHByb3RvJDEuY2FsZW5kYXIgICAgICAgID0gY2FsZW5kYXI7XG4gICAgcHJvdG8kMS5sb25nRGF0ZUZvcm1hdCAgPSBsb25nRGF0ZUZvcm1hdDtcbiAgICBwcm90byQxLmludmFsaWREYXRlICAgICA9IGludmFsaWREYXRlO1xuICAgIHByb3RvJDEub3JkaW5hbCAgICAgICAgID0gb3JkaW5hbDtcbiAgICBwcm90byQxLnByZXBhcnNlICAgICAgICA9IHByZVBhcnNlUG9zdEZvcm1hdDtcbiAgICBwcm90byQxLnBvc3Rmb3JtYXQgICAgICA9IHByZVBhcnNlUG9zdEZvcm1hdDtcbiAgICBwcm90byQxLnJlbGF0aXZlVGltZSAgICA9IHJlbGF0aXZlVGltZTtcbiAgICBwcm90byQxLnBhc3RGdXR1cmUgICAgICA9IHBhc3RGdXR1cmU7XG4gICAgcHJvdG8kMS5zZXQgICAgICAgICAgICAgPSBzZXQ7XG5cbiAgICBwcm90byQxLm1vbnRocyAgICAgICAgICAgID0gICAgICAgIGxvY2FsZU1vbnRocztcbiAgICBwcm90byQxLm1vbnRoc1Nob3J0ICAgICAgID0gICAgICAgIGxvY2FsZU1vbnRoc1Nob3J0O1xuICAgIHByb3RvJDEubW9udGhzUGFyc2UgICAgICAgPSAgICAgICAgbG9jYWxlTW9udGhzUGFyc2U7XG4gICAgcHJvdG8kMS5tb250aHNSZWdleCAgICAgICA9IG1vbnRoc1JlZ2V4O1xuICAgIHByb3RvJDEubW9udGhzU2hvcnRSZWdleCAgPSBtb250aHNTaG9ydFJlZ2V4O1xuICAgIHByb3RvJDEud2VlayA9IGxvY2FsZVdlZWs7XG4gICAgcHJvdG8kMS5maXJzdERheU9mWWVhciA9IGxvY2FsZUZpcnN0RGF5T2ZZZWFyO1xuICAgIHByb3RvJDEuZmlyc3REYXlPZldlZWsgPSBsb2NhbGVGaXJzdERheU9mV2VlaztcblxuICAgIHByb3RvJDEud2Vla2RheXMgICAgICAgPSAgICAgICAgbG9jYWxlV2Vla2RheXM7XG4gICAgcHJvdG8kMS53ZWVrZGF5c01pbiAgICA9ICAgICAgICBsb2NhbGVXZWVrZGF5c01pbjtcbiAgICBwcm90byQxLndlZWtkYXlzU2hvcnQgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzU2hvcnQ7XG4gICAgcHJvdG8kMS53ZWVrZGF5c1BhcnNlICA9ICAgICAgICBsb2NhbGVXZWVrZGF5c1BhcnNlO1xuXG4gICAgcHJvdG8kMS53ZWVrZGF5c1JlZ2V4ICAgICAgID0gICAgICAgIHdlZWtkYXlzUmVnZXg7XG4gICAgcHJvdG8kMS53ZWVrZGF5c1Nob3J0UmVnZXggID0gICAgICAgIHdlZWtkYXlzU2hvcnRSZWdleDtcbiAgICBwcm90byQxLndlZWtkYXlzTWluUmVnZXggICAgPSAgICAgICAgd2Vla2RheXNNaW5SZWdleDtcblxuICAgIHByb3RvJDEuaXNQTSA9IGxvY2FsZUlzUE07XG4gICAgcHJvdG8kMS5tZXJpZGllbSA9IGxvY2FsZU1lcmlkaWVtO1xuXG4gICAgZnVuY3Rpb24gZ2V0JDEgKGZvcm1hdCwgaW5kZXgsIGZpZWxkLCBzZXR0ZXIpIHtcbiAgICAgICAgdmFyIGxvY2FsZSA9IGdldExvY2FsZSgpO1xuICAgICAgICB2YXIgdXRjID0gY3JlYXRlVVRDKCkuc2V0KHNldHRlciwgaW5kZXgpO1xuICAgICAgICByZXR1cm4gbG9jYWxlW2ZpZWxkXSh1dGMsIGZvcm1hdCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdE1vbnRoc0ltcGwgKGZvcm1hdCwgaW5kZXgsIGZpZWxkKSB7XG4gICAgICAgIGlmIChpc051bWJlcihmb3JtYXQpKSB7XG4gICAgICAgICAgICBpbmRleCA9IGZvcm1hdDtcbiAgICAgICAgICAgIGZvcm1hdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvcm1hdCA9IGZvcm1hdCB8fCAnJztcblxuICAgICAgICBpZiAoaW5kZXggIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldCQxKGZvcm1hdCwgaW5kZXgsIGZpZWxkLCAnbW9udGgnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpO1xuICAgICAgICB2YXIgb3V0ID0gW107XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgICAgICBvdXRbaV0gPSBnZXQkMShmb3JtYXQsIGksIGZpZWxkLCAnbW9udGgnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cblxuICAgIC8vICgpXG4gICAgLy8gKDUpXG4gICAgLy8gKGZtdCwgNSlcbiAgICAvLyAoZm10KVxuICAgIC8vICh0cnVlKVxuICAgIC8vICh0cnVlLCA1KVxuICAgIC8vICh0cnVlLCBmbXQsIDUpXG4gICAgLy8gKHRydWUsIGZtdClcbiAgICBmdW5jdGlvbiBsaXN0V2Vla2RheXNJbXBsIChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsIGZpZWxkKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbG9jYWxlU29ydGVkID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIGlmIChpc051bWJlcihmb3JtYXQpKSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG4gICAgICAgICAgICAgICAgZm9ybWF0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3JtYXQgPSBsb2NhbGVTb3J0ZWQ7XG4gICAgICAgICAgICBpbmRleCA9IGZvcm1hdDtcbiAgICAgICAgICAgIGxvY2FsZVNvcnRlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAoaXNOdW1iZXIoZm9ybWF0KSkge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gZm9ybWF0O1xuICAgICAgICAgICAgICAgIGZvcm1hdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9ybWF0ID0gZm9ybWF0IHx8ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxvY2FsZSA9IGdldExvY2FsZSgpLFxuICAgICAgICAgICAgc2hpZnQgPSBsb2NhbGVTb3J0ZWQgPyBsb2NhbGUuX3dlZWsuZG93IDogMDtcblxuICAgICAgICBpZiAoaW5kZXggIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldCQxKGZvcm1hdCwgKGluZGV4ICsgc2hpZnQpICUgNywgZmllbGQsICdkYXknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpO1xuICAgICAgICB2YXIgb3V0ID0gW107XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgICAgIG91dFtpXSA9IGdldCQxKGZvcm1hdCwgKGkgKyBzaGlmdCkgJSA3LCBmaWVsZCwgJ2RheScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdE1vbnRocyAoZm9ybWF0LCBpbmRleCkge1xuICAgICAgICByZXR1cm4gbGlzdE1vbnRoc0ltcGwoZm9ybWF0LCBpbmRleCwgJ21vbnRocycpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpc3RNb250aHNTaG9ydCAoZm9ybWF0LCBpbmRleCkge1xuICAgICAgICByZXR1cm4gbGlzdE1vbnRoc0ltcGwoZm9ybWF0LCBpbmRleCwgJ21vbnRoc1Nob3J0Jyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdFdlZWtkYXlzIChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGxpc3RXZWVrZGF5c0ltcGwobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCAnd2Vla2RheXMnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaXN0V2Vla2RheXNTaG9ydCAobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBsaXN0V2Vla2RheXNJbXBsKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCwgJ3dlZWtkYXlzU2hvcnQnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaXN0V2Vla2RheXNNaW4gKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCkge1xuICAgICAgICByZXR1cm4gbGlzdFdlZWtkYXlzSW1wbChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsICd3ZWVrZGF5c01pbicpO1xuICAgIH1cblxuICAgIGdldFNldEdsb2JhbExvY2FsZSgnZW4nLCB7XG4gICAgICAgIGRheU9mTW9udGhPcmRpbmFsUGFyc2U6IC9cXGR7MSwyfSh0aHxzdHxuZHxyZCkvLFxuICAgICAgICBvcmRpbmFsIDogZnVuY3Rpb24gKG51bWJlcikge1xuICAgICAgICAgICAgdmFyIGIgPSBudW1iZXIgJSAxMCxcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSAodG9JbnQobnVtYmVyICUgMTAwIC8gMTApID09PSAxKSA/ICd0aCcgOlxuICAgICAgICAgICAgICAgIChiID09PSAxKSA/ICdzdCcgOlxuICAgICAgICAgICAgICAgIChiID09PSAyKSA/ICduZCcgOlxuICAgICAgICAgICAgICAgIChiID09PSAzKSA/ICdyZCcgOiAndGgnO1xuICAgICAgICAgICAgcmV0dXJuIG51bWJlciArIG91dHB1dDtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gU2lkZSBlZmZlY3QgaW1wb3J0c1xuXG4gICAgaG9va3MubGFuZyA9IGRlcHJlY2F0ZSgnbW9tZW50LmxhbmcgaXMgZGVwcmVjYXRlZC4gVXNlIG1vbWVudC5sb2NhbGUgaW5zdGVhZC4nLCBnZXRTZXRHbG9iYWxMb2NhbGUpO1xuICAgIGhvb2tzLmxhbmdEYXRhID0gZGVwcmVjYXRlKCdtb21lbnQubGFuZ0RhdGEgaXMgZGVwcmVjYXRlZC4gVXNlIG1vbWVudC5sb2NhbGVEYXRhIGluc3RlYWQuJywgZ2V0TG9jYWxlKTtcblxuICAgIHZhciBtYXRoQWJzID0gTWF0aC5hYnM7XG5cbiAgICBmdW5jdGlvbiBhYnMgKCkge1xuICAgICAgICB2YXIgZGF0YSAgICAgICAgICAgPSB0aGlzLl9kYXRhO1xuXG4gICAgICAgIHRoaXMuX21pbGxpc2Vjb25kcyA9IG1hdGhBYnModGhpcy5fbWlsbGlzZWNvbmRzKTtcbiAgICAgICAgdGhpcy5fZGF5cyAgICAgICAgID0gbWF0aEFicyh0aGlzLl9kYXlzKTtcbiAgICAgICAgdGhpcy5fbW9udGhzICAgICAgID0gbWF0aEFicyh0aGlzLl9tb250aHMpO1xuXG4gICAgICAgIGRhdGEubWlsbGlzZWNvbmRzICA9IG1hdGhBYnMoZGF0YS5taWxsaXNlY29uZHMpO1xuICAgICAgICBkYXRhLnNlY29uZHMgICAgICAgPSBtYXRoQWJzKGRhdGEuc2Vjb25kcyk7XG4gICAgICAgIGRhdGEubWludXRlcyAgICAgICA9IG1hdGhBYnMoZGF0YS5taW51dGVzKTtcbiAgICAgICAgZGF0YS5ob3VycyAgICAgICAgID0gbWF0aEFicyhkYXRhLmhvdXJzKTtcbiAgICAgICAgZGF0YS5tb250aHMgICAgICAgID0gbWF0aEFicyhkYXRhLm1vbnRocyk7XG4gICAgICAgIGRhdGEueWVhcnMgICAgICAgICA9IG1hdGhBYnMoZGF0YS55ZWFycyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkU3VidHJhY3QkMSAoZHVyYXRpb24sIGlucHV0LCB2YWx1ZSwgZGlyZWN0aW9uKSB7XG4gICAgICAgIHZhciBvdGhlciA9IGNyZWF0ZUR1cmF0aW9uKGlucHV0LCB2YWx1ZSk7XG5cbiAgICAgICAgZHVyYXRpb24uX21pbGxpc2Vjb25kcyArPSBkaXJlY3Rpb24gKiBvdGhlci5fbWlsbGlzZWNvbmRzO1xuICAgICAgICBkdXJhdGlvbi5fZGF5cyAgICAgICAgICs9IGRpcmVjdGlvbiAqIG90aGVyLl9kYXlzO1xuICAgICAgICBkdXJhdGlvbi5fbW9udGhzICAgICAgICs9IGRpcmVjdGlvbiAqIG90aGVyLl9tb250aHM7XG5cbiAgICAgICAgcmV0dXJuIGR1cmF0aW9uLl9idWJibGUoKTtcbiAgICB9XG5cbiAgICAvLyBzdXBwb3J0cyBvbmx5IDIuMC1zdHlsZSBhZGQoMSwgJ3MnKSBvciBhZGQoZHVyYXRpb24pXG4gICAgZnVuY3Rpb24gYWRkJDEgKGlucHV0LCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gYWRkU3VidHJhY3QkMSh0aGlzLCBpbnB1dCwgdmFsdWUsIDEpO1xuICAgIH1cblxuICAgIC8vIHN1cHBvcnRzIG9ubHkgMi4wLXN0eWxlIHN1YnRyYWN0KDEsICdzJykgb3Igc3VidHJhY3QoZHVyYXRpb24pXG4gICAgZnVuY3Rpb24gc3VidHJhY3QkMSAoaW5wdXQsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBhZGRTdWJ0cmFjdCQxKHRoaXMsIGlucHV0LCB2YWx1ZSwgLTEpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFic0NlaWwgKG51bWJlcikge1xuICAgICAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IobnVtYmVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmNlaWwobnVtYmVyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGJ1YmJsZSAoKSB7XG4gICAgICAgIHZhciBtaWxsaXNlY29uZHMgPSB0aGlzLl9taWxsaXNlY29uZHM7XG4gICAgICAgIHZhciBkYXlzICAgICAgICAgPSB0aGlzLl9kYXlzO1xuICAgICAgICB2YXIgbW9udGhzICAgICAgID0gdGhpcy5fbW9udGhzO1xuICAgICAgICB2YXIgZGF0YSAgICAgICAgID0gdGhpcy5fZGF0YTtcbiAgICAgICAgdmFyIHNlY29uZHMsIG1pbnV0ZXMsIGhvdXJzLCB5ZWFycywgbW9udGhzRnJvbURheXM7XG5cbiAgICAgICAgLy8gaWYgd2UgaGF2ZSBhIG1peCBvZiBwb3NpdGl2ZSBhbmQgbmVnYXRpdmUgdmFsdWVzLCBidWJibGUgZG93biBmaXJzdFxuICAgICAgICAvLyBjaGVjazogaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzIxNjZcbiAgICAgICAgaWYgKCEoKG1pbGxpc2Vjb25kcyA+PSAwICYmIGRheXMgPj0gMCAmJiBtb250aHMgPj0gMCkgfHxcbiAgICAgICAgICAgICAgICAobWlsbGlzZWNvbmRzIDw9IDAgJiYgZGF5cyA8PSAwICYmIG1vbnRocyA8PSAwKSkpIHtcbiAgICAgICAgICAgIG1pbGxpc2Vjb25kcyArPSBhYnNDZWlsKG1vbnRoc1RvRGF5cyhtb250aHMpICsgZGF5cykgKiA4NjRlNTtcbiAgICAgICAgICAgIGRheXMgPSAwO1xuICAgICAgICAgICAgbW9udGhzID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgY29kZSBidWJibGVzIHVwIHZhbHVlcywgc2VlIHRoZSB0ZXN0cyBmb3JcbiAgICAgICAgLy8gZXhhbXBsZXMgb2Ygd2hhdCB0aGF0IG1lYW5zLlxuICAgICAgICBkYXRhLm1pbGxpc2Vjb25kcyA9IG1pbGxpc2Vjb25kcyAlIDEwMDA7XG5cbiAgICAgICAgc2Vjb25kcyAgICAgICAgICAgPSBhYnNGbG9vcihtaWxsaXNlY29uZHMgLyAxMDAwKTtcbiAgICAgICAgZGF0YS5zZWNvbmRzICAgICAgPSBzZWNvbmRzICUgNjA7XG5cbiAgICAgICAgbWludXRlcyAgICAgICAgICAgPSBhYnNGbG9vcihzZWNvbmRzIC8gNjApO1xuICAgICAgICBkYXRhLm1pbnV0ZXMgICAgICA9IG1pbnV0ZXMgJSA2MDtcblxuICAgICAgICBob3VycyAgICAgICAgICAgICA9IGFic0Zsb29yKG1pbnV0ZXMgLyA2MCk7XG4gICAgICAgIGRhdGEuaG91cnMgICAgICAgID0gaG91cnMgJSAyNDtcblxuICAgICAgICBkYXlzICs9IGFic0Zsb29yKGhvdXJzIC8gMjQpO1xuXG4gICAgICAgIC8vIGNvbnZlcnQgZGF5cyB0byBtb250aHNcbiAgICAgICAgbW9udGhzRnJvbURheXMgPSBhYnNGbG9vcihkYXlzVG9Nb250aHMoZGF5cykpO1xuICAgICAgICBtb250aHMgKz0gbW9udGhzRnJvbURheXM7XG4gICAgICAgIGRheXMgLT0gYWJzQ2VpbChtb250aHNUb0RheXMobW9udGhzRnJvbURheXMpKTtcblxuICAgICAgICAvLyAxMiBtb250aHMgLT4gMSB5ZWFyXG4gICAgICAgIHllYXJzID0gYWJzRmxvb3IobW9udGhzIC8gMTIpO1xuICAgICAgICBtb250aHMgJT0gMTI7XG5cbiAgICAgICAgZGF0YS5kYXlzICAgPSBkYXlzO1xuICAgICAgICBkYXRhLm1vbnRocyA9IG1vbnRocztcbiAgICAgICAgZGF0YS55ZWFycyAgPSB5ZWFycztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkYXlzVG9Nb250aHMgKGRheXMpIHtcbiAgICAgICAgLy8gNDAwIHllYXJzIGhhdmUgMTQ2MDk3IGRheXMgKHRha2luZyBpbnRvIGFjY291bnQgbGVhcCB5ZWFyIHJ1bGVzKVxuICAgICAgICAvLyA0MDAgeWVhcnMgaGF2ZSAxMiBtb250aHMgPT09IDQ4MDBcbiAgICAgICAgcmV0dXJuIGRheXMgKiA0ODAwIC8gMTQ2MDk3O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1vbnRoc1RvRGF5cyAobW9udGhzKSB7XG4gICAgICAgIC8vIHRoZSByZXZlcnNlIG9mIGRheXNUb01vbnRoc1xuICAgICAgICByZXR1cm4gbW9udGhzICogMTQ2MDk3IC8gNDgwMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhcyAodW5pdHMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGF5cztcbiAgICAgICAgdmFyIG1vbnRocztcbiAgICAgICAgdmFyIG1pbGxpc2Vjb25kcyA9IHRoaXMuX21pbGxpc2Vjb25kcztcblxuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcblxuICAgICAgICBpZiAodW5pdHMgPT09ICdtb250aCcgfHwgdW5pdHMgPT09ICdxdWFydGVyJyB8fCB1bml0cyA9PT0gJ3llYXInKSB7XG4gICAgICAgICAgICBkYXlzID0gdGhpcy5fZGF5cyArIG1pbGxpc2Vjb25kcyAvIDg2NGU1O1xuICAgICAgICAgICAgbW9udGhzID0gdGhpcy5fbW9udGhzICsgZGF5c1RvTW9udGhzKGRheXMpO1xuICAgICAgICAgICAgc3dpdGNoICh1bml0cykge1xuICAgICAgICAgICAgICAgIGNhc2UgJ21vbnRoJzogICByZXR1cm4gbW9udGhzO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3F1YXJ0ZXInOiByZXR1cm4gbW9udGhzIC8gMztcbiAgICAgICAgICAgICAgICBjYXNlICd5ZWFyJzogICAgcmV0dXJuIG1vbnRocyAvIDEyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gaGFuZGxlIG1pbGxpc2Vjb25kcyBzZXBhcmF0ZWx5IGJlY2F1c2Ugb2YgZmxvYXRpbmcgcG9pbnQgbWF0aCBlcnJvcnMgKGlzc3VlICMxODY3KVxuICAgICAgICAgICAgZGF5cyA9IHRoaXMuX2RheXMgKyBNYXRoLnJvdW5kKG1vbnRoc1RvRGF5cyh0aGlzLl9tb250aHMpKTtcbiAgICAgICAgICAgIHN3aXRjaCAodW5pdHMpIHtcbiAgICAgICAgICAgICAgICBjYXNlICd3ZWVrJyAgIDogcmV0dXJuIGRheXMgLyA3ICAgICArIG1pbGxpc2Vjb25kcyAvIDYwNDhlNTtcbiAgICAgICAgICAgICAgICBjYXNlICdkYXknICAgIDogcmV0dXJuIGRheXMgICAgICAgICArIG1pbGxpc2Vjb25kcyAvIDg2NGU1O1xuICAgICAgICAgICAgICAgIGNhc2UgJ2hvdXInICAgOiByZXR1cm4gZGF5cyAqIDI0ICAgICsgbWlsbGlzZWNvbmRzIC8gMzZlNTtcbiAgICAgICAgICAgICAgICBjYXNlICdtaW51dGUnIDogcmV0dXJuIGRheXMgKiAxNDQwICArIG1pbGxpc2Vjb25kcyAvIDZlNDtcbiAgICAgICAgICAgICAgICBjYXNlICdzZWNvbmQnIDogcmV0dXJuIGRheXMgKiA4NjQwMCArIG1pbGxpc2Vjb25kcyAvIDEwMDA7XG4gICAgICAgICAgICAgICAgLy8gTWF0aC5mbG9vciBwcmV2ZW50cyBmbG9hdGluZyBwb2ludCBtYXRoIGVycm9ycyBoZXJlXG4gICAgICAgICAgICAgICAgY2FzZSAnbWlsbGlzZWNvbmQnOiByZXR1cm4gTWF0aC5mbG9vcihkYXlzICogODY0ZTUpICsgbWlsbGlzZWNvbmRzO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcignVW5rbm93biB1bml0ICcgKyB1bml0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUT0RPOiBVc2UgdGhpcy5hcygnbXMnKT9cbiAgICBmdW5jdGlvbiB2YWx1ZU9mJDEgKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICB0aGlzLl9taWxsaXNlY29uZHMgK1xuICAgICAgICAgICAgdGhpcy5fZGF5cyAqIDg2NGU1ICtcbiAgICAgICAgICAgICh0aGlzLl9tb250aHMgJSAxMikgKiAyNTkyZTYgK1xuICAgICAgICAgICAgdG9JbnQodGhpcy5fbW9udGhzIC8gMTIpICogMzE1MzZlNlxuICAgICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VBcyAoYWxpYXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFzKGFsaWFzKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgYXNNaWxsaXNlY29uZHMgPSBtYWtlQXMoJ21zJyk7XG4gICAgdmFyIGFzU2Vjb25kcyAgICAgID0gbWFrZUFzKCdzJyk7XG4gICAgdmFyIGFzTWludXRlcyAgICAgID0gbWFrZUFzKCdtJyk7XG4gICAgdmFyIGFzSG91cnMgICAgICAgID0gbWFrZUFzKCdoJyk7XG4gICAgdmFyIGFzRGF5cyAgICAgICAgID0gbWFrZUFzKCdkJyk7XG4gICAgdmFyIGFzV2Vla3MgICAgICAgID0gbWFrZUFzKCd3Jyk7XG4gICAgdmFyIGFzTW9udGhzICAgICAgID0gbWFrZUFzKCdNJyk7XG4gICAgdmFyIGFzUXVhcnRlcnMgICAgID0gbWFrZUFzKCdRJyk7XG4gICAgdmFyIGFzWWVhcnMgICAgICAgID0gbWFrZUFzKCd5Jyk7XG5cbiAgICBmdW5jdGlvbiBjbG9uZSQxICgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUR1cmF0aW9uKHRoaXMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldCQyICh1bml0cykge1xuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpc1t1bml0cyArICdzJ10oKSA6IE5hTjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWtlR2V0dGVyKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/IHRoaXMuX2RhdGFbbmFtZV0gOiBOYU47XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIG1pbGxpc2Vjb25kcyA9IG1ha2VHZXR0ZXIoJ21pbGxpc2Vjb25kcycpO1xuICAgIHZhciBzZWNvbmRzICAgICAgPSBtYWtlR2V0dGVyKCdzZWNvbmRzJyk7XG4gICAgdmFyIG1pbnV0ZXMgICAgICA9IG1ha2VHZXR0ZXIoJ21pbnV0ZXMnKTtcbiAgICB2YXIgaG91cnMgICAgICAgID0gbWFrZUdldHRlcignaG91cnMnKTtcbiAgICB2YXIgZGF5cyAgICAgICAgID0gbWFrZUdldHRlcignZGF5cycpO1xuICAgIHZhciBtb250aHMgICAgICAgPSBtYWtlR2V0dGVyKCdtb250aHMnKTtcbiAgICB2YXIgeWVhcnMgICAgICAgID0gbWFrZUdldHRlcigneWVhcnMnKTtcblxuICAgIGZ1bmN0aW9uIHdlZWtzICgpIHtcbiAgICAgICAgcmV0dXJuIGFic0Zsb29yKHRoaXMuZGF5cygpIC8gNyk7XG4gICAgfVxuXG4gICAgdmFyIHJvdW5kID0gTWF0aC5yb3VuZDtcbiAgICB2YXIgdGhyZXNob2xkcyA9IHtcbiAgICAgICAgc3M6IDQ0LCAgICAgICAgIC8vIGEgZmV3IHNlY29uZHMgdG8gc2Vjb25kc1xuICAgICAgICBzIDogNDUsICAgICAgICAgLy8gc2Vjb25kcyB0byBtaW51dGVcbiAgICAgICAgbSA6IDQ1LCAgICAgICAgIC8vIG1pbnV0ZXMgdG8gaG91clxuICAgICAgICBoIDogMjIsICAgICAgICAgLy8gaG91cnMgdG8gZGF5XG4gICAgICAgIGQgOiAyNiwgICAgICAgICAvLyBkYXlzIHRvIG1vbnRoXG4gICAgICAgIE0gOiAxMSAgICAgICAgICAvLyBtb250aHMgdG8geWVhclxuICAgIH07XG5cbiAgICAvLyBoZWxwZXIgZnVuY3Rpb24gZm9yIG1vbWVudC5mbi5mcm9tLCBtb21lbnQuZm4uZnJvbU5vdywgYW5kIG1vbWVudC5kdXJhdGlvbi5mbi5odW1hbml6ZVxuICAgIGZ1bmN0aW9uIHN1YnN0aXR1dGVUaW1lQWdvKHN0cmluZywgbnVtYmVyLCB3aXRob3V0U3VmZml4LCBpc0Z1dHVyZSwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUucmVsYXRpdmVUaW1lKG51bWJlciB8fCAxLCAhIXdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbGF0aXZlVGltZSQxIChwb3NOZWdEdXJhdGlvbiwgd2l0aG91dFN1ZmZpeCwgbG9jYWxlKSB7XG4gICAgICAgIHZhciBkdXJhdGlvbiA9IGNyZWF0ZUR1cmF0aW9uKHBvc05lZ0R1cmF0aW9uKS5hYnMoKTtcbiAgICAgICAgdmFyIHNlY29uZHMgID0gcm91bmQoZHVyYXRpb24uYXMoJ3MnKSk7XG4gICAgICAgIHZhciBtaW51dGVzICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdtJykpO1xuICAgICAgICB2YXIgaG91cnMgICAgPSByb3VuZChkdXJhdGlvbi5hcygnaCcpKTtcbiAgICAgICAgdmFyIGRheXMgICAgID0gcm91bmQoZHVyYXRpb24uYXMoJ2QnKSk7XG4gICAgICAgIHZhciBtb250aHMgICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdNJykpO1xuICAgICAgICB2YXIgeWVhcnMgICAgPSByb3VuZChkdXJhdGlvbi5hcygneScpKTtcblxuICAgICAgICB2YXIgYSA9IHNlY29uZHMgPD0gdGhyZXNob2xkcy5zcyAmJiBbJ3MnLCBzZWNvbmRzXSAgfHxcbiAgICAgICAgICAgICAgICBzZWNvbmRzIDwgdGhyZXNob2xkcy5zICAgJiYgWydzcycsIHNlY29uZHNdIHx8XG4gICAgICAgICAgICAgICAgbWludXRlcyA8PSAxICAgICAgICAgICAgICYmIFsnbSddICAgICAgICAgICB8fFxuICAgICAgICAgICAgICAgIG1pbnV0ZXMgPCB0aHJlc2hvbGRzLm0gICAmJiBbJ21tJywgbWludXRlc10gfHxcbiAgICAgICAgICAgICAgICBob3VycyAgIDw9IDEgICAgICAgICAgICAgJiYgWydoJ10gICAgICAgICAgIHx8XG4gICAgICAgICAgICAgICAgaG91cnMgICA8IHRocmVzaG9sZHMuaCAgICYmIFsnaGgnLCBob3Vyc10gICB8fFxuICAgICAgICAgICAgICAgIGRheXMgICAgPD0gMSAgICAgICAgICAgICAmJiBbJ2QnXSAgICAgICAgICAgfHxcbiAgICAgICAgICAgICAgICBkYXlzICAgIDwgdGhyZXNob2xkcy5kICAgJiYgWydkZCcsIGRheXNdICAgIHx8XG4gICAgICAgICAgICAgICAgbW9udGhzICA8PSAxICAgICAgICAgICAgICYmIFsnTSddICAgICAgICAgICB8fFxuICAgICAgICAgICAgICAgIG1vbnRocyAgPCB0aHJlc2hvbGRzLk0gICAmJiBbJ01NJywgbW9udGhzXSAgfHxcbiAgICAgICAgICAgICAgICB5ZWFycyAgIDw9IDEgICAgICAgICAgICAgJiYgWyd5J10gICAgICAgICAgIHx8IFsneXknLCB5ZWFyc107XG5cbiAgICAgICAgYVsyXSA9IHdpdGhvdXRTdWZmaXg7XG4gICAgICAgIGFbM10gPSArcG9zTmVnRHVyYXRpb24gPiAwO1xuICAgICAgICBhWzRdID0gbG9jYWxlO1xuICAgICAgICByZXR1cm4gc3Vic3RpdHV0ZVRpbWVBZ28uYXBwbHkobnVsbCwgYSk7XG4gICAgfVxuXG4gICAgLy8gVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIHNldCB0aGUgcm91bmRpbmcgZnVuY3Rpb24gZm9yIHJlbGF0aXZlIHRpbWUgc3RyaW5nc1xuICAgIGZ1bmN0aW9uIGdldFNldFJlbGF0aXZlVGltZVJvdW5kaW5nIChyb3VuZGluZ0Z1bmN0aW9uKSB7XG4gICAgICAgIGlmIChyb3VuZGluZ0Z1bmN0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiByb3VuZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mKHJvdW5kaW5nRnVuY3Rpb24pID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByb3VuZCA9IHJvdW5kaW5nRnVuY3Rpb247XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIHNldCBhIHRocmVzaG9sZCBmb3IgcmVsYXRpdmUgdGltZSBzdHJpbmdzXG4gICAgZnVuY3Rpb24gZ2V0U2V0UmVsYXRpdmVUaW1lVGhyZXNob2xkICh0aHJlc2hvbGQsIGxpbWl0KSB7XG4gICAgICAgIGlmICh0aHJlc2hvbGRzW3RocmVzaG9sZF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsaW1pdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhyZXNob2xkc1t0aHJlc2hvbGRdO1xuICAgICAgICB9XG4gICAgICAgIHRocmVzaG9sZHNbdGhyZXNob2xkXSA9IGxpbWl0O1xuICAgICAgICBpZiAodGhyZXNob2xkID09PSAncycpIHtcbiAgICAgICAgICAgIHRocmVzaG9sZHMuc3MgPSBsaW1pdCAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaHVtYW5pemUgKHdpdGhTdWZmaXgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbG9jYWxlID0gdGhpcy5sb2NhbGVEYXRhKCk7XG4gICAgICAgIHZhciBvdXRwdXQgPSByZWxhdGl2ZVRpbWUkMSh0aGlzLCAhd2l0aFN1ZmZpeCwgbG9jYWxlKTtcblxuICAgICAgICBpZiAod2l0aFN1ZmZpeCkge1xuICAgICAgICAgICAgb3V0cHV0ID0gbG9jYWxlLnBhc3RGdXR1cmUoK3RoaXMsIG91dHB1dCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbG9jYWxlLnBvc3Rmb3JtYXQob3V0cHV0KTtcbiAgICB9XG5cbiAgICB2YXIgYWJzJDEgPSBNYXRoLmFicztcblxuICAgIGZ1bmN0aW9uIHNpZ24oeCkge1xuICAgICAgICByZXR1cm4gKCh4ID4gMCkgLSAoeCA8IDApKSB8fCAreDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b0lTT1N0cmluZyQxKCkge1xuICAgICAgICAvLyBmb3IgSVNPIHN0cmluZ3Mgd2UgZG8gbm90IHVzZSB0aGUgbm9ybWFsIGJ1YmJsaW5nIHJ1bGVzOlxuICAgICAgICAvLyAgKiBtaWxsaXNlY29uZHMgYnViYmxlIHVwIHVudGlsIHRoZXkgYmVjb21lIGhvdXJzXG4gICAgICAgIC8vICAqIGRheXMgZG8gbm90IGJ1YmJsZSBhdCBhbGxcbiAgICAgICAgLy8gICogbW9udGhzIGJ1YmJsZSB1cCB1bnRpbCB0aGV5IGJlY29tZSB5ZWFyc1xuICAgICAgICAvLyBUaGlzIGlzIGJlY2F1c2UgdGhlcmUgaXMgbm8gY29udGV4dC1mcmVlIGNvbnZlcnNpb24gYmV0d2VlbiBob3VycyBhbmQgZGF5c1xuICAgICAgICAvLyAodGhpbmsgb2YgY2xvY2sgY2hhbmdlcylcbiAgICAgICAgLy8gYW5kIGFsc28gbm90IGJldHdlZW4gZGF5cyBhbmQgbW9udGhzICgyOC0zMSBkYXlzIHBlciBtb250aClcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2Vjb25kcyA9IGFicyQxKHRoaXMuX21pbGxpc2Vjb25kcykgLyAxMDAwO1xuICAgICAgICB2YXIgZGF5cyAgICAgICAgID0gYWJzJDEodGhpcy5fZGF5cyk7XG4gICAgICAgIHZhciBtb250aHMgICAgICAgPSBhYnMkMSh0aGlzLl9tb250aHMpO1xuICAgICAgICB2YXIgbWludXRlcywgaG91cnMsIHllYXJzO1xuXG4gICAgICAgIC8vIDM2MDAgc2Vjb25kcyAtPiA2MCBtaW51dGVzIC0+IDEgaG91clxuICAgICAgICBtaW51dGVzICAgICAgICAgICA9IGFic0Zsb29yKHNlY29uZHMgLyA2MCk7XG4gICAgICAgIGhvdXJzICAgICAgICAgICAgID0gYWJzRmxvb3IobWludXRlcyAvIDYwKTtcbiAgICAgICAgc2Vjb25kcyAlPSA2MDtcbiAgICAgICAgbWludXRlcyAlPSA2MDtcblxuICAgICAgICAvLyAxMiBtb250aHMgLT4gMSB5ZWFyXG4gICAgICAgIHllYXJzICA9IGFic0Zsb29yKG1vbnRocyAvIDEyKTtcbiAgICAgICAgbW9udGhzICU9IDEyO1xuXG5cbiAgICAgICAgLy8gaW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL2RvcmRpbGxlL21vbWVudC1pc29kdXJhdGlvbi9ibG9iL21hc3Rlci9tb21lbnQuaXNvZHVyYXRpb24uanNcbiAgICAgICAgdmFyIFkgPSB5ZWFycztcbiAgICAgICAgdmFyIE0gPSBtb250aHM7XG4gICAgICAgIHZhciBEID0gZGF5cztcbiAgICAgICAgdmFyIGggPSBob3VycztcbiAgICAgICAgdmFyIG0gPSBtaW51dGVzO1xuICAgICAgICB2YXIgcyA9IHNlY29uZHMgPyBzZWNvbmRzLnRvRml4ZWQoMykucmVwbGFjZSgvXFwuPzArJC8sICcnKSA6ICcnO1xuICAgICAgICB2YXIgdG90YWwgPSB0aGlzLmFzU2Vjb25kcygpO1xuXG4gICAgICAgIGlmICghdG90YWwpIHtcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgdGhlIHNhbWUgYXMgQyMncyAoTm9kYSkgYW5kIHB5dGhvbiAoaXNvZGF0ZSkuLi5cbiAgICAgICAgICAgIC8vIGJ1dCBub3Qgb3RoZXIgSlMgKGdvb2cuZGF0ZSlcbiAgICAgICAgICAgIHJldHVybiAnUDBEJztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0b3RhbFNpZ24gPSB0b3RhbCA8IDAgPyAnLScgOiAnJztcbiAgICAgICAgdmFyIHltU2lnbiA9IHNpZ24odGhpcy5fbW9udGhzKSAhPT0gc2lnbih0b3RhbCkgPyAnLScgOiAnJztcbiAgICAgICAgdmFyIGRheXNTaWduID0gc2lnbih0aGlzLl9kYXlzKSAhPT0gc2lnbih0b3RhbCkgPyAnLScgOiAnJztcbiAgICAgICAgdmFyIGhtc1NpZ24gPSBzaWduKHRoaXMuX21pbGxpc2Vjb25kcykgIT09IHNpZ24odG90YWwpID8gJy0nIDogJyc7XG5cbiAgICAgICAgcmV0dXJuIHRvdGFsU2lnbiArICdQJyArXG4gICAgICAgICAgICAoWSA/IHltU2lnbiArIFkgKyAnWScgOiAnJykgK1xuICAgICAgICAgICAgKE0gPyB5bVNpZ24gKyBNICsgJ00nIDogJycpICtcbiAgICAgICAgICAgIChEID8gZGF5c1NpZ24gKyBEICsgJ0QnIDogJycpICtcbiAgICAgICAgICAgICgoaCB8fCBtIHx8IHMpID8gJ1QnIDogJycpICtcbiAgICAgICAgICAgIChoID8gaG1zU2lnbiArIGggKyAnSCcgOiAnJykgK1xuICAgICAgICAgICAgKG0gPyBobXNTaWduICsgbSArICdNJyA6ICcnKSArXG4gICAgICAgICAgICAocyA/IGhtc1NpZ24gKyBzICsgJ1MnIDogJycpO1xuICAgIH1cblxuICAgIHZhciBwcm90byQyID0gRHVyYXRpb24ucHJvdG90eXBlO1xuXG4gICAgcHJvdG8kMi5pc1ZhbGlkICAgICAgICA9IGlzVmFsaWQkMTtcbiAgICBwcm90byQyLmFicyAgICAgICAgICAgID0gYWJzO1xuICAgIHByb3RvJDIuYWRkICAgICAgICAgICAgPSBhZGQkMTtcbiAgICBwcm90byQyLnN1YnRyYWN0ICAgICAgID0gc3VidHJhY3QkMTtcbiAgICBwcm90byQyLmFzICAgICAgICAgICAgID0gYXM7XG4gICAgcHJvdG8kMi5hc01pbGxpc2Vjb25kcyA9IGFzTWlsbGlzZWNvbmRzO1xuICAgIHByb3RvJDIuYXNTZWNvbmRzICAgICAgPSBhc1NlY29uZHM7XG4gICAgcHJvdG8kMi5hc01pbnV0ZXMgICAgICA9IGFzTWludXRlcztcbiAgICBwcm90byQyLmFzSG91cnMgICAgICAgID0gYXNIb3VycztcbiAgICBwcm90byQyLmFzRGF5cyAgICAgICAgID0gYXNEYXlzO1xuICAgIHByb3RvJDIuYXNXZWVrcyAgICAgICAgPSBhc1dlZWtzO1xuICAgIHByb3RvJDIuYXNNb250aHMgICAgICAgPSBhc01vbnRocztcbiAgICBwcm90byQyLmFzUXVhcnRlcnMgICAgID0gYXNRdWFydGVycztcbiAgICBwcm90byQyLmFzWWVhcnMgICAgICAgID0gYXNZZWFycztcbiAgICBwcm90byQyLnZhbHVlT2YgICAgICAgID0gdmFsdWVPZiQxO1xuICAgIHByb3RvJDIuX2J1YmJsZSAgICAgICAgPSBidWJibGU7XG4gICAgcHJvdG8kMi5jbG9uZSAgICAgICAgICA9IGNsb25lJDE7XG4gICAgcHJvdG8kMi5nZXQgICAgICAgICAgICA9IGdldCQyO1xuICAgIHByb3RvJDIubWlsbGlzZWNvbmRzICAgPSBtaWxsaXNlY29uZHM7XG4gICAgcHJvdG8kMi5zZWNvbmRzICAgICAgICA9IHNlY29uZHM7XG4gICAgcHJvdG8kMi5taW51dGVzICAgICAgICA9IG1pbnV0ZXM7XG4gICAgcHJvdG8kMi5ob3VycyAgICAgICAgICA9IGhvdXJzO1xuICAgIHByb3RvJDIuZGF5cyAgICAgICAgICAgPSBkYXlzO1xuICAgIHByb3RvJDIud2Vla3MgICAgICAgICAgPSB3ZWVrcztcbiAgICBwcm90byQyLm1vbnRocyAgICAgICAgID0gbW9udGhzO1xuICAgIHByb3RvJDIueWVhcnMgICAgICAgICAgPSB5ZWFycztcbiAgICBwcm90byQyLmh1bWFuaXplICAgICAgID0gaHVtYW5pemU7XG4gICAgcHJvdG8kMi50b0lTT1N0cmluZyAgICA9IHRvSVNPU3RyaW5nJDE7XG4gICAgcHJvdG8kMi50b1N0cmluZyAgICAgICA9IHRvSVNPU3RyaW5nJDE7XG4gICAgcHJvdG8kMi50b0pTT04gICAgICAgICA9IHRvSVNPU3RyaW5nJDE7XG4gICAgcHJvdG8kMi5sb2NhbGUgICAgICAgICA9IGxvY2FsZTtcbiAgICBwcm90byQyLmxvY2FsZURhdGEgICAgID0gbG9jYWxlRGF0YTtcblxuICAgIHByb3RvJDIudG9Jc29TdHJpbmcgPSBkZXByZWNhdGUoJ3RvSXNvU3RyaW5nKCkgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSB0b0lTT1N0cmluZygpIGluc3RlYWQgKG5vdGljZSB0aGUgY2FwaXRhbHMpJywgdG9JU09TdHJpbmckMSk7XG4gICAgcHJvdG8kMi5sYW5nID0gbGFuZztcblxuICAgIC8vIFNpZGUgZWZmZWN0IGltcG9ydHNcblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdYJywgMCwgMCwgJ3VuaXgnKTtcbiAgICBhZGRGb3JtYXRUb2tlbigneCcsIDAsIDAsICd2YWx1ZU9mJyk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCd4JywgbWF0Y2hTaWduZWQpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ1gnLCBtYXRjaFRpbWVzdGFtcCk7XG4gICAgYWRkUGFyc2VUb2tlbignWCcsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShwYXJzZUZsb2F0KGlucHV0LCAxMCkgKiAxMDAwKTtcbiAgICB9KTtcbiAgICBhZGRQYXJzZVRva2VuKCd4JywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKHRvSW50KGlucHV0KSk7XG4gICAgfSk7XG5cbiAgICAvLyBTaWRlIGVmZmVjdCBpbXBvcnRzXG5cblxuICAgIGhvb2tzLnZlcnNpb24gPSAnMi4yNC4wJztcblxuICAgIHNldEhvb2tDYWxsYmFjayhjcmVhdGVMb2NhbCk7XG5cbiAgICBob29rcy5mbiAgICAgICAgICAgICAgICAgICAgPSBwcm90bztcbiAgICBob29rcy5taW4gICAgICAgICAgICAgICAgICAgPSBtaW47XG4gICAgaG9va3MubWF4ICAgICAgICAgICAgICAgICAgID0gbWF4O1xuICAgIGhvb2tzLm5vdyAgICAgICAgICAgICAgICAgICA9IG5vdztcbiAgICBob29rcy51dGMgICAgICAgICAgICAgICAgICAgPSBjcmVhdGVVVEM7XG4gICAgaG9va3MudW5peCAgICAgICAgICAgICAgICAgID0gY3JlYXRlVW5peDtcbiAgICBob29rcy5tb250aHMgICAgICAgICAgICAgICAgPSBsaXN0TW9udGhzO1xuICAgIGhvb2tzLmlzRGF0ZSAgICAgICAgICAgICAgICA9IGlzRGF0ZTtcbiAgICBob29rcy5sb2NhbGUgICAgICAgICAgICAgICAgPSBnZXRTZXRHbG9iYWxMb2NhbGU7XG4gICAgaG9va3MuaW52YWxpZCAgICAgICAgICAgICAgID0gY3JlYXRlSW52YWxpZDtcbiAgICBob29rcy5kdXJhdGlvbiAgICAgICAgICAgICAgPSBjcmVhdGVEdXJhdGlvbjtcbiAgICBob29rcy5pc01vbWVudCAgICAgICAgICAgICAgPSBpc01vbWVudDtcbiAgICBob29rcy53ZWVrZGF5cyAgICAgICAgICAgICAgPSBsaXN0V2Vla2RheXM7XG4gICAgaG9va3MucGFyc2Vab25lICAgICAgICAgICAgID0gY3JlYXRlSW5ab25lO1xuICAgIGhvb2tzLmxvY2FsZURhdGEgICAgICAgICAgICA9IGdldExvY2FsZTtcbiAgICBob29rcy5pc0R1cmF0aW9uICAgICAgICAgICAgPSBpc0R1cmF0aW9uO1xuICAgIGhvb2tzLm1vbnRoc1Nob3J0ICAgICAgICAgICA9IGxpc3RNb250aHNTaG9ydDtcbiAgICBob29rcy53ZWVrZGF5c01pbiAgICAgICAgICAgPSBsaXN0V2Vla2RheXNNaW47XG4gICAgaG9va3MuZGVmaW5lTG9jYWxlICAgICAgICAgID0gZGVmaW5lTG9jYWxlO1xuICAgIGhvb2tzLnVwZGF0ZUxvY2FsZSAgICAgICAgICA9IHVwZGF0ZUxvY2FsZTtcbiAgICBob29rcy5sb2NhbGVzICAgICAgICAgICAgICAgPSBsaXN0TG9jYWxlcztcbiAgICBob29rcy53ZWVrZGF5c1Nob3J0ICAgICAgICAgPSBsaXN0V2Vla2RheXNTaG9ydDtcbiAgICBob29rcy5ub3JtYWxpemVVbml0cyAgICAgICAgPSBub3JtYWxpemVVbml0cztcbiAgICBob29rcy5yZWxhdGl2ZVRpbWVSb3VuZGluZyAgPSBnZXRTZXRSZWxhdGl2ZVRpbWVSb3VuZGluZztcbiAgICBob29rcy5yZWxhdGl2ZVRpbWVUaHJlc2hvbGQgPSBnZXRTZXRSZWxhdGl2ZVRpbWVUaHJlc2hvbGQ7XG4gICAgaG9va3MuY2FsZW5kYXJGb3JtYXQgICAgICAgID0gZ2V0Q2FsZW5kYXJGb3JtYXQ7XG4gICAgaG9va3MucHJvdG90eXBlICAgICAgICAgICAgID0gcHJvdG87XG5cbiAgICAvLyBjdXJyZW50bHkgSFRNTDUgaW5wdXQgdHlwZSBvbmx5IHN1cHBvcnRzIDI0LWhvdXIgZm9ybWF0c1xuICAgIGhvb2tzLkhUTUw1X0ZNVCA9IHtcbiAgICAgICAgREFURVRJTUVfTE9DQUw6ICdZWVlZLU1NLUREVEhIOm1tJywgICAgICAgICAgICAgLy8gPGlucHV0IHR5cGU9XCJkYXRldGltZS1sb2NhbFwiIC8+XG4gICAgICAgIERBVEVUSU1FX0xPQ0FMX1NFQ09ORFM6ICdZWVlZLU1NLUREVEhIOm1tOnNzJywgIC8vIDxpbnB1dCB0eXBlPVwiZGF0ZXRpbWUtbG9jYWxcIiBzdGVwPVwiMVwiIC8+XG4gICAgICAgIERBVEVUSU1FX0xPQ0FMX01TOiAnWVlZWS1NTS1ERFRISDptbTpzcy5TU1MnLCAgIC8vIDxpbnB1dCB0eXBlPVwiZGF0ZXRpbWUtbG9jYWxcIiBzdGVwPVwiMC4wMDFcIiAvPlxuICAgICAgICBEQVRFOiAnWVlZWS1NTS1ERCcsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8aW5wdXQgdHlwZT1cImRhdGVcIiAvPlxuICAgICAgICBUSU1FOiAnSEg6bW0nLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8aW5wdXQgdHlwZT1cInRpbWVcIiAvPlxuICAgICAgICBUSU1FX1NFQ09ORFM6ICdISDptbTpzcycsICAgICAgICAgICAgICAgICAgICAgICAvLyA8aW5wdXQgdHlwZT1cInRpbWVcIiBzdGVwPVwiMVwiIC8+XG4gICAgICAgIFRJTUVfTVM6ICdISDptbTpzcy5TU1MnLCAgICAgICAgICAgICAgICAgICAgICAgIC8vIDxpbnB1dCB0eXBlPVwidGltZVwiIHN0ZXA9XCIwLjAwMVwiIC8+XG4gICAgICAgIFdFRUs6ICdHR0dHLVtXXVdXJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDxpbnB1dCB0eXBlPVwid2Vla1wiIC8+XG4gICAgICAgIE1PTlRIOiAnWVlZWS1NTScgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDxpbnB1dCB0eXBlPVwibW9udGhcIiAvPlxuICAgIH07XG5cbiAgICByZXR1cm4gaG9va3M7XG5cbn0pKSk7XG4iLCIvKiEgaHR0cHM6Ly9tdGhzLmJlL3B1bnljb2RlIHYxLjQuMSBieSBAbWF0aGlhcyAqL1xuOyhmdW5jdGlvbihyb290KSB7XG5cblx0LyoqIERldGVjdCBmcmVlIHZhcmlhYmxlcyAqL1xuXHR2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmXG5cdFx0IWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblx0dmFyIGZyZWVNb2R1bGUgPSB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJlxuXHRcdCFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXHR2YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsO1xuXHRpZiAoXG5cdFx0ZnJlZUdsb2JhbC5nbG9iYWwgPT09IGZyZWVHbG9iYWwgfHxcblx0XHRmcmVlR2xvYmFsLndpbmRvdyA9PT0gZnJlZUdsb2JhbCB8fFxuXHRcdGZyZWVHbG9iYWwuc2VsZiA9PT0gZnJlZUdsb2JhbFxuXHQpIHtcblx0XHRyb290ID0gZnJlZUdsb2JhbDtcblx0fVxuXG5cdC8qKlxuXHQgKiBUaGUgYHB1bnljb2RlYCBvYmplY3QuXG5cdCAqIEBuYW1lIHB1bnljb2RlXG5cdCAqIEB0eXBlIE9iamVjdFxuXHQgKi9cblx0dmFyIHB1bnljb2RlLFxuXG5cdC8qKiBIaWdoZXN0IHBvc2l0aXZlIHNpZ25lZCAzMi1iaXQgZmxvYXQgdmFsdWUgKi9cblx0bWF4SW50ID0gMjE0NzQ4MzY0NywgLy8gYWthLiAweDdGRkZGRkZGIG9yIDJeMzEtMVxuXG5cdC8qKiBCb290c3RyaW5nIHBhcmFtZXRlcnMgKi9cblx0YmFzZSA9IDM2LFxuXHR0TWluID0gMSxcblx0dE1heCA9IDI2LFxuXHRza2V3ID0gMzgsXG5cdGRhbXAgPSA3MDAsXG5cdGluaXRpYWxCaWFzID0gNzIsXG5cdGluaXRpYWxOID0gMTI4LCAvLyAweDgwXG5cdGRlbGltaXRlciA9ICctJywgLy8gJ1xceDJEJ1xuXG5cdC8qKiBSZWd1bGFyIGV4cHJlc3Npb25zICovXG5cdHJlZ2V4UHVueWNvZGUgPSAvXnhuLS0vLFxuXHRyZWdleE5vbkFTQ0lJID0gL1teXFx4MjAtXFx4N0VdLywgLy8gdW5wcmludGFibGUgQVNDSUkgY2hhcnMgKyBub24tQVNDSUkgY2hhcnNcblx0cmVnZXhTZXBhcmF0b3JzID0gL1tcXHgyRVxcdTMwMDJcXHVGRjBFXFx1RkY2MV0vZywgLy8gUkZDIDM0OTAgc2VwYXJhdG9yc1xuXG5cdC8qKiBFcnJvciBtZXNzYWdlcyAqL1xuXHRlcnJvcnMgPSB7XG5cdFx0J292ZXJmbG93JzogJ092ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzJyxcblx0XHQnbm90LWJhc2ljJzogJ0lsbGVnYWwgaW5wdXQgPj0gMHg4MCAobm90IGEgYmFzaWMgY29kZSBwb2ludCknLFxuXHRcdCdpbnZhbGlkLWlucHV0JzogJ0ludmFsaWQgaW5wdXQnXG5cdH0sXG5cblx0LyoqIENvbnZlbmllbmNlIHNob3J0Y3V0cyAqL1xuXHRiYXNlTWludXNUTWluID0gYmFzZSAtIHRNaW4sXG5cdGZsb29yID0gTWF0aC5mbG9vcixcblx0c3RyaW5nRnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZSxcblxuXHQvKiogVGVtcG9yYXJ5IHZhcmlhYmxlICovXG5cdGtleTtcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKipcblx0ICogQSBnZW5lcmljIGVycm9yIHV0aWxpdHkgZnVuY3Rpb24uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBlcnJvciB0eXBlLlxuXHQgKiBAcmV0dXJucyB7RXJyb3J9IFRocm93cyBhIGBSYW5nZUVycm9yYCB3aXRoIHRoZSBhcHBsaWNhYmxlIGVycm9yIG1lc3NhZ2UuXG5cdCAqL1xuXHRmdW5jdGlvbiBlcnJvcih0eXBlKSB7XG5cdFx0dGhyb3cgbmV3IFJhbmdlRXJyb3IoZXJyb3JzW3R5cGVdKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBIGdlbmVyaWMgYEFycmF5I21hcGAgdXRpbGl0eSBmdW5jdGlvbi5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5IGFycmF5XG5cdCAqIGl0ZW0uXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgYXJyYXkgb2YgdmFsdWVzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIG1hcChhcnJheSwgZm4pIHtcblx0XHR2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXHRcdHZhciByZXN1bHQgPSBbXTtcblx0XHR3aGlsZSAobGVuZ3RoLS0pIHtcblx0XHRcdHJlc3VsdFtsZW5ndGhdID0gZm4oYXJyYXlbbGVuZ3RoXSk7XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHQvKipcblx0ICogQSBzaW1wbGUgYEFycmF5I21hcGAtbGlrZSB3cmFwcGVyIHRvIHdvcmsgd2l0aCBkb21haW4gbmFtZSBzdHJpbmdzIG9yIGVtYWlsXG5cdCAqIGFkZHJlc3Nlcy5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGRvbWFpbiBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcy5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5XG5cdCAqIGNoYXJhY3Rlci5cblx0ICogQHJldHVybnMge0FycmF5fSBBIG5ldyBzdHJpbmcgb2YgY2hhcmFjdGVycyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2tcblx0ICogZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBtYXBEb21haW4oc3RyaW5nLCBmbikge1xuXHRcdHZhciBwYXJ0cyA9IHN0cmluZy5zcGxpdCgnQCcpO1xuXHRcdHZhciByZXN1bHQgPSAnJztcblx0XHRpZiAocGFydHMubGVuZ3RoID4gMSkge1xuXHRcdFx0Ly8gSW4gZW1haWwgYWRkcmVzc2VzLCBvbmx5IHRoZSBkb21haW4gbmFtZSBzaG91bGQgYmUgcHVueWNvZGVkLiBMZWF2ZVxuXHRcdFx0Ly8gdGhlIGxvY2FsIHBhcnQgKGkuZS4gZXZlcnl0aGluZyB1cCB0byBgQGApIGludGFjdC5cblx0XHRcdHJlc3VsdCA9IHBhcnRzWzBdICsgJ0AnO1xuXHRcdFx0c3RyaW5nID0gcGFydHNbMV07XG5cdFx0fVxuXHRcdC8vIEF2b2lkIGBzcGxpdChyZWdleClgIGZvciBJRTggY29tcGF0aWJpbGl0eS4gU2VlICMxNy5cblx0XHRzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShyZWdleFNlcGFyYXRvcnMsICdcXHgyRScpO1xuXHRcdHZhciBsYWJlbHMgPSBzdHJpbmcuc3BsaXQoJy4nKTtcblx0XHR2YXIgZW5jb2RlZCA9IG1hcChsYWJlbHMsIGZuKS5qb2luKCcuJyk7XG5cdFx0cmV0dXJuIHJlc3VsdCArIGVuY29kZWQ7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhbiBhcnJheSBjb250YWluaW5nIHRoZSBudW1lcmljIGNvZGUgcG9pbnRzIG9mIGVhY2ggVW5pY29kZVxuXHQgKiBjaGFyYWN0ZXIgaW4gdGhlIHN0cmluZy4gV2hpbGUgSmF2YVNjcmlwdCB1c2VzIFVDUy0yIGludGVybmFsbHksXG5cdCAqIHRoaXMgZnVuY3Rpb24gd2lsbCBjb252ZXJ0IGEgcGFpciBvZiBzdXJyb2dhdGUgaGFsdmVzIChlYWNoIG9mIHdoaWNoXG5cdCAqIFVDUy0yIGV4cG9zZXMgYXMgc2VwYXJhdGUgY2hhcmFjdGVycykgaW50byBhIHNpbmdsZSBjb2RlIHBvaW50LFxuXHQgKiBtYXRjaGluZyBVVEYtMTYuXG5cdCAqIEBzZWUgYHB1bnljb2RlLnVjczIuZW5jb2RlYFxuXHQgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcblx0ICogQG5hbWUgZGVjb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgVGhlIFVuaWNvZGUgaW5wdXQgc3RyaW5nIChVQ1MtMikuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gVGhlIG5ldyBhcnJheSBvZiBjb2RlIHBvaW50cy5cblx0ICovXG5cdGZ1bmN0aW9uIHVjczJkZWNvZGUoc3RyaW5nKSB7XG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBjb3VudGVyID0gMCxcblx0XHQgICAgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aCxcblx0XHQgICAgdmFsdWUsXG5cdFx0ICAgIGV4dHJhO1xuXHRcdHdoaWxlIChjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHR2YWx1ZSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRpZiAodmFsdWUgPj0gMHhEODAwICYmIHZhbHVlIDw9IDB4REJGRiAmJiBjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHRcdC8vIGhpZ2ggc3Vycm9nYXRlLCBhbmQgdGhlcmUgaXMgYSBuZXh0IGNoYXJhY3RlclxuXHRcdFx0XHRleHRyYSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRcdGlmICgoZXh0cmEgJiAweEZDMDApID09IDB4REMwMCkgeyAvLyBsb3cgc3Vycm9nYXRlXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2goKCh2YWx1ZSAmIDB4M0ZGKSA8PCAxMCkgKyAoZXh0cmEgJiAweDNGRikgKyAweDEwMDAwKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyB1bm1hdGNoZWQgc3Vycm9nYXRlOyBvbmx5IGFwcGVuZCB0aGlzIGNvZGUgdW5pdCwgaW4gY2FzZSB0aGUgbmV4dFxuXHRcdFx0XHRcdC8vIGNvZGUgdW5pdCBpcyB0aGUgaGlnaCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpclxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdFx0XHRjb3VudGVyLS07XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgc3RyaW5nIGJhc2VkIG9uIGFuIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuXG5cdCAqIEBzZWUgYHB1bnljb2RlLnVjczIuZGVjb2RlYFxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMlxuXHQgKiBAbmFtZSBlbmNvZGVcblx0ICogQHBhcmFtIHtBcnJheX0gY29kZVBvaW50cyBUaGUgYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIG5ldyBVbmljb2RlIHN0cmluZyAoVUNTLTIpLlxuXHQgKi9cblx0ZnVuY3Rpb24gdWNzMmVuY29kZShhcnJheSkge1xuXHRcdHJldHVybiBtYXAoYXJyYXksIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHR2YXIgb3V0cHV0ID0gJyc7XG5cdFx0XHRpZiAodmFsdWUgPiAweEZGRkYpIHtcblx0XHRcdFx0dmFsdWUgLT0gMHgxMDAwMDtcblx0XHRcdFx0b3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMCk7XG5cdFx0XHRcdHZhbHVlID0gMHhEQzAwIHwgdmFsdWUgJiAweDNGRjtcblx0XHRcdH1cblx0XHRcdG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUpO1xuXHRcdFx0cmV0dXJuIG91dHB1dDtcblx0XHR9KS5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIGJhc2ljIGNvZGUgcG9pbnQgaW50byBhIGRpZ2l0L2ludGVnZXIuXG5cdCAqIEBzZWUgYGRpZ2l0VG9CYXNpYygpYFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gY29kZVBvaW50IFRoZSBiYXNpYyBudW1lcmljIGNvZGUgcG9pbnQgdmFsdWUuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludCAoZm9yIHVzZSBpblxuXHQgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGluIHRoZSByYW5nZSBgMGAgdG8gYGJhc2UgLSAxYCwgb3IgYGJhc2VgIGlmXG5cdCAqIHRoZSBjb2RlIHBvaW50IGRvZXMgbm90IHJlcHJlc2VudCBhIHZhbHVlLlxuXHQgKi9cblx0ZnVuY3Rpb24gYmFzaWNUb0RpZ2l0KGNvZGVQb2ludCkge1xuXHRcdGlmIChjb2RlUG9pbnQgLSA0OCA8IDEwKSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gMjI7XG5cdFx0fVxuXHRcdGlmIChjb2RlUG9pbnQgLSA2NSA8IDI2KSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gNjU7XG5cdFx0fVxuXHRcdGlmIChjb2RlUG9pbnQgLSA5NyA8IDI2KSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gOTc7XG5cdFx0fVxuXHRcdHJldHVybiBiYXNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgZGlnaXQvaW50ZWdlciBpbnRvIGEgYmFzaWMgY29kZSBwb2ludC5cblx0ICogQHNlZSBgYmFzaWNUb0RpZ2l0KClgXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBkaWdpdCBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBiYXNpYyBjb2RlIHBvaW50IHdob3NlIHZhbHVlICh3aGVuIHVzZWQgZm9yXG5cdCAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaXMgYGRpZ2l0YCwgd2hpY2ggbmVlZHMgdG8gYmUgaW4gdGhlIHJhbmdlXG5cdCAqIGAwYCB0byBgYmFzZSAtIDFgLiBJZiBgZmxhZ2AgaXMgbm9uLXplcm8sIHRoZSB1cHBlcmNhc2UgZm9ybSBpc1xuXHQgKiB1c2VkOyBlbHNlLCB0aGUgbG93ZXJjYXNlIGZvcm0gaXMgdXNlZC4gVGhlIGJlaGF2aW9yIGlzIHVuZGVmaW5lZFxuXHQgKiBpZiBgZmxhZ2AgaXMgbm9uLXplcm8gYW5kIGBkaWdpdGAgaGFzIG5vIHVwcGVyY2FzZSBmb3JtLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGlnaXRUb0Jhc2ljKGRpZ2l0LCBmbGFnKSB7XG5cdFx0Ly8gIDAuLjI1IG1hcCB0byBBU0NJSSBhLi56IG9yIEEuLlpcblx0XHQvLyAyNi4uMzUgbWFwIHRvIEFTQ0lJIDAuLjlcblx0XHRyZXR1cm4gZGlnaXQgKyAyMiArIDc1ICogKGRpZ2l0IDwgMjYpIC0gKChmbGFnICE9IDApIDw8IDUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEJpYXMgYWRhcHRhdGlvbiBmdW5jdGlvbiBhcyBwZXIgc2VjdGlvbiAzLjQgb2YgUkZDIDM0OTIuXG5cdCAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzNDkyI3NlY3Rpb24tMy40XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBhZGFwdChkZWx0YSwgbnVtUG9pbnRzLCBmaXJzdFRpbWUpIHtcblx0XHR2YXIgayA9IDA7XG5cdFx0ZGVsdGEgPSBmaXJzdFRpbWUgPyBmbG9vcihkZWx0YSAvIGRhbXApIDogZGVsdGEgPj4gMTtcblx0XHRkZWx0YSArPSBmbG9vcihkZWx0YSAvIG51bVBvaW50cyk7XG5cdFx0Zm9yICgvKiBubyBpbml0aWFsaXphdGlvbiAqLzsgZGVsdGEgPiBiYXNlTWludXNUTWluICogdE1heCA+PiAxOyBrICs9IGJhc2UpIHtcblx0XHRcdGRlbHRhID0gZmxvb3IoZGVsdGEgLyBiYXNlTWludXNUTWluKTtcblx0XHR9XG5cdFx0cmV0dXJuIGZsb29yKGsgKyAoYmFzZU1pbnVzVE1pbiArIDEpICogZGVsdGEgLyAoZGVsdGEgKyBza2V3KSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzIHRvIGEgc3RyaW5nIG9mIFVuaWNvZGVcblx0ICogc3ltYm9scy5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7XG5cdFx0Ly8gRG9uJ3QgdXNlIFVDUy0yXG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aCxcblx0XHQgICAgb3V0LFxuXHRcdCAgICBpID0gMCxcblx0XHQgICAgbiA9IGluaXRpYWxOLFxuXHRcdCAgICBiaWFzID0gaW5pdGlhbEJpYXMsXG5cdFx0ICAgIGJhc2ljLFxuXHRcdCAgICBqLFxuXHRcdCAgICBpbmRleCxcblx0XHQgICAgb2xkaSxcblx0XHQgICAgdyxcblx0XHQgICAgayxcblx0XHQgICAgZGlnaXQsXG5cdFx0ICAgIHQsXG5cdFx0ICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqL1xuXHRcdCAgICBiYXNlTWludXNUO1xuXG5cdFx0Ly8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50czogbGV0IGBiYXNpY2AgYmUgdGhlIG51bWJlciBvZiBpbnB1dCBjb2RlXG5cdFx0Ly8gcG9pbnRzIGJlZm9yZSB0aGUgbGFzdCBkZWxpbWl0ZXIsIG9yIGAwYCBpZiB0aGVyZSBpcyBub25lLCB0aGVuIGNvcHlcblx0XHQvLyB0aGUgZmlyc3QgYmFzaWMgY29kZSBwb2ludHMgdG8gdGhlIG91dHB1dC5cblxuXHRcdGJhc2ljID0gaW5wdXQubGFzdEluZGV4T2YoZGVsaW1pdGVyKTtcblx0XHRpZiAoYmFzaWMgPCAwKSB7XG5cdFx0XHRiYXNpYyA9IDA7XG5cdFx0fVxuXG5cdFx0Zm9yIChqID0gMDsgaiA8IGJhc2ljOyArK2opIHtcblx0XHRcdC8vIGlmIGl0J3Mgbm90IGEgYmFzaWMgY29kZSBwb2ludFxuXHRcdFx0aWYgKGlucHV0LmNoYXJDb2RlQXQoaikgPj0gMHg4MCkge1xuXHRcdFx0XHRlcnJvcignbm90LWJhc2ljJyk7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQucHVzaChpbnB1dC5jaGFyQ29kZUF0KGopKTtcblx0XHR9XG5cblx0XHQvLyBNYWluIGRlY29kaW5nIGxvb3A6IHN0YXJ0IGp1c3QgYWZ0ZXIgdGhlIGxhc3QgZGVsaW1pdGVyIGlmIGFueSBiYXNpYyBjb2RlXG5cdFx0Ly8gcG9pbnRzIHdlcmUgY29waWVkOyBzdGFydCBhdCB0aGUgYmVnaW5uaW5nIG90aGVyd2lzZS5cblxuXHRcdGZvciAoaW5kZXggPSBiYXNpYyA+IDAgPyBiYXNpYyArIDEgOiAwOyBpbmRleCA8IGlucHV0TGVuZ3RoOyAvKiBubyBmaW5hbCBleHByZXNzaW9uICovKSB7XG5cblx0XHRcdC8vIGBpbmRleGAgaXMgdGhlIGluZGV4IG9mIHRoZSBuZXh0IGNoYXJhY3RlciB0byBiZSBjb25zdW1lZC5cblx0XHRcdC8vIERlY29kZSBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyIGludG8gYGRlbHRhYCxcblx0XHRcdC8vIHdoaWNoIGdldHMgYWRkZWQgdG8gYGlgLiBUaGUgb3ZlcmZsb3cgY2hlY2tpbmcgaXMgZWFzaWVyXG5cdFx0XHQvLyBpZiB3ZSBpbmNyZWFzZSBgaWAgYXMgd2UgZ28sIHRoZW4gc3VidHJhY3Qgb2ZmIGl0cyBzdGFydGluZ1xuXHRcdFx0Ly8gdmFsdWUgYXQgdGhlIGVuZCB0byBvYnRhaW4gYGRlbHRhYC5cblx0XHRcdGZvciAob2xkaSA9IGksIHcgPSAxLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblxuXHRcdFx0XHRpZiAoaW5kZXggPj0gaW5wdXRMZW5ndGgpIHtcblx0XHRcdFx0XHRlcnJvcignaW52YWxpZC1pbnB1dCcpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZGlnaXQgPSBiYXNpY1RvRGlnaXQoaW5wdXQuY2hhckNvZGVBdChpbmRleCsrKSk7XG5cblx0XHRcdFx0aWYgKGRpZ2l0ID49IGJhc2UgfHwgZGlnaXQgPiBmbG9vcigobWF4SW50IC0gaSkgLyB3KSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aSArPSBkaWdpdCAqIHc7XG5cdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXG5cdFx0XHRcdGlmIChkaWdpdCA8IHQpIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdFx0aWYgKHcgPiBmbG9vcihtYXhJbnQgLyBiYXNlTWludXNUKSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dyAqPSBiYXNlTWludXNUO1xuXG5cdFx0XHR9XG5cblx0XHRcdG91dCA9IG91dHB1dC5sZW5ndGggKyAxO1xuXHRcdFx0YmlhcyA9IGFkYXB0KGkgLSBvbGRpLCBvdXQsIG9sZGkgPT0gMCk7XG5cblx0XHRcdC8vIGBpYCB3YXMgc3VwcG9zZWQgdG8gd3JhcCBhcm91bmQgZnJvbSBgb3V0YCB0byBgMGAsXG5cdFx0XHQvLyBpbmNyZW1lbnRpbmcgYG5gIGVhY2ggdGltZSwgc28gd2UnbGwgZml4IHRoYXQgbm93OlxuXHRcdFx0aWYgKGZsb29yKGkgLyBvdXQpID4gbWF4SW50IC0gbikge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0biArPSBmbG9vcihpIC8gb3V0KTtcblx0XHRcdGkgJT0gb3V0O1xuXG5cdFx0XHQvLyBJbnNlcnQgYG5gIGF0IHBvc2l0aW9uIGBpYCBvZiB0aGUgb3V0cHV0XG5cdFx0XHRvdXRwdXQuc3BsaWNlKGkrKywgMCwgbik7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdWNzMmVuY29kZShvdXRwdXQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scyAoZS5nLiBhIGRvbWFpbiBuYW1lIGxhYmVsKSB0byBhXG5cdCAqIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICovXG5cdGZ1bmN0aW9uIGVuY29kZShpbnB1dCkge1xuXHRcdHZhciBuLFxuXHRcdCAgICBkZWx0YSxcblx0XHQgICAgaGFuZGxlZENQQ291bnQsXG5cdFx0ICAgIGJhc2ljTGVuZ3RoLFxuXHRcdCAgICBiaWFzLFxuXHRcdCAgICBqLFxuXHRcdCAgICBtLFxuXHRcdCAgICBxLFxuXHRcdCAgICBrLFxuXHRcdCAgICB0LFxuXHRcdCAgICBjdXJyZW50VmFsdWUsXG5cdFx0ICAgIG91dHB1dCA9IFtdLFxuXHRcdCAgICAvKiogYGlucHV0TGVuZ3RoYCB3aWxsIGhvbGQgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyBpbiBgaW5wdXRgLiAqL1xuXHRcdCAgICBpbnB1dExlbmd0aCxcblx0XHQgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovXG5cdFx0ICAgIGhhbmRsZWRDUENvdW50UGx1c09uZSxcblx0XHQgICAgYmFzZU1pbnVzVCxcblx0XHQgICAgcU1pbnVzVDtcblxuXHRcdC8vIENvbnZlcnQgdGhlIGlucHV0IGluIFVDUy0yIHRvIFVuaWNvZGVcblx0XHRpbnB1dCA9IHVjczJkZWNvZGUoaW5wdXQpO1xuXG5cdFx0Ly8gQ2FjaGUgdGhlIGxlbmd0aFxuXHRcdGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuXG5cdFx0Ly8gSW5pdGlhbGl6ZSB0aGUgc3RhdGVcblx0XHRuID0gaW5pdGlhbE47XG5cdFx0ZGVsdGEgPSAwO1xuXHRcdGJpYXMgPSBpbml0aWFsQmlhcztcblxuXHRcdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHNcblx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgMHg4MCkge1xuXHRcdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoY3VycmVudFZhbHVlKSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aGFuZGxlZENQQ291bnQgPSBiYXNpY0xlbmd0aCA9IG91dHB1dC5sZW5ndGg7XG5cblx0XHQvLyBgaGFuZGxlZENQQ291bnRgIGlzIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgdGhhdCBoYXZlIGJlZW4gaGFuZGxlZDtcblx0XHQvLyBgYmFzaWNMZW5ndGhgIGlzIHRoZSBudW1iZXIgb2YgYmFzaWMgY29kZSBwb2ludHMuXG5cblx0XHQvLyBGaW5pc2ggdGhlIGJhc2ljIHN0cmluZyAtIGlmIGl0IGlzIG5vdCBlbXB0eSAtIHdpdGggYSBkZWxpbWl0ZXJcblx0XHRpZiAoYmFzaWNMZW5ndGgpIHtcblx0XHRcdG91dHB1dC5wdXNoKGRlbGltaXRlcik7XG5cdFx0fVxuXG5cdFx0Ly8gTWFpbiBlbmNvZGluZyBsb29wOlxuXHRcdHdoaWxlIChoYW5kbGVkQ1BDb3VudCA8IGlucHV0TGVuZ3RoKSB7XG5cblx0XHRcdC8vIEFsbCBub24tYmFzaWMgY29kZSBwb2ludHMgPCBuIGhhdmUgYmVlbiBoYW5kbGVkIGFscmVhZHkuIEZpbmQgdGhlIG5leHRcblx0XHRcdC8vIGxhcmdlciBvbmU6XG5cdFx0XHRmb3IgKG0gPSBtYXhJbnQsIGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA+PSBuICYmIGN1cnJlbnRWYWx1ZSA8IG0pIHtcblx0XHRcdFx0XHRtID0gY3VycmVudFZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEluY3JlYXNlIGBkZWx0YWAgZW5vdWdoIHRvIGFkdmFuY2UgdGhlIGRlY29kZXIncyA8bixpPiBzdGF0ZSB0byA8bSwwPixcblx0XHRcdC8vIGJ1dCBndWFyZCBhZ2FpbnN0IG92ZXJmbG93XG5cdFx0XHRoYW5kbGVkQ1BDb3VudFBsdXNPbmUgPSBoYW5kbGVkQ1BDb3VudCArIDE7XG5cdFx0XHRpZiAobSAtIG4gPiBmbG9vcigobWF4SW50IC0gZGVsdGEpIC8gaGFuZGxlZENQQ291bnRQbHVzT25lKSkge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0ZGVsdGEgKz0gKG0gLSBuKSAqIGhhbmRsZWRDUENvdW50UGx1c09uZTtcblx0XHRcdG4gPSBtO1xuXG5cdFx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgbiAmJiArK2RlbHRhID4gbWF4SW50KSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlID09IG4pIHtcblx0XHRcdFx0XHQvLyBSZXByZXNlbnQgZGVsdGEgYXMgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlclxuXHRcdFx0XHRcdGZvciAocSA9IGRlbHRhLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblx0XHRcdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXHRcdFx0XHRcdFx0aWYgKHEgPCB0KSB7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cU1pbnVzVCA9IHEgLSB0O1xuXHRcdFx0XHRcdFx0YmFzZU1pbnVzVCA9IGJhc2UgLSB0O1xuXHRcdFx0XHRcdFx0b3V0cHV0LnB1c2goXG5cdFx0XHRcdFx0XHRcdHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWModCArIHFNaW51c1QgJSBiYXNlTWludXNULCAwKSlcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRxID0gZmxvb3IocU1pbnVzVCAvIGJhc2VNaW51c1QpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWMocSwgMCkpKTtcblx0XHRcdFx0XHRiaWFzID0gYWRhcHQoZGVsdGEsIGhhbmRsZWRDUENvdW50UGx1c09uZSwgaGFuZGxlZENQQ291bnQgPT0gYmFzaWNMZW5ndGgpO1xuXHRcdFx0XHRcdGRlbHRhID0gMDtcblx0XHRcdFx0XHQrK2hhbmRsZWRDUENvdW50O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdCsrZGVsdGE7XG5cdFx0XHQrK247XG5cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dC5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzXG5cdCAqIHRvIFVuaWNvZGUuIE9ubHkgdGhlIFB1bnljb2RlZCBwYXJ0cyBvZiB0aGUgaW5wdXQgd2lsbCBiZSBjb252ZXJ0ZWQsIGkuZS5cblx0ICogaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgb24gYSBzdHJpbmcgdGhhdCBoYXMgYWxyZWFkeSBiZWVuXG5cdCAqIGNvbnZlcnRlZCB0byBVbmljb2RlLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZWQgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0b1xuXHQgKiBjb252ZXJ0IHRvIFVuaWNvZGUuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBVbmljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBQdW55Y29kZVxuXHQgKiBzdHJpbmcuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b1VuaWNvZGUoaW5wdXQpIHtcblx0XHRyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdHJldHVybiByZWdleFB1bnljb2RlLnRlc3Qoc3RyaW5nKVxuXHRcdFx0XHQ/IGRlY29kZShzdHJpbmcuc2xpY2UoNCkudG9Mb3dlckNhc2UoKSlcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBVbmljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzIHRvXG5cdCAqIFB1bnljb2RlLiBPbmx5IHRoZSBub24tQVNDSUkgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHdpbGwgYmUgY29udmVydGVkLFxuXHQgKiBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCdzIGFscmVhZHkgaW5cblx0ICogQVNDSUkuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8gY29udmVydCwgYXMgYVxuXHQgKiBVbmljb2RlIHN0cmluZy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIFB1bnljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBkb21haW4gbmFtZSBvclxuXHQgKiBlbWFpbCBhZGRyZXNzLlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9BU0NJSShpbnB1dCkge1xuXHRcdHJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0cmV0dXJuIHJlZ2V4Tm9uQVNDSUkudGVzdChzdHJpbmcpXG5cdFx0XHRcdD8gJ3huLS0nICsgZW5jb2RlKHN0cmluZylcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKiogRGVmaW5lIHRoZSBwdWJsaWMgQVBJICovXG5cdHB1bnljb2RlID0ge1xuXHRcdC8qKlxuXHRcdCAqIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBQdW55Y29kZS5qcyB2ZXJzaW9uIG51bWJlci5cblx0XHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0XHQgKiBAdHlwZSBTdHJpbmdcblx0XHQgKi9cblx0XHQndmVyc2lvbic6ICcxLjQuMScsXG5cdFx0LyoqXG5cdFx0ICogQW4gb2JqZWN0IG9mIG1ldGhvZHMgdG8gY29udmVydCBmcm9tIEphdmFTY3JpcHQncyBpbnRlcm5hbCBjaGFyYWN0ZXJcblx0XHQgKiByZXByZXNlbnRhdGlvbiAoVUNTLTIpIHRvIFVuaWNvZGUgY29kZSBwb2ludHMsIGFuZCBiYWNrLlxuXHRcdCAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuXHRcdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHRcdCAqIEB0eXBlIE9iamVjdFxuXHRcdCAqL1xuXHRcdCd1Y3MyJzoge1xuXHRcdFx0J2RlY29kZSc6IHVjczJkZWNvZGUsXG5cdFx0XHQnZW5jb2RlJzogdWNzMmVuY29kZVxuXHRcdH0sXG5cdFx0J2RlY29kZSc6IGRlY29kZSxcblx0XHQnZW5jb2RlJzogZW5jb2RlLFxuXHRcdCd0b0FTQ0lJJzogdG9BU0NJSSxcblx0XHQndG9Vbmljb2RlJzogdG9Vbmljb2RlXG5cdH07XG5cblx0LyoqIEV4cG9zZSBgcHVueWNvZGVgICovXG5cdC8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIHNwZWNpZmljIGNvbmRpdGlvbiBwYXR0ZXJuc1xuXHQvLyBsaWtlIHRoZSBmb2xsb3dpbmc6XG5cdGlmIChcblx0XHR0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiZcblx0XHR0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJlxuXHRcdGRlZmluZS5hbWRcblx0KSB7XG5cdFx0ZGVmaW5lKCdwdW55Y29kZScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHB1bnljb2RlO1xuXHRcdH0pO1xuXHR9IGVsc2UgaWYgKGZyZWVFeHBvcnRzICYmIGZyZWVNb2R1bGUpIHtcblx0XHRpZiAobW9kdWxlLmV4cG9ydHMgPT0gZnJlZUV4cG9ydHMpIHtcblx0XHRcdC8vIGluIE5vZGUuanMsIGlvLmpzLCBvciBSaW5nb0pTIHYwLjguMCtcblx0XHRcdGZyZWVNb2R1bGUuZXhwb3J0cyA9IHB1bnljb2RlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBpbiBOYXJ3aGFsIG9yIFJpbmdvSlMgdjAuNy4wLVxuXHRcdFx0Zm9yIChrZXkgaW4gcHVueWNvZGUpIHtcblx0XHRcdFx0cHVueWNvZGUuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAoZnJlZUV4cG9ydHNba2V5XSA9IHB1bnljb2RlW2tleV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIHtcblx0XHQvLyBpbiBSaGlubyBvciBhIHdlYiBicm93c2VyXG5cdFx0cm9vdC5wdW55Y29kZSA9IHB1bnljb2RlO1xuXHR9XG5cbn0odGhpcykpO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxuLy8gSWYgb2JqLmhhc093blByb3BlcnR5IGhhcyBiZWVuIG92ZXJyaWRkZW4sIHRoZW4gY2FsbGluZ1xuLy8gb2JqLmhhc093blByb3BlcnR5KHByb3ApIHdpbGwgYnJlYWsuXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9qb3llbnQvbm9kZS9pc3N1ZXMvMTcwN1xuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihxcywgc2VwLCBlcSwgb3B0aW9ucykge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgdmFyIG9iaiA9IHt9O1xuXG4gIGlmICh0eXBlb2YgcXMgIT09ICdzdHJpbmcnIHx8IHFzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICB2YXIgcmVnZXhwID0gL1xcKy9nO1xuICBxcyA9IHFzLnNwbGl0KHNlcCk7XG5cbiAgdmFyIG1heEtleXMgPSAxMDAwO1xuICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy5tYXhLZXlzID09PSAnbnVtYmVyJykge1xuICAgIG1heEtleXMgPSBvcHRpb25zLm1heEtleXM7XG4gIH1cblxuICB2YXIgbGVuID0gcXMubGVuZ3RoO1xuICAvLyBtYXhLZXlzIDw9IDAgbWVhbnMgdGhhdCB3ZSBzaG91bGQgbm90IGxpbWl0IGtleXMgY291bnRcbiAgaWYgKG1heEtleXMgPiAwICYmIGxlbiA+IG1heEtleXMpIHtcbiAgICBsZW4gPSBtYXhLZXlzO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIHZhciB4ID0gcXNbaV0ucmVwbGFjZShyZWdleHAsICclMjAnKSxcbiAgICAgICAgaWR4ID0geC5pbmRleE9mKGVxKSxcbiAgICAgICAga3N0ciwgdnN0ciwgaywgdjtcblxuICAgIGlmIChpZHggPj0gMCkge1xuICAgICAga3N0ciA9IHguc3Vic3RyKDAsIGlkeCk7XG4gICAgICB2c3RyID0geC5zdWJzdHIoaWR4ICsgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtzdHIgPSB4O1xuICAgICAgdnN0ciA9ICcnO1xuICAgIH1cblxuICAgIGsgPSBkZWNvZGVVUklDb21wb25lbnQoa3N0cik7XG4gICAgdiA9IGRlY29kZVVSSUNvbXBvbmVudCh2c3RyKTtcblxuICAgIGlmICghaGFzT3duUHJvcGVydHkob2JqLCBrKSkge1xuICAgICAgb2JqW2tdID0gdjtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgb2JqW2tdLnB1c2godik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtrXSA9IFtvYmpba10sIHZdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmo7XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHhzKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeHMpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBzdHJpbmdpZnlQcmltaXRpdmUgPSBmdW5jdGlvbih2KSB7XG4gIHN3aXRjaCAodHlwZW9mIHYpIHtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcmV0dXJuIHY7XG5cbiAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIHJldHVybiB2ID8gJ3RydWUnIDogJ2ZhbHNlJztcblxuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICByZXR1cm4gaXNGaW5pdGUodikgPyB2IDogJyc7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICcnO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iaiwgc2VwLCBlcSwgbmFtZSkge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgIG9iaiA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBtYXAob2JqZWN0S2V5cyhvYmopLCBmdW5jdGlvbihrKSB7XG4gICAgICB2YXIga3MgPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKGspKSArIGVxO1xuICAgICAgaWYgKGlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgICByZXR1cm4gbWFwKG9ialtrXSwgZnVuY3Rpb24odikge1xuICAgICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUodikpO1xuICAgICAgICB9KS5qb2luKHNlcCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ga3MgKyBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG9ialtrXSkpO1xuICAgICAgfVxuICAgIH0pLmpvaW4oc2VwKTtcblxuICB9XG5cbiAgaWYgKCFuYW1lKSByZXR1cm4gJyc7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG5hbWUpKSArIGVxICtcbiAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqKSk7XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHhzKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeHMpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcblxuZnVuY3Rpb24gbWFwICh4cywgZikge1xuICBpZiAoeHMubWFwKSByZXR1cm4geHMubWFwKGYpO1xuICB2YXIgcmVzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgeHMubGVuZ3RoOyBpKyspIHtcbiAgICByZXMucHVzaChmKHhzW2ldLCBpKSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxudmFyIG9iamVjdEtleXMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiAob2JqKSB7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSByZXMucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiByZXM7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLmRlY29kZSA9IGV4cG9ydHMucGFyc2UgPSByZXF1aXJlKCcuL2RlY29kZScpO1xuZXhwb3J0cy5lbmNvZGUgPSBleHBvcnRzLnN0cmluZ2lmeSA9IHJlcXVpcmUoJy4vZW5jb2RlJyk7XG4iLCIvKiBzb2NranMtY2xpZW50IHYxLjQuMCB8IGh0dHA6Ly9zb2NranMub3JnIHwgTUlUIGxpY2Vuc2UgKi9cbihmdW5jdGlvbihmKXtpZih0eXBlb2YgZXhwb3J0cz09PVwib2JqZWN0XCImJnR5cGVvZiBtb2R1bGUhPT1cInVuZGVmaW5lZFwiKXttb2R1bGUuZXhwb3J0cz1mKCl9ZWxzZSBpZih0eXBlb2YgZGVmaW5lPT09XCJmdW5jdGlvblwiJiZkZWZpbmUuYW1kKXtkZWZpbmUoW10sZil9ZWxzZXt2YXIgZztpZih0eXBlb2Ygd2luZG93IT09XCJ1bmRlZmluZWRcIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09XCJ1bmRlZmluZWRcIil7Zz1nbG9iYWx9ZWxzZSBpZih0eXBlb2Ygc2VsZiE9PVwidW5kZWZpbmVkXCIpe2c9c2VsZn1lbHNle2c9dGhpc31nLlNvY2tKUyA9IGYoKX19KShmdW5jdGlvbigpe3ZhciBkZWZpbmUsbW9kdWxlLGV4cG9ydHM7cmV0dXJuIChmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkoezE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChnbG9iYWwpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgdHJhbnNwb3J0TGlzdCA9IHJlcXVpcmUoJy4vdHJhbnNwb3J0LWxpc3QnKTtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL21haW4nKSh0cmFuc3BvcnRMaXN0KTtcblxuLy8gVE9ETyBjYW4ndCBnZXQgcmlkIG9mIHRoaXMgdW50aWwgYWxsIHNlcnZlcnMgZG9cbmlmICgnX3NvY2tqc19vbmxvYWQnIGluIGdsb2JhbCkge1xuICBzZXRUaW1lb3V0KGdsb2JhbC5fc29ja2pzX29ubG9hZCwgMSk7XG59XG5cbn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxuXG59LHtcIi4vbWFpblwiOjE0LFwiLi90cmFuc3BvcnQtbGlzdFwiOjE2fV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbiAgLCBFdmVudCA9IHJlcXVpcmUoJy4vZXZlbnQnKVxuICA7XG5cbmZ1bmN0aW9uIENsb3NlRXZlbnQoKSB7XG4gIEV2ZW50LmNhbGwodGhpcyk7XG4gIHRoaXMuaW5pdEV2ZW50KCdjbG9zZScsIGZhbHNlLCBmYWxzZSk7XG4gIHRoaXMud2FzQ2xlYW4gPSBmYWxzZTtcbiAgdGhpcy5jb2RlID0gMDtcbiAgdGhpcy5yZWFzb24gPSAnJztcbn1cblxuaW5oZXJpdHMoQ2xvc2VFdmVudCwgRXZlbnQpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENsb3NlRXZlbnQ7XG5cbn0se1wiLi9ldmVudFwiOjQsXCJpbmhlcml0c1wiOjU3fV0sMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbiAgLCBFdmVudFRhcmdldCA9IHJlcXVpcmUoJy4vZXZlbnR0YXJnZXQnKVxuICA7XG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgRXZlbnRUYXJnZXQuY2FsbCh0aGlzKTtcbn1cblxuaW5oZXJpdHMoRXZlbnRFbWl0dGVyLCBFdmVudFRhcmdldCk7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICBpZiAodHlwZSkge1xuICAgIGRlbGV0ZSB0aGlzLl9saXN0ZW5lcnNbdHlwZV07XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fbGlzdGVuZXJzID0ge307XG4gIH1cbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuICAgICwgZmlyZWQgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBnKCkge1xuICAgIHNlbGYucmVtb3ZlTGlzdGVuZXIodHlwZSwgZyk7XG5cbiAgICBpZiAoIWZpcmVkKSB7XG4gICAgICBmaXJlZCA9IHRydWU7XG4gICAgICBsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMub24odHlwZSwgZyk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHR5cGUgPSBhcmd1bWVudHNbMF07XG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnNbdHlwZV07XG4gIGlmICghbGlzdGVuZXJzKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGVxdWl2YWxlbnQgb2YgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgdmFyIGwgPSBhcmd1bWVudHMubGVuZ3RoO1xuICB2YXIgYXJncyA9IG5ldyBBcnJheShsIC0gMSk7XG4gIGZvciAodmFyIGFpID0gMTsgYWkgPCBsOyBhaSsrKSB7XG4gICAgYXJnc1thaSAtIDFdID0gYXJndW1lbnRzW2FpXTtcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgIGxpc3RlbmVyc1tpXS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfVxufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBFdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcjtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBFdmVudFRhcmdldC5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lcjtcblxubW9kdWxlLmV4cG9ydHMuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG59LHtcIi4vZXZlbnR0YXJnZXRcIjo1LFwiaW5oZXJpdHNcIjo1N31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBFdmVudChldmVudFR5cGUpIHtcbiAgdGhpcy50eXBlID0gZXZlbnRUeXBlO1xufVxuXG5FdmVudC5wcm90b3R5cGUuaW5pdEV2ZW50ID0gZnVuY3Rpb24oZXZlbnRUeXBlLCBjYW5CdWJibGUsIGNhbmNlbGFibGUpIHtcbiAgdGhpcy50eXBlID0gZXZlbnRUeXBlO1xuICB0aGlzLmJ1YmJsZXMgPSBjYW5CdWJibGU7XG4gIHRoaXMuY2FuY2VsYWJsZSA9IGNhbmNlbGFibGU7XG4gIHRoaXMudGltZVN0YW1wID0gK25ldyBEYXRlKCk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uKCkge307XG5FdmVudC5wcm90b3R5cGUucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbigpIHt9O1xuXG5FdmVudC5DQVBUVVJJTkdfUEhBU0UgPSAxO1xuRXZlbnQuQVRfVEFSR0VUID0gMjtcbkV2ZW50LkJVQkJMSU5HX1BIQVNFID0gMztcblxubW9kdWxlLmV4cG9ydHMgPSBFdmVudDtcblxufSx7fV0sNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbi8qIFNpbXBsaWZpZWQgaW1wbGVtZW50YXRpb24gb2YgRE9NMiBFdmVudFRhcmdldC5cbiAqICAgaHR0cDovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTItRXZlbnRzL2V2ZW50cy5odG1sI0V2ZW50cy1FdmVudFRhcmdldFxuICovXG5cbmZ1bmN0aW9uIEV2ZW50VGFyZ2V0KCkge1xuICB0aGlzLl9saXN0ZW5lcnMgPSB7fTtcbn1cblxuRXZlbnRUYXJnZXQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbihldmVudFR5cGUsIGxpc3RlbmVyKSB7XG4gIGlmICghKGV2ZW50VHlwZSBpbiB0aGlzLl9saXN0ZW5lcnMpKSB7XG4gICAgdGhpcy5fbGlzdGVuZXJzW2V2ZW50VHlwZV0gPSBbXTtcbiAgfVxuICB2YXIgYXJyID0gdGhpcy5fbGlzdGVuZXJzW2V2ZW50VHlwZV07XG4gIC8vICM0XG4gIGlmIChhcnIuaW5kZXhPZihsaXN0ZW5lcikgPT09IC0xKSB7XG4gICAgLy8gTWFrZSBhIGNvcHkgc28gYXMgbm90IHRvIGludGVyZmVyZSB3aXRoIGEgY3VycmVudCBkaXNwYXRjaEV2ZW50LlxuICAgIGFyciA9IGFyci5jb25jYXQoW2xpc3RlbmVyXSk7XG4gIH1cbiAgdGhpcy5fbGlzdGVuZXJzW2V2ZW50VHlwZV0gPSBhcnI7XG59O1xuXG5FdmVudFRhcmdldC5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50VHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIGFyciA9IHRoaXMuX2xpc3RlbmVyc1tldmVudFR5cGVdO1xuICBpZiAoIWFycikge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgaWR4ID0gYXJyLmluZGV4T2YobGlzdGVuZXIpO1xuICBpZiAoaWR4ICE9PSAtMSkge1xuICAgIGlmIChhcnIubGVuZ3RoID4gMSkge1xuICAgICAgLy8gTWFrZSBhIGNvcHkgc28gYXMgbm90IHRvIGludGVyZmVyZSB3aXRoIGEgY3VycmVudCBkaXNwYXRjaEV2ZW50LlxuICAgICAgdGhpcy5fbGlzdGVuZXJzW2V2ZW50VHlwZV0gPSBhcnIuc2xpY2UoMCwgaWR4KS5jb25jYXQoYXJyLnNsaWNlKGlkeCArIDEpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHRoaXMuX2xpc3RlbmVyc1tldmVudFR5cGVdO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbn07XG5cbkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBldmVudCA9IGFyZ3VtZW50c1swXTtcbiAgdmFyIHQgPSBldmVudC50eXBlO1xuICAvLyBlcXVpdmFsZW50IG9mIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG4gIHZhciBhcmdzID0gYXJndW1lbnRzLmxlbmd0aCA9PT0gMSA/IFtldmVudF0gOiBBcnJheS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAvLyBUT0RPOiBUaGlzIGRvZXNuJ3QgbWF0Y2ggdGhlIHJlYWwgYmVoYXZpb3I7IHBlciBzcGVjLCBvbmZvbyBnZXRcbiAgLy8gdGhlaXIgcGxhY2UgaW4gbGluZSBmcm9tIHRoZSAvZmlyc3QvIHRpbWUgdGhleSdyZSBzZXQgZnJvbVxuICAvLyBub24tbnVsbC4gQWx0aG91Z2ggV2ViS2l0IGJ1bXBzIGl0IHRvIHRoZSBlbmQgZXZlcnkgdGltZSBpdCdzXG4gIC8vIHNldC5cbiAgaWYgKHRoaXNbJ29uJyArIHRdKSB7XG4gICAgdGhpc1snb24nICsgdF0uYXBwbHkodGhpcywgYXJncyk7XG4gIH1cbiAgaWYgKHQgaW4gdGhpcy5fbGlzdGVuZXJzKSB7XG4gICAgLy8gR3JhYiBhIHJlZmVyZW5jZSB0byB0aGUgbGlzdGVuZXJzIGxpc3QuIHJlbW92ZUV2ZW50TGlzdGVuZXIgbWF5IGFsdGVyIHRoZSBsaXN0LlxuICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnNbdF07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxpc3RlbmVyc1tpXS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRUYXJnZXQ7XG5cbn0se31dLDY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG4gICwgRXZlbnQgPSByZXF1aXJlKCcuL2V2ZW50JylcbiAgO1xuXG5mdW5jdGlvbiBUcmFuc3BvcnRNZXNzYWdlRXZlbnQoZGF0YSkge1xuICBFdmVudC5jYWxsKHRoaXMpO1xuICB0aGlzLmluaXRFdmVudCgnbWVzc2FnZScsIGZhbHNlLCBmYWxzZSk7XG4gIHRoaXMuZGF0YSA9IGRhdGE7XG59XG5cbmluaGVyaXRzKFRyYW5zcG9ydE1lc3NhZ2VFdmVudCwgRXZlbnQpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRyYW5zcG9ydE1lc3NhZ2VFdmVudDtcblxufSx7XCIuL2V2ZW50XCI6NCxcImluaGVyaXRzXCI6NTd9XSw3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIEpTT04zID0gcmVxdWlyZSgnanNvbjMnKVxuICAsIGlmcmFtZVV0aWxzID0gcmVxdWlyZSgnLi91dGlscy9pZnJhbWUnKVxuICA7XG5cbmZ1bmN0aW9uIEZhY2FkZUpTKHRyYW5zcG9ydCkge1xuICB0aGlzLl90cmFuc3BvcnQgPSB0cmFuc3BvcnQ7XG4gIHRyYW5zcG9ydC5vbignbWVzc2FnZScsIHRoaXMuX3RyYW5zcG9ydE1lc3NhZ2UuYmluZCh0aGlzKSk7XG4gIHRyYW5zcG9ydC5vbignY2xvc2UnLCB0aGlzLl90cmFuc3BvcnRDbG9zZS5iaW5kKHRoaXMpKTtcbn1cblxuRmFjYWRlSlMucHJvdG90eXBlLl90cmFuc3BvcnRDbG9zZSA9IGZ1bmN0aW9uKGNvZGUsIHJlYXNvbikge1xuICBpZnJhbWVVdGlscy5wb3N0TWVzc2FnZSgnYycsIEpTT04zLnN0cmluZ2lmeShbY29kZSwgcmVhc29uXSkpO1xufTtcbkZhY2FkZUpTLnByb3RvdHlwZS5fdHJhbnNwb3J0TWVzc2FnZSA9IGZ1bmN0aW9uKGZyYW1lKSB7XG4gIGlmcmFtZVV0aWxzLnBvc3RNZXNzYWdlKCd0JywgZnJhbWUpO1xufTtcbkZhY2FkZUpTLnByb3RvdHlwZS5fc2VuZCA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgdGhpcy5fdHJhbnNwb3J0LnNlbmQoZGF0YSk7XG59O1xuRmFjYWRlSlMucHJvdG90eXBlLl9jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl90cmFuc3BvcnQuY2xvc2UoKTtcbiAgdGhpcy5fdHJhbnNwb3J0LnJlbW92ZUFsbExpc3RlbmVycygpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBGYWNhZGVKUztcblxufSx7XCIuL3V0aWxzL2lmcmFtZVwiOjQ3LFwianNvbjNcIjo1OH1dLDg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChwcm9jZXNzKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIHVybFV0aWxzID0gcmVxdWlyZSgnLi91dGlscy91cmwnKVxuICAsIGV2ZW50VXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzL2V2ZW50JylcbiAgLCBKU09OMyA9IHJlcXVpcmUoJ2pzb24zJylcbiAgLCBGYWNhZGVKUyA9IHJlcXVpcmUoJy4vZmFjYWRlJylcbiAgLCBJbmZvSWZyYW1lUmVjZWl2ZXIgPSByZXF1aXJlKCcuL2luZm8taWZyYW1lLXJlY2VpdmVyJylcbiAgLCBpZnJhbWVVdGlscyA9IHJlcXVpcmUoJy4vdXRpbHMvaWZyYW1lJylcbiAgLCBsb2MgPSByZXF1aXJlKCcuL2xvY2F0aW9uJylcbiAgO1xuXG52YXIgZGVidWcgPSBmdW5jdGlvbigpIHt9O1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdzb2NranMtY2xpZW50OmlmcmFtZS1ib290c3RyYXAnKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihTb2NrSlMsIGF2YWlsYWJsZVRyYW5zcG9ydHMpIHtcbiAgdmFyIHRyYW5zcG9ydE1hcCA9IHt9O1xuICBhdmFpbGFibGVUcmFuc3BvcnRzLmZvckVhY2goZnVuY3Rpb24oYXQpIHtcbiAgICBpZiAoYXQuZmFjYWRlVHJhbnNwb3J0KSB7XG4gICAgICB0cmFuc3BvcnRNYXBbYXQuZmFjYWRlVHJhbnNwb3J0LnRyYW5zcG9ydE5hbWVdID0gYXQuZmFjYWRlVHJhbnNwb3J0O1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gaGFyZC1jb2RlZCBmb3IgdGhlIGluZm8gaWZyYW1lXG4gIC8vIFRPRE8gc2VlIGlmIHdlIGNhbiBtYWtlIHRoaXMgbW9yZSBkeW5hbWljXG4gIHRyYW5zcG9ydE1hcFtJbmZvSWZyYW1lUmVjZWl2ZXIudHJhbnNwb3J0TmFtZV0gPSBJbmZvSWZyYW1lUmVjZWl2ZXI7XG4gIHZhciBwYXJlbnRPcmlnaW47XG5cbiAgLyogZXNsaW50LWRpc2FibGUgY2FtZWxjYXNlICovXG4gIFNvY2tKUy5ib290c3RyYXBfaWZyYW1lID0gZnVuY3Rpb24oKSB7XG4gICAgLyogZXNsaW50LWVuYWJsZSBjYW1lbGNhc2UgKi9cbiAgICB2YXIgZmFjYWRlO1xuICAgIGlmcmFtZVV0aWxzLmN1cnJlbnRXaW5kb3dJZCA9IGxvYy5oYXNoLnNsaWNlKDEpO1xuICAgIHZhciBvbk1lc3NhZ2UgPSBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZS5zb3VyY2UgIT09IHBhcmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHBhcmVudE9yaWdpbiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcGFyZW50T3JpZ2luID0gZS5vcmlnaW47XG4gICAgICB9XG4gICAgICBpZiAoZS5vcmlnaW4gIT09IHBhcmVudE9yaWdpbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBpZnJhbWVNZXNzYWdlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWZyYW1lTWVzc2FnZSA9IEpTT04zLnBhcnNlKGUuZGF0YSk7XG4gICAgICB9IGNhdGNoIChpZ25vcmVkKSB7XG4gICAgICAgIGRlYnVnKCdiYWQganNvbicsIGUuZGF0YSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGlmcmFtZU1lc3NhZ2Uud2luZG93SWQgIT09IGlmcmFtZVV0aWxzLmN1cnJlbnRXaW5kb3dJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKGlmcmFtZU1lc3NhZ2UudHlwZSkge1xuICAgICAgY2FzZSAncyc6XG4gICAgICAgIHZhciBwO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHAgPSBKU09OMy5wYXJzZShpZnJhbWVNZXNzYWdlLmRhdGEpO1xuICAgICAgICB9IGNhdGNoIChpZ25vcmVkKSB7XG4gICAgICAgICAgZGVidWcoJ2JhZCBqc29uJywgaWZyYW1lTWVzc2FnZS5kYXRhKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmVyc2lvbiA9IHBbMF07XG4gICAgICAgIHZhciB0cmFuc3BvcnQgPSBwWzFdO1xuICAgICAgICB2YXIgdHJhbnNVcmwgPSBwWzJdO1xuICAgICAgICB2YXIgYmFzZVVybCA9IHBbM107XG4gICAgICAgIGRlYnVnKHZlcnNpb24sIHRyYW5zcG9ydCwgdHJhbnNVcmwsIGJhc2VVcmwpO1xuICAgICAgICAvLyBjaGFuZ2UgdGhpcyB0byBzZW12ZXIgbG9naWNcbiAgICAgICAgaWYgKHZlcnNpb24gIT09IFNvY2tKUy52ZXJzaW9uKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmNvbXBhdGlibGUgU29ja0pTISBNYWluIHNpdGUgdXNlczonICtcbiAgICAgICAgICAgICAgICAgICAgJyBcIicgKyB2ZXJzaW9uICsgJ1wiLCB0aGUgaWZyYW1lOicgK1xuICAgICAgICAgICAgICAgICAgICAnIFwiJyArIFNvY2tKUy52ZXJzaW9uICsgJ1wiLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF1cmxVdGlscy5pc09yaWdpbkVxdWFsKHRyYW5zVXJsLCBsb2MuaHJlZikgfHxcbiAgICAgICAgICAgICF1cmxVdGlscy5pc09yaWdpbkVxdWFsKGJhc2VVcmwsIGxvYy5ocmVmKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2FuXFwndCBjb25uZWN0IHRvIGRpZmZlcmVudCBkb21haW4gZnJvbSB3aXRoaW4gYW4gJyArXG4gICAgICAgICAgICAgICAgICAgICdpZnJhbWUuICgnICsgbG9jLmhyZWYgKyAnLCAnICsgdHJhbnNVcmwgKyAnLCAnICsgYmFzZVVybCArICcpJyk7XG4gICAgICAgIH1cbiAgICAgICAgZmFjYWRlID0gbmV3IEZhY2FkZUpTKG5ldyB0cmFuc3BvcnRNYXBbdHJhbnNwb3J0XSh0cmFuc1VybCwgYmFzZVVybCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ20nOlxuICAgICAgICBmYWNhZGUuX3NlbmQoaWZyYW1lTWVzc2FnZS5kYXRhKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdjJzpcbiAgICAgICAgaWYgKGZhY2FkZSkge1xuICAgICAgICAgIGZhY2FkZS5fY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBmYWNhZGUgPSBudWxsO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZXZlbnRVdGlscy5hdHRhY2hFdmVudCgnbWVzc2FnZScsIG9uTWVzc2FnZSk7XG5cbiAgICAvLyBTdGFydFxuICAgIGlmcmFtZVV0aWxzLnBvc3RNZXNzYWdlKCdzJyk7XG4gIH07XG59O1xuXG59KS5jYWxsKHRoaXMseyBlbnY6IHt9IH0pXG5cbn0se1wiLi9mYWNhZGVcIjo3LFwiLi9pbmZvLWlmcmFtZS1yZWNlaXZlclwiOjEwLFwiLi9sb2NhdGlvblwiOjEzLFwiLi91dGlscy9ldmVudFwiOjQ2LFwiLi91dGlscy9pZnJhbWVcIjo0NyxcIi4vdXRpbHMvdXJsXCI6NTIsXCJkZWJ1Z1wiOjU1LFwianNvbjNcIjo1OH1dLDk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChwcm9jZXNzKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlclxuICAsIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxuICAsIEpTT04zID0gcmVxdWlyZSgnanNvbjMnKVxuICAsIG9iamVjdFV0aWxzID0gcmVxdWlyZSgnLi91dGlscy9vYmplY3QnKVxuICA7XG5cbnZhciBkZWJ1ZyA9IGZ1bmN0aW9uKCkge307XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBkZWJ1ZyA9IHJlcXVpcmUoJ2RlYnVnJykoJ3NvY2tqcy1jbGllbnQ6aW5mby1hamF4Jyk7XG59XG5cbmZ1bmN0aW9uIEluZm9BamF4KHVybCwgQWpheE9iamVjdCkge1xuICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciB0MCA9ICtuZXcgRGF0ZSgpO1xuICB0aGlzLnhvID0gbmV3IEFqYXhPYmplY3QoJ0dFVCcsIHVybCk7XG5cbiAgdGhpcy54by5vbmNlKCdmaW5pc2gnLCBmdW5jdGlvbihzdGF0dXMsIHRleHQpIHtcbiAgICB2YXIgaW5mbywgcnR0O1xuICAgIGlmIChzdGF0dXMgPT09IDIwMCkge1xuICAgICAgcnR0ID0gKCtuZXcgRGF0ZSgpKSAtIHQwO1xuICAgICAgaWYgKHRleHQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpbmZvID0gSlNPTjMucGFyc2UodGV4dCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBkZWJ1ZygnYmFkIGpzb24nLCB0ZXh0KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIW9iamVjdFV0aWxzLmlzT2JqZWN0KGluZm8pKSB7XG4gICAgICAgIGluZm8gPSB7fTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2VsZi5lbWl0KCdmaW5pc2gnLCBpbmZvLCBydHQpO1xuICAgIHNlbGYucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gIH0pO1xufVxuXG5pbmhlcml0cyhJbmZvQWpheCwgRXZlbnRFbWl0dGVyKTtcblxuSW5mb0FqYXgucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gIHRoaXMueG8uY2xvc2UoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gSW5mb0FqYXg7XG5cbn0pLmNhbGwodGhpcyx7IGVudjoge30gfSlcblxufSx7XCIuL3V0aWxzL29iamVjdFwiOjQ5LFwiZGVidWdcIjo1NSxcImV2ZW50c1wiOjMsXCJpbmhlcml0c1wiOjU3LFwianNvbjNcIjo1OH1dLDEwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxuICAsIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlclxuICAsIEpTT04zID0gcmVxdWlyZSgnanNvbjMnKVxuICAsIFhIUkxvY2FsT2JqZWN0ID0gcmVxdWlyZSgnLi90cmFuc3BvcnQvc2VuZGVyL3hoci1sb2NhbCcpXG4gICwgSW5mb0FqYXggPSByZXF1aXJlKCcuL2luZm8tYWpheCcpXG4gIDtcblxuZnVuY3Rpb24gSW5mb1JlY2VpdmVySWZyYW1lKHRyYW5zVXJsKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgdGhpcy5pciA9IG5ldyBJbmZvQWpheCh0cmFuc1VybCwgWEhSTG9jYWxPYmplY3QpO1xuICB0aGlzLmlyLm9uY2UoJ2ZpbmlzaCcsIGZ1bmN0aW9uKGluZm8sIHJ0dCkge1xuICAgIHNlbGYuaXIgPSBudWxsO1xuICAgIHNlbGYuZW1pdCgnbWVzc2FnZScsIEpTT04zLnN0cmluZ2lmeShbaW5mbywgcnR0XSkpO1xuICB9KTtcbn1cblxuaW5oZXJpdHMoSW5mb1JlY2VpdmVySWZyYW1lLCBFdmVudEVtaXR0ZXIpO1xuXG5JbmZvUmVjZWl2ZXJJZnJhbWUudHJhbnNwb3J0TmFtZSA9ICdpZnJhbWUtaW5mby1yZWNlaXZlcic7XG5cbkluZm9SZWNlaXZlcklmcmFtZS5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMuaXIpIHtcbiAgICB0aGlzLmlyLmNsb3NlKCk7XG4gICAgdGhpcy5pciA9IG51bGw7XG4gIH1cbiAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gSW5mb1JlY2VpdmVySWZyYW1lO1xuXG59LHtcIi4vaW5mby1hamF4XCI6OSxcIi4vdHJhbnNwb3J0L3NlbmRlci94aHItbG9jYWxcIjozNyxcImV2ZW50c1wiOjMsXCJpbmhlcml0c1wiOjU3LFwianNvbjNcIjo1OH1dLDExOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAocHJvY2VzcyxnbG9iYWwpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyXG4gICwgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG4gICwgSlNPTjMgPSByZXF1aXJlKCdqc29uMycpXG4gICwgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzL2V2ZW50JylcbiAgLCBJZnJhbWVUcmFuc3BvcnQgPSByZXF1aXJlKCcuL3RyYW5zcG9ydC9pZnJhbWUnKVxuICAsIEluZm9SZWNlaXZlcklmcmFtZSA9IHJlcXVpcmUoJy4vaW5mby1pZnJhbWUtcmVjZWl2ZXInKVxuICA7XG5cbnZhciBkZWJ1ZyA9IGZ1bmN0aW9uKCkge307XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBkZWJ1ZyA9IHJlcXVpcmUoJ2RlYnVnJykoJ3NvY2tqcy1jbGllbnQ6aW5mby1pZnJhbWUnKTtcbn1cblxuZnVuY3Rpb24gSW5mb0lmcmFtZShiYXNlVXJsLCB1cmwpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICB2YXIgZ28gPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaWZyID0gc2VsZi5pZnIgPSBuZXcgSWZyYW1lVHJhbnNwb3J0KEluZm9SZWNlaXZlcklmcmFtZS50cmFuc3BvcnROYW1lLCB1cmwsIGJhc2VVcmwpO1xuXG4gICAgaWZyLm9uY2UoJ21lc3NhZ2UnLCBmdW5jdGlvbihtc2cpIHtcbiAgICAgIGlmIChtc2cpIHtcbiAgICAgICAgdmFyIGQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZCA9IEpTT04zLnBhcnNlKG1zZyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBkZWJ1ZygnYmFkIGpzb24nLCBtc2cpO1xuICAgICAgICAgIHNlbGYuZW1pdCgnZmluaXNoJyk7XG4gICAgICAgICAgc2VsZi5jbG9zZSgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpbmZvID0gZFswXSwgcnR0ID0gZFsxXTtcbiAgICAgICAgc2VsZi5lbWl0KCdmaW5pc2gnLCBpbmZvLCBydHQpO1xuICAgICAgfVxuICAgICAgc2VsZi5jbG9zZSgpO1xuICAgIH0pO1xuXG4gICAgaWZyLm9uY2UoJ2Nsb3NlJywgZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLmVtaXQoJ2ZpbmlzaCcpO1xuICAgICAgc2VsZi5jbG9zZSgpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIFRPRE8gdGhpcyBzZWVtcyB0aGUgc2FtZSBhcyB0aGUgJ25lZWRCb2R5JyBmcm9tIHRyYW5zcG9ydHNcbiAgaWYgKCFnbG9iYWwuZG9jdW1lbnQuYm9keSkge1xuICAgIHV0aWxzLmF0dGFjaEV2ZW50KCdsb2FkJywgZ28pO1xuICB9IGVsc2Uge1xuICAgIGdvKCk7XG4gIH1cbn1cblxuaW5oZXJpdHMoSW5mb0lmcmFtZSwgRXZlbnRFbWl0dGVyKTtcblxuSW5mb0lmcmFtZS5lbmFibGVkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBJZnJhbWVUcmFuc3BvcnQuZW5hYmxlZCgpO1xufTtcblxuSW5mb0lmcmFtZS5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMuaWZyKSB7XG4gICAgdGhpcy5pZnIuY2xvc2UoKTtcbiAgfVxuICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICB0aGlzLmlmciA9IG51bGw7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEluZm9JZnJhbWU7XG5cbn0pLmNhbGwodGhpcyx7IGVudjoge30gfSx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxuXG59LHtcIi4vaW5mby1pZnJhbWUtcmVjZWl2ZXJcIjoxMCxcIi4vdHJhbnNwb3J0L2lmcmFtZVwiOjIyLFwiLi91dGlscy9ldmVudFwiOjQ2LFwiZGVidWdcIjo1NSxcImV2ZW50c1wiOjMsXCJpbmhlcml0c1wiOjU3LFwianNvbjNcIjo1OH1dLDEyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAocHJvY2Vzcyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXJcbiAgLCBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbiAgLCB1cmxVdGlscyA9IHJlcXVpcmUoJy4vdXRpbHMvdXJsJylcbiAgLCBYRFIgPSByZXF1aXJlKCcuL3RyYW5zcG9ydC9zZW5kZXIveGRyJylcbiAgLCBYSFJDb3JzID0gcmVxdWlyZSgnLi90cmFuc3BvcnQvc2VuZGVyL3hoci1jb3JzJylcbiAgLCBYSFJMb2NhbCA9IHJlcXVpcmUoJy4vdHJhbnNwb3J0L3NlbmRlci94aHItbG9jYWwnKVxuICAsIFhIUkZha2UgPSByZXF1aXJlKCcuL3RyYW5zcG9ydC9zZW5kZXIveGhyLWZha2UnKVxuICAsIEluZm9JZnJhbWUgPSByZXF1aXJlKCcuL2luZm8taWZyYW1lJylcbiAgLCBJbmZvQWpheCA9IHJlcXVpcmUoJy4vaW5mby1hamF4JylcbiAgO1xuXG52YXIgZGVidWcgPSBmdW5jdGlvbigpIHt9O1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdzb2NranMtY2xpZW50OmluZm8tcmVjZWl2ZXInKTtcbn1cblxuZnVuY3Rpb24gSW5mb1JlY2VpdmVyKGJhc2VVcmwsIHVybEluZm8pIHtcbiAgZGVidWcoYmFzZVVybCk7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICBzZWxmLmRvWGhyKGJhc2VVcmwsIHVybEluZm8pO1xuICB9LCAwKTtcbn1cblxuaW5oZXJpdHMoSW5mb1JlY2VpdmVyLCBFdmVudEVtaXR0ZXIpO1xuXG4vLyBUT0RPIHRoaXMgaXMgY3VycmVudGx5IGlnbm9yaW5nIHRoZSBsaXN0IG9mIGF2YWlsYWJsZSB0cmFuc3BvcnRzIGFuZCB0aGUgd2hpdGVsaXN0XG5cbkluZm9SZWNlaXZlci5fZ2V0UmVjZWl2ZXIgPSBmdW5jdGlvbihiYXNlVXJsLCB1cmwsIHVybEluZm8pIHtcbiAgLy8gZGV0ZXJtaW5lIG1ldGhvZCBvZiBDT1JTIHN1cHBvcnQgKGlmIG5lZWRlZClcbiAgaWYgKHVybEluZm8uc2FtZU9yaWdpbikge1xuICAgIHJldHVybiBuZXcgSW5mb0FqYXgodXJsLCBYSFJMb2NhbCk7XG4gIH1cbiAgaWYgKFhIUkNvcnMuZW5hYmxlZCkge1xuICAgIHJldHVybiBuZXcgSW5mb0FqYXgodXJsLCBYSFJDb3JzKTtcbiAgfVxuICBpZiAoWERSLmVuYWJsZWQgJiYgdXJsSW5mby5zYW1lU2NoZW1lKSB7XG4gICAgcmV0dXJuIG5ldyBJbmZvQWpheCh1cmwsIFhEUik7XG4gIH1cbiAgaWYgKEluZm9JZnJhbWUuZW5hYmxlZCgpKSB7XG4gICAgcmV0dXJuIG5ldyBJbmZvSWZyYW1lKGJhc2VVcmwsIHVybCk7XG4gIH1cbiAgcmV0dXJuIG5ldyBJbmZvQWpheCh1cmwsIFhIUkZha2UpO1xufTtcblxuSW5mb1JlY2VpdmVyLnByb3RvdHlwZS5kb1hociA9IGZ1bmN0aW9uKGJhc2VVcmwsIHVybEluZm8pIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG4gICAgLCB1cmwgPSB1cmxVdGlscy5hZGRQYXRoKGJhc2VVcmwsICcvaW5mbycpXG4gICAgO1xuICBkZWJ1ZygnZG9YaHInLCB1cmwpO1xuXG4gIHRoaXMueG8gPSBJbmZvUmVjZWl2ZXIuX2dldFJlY2VpdmVyKGJhc2VVcmwsIHVybCwgdXJsSW5mbyk7XG5cbiAgdGhpcy50aW1lb3V0UmVmID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICBkZWJ1ZygndGltZW91dCcpO1xuICAgIHNlbGYuX2NsZWFudXAoZmFsc2UpO1xuICAgIHNlbGYuZW1pdCgnZmluaXNoJyk7XG4gIH0sIEluZm9SZWNlaXZlci50aW1lb3V0KTtcblxuICB0aGlzLnhvLm9uY2UoJ2ZpbmlzaCcsIGZ1bmN0aW9uKGluZm8sIHJ0dCkge1xuICAgIGRlYnVnKCdmaW5pc2gnLCBpbmZvLCBydHQpO1xuICAgIHNlbGYuX2NsZWFudXAodHJ1ZSk7XG4gICAgc2VsZi5lbWl0KCdmaW5pc2gnLCBpbmZvLCBydHQpO1xuICB9KTtcbn07XG5cbkluZm9SZWNlaXZlci5wcm90b3R5cGUuX2NsZWFudXAgPSBmdW5jdGlvbih3YXNDbGVhbikge1xuICBkZWJ1ZygnX2NsZWFudXAnKTtcbiAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dFJlZik7XG4gIHRoaXMudGltZW91dFJlZiA9IG51bGw7XG4gIGlmICghd2FzQ2xlYW4gJiYgdGhpcy54bykge1xuICAgIHRoaXMueG8uY2xvc2UoKTtcbiAgfVxuICB0aGlzLnhvID0gbnVsbDtcbn07XG5cbkluZm9SZWNlaXZlci5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgZGVidWcoJ2Nsb3NlJyk7XG4gIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gIHRoaXMuX2NsZWFudXAoZmFsc2UpO1xufTtcblxuSW5mb1JlY2VpdmVyLnRpbWVvdXQgPSA4MDAwO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEluZm9SZWNlaXZlcjtcblxufSkuY2FsbCh0aGlzLHsgZW52OiB7fSB9KVxuXG59LHtcIi4vaW5mby1hamF4XCI6OSxcIi4vaW5mby1pZnJhbWVcIjoxMSxcIi4vdHJhbnNwb3J0L3NlbmRlci94ZHJcIjozNCxcIi4vdHJhbnNwb3J0L3NlbmRlci94aHItY29yc1wiOjM1LFwiLi90cmFuc3BvcnQvc2VuZGVyL3hoci1mYWtlXCI6MzYsXCIuL3RyYW5zcG9ydC9zZW5kZXIveGhyLWxvY2FsXCI6MzcsXCIuL3V0aWxzL3VybFwiOjUyLFwiZGVidWdcIjo1NSxcImV2ZW50c1wiOjMsXCJpbmhlcml0c1wiOjU3fV0sMTM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChnbG9iYWwpe1xuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdsb2JhbC5sb2NhdGlvbiB8fCB7XG4gIG9yaWdpbjogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAnXG4sIHByb3RvY29sOiAnaHR0cDonXG4sIGhvc3Q6ICdsb2NhbGhvc3QnXG4sIHBvcnQ6IDgwXG4sIGhyZWY6ICdodHRwOi8vbG9jYWxob3N0LydcbiwgaGFzaDogJydcbn07XG5cbn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxuXG59LHt9XSwxNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKHByb2Nlc3MsZ2xvYmFsKXtcbid1c2Ugc3RyaWN0JztcblxucmVxdWlyZSgnLi9zaGltcycpO1xuXG52YXIgVVJMID0gcmVxdWlyZSgndXJsLXBhcnNlJylcbiAgLCBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbiAgLCBKU09OMyA9IHJlcXVpcmUoJ2pzb24zJylcbiAgLCByYW5kb20gPSByZXF1aXJlKCcuL3V0aWxzL3JhbmRvbScpXG4gICwgZXNjYXBlID0gcmVxdWlyZSgnLi91dGlscy9lc2NhcGUnKVxuICAsIHVybFV0aWxzID0gcmVxdWlyZSgnLi91dGlscy91cmwnKVxuICAsIGV2ZW50VXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzL2V2ZW50JylcbiAgLCB0cmFuc3BvcnQgPSByZXF1aXJlKCcuL3V0aWxzL3RyYW5zcG9ydCcpXG4gICwgb2JqZWN0VXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzL29iamVjdCcpXG4gICwgYnJvd3NlciA9IHJlcXVpcmUoJy4vdXRpbHMvYnJvd3NlcicpXG4gICwgbG9nID0gcmVxdWlyZSgnLi91dGlscy9sb2cnKVxuICAsIEV2ZW50ID0gcmVxdWlyZSgnLi9ldmVudC9ldmVudCcpXG4gICwgRXZlbnRUYXJnZXQgPSByZXF1aXJlKCcuL2V2ZW50L2V2ZW50dGFyZ2V0JylcbiAgLCBsb2MgPSByZXF1aXJlKCcuL2xvY2F0aW9uJylcbiAgLCBDbG9zZUV2ZW50ID0gcmVxdWlyZSgnLi9ldmVudC9jbG9zZScpXG4gICwgVHJhbnNwb3J0TWVzc2FnZUV2ZW50ID0gcmVxdWlyZSgnLi9ldmVudC90cmFucy1tZXNzYWdlJylcbiAgLCBJbmZvUmVjZWl2ZXIgPSByZXF1aXJlKCcuL2luZm8tcmVjZWl2ZXInKVxuICA7XG5cbnZhciBkZWJ1ZyA9IGZ1bmN0aW9uKCkge307XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBkZWJ1ZyA9IHJlcXVpcmUoJ2RlYnVnJykoJ3NvY2tqcy1jbGllbnQ6bWFpbicpO1xufVxuXG52YXIgdHJhbnNwb3J0cztcblxuLy8gZm9sbG93IGNvbnN0cnVjdG9yIHN0ZXBzIGRlZmluZWQgYXQgaHR0cDovL2Rldi53My5vcmcvaHRtbDUvd2Vic29ja2V0cy8jdGhlLXdlYnNvY2tldC1pbnRlcmZhY2VcbmZ1bmN0aW9uIFNvY2tKUyh1cmwsIHByb3RvY29scywgb3B0aW9ucykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU29ja0pTKSkge1xuICAgIHJldHVybiBuZXcgU29ja0pTKHVybCwgcHJvdG9jb2xzLCBvcHRpb25zKTtcbiAgfVxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDEpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnU29ja0pTOiAxIGFyZ3VtZW50IHJlcXVpcmVkLCBidXQgb25seSAwIHByZXNlbnRcIik7XG4gIH1cbiAgRXZlbnRUYXJnZXQuY2FsbCh0aGlzKTtcblxuICB0aGlzLnJlYWR5U3RhdGUgPSBTb2NrSlMuQ09OTkVDVElORztcbiAgdGhpcy5leHRlbnNpb25zID0gJyc7XG4gIHRoaXMucHJvdG9jb2wgPSAnJztcblxuICAvLyBub24tc3RhbmRhcmQgZXh0ZW5zaW9uXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBpZiAob3B0aW9ucy5wcm90b2NvbHNfd2hpdGVsaXN0KSB7XG4gICAgbG9nLndhcm4oXCIncHJvdG9jb2xzX3doaXRlbGlzdCcgaXMgREVQUkVDQVRFRC4gVXNlICd0cmFuc3BvcnRzJyBpbnN0ZWFkLlwiKTtcbiAgfVxuICB0aGlzLl90cmFuc3BvcnRzV2hpdGVsaXN0ID0gb3B0aW9ucy50cmFuc3BvcnRzO1xuICB0aGlzLl90cmFuc3BvcnRPcHRpb25zID0gb3B0aW9ucy50cmFuc3BvcnRPcHRpb25zIHx8IHt9O1xuICB0aGlzLl90aW1lb3V0ID0gb3B0aW9ucy50aW1lb3V0IHx8IDA7XG5cbiAgdmFyIHNlc3Npb25JZCA9IG9wdGlvbnMuc2Vzc2lvbklkIHx8IDg7XG4gIGlmICh0eXBlb2Ygc2Vzc2lvbklkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhpcy5fZ2VuZXJhdGVTZXNzaW9uSWQgPSBzZXNzaW9uSWQ7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHNlc3Npb25JZCA9PT0gJ251bWJlcicpIHtcbiAgICB0aGlzLl9nZW5lcmF0ZVNlc3Npb25JZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHJhbmRvbS5zdHJpbmcoc2Vzc2lvbklkKTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0lmIHNlc3Npb25JZCBpcyB1c2VkIGluIHRoZSBvcHRpb25zLCBpdCBuZWVkcyB0byBiZSBhIG51bWJlciBvciBhIGZ1bmN0aW9uLicpO1xuICB9XG5cbiAgdGhpcy5fc2VydmVyID0gb3B0aW9ucy5zZXJ2ZXIgfHwgcmFuZG9tLm51bWJlclN0cmluZygxMDAwKTtcblxuICAvLyBTdGVwIDEgb2YgV1Mgc3BlYyAtIHBhcnNlIGFuZCB2YWxpZGF0ZSB0aGUgdXJsLiBJc3N1ZSAjOFxuICB2YXIgcGFyc2VkVXJsID0gbmV3IFVSTCh1cmwpO1xuICBpZiAoIXBhcnNlZFVybC5ob3N0IHx8ICFwYXJzZWRVcmwucHJvdG9jb2wpIHtcbiAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJUaGUgVVJMICdcIiArIHVybCArIFwiJyBpcyBpbnZhbGlkXCIpO1xuICB9IGVsc2UgaWYgKHBhcnNlZFVybC5oYXNoKSB7XG4gICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdUaGUgVVJMIG11c3Qgbm90IGNvbnRhaW4gYSBmcmFnbWVudCcpO1xuICB9IGVsc2UgaWYgKHBhcnNlZFVybC5wcm90b2NvbCAhPT0gJ2h0dHA6JyAmJiBwYXJzZWRVcmwucHJvdG9jb2wgIT09ICdodHRwczonKSB7XG4gICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKFwiVGhlIFVSTCdzIHNjaGVtZSBtdXN0IGJlIGVpdGhlciAnaHR0cDonIG9yICdodHRwczonLiAnXCIgKyBwYXJzZWRVcmwucHJvdG9jb2wgKyBcIicgaXMgbm90IGFsbG93ZWQuXCIpO1xuICB9XG5cbiAgdmFyIHNlY3VyZSA9IHBhcnNlZFVybC5wcm90b2NvbCA9PT0gJ2h0dHBzOic7XG4gIC8vIFN0ZXAgMiAtIGRvbid0IGFsbG93IHNlY3VyZSBvcmlnaW4gd2l0aCBhbiBpbnNlY3VyZSBwcm90b2NvbFxuICBpZiAobG9jLnByb3RvY29sID09PSAnaHR0cHM6JyAmJiAhc2VjdXJlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTZWN1cml0eUVycm9yOiBBbiBpbnNlY3VyZSBTb2NrSlMgY29ubmVjdGlvbiBtYXkgbm90IGJlIGluaXRpYXRlZCBmcm9tIGEgcGFnZSBsb2FkZWQgb3ZlciBIVFRQUycpO1xuICB9XG5cbiAgLy8gU3RlcCAzIC0gY2hlY2sgcG9ydCBhY2Nlc3MgLSBubyBuZWVkIGhlcmVcbiAgLy8gU3RlcCA0IC0gcGFyc2UgcHJvdG9jb2xzIGFyZ3VtZW50XG4gIGlmICghcHJvdG9jb2xzKSB7XG4gICAgcHJvdG9jb2xzID0gW107XG4gIH0gZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkocHJvdG9jb2xzKSkge1xuICAgIHByb3RvY29scyA9IFtwcm90b2NvbHNdO1xuICB9XG5cbiAgLy8gU3RlcCA1IC0gY2hlY2sgcHJvdG9jb2xzIGFyZ3VtZW50XG4gIHZhciBzb3J0ZWRQcm90b2NvbHMgPSBwcm90b2NvbHMuc29ydCgpO1xuICBzb3J0ZWRQcm90b2NvbHMuZm9yRWFjaChmdW5jdGlvbihwcm90bywgaSkge1xuICAgIGlmICghcHJvdG8pIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihcIlRoZSBwcm90b2NvbHMgZW50cnkgJ1wiICsgcHJvdG8gKyBcIicgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuICAgIGlmIChpIDwgKHNvcnRlZFByb3RvY29scy5sZW5ndGggLSAxKSAmJiBwcm90byA9PT0gc29ydGVkUHJvdG9jb2xzW2kgKyAxXSkge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKFwiVGhlIHByb3RvY29scyBlbnRyeSAnXCIgKyBwcm90byArIFwiJyBpcyBkdXBsaWNhdGVkLlwiKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIFN0ZXAgNiAtIGNvbnZlcnQgb3JpZ2luXG4gIHZhciBvID0gdXJsVXRpbHMuZ2V0T3JpZ2luKGxvYy5ocmVmKTtcbiAgdGhpcy5fb3JpZ2luID0gbyA/IG8udG9Mb3dlckNhc2UoKSA6IG51bGw7XG5cbiAgLy8gcmVtb3ZlIHRoZSB0cmFpbGluZyBzbGFzaFxuICBwYXJzZWRVcmwuc2V0KCdwYXRobmFtZScsIHBhcnNlZFVybC5wYXRobmFtZS5yZXBsYWNlKC9cXC8rJC8sICcnKSk7XG5cbiAgLy8gc3RvcmUgdGhlIHNhbml0aXplZCB1cmxcbiAgdGhpcy51cmwgPSBwYXJzZWRVcmwuaHJlZjtcbiAgZGVidWcoJ3VzaW5nIHVybCcsIHRoaXMudXJsKTtcblxuICAvLyBTdGVwIDcgLSBzdGFydCBjb25uZWN0aW9uIGluIGJhY2tncm91bmRcbiAgLy8gb2J0YWluIHNlcnZlciBpbmZvXG4gIC8vIGh0dHA6Ly9zb2NranMuZ2l0aHViLmlvL3NvY2tqcy1wcm90b2NvbC9zb2NranMtcHJvdG9jb2wtMC4zLjMuaHRtbCNzZWN0aW9uLTI2XG4gIHRoaXMuX3VybEluZm8gPSB7XG4gICAgbnVsbE9yaWdpbjogIWJyb3dzZXIuaGFzRG9tYWluKClcbiAgLCBzYW1lT3JpZ2luOiB1cmxVdGlscy5pc09yaWdpbkVxdWFsKHRoaXMudXJsLCBsb2MuaHJlZilcbiAgLCBzYW1lU2NoZW1lOiB1cmxVdGlscy5pc1NjaGVtZUVxdWFsKHRoaXMudXJsLCBsb2MuaHJlZilcbiAgfTtcblxuICB0aGlzLl9pciA9IG5ldyBJbmZvUmVjZWl2ZXIodGhpcy51cmwsIHRoaXMuX3VybEluZm8pO1xuICB0aGlzLl9pci5vbmNlKCdmaW5pc2gnLCB0aGlzLl9yZWNlaXZlSW5mby5iaW5kKHRoaXMpKTtcbn1cblxuaW5oZXJpdHMoU29ja0pTLCBFdmVudFRhcmdldCk7XG5cbmZ1bmN0aW9uIHVzZXJTZXRDb2RlKGNvZGUpIHtcbiAgcmV0dXJuIGNvZGUgPT09IDEwMDAgfHwgKGNvZGUgPj0gMzAwMCAmJiBjb2RlIDw9IDQ5OTkpO1xufVxuXG5Tb2NrSlMucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oY29kZSwgcmVhc29uKSB7XG4gIC8vIFN0ZXAgMVxuICBpZiAoY29kZSAmJiAhdXNlclNldENvZGUoY29kZSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWRBY2Nlc3NFcnJvcjogSW52YWxpZCBjb2RlJyk7XG4gIH1cbiAgLy8gU3RlcCAyLjQgc3RhdGVzIHRoZSBtYXggaXMgMTIzIGJ5dGVzLCBidXQgd2UgYXJlIGp1c3QgY2hlY2tpbmcgbGVuZ3RoXG4gIGlmIChyZWFzb24gJiYgcmVhc29uLmxlbmd0aCA+IDEyMykge1xuICAgIHRocm93IG5ldyBTeW50YXhFcnJvcigncmVhc29uIGFyZ3VtZW50IGhhcyBhbiBpbnZhbGlkIGxlbmd0aCcpO1xuICB9XG5cbiAgLy8gU3RlcCAzLjFcbiAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gU29ja0pTLkNMT1NJTkcgfHwgdGhpcy5yZWFkeVN0YXRlID09PSBTb2NrSlMuQ0xPU0VEKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gVE9ETyBsb29rIGF0IGRvY3MgdG8gZGV0ZXJtaW5lIGhvdyB0byBzZXQgdGhpc1xuICB2YXIgd2FzQ2xlYW4gPSB0cnVlO1xuICB0aGlzLl9jbG9zZShjb2RlIHx8IDEwMDAsIHJlYXNvbiB8fCAnTm9ybWFsIGNsb3N1cmUnLCB3YXNDbGVhbik7XG59O1xuXG5Tb2NrSlMucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbihkYXRhKSB7XG4gIC8vICMxMyAtIGNvbnZlcnQgYW55dGhpbmcgbm9uLXN0cmluZyB0byBzdHJpbmdcbiAgLy8gVE9ETyB0aGlzIGN1cnJlbnRseSB0dXJucyBvYmplY3RzIGludG8gW29iamVjdCBPYmplY3RdXG4gIGlmICh0eXBlb2YgZGF0YSAhPT0gJ3N0cmluZycpIHtcbiAgICBkYXRhID0gJycgKyBkYXRhO1xuICB9XG4gIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IFNvY2tKUy5DT05ORUNUSU5HKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkU3RhdGVFcnJvcjogVGhlIGNvbm5lY3Rpb24gaGFzIG5vdCBiZWVuIGVzdGFibGlzaGVkIHlldCcpO1xuICB9XG4gIGlmICh0aGlzLnJlYWR5U3RhdGUgIT09IFNvY2tKUy5PUEVOKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHRoaXMuX3RyYW5zcG9ydC5zZW5kKGVzY2FwZS5xdW90ZShkYXRhKSk7XG59O1xuXG5Tb2NrSlMudmVyc2lvbiA9IHJlcXVpcmUoJy4vdmVyc2lvbicpO1xuXG5Tb2NrSlMuQ09OTkVDVElORyA9IDA7XG5Tb2NrSlMuT1BFTiA9IDE7XG5Tb2NrSlMuQ0xPU0lORyA9IDI7XG5Tb2NrSlMuQ0xPU0VEID0gMztcblxuU29ja0pTLnByb3RvdHlwZS5fcmVjZWl2ZUluZm8gPSBmdW5jdGlvbihpbmZvLCBydHQpIHtcbiAgZGVidWcoJ19yZWNlaXZlSW5mbycsIHJ0dCk7XG4gIHRoaXMuX2lyID0gbnVsbDtcbiAgaWYgKCFpbmZvKSB7XG4gICAgdGhpcy5fY2xvc2UoMTAwMiwgJ0Nhbm5vdCBjb25uZWN0IHRvIHNlcnZlcicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIGVzdGFibGlzaCBhIHJvdW5kLXRyaXAgdGltZW91dCAoUlRPKSBiYXNlZCBvbiB0aGVcbiAgLy8gcm91bmQtdHJpcCB0aW1lIChSVFQpXG4gIHRoaXMuX3J0byA9IHRoaXMuY291bnRSVE8ocnR0KTtcbiAgLy8gYWxsb3cgc2VydmVyIHRvIG92ZXJyaWRlIHVybCB1c2VkIGZvciB0aGUgYWN0dWFsIHRyYW5zcG9ydFxuICB0aGlzLl90cmFuc1VybCA9IGluZm8uYmFzZV91cmwgPyBpbmZvLmJhc2VfdXJsIDogdGhpcy51cmw7XG4gIGluZm8gPSBvYmplY3RVdGlscy5leHRlbmQoaW5mbywgdGhpcy5fdXJsSW5mbyk7XG4gIGRlYnVnKCdpbmZvJywgaW5mbyk7XG4gIC8vIGRldGVybWluZSBsaXN0IG9mIGRlc2lyZWQgYW5kIHN1cHBvcnRlZCB0cmFuc3BvcnRzXG4gIHZhciBlbmFibGVkVHJhbnNwb3J0cyA9IHRyYW5zcG9ydHMuZmlsdGVyVG9FbmFibGVkKHRoaXMuX3RyYW5zcG9ydHNXaGl0ZWxpc3QsIGluZm8pO1xuICB0aGlzLl90cmFuc3BvcnRzID0gZW5hYmxlZFRyYW5zcG9ydHMubWFpbjtcbiAgZGVidWcodGhpcy5fdHJhbnNwb3J0cy5sZW5ndGggKyAnIGVuYWJsZWQgdHJhbnNwb3J0cycpO1xuXG4gIHRoaXMuX2Nvbm5lY3QoKTtcbn07XG5cblNvY2tKUy5wcm90b3R5cGUuX2Nvbm5lY3QgPSBmdW5jdGlvbigpIHtcbiAgZm9yICh2YXIgVHJhbnNwb3J0ID0gdGhpcy5fdHJhbnNwb3J0cy5zaGlmdCgpOyBUcmFuc3BvcnQ7IFRyYW5zcG9ydCA9IHRoaXMuX3RyYW5zcG9ydHMuc2hpZnQoKSkge1xuICAgIGRlYnVnKCdhdHRlbXB0JywgVHJhbnNwb3J0LnRyYW5zcG9ydE5hbWUpO1xuICAgIGlmIChUcmFuc3BvcnQubmVlZEJvZHkpIHtcbiAgICAgIGlmICghZ2xvYmFsLmRvY3VtZW50LmJvZHkgfHxcbiAgICAgICAgICAodHlwZW9mIGdsb2JhbC5kb2N1bWVudC5yZWFkeVN0YXRlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgICAgZ2xvYmFsLmRvY3VtZW50LnJlYWR5U3RhdGUgIT09ICdjb21wbGV0ZScgJiZcbiAgICAgICAgICAgIGdsb2JhbC5kb2N1bWVudC5yZWFkeVN0YXRlICE9PSAnaW50ZXJhY3RpdmUnKSkge1xuICAgICAgICBkZWJ1Zygnd2FpdGluZyBmb3IgYm9keScpO1xuICAgICAgICB0aGlzLl90cmFuc3BvcnRzLnVuc2hpZnQoVHJhbnNwb3J0KTtcbiAgICAgICAgZXZlbnRVdGlscy5hdHRhY2hFdmVudCgnbG9hZCcsIHRoaXMuX2Nvbm5lY3QuYmluZCh0aGlzKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBjYWxjdWxhdGUgdGltZW91dCBiYXNlZCBvbiBSVE8gYW5kIHJvdW5kIHRyaXBzLiBEZWZhdWx0IHRvIDVzXG4gICAgdmFyIHRpbWVvdXRNcyA9IE1hdGgubWF4KHRoaXMuX3RpbWVvdXQsICh0aGlzLl9ydG8gKiBUcmFuc3BvcnQucm91bmRUcmlwcykgfHwgNTAwMCk7XG4gICAgdGhpcy5fdHJhbnNwb3J0VGltZW91dElkID0gc2V0VGltZW91dCh0aGlzLl90cmFuc3BvcnRUaW1lb3V0LmJpbmQodGhpcyksIHRpbWVvdXRNcyk7XG4gICAgZGVidWcoJ3VzaW5nIHRpbWVvdXQnLCB0aW1lb3V0TXMpO1xuXG4gICAgdmFyIHRyYW5zcG9ydFVybCA9IHVybFV0aWxzLmFkZFBhdGgodGhpcy5fdHJhbnNVcmwsICcvJyArIHRoaXMuX3NlcnZlciArICcvJyArIHRoaXMuX2dlbmVyYXRlU2Vzc2lvbklkKCkpO1xuICAgIHZhciBvcHRpb25zID0gdGhpcy5fdHJhbnNwb3J0T3B0aW9uc1tUcmFuc3BvcnQudHJhbnNwb3J0TmFtZV07XG4gICAgZGVidWcoJ3RyYW5zcG9ydCB1cmwnLCB0cmFuc3BvcnRVcmwpO1xuICAgIHZhciB0cmFuc3BvcnRPYmogPSBuZXcgVHJhbnNwb3J0KHRyYW5zcG9ydFVybCwgdGhpcy5fdHJhbnNVcmwsIG9wdGlvbnMpO1xuICAgIHRyYW5zcG9ydE9iai5vbignbWVzc2FnZScsIHRoaXMuX3RyYW5zcG9ydE1lc3NhZ2UuYmluZCh0aGlzKSk7XG4gICAgdHJhbnNwb3J0T2JqLm9uY2UoJ2Nsb3NlJywgdGhpcy5fdHJhbnNwb3J0Q2xvc2UuYmluZCh0aGlzKSk7XG4gICAgdHJhbnNwb3J0T2JqLnRyYW5zcG9ydE5hbWUgPSBUcmFuc3BvcnQudHJhbnNwb3J0TmFtZTtcbiAgICB0aGlzLl90cmFuc3BvcnQgPSB0cmFuc3BvcnRPYmo7XG5cbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5fY2xvc2UoMjAwMCwgJ0FsbCB0cmFuc3BvcnRzIGZhaWxlZCcsIGZhbHNlKTtcbn07XG5cblNvY2tKUy5wcm90b3R5cGUuX3RyYW5zcG9ydFRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgZGVidWcoJ190cmFuc3BvcnRUaW1lb3V0Jyk7XG4gIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IFNvY2tKUy5DT05ORUNUSU5HKSB7XG4gICAgaWYgKHRoaXMuX3RyYW5zcG9ydCkge1xuICAgICAgdGhpcy5fdHJhbnNwb3J0LmNsb3NlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5fdHJhbnNwb3J0Q2xvc2UoMjAwNywgJ1RyYW5zcG9ydCB0aW1lZCBvdXQnKTtcbiAgfVxufTtcblxuU29ja0pTLnByb3RvdHlwZS5fdHJhbnNwb3J0TWVzc2FnZSA9IGZ1bmN0aW9uKG1zZykge1xuICBkZWJ1ZygnX3RyYW5zcG9ydE1lc3NhZ2UnLCBtc2cpO1xuICB2YXIgc2VsZiA9IHRoaXNcbiAgICAsIHR5cGUgPSBtc2cuc2xpY2UoMCwgMSlcbiAgICAsIGNvbnRlbnQgPSBtc2cuc2xpY2UoMSlcbiAgICAsIHBheWxvYWRcbiAgICA7XG5cbiAgLy8gZmlyc3QgY2hlY2sgZm9yIG1lc3NhZ2VzIHRoYXQgZG9uJ3QgbmVlZCBhIHBheWxvYWRcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAnbyc6XG4gICAgICB0aGlzLl9vcGVuKCk7XG4gICAgICByZXR1cm47XG4gICAgY2FzZSAnaCc6XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdoZWFydGJlYXQnKSk7XG4gICAgICBkZWJ1ZygnaGVhcnRiZWF0JywgdGhpcy50cmFuc3BvcnQpO1xuICAgICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGNvbnRlbnQpIHtcbiAgICB0cnkge1xuICAgICAgcGF5bG9hZCA9IEpTT04zLnBhcnNlKGNvbnRlbnQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGRlYnVnKCdiYWQganNvbicsIGNvbnRlbnQpO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0eXBlb2YgcGF5bG9hZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBkZWJ1ZygnZW1wdHkgcGF5bG9hZCcsIGNvbnRlbnQpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ2EnOlxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGF5bG9hZCkpIHtcbiAgICAgICAgcGF5bG9hZC5mb3JFYWNoKGZ1bmN0aW9uKHApIHtcbiAgICAgICAgICBkZWJ1ZygnbWVzc2FnZScsIHNlbGYudHJhbnNwb3J0LCBwKTtcbiAgICAgICAgICBzZWxmLmRpc3BhdGNoRXZlbnQobmV3IFRyYW5zcG9ydE1lc3NhZ2VFdmVudChwKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnbSc6XG4gICAgICBkZWJ1ZygnbWVzc2FnZScsIHRoaXMudHJhbnNwb3J0LCBwYXlsb2FkKTtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgVHJhbnNwb3J0TWVzc2FnZUV2ZW50KHBheWxvYWQpKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2MnOlxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGF5bG9hZCkgJiYgcGF5bG9hZC5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgdGhpcy5fY2xvc2UocGF5bG9hZFswXSwgcGF5bG9hZFsxXSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgfVxufTtcblxuU29ja0pTLnByb3RvdHlwZS5fdHJhbnNwb3J0Q2xvc2UgPSBmdW5jdGlvbihjb2RlLCByZWFzb24pIHtcbiAgZGVidWcoJ190cmFuc3BvcnRDbG9zZScsIHRoaXMudHJhbnNwb3J0LCBjb2RlLCByZWFzb24pO1xuICBpZiAodGhpcy5fdHJhbnNwb3J0KSB7XG4gICAgdGhpcy5fdHJhbnNwb3J0LnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIHRoaXMuX3RyYW5zcG9ydCA9IG51bGw7XG4gICAgdGhpcy50cmFuc3BvcnQgPSBudWxsO1xuICB9XG5cbiAgaWYgKCF1c2VyU2V0Q29kZShjb2RlKSAmJiBjb2RlICE9PSAyMDAwICYmIHRoaXMucmVhZHlTdGF0ZSA9PT0gU29ja0pTLkNPTk5FQ1RJTkcpIHtcbiAgICB0aGlzLl9jb25uZWN0KCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5fY2xvc2UoY29kZSwgcmVhc29uKTtcbn07XG5cblNvY2tKUy5wcm90b3R5cGUuX29wZW4gPSBmdW5jdGlvbigpIHtcbiAgZGVidWcoJ19vcGVuJywgdGhpcy5fdHJhbnNwb3J0ICYmIHRoaXMuX3RyYW5zcG9ydC50cmFuc3BvcnROYW1lLCB0aGlzLnJlYWR5U3RhdGUpO1xuICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSBTb2NrSlMuQ09OTkVDVElORykge1xuICAgIGlmICh0aGlzLl90cmFuc3BvcnRUaW1lb3V0SWQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90cmFuc3BvcnRUaW1lb3V0SWQpO1xuICAgICAgdGhpcy5fdHJhbnNwb3J0VGltZW91dElkID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5yZWFkeVN0YXRlID0gU29ja0pTLk9QRU47XG4gICAgdGhpcy50cmFuc3BvcnQgPSB0aGlzLl90cmFuc3BvcnQudHJhbnNwb3J0TmFtZTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdvcGVuJykpO1xuICAgIGRlYnVnKCdjb25uZWN0ZWQnLCB0aGlzLnRyYW5zcG9ydCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gVGhlIHNlcnZlciBtaWdodCBoYXZlIGJlZW4gcmVzdGFydGVkLCBhbmQgbG9zdCB0cmFjayBvZiBvdXJcbiAgICAvLyBjb25uZWN0aW9uLlxuICAgIHRoaXMuX2Nsb3NlKDEwMDYsICdTZXJ2ZXIgbG9zdCBzZXNzaW9uJyk7XG4gIH1cbn07XG5cblNvY2tKUy5wcm90b3R5cGUuX2Nsb3NlID0gZnVuY3Rpb24oY29kZSwgcmVhc29uLCB3YXNDbGVhbikge1xuICBkZWJ1ZygnX2Nsb3NlJywgdGhpcy50cmFuc3BvcnQsIGNvZGUsIHJlYXNvbiwgd2FzQ2xlYW4sIHRoaXMucmVhZHlTdGF0ZSk7XG4gIHZhciBmb3JjZUZhaWwgPSBmYWxzZTtcblxuICBpZiAodGhpcy5faXIpIHtcbiAgICBmb3JjZUZhaWwgPSB0cnVlO1xuICAgIHRoaXMuX2lyLmNsb3NlKCk7XG4gICAgdGhpcy5faXIgPSBudWxsO1xuICB9XG4gIGlmICh0aGlzLl90cmFuc3BvcnQpIHtcbiAgICB0aGlzLl90cmFuc3BvcnQuY2xvc2UoKTtcbiAgICB0aGlzLl90cmFuc3BvcnQgPSBudWxsO1xuICAgIHRoaXMudHJhbnNwb3J0ID0gbnVsbDtcbiAgfVxuXG4gIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IFNvY2tKUy5DTE9TRUQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWRTdGF0ZUVycm9yOiBTb2NrSlMgaGFzIGFscmVhZHkgYmVlbiBjbG9zZWQnKTtcbiAgfVxuXG4gIHRoaXMucmVhZHlTdGF0ZSA9IFNvY2tKUy5DTE9TSU5HO1xuICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmVhZHlTdGF0ZSA9IFNvY2tKUy5DTE9TRUQ7XG5cbiAgICBpZiAoZm9yY2VGYWlsKSB7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdlcnJvcicpKTtcbiAgICB9XG5cbiAgICB2YXIgZSA9IG5ldyBDbG9zZUV2ZW50KCdjbG9zZScpO1xuICAgIGUud2FzQ2xlYW4gPSB3YXNDbGVhbiB8fCBmYWxzZTtcbiAgICBlLmNvZGUgPSBjb2RlIHx8IDEwMDA7XG4gICAgZS5yZWFzb24gPSByZWFzb247XG5cbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZSk7XG4gICAgdGhpcy5vbm1lc3NhZ2UgPSB0aGlzLm9uY2xvc2UgPSB0aGlzLm9uZXJyb3IgPSBudWxsO1xuICAgIGRlYnVnKCdkaXNjb25uZWN0ZWQnKTtcbiAgfS5iaW5kKHRoaXMpLCAwKTtcbn07XG5cbi8vIFNlZTogaHR0cDovL3d3dy5lcmcuYWJkbi5hYy51ay9+Z2Vycml0L2RjY3Avbm90ZXMvY2NpZDIvcnRvX2VzdGltYXRvci9cbi8vIGFuZCBSRkMgMjk4OC5cblNvY2tKUy5wcm90b3R5cGUuY291bnRSVE8gPSBmdW5jdGlvbihydHQpIHtcbiAgLy8gSW4gYSBsb2NhbCBlbnZpcm9ubWVudCwgd2hlbiB1c2luZyBJRTgvOSBhbmQgdGhlIGBqc29ucC1wb2xsaW5nYFxuICAvLyB0cmFuc3BvcnQgdGhlIHRpbWUgbmVlZGVkIHRvIGVzdGFibGlzaCBhIGNvbm5lY3Rpb24gKHRoZSB0aW1lIHRoYXQgcGFzc1xuICAvLyBmcm9tIHRoZSBvcGVuaW5nIG9mIHRoZSB0cmFuc3BvcnQgdG8gdGhlIGNhbGwgb2YgYF9kaXNwYXRjaE9wZW5gKSBpc1xuICAvLyBhcm91bmQgMjAwbXNlYyAodGhlIGxvd2VyIGJvdW5kIHVzZWQgaW4gdGhlIGFydGljbGUgYWJvdmUpIGFuZCB0aGlzXG4gIC8vIGNhdXNlcyBzcHVyaW91cyB0aW1lb3V0cy4gRm9yIHRoaXMgcmVhc29uIHdlIGNhbGN1bGF0ZSBhIHZhbHVlIHNsaWdodGx5XG4gIC8vIGxhcmdlciB0aGFuIHRoYXQgdXNlZCBpbiB0aGUgYXJ0aWNsZS5cbiAgaWYgKHJ0dCA+IDEwMCkge1xuICAgIHJldHVybiA0ICogcnR0OyAvLyBydG8gPiA0MDBtc2VjXG4gIH1cbiAgcmV0dXJuIDMwMCArIHJ0dDsgLy8gMzAwbXNlYyA8IHJ0byA8PSA0MDBtc2VjXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGF2YWlsYWJsZVRyYW5zcG9ydHMpIHtcbiAgdHJhbnNwb3J0cyA9IHRyYW5zcG9ydChhdmFpbGFibGVUcmFuc3BvcnRzKTtcbiAgcmVxdWlyZSgnLi9pZnJhbWUtYm9vdHN0cmFwJykoU29ja0pTLCBhdmFpbGFibGVUcmFuc3BvcnRzKTtcbiAgcmV0dXJuIFNvY2tKUztcbn07XG5cbn0pLmNhbGwodGhpcyx7IGVudjoge30gfSx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxuXG59LHtcIi4vZXZlbnQvY2xvc2VcIjoyLFwiLi9ldmVudC9ldmVudFwiOjQsXCIuL2V2ZW50L2V2ZW50dGFyZ2V0XCI6NSxcIi4vZXZlbnQvdHJhbnMtbWVzc2FnZVwiOjYsXCIuL2lmcmFtZS1ib290c3RyYXBcIjo4LFwiLi9pbmZvLXJlY2VpdmVyXCI6MTIsXCIuL2xvY2F0aW9uXCI6MTMsXCIuL3NoaW1zXCI6MTUsXCIuL3V0aWxzL2Jyb3dzZXJcIjo0NCxcIi4vdXRpbHMvZXNjYXBlXCI6NDUsXCIuL3V0aWxzL2V2ZW50XCI6NDYsXCIuL3V0aWxzL2xvZ1wiOjQ4LFwiLi91dGlscy9vYmplY3RcIjo0OSxcIi4vdXRpbHMvcmFuZG9tXCI6NTAsXCIuL3V0aWxzL3RyYW5zcG9ydFwiOjUxLFwiLi91dGlscy91cmxcIjo1MixcIi4vdmVyc2lvblwiOjUzLFwiZGVidWdcIjo1NSxcImluaGVyaXRzXCI6NTcsXCJqc29uM1wiOjU4LFwidXJsLXBhcnNlXCI6NjF9XSwxNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuLyoganNjczogZGlzYWJsZSAqL1xuJ3VzZSBzdHJpY3QnO1xuXG4vLyBwdWxsZWQgc3BlY2lmaWMgc2hpbXMgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZXMtc2hpbXMvZXM1LXNoaW1cblxudmFyIEFycmF5UHJvdG90eXBlID0gQXJyYXkucHJvdG90eXBlO1xudmFyIE9iamVjdFByb3RvdHlwZSA9IE9iamVjdC5wcm90b3R5cGU7XG52YXIgRnVuY3Rpb25Qcm90b3R5cGUgPSBGdW5jdGlvbi5wcm90b3R5cGU7XG52YXIgU3RyaW5nUHJvdG90eXBlID0gU3RyaW5nLnByb3RvdHlwZTtcbnZhciBhcnJheV9zbGljZSA9IEFycmF5UHJvdG90eXBlLnNsaWNlO1xuXG52YXIgX3RvU3RyaW5nID0gT2JqZWN0UHJvdG90eXBlLnRvU3RyaW5nO1xudmFyIGlzRnVuY3Rpb24gPSBmdW5jdGlvbiAodmFsKSB7XG4gICAgcmV0dXJuIE9iamVjdFByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG59O1xudmFyIGlzQXJyYXkgPSBmdW5jdGlvbiBpc0FycmF5KG9iaikge1xuICAgIHJldHVybiBfdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcbnZhciBpc1N0cmluZyA9IGZ1bmN0aW9uIGlzU3RyaW5nKG9iaikge1xuICAgIHJldHVybiBfdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBTdHJpbmddJztcbn07XG5cbnZhciBzdXBwb3J0c0Rlc2NyaXB0b3JzID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIChmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAneCcsIHt9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZSkgeyAvKiB0aGlzIGlzIEVTMyAqL1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufSgpKTtcblxuLy8gRGVmaW5lIGNvbmZpZ3VyYWJsZSwgd3JpdGFibGUgYW5kIG5vbi1lbnVtZXJhYmxlIHByb3BzXG4vLyBpZiB0aGV5IGRvbid0IGV4aXN0LlxudmFyIGRlZmluZVByb3BlcnR5O1xuaWYgKHN1cHBvcnRzRGVzY3JpcHRvcnMpIHtcbiAgICBkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIChvYmplY3QsIG5hbWUsIG1ldGhvZCwgZm9yY2VBc3NpZ24pIHtcbiAgICAgICAgaWYgKCFmb3JjZUFzc2lnbiAmJiAobmFtZSBpbiBvYmplY3QpKSB7IHJldHVybjsgfVxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LCBuYW1lLCB7XG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IG1ldGhvZFxuICAgICAgICB9KTtcbiAgICB9O1xufSBlbHNlIHtcbiAgICBkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIChvYmplY3QsIG5hbWUsIG1ldGhvZCwgZm9yY2VBc3NpZ24pIHtcbiAgICAgICAgaWYgKCFmb3JjZUFzc2lnbiAmJiAobmFtZSBpbiBvYmplY3QpKSB7IHJldHVybjsgfVxuICAgICAgICBvYmplY3RbbmFtZV0gPSBtZXRob2Q7XG4gICAgfTtcbn1cbnZhciBkZWZpbmVQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKG9iamVjdCwgbWFwLCBmb3JjZUFzc2lnbikge1xuICAgIGZvciAodmFyIG5hbWUgaW4gbWFwKSB7XG4gICAgICAgIGlmIChPYmplY3RQcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtYXAsIG5hbWUpKSB7XG4gICAgICAgICAgZGVmaW5lUHJvcGVydHkob2JqZWN0LCBuYW1lLCBtYXBbbmFtZV0sIGZvcmNlQXNzaWduKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbnZhciB0b09iamVjdCA9IGZ1bmN0aW9uIChvKSB7XG4gICAgaWYgKG8gPT0gbnVsbCkgeyAvLyB0aGlzIG1hdGNoZXMgYm90aCBudWxsIGFuZCB1bmRlZmluZWRcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImNhbid0IGNvbnZlcnQgXCIgKyBvICsgJyB0byBvYmplY3QnKTtcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdChvKTtcbn07XG5cbi8vXG4vLyBVdGlsXG4vLyA9PT09PT1cbi8vXG5cbi8vIEVTNSA5LjRcbi8vIGh0dHA6Ly9lczUuZ2l0aHViLmNvbS8jeDkuNFxuLy8gaHR0cDovL2pzcGVyZi5jb20vdG8taW50ZWdlclxuXG5mdW5jdGlvbiB0b0ludGVnZXIobnVtKSB7XG4gICAgdmFyIG4gPSArbnVtO1xuICAgIGlmIChuICE9PSBuKSB7IC8vIGlzTmFOXG4gICAgICAgIG4gPSAwO1xuICAgIH0gZWxzZSBpZiAobiAhPT0gMCAmJiBuICE9PSAoMSAvIDApICYmIG4gIT09IC0oMSAvIDApKSB7XG4gICAgICAgIG4gPSAobiA+IDAgfHwgLTEpICogTWF0aC5mbG9vcihNYXRoLmFicyhuKSk7XG4gICAgfVxuICAgIHJldHVybiBuO1xufVxuXG5mdW5jdGlvbiBUb1VpbnQzMih4KSB7XG4gICAgcmV0dXJuIHggPj4+IDA7XG59XG5cbi8vXG4vLyBGdW5jdGlvblxuLy8gPT09PT09PT1cbi8vXG5cbi8vIEVTLTUgMTUuMy40LjVcbi8vIGh0dHA6Ly9lczUuZ2l0aHViLmNvbS8jeDE1LjMuNC41XG5cbmZ1bmN0aW9uIEVtcHR5KCkge31cblxuZGVmaW5lUHJvcGVydGllcyhGdW5jdGlvblByb3RvdHlwZSwge1xuICAgIGJpbmQ6IGZ1bmN0aW9uIGJpbmQodGhhdCkgeyAvLyAubGVuZ3RoIGlzIDFcbiAgICAgICAgLy8gMS4gTGV0IFRhcmdldCBiZSB0aGUgdGhpcyB2YWx1ZS5cbiAgICAgICAgdmFyIHRhcmdldCA9IHRoaXM7XG4gICAgICAgIC8vIDIuIElmIElzQ2FsbGFibGUoVGFyZ2V0KSBpcyBmYWxzZSwgdGhyb3cgYSBUeXBlRXJyb3IgZXhjZXB0aW9uLlxuICAgICAgICBpZiAoIWlzRnVuY3Rpb24odGFyZ2V0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgY2FsbGVkIG9uIGluY29tcGF0aWJsZSAnICsgdGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyAzLiBMZXQgQSBiZSBhIG5ldyAocG9zc2libHkgZW1wdHkpIGludGVybmFsIGxpc3Qgb2YgYWxsIG9mIHRoZVxuICAgICAgICAvLyAgIGFyZ3VtZW50IHZhbHVlcyBwcm92aWRlZCBhZnRlciB0aGlzQXJnIChhcmcxLCBhcmcyIGV0YyksIGluIG9yZGVyLlxuICAgICAgICAvLyBYWFggc2xpY2VkQXJncyB3aWxsIHN0YW5kIGluIGZvciBcIkFcIiBpZiB1c2VkXG4gICAgICAgIHZhciBhcmdzID0gYXJyYXlfc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpOyAvLyBmb3Igbm9ybWFsIGNhbGxcbiAgICAgICAgLy8gNC4gTGV0IEYgYmUgYSBuZXcgbmF0aXZlIEVDTUFTY3JpcHQgb2JqZWN0LlxuICAgICAgICAvLyAxMS4gU2V0IHRoZSBbW1Byb3RvdHlwZV1dIGludGVybmFsIHByb3BlcnR5IG9mIEYgdG8gdGhlIHN0YW5kYXJkXG4gICAgICAgIC8vICAgYnVpbHQtaW4gRnVuY3Rpb24gcHJvdG90eXBlIG9iamVjdCBhcyBzcGVjaWZpZWQgaW4gMTUuMy4zLjEuXG4gICAgICAgIC8vIDEyLiBTZXQgdGhlIFtbQ2FsbF1dIGludGVybmFsIHByb3BlcnR5IG9mIEYgYXMgZGVzY3JpYmVkIGluXG4gICAgICAgIC8vICAgMTUuMy40LjUuMS5cbiAgICAgICAgLy8gMTMuIFNldCB0aGUgW1tDb25zdHJ1Y3RdXSBpbnRlcm5hbCBwcm9wZXJ0eSBvZiBGIGFzIGRlc2NyaWJlZCBpblxuICAgICAgICAvLyAgIDE1LjMuNC41LjIuXG4gICAgICAgIC8vIDE0LiBTZXQgdGhlIFtbSGFzSW5zdGFuY2VdXSBpbnRlcm5hbCBwcm9wZXJ0eSBvZiBGIGFzIGRlc2NyaWJlZCBpblxuICAgICAgICAvLyAgIDE1LjMuNC41LjMuXG4gICAgICAgIHZhciBiaW5kZXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgYm91bmQpIHtcbiAgICAgICAgICAgICAgICAvLyAxNS4zLjQuNS4yIFtbQ29uc3RydWN0XV1cbiAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSBbW0NvbnN0cnVjdF1dIGludGVybmFsIG1ldGhvZCBvZiBhIGZ1bmN0aW9uIG9iamVjdCxcbiAgICAgICAgICAgICAgICAvLyBGIHRoYXQgd2FzIGNyZWF0ZWQgdXNpbmcgdGhlIGJpbmQgZnVuY3Rpb24gaXMgY2FsbGVkIHdpdGggYVxuICAgICAgICAgICAgICAgIC8vIGxpc3Qgb2YgYXJndW1lbnRzIEV4dHJhQXJncywgdGhlIGZvbGxvd2luZyBzdGVwcyBhcmUgdGFrZW46XG4gICAgICAgICAgICAgICAgLy8gMS4gTGV0IHRhcmdldCBiZSB0aGUgdmFsdWUgb2YgRidzIFtbVGFyZ2V0RnVuY3Rpb25dXVxuICAgICAgICAgICAgICAgIC8vICAgaW50ZXJuYWwgcHJvcGVydHkuXG4gICAgICAgICAgICAgICAgLy8gMi4gSWYgdGFyZ2V0IGhhcyBubyBbW0NvbnN0cnVjdF1dIGludGVybmFsIG1ldGhvZCwgYVxuICAgICAgICAgICAgICAgIC8vICAgVHlwZUVycm9yIGV4Y2VwdGlvbiBpcyB0aHJvd24uXG4gICAgICAgICAgICAgICAgLy8gMy4gTGV0IGJvdW5kQXJncyBiZSB0aGUgdmFsdWUgb2YgRidzIFtbQm91bmRBcmdzXV0gaW50ZXJuYWxcbiAgICAgICAgICAgICAgICAvLyAgIHByb3BlcnR5LlxuICAgICAgICAgICAgICAgIC8vIDQuIExldCBhcmdzIGJlIGEgbmV3IGxpc3QgY29udGFpbmluZyB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhlXG4gICAgICAgICAgICAgICAgLy8gICBsaXN0IGJvdW5kQXJncyBpbiB0aGUgc2FtZSBvcmRlciBmb2xsb3dlZCBieSB0aGUgc2FtZVxuICAgICAgICAgICAgICAgIC8vICAgdmFsdWVzIGFzIHRoZSBsaXN0IEV4dHJhQXJncyBpbiB0aGUgc2FtZSBvcmRlci5cbiAgICAgICAgICAgICAgICAvLyA1LiBSZXR1cm4gdGhlIHJlc3VsdCBvZiBjYWxsaW5nIHRoZSBbW0NvbnN0cnVjdF1dIGludGVybmFsXG4gICAgICAgICAgICAgICAgLy8gICBtZXRob2Qgb2YgdGFyZ2V0IHByb3ZpZGluZyBhcmdzIGFzIHRoZSBhcmd1bWVudHMuXG5cbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGFyZ2V0LmFwcGx5KFxuICAgICAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgICAgICBhcmdzLmNvbmNhdChhcnJheV9zbGljZS5jYWxsKGFyZ3VtZW50cykpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0KHJlc3VsdCkgPT09IHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyAxNS4zLjQuNS4xIFtbQ2FsbF1dXG4gICAgICAgICAgICAgICAgLy8gV2hlbiB0aGUgW1tDYWxsXV0gaW50ZXJuYWwgbWV0aG9kIG9mIGEgZnVuY3Rpb24gb2JqZWN0LCBGLFxuICAgICAgICAgICAgICAgIC8vIHdoaWNoIHdhcyBjcmVhdGVkIHVzaW5nIHRoZSBiaW5kIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aXRoIGFcbiAgICAgICAgICAgICAgICAvLyB0aGlzIHZhbHVlIGFuZCBhIGxpc3Qgb2YgYXJndW1lbnRzIEV4dHJhQXJncywgdGhlIGZvbGxvd2luZ1xuICAgICAgICAgICAgICAgIC8vIHN0ZXBzIGFyZSB0YWtlbjpcbiAgICAgICAgICAgICAgICAvLyAxLiBMZXQgYm91bmRBcmdzIGJlIHRoZSB2YWx1ZSBvZiBGJ3MgW1tCb3VuZEFyZ3NdXSBpbnRlcm5hbFxuICAgICAgICAgICAgICAgIC8vICAgcHJvcGVydHkuXG4gICAgICAgICAgICAgICAgLy8gMi4gTGV0IGJvdW5kVGhpcyBiZSB0aGUgdmFsdWUgb2YgRidzIFtbQm91bmRUaGlzXV0gaW50ZXJuYWxcbiAgICAgICAgICAgICAgICAvLyAgIHByb3BlcnR5LlxuICAgICAgICAgICAgICAgIC8vIDMuIExldCB0YXJnZXQgYmUgdGhlIHZhbHVlIG9mIEYncyBbW1RhcmdldEZ1bmN0aW9uXV0gaW50ZXJuYWxcbiAgICAgICAgICAgICAgICAvLyAgIHByb3BlcnR5LlxuICAgICAgICAgICAgICAgIC8vIDQuIExldCBhcmdzIGJlIGEgbmV3IGxpc3QgY29udGFpbmluZyB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhlXG4gICAgICAgICAgICAgICAgLy8gICBsaXN0IGJvdW5kQXJncyBpbiB0aGUgc2FtZSBvcmRlciBmb2xsb3dlZCBieSB0aGUgc2FtZVxuICAgICAgICAgICAgICAgIC8vICAgdmFsdWVzIGFzIHRoZSBsaXN0IEV4dHJhQXJncyBpbiB0aGUgc2FtZSBvcmRlci5cbiAgICAgICAgICAgICAgICAvLyA1LiBSZXR1cm4gdGhlIHJlc3VsdCBvZiBjYWxsaW5nIHRoZSBbW0NhbGxdXSBpbnRlcm5hbCBtZXRob2RcbiAgICAgICAgICAgICAgICAvLyAgIG9mIHRhcmdldCBwcm92aWRpbmcgYm91bmRUaGlzIGFzIHRoZSB0aGlzIHZhbHVlIGFuZFxuICAgICAgICAgICAgICAgIC8vICAgcHJvdmlkaW5nIGFyZ3MgYXMgdGhlIGFyZ3VtZW50cy5cblxuICAgICAgICAgICAgICAgIC8vIGVxdWl2OiB0YXJnZXQuY2FsbCh0aGlzLCAuLi5ib3VuZEFyZ3MsIC4uLmFyZ3MpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldC5hcHBseShcbiAgICAgICAgICAgICAgICAgICAgdGhhdCxcbiAgICAgICAgICAgICAgICAgICAgYXJncy5jb25jYXQoYXJyYXlfc2xpY2UuY2FsbChhcmd1bWVudHMpKVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIDE1LiBJZiB0aGUgW1tDbGFzc11dIGludGVybmFsIHByb3BlcnR5IG9mIFRhcmdldCBpcyBcIkZ1bmN0aW9uXCIsIHRoZW5cbiAgICAgICAgLy8gICAgIGEuIExldCBMIGJlIHRoZSBsZW5ndGggcHJvcGVydHkgb2YgVGFyZ2V0IG1pbnVzIHRoZSBsZW5ndGggb2YgQS5cbiAgICAgICAgLy8gICAgIGIuIFNldCB0aGUgbGVuZ3RoIG93biBwcm9wZXJ0eSBvZiBGIHRvIGVpdGhlciAwIG9yIEwsIHdoaWNoZXZlciBpc1xuICAgICAgICAvLyAgICAgICBsYXJnZXIuXG4gICAgICAgIC8vIDE2LiBFbHNlIHNldCB0aGUgbGVuZ3RoIG93biBwcm9wZXJ0eSBvZiBGIHRvIDAuXG5cbiAgICAgICAgdmFyIGJvdW5kTGVuZ3RoID0gTWF0aC5tYXgoMCwgdGFyZ2V0Lmxlbmd0aCAtIGFyZ3MubGVuZ3RoKTtcblxuICAgICAgICAvLyAxNy4gU2V0IHRoZSBhdHRyaWJ1dGVzIG9mIHRoZSBsZW5ndGggb3duIHByb3BlcnR5IG9mIEYgdG8gdGhlIHZhbHVlc1xuICAgICAgICAvLyAgIHNwZWNpZmllZCBpbiAxNS4zLjUuMS5cbiAgICAgICAgdmFyIGJvdW5kQXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvdW5kTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJvdW5kQXJncy5wdXNoKCckJyArIGkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gWFhYIEJ1aWxkIGEgZHluYW1pYyBmdW5jdGlvbiB3aXRoIGRlc2lyZWQgYW1vdW50IG9mIGFyZ3VtZW50cyBpcyB0aGUgb25seVxuICAgICAgICAvLyB3YXkgdG8gc2V0IHRoZSBsZW5ndGggcHJvcGVydHkgb2YgYSBmdW5jdGlvbi5cbiAgICAgICAgLy8gSW4gZW52aXJvbm1lbnRzIHdoZXJlIENvbnRlbnQgU2VjdXJpdHkgUG9saWNpZXMgZW5hYmxlZCAoQ2hyb21lIGV4dGVuc2lvbnMsXG4gICAgICAgIC8vIGZvciBleC4pIGFsbCB1c2Ugb2YgZXZhbCBvciBGdW5jdGlvbiBjb3N0cnVjdG9yIHRocm93cyBhbiBleGNlcHRpb24uXG4gICAgICAgIC8vIEhvd2V2ZXIgaW4gYWxsIG9mIHRoZXNlIGVudmlyb25tZW50cyBGdW5jdGlvbi5wcm90b3R5cGUuYmluZCBleGlzdHNcbiAgICAgICAgLy8gYW5kIHNvIHRoaXMgY29kZSB3aWxsIG5ldmVyIGJlIGV4ZWN1dGVkLlxuICAgICAgICB2YXIgYm91bmQgPSBGdW5jdGlvbignYmluZGVyJywgJ3JldHVybiBmdW5jdGlvbiAoJyArIGJvdW5kQXJncy5qb2luKCcsJykgKyAnKXsgcmV0dXJuIGJpbmRlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9JykoYmluZGVyKTtcblxuICAgICAgICBpZiAodGFyZ2V0LnByb3RvdHlwZSkge1xuICAgICAgICAgICAgRW1wdHkucHJvdG90eXBlID0gdGFyZ2V0LnByb3RvdHlwZTtcbiAgICAgICAgICAgIGJvdW5kLnByb3RvdHlwZSA9IG5ldyBFbXB0eSgpO1xuICAgICAgICAgICAgLy8gQ2xlYW4gdXAgZGFuZ2xpbmcgcmVmZXJlbmNlcy5cbiAgICAgICAgICAgIEVtcHR5LnByb3RvdHlwZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPXG4gICAgICAgIC8vIDE4LiBTZXQgdGhlIFtbRXh0ZW5zaWJsZV1dIGludGVybmFsIHByb3BlcnR5IG9mIEYgdG8gdHJ1ZS5cblxuICAgICAgICAvLyBUT0RPXG4gICAgICAgIC8vIDE5LiBMZXQgdGhyb3dlciBiZSB0aGUgW1tUaHJvd1R5cGVFcnJvcl1dIGZ1bmN0aW9uIE9iamVjdCAoMTMuMi4zKS5cbiAgICAgICAgLy8gMjAuIENhbGwgdGhlIFtbRGVmaW5lT3duUHJvcGVydHldXSBpbnRlcm5hbCBtZXRob2Qgb2YgRiB3aXRoXG4gICAgICAgIC8vICAgYXJndW1lbnRzIFwiY2FsbGVyXCIsIFByb3BlcnR5RGVzY3JpcHRvciB7W1tHZXRdXTogdGhyb3dlciwgW1tTZXRdXTpcbiAgICAgICAgLy8gICB0aHJvd2VyLCBbW0VudW1lcmFibGVdXTogZmFsc2UsIFtbQ29uZmlndXJhYmxlXV06IGZhbHNlfSwgYW5kXG4gICAgICAgIC8vICAgZmFsc2UuXG4gICAgICAgIC8vIDIxLiBDYWxsIHRoZSBbW0RlZmluZU93blByb3BlcnR5XV0gaW50ZXJuYWwgbWV0aG9kIG9mIEYgd2l0aFxuICAgICAgICAvLyAgIGFyZ3VtZW50cyBcImFyZ3VtZW50c1wiLCBQcm9wZXJ0eURlc2NyaXB0b3Ige1tbR2V0XV06IHRocm93ZXIsXG4gICAgICAgIC8vICAgW1tTZXRdXTogdGhyb3dlciwgW1tFbnVtZXJhYmxlXV06IGZhbHNlLCBbW0NvbmZpZ3VyYWJsZV1dOiBmYWxzZX0sXG4gICAgICAgIC8vICAgYW5kIGZhbHNlLlxuXG4gICAgICAgIC8vIFRPRE9cbiAgICAgICAgLy8gTk9URSBGdW5jdGlvbiBvYmplY3RzIGNyZWF0ZWQgdXNpbmcgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgZG8gbm90XG4gICAgICAgIC8vIGhhdmUgYSBwcm90b3R5cGUgcHJvcGVydHkgb3IgdGhlIFtbQ29kZV1dLCBbW0Zvcm1hbFBhcmFtZXRlcnNdXSwgYW5kXG4gICAgICAgIC8vIFtbU2NvcGVdXSBpbnRlcm5hbCBwcm9wZXJ0aWVzLlxuICAgICAgICAvLyBYWFggY2FuJ3QgZGVsZXRlIHByb3RvdHlwZSBpbiBwdXJlLWpzLlxuXG4gICAgICAgIC8vIDIyLiBSZXR1cm4gRi5cbiAgICAgICAgcmV0dXJuIGJvdW5kO1xuICAgIH1cbn0pO1xuXG4vL1xuLy8gQXJyYXlcbi8vID09PT09XG4vL1xuXG4vLyBFUzUgMTUuNC4zLjJcbi8vIGh0dHA6Ly9lczUuZ2l0aHViLmNvbS8jeDE1LjQuMy4yXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9pc0FycmF5XG5kZWZpbmVQcm9wZXJ0aWVzKEFycmF5LCB7IGlzQXJyYXk6IGlzQXJyYXkgfSk7XG5cblxudmFyIGJveGVkU3RyaW5nID0gT2JqZWN0KCdhJyk7XG52YXIgc3BsaXRTdHJpbmcgPSBib3hlZFN0cmluZ1swXSAhPT0gJ2EnIHx8ICEoMCBpbiBib3hlZFN0cmluZyk7XG5cbnZhciBwcm9wZXJseUJveGVzQ29udGV4dCA9IGZ1bmN0aW9uIHByb3Blcmx5Qm94ZWQobWV0aG9kKSB7XG4gICAgLy8gQ2hlY2sgbm9kZSAwLjYuMjEgYnVnIHdoZXJlIHRoaXJkIHBhcmFtZXRlciBpcyBub3QgYm94ZWRcbiAgICB2YXIgcHJvcGVybHlCb3hlc05vblN0cmljdCA9IHRydWU7XG4gICAgdmFyIHByb3Blcmx5Qm94ZXNTdHJpY3QgPSB0cnVlO1xuICAgIGlmIChtZXRob2QpIHtcbiAgICAgICAgbWV0aG9kLmNhbGwoJ2ZvbycsIGZ1bmN0aW9uIChfLCBfXywgY29udGV4dCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZXh0ICE9PSAnb2JqZWN0JykgeyBwcm9wZXJseUJveGVzTm9uU3RyaWN0ID0gZmFsc2U7IH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbWV0aG9kLmNhbGwoWzFdLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAndXNlIHN0cmljdCc7XG4gICAgICAgICAgICBwcm9wZXJseUJveGVzU3RyaWN0ID0gdHlwZW9mIHRoaXMgPT09ICdzdHJpbmcnO1xuICAgICAgICB9LCAneCcpO1xuICAgIH1cbiAgICByZXR1cm4gISFtZXRob2QgJiYgcHJvcGVybHlCb3hlc05vblN0cmljdCAmJiBwcm9wZXJseUJveGVzU3RyaWN0O1xufTtcblxuZGVmaW5lUHJvcGVydGllcyhBcnJheVByb3RvdHlwZSwge1xuICAgIGZvckVhY2g6IGZ1bmN0aW9uIGZvckVhY2goZnVuIC8qLCB0aGlzcCovKSB7XG4gICAgICAgIHZhciBvYmplY3QgPSB0b09iamVjdCh0aGlzKSxcbiAgICAgICAgICAgIHNlbGYgPSBzcGxpdFN0cmluZyAmJiBpc1N0cmluZyh0aGlzKSA/IHRoaXMuc3BsaXQoJycpIDogb2JqZWN0LFxuICAgICAgICAgICAgdGhpc3AgPSBhcmd1bWVudHNbMV0sXG4gICAgICAgICAgICBpID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBzZWxmLmxlbmd0aCA+Pj4gMDtcblxuICAgICAgICAvLyBJZiBubyBjYWxsYmFjayBmdW5jdGlvbiBvciBpZiBjYWxsYmFjayBpcyBub3QgYSBjYWxsYWJsZSBmdW5jdGlvblxuICAgICAgICBpZiAoIWlzRnVuY3Rpb24oZnVuKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpOyAvLyBUT0RPIG1lc3NhZ2VcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlICgrK2kgPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChpIGluIHNlbGYpIHtcbiAgICAgICAgICAgICAgICAvLyBJbnZva2UgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHdpdGggY2FsbCwgcGFzc2luZyBhcmd1bWVudHM6XG4gICAgICAgICAgICAgICAgLy8gY29udGV4dCwgcHJvcGVydHkgdmFsdWUsIHByb3BlcnR5IGtleSwgdGhpc0FyZyBvYmplY3RcbiAgICAgICAgICAgICAgICAvLyBjb250ZXh0XG4gICAgICAgICAgICAgICAgZnVuLmNhbGwodGhpc3AsIHNlbGZbaV0sIGksIG9iamVjdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59LCAhcHJvcGVybHlCb3hlc0NvbnRleHQoQXJyYXlQcm90b3R5cGUuZm9yRWFjaCkpO1xuXG4vLyBFUzUgMTUuNC40LjE0XG4vLyBodHRwOi8vZXM1LmdpdGh1Yi5jb20vI3gxNS40LjQuMTRcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2luZGV4T2ZcbnZhciBoYXNGaXJlZm94MkluZGV4T2ZCdWcgPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZiAmJiBbMCwgMV0uaW5kZXhPZigxLCAyKSAhPT0gLTE7XG5kZWZpbmVQcm9wZXJ0aWVzKEFycmF5UHJvdG90eXBlLCB7XG4gICAgaW5kZXhPZjogZnVuY3Rpb24gaW5kZXhPZihzb3VnaHQgLyosIGZyb21JbmRleCAqLyApIHtcbiAgICAgICAgdmFyIHNlbGYgPSBzcGxpdFN0cmluZyAmJiBpc1N0cmluZyh0aGlzKSA/IHRoaXMuc3BsaXQoJycpIDogdG9PYmplY3QodGhpcyksXG4gICAgICAgICAgICBsZW5ndGggPSBzZWxmLmxlbmd0aCA+Pj4gMDtcblxuICAgICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGkgPSB0b0ludGVnZXIoYXJndW1lbnRzWzFdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGhhbmRsZSBuZWdhdGl2ZSBpbmRpY2VzXG4gICAgICAgIGkgPSBpID49IDAgPyBpIDogTWF0aC5tYXgoMCwgbGVuZ3RoICsgaSk7XG4gICAgICAgIGZvciAoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpIGluIHNlbGYgJiYgc2VsZltpXSA9PT0gc291Z2h0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbn0sIGhhc0ZpcmVmb3gySW5kZXhPZkJ1Zyk7XG5cbi8vXG4vLyBTdHJpbmdcbi8vID09PT09PVxuLy9cblxuLy8gRVM1IDE1LjUuNC4xNFxuLy8gaHR0cDovL2VzNS5naXRodWIuY29tLyN4MTUuNS40LjE0XG5cbi8vIFtidWdmaXgsIElFIGx0IDksIGZpcmVmb3ggNCwgS29ucXVlcm9yLCBPcGVyYSwgb2JzY3VyZSBicm93c2Vyc11cbi8vIE1hbnkgYnJvd3NlcnMgZG8gbm90IHNwbGl0IHByb3Blcmx5IHdpdGggcmVndWxhciBleHByZXNzaW9ucyBvciB0aGV5XG4vLyBkbyBub3QgcGVyZm9ybSB0aGUgc3BsaXQgY29ycmVjdGx5IHVuZGVyIG9ic2N1cmUgY29uZGl0aW9ucy5cbi8vIFNlZSBodHRwOi8vYmxvZy5zdGV2ZW5sZXZpdGhhbi5jb20vYXJjaGl2ZXMvY3Jvc3MtYnJvd3Nlci1zcGxpdFxuLy8gSSd2ZSB0ZXN0ZWQgaW4gbWFueSBicm93c2VycyBhbmQgdGhpcyBzZWVtcyB0byBjb3ZlciB0aGUgZGV2aWFudCBvbmVzOlxuLy8gICAgJ2FiJy5zcGxpdCgvKD86YWIpKi8pIHNob3VsZCBiZSBbXCJcIiwgXCJcIl0sIG5vdCBbXCJcIl1cbi8vICAgICcuJy5zcGxpdCgvKC4/KSguPykvKSBzaG91bGQgYmUgW1wiXCIsIFwiLlwiLCBcIlwiLCBcIlwiXSwgbm90IFtcIlwiLCBcIlwiXVxuLy8gICAgJ3Rlc3N0Jy5zcGxpdCgvKHMpKi8pIHNob3VsZCBiZSBbXCJ0XCIsIHVuZGVmaW5lZCwgXCJlXCIsIFwic1wiLCBcInRcIl0sIG5vdFxuLy8gICAgICAgW3VuZGVmaW5lZCwgXCJ0XCIsIHVuZGVmaW5lZCwgXCJlXCIsIC4uLl1cbi8vICAgICcnLnNwbGl0KC8uPy8pIHNob3VsZCBiZSBbXSwgbm90IFtcIlwiXVxuLy8gICAgJy4nLnNwbGl0KC8oKSgpLykgc2hvdWxkIGJlIFtcIi5cIl0sIG5vdCBbXCJcIiwgXCJcIiwgXCIuXCJdXG5cbnZhciBzdHJpbmdfc3BsaXQgPSBTdHJpbmdQcm90b3R5cGUuc3BsaXQ7XG5pZiAoXG4gICAgJ2FiJy5zcGxpdCgvKD86YWIpKi8pLmxlbmd0aCAhPT0gMiB8fFxuICAgICcuJy5zcGxpdCgvKC4/KSguPykvKS5sZW5ndGggIT09IDQgfHxcbiAgICAndGVzc3QnLnNwbGl0KC8ocykqLylbMV0gPT09ICd0JyB8fFxuICAgICd0ZXN0Jy5zcGxpdCgvKD86KS8sIC0xKS5sZW5ndGggIT09IDQgfHxcbiAgICAnJy5zcGxpdCgvLj8vKS5sZW5ndGggfHxcbiAgICAnLicuc3BsaXQoLygpKCkvKS5sZW5ndGggPiAxXG4pIHtcbiAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29tcGxpYW50RXhlY05wY2cgPSAvKCk/Py8uZXhlYygnJylbMV0gPT09IHZvaWQgMDsgLy8gTlBDRzogbm9ucGFydGljaXBhdGluZyBjYXB0dXJpbmcgZ3JvdXBcblxuICAgICAgICBTdHJpbmdQcm90b3R5cGUuc3BsaXQgPSBmdW5jdGlvbiAoc2VwYXJhdG9yLCBsaW1pdCkge1xuICAgICAgICAgICAgdmFyIHN0cmluZyA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoc2VwYXJhdG9yID09PSB2b2lkIDAgJiYgbGltaXQgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIGBzZXBhcmF0b3JgIGlzIG5vdCBhIHJlZ2V4LCB1c2UgbmF0aXZlIHNwbGl0XG4gICAgICAgICAgICBpZiAoX3RvU3RyaW5nLmNhbGwoc2VwYXJhdG9yKSAhPT0gJ1tvYmplY3QgUmVnRXhwXScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nX3NwbGl0LmNhbGwodGhpcywgc2VwYXJhdG9yLCBsaW1pdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBvdXRwdXQgPSBbXSxcbiAgICAgICAgICAgICAgICBmbGFncyA9IChzZXBhcmF0b3IuaWdub3JlQ2FzZSA/ICdpJyA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAoc2VwYXJhdG9yLm11bHRpbGluZSAgPyAnbScgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgICAgICAgKHNlcGFyYXRvci5leHRlbmRlZCAgID8gJ3gnIDogJycpICsgLy8gUHJvcG9zZWQgZm9yIEVTNlxuICAgICAgICAgICAgICAgICAgICAgICAgKHNlcGFyYXRvci5zdGlja3kgICAgID8gJ3knIDogJycpLCAvLyBGaXJlZm94IDMrXG4gICAgICAgICAgICAgICAgbGFzdExhc3RJbmRleCA9IDAsXG4gICAgICAgICAgICAgICAgLy8gTWFrZSBgZ2xvYmFsYCBhbmQgYXZvaWQgYGxhc3RJbmRleGAgaXNzdWVzIGJ5IHdvcmtpbmcgd2l0aCBhIGNvcHlcbiAgICAgICAgICAgICAgICBzZXBhcmF0b3IyLCBtYXRjaCwgbGFzdEluZGV4LCBsYXN0TGVuZ3RoO1xuICAgICAgICAgICAgc2VwYXJhdG9yID0gbmV3IFJlZ0V4cChzZXBhcmF0b3Iuc291cmNlLCBmbGFncyArICdnJyk7XG4gICAgICAgICAgICBzdHJpbmcgKz0gJyc7IC8vIFR5cGUtY29udmVydFxuICAgICAgICAgICAgaWYgKCFjb21wbGlhbnRFeGVjTnBjZykge1xuICAgICAgICAgICAgICAgIC8vIERvZXNuJ3QgbmVlZCBmbGFncyBneSwgYnV0IHRoZXkgZG9uJ3QgaHVydFxuICAgICAgICAgICAgICAgIHNlcGFyYXRvcjIgPSBuZXcgUmVnRXhwKCdeJyArIHNlcGFyYXRvci5zb3VyY2UgKyAnJCg/IVxcXFxzKScsIGZsYWdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIFZhbHVlcyBmb3IgYGxpbWl0YCwgcGVyIHRoZSBzcGVjOlxuICAgICAgICAgICAgICogSWYgdW5kZWZpbmVkOiA0Mjk0OTY3Mjk1IC8vIE1hdGgucG93KDIsIDMyKSAtIDFcbiAgICAgICAgICAgICAqIElmIDAsIEluZmluaXR5LCBvciBOYU46IDBcbiAgICAgICAgICAgICAqIElmIHBvc2l0aXZlIG51bWJlcjogbGltaXQgPSBNYXRoLmZsb29yKGxpbWl0KTsgaWYgKGxpbWl0ID4gNDI5NDk2NzI5NSkgbGltaXQgLT0gNDI5NDk2NzI5NjtcbiAgICAgICAgICAgICAqIElmIG5lZ2F0aXZlIG51bWJlcjogNDI5NDk2NzI5NiAtIE1hdGguZmxvb3IoTWF0aC5hYnMobGltaXQpKVxuICAgICAgICAgICAgICogSWYgb3RoZXI6IFR5cGUtY29udmVydCwgdGhlbiB1c2UgdGhlIGFib3ZlIHJ1bGVzXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGxpbWl0ID0gbGltaXQgPT09IHZvaWQgMCA/XG4gICAgICAgICAgICAgICAgLTEgPj4+IDAgOiAvLyBNYXRoLnBvdygyLCAzMikgLSAxXG4gICAgICAgICAgICAgICAgVG9VaW50MzIobGltaXQpO1xuICAgICAgICAgICAgd2hpbGUgKG1hdGNoID0gc2VwYXJhdG9yLmV4ZWMoc3RyaW5nKSkge1xuICAgICAgICAgICAgICAgIC8vIGBzZXBhcmF0b3IubGFzdEluZGV4YCBpcyBub3QgcmVsaWFibGUgY3Jvc3MtYnJvd3NlclxuICAgICAgICAgICAgICAgIGxhc3RJbmRleCA9IG1hdGNoLmluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0SW5kZXggPiBsYXN0TGFzdEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKHN0cmluZy5zbGljZShsYXN0TGFzdEluZGV4LCBtYXRjaC5pbmRleCkpO1xuICAgICAgICAgICAgICAgICAgICAvLyBGaXggYnJvd3NlcnMgd2hvc2UgYGV4ZWNgIG1ldGhvZHMgZG9uJ3QgY29uc2lzdGVudGx5IHJldHVybiBgdW5kZWZpbmVkYCBmb3JcbiAgICAgICAgICAgICAgICAgICAgLy8gbm9ucGFydGljaXBhdGluZyBjYXB0dXJpbmcgZ3JvdXBzXG4gICAgICAgICAgICAgICAgICAgIGlmICghY29tcGxpYW50RXhlY05wY2cgJiYgbWF0Y2gubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbMF0ucmVwbGFjZShzZXBhcmF0b3IyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoIC0gMjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHNbaV0gPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbaV0gPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2gubGVuZ3RoID4gMSAmJiBtYXRjaC5pbmRleCA8IHN0cmluZy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFycmF5UHJvdG90eXBlLnB1c2guYXBwbHkob3V0cHV0LCBtYXRjaC5zbGljZSgxKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGFzdExlbmd0aCA9IG1hdGNoWzBdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgbGFzdExhc3RJbmRleCA9IGxhc3RJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG91dHB1dC5sZW5ndGggPj0gbGltaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzZXBhcmF0b3IubGFzdEluZGV4ID09PSBtYXRjaC5pbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBzZXBhcmF0b3IubGFzdEluZGV4Kys7IC8vIEF2b2lkIGFuIGluZmluaXRlIGxvb3BcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGFzdExhc3RJbmRleCA9PT0gc3RyaW5nLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGlmIChsYXN0TGVuZ3RoIHx8ICFzZXBhcmF0b3IudGVzdCgnJykpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goJycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goc3RyaW5nLnNsaWNlKGxhc3RMYXN0SW5kZXgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvdXRwdXQubGVuZ3RoID4gbGltaXQgPyBvdXRwdXQuc2xpY2UoMCwgbGltaXQpIDogb3V0cHV0O1xuICAgICAgICB9O1xuICAgIH0oKSk7XG5cbi8vIFtidWdmaXgsIGNocm9tZV1cbi8vIElmIHNlcGFyYXRvciBpcyB1bmRlZmluZWQsIHRoZW4gdGhlIHJlc3VsdCBhcnJheSBjb250YWlucyBqdXN0IG9uZSBTdHJpbmcsXG4vLyB3aGljaCBpcyB0aGUgdGhpcyB2YWx1ZSAoY29udmVydGVkIHRvIGEgU3RyaW5nKS4gSWYgbGltaXQgaXMgbm90IHVuZGVmaW5lZCxcbi8vIHRoZW4gdGhlIG91dHB1dCBhcnJheSBpcyB0cnVuY2F0ZWQgc28gdGhhdCBpdCBjb250YWlucyBubyBtb3JlIHRoYW4gbGltaXRcbi8vIGVsZW1lbnRzLlxuLy8gXCIwXCIuc3BsaXQodW5kZWZpbmVkLCAwKSAtPiBbXVxufSBlbHNlIGlmICgnMCcuc3BsaXQodm9pZCAwLCAwKS5sZW5ndGgpIHtcbiAgICBTdHJpbmdQcm90b3R5cGUuc3BsaXQgPSBmdW5jdGlvbiBzcGxpdChzZXBhcmF0b3IsIGxpbWl0KSB7XG4gICAgICAgIGlmIChzZXBhcmF0b3IgPT09IHZvaWQgMCAmJiBsaW1pdCA9PT0gMCkgeyByZXR1cm4gW107IH1cbiAgICAgICAgcmV0dXJuIHN0cmluZ19zcGxpdC5jYWxsKHRoaXMsIHNlcGFyYXRvciwgbGltaXQpO1xuICAgIH07XG59XG5cbi8vIEVDTUEtMjYyLCAzcmQgQi4yLjNcbi8vIE5vdCBhbiBFQ01BU2NyaXB0IHN0YW5kYXJkLCBhbHRob3VnaCBFQ01BU2NyaXB0IDNyZCBFZGl0aW9uIGhhcyBhXG4vLyBub24tbm9ybWF0aXZlIHNlY3Rpb24gc3VnZ2VzdGluZyB1bmlmb3JtIHNlbWFudGljcyBhbmQgaXQgc2hvdWxkIGJlXG4vLyBub3JtYWxpemVkIGFjcm9zcyBhbGwgYnJvd3NlcnNcbi8vIFtidWdmaXgsIElFIGx0IDldIElFIDwgOSBzdWJzdHIoKSB3aXRoIG5lZ2F0aXZlIHZhbHVlIG5vdCB3b3JraW5nIGluIElFXG52YXIgc3RyaW5nX3N1YnN0ciA9IFN0cmluZ1Byb3RvdHlwZS5zdWJzdHI7XG52YXIgaGFzTmVnYXRpdmVTdWJzdHJCdWcgPSAnJy5zdWJzdHIgJiYgJzBiJy5zdWJzdHIoLTEpICE9PSAnYic7XG5kZWZpbmVQcm9wZXJ0aWVzKFN0cmluZ1Byb3RvdHlwZSwge1xuICAgIHN1YnN0cjogZnVuY3Rpb24gc3Vic3RyKHN0YXJ0LCBsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZ19zdWJzdHIuY2FsbChcbiAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICBzdGFydCA8IDAgPyAoKHN0YXJ0ID0gdGhpcy5sZW5ndGggKyBzdGFydCkgPCAwID8gMCA6IHN0YXJ0KSA6IHN0YXJ0LFxuICAgICAgICAgICAgbGVuZ3RoXG4gICAgICAgICk7XG4gICAgfVxufSwgaGFzTmVnYXRpdmVTdWJzdHJCdWcpO1xuXG59LHt9XSwxNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gW1xuICAvLyBzdHJlYW1pbmcgdHJhbnNwb3J0c1xuICByZXF1aXJlKCcuL3RyYW5zcG9ydC93ZWJzb2NrZXQnKVxuLCByZXF1aXJlKCcuL3RyYW5zcG9ydC94aHItc3RyZWFtaW5nJylcbiwgcmVxdWlyZSgnLi90cmFuc3BvcnQveGRyLXN0cmVhbWluZycpXG4sIHJlcXVpcmUoJy4vdHJhbnNwb3J0L2V2ZW50c291cmNlJylcbiwgcmVxdWlyZSgnLi90cmFuc3BvcnQvbGliL2lmcmFtZS13cmFwJykocmVxdWlyZSgnLi90cmFuc3BvcnQvZXZlbnRzb3VyY2UnKSlcblxuICAvLyBwb2xsaW5nIHRyYW5zcG9ydHNcbiwgcmVxdWlyZSgnLi90cmFuc3BvcnQvaHRtbGZpbGUnKVxuLCByZXF1aXJlKCcuL3RyYW5zcG9ydC9saWIvaWZyYW1lLXdyYXAnKShyZXF1aXJlKCcuL3RyYW5zcG9ydC9odG1sZmlsZScpKVxuLCByZXF1aXJlKCcuL3RyYW5zcG9ydC94aHItcG9sbGluZycpXG4sIHJlcXVpcmUoJy4vdHJhbnNwb3J0L3hkci1wb2xsaW5nJylcbiwgcmVxdWlyZSgnLi90cmFuc3BvcnQvbGliL2lmcmFtZS13cmFwJykocmVxdWlyZSgnLi90cmFuc3BvcnQveGhyLXBvbGxpbmcnKSlcbiwgcmVxdWlyZSgnLi90cmFuc3BvcnQvanNvbnAtcG9sbGluZycpXG5dO1xuXG59LHtcIi4vdHJhbnNwb3J0L2V2ZW50c291cmNlXCI6MjAsXCIuL3RyYW5zcG9ydC9odG1sZmlsZVwiOjIxLFwiLi90cmFuc3BvcnQvanNvbnAtcG9sbGluZ1wiOjIzLFwiLi90cmFuc3BvcnQvbGliL2lmcmFtZS13cmFwXCI6MjYsXCIuL3RyYW5zcG9ydC93ZWJzb2NrZXRcIjozOCxcIi4vdHJhbnNwb3J0L3hkci1wb2xsaW5nXCI6MzksXCIuL3RyYW5zcG9ydC94ZHItc3RyZWFtaW5nXCI6NDAsXCIuL3RyYW5zcG9ydC94aHItcG9sbGluZ1wiOjQxLFwiLi90cmFuc3BvcnQveGhyLXN0cmVhbWluZ1wiOjQyfV0sMTc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChwcm9jZXNzLGdsb2JhbCl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXJcbiAgLCBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbiAgLCB1dGlscyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL2V2ZW50JylcbiAgLCB1cmxVdGlscyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL3VybCcpXG4gICwgWEhSID0gZ2xvYmFsLlhNTEh0dHBSZXF1ZXN0XG4gIDtcblxudmFyIGRlYnVnID0gZnVuY3Rpb24oKSB7fTtcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIGRlYnVnID0gcmVxdWlyZSgnZGVidWcnKSgnc29ja2pzLWNsaWVudDpicm93c2VyOnhocicpO1xufVxuXG5mdW5jdGlvbiBBYnN0cmFjdFhIUk9iamVjdChtZXRob2QsIHVybCwgcGF5bG9hZCwgb3B0cykge1xuICBkZWJ1ZyhtZXRob2QsIHVybCk7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgc2VsZi5fc3RhcnQobWV0aG9kLCB1cmwsIHBheWxvYWQsIG9wdHMpO1xuICB9LCAwKTtcbn1cblxuaW5oZXJpdHMoQWJzdHJhY3RYSFJPYmplY3QsIEV2ZW50RW1pdHRlcik7XG5cbkFic3RyYWN0WEhST2JqZWN0LnByb3RvdHlwZS5fc3RhcnQgPSBmdW5jdGlvbihtZXRob2QsIHVybCwgcGF5bG9hZCwgb3B0cykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgdHJ5IHtcbiAgICB0aGlzLnhociA9IG5ldyBYSFIoKTtcbiAgfSBjYXRjaCAoeCkge1xuICAgIC8vIGludGVudGlvbmFsbHkgZW1wdHlcbiAgfVxuXG4gIGlmICghdGhpcy54aHIpIHtcbiAgICBkZWJ1Zygnbm8geGhyJyk7XG4gICAgdGhpcy5lbWl0KCdmaW5pc2gnLCAwLCAnbm8geGhyIHN1cHBvcnQnKTtcbiAgICB0aGlzLl9jbGVhbnVwKCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gc2V2ZXJhbCBicm93c2VycyBjYWNoZSBQT1NUc1xuICB1cmwgPSB1cmxVdGlscy5hZGRRdWVyeSh1cmwsICd0PScgKyAoK25ldyBEYXRlKCkpKTtcblxuICAvLyBFeHBsb3JlciB0ZW5kcyB0byBrZWVwIGNvbm5lY3Rpb24gb3BlbiwgZXZlbiBhZnRlciB0aGVcbiAgLy8gdGFiIGdldHMgY2xvc2VkOiBodHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC81MjgwXG4gIHRoaXMudW5sb2FkUmVmID0gdXRpbHMudW5sb2FkQWRkKGZ1bmN0aW9uKCkge1xuICAgIGRlYnVnKCd1bmxvYWQgY2xlYW51cCcpO1xuICAgIHNlbGYuX2NsZWFudXAodHJ1ZSk7XG4gIH0pO1xuICB0cnkge1xuICAgIHRoaXMueGhyLm9wZW4obWV0aG9kLCB1cmwsIHRydWUpO1xuICAgIGlmICh0aGlzLnRpbWVvdXQgJiYgJ3RpbWVvdXQnIGluIHRoaXMueGhyKSB7XG4gICAgICB0aGlzLnhoci50aW1lb3V0ID0gdGhpcy50aW1lb3V0O1xuICAgICAgdGhpcy54aHIub250aW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGRlYnVnKCd4aHIgdGltZW91dCcpO1xuICAgICAgICBzZWxmLmVtaXQoJ2ZpbmlzaCcsIDAsICcnKTtcbiAgICAgICAgc2VsZi5fY2xlYW51cChmYWxzZSk7XG4gICAgICB9O1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGRlYnVnKCdleGNlcHRpb24nLCBlKTtcbiAgICAvLyBJRSByYWlzZXMgYW4gZXhjZXB0aW9uIG9uIHdyb25nIHBvcnQuXG4gICAgdGhpcy5lbWl0KCdmaW5pc2gnLCAwLCAnJyk7XG4gICAgdGhpcy5fY2xlYW51cChmYWxzZSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCghb3B0cyB8fCAhb3B0cy5ub0NyZWRlbnRpYWxzKSAmJiBBYnN0cmFjdFhIUk9iamVjdC5zdXBwb3J0c0NPUlMpIHtcbiAgICBkZWJ1Zygnd2l0aENyZWRlbnRpYWxzJyk7XG4gICAgLy8gTW96aWxsYSBkb2NzIHNheXMgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vWE1MSHR0cFJlcXVlc3QgOlxuICAgIC8vIFwiVGhpcyBuZXZlciBhZmZlY3RzIHNhbWUtc2l0ZSByZXF1ZXN0cy5cIlxuXG4gICAgdGhpcy54aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgfVxuICBpZiAob3B0cyAmJiBvcHRzLmhlYWRlcnMpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gb3B0cy5oZWFkZXJzKSB7XG4gICAgICB0aGlzLnhoci5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgb3B0cy5oZWFkZXJzW2tleV0pO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMueGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChzZWxmLnhocikge1xuICAgICAgdmFyIHggPSBzZWxmLnhocjtcbiAgICAgIHZhciB0ZXh0LCBzdGF0dXM7XG4gICAgICBkZWJ1ZygncmVhZHlTdGF0ZScsIHgucmVhZHlTdGF0ZSk7XG4gICAgICBzd2l0Y2ggKHgucmVhZHlTdGF0ZSkge1xuICAgICAgY2FzZSAzOlxuICAgICAgICAvLyBJRSBkb2Vzbid0IGxpa2UgcGVla2luZyBpbnRvIHJlc3BvbnNlVGV4dCBvciBzdGF0dXNcbiAgICAgICAgLy8gb24gTWljcm9zb2Z0LlhNTEhUVFAgYW5kIHJlYWR5c3RhdGU9M1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHN0YXR1cyA9IHguc3RhdHVzO1xuICAgICAgICAgIHRleHQgPSB4LnJlc3BvbnNlVGV4dDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGludGVudGlvbmFsbHkgZW1wdHlcbiAgICAgICAgfVxuICAgICAgICBkZWJ1Zygnc3RhdHVzJywgc3RhdHVzKTtcbiAgICAgICAgLy8gSUUgcmV0dXJucyAxMjIzIGZvciAyMDQ6IGh0dHA6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzE0NTBcbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gMTIyMykge1xuICAgICAgICAgIHN0YXR1cyA9IDIwNDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElFIGRvZXMgcmV0dXJuIHJlYWR5c3RhdGUgPT0gMyBmb3IgNDA0IGFuc3dlcnMuXG4gICAgICAgIGlmIChzdGF0dXMgPT09IDIwMCAmJiB0ZXh0ICYmIHRleHQubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGRlYnVnKCdjaHVuaycpO1xuICAgICAgICAgIHNlbGYuZW1pdCgnY2h1bmsnLCBzdGF0dXMsIHRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA0OlxuICAgICAgICBzdGF0dXMgPSB4LnN0YXR1cztcbiAgICAgICAgZGVidWcoJ3N0YXR1cycsIHN0YXR1cyk7XG4gICAgICAgIC8vIElFIHJldHVybnMgMTIyMyBmb3IgMjA0OiBodHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xNDUwXG4gICAgICAgIGlmIChzdGF0dXMgPT09IDEyMjMpIHtcbiAgICAgICAgICBzdGF0dXMgPSAyMDQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSUUgcmV0dXJucyB0aGlzIGZvciBhIGJhZCBwb3J0XG4gICAgICAgIC8vIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS93aW5kb3dzL2Rlc2t0b3AvYWEzODM3NzAodj12cy44NSkuYXNweFxuICAgICAgICBpZiAoc3RhdHVzID09PSAxMjAwNSB8fCBzdGF0dXMgPT09IDEyMDI5KSB7XG4gICAgICAgICAgc3RhdHVzID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlYnVnKCdmaW5pc2gnLCBzdGF0dXMsIHgucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgc2VsZi5lbWl0KCdmaW5pc2gnLCBzdGF0dXMsIHgucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgc2VsZi5fY2xlYW51cChmYWxzZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB0cnkge1xuICAgIHNlbGYueGhyLnNlbmQocGF5bG9hZCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBzZWxmLmVtaXQoJ2ZpbmlzaCcsIDAsICcnKTtcbiAgICBzZWxmLl9jbGVhbnVwKGZhbHNlKTtcbiAgfVxufTtcblxuQWJzdHJhY3RYSFJPYmplY3QucHJvdG90eXBlLl9jbGVhbnVwID0gZnVuY3Rpb24oYWJvcnQpIHtcbiAgZGVidWcoJ2NsZWFudXAnKTtcbiAgaWYgKCF0aGlzLnhocikge1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICB1dGlscy51bmxvYWREZWwodGhpcy51bmxvYWRSZWYpO1xuXG4gIC8vIElFIG5lZWRzIHRoaXMgZmllbGQgdG8gYmUgYSBmdW5jdGlvblxuICB0aGlzLnhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHt9O1xuICBpZiAodGhpcy54aHIub250aW1lb3V0KSB7XG4gICAgdGhpcy54aHIub250aW1lb3V0ID0gbnVsbDtcbiAgfVxuXG4gIGlmIChhYm9ydCkge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLnhoci5hYm9ydCgpO1xuICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgIC8vIGludGVudGlvbmFsbHkgZW1wdHlcbiAgICB9XG4gIH1cbiAgdGhpcy51bmxvYWRSZWYgPSB0aGlzLnhociA9IG51bGw7XG59O1xuXG5BYnN0cmFjdFhIUk9iamVjdC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgZGVidWcoJ2Nsb3NlJyk7XG4gIHRoaXMuX2NsZWFudXAodHJ1ZSk7XG59O1xuXG5BYnN0cmFjdFhIUk9iamVjdC5lbmFibGVkID0gISFYSFI7XG4vLyBvdmVycmlkZSBYTUxIdHRwUmVxdWVzdCBmb3IgSUU2Lzdcbi8vIG9iZnVzY2F0ZSB0byBhdm9pZCBmaXJld2FsbHNcbnZhciBheG8gPSBbJ0FjdGl2ZSddLmNvbmNhdCgnT2JqZWN0Jykuam9pbignWCcpO1xuaWYgKCFBYnN0cmFjdFhIUk9iamVjdC5lbmFibGVkICYmIChheG8gaW4gZ2xvYmFsKSkge1xuICBkZWJ1Zygnb3ZlcnJpZGluZyB4bWxodHRwcmVxdWVzdCcpO1xuICBYSFIgPSBmdW5jdGlvbigpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIG5ldyBnbG9iYWxbYXhvXSgnTWljcm9zb2Z0LlhNTEhUVFAnKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG4gIEFic3RyYWN0WEhST2JqZWN0LmVuYWJsZWQgPSAhIW5ldyBYSFIoKTtcbn1cblxudmFyIGNvcnMgPSBmYWxzZTtcbnRyeSB7XG4gIGNvcnMgPSAnd2l0aENyZWRlbnRpYWxzJyBpbiBuZXcgWEhSKCk7XG59IGNhdGNoIChpZ25vcmVkKSB7XG4gIC8vIGludGVudGlvbmFsbHkgZW1wdHlcbn1cblxuQWJzdHJhY3RYSFJPYmplY3Quc3VwcG9ydHNDT1JTID0gY29ycztcblxubW9kdWxlLmV4cG9ydHMgPSBBYnN0cmFjdFhIUk9iamVjdDtcblxufSkuY2FsbCh0aGlzLHsgZW52OiB7fSB9LHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pXG5cbn0se1wiLi4vLi4vdXRpbHMvZXZlbnRcIjo0NixcIi4uLy4uL3V0aWxzL3VybFwiOjUyLFwiZGVidWdcIjo1NSxcImV2ZW50c1wiOjMsXCJpbmhlcml0c1wiOjU3fV0sMTg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChnbG9iYWwpe1xubW9kdWxlLmV4cG9ydHMgPSBnbG9iYWwuRXZlbnRTb3VyY2U7XG5cbn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxuXG59LHt9XSwxOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKGdsb2JhbCl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBEcml2ZXIgPSBnbG9iYWwuV2ViU29ja2V0IHx8IGdsb2JhbC5Nb3pXZWJTb2NrZXQ7XG5pZiAoRHJpdmVyKSB7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gV2ViU29ja2V0QnJvd3NlckRyaXZlcih1cmwpIHtcblx0XHRyZXR1cm4gbmV3IERyaXZlcih1cmwpO1xuXHR9O1xufSBlbHNlIHtcblx0bW9kdWxlLmV4cG9ydHMgPSB1bmRlZmluZWQ7XG59XG5cbn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxuXG59LHt9XSwyMDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbiAgLCBBamF4QmFzZWRUcmFuc3BvcnQgPSByZXF1aXJlKCcuL2xpYi9hamF4LWJhc2VkJylcbiAgLCBFdmVudFNvdXJjZVJlY2VpdmVyID0gcmVxdWlyZSgnLi9yZWNlaXZlci9ldmVudHNvdXJjZScpXG4gICwgWEhSQ29yc09iamVjdCA9IHJlcXVpcmUoJy4vc2VuZGVyL3hoci1jb3JzJylcbiAgLCBFdmVudFNvdXJjZURyaXZlciA9IHJlcXVpcmUoJ2V2ZW50c291cmNlJylcbiAgO1xuXG5mdW5jdGlvbiBFdmVudFNvdXJjZVRyYW5zcG9ydCh0cmFuc1VybCkge1xuICBpZiAoIUV2ZW50U291cmNlVHJhbnNwb3J0LmVuYWJsZWQoKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignVHJhbnNwb3J0IGNyZWF0ZWQgd2hlbiBkaXNhYmxlZCcpO1xuICB9XG5cbiAgQWpheEJhc2VkVHJhbnNwb3J0LmNhbGwodGhpcywgdHJhbnNVcmwsICcvZXZlbnRzb3VyY2UnLCBFdmVudFNvdXJjZVJlY2VpdmVyLCBYSFJDb3JzT2JqZWN0KTtcbn1cblxuaW5oZXJpdHMoRXZlbnRTb3VyY2VUcmFuc3BvcnQsIEFqYXhCYXNlZFRyYW5zcG9ydCk7XG5cbkV2ZW50U291cmNlVHJhbnNwb3J0LmVuYWJsZWQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICEhRXZlbnRTb3VyY2VEcml2ZXI7XG59O1xuXG5FdmVudFNvdXJjZVRyYW5zcG9ydC50cmFuc3BvcnROYW1lID0gJ2V2ZW50c291cmNlJztcbkV2ZW50U291cmNlVHJhbnNwb3J0LnJvdW5kVHJpcHMgPSAyO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50U291cmNlVHJhbnNwb3J0O1xuXG59LHtcIi4vbGliL2FqYXgtYmFzZWRcIjoyNCxcIi4vcmVjZWl2ZXIvZXZlbnRzb3VyY2VcIjoyOSxcIi4vc2VuZGVyL3hoci1jb3JzXCI6MzUsXCJldmVudHNvdXJjZVwiOjE4LFwiaW5oZXJpdHNcIjo1N31dLDIxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxuICAsIEh0bWxmaWxlUmVjZWl2ZXIgPSByZXF1aXJlKCcuL3JlY2VpdmVyL2h0bWxmaWxlJylcbiAgLCBYSFJMb2NhbE9iamVjdCA9IHJlcXVpcmUoJy4vc2VuZGVyL3hoci1sb2NhbCcpXG4gICwgQWpheEJhc2VkVHJhbnNwb3J0ID0gcmVxdWlyZSgnLi9saWIvYWpheC1iYXNlZCcpXG4gIDtcblxuZnVuY3Rpb24gSHRtbEZpbGVUcmFuc3BvcnQodHJhbnNVcmwpIHtcbiAgaWYgKCFIdG1sZmlsZVJlY2VpdmVyLmVuYWJsZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1RyYW5zcG9ydCBjcmVhdGVkIHdoZW4gZGlzYWJsZWQnKTtcbiAgfVxuICBBamF4QmFzZWRUcmFuc3BvcnQuY2FsbCh0aGlzLCB0cmFuc1VybCwgJy9odG1sZmlsZScsIEh0bWxmaWxlUmVjZWl2ZXIsIFhIUkxvY2FsT2JqZWN0KTtcbn1cblxuaW5oZXJpdHMoSHRtbEZpbGVUcmFuc3BvcnQsIEFqYXhCYXNlZFRyYW5zcG9ydCk7XG5cbkh0bWxGaWxlVHJhbnNwb3J0LmVuYWJsZWQgPSBmdW5jdGlvbihpbmZvKSB7XG4gIHJldHVybiBIdG1sZmlsZVJlY2VpdmVyLmVuYWJsZWQgJiYgaW5mby5zYW1lT3JpZ2luO1xufTtcblxuSHRtbEZpbGVUcmFuc3BvcnQudHJhbnNwb3J0TmFtZSA9ICdodG1sZmlsZSc7XG5IdG1sRmlsZVRyYW5zcG9ydC5yb3VuZFRyaXBzID0gMjtcblxubW9kdWxlLmV4cG9ydHMgPSBIdG1sRmlsZVRyYW5zcG9ydDtcblxufSx7XCIuL2xpYi9hamF4LWJhc2VkXCI6MjQsXCIuL3JlY2VpdmVyL2h0bWxmaWxlXCI6MzAsXCIuL3NlbmRlci94aHItbG9jYWxcIjozNyxcImluaGVyaXRzXCI6NTd9XSwyMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKHByb2Nlc3Mpe1xuJ3VzZSBzdHJpY3QnO1xuXG4vLyBGZXcgY29vbCB0cmFuc3BvcnRzIGRvIHdvcmsgb25seSBmb3Igc2FtZS1vcmlnaW4uIEluIG9yZGVyIHRvIG1ha2Vcbi8vIHRoZW0gd29yayBjcm9zcy1kb21haW4gd2Ugc2hhbGwgdXNlIGlmcmFtZSwgc2VydmVkIGZyb20gdGhlXG4vLyByZW1vdGUgZG9tYWluLiBOZXcgYnJvd3NlcnMgaGF2ZSBjYXBhYmlsaXRpZXMgdG8gY29tbXVuaWNhdGUgd2l0aFxuLy8gY3Jvc3MgZG9tYWluIGlmcmFtZSB1c2luZyBwb3N0TWVzc2FnZSgpLiBJbiBJRSBpdCB3YXMgaW1wbGVtZW50ZWRcbi8vIGZyb20gSUUgOCssIGJ1dCBvZiBjb3Vyc2UsIElFIGdvdCBzb21lIGRldGFpbHMgd3Jvbmc6XG4vLyAgICBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvY2MxOTcwMTUodj1WUy44NSkuYXNweFxuLy8gICAgaHR0cDovL3N0ZXZlc291ZGVycy5jb20vbWlzYy90ZXN0LXBvc3RtZXNzYWdlLnBocFxuXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG4gICwgSlNPTjMgPSByZXF1aXJlKCdqc29uMycpXG4gICwgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyXG4gICwgdmVyc2lvbiA9IHJlcXVpcmUoJy4uL3ZlcnNpb24nKVxuICAsIHVybFV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMvdXJsJylcbiAgLCBpZnJhbWVVdGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzL2lmcmFtZScpXG4gICwgZXZlbnRVdGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzL2V2ZW50JylcbiAgLCByYW5kb20gPSByZXF1aXJlKCcuLi91dGlscy9yYW5kb20nKVxuICA7XG5cbnZhciBkZWJ1ZyA9IGZ1bmN0aW9uKCkge307XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBkZWJ1ZyA9IHJlcXVpcmUoJ2RlYnVnJykoJ3NvY2tqcy1jbGllbnQ6dHJhbnNwb3J0OmlmcmFtZScpO1xufVxuXG5mdW5jdGlvbiBJZnJhbWVUcmFuc3BvcnQodHJhbnNwb3J0LCB0cmFuc1VybCwgYmFzZVVybCkge1xuICBpZiAoIUlmcmFtZVRyYW5zcG9ydC5lbmFibGVkKCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1RyYW5zcG9ydCBjcmVhdGVkIHdoZW4gZGlzYWJsZWQnKTtcbiAgfVxuICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHRoaXMub3JpZ2luID0gdXJsVXRpbHMuZ2V0T3JpZ2luKGJhc2VVcmwpO1xuICB0aGlzLmJhc2VVcmwgPSBiYXNlVXJsO1xuICB0aGlzLnRyYW5zVXJsID0gdHJhbnNVcmw7XG4gIHRoaXMudHJhbnNwb3J0ID0gdHJhbnNwb3J0O1xuICB0aGlzLndpbmRvd0lkID0gcmFuZG9tLnN0cmluZyg4KTtcblxuICB2YXIgaWZyYW1lVXJsID0gdXJsVXRpbHMuYWRkUGF0aChiYXNlVXJsLCAnL2lmcmFtZS5odG1sJykgKyAnIycgKyB0aGlzLndpbmRvd0lkO1xuICBkZWJ1Zyh0cmFuc3BvcnQsIHRyYW5zVXJsLCBpZnJhbWVVcmwpO1xuXG4gIHRoaXMuaWZyYW1lT2JqID0gaWZyYW1lVXRpbHMuY3JlYXRlSWZyYW1lKGlmcmFtZVVybCwgZnVuY3Rpb24ocikge1xuICAgIGRlYnVnKCdlcnIgY2FsbGJhY2snKTtcbiAgICBzZWxmLmVtaXQoJ2Nsb3NlJywgMTAwNiwgJ1VuYWJsZSB0byBsb2FkIGFuIGlmcmFtZSAoJyArIHIgKyAnKScpO1xuICAgIHNlbGYuY2xvc2UoKTtcbiAgfSk7XG5cbiAgdGhpcy5vbm1lc3NhZ2VDYWxsYmFjayA9IHRoaXMuX21lc3NhZ2UuYmluZCh0aGlzKTtcbiAgZXZlbnRVdGlscy5hdHRhY2hFdmVudCgnbWVzc2FnZScsIHRoaXMub25tZXNzYWdlQ2FsbGJhY2spO1xufVxuXG5pbmhlcml0cyhJZnJhbWVUcmFuc3BvcnQsIEV2ZW50RW1pdHRlcik7XG5cbklmcmFtZVRyYW5zcG9ydC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgZGVidWcoJ2Nsb3NlJyk7XG4gIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gIGlmICh0aGlzLmlmcmFtZU9iaikge1xuICAgIGV2ZW50VXRpbHMuZGV0YWNoRXZlbnQoJ21lc3NhZ2UnLCB0aGlzLm9ubWVzc2FnZUNhbGxiYWNrKTtcbiAgICB0cnkge1xuICAgICAgLy8gV2hlbiB0aGUgaWZyYW1lIGlzIG5vdCBsb2FkZWQsIElFIHJhaXNlcyBhbiBleGNlcHRpb25cbiAgICAgIC8vIG9uICdjb250ZW50V2luZG93Jy5cbiAgICAgIHRoaXMucG9zdE1lc3NhZ2UoJ2MnKTtcbiAgICB9IGNhdGNoICh4KSB7XG4gICAgICAvLyBpbnRlbnRpb25hbGx5IGVtcHR5XG4gICAgfVxuICAgIHRoaXMuaWZyYW1lT2JqLmNsZWFudXAoKTtcbiAgICB0aGlzLmlmcmFtZU9iaiA9IG51bGw7XG4gICAgdGhpcy5vbm1lc3NhZ2VDYWxsYmFjayA9IHRoaXMuaWZyYW1lT2JqID0gbnVsbDtcbiAgfVxufTtcblxuSWZyYW1lVHJhbnNwb3J0LnByb3RvdHlwZS5fbWVzc2FnZSA9IGZ1bmN0aW9uKGUpIHtcbiAgZGVidWcoJ21lc3NhZ2UnLCBlLmRhdGEpO1xuICBpZiAoIXVybFV0aWxzLmlzT3JpZ2luRXF1YWwoZS5vcmlnaW4sIHRoaXMub3JpZ2luKSkge1xuICAgIGRlYnVnKCdub3Qgc2FtZSBvcmlnaW4nLCBlLm9yaWdpbiwgdGhpcy5vcmlnaW4pO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBpZnJhbWVNZXNzYWdlO1xuICB0cnkge1xuICAgIGlmcmFtZU1lc3NhZ2UgPSBKU09OMy5wYXJzZShlLmRhdGEpO1xuICB9IGNhdGNoIChpZ25vcmVkKSB7XG4gICAgZGVidWcoJ2JhZCBqc29uJywgZS5kYXRhKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoaWZyYW1lTWVzc2FnZS53aW5kb3dJZCAhPT0gdGhpcy53aW5kb3dJZCkge1xuICAgIGRlYnVnKCdtaXNtYXRjaGVkIHdpbmRvdyBpZCcsIGlmcmFtZU1lc3NhZ2Uud2luZG93SWQsIHRoaXMud2luZG93SWQpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHN3aXRjaCAoaWZyYW1lTWVzc2FnZS50eXBlKSB7XG4gIGNhc2UgJ3MnOlxuICAgIHRoaXMuaWZyYW1lT2JqLmxvYWRlZCgpO1xuICAgIC8vIHdpbmRvdyBnbG9iYWwgZGVwZW5kZW5jeVxuICAgIHRoaXMucG9zdE1lc3NhZ2UoJ3MnLCBKU09OMy5zdHJpbmdpZnkoW1xuICAgICAgdmVyc2lvblxuICAgICwgdGhpcy50cmFuc3BvcnRcbiAgICAsIHRoaXMudHJhbnNVcmxcbiAgICAsIHRoaXMuYmFzZVVybFxuICAgIF0pKTtcbiAgICBicmVhaztcbiAgY2FzZSAndCc6XG4gICAgdGhpcy5lbWl0KCdtZXNzYWdlJywgaWZyYW1lTWVzc2FnZS5kYXRhKTtcbiAgICBicmVhaztcbiAgY2FzZSAnYyc6XG4gICAgdmFyIGNkYXRhO1xuICAgIHRyeSB7XG4gICAgICBjZGF0YSA9IEpTT04zLnBhcnNlKGlmcmFtZU1lc3NhZ2UuZGF0YSk7XG4gICAgfSBjYXRjaCAoaWdub3JlZCkge1xuICAgICAgZGVidWcoJ2JhZCBqc29uJywgaWZyYW1lTWVzc2FnZS5kYXRhKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5lbWl0KCdjbG9zZScsIGNkYXRhWzBdLCBjZGF0YVsxXSk7XG4gICAgdGhpcy5jbG9zZSgpO1xuICAgIGJyZWFrO1xuICB9XG59O1xuXG5JZnJhbWVUcmFuc3BvcnQucHJvdG90eXBlLnBvc3RNZXNzYWdlID0gZnVuY3Rpb24odHlwZSwgZGF0YSkge1xuICBkZWJ1ZygncG9zdE1lc3NhZ2UnLCB0eXBlLCBkYXRhKTtcbiAgdGhpcy5pZnJhbWVPYmoucG9zdChKU09OMy5zdHJpbmdpZnkoe1xuICAgIHdpbmRvd0lkOiB0aGlzLndpbmRvd0lkXG4gICwgdHlwZTogdHlwZVxuICAsIGRhdGE6IGRhdGEgfHwgJydcbiAgfSksIHRoaXMub3JpZ2luKTtcbn07XG5cbklmcmFtZVRyYW5zcG9ydC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcbiAgZGVidWcoJ3NlbmQnLCBtZXNzYWdlKTtcbiAgdGhpcy5wb3N0TWVzc2FnZSgnbScsIG1lc3NhZ2UpO1xufTtcblxuSWZyYW1lVHJhbnNwb3J0LmVuYWJsZWQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGlmcmFtZVV0aWxzLmlmcmFtZUVuYWJsZWQ7XG59O1xuXG5JZnJhbWVUcmFuc3BvcnQudHJhbnNwb3J0TmFtZSA9ICdpZnJhbWUnO1xuSWZyYW1lVHJhbnNwb3J0LnJvdW5kVHJpcHMgPSAyO1xuXG5tb2R1bGUuZXhwb3J0cyA9IElmcmFtZVRyYW5zcG9ydDtcblxufSkuY2FsbCh0aGlzLHsgZW52OiB7fSB9KVxuXG59LHtcIi4uL3V0aWxzL2V2ZW50XCI6NDYsXCIuLi91dGlscy9pZnJhbWVcIjo0NyxcIi4uL3V0aWxzL3JhbmRvbVwiOjUwLFwiLi4vdXRpbHMvdXJsXCI6NTIsXCIuLi92ZXJzaW9uXCI6NTMsXCJkZWJ1Z1wiOjU1LFwiZXZlbnRzXCI6MyxcImluaGVyaXRzXCI6NTcsXCJqc29uM1wiOjU4fV0sMjM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChnbG9iYWwpe1xuJ3VzZSBzdHJpY3QnO1xuXG4vLyBUaGUgc2ltcGxlc3QgYW5kIG1vc3Qgcm9idXN0IHRyYW5zcG9ydCwgdXNpbmcgdGhlIHdlbGwta25vdyBjcm9zc1xuLy8gZG9tYWluIGhhY2sgLSBKU09OUC4gVGhpcyB0cmFuc3BvcnQgaXMgcXVpdGUgaW5lZmZpY2llbnQgLSBvbmVcbi8vIG1lc3NhZ2UgY291bGQgdXNlIHVwIHRvIG9uZSBodHRwIHJlcXVlc3QuIEJ1dCBhdCBsZWFzdCBpdCB3b3JrcyBhbG1vc3Rcbi8vIGV2ZXJ5d2hlcmUuXG4vLyBLbm93biBsaW1pdGF0aW9uczpcbi8vICAgbyB5b3Ugd2lsbCBnZXQgYSBzcGlubmluZyBjdXJzb3Jcbi8vICAgbyBmb3IgS29ucXVlcm9yIGEgZHVtYiB0aW1lciBpcyBuZWVkZWQgdG8gZGV0ZWN0IGVycm9yc1xuXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG4gICwgU2VuZGVyUmVjZWl2ZXIgPSByZXF1aXJlKCcuL2xpYi9zZW5kZXItcmVjZWl2ZXInKVxuICAsIEpzb25wUmVjZWl2ZXIgPSByZXF1aXJlKCcuL3JlY2VpdmVyL2pzb25wJylcbiAgLCBqc29ucFNlbmRlciA9IHJlcXVpcmUoJy4vc2VuZGVyL2pzb25wJylcbiAgO1xuXG5mdW5jdGlvbiBKc29uUFRyYW5zcG9ydCh0cmFuc1VybCkge1xuICBpZiAoIUpzb25QVHJhbnNwb3J0LmVuYWJsZWQoKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignVHJhbnNwb3J0IGNyZWF0ZWQgd2hlbiBkaXNhYmxlZCcpO1xuICB9XG4gIFNlbmRlclJlY2VpdmVyLmNhbGwodGhpcywgdHJhbnNVcmwsICcvanNvbnAnLCBqc29ucFNlbmRlciwgSnNvbnBSZWNlaXZlcik7XG59XG5cbmluaGVyaXRzKEpzb25QVHJhbnNwb3J0LCBTZW5kZXJSZWNlaXZlcik7XG5cbkpzb25QVHJhbnNwb3J0LmVuYWJsZWQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICEhZ2xvYmFsLmRvY3VtZW50O1xufTtcblxuSnNvblBUcmFuc3BvcnQudHJhbnNwb3J0TmFtZSA9ICdqc29ucC1wb2xsaW5nJztcbkpzb25QVHJhbnNwb3J0LnJvdW5kVHJpcHMgPSAxO1xuSnNvblBUcmFuc3BvcnQubmVlZEJvZHkgPSB0cnVlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEpzb25QVHJhbnNwb3J0O1xuXG59KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcblxufSx7XCIuL2xpYi9zZW5kZXItcmVjZWl2ZXJcIjoyOCxcIi4vcmVjZWl2ZXIvanNvbnBcIjozMSxcIi4vc2VuZGVyL2pzb25wXCI6MzMsXCJpbmhlcml0c1wiOjU3fV0sMjQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChwcm9jZXNzKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxuICAsIHVybFV0aWxzID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvdXJsJylcbiAgLCBTZW5kZXJSZWNlaXZlciA9IHJlcXVpcmUoJy4vc2VuZGVyLXJlY2VpdmVyJylcbiAgO1xuXG52YXIgZGVidWcgPSBmdW5jdGlvbigpIHt9O1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdzb2NranMtY2xpZW50OmFqYXgtYmFzZWQnKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQWpheFNlbmRlcihBamF4T2JqZWN0KSB7XG4gIHJldHVybiBmdW5jdGlvbih1cmwsIHBheWxvYWQsIGNhbGxiYWNrKSB7XG4gICAgZGVidWcoJ2NyZWF0ZSBhamF4IHNlbmRlcicsIHVybCwgcGF5bG9hZCk7XG4gICAgdmFyIG9wdCA9IHt9O1xuICAgIGlmICh0eXBlb2YgcGF5bG9hZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG9wdC5oZWFkZXJzID0geydDb250ZW50LXR5cGUnOiAndGV4dC9wbGFpbid9O1xuICAgIH1cbiAgICB2YXIgYWpheFVybCA9IHVybFV0aWxzLmFkZFBhdGgodXJsLCAnL3hocl9zZW5kJyk7XG4gICAgdmFyIHhvID0gbmV3IEFqYXhPYmplY3QoJ1BPU1QnLCBhamF4VXJsLCBwYXlsb2FkLCBvcHQpO1xuICAgIHhvLm9uY2UoJ2ZpbmlzaCcsIGZ1bmN0aW9uKHN0YXR1cykge1xuICAgICAgZGVidWcoJ2ZpbmlzaCcsIHN0YXR1cyk7XG4gICAgICB4byA9IG51bGw7XG5cbiAgICAgIGlmIChzdGF0dXMgIT09IDIwMCAmJiBzdGF0dXMgIT09IDIwNCkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKCdodHRwIHN0YXR1cyAnICsgc3RhdHVzKSk7XG4gICAgICB9XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH0pO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGRlYnVnKCdhYm9ydCcpO1xuICAgICAgeG8uY2xvc2UoKTtcbiAgICAgIHhvID0gbnVsbDtcblxuICAgICAgdmFyIGVyciA9IG5ldyBFcnJvcignQWJvcnRlZCcpO1xuICAgICAgZXJyLmNvZGUgPSAxMDAwO1xuICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICB9O1xuICB9O1xufVxuXG5mdW5jdGlvbiBBamF4QmFzZWRUcmFuc3BvcnQodHJhbnNVcmwsIHVybFN1ZmZpeCwgUmVjZWl2ZXIsIEFqYXhPYmplY3QpIHtcbiAgU2VuZGVyUmVjZWl2ZXIuY2FsbCh0aGlzLCB0cmFuc1VybCwgdXJsU3VmZml4LCBjcmVhdGVBamF4U2VuZGVyKEFqYXhPYmplY3QpLCBSZWNlaXZlciwgQWpheE9iamVjdCk7XG59XG5cbmluaGVyaXRzKEFqYXhCYXNlZFRyYW5zcG9ydCwgU2VuZGVyUmVjZWl2ZXIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFqYXhCYXNlZFRyYW5zcG9ydDtcblxufSkuY2FsbCh0aGlzLHsgZW52OiB7fSB9KVxuXG59LHtcIi4uLy4uL3V0aWxzL3VybFwiOjUyLFwiLi9zZW5kZXItcmVjZWl2ZXJcIjoyOCxcImRlYnVnXCI6NTUsXCJpbmhlcml0c1wiOjU3fV0sMjU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChwcm9jZXNzKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxuICAsIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlclxuICA7XG5cbnZhciBkZWJ1ZyA9IGZ1bmN0aW9uKCkge307XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBkZWJ1ZyA9IHJlcXVpcmUoJ2RlYnVnJykoJ3NvY2tqcy1jbGllbnQ6YnVmZmVyZWQtc2VuZGVyJyk7XG59XG5cbmZ1bmN0aW9uIEJ1ZmZlcmVkU2VuZGVyKHVybCwgc2VuZGVyKSB7XG4gIGRlYnVnKHVybCk7XG4gIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuICB0aGlzLnNlbmRCdWZmZXIgPSBbXTtcbiAgdGhpcy5zZW5kZXIgPSBzZW5kZXI7XG4gIHRoaXMudXJsID0gdXJsO1xufVxuXG5pbmhlcml0cyhCdWZmZXJlZFNlbmRlciwgRXZlbnRFbWl0dGVyKTtcblxuQnVmZmVyZWRTZW5kZXIucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbihtZXNzYWdlKSB7XG4gIGRlYnVnKCdzZW5kJywgbWVzc2FnZSk7XG4gIHRoaXMuc2VuZEJ1ZmZlci5wdXNoKG1lc3NhZ2UpO1xuICBpZiAoIXRoaXMuc2VuZFN0b3ApIHtcbiAgICB0aGlzLnNlbmRTY2hlZHVsZSgpO1xuICB9XG59O1xuXG4vLyBGb3IgcG9sbGluZyB0cmFuc3BvcnRzIGluIGEgc2l0dWF0aW9uIHdoZW4gaW4gdGhlIG1lc3NhZ2UgY2FsbGJhY2ssXG4vLyBuZXcgbWVzc2FnZSBpcyBiZWluZyBzZW5kLiBJZiB0aGUgc2VuZGluZyBjb25uZWN0aW9uIHdhcyBzdGFydGVkXG4vLyBiZWZvcmUgcmVjZWl2aW5nIG9uZSwgaXQgaXMgcG9zc2libGUgdG8gc2F0dXJhdGUgdGhlIG5ldHdvcmsgYW5kXG4vLyB0aW1lb3V0IGR1ZSB0byB0aGUgbGFjayBvZiByZWNlaXZpbmcgc29ja2V0LiBUbyBhdm9pZCB0aGF0IHdlIGRlbGF5XG4vLyBzZW5kaW5nIG1lc3NhZ2VzIGJ5IHNvbWUgc21hbGwgdGltZSwgaW4gb3JkZXIgdG8gbGV0IHJlY2VpdmluZ1xuLy8gY29ubmVjdGlvbiBiZSBzdGFydGVkIGJlZm9yZWhhbmQuIFRoaXMgaXMgb25seSBhIGhhbGZtZWFzdXJlIGFuZFxuLy8gZG9lcyBub3QgZml4IHRoZSBiaWcgcHJvYmxlbSwgYnV0IGl0IGRvZXMgbWFrZSB0aGUgdGVzdHMgZ28gbW9yZVxuLy8gc3RhYmxlIG9uIHNsb3cgbmV0d29ya3MuXG5CdWZmZXJlZFNlbmRlci5wcm90b3R5cGUuc2VuZFNjaGVkdWxlV2FpdCA9IGZ1bmN0aW9uKCkge1xuICBkZWJ1Zygnc2VuZFNjaGVkdWxlV2FpdCcpO1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciB0cmVmO1xuICB0aGlzLnNlbmRTdG9wID0gZnVuY3Rpb24oKSB7XG4gICAgZGVidWcoJ3NlbmRTdG9wJyk7XG4gICAgc2VsZi5zZW5kU3RvcCA9IG51bGw7XG4gICAgY2xlYXJUaW1lb3V0KHRyZWYpO1xuICB9O1xuICB0cmVmID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICBkZWJ1ZygndGltZW91dCcpO1xuICAgIHNlbGYuc2VuZFN0b3AgPSBudWxsO1xuICAgIHNlbGYuc2VuZFNjaGVkdWxlKCk7XG4gIH0sIDI1KTtcbn07XG5cbkJ1ZmZlcmVkU2VuZGVyLnByb3RvdHlwZS5zZW5kU2NoZWR1bGUgPSBmdW5jdGlvbigpIHtcbiAgZGVidWcoJ3NlbmRTY2hlZHVsZScsIHRoaXMuc2VuZEJ1ZmZlci5sZW5ndGgpO1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGlmICh0aGlzLnNlbmRCdWZmZXIubGVuZ3RoID4gMCkge1xuICAgIHZhciBwYXlsb2FkID0gJ1snICsgdGhpcy5zZW5kQnVmZmVyLmpvaW4oJywnKSArICddJztcbiAgICB0aGlzLnNlbmRTdG9wID0gdGhpcy5zZW5kZXIodGhpcy51cmwsIHBheWxvYWQsIGZ1bmN0aW9uKGVycikge1xuICAgICAgc2VsZi5zZW5kU3RvcCA9IG51bGw7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIGRlYnVnKCdlcnJvcicsIGVycik7XG4gICAgICAgIHNlbGYuZW1pdCgnY2xvc2UnLCBlcnIuY29kZSB8fCAxMDA2LCAnU2VuZGluZyBlcnJvcjogJyArIGVycik7XG4gICAgICAgIHNlbGYuY2xvc2UoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYuc2VuZFNjaGVkdWxlV2FpdCgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuc2VuZEJ1ZmZlciA9IFtdO1xuICB9XG59O1xuXG5CdWZmZXJlZFNlbmRlci5wcm90b3R5cGUuX2NsZWFudXAgPSBmdW5jdGlvbigpIHtcbiAgZGVidWcoJ19jbGVhbnVwJyk7XG4gIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG59O1xuXG5CdWZmZXJlZFNlbmRlci5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgZGVidWcoJ2Nsb3NlJyk7XG4gIHRoaXMuX2NsZWFudXAoKTtcbiAgaWYgKHRoaXMuc2VuZFN0b3ApIHtcbiAgICB0aGlzLnNlbmRTdG9wKCk7XG4gICAgdGhpcy5zZW5kU3RvcCA9IG51bGw7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQnVmZmVyZWRTZW5kZXI7XG5cbn0pLmNhbGwodGhpcyx7IGVudjoge30gfSlcblxufSx7XCJkZWJ1Z1wiOjU1LFwiZXZlbnRzXCI6MyxcImluaGVyaXRzXCI6NTd9XSwyNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKGdsb2JhbCl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbiAgLCBJZnJhbWVUcmFuc3BvcnQgPSByZXF1aXJlKCcuLi9pZnJhbWUnKVxuICAsIG9iamVjdFV0aWxzID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvb2JqZWN0JylcbiAgO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHRyYW5zcG9ydCkge1xuXG4gIGZ1bmN0aW9uIElmcmFtZVdyYXBUcmFuc3BvcnQodHJhbnNVcmwsIGJhc2VVcmwpIHtcbiAgICBJZnJhbWVUcmFuc3BvcnQuY2FsbCh0aGlzLCB0cmFuc3BvcnQudHJhbnNwb3J0TmFtZSwgdHJhbnNVcmwsIGJhc2VVcmwpO1xuICB9XG5cbiAgaW5oZXJpdHMoSWZyYW1lV3JhcFRyYW5zcG9ydCwgSWZyYW1lVHJhbnNwb3J0KTtcblxuICBJZnJhbWVXcmFwVHJhbnNwb3J0LmVuYWJsZWQgPSBmdW5jdGlvbih1cmwsIGluZm8pIHtcbiAgICBpZiAoIWdsb2JhbC5kb2N1bWVudCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBpZnJhbWVJbmZvID0gb2JqZWN0VXRpbHMuZXh0ZW5kKHt9LCBpbmZvKTtcbiAgICBpZnJhbWVJbmZvLnNhbWVPcmlnaW4gPSB0cnVlO1xuICAgIHJldHVybiB0cmFuc3BvcnQuZW5hYmxlZChpZnJhbWVJbmZvKSAmJiBJZnJhbWVUcmFuc3BvcnQuZW5hYmxlZCgpO1xuICB9O1xuXG4gIElmcmFtZVdyYXBUcmFuc3BvcnQudHJhbnNwb3J0TmFtZSA9ICdpZnJhbWUtJyArIHRyYW5zcG9ydC50cmFuc3BvcnROYW1lO1xuICBJZnJhbWVXcmFwVHJhbnNwb3J0Lm5lZWRCb2R5ID0gdHJ1ZTtcbiAgSWZyYW1lV3JhcFRyYW5zcG9ydC5yb3VuZFRyaXBzID0gSWZyYW1lVHJhbnNwb3J0LnJvdW5kVHJpcHMgKyB0cmFuc3BvcnQucm91bmRUcmlwcyAtIDE7IC8vIGh0bWwsIGphdmFzY3JpcHQgKDIpICsgdHJhbnNwb3J0IC0gbm8gQ09SUyAoMSlcblxuICBJZnJhbWVXcmFwVHJhbnNwb3J0LmZhY2FkZVRyYW5zcG9ydCA9IHRyYW5zcG9ydDtcblxuICByZXR1cm4gSWZyYW1lV3JhcFRyYW5zcG9ydDtcbn07XG5cbn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxuXG59LHtcIi4uLy4uL3V0aWxzL29iamVjdFwiOjQ5LFwiLi4vaWZyYW1lXCI6MjIsXCJpbmhlcml0c1wiOjU3fV0sMjc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChwcm9jZXNzKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxuICAsIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlclxuICA7XG5cbnZhciBkZWJ1ZyA9IGZ1bmN0aW9uKCkge307XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBkZWJ1ZyA9IHJlcXVpcmUoJ2RlYnVnJykoJ3NvY2tqcy1jbGllbnQ6cG9sbGluZycpO1xufVxuXG5mdW5jdGlvbiBQb2xsaW5nKFJlY2VpdmVyLCByZWNlaXZlVXJsLCBBamF4T2JqZWN0KSB7XG4gIGRlYnVnKHJlY2VpdmVVcmwpO1xuICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcbiAgdGhpcy5SZWNlaXZlciA9IFJlY2VpdmVyO1xuICB0aGlzLnJlY2VpdmVVcmwgPSByZWNlaXZlVXJsO1xuICB0aGlzLkFqYXhPYmplY3QgPSBBamF4T2JqZWN0O1xuICB0aGlzLl9zY2hlZHVsZVJlY2VpdmVyKCk7XG59XG5cbmluaGVyaXRzKFBvbGxpbmcsIEV2ZW50RW1pdHRlcik7XG5cblBvbGxpbmcucHJvdG90eXBlLl9zY2hlZHVsZVJlY2VpdmVyID0gZnVuY3Rpb24oKSB7XG4gIGRlYnVnKCdfc2NoZWR1bGVSZWNlaXZlcicpO1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciBwb2xsID0gdGhpcy5wb2xsID0gbmV3IHRoaXMuUmVjZWl2ZXIodGhpcy5yZWNlaXZlVXJsLCB0aGlzLkFqYXhPYmplY3QpO1xuXG4gIHBvbGwub24oJ21lc3NhZ2UnLCBmdW5jdGlvbihtc2cpIHtcbiAgICBkZWJ1ZygnbWVzc2FnZScsIG1zZyk7XG4gICAgc2VsZi5lbWl0KCdtZXNzYWdlJywgbXNnKTtcbiAgfSk7XG5cbiAgcG9sbC5vbmNlKCdjbG9zZScsIGZ1bmN0aW9uKGNvZGUsIHJlYXNvbikge1xuICAgIGRlYnVnKCdjbG9zZScsIGNvZGUsIHJlYXNvbiwgc2VsZi5wb2xsSXNDbG9zaW5nKTtcbiAgICBzZWxmLnBvbGwgPSBwb2xsID0gbnVsbDtcblxuICAgIGlmICghc2VsZi5wb2xsSXNDbG9zaW5nKSB7XG4gICAgICBpZiAocmVhc29uID09PSAnbmV0d29yaycpIHtcbiAgICAgICAgc2VsZi5fc2NoZWR1bGVSZWNlaXZlcigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi5lbWl0KCdjbG9zZScsIGNvZGUgfHwgMTAwNiwgcmVhc29uKTtcbiAgICAgICAgc2VsZi5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufTtcblxuUG9sbGluZy5wcm90b3R5cGUuYWJvcnQgPSBmdW5jdGlvbigpIHtcbiAgZGVidWcoJ2Fib3J0Jyk7XG4gIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gIHRoaXMucG9sbElzQ2xvc2luZyA9IHRydWU7XG4gIGlmICh0aGlzLnBvbGwpIHtcbiAgICB0aGlzLnBvbGwuYWJvcnQoKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBQb2xsaW5nO1xuXG59KS5jYWxsKHRoaXMseyBlbnY6IHt9IH0pXG5cbn0se1wiZGVidWdcIjo1NSxcImV2ZW50c1wiOjMsXCJpbmhlcml0c1wiOjU3fV0sMjg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChwcm9jZXNzKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxuICAsIHVybFV0aWxzID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvdXJsJylcbiAgLCBCdWZmZXJlZFNlbmRlciA9IHJlcXVpcmUoJy4vYnVmZmVyZWQtc2VuZGVyJylcbiAgLCBQb2xsaW5nID0gcmVxdWlyZSgnLi9wb2xsaW5nJylcbiAgO1xuXG52YXIgZGVidWcgPSBmdW5jdGlvbigpIHt9O1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdzb2NranMtY2xpZW50OnNlbmRlci1yZWNlaXZlcicpO1xufVxuXG5mdW5jdGlvbiBTZW5kZXJSZWNlaXZlcih0cmFuc1VybCwgdXJsU3VmZml4LCBzZW5kZXJGdW5jLCBSZWNlaXZlciwgQWpheE9iamVjdCkge1xuICB2YXIgcG9sbFVybCA9IHVybFV0aWxzLmFkZFBhdGgodHJhbnNVcmwsIHVybFN1ZmZpeCk7XG4gIGRlYnVnKHBvbGxVcmwpO1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIEJ1ZmZlcmVkU2VuZGVyLmNhbGwodGhpcywgdHJhbnNVcmwsIHNlbmRlckZ1bmMpO1xuXG4gIHRoaXMucG9sbCA9IG5ldyBQb2xsaW5nKFJlY2VpdmVyLCBwb2xsVXJsLCBBamF4T2JqZWN0KTtcbiAgdGhpcy5wb2xsLm9uKCdtZXNzYWdlJywgZnVuY3Rpb24obXNnKSB7XG4gICAgZGVidWcoJ3BvbGwgbWVzc2FnZScsIG1zZyk7XG4gICAgc2VsZi5lbWl0KCdtZXNzYWdlJywgbXNnKTtcbiAgfSk7XG4gIHRoaXMucG9sbC5vbmNlKCdjbG9zZScsIGZ1bmN0aW9uKGNvZGUsIHJlYXNvbikge1xuICAgIGRlYnVnKCdwb2xsIGNsb3NlJywgY29kZSwgcmVhc29uKTtcbiAgICBzZWxmLnBvbGwgPSBudWxsO1xuICAgIHNlbGYuZW1pdCgnY2xvc2UnLCBjb2RlLCByZWFzb24pO1xuICAgIHNlbGYuY2xvc2UoKTtcbiAgfSk7XG59XG5cbmluaGVyaXRzKFNlbmRlclJlY2VpdmVyLCBCdWZmZXJlZFNlbmRlcik7XG5cblNlbmRlclJlY2VpdmVyLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICBCdWZmZXJlZFNlbmRlci5wcm90b3R5cGUuY2xvc2UuY2FsbCh0aGlzKTtcbiAgZGVidWcoJ2Nsb3NlJyk7XG4gIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gIGlmICh0aGlzLnBvbGwpIHtcbiAgICB0aGlzLnBvbGwuYWJvcnQoKTtcbiAgICB0aGlzLnBvbGwgPSBudWxsO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNlbmRlclJlY2VpdmVyO1xuXG59KS5jYWxsKHRoaXMseyBlbnY6IHt9IH0pXG5cbn0se1wiLi4vLi4vdXRpbHMvdXJsXCI6NTIsXCIuL2J1ZmZlcmVkLXNlbmRlclwiOjI1LFwiLi9wb2xsaW5nXCI6MjcsXCJkZWJ1Z1wiOjU1LFwiaW5oZXJpdHNcIjo1N31dLDI5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAocHJvY2Vzcyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbiAgLCBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXJcbiAgLCBFdmVudFNvdXJjZURyaXZlciA9IHJlcXVpcmUoJ2V2ZW50c291cmNlJylcbiAgO1xuXG52YXIgZGVidWcgPSBmdW5jdGlvbigpIHt9O1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdzb2NranMtY2xpZW50OnJlY2VpdmVyOmV2ZW50c291cmNlJyk7XG59XG5cbmZ1bmN0aW9uIEV2ZW50U291cmNlUmVjZWl2ZXIodXJsKSB7XG4gIGRlYnVnKHVybCk7XG4gIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIGVzID0gdGhpcy5lcyA9IG5ldyBFdmVudFNvdXJjZURyaXZlcih1cmwpO1xuICBlcy5vbm1lc3NhZ2UgPSBmdW5jdGlvbihlKSB7XG4gICAgZGVidWcoJ21lc3NhZ2UnLCBlLmRhdGEpO1xuICAgIHNlbGYuZW1pdCgnbWVzc2FnZScsIGRlY29kZVVSSShlLmRhdGEpKTtcbiAgfTtcbiAgZXMub25lcnJvciA9IGZ1bmN0aW9uKGUpIHtcbiAgICBkZWJ1ZygnZXJyb3InLCBlcy5yZWFkeVN0YXRlLCBlKTtcbiAgICAvLyBFUyBvbiByZWNvbm5lY3Rpb24gaGFzIHJlYWR5U3RhdGUgPSAwIG9yIDEuXG4gICAgLy8gb24gbmV0d29yayBlcnJvciBpdCdzIENMT1NFRCA9IDJcbiAgICB2YXIgcmVhc29uID0gKGVzLnJlYWR5U3RhdGUgIT09IDIgPyAnbmV0d29yaycgOiAncGVybWFuZW50Jyk7XG4gICAgc2VsZi5fY2xlYW51cCgpO1xuICAgIHNlbGYuX2Nsb3NlKHJlYXNvbik7XG4gIH07XG59XG5cbmluaGVyaXRzKEV2ZW50U291cmNlUmVjZWl2ZXIsIEV2ZW50RW1pdHRlcik7XG5cbkV2ZW50U291cmNlUmVjZWl2ZXIucHJvdG90eXBlLmFib3J0ID0gZnVuY3Rpb24oKSB7XG4gIGRlYnVnKCdhYm9ydCcpO1xuICB0aGlzLl9jbGVhbnVwKCk7XG4gIHRoaXMuX2Nsb3NlKCd1c2VyJyk7XG59O1xuXG5FdmVudFNvdXJjZVJlY2VpdmVyLnByb3RvdHlwZS5fY2xlYW51cCA9IGZ1bmN0aW9uKCkge1xuICBkZWJ1ZygnY2xlYW51cCcpO1xuICB2YXIgZXMgPSB0aGlzLmVzO1xuICBpZiAoZXMpIHtcbiAgICBlcy5vbm1lc3NhZ2UgPSBlcy5vbmVycm9yID0gbnVsbDtcbiAgICBlcy5jbG9zZSgpO1xuICAgIHRoaXMuZXMgPSBudWxsO1xuICB9XG59O1xuXG5FdmVudFNvdXJjZVJlY2VpdmVyLnByb3RvdHlwZS5fY2xvc2UgPSBmdW5jdGlvbihyZWFzb24pIHtcbiAgZGVidWcoJ2Nsb3NlJywgcmVhc29uKTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICAvLyBTYWZhcmkgYW5kIGNocm9tZSA8IDE1IGNyYXNoIGlmIHdlIGNsb3NlIHdpbmRvdyBiZWZvcmVcbiAgLy8gd2FpdGluZyBmb3IgRVMgY2xlYW51cC4gU2VlOlxuICAvLyBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9ODkxNTVcbiAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICBzZWxmLmVtaXQoJ2Nsb3NlJywgbnVsbCwgcmVhc29uKTtcbiAgICBzZWxmLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICB9LCAyMDApO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBFdmVudFNvdXJjZVJlY2VpdmVyO1xuXG59KS5jYWxsKHRoaXMseyBlbnY6IHt9IH0pXG5cbn0se1wiZGVidWdcIjo1NSxcImV2ZW50c1wiOjMsXCJldmVudHNvdXJjZVwiOjE4LFwiaW5oZXJpdHNcIjo1N31dLDMwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAocHJvY2VzcyxnbG9iYWwpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG4gICwgaWZyYW1lVXRpbHMgPSByZXF1aXJlKCcuLi8uLi91dGlscy9pZnJhbWUnKVxuICAsIHVybFV0aWxzID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvdXJsJylcbiAgLCBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXJcbiAgLCByYW5kb20gPSByZXF1aXJlKCcuLi8uLi91dGlscy9yYW5kb20nKVxuICA7XG5cbnZhciBkZWJ1ZyA9IGZ1bmN0aW9uKCkge307XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBkZWJ1ZyA9IHJlcXVpcmUoJ2RlYnVnJykoJ3NvY2tqcy1jbGllbnQ6cmVjZWl2ZXI6aHRtbGZpbGUnKTtcbn1cblxuZnVuY3Rpb24gSHRtbGZpbGVSZWNlaXZlcih1cmwpIHtcbiAgZGVidWcodXJsKTtcbiAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWZyYW1lVXRpbHMucG9sbHV0ZUdsb2JhbE5hbWVzcGFjZSgpO1xuXG4gIHRoaXMuaWQgPSAnYScgKyByYW5kb20uc3RyaW5nKDYpO1xuICB1cmwgPSB1cmxVdGlscy5hZGRRdWVyeSh1cmwsICdjPScgKyBkZWNvZGVVUklDb21wb25lbnQoaWZyYW1lVXRpbHMuV1ByZWZpeCArICcuJyArIHRoaXMuaWQpKTtcblxuICBkZWJ1ZygndXNpbmcgaHRtbGZpbGUnLCBIdG1sZmlsZVJlY2VpdmVyLmh0bWxmaWxlRW5hYmxlZCk7XG4gIHZhciBjb25zdHJ1Y3RGdW5jID0gSHRtbGZpbGVSZWNlaXZlci5odG1sZmlsZUVuYWJsZWQgP1xuICAgICAgaWZyYW1lVXRpbHMuY3JlYXRlSHRtbGZpbGUgOiBpZnJhbWVVdGlscy5jcmVhdGVJZnJhbWU7XG5cbiAgZ2xvYmFsW2lmcmFtZVV0aWxzLldQcmVmaXhdW3RoaXMuaWRdID0ge1xuICAgIHN0YXJ0OiBmdW5jdGlvbigpIHtcbiAgICAgIGRlYnVnKCdzdGFydCcpO1xuICAgICAgc2VsZi5pZnJhbWVPYmoubG9hZGVkKCk7XG4gICAgfVxuICAsIG1lc3NhZ2U6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIGRlYnVnKCdtZXNzYWdlJywgZGF0YSk7XG4gICAgICBzZWxmLmVtaXQoJ21lc3NhZ2UnLCBkYXRhKTtcbiAgICB9XG4gICwgc3RvcDogZnVuY3Rpb24oKSB7XG4gICAgICBkZWJ1Zygnc3RvcCcpO1xuICAgICAgc2VsZi5fY2xlYW51cCgpO1xuICAgICAgc2VsZi5fY2xvc2UoJ25ldHdvcmsnKTtcbiAgICB9XG4gIH07XG4gIHRoaXMuaWZyYW1lT2JqID0gY29uc3RydWN0RnVuYyh1cmwsIGZ1bmN0aW9uKCkge1xuICAgIGRlYnVnKCdjYWxsYmFjaycpO1xuICAgIHNlbGYuX2NsZWFudXAoKTtcbiAgICBzZWxmLl9jbG9zZSgncGVybWFuZW50Jyk7XG4gIH0pO1xufVxuXG5pbmhlcml0cyhIdG1sZmlsZVJlY2VpdmVyLCBFdmVudEVtaXR0ZXIpO1xuXG5IdG1sZmlsZVJlY2VpdmVyLnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uKCkge1xuICBkZWJ1ZygnYWJvcnQnKTtcbiAgdGhpcy5fY2xlYW51cCgpO1xuICB0aGlzLl9jbG9zZSgndXNlcicpO1xufTtcblxuSHRtbGZpbGVSZWNlaXZlci5wcm90b3R5cGUuX2NsZWFudXAgPSBmdW5jdGlvbigpIHtcbiAgZGVidWcoJ19jbGVhbnVwJyk7XG4gIGlmICh0aGlzLmlmcmFtZU9iaikge1xuICAgIHRoaXMuaWZyYW1lT2JqLmNsZWFudXAoKTtcbiAgICB0aGlzLmlmcmFtZU9iaiA9IG51bGw7XG4gIH1cbiAgZGVsZXRlIGdsb2JhbFtpZnJhbWVVdGlscy5XUHJlZml4XVt0aGlzLmlkXTtcbn07XG5cbkh0bWxmaWxlUmVjZWl2ZXIucHJvdG90eXBlLl9jbG9zZSA9IGZ1bmN0aW9uKHJlYXNvbikge1xuICBkZWJ1ZygnX2Nsb3NlJywgcmVhc29uKTtcbiAgdGhpcy5lbWl0KCdjbG9zZScsIG51bGwsIHJlYXNvbik7XG4gIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG59O1xuXG5IdG1sZmlsZVJlY2VpdmVyLmh0bWxmaWxlRW5hYmxlZCA9IGZhbHNlO1xuXG4vLyBvYmZ1c2NhdGUgdG8gYXZvaWQgZmlyZXdhbGxzXG52YXIgYXhvID0gWydBY3RpdmUnXS5jb25jYXQoJ09iamVjdCcpLmpvaW4oJ1gnKTtcbmlmIChheG8gaW4gZ2xvYmFsKSB7XG4gIHRyeSB7XG4gICAgSHRtbGZpbGVSZWNlaXZlci5odG1sZmlsZUVuYWJsZWQgPSAhIW5ldyBnbG9iYWxbYXhvXSgnaHRtbGZpbGUnKTtcbiAgfSBjYXRjaCAoeCkge1xuICAgIC8vIGludGVudGlvbmFsbHkgZW1wdHlcbiAgfVxufVxuXG5IdG1sZmlsZVJlY2VpdmVyLmVuYWJsZWQgPSBIdG1sZmlsZVJlY2VpdmVyLmh0bWxmaWxlRW5hYmxlZCB8fCBpZnJhbWVVdGlscy5pZnJhbWVFbmFibGVkO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEh0bWxmaWxlUmVjZWl2ZXI7XG5cbn0pLmNhbGwodGhpcyx7IGVudjoge30gfSx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxuXG59LHtcIi4uLy4uL3V0aWxzL2lmcmFtZVwiOjQ3LFwiLi4vLi4vdXRpbHMvcmFuZG9tXCI6NTAsXCIuLi8uLi91dGlscy91cmxcIjo1MixcImRlYnVnXCI6NTUsXCJldmVudHNcIjozLFwiaW5oZXJpdHNcIjo1N31dLDMxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAocHJvY2VzcyxnbG9iYWwpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi8uLi91dGlscy9pZnJhbWUnKVxuICAsIHJhbmRvbSA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL3JhbmRvbScpXG4gICwgYnJvd3NlciA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL2Jyb3dzZXInKVxuICAsIHVybFV0aWxzID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvdXJsJylcbiAgLCBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbiAgLCBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXJcbiAgO1xuXG52YXIgZGVidWcgPSBmdW5jdGlvbigpIHt9O1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdzb2NranMtY2xpZW50OnJlY2VpdmVyOmpzb25wJyk7XG59XG5cbmZ1bmN0aW9uIEpzb25wUmVjZWl2ZXIodXJsKSB7XG4gIGRlYnVnKHVybCk7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgdXRpbHMucG9sbHV0ZUdsb2JhbE5hbWVzcGFjZSgpO1xuXG4gIHRoaXMuaWQgPSAnYScgKyByYW5kb20uc3RyaW5nKDYpO1xuICB2YXIgdXJsV2l0aElkID0gdXJsVXRpbHMuYWRkUXVlcnkodXJsLCAnYz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHV0aWxzLldQcmVmaXggKyAnLicgKyB0aGlzLmlkKSk7XG5cbiAgZ2xvYmFsW3V0aWxzLldQcmVmaXhdW3RoaXMuaWRdID0gdGhpcy5fY2FsbGJhY2suYmluZCh0aGlzKTtcbiAgdGhpcy5fY3JlYXRlU2NyaXB0KHVybFdpdGhJZCk7XG5cbiAgLy8gRmFsbGJhY2sgbW9zdGx5IGZvciBLb25xdWVyb3IgLSBzdHVwaWQgdGltZXIsIDM1IHNlY29uZHMgc2hhbGwgYmUgcGxlbnR5LlxuICB0aGlzLnRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgZGVidWcoJ3RpbWVvdXQnKTtcbiAgICBzZWxmLl9hYm9ydChuZXcgRXJyb3IoJ0pTT05QIHNjcmlwdCBsb2FkZWQgYWJub3JtYWxseSAodGltZW91dCknKSk7XG4gIH0sIEpzb25wUmVjZWl2ZXIudGltZW91dCk7XG59XG5cbmluaGVyaXRzKEpzb25wUmVjZWl2ZXIsIEV2ZW50RW1pdHRlcik7XG5cbkpzb25wUmVjZWl2ZXIucHJvdG90eXBlLmFib3J0ID0gZnVuY3Rpb24oKSB7XG4gIGRlYnVnKCdhYm9ydCcpO1xuICBpZiAoZ2xvYmFsW3V0aWxzLldQcmVmaXhdW3RoaXMuaWRdKSB7XG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcignSlNPTlAgdXNlciBhYm9ydGVkIHJlYWQnKTtcbiAgICBlcnIuY29kZSA9IDEwMDA7XG4gICAgdGhpcy5fYWJvcnQoZXJyKTtcbiAgfVxufTtcblxuSnNvbnBSZWNlaXZlci50aW1lb3V0ID0gMzUwMDA7XG5Kc29ucFJlY2VpdmVyLnNjcmlwdEVycm9yVGltZW91dCA9IDEwMDA7XG5cbkpzb25wUmVjZWl2ZXIucHJvdG90eXBlLl9jYWxsYmFjayA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgZGVidWcoJ19jYWxsYmFjaycsIGRhdGEpO1xuICB0aGlzLl9jbGVhbnVwKCk7XG5cbiAgaWYgKHRoaXMuYWJvcnRpbmcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoZGF0YSkge1xuICAgIGRlYnVnKCdtZXNzYWdlJywgZGF0YSk7XG4gICAgdGhpcy5lbWl0KCdtZXNzYWdlJywgZGF0YSk7XG4gIH1cbiAgdGhpcy5lbWl0KCdjbG9zZScsIG51bGwsICduZXR3b3JrJyk7XG4gIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG59O1xuXG5Kc29ucFJlY2VpdmVyLnByb3RvdHlwZS5fYWJvcnQgPSBmdW5jdGlvbihlcnIpIHtcbiAgZGVidWcoJ19hYm9ydCcsIGVycik7XG4gIHRoaXMuX2NsZWFudXAoKTtcbiAgdGhpcy5hYm9ydGluZyA9IHRydWU7XG4gIHRoaXMuZW1pdCgnY2xvc2UnLCBlcnIuY29kZSwgZXJyLm1lc3NhZ2UpO1xuICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xufTtcblxuSnNvbnBSZWNlaXZlci5wcm90b3R5cGUuX2NsZWFudXAgPSBmdW5jdGlvbigpIHtcbiAgZGVidWcoJ19jbGVhbnVwJyk7XG4gIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRJZCk7XG4gIGlmICh0aGlzLnNjcmlwdDIpIHtcbiAgICB0aGlzLnNjcmlwdDIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnNjcmlwdDIpO1xuICAgIHRoaXMuc2NyaXB0MiA9IG51bGw7XG4gIH1cbiAgaWYgKHRoaXMuc2NyaXB0KSB7XG4gICAgdmFyIHNjcmlwdCA9IHRoaXMuc2NyaXB0O1xuICAgIC8vIFVuZm9ydHVuYXRlbHksIHlvdSBjYW4ndCByZWFsbHkgYWJvcnQgc2NyaXB0IGxvYWRpbmcgb2ZcbiAgICAvLyB0aGUgc2NyaXB0LlxuICAgIHNjcmlwdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG4gICAgc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IHNjcmlwdC5vbmVycm9yID1cbiAgICAgICAgc2NyaXB0Lm9ubG9hZCA9IHNjcmlwdC5vbmNsaWNrID0gbnVsbDtcbiAgICB0aGlzLnNjcmlwdCA9IG51bGw7XG4gIH1cbiAgZGVsZXRlIGdsb2JhbFt1dGlscy5XUHJlZml4XVt0aGlzLmlkXTtcbn07XG5cbkpzb25wUmVjZWl2ZXIucHJvdG90eXBlLl9zY3JpcHRFcnJvciA9IGZ1bmN0aW9uKCkge1xuICBkZWJ1ZygnX3NjcmlwdEVycm9yJyk7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKHRoaXMuZXJyb3JUaW1lcikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuZXJyb3JUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgaWYgKCFzZWxmLmxvYWRlZE9rYXkpIHtcbiAgICAgIHNlbGYuX2Fib3J0KG5ldyBFcnJvcignSlNPTlAgc2NyaXB0IGxvYWRlZCBhYm5vcm1hbGx5IChvbmVycm9yKScpKTtcbiAgICB9XG4gIH0sIEpzb25wUmVjZWl2ZXIuc2NyaXB0RXJyb3JUaW1lb3V0KTtcbn07XG5cbkpzb25wUmVjZWl2ZXIucHJvdG90eXBlLl9jcmVhdGVTY3JpcHQgPSBmdW5jdGlvbih1cmwpIHtcbiAgZGVidWcoJ19jcmVhdGVTY3JpcHQnLCB1cmwpO1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciBzY3JpcHQgPSB0aGlzLnNjcmlwdCA9IGdsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgdmFyIHNjcmlwdDI7ICAvLyBPcGVyYSBzeW5jaHJvbm91cyBsb2FkIHRyaWNrLlxuXG4gIHNjcmlwdC5pZCA9ICdhJyArIHJhbmRvbS5zdHJpbmcoOCk7XG4gIHNjcmlwdC5zcmMgPSB1cmw7XG4gIHNjcmlwdC50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7XG4gIHNjcmlwdC5jaGFyc2V0ID0gJ1VURi04JztcbiAgc2NyaXB0Lm9uZXJyb3IgPSB0aGlzLl9zY3JpcHRFcnJvci5iaW5kKHRoaXMpO1xuICBzY3JpcHQub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgZGVidWcoJ29ubG9hZCcpO1xuICAgIHNlbGYuX2Fib3J0KG5ldyBFcnJvcignSlNPTlAgc2NyaXB0IGxvYWRlZCBhYm5vcm1hbGx5IChvbmxvYWQpJykpO1xuICB9O1xuXG4gIC8vIElFOSBmaXJlcyAnZXJyb3InIGV2ZW50IGFmdGVyIG9ucmVhZHlzdGF0ZWNoYW5nZSBvciBiZWZvcmUsIGluIHJhbmRvbSBvcmRlci5cbiAgLy8gVXNlIGxvYWRlZE9rYXkgdG8gZGV0ZXJtaW5lIGlmIGFjdHVhbGx5IGVycm9yZWRcbiAgc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgIGRlYnVnKCdvbnJlYWR5c3RhdGVjaGFuZ2UnLCBzY3JpcHQucmVhZHlTdGF0ZSk7XG4gICAgaWYgKC9sb2FkZWR8Y2xvc2VkLy50ZXN0KHNjcmlwdC5yZWFkeVN0YXRlKSkge1xuICAgICAgaWYgKHNjcmlwdCAmJiBzY3JpcHQuaHRtbEZvciAmJiBzY3JpcHQub25jbGljaykge1xuICAgICAgICBzZWxmLmxvYWRlZE9rYXkgPSB0cnVlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIEluIElFLCBhY3R1YWxseSBleGVjdXRlIHRoZSBzY3JpcHQuXG4gICAgICAgICAgc2NyaXB0Lm9uY2xpY2soKTtcbiAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgIC8vIGludGVudGlvbmFsbHkgZW1wdHlcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHNjcmlwdCkge1xuICAgICAgICBzZWxmLl9hYm9ydChuZXcgRXJyb3IoJ0pTT05QIHNjcmlwdCBsb2FkZWQgYWJub3JtYWxseSAob25yZWFkeXN0YXRlY2hhbmdlKScpKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIC8vIElFOiBldmVudC9odG1sRm9yL29uY2xpY2sgdHJpY2suXG4gIC8vIE9uZSBjYW4ndCByZWx5IG9uIHByb3BlciBvcmRlciBmb3Igb25yZWFkeXN0YXRlY2hhbmdlLiBJbiBvcmRlciB0b1xuICAvLyBtYWtlIHN1cmUsIHNldCBhICdodG1sRm9yJyBhbmQgJ2V2ZW50JyBwcm9wZXJ0aWVzLCBzbyB0aGF0XG4gIC8vIHNjcmlwdCBjb2RlIHdpbGwgYmUgaW5zdGFsbGVkIGFzICdvbmNsaWNrJyBoYW5kbGVyIGZvciB0aGVcbiAgLy8gc2NyaXB0IG9iamVjdC4gTGF0ZXIsIG9ucmVhZHlzdGF0ZWNoYW5nZSwgbWFudWFsbHkgZXhlY3V0ZSB0aGlzXG4gIC8vIGNvZGUuIEZGIGFuZCBDaHJvbWUgZG9lc24ndCB3b3JrIHdpdGggJ2V2ZW50JyBhbmQgJ2h0bWxGb3InXG4gIC8vIHNldC4gRm9yIHJlZmVyZW5jZSBzZWU6XG4gIC8vICAgaHR0cDovL2phdWJvdXJnLm5ldC8yMDEwLzA3L2xvYWRpbmctc2NyaXB0LWFzLW9uY2xpY2staGFuZGxlci1vZi5odG1sXG4gIC8vIEFsc28sIHJlYWQgb24gdGhhdCBhYm91dCBzY3JpcHQgb3JkZXJpbmc6XG4gIC8vICAgaHR0cDovL3dpa2kud2hhdHdnLm9yZy93aWtpL0R5bmFtaWNfU2NyaXB0X0V4ZWN1dGlvbl9PcmRlclxuICBpZiAodHlwZW9mIHNjcmlwdC5hc3luYyA9PT0gJ3VuZGVmaW5lZCcgJiYgZ2xvYmFsLmRvY3VtZW50LmF0dGFjaEV2ZW50KSB7XG4gICAgLy8gQWNjb3JkaW5nIHRvIG1vemlsbGEgZG9jcywgaW4gcmVjZW50IGJyb3dzZXJzIHNjcmlwdC5hc3luYyBkZWZhdWx0c1xuICAgIC8vIHRvICd0cnVlJywgc28gd2UgbWF5IHVzZSBpdCB0byBkZXRlY3QgYSBnb29kIGJyb3dzZXI6XG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vSFRNTC9FbGVtZW50L3NjcmlwdFxuICAgIGlmICghYnJvd3Nlci5pc09wZXJhKCkpIHtcbiAgICAgIC8vIE5haXZlbHkgYXNzdW1lIHdlJ3JlIGluIElFXG4gICAgICB0cnkge1xuICAgICAgICBzY3JpcHQuaHRtbEZvciA9IHNjcmlwdC5pZDtcbiAgICAgICAgc2NyaXB0LmV2ZW50ID0gJ29uY2xpY2snO1xuICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAvLyBpbnRlbnRpb25hbGx5IGVtcHR5XG4gICAgICB9XG4gICAgICBzY3JpcHQuYXN5bmMgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBPcGVyYSwgc2Vjb25kIHN5bmMgc2NyaXB0IGhhY2tcbiAgICAgIHNjcmlwdDIgPSB0aGlzLnNjcmlwdDIgPSBnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICBzY3JpcHQyLnRleHQgPSBcInRyeXt2YXIgYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdcIiArIHNjcmlwdC5pZCArIFwiJyk7IGlmKGEpYS5vbmVycm9yKCk7fWNhdGNoKHgpe307XCI7XG4gICAgICBzY3JpcHQuYXN5bmMgPSBzY3JpcHQyLmFzeW5jID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIGlmICh0eXBlb2Ygc2NyaXB0LmFzeW5jICE9PSAndW5kZWZpbmVkJykge1xuICAgIHNjcmlwdC5hc3luYyA9IHRydWU7XG4gIH1cblxuICB2YXIgaGVhZCA9IGdsb2JhbC5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdO1xuICBoZWFkLmluc2VydEJlZm9yZShzY3JpcHQsIGhlYWQuZmlyc3RDaGlsZCk7XG4gIGlmIChzY3JpcHQyKSB7XG4gICAgaGVhZC5pbnNlcnRCZWZvcmUoc2NyaXB0MiwgaGVhZC5maXJzdENoaWxkKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBKc29ucFJlY2VpdmVyO1xuXG59KS5jYWxsKHRoaXMseyBlbnY6IHt9IH0sdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcblxufSx7XCIuLi8uLi91dGlscy9icm93c2VyXCI6NDQsXCIuLi8uLi91dGlscy9pZnJhbWVcIjo0NyxcIi4uLy4uL3V0aWxzL3JhbmRvbVwiOjUwLFwiLi4vLi4vdXRpbHMvdXJsXCI6NTIsXCJkZWJ1Z1wiOjU1LFwiZXZlbnRzXCI6MyxcImluaGVyaXRzXCI6NTd9XSwzMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKHByb2Nlc3Mpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG4gICwgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyXG4gIDtcblxudmFyIGRlYnVnID0gZnVuY3Rpb24oKSB7fTtcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIGRlYnVnID0gcmVxdWlyZSgnZGVidWcnKSgnc29ja2pzLWNsaWVudDpyZWNlaXZlcjp4aHInKTtcbn1cblxuZnVuY3Rpb24gWGhyUmVjZWl2ZXIodXJsLCBBamF4T2JqZWN0KSB7XG4gIGRlYnVnKHVybCk7XG4gIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgdGhpcy5idWZmZXJQb3NpdGlvbiA9IDA7XG5cbiAgdGhpcy54byA9IG5ldyBBamF4T2JqZWN0KCdQT1NUJywgdXJsLCBudWxsKTtcbiAgdGhpcy54by5vbignY2h1bmsnLCB0aGlzLl9jaHVua0hhbmRsZXIuYmluZCh0aGlzKSk7XG4gIHRoaXMueG8ub25jZSgnZmluaXNoJywgZnVuY3Rpb24oc3RhdHVzLCB0ZXh0KSB7XG4gICAgZGVidWcoJ2ZpbmlzaCcsIHN0YXR1cywgdGV4dCk7XG4gICAgc2VsZi5fY2h1bmtIYW5kbGVyKHN0YXR1cywgdGV4dCk7XG4gICAgc2VsZi54byA9IG51bGw7XG4gICAgdmFyIHJlYXNvbiA9IHN0YXR1cyA9PT0gMjAwID8gJ25ldHdvcmsnIDogJ3Blcm1hbmVudCc7XG4gICAgZGVidWcoJ2Nsb3NlJywgcmVhc29uKTtcbiAgICBzZWxmLmVtaXQoJ2Nsb3NlJywgbnVsbCwgcmVhc29uKTtcbiAgICBzZWxmLl9jbGVhbnVwKCk7XG4gIH0pO1xufVxuXG5pbmhlcml0cyhYaHJSZWNlaXZlciwgRXZlbnRFbWl0dGVyKTtcblxuWGhyUmVjZWl2ZXIucHJvdG90eXBlLl9jaHVua0hhbmRsZXIgPSBmdW5jdGlvbihzdGF0dXMsIHRleHQpIHtcbiAgZGVidWcoJ19jaHVua0hhbmRsZXInLCBzdGF0dXMpO1xuICBpZiAoc3RhdHVzICE9PSAyMDAgfHwgIXRleHQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBmb3IgKHZhciBpZHggPSAtMTsgOyB0aGlzLmJ1ZmZlclBvc2l0aW9uICs9IGlkeCArIDEpIHtcbiAgICB2YXIgYnVmID0gdGV4dC5zbGljZSh0aGlzLmJ1ZmZlclBvc2l0aW9uKTtcbiAgICBpZHggPSBidWYuaW5kZXhPZignXFxuJyk7XG4gICAgaWYgKGlkeCA9PT0gLTEpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB2YXIgbXNnID0gYnVmLnNsaWNlKDAsIGlkeCk7XG4gICAgaWYgKG1zZykge1xuICAgICAgZGVidWcoJ21lc3NhZ2UnLCBtc2cpO1xuICAgICAgdGhpcy5lbWl0KCdtZXNzYWdlJywgbXNnKTtcbiAgICB9XG4gIH1cbn07XG5cblhoclJlY2VpdmVyLnByb3RvdHlwZS5fY2xlYW51cCA9IGZ1bmN0aW9uKCkge1xuICBkZWJ1ZygnX2NsZWFudXAnKTtcbiAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbn07XG5cblhoclJlY2VpdmVyLnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uKCkge1xuICBkZWJ1ZygnYWJvcnQnKTtcbiAgaWYgKHRoaXMueG8pIHtcbiAgICB0aGlzLnhvLmNsb3NlKCk7XG4gICAgZGVidWcoJ2Nsb3NlJyk7XG4gICAgdGhpcy5lbWl0KCdjbG9zZScsIG51bGwsICd1c2VyJyk7XG4gICAgdGhpcy54byA9IG51bGw7XG4gIH1cbiAgdGhpcy5fY2xlYW51cCgpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBYaHJSZWNlaXZlcjtcblxufSkuY2FsbCh0aGlzLHsgZW52OiB7fSB9KVxuXG59LHtcImRlYnVnXCI6NTUsXCJldmVudHNcIjozLFwiaW5oZXJpdHNcIjo1N31dLDMzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAocHJvY2VzcyxnbG9iYWwpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgcmFuZG9tID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvcmFuZG9tJylcbiAgLCB1cmxVdGlscyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL3VybCcpXG4gIDtcblxudmFyIGRlYnVnID0gZnVuY3Rpb24oKSB7fTtcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIGRlYnVnID0gcmVxdWlyZSgnZGVidWcnKSgnc29ja2pzLWNsaWVudDpzZW5kZXI6anNvbnAnKTtcbn1cblxudmFyIGZvcm0sIGFyZWE7XG5cbmZ1bmN0aW9uIGNyZWF0ZUlmcmFtZShpZCkge1xuICBkZWJ1ZygnY3JlYXRlSWZyYW1lJywgaWQpO1xuICB0cnkge1xuICAgIC8vIGllNiBkeW5hbWljIGlmcmFtZXMgd2l0aCB0YXJnZXQ9XCJcIiBzdXBwb3J0ICh0aGFua3MgQ2hyaXMgTGFtYmFjaGVyKVxuICAgIHJldHVybiBnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnPGlmcmFtZSBuYW1lPVwiJyArIGlkICsgJ1wiPicpO1xuICB9IGNhdGNoICh4KSB7XG4gICAgdmFyIGlmcmFtZSA9IGdsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcbiAgICBpZnJhbWUubmFtZSA9IGlkO1xuICAgIHJldHVybiBpZnJhbWU7XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlRm9ybSgpIHtcbiAgZGVidWcoJ2NyZWF0ZUZvcm0nKTtcbiAgZm9ybSA9IGdsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XG4gIGZvcm0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgZm9ybS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gIGZvcm0ubWV0aG9kID0gJ1BPU1QnO1xuICBmb3JtLmVuY3R5cGUgPSAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJztcbiAgZm9ybS5hY2NlcHRDaGFyc2V0ID0gJ1VURi04JztcblxuICBhcmVhID0gZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gIGFyZWEubmFtZSA9ICdkJztcbiAgZm9ybS5hcHBlbmRDaGlsZChhcmVhKTtcblxuICBnbG9iYWwuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmb3JtKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih1cmwsIHBheWxvYWQsIGNhbGxiYWNrKSB7XG4gIGRlYnVnKHVybCwgcGF5bG9hZCk7XG4gIGlmICghZm9ybSkge1xuICAgIGNyZWF0ZUZvcm0oKTtcbiAgfVxuICB2YXIgaWQgPSAnYScgKyByYW5kb20uc3RyaW5nKDgpO1xuICBmb3JtLnRhcmdldCA9IGlkO1xuICBmb3JtLmFjdGlvbiA9IHVybFV0aWxzLmFkZFF1ZXJ5KHVybFV0aWxzLmFkZFBhdGgodXJsLCAnL2pzb25wX3NlbmQnKSwgJ2k9JyArIGlkKTtcblxuICB2YXIgaWZyYW1lID0gY3JlYXRlSWZyYW1lKGlkKTtcbiAgaWZyYW1lLmlkID0gaWQ7XG4gIGlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICBmb3JtLmFwcGVuZENoaWxkKGlmcmFtZSk7XG5cbiAgdHJ5IHtcbiAgICBhcmVhLnZhbHVlID0gcGF5bG9hZDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIHNlcmlvdXNseSBicm9rZW4gYnJvd3NlcnMgZ2V0IGhlcmVcbiAgfVxuICBmb3JtLnN1Ym1pdCgpO1xuXG4gIHZhciBjb21wbGV0ZWQgPSBmdW5jdGlvbihlcnIpIHtcbiAgICBkZWJ1ZygnY29tcGxldGVkJywgaWQsIGVycik7XG4gICAgaWYgKCFpZnJhbWUub25lcnJvcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZnJhbWUub25yZWFkeXN0YXRlY2hhbmdlID0gaWZyYW1lLm9uZXJyb3IgPSBpZnJhbWUub25sb2FkID0gbnVsbDtcbiAgICAvLyBPcGVyYSBtaW5pIGRvZXNuJ3QgbGlrZSBpZiB3ZSBHQyBpZnJhbWVcbiAgICAvLyBpbW1lZGlhdGVseSwgdGh1cyB0aGlzIHRpbWVvdXQuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGRlYnVnKCdjbGVhbmluZyB1cCcsIGlkKTtcbiAgICAgIGlmcmFtZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGlmcmFtZSk7XG4gICAgICBpZnJhbWUgPSBudWxsO1xuICAgIH0sIDUwMCk7XG4gICAgYXJlYS52YWx1ZSA9ICcnO1xuICAgIC8vIEl0IGlzIG5vdCBwb3NzaWJsZSB0byBkZXRlY3QgaWYgdGhlIGlmcmFtZSBzdWNjZWVkZWQgb3JcbiAgICAvLyBmYWlsZWQgdG8gc3VibWl0IG91ciBmb3JtLlxuICAgIGNhbGxiYWNrKGVycik7XG4gIH07XG4gIGlmcmFtZS5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgZGVidWcoJ29uZXJyb3InLCBpZCk7XG4gICAgY29tcGxldGVkKCk7XG4gIH07XG4gIGlmcmFtZS5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICBkZWJ1Zygnb25sb2FkJywgaWQpO1xuICAgIGNvbXBsZXRlZCgpO1xuICB9O1xuICBpZnJhbWUub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oZSkge1xuICAgIGRlYnVnKCdvbnJlYWR5c3RhdGVjaGFuZ2UnLCBpZCwgaWZyYW1lLnJlYWR5U3RhdGUsIGUpO1xuICAgIGlmIChpZnJhbWUucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgY29tcGxldGVkKCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgZGVidWcoJ2Fib3J0ZWQnLCBpZCk7XG4gICAgY29tcGxldGVkKG5ldyBFcnJvcignQWJvcnRlZCcpKTtcbiAgfTtcbn07XG5cbn0pLmNhbGwodGhpcyx7IGVudjoge30gfSx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxuXG59LHtcIi4uLy4uL3V0aWxzL3JhbmRvbVwiOjUwLFwiLi4vLi4vdXRpbHMvdXJsXCI6NTIsXCJkZWJ1Z1wiOjU1fV0sMzQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChwcm9jZXNzLGdsb2JhbCl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXJcbiAgLCBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbiAgLCBldmVudFV0aWxzID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvZXZlbnQnKVxuICAsIGJyb3dzZXIgPSByZXF1aXJlKCcuLi8uLi91dGlscy9icm93c2VyJylcbiAgLCB1cmxVdGlscyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL3VybCcpXG4gIDtcblxudmFyIGRlYnVnID0gZnVuY3Rpb24oKSB7fTtcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIGRlYnVnID0gcmVxdWlyZSgnZGVidWcnKSgnc29ja2pzLWNsaWVudDpzZW5kZXI6eGRyJyk7XG59XG5cbi8vIFJlZmVyZW5jZXM6XG4vLyAgIGh0dHA6Ly9hamF4aWFuLmNvbS9hcmNoaXZlcy8xMDAtbGluZS1hamF4LXdyYXBwZXJcbi8vICAgaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2NjMjg4MDYwKHY9VlMuODUpLmFzcHhcblxuZnVuY3Rpb24gWERST2JqZWN0KG1ldGhvZCwgdXJsLCBwYXlsb2FkKSB7XG4gIGRlYnVnKG1ldGhvZCwgdXJsKTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgIHNlbGYuX3N0YXJ0KG1ldGhvZCwgdXJsLCBwYXlsb2FkKTtcbiAgfSwgMCk7XG59XG5cbmluaGVyaXRzKFhEUk9iamVjdCwgRXZlbnRFbWl0dGVyKTtcblxuWERST2JqZWN0LnByb3RvdHlwZS5fc3RhcnQgPSBmdW5jdGlvbihtZXRob2QsIHVybCwgcGF5bG9hZCkge1xuICBkZWJ1ZygnX3N0YXJ0Jyk7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIHhkciA9IG5ldyBnbG9iYWwuWERvbWFpblJlcXVlc3QoKTtcbiAgLy8gSUUgY2FjaGVzIGV2ZW4gUE9TVHNcbiAgdXJsID0gdXJsVXRpbHMuYWRkUXVlcnkodXJsLCAndD0nICsgKCtuZXcgRGF0ZSgpKSk7XG5cbiAgeGRyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICBkZWJ1Zygnb25lcnJvcicpO1xuICAgIHNlbGYuX2Vycm9yKCk7XG4gIH07XG4gIHhkci5vbnRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICBkZWJ1Zygnb250aW1lb3V0Jyk7XG4gICAgc2VsZi5fZXJyb3IoKTtcbiAgfTtcbiAgeGRyLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbigpIHtcbiAgICBkZWJ1ZygncHJvZ3Jlc3MnLCB4ZHIucmVzcG9uc2VUZXh0KTtcbiAgICBzZWxmLmVtaXQoJ2NodW5rJywgMjAwLCB4ZHIucmVzcG9uc2VUZXh0KTtcbiAgfTtcbiAgeGRyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgIGRlYnVnKCdsb2FkJyk7XG4gICAgc2VsZi5lbWl0KCdmaW5pc2gnLCAyMDAsIHhkci5yZXNwb25zZVRleHQpO1xuICAgIHNlbGYuX2NsZWFudXAoZmFsc2UpO1xuICB9O1xuICB0aGlzLnhkciA9IHhkcjtcbiAgdGhpcy51bmxvYWRSZWYgPSBldmVudFV0aWxzLnVubG9hZEFkZChmdW5jdGlvbigpIHtcbiAgICBzZWxmLl9jbGVhbnVwKHRydWUpO1xuICB9KTtcbiAgdHJ5IHtcbiAgICAvLyBGYWlscyB3aXRoIEFjY2Vzc0RlbmllZCBpZiBwb3J0IG51bWJlciBpcyBib2d1c1xuICAgIHRoaXMueGRyLm9wZW4obWV0aG9kLCB1cmwpO1xuICAgIGlmICh0aGlzLnRpbWVvdXQpIHtcbiAgICAgIHRoaXMueGRyLnRpbWVvdXQgPSB0aGlzLnRpbWVvdXQ7XG4gICAgfVxuICAgIHRoaXMueGRyLnNlbmQocGF5bG9hZCk7XG4gIH0gY2F0Y2ggKHgpIHtcbiAgICB0aGlzLl9lcnJvcigpO1xuICB9XG59O1xuXG5YRFJPYmplY3QucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmVtaXQoJ2ZpbmlzaCcsIDAsICcnKTtcbiAgdGhpcy5fY2xlYW51cChmYWxzZSk7XG59O1xuXG5YRFJPYmplY3QucHJvdG90eXBlLl9jbGVhbnVwID0gZnVuY3Rpb24oYWJvcnQpIHtcbiAgZGVidWcoJ2NsZWFudXAnLCBhYm9ydCk7XG4gIGlmICghdGhpcy54ZHIpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgZXZlbnRVdGlscy51bmxvYWREZWwodGhpcy51bmxvYWRSZWYpO1xuXG4gIHRoaXMueGRyLm9udGltZW91dCA9IHRoaXMueGRyLm9uZXJyb3IgPSB0aGlzLnhkci5vbnByb2dyZXNzID0gdGhpcy54ZHIub25sb2FkID0gbnVsbDtcbiAgaWYgKGFib3J0KSB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMueGRyLmFib3J0KCk7XG4gICAgfSBjYXRjaCAoeCkge1xuICAgICAgLy8gaW50ZW50aW9uYWxseSBlbXB0eVxuICAgIH1cbiAgfVxuICB0aGlzLnVubG9hZFJlZiA9IHRoaXMueGRyID0gbnVsbDtcbn07XG5cblhEUk9iamVjdC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgZGVidWcoJ2Nsb3NlJyk7XG4gIHRoaXMuX2NsZWFudXAodHJ1ZSk7XG59O1xuXG4vLyBJRSA4LzkgaWYgdGhlIHJlcXVlc3QgdGFyZ2V0IHVzZXMgdGhlIHNhbWUgc2NoZW1lIC0gIzc5XG5YRFJPYmplY3QuZW5hYmxlZCA9ICEhKGdsb2JhbC5YRG9tYWluUmVxdWVzdCAmJiBicm93c2VyLmhhc0RvbWFpbigpKTtcblxubW9kdWxlLmV4cG9ydHMgPSBYRFJPYmplY3Q7XG5cbn0pLmNhbGwodGhpcyx7IGVudjoge30gfSx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxuXG59LHtcIi4uLy4uL3V0aWxzL2Jyb3dzZXJcIjo0NCxcIi4uLy4uL3V0aWxzL2V2ZW50XCI6NDYsXCIuLi8uLi91dGlscy91cmxcIjo1MixcImRlYnVnXCI6NTUsXCJldmVudHNcIjozLFwiaW5oZXJpdHNcIjo1N31dLDM1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxuICAsIFhockRyaXZlciA9IHJlcXVpcmUoJy4uL2RyaXZlci94aHInKVxuICA7XG5cbmZ1bmN0aW9uIFhIUkNvcnNPYmplY3QobWV0aG9kLCB1cmwsIHBheWxvYWQsIG9wdHMpIHtcbiAgWGhyRHJpdmVyLmNhbGwodGhpcywgbWV0aG9kLCB1cmwsIHBheWxvYWQsIG9wdHMpO1xufVxuXG5pbmhlcml0cyhYSFJDb3JzT2JqZWN0LCBYaHJEcml2ZXIpO1xuXG5YSFJDb3JzT2JqZWN0LmVuYWJsZWQgPSBYaHJEcml2ZXIuZW5hYmxlZCAmJiBYaHJEcml2ZXIuc3VwcG9ydHNDT1JTO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFhIUkNvcnNPYmplY3Q7XG5cbn0se1wiLi4vZHJpdmVyL3hoclwiOjE3LFwiaW5oZXJpdHNcIjo1N31dLDM2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlclxuICAsIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxuICA7XG5cbmZ1bmN0aW9uIFhIUkZha2UoLyogbWV0aG9kLCB1cmwsIHBheWxvYWQsIG9wdHMgKi8pIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICB0aGlzLnRvID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICBzZWxmLmVtaXQoJ2ZpbmlzaCcsIDIwMCwgJ3t9Jyk7XG4gIH0sIFhIUkZha2UudGltZW91dCk7XG59XG5cbmluaGVyaXRzKFhIUkZha2UsIEV2ZW50RW1pdHRlcik7XG5cblhIUkZha2UucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gIGNsZWFyVGltZW91dCh0aGlzLnRvKTtcbn07XG5cblhIUkZha2UudGltZW91dCA9IDIwMDA7XG5cbm1vZHVsZS5leHBvcnRzID0gWEhSRmFrZTtcblxufSx7XCJldmVudHNcIjozLFwiaW5oZXJpdHNcIjo1N31dLDM3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxuICAsIFhockRyaXZlciA9IHJlcXVpcmUoJy4uL2RyaXZlci94aHInKVxuICA7XG5cbmZ1bmN0aW9uIFhIUkxvY2FsT2JqZWN0KG1ldGhvZCwgdXJsLCBwYXlsb2FkIC8qLCBvcHRzICovKSB7XG4gIFhockRyaXZlci5jYWxsKHRoaXMsIG1ldGhvZCwgdXJsLCBwYXlsb2FkLCB7XG4gICAgbm9DcmVkZW50aWFsczogdHJ1ZVxuICB9KTtcbn1cblxuaW5oZXJpdHMoWEhSTG9jYWxPYmplY3QsIFhockRyaXZlcik7XG5cblhIUkxvY2FsT2JqZWN0LmVuYWJsZWQgPSBYaHJEcml2ZXIuZW5hYmxlZDtcblxubW9kdWxlLmV4cG9ydHMgPSBYSFJMb2NhbE9iamVjdDtcblxufSx7XCIuLi9kcml2ZXIveGhyXCI6MTcsXCJpbmhlcml0c1wiOjU3fV0sMzg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChwcm9jZXNzKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMvZXZlbnQnKVxuICAsIHVybFV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMvdXJsJylcbiAgLCBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbiAgLCBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXJcbiAgLCBXZWJzb2NrZXREcml2ZXIgPSByZXF1aXJlKCcuL2RyaXZlci93ZWJzb2NrZXQnKVxuICA7XG5cbnZhciBkZWJ1ZyA9IGZ1bmN0aW9uKCkge307XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBkZWJ1ZyA9IHJlcXVpcmUoJ2RlYnVnJykoJ3NvY2tqcy1jbGllbnQ6d2Vic29ja2V0Jyk7XG59XG5cbmZ1bmN0aW9uIFdlYlNvY2tldFRyYW5zcG9ydCh0cmFuc1VybCwgaWdub3JlLCBvcHRpb25zKSB7XG4gIGlmICghV2ViU29ja2V0VHJhbnNwb3J0LmVuYWJsZWQoKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignVHJhbnNwb3J0IGNyZWF0ZWQgd2hlbiBkaXNhYmxlZCcpO1xuICB9XG5cbiAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG4gIGRlYnVnKCdjb25zdHJ1Y3RvcicsIHRyYW5zVXJsKTtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciB1cmwgPSB1cmxVdGlscy5hZGRQYXRoKHRyYW5zVXJsLCAnL3dlYnNvY2tldCcpO1xuICBpZiAodXJsLnNsaWNlKDAsIDUpID09PSAnaHR0cHMnKSB7XG4gICAgdXJsID0gJ3dzcycgKyB1cmwuc2xpY2UoNSk7XG4gIH0gZWxzZSB7XG4gICAgdXJsID0gJ3dzJyArIHVybC5zbGljZSg0KTtcbiAgfVxuICB0aGlzLnVybCA9IHVybDtcblxuICB0aGlzLndzID0gbmV3IFdlYnNvY2tldERyaXZlcih0aGlzLnVybCwgW10sIG9wdGlvbnMpO1xuICB0aGlzLndzLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICBkZWJ1ZygnbWVzc2FnZSBldmVudCcsIGUuZGF0YSk7XG4gICAgc2VsZi5lbWl0KCdtZXNzYWdlJywgZS5kYXRhKTtcbiAgfTtcbiAgLy8gRmlyZWZveCBoYXMgYW4gaW50ZXJlc3RpbmcgYnVnLiBJZiBhIHdlYnNvY2tldCBjb25uZWN0aW9uIGlzXG4gIC8vIGNyZWF0ZWQgYWZ0ZXIgb251bmxvYWQsIGl0IHN0YXlzIGFsaXZlIGV2ZW4gd2hlbiB1c2VyXG4gIC8vIG5hdmlnYXRlcyBhd2F5IGZyb20gdGhlIHBhZ2UuIEluIHN1Y2ggc2l0dWF0aW9uIGxldCdzIGxpZSAtXG4gIC8vIGxldCdzIG5vdCBvcGVuIHRoZSB3cyBjb25uZWN0aW9uIGF0IGFsbC4gU2VlOlxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vc29ja2pzL3NvY2tqcy1jbGllbnQvaXNzdWVzLzI4XG4gIC8vIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY5NjA4NVxuICB0aGlzLnVubG9hZFJlZiA9IHV0aWxzLnVubG9hZEFkZChmdW5jdGlvbigpIHtcbiAgICBkZWJ1ZygndW5sb2FkJyk7XG4gICAgc2VsZi53cy5jbG9zZSgpO1xuICB9KTtcbiAgdGhpcy53cy5vbmNsb3NlID0gZnVuY3Rpb24oZSkge1xuICAgIGRlYnVnKCdjbG9zZSBldmVudCcsIGUuY29kZSwgZS5yZWFzb24pO1xuICAgIHNlbGYuZW1pdCgnY2xvc2UnLCBlLmNvZGUsIGUucmVhc29uKTtcbiAgICBzZWxmLl9jbGVhbnVwKCk7XG4gIH07XG4gIHRoaXMud3Mub25lcnJvciA9IGZ1bmN0aW9uKGUpIHtcbiAgICBkZWJ1ZygnZXJyb3IgZXZlbnQnLCBlKTtcbiAgICBzZWxmLmVtaXQoJ2Nsb3NlJywgMTAwNiwgJ1dlYlNvY2tldCBjb25uZWN0aW9uIGJyb2tlbicpO1xuICAgIHNlbGYuX2NsZWFudXAoKTtcbiAgfTtcbn1cblxuaW5oZXJpdHMoV2ViU29ja2V0VHJhbnNwb3J0LCBFdmVudEVtaXR0ZXIpO1xuXG5XZWJTb2NrZXRUcmFuc3BvcnQucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbihkYXRhKSB7XG4gIHZhciBtc2cgPSAnWycgKyBkYXRhICsgJ10nO1xuICBkZWJ1Zygnc2VuZCcsIG1zZyk7XG4gIHRoaXMud3Muc2VuZChtc2cpO1xufTtcblxuV2ViU29ja2V0VHJhbnNwb3J0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICBkZWJ1ZygnY2xvc2UnKTtcbiAgdmFyIHdzID0gdGhpcy53cztcbiAgdGhpcy5fY2xlYW51cCgpO1xuICBpZiAod3MpIHtcbiAgICB3cy5jbG9zZSgpO1xuICB9XG59O1xuXG5XZWJTb2NrZXRUcmFuc3BvcnQucHJvdG90eXBlLl9jbGVhbnVwID0gZnVuY3Rpb24oKSB7XG4gIGRlYnVnKCdfY2xlYW51cCcpO1xuICB2YXIgd3MgPSB0aGlzLndzO1xuICBpZiAod3MpIHtcbiAgICB3cy5vbm1lc3NhZ2UgPSB3cy5vbmNsb3NlID0gd3Mub25lcnJvciA9IG51bGw7XG4gIH1cbiAgdXRpbHMudW5sb2FkRGVsKHRoaXMudW5sb2FkUmVmKTtcbiAgdGhpcy51bmxvYWRSZWYgPSB0aGlzLndzID0gbnVsbDtcbiAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbn07XG5cbldlYlNvY2tldFRyYW5zcG9ydC5lbmFibGVkID0gZnVuY3Rpb24oKSB7XG4gIGRlYnVnKCdlbmFibGVkJyk7XG4gIHJldHVybiAhIVdlYnNvY2tldERyaXZlcjtcbn07XG5XZWJTb2NrZXRUcmFuc3BvcnQudHJhbnNwb3J0TmFtZSA9ICd3ZWJzb2NrZXQnO1xuXG4vLyBJbiB0aGVvcnksIHdzIHNob3VsZCByZXF1aXJlIDEgcm91bmQgdHJpcC4gQnV0IGluIGNocm9tZSwgdGhpcyBpc1xuLy8gbm90IHZlcnkgc3RhYmxlIG92ZXIgU1NMLiBNb3N0IGxpa2VseSBhIHdzIGNvbm5lY3Rpb24gcmVxdWlyZXMgYVxuLy8gc2VwYXJhdGUgU1NMIGNvbm5lY3Rpb24sIGluIHdoaWNoIGNhc2UgMiByb3VuZCB0cmlwcyBhcmUgYW5cbi8vIGFic29sdXRlIG1pbnVtdW0uXG5XZWJTb2NrZXRUcmFuc3BvcnQucm91bmRUcmlwcyA9IDI7XG5cbm1vZHVsZS5leHBvcnRzID0gV2ViU29ja2V0VHJhbnNwb3J0O1xuXG59KS5jYWxsKHRoaXMseyBlbnY6IHt9IH0pXG5cbn0se1wiLi4vdXRpbHMvZXZlbnRcIjo0NixcIi4uL3V0aWxzL3VybFwiOjUyLFwiLi9kcml2ZXIvd2Vic29ja2V0XCI6MTksXCJkZWJ1Z1wiOjU1LFwiZXZlbnRzXCI6MyxcImluaGVyaXRzXCI6NTd9XSwzOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbiAgLCBBamF4QmFzZWRUcmFuc3BvcnQgPSByZXF1aXJlKCcuL2xpYi9hamF4LWJhc2VkJylcbiAgLCBYZHJTdHJlYW1pbmdUcmFuc3BvcnQgPSByZXF1aXJlKCcuL3hkci1zdHJlYW1pbmcnKVxuICAsIFhoclJlY2VpdmVyID0gcmVxdWlyZSgnLi9yZWNlaXZlci94aHInKVxuICAsIFhEUk9iamVjdCA9IHJlcXVpcmUoJy4vc2VuZGVyL3hkcicpXG4gIDtcblxuZnVuY3Rpb24gWGRyUG9sbGluZ1RyYW5zcG9ydCh0cmFuc1VybCkge1xuICBpZiAoIVhEUk9iamVjdC5lbmFibGVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdUcmFuc3BvcnQgY3JlYXRlZCB3aGVuIGRpc2FibGVkJyk7XG4gIH1cbiAgQWpheEJhc2VkVHJhbnNwb3J0LmNhbGwodGhpcywgdHJhbnNVcmwsICcveGhyJywgWGhyUmVjZWl2ZXIsIFhEUk9iamVjdCk7XG59XG5cbmluaGVyaXRzKFhkclBvbGxpbmdUcmFuc3BvcnQsIEFqYXhCYXNlZFRyYW5zcG9ydCk7XG5cblhkclBvbGxpbmdUcmFuc3BvcnQuZW5hYmxlZCA9IFhkclN0cmVhbWluZ1RyYW5zcG9ydC5lbmFibGVkO1xuWGRyUG9sbGluZ1RyYW5zcG9ydC50cmFuc3BvcnROYW1lID0gJ3hkci1wb2xsaW5nJztcblhkclBvbGxpbmdUcmFuc3BvcnQucm91bmRUcmlwcyA9IDI7IC8vIHByZWZsaWdodCwgYWpheFxuXG5tb2R1bGUuZXhwb3J0cyA9IFhkclBvbGxpbmdUcmFuc3BvcnQ7XG5cbn0se1wiLi9saWIvYWpheC1iYXNlZFwiOjI0LFwiLi9yZWNlaXZlci94aHJcIjozMixcIi4vc2VuZGVyL3hkclwiOjM0LFwiLi94ZHItc3RyZWFtaW5nXCI6NDAsXCJpbmhlcml0c1wiOjU3fV0sNDA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG4gICwgQWpheEJhc2VkVHJhbnNwb3J0ID0gcmVxdWlyZSgnLi9saWIvYWpheC1iYXNlZCcpXG4gICwgWGhyUmVjZWl2ZXIgPSByZXF1aXJlKCcuL3JlY2VpdmVyL3hocicpXG4gICwgWERST2JqZWN0ID0gcmVxdWlyZSgnLi9zZW5kZXIveGRyJylcbiAgO1xuXG4vLyBBY2NvcmRpbmcgdG86XG4vLyAgIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTY0MTUwNy9kZXRlY3QtYnJvd3Nlci1zdXBwb3J0LWZvci1jcm9zcy1kb21haW4teG1saHR0cHJlcXVlc3RzXG4vLyAgIGh0dHA6Ly9oYWNrcy5tb3ppbGxhLm9yZy8yMDA5LzA3L2Nyb3NzLXNpdGUteG1saHR0cHJlcXVlc3Qtd2l0aC1jb3JzL1xuXG5mdW5jdGlvbiBYZHJTdHJlYW1pbmdUcmFuc3BvcnQodHJhbnNVcmwpIHtcbiAgaWYgKCFYRFJPYmplY3QuZW5hYmxlZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignVHJhbnNwb3J0IGNyZWF0ZWQgd2hlbiBkaXNhYmxlZCcpO1xuICB9XG4gIEFqYXhCYXNlZFRyYW5zcG9ydC5jYWxsKHRoaXMsIHRyYW5zVXJsLCAnL3hocl9zdHJlYW1pbmcnLCBYaHJSZWNlaXZlciwgWERST2JqZWN0KTtcbn1cblxuaW5oZXJpdHMoWGRyU3RyZWFtaW5nVHJhbnNwb3J0LCBBamF4QmFzZWRUcmFuc3BvcnQpO1xuXG5YZHJTdHJlYW1pbmdUcmFuc3BvcnQuZW5hYmxlZCA9IGZ1bmN0aW9uKGluZm8pIHtcbiAgaWYgKGluZm8uY29va2llX25lZWRlZCB8fCBpbmZvLm51bGxPcmlnaW4pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIFhEUk9iamVjdC5lbmFibGVkICYmIGluZm8uc2FtZVNjaGVtZTtcbn07XG5cblhkclN0cmVhbWluZ1RyYW5zcG9ydC50cmFuc3BvcnROYW1lID0gJ3hkci1zdHJlYW1pbmcnO1xuWGRyU3RyZWFtaW5nVHJhbnNwb3J0LnJvdW5kVHJpcHMgPSAyOyAvLyBwcmVmbGlnaHQsIGFqYXhcblxubW9kdWxlLmV4cG9ydHMgPSBYZHJTdHJlYW1pbmdUcmFuc3BvcnQ7XG5cbn0se1wiLi9saWIvYWpheC1iYXNlZFwiOjI0LFwiLi9yZWNlaXZlci94aHJcIjozMixcIi4vc2VuZGVyL3hkclwiOjM0LFwiaW5oZXJpdHNcIjo1N31dLDQxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxuICAsIEFqYXhCYXNlZFRyYW5zcG9ydCA9IHJlcXVpcmUoJy4vbGliL2FqYXgtYmFzZWQnKVxuICAsIFhoclJlY2VpdmVyID0gcmVxdWlyZSgnLi9yZWNlaXZlci94aHInKVxuICAsIFhIUkNvcnNPYmplY3QgPSByZXF1aXJlKCcuL3NlbmRlci94aHItY29ycycpXG4gICwgWEhSTG9jYWxPYmplY3QgPSByZXF1aXJlKCcuL3NlbmRlci94aHItbG9jYWwnKVxuICA7XG5cbmZ1bmN0aW9uIFhoclBvbGxpbmdUcmFuc3BvcnQodHJhbnNVcmwpIHtcbiAgaWYgKCFYSFJMb2NhbE9iamVjdC5lbmFibGVkICYmICFYSFJDb3JzT2JqZWN0LmVuYWJsZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1RyYW5zcG9ydCBjcmVhdGVkIHdoZW4gZGlzYWJsZWQnKTtcbiAgfVxuICBBamF4QmFzZWRUcmFuc3BvcnQuY2FsbCh0aGlzLCB0cmFuc1VybCwgJy94aHInLCBYaHJSZWNlaXZlciwgWEhSQ29yc09iamVjdCk7XG59XG5cbmluaGVyaXRzKFhoclBvbGxpbmdUcmFuc3BvcnQsIEFqYXhCYXNlZFRyYW5zcG9ydCk7XG5cblhoclBvbGxpbmdUcmFuc3BvcnQuZW5hYmxlZCA9IGZ1bmN0aW9uKGluZm8pIHtcbiAgaWYgKGluZm8ubnVsbE9yaWdpbikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChYSFJMb2NhbE9iamVjdC5lbmFibGVkICYmIGluZm8uc2FtZU9yaWdpbikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBYSFJDb3JzT2JqZWN0LmVuYWJsZWQ7XG59O1xuXG5YaHJQb2xsaW5nVHJhbnNwb3J0LnRyYW5zcG9ydE5hbWUgPSAneGhyLXBvbGxpbmcnO1xuWGhyUG9sbGluZ1RyYW5zcG9ydC5yb3VuZFRyaXBzID0gMjsgLy8gcHJlZmxpZ2h0LCBhamF4XG5cbm1vZHVsZS5leHBvcnRzID0gWGhyUG9sbGluZ1RyYW5zcG9ydDtcblxufSx7XCIuL2xpYi9hamF4LWJhc2VkXCI6MjQsXCIuL3JlY2VpdmVyL3hoclwiOjMyLFwiLi9zZW5kZXIveGhyLWNvcnNcIjozNSxcIi4vc2VuZGVyL3hoci1sb2NhbFwiOjM3LFwiaW5oZXJpdHNcIjo1N31dLDQyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAoZ2xvYmFsKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxuICAsIEFqYXhCYXNlZFRyYW5zcG9ydCA9IHJlcXVpcmUoJy4vbGliL2FqYXgtYmFzZWQnKVxuICAsIFhoclJlY2VpdmVyID0gcmVxdWlyZSgnLi9yZWNlaXZlci94aHInKVxuICAsIFhIUkNvcnNPYmplY3QgPSByZXF1aXJlKCcuL3NlbmRlci94aHItY29ycycpXG4gICwgWEhSTG9jYWxPYmplY3QgPSByZXF1aXJlKCcuL3NlbmRlci94aHItbG9jYWwnKVxuICAsIGJyb3dzZXIgPSByZXF1aXJlKCcuLi91dGlscy9icm93c2VyJylcbiAgO1xuXG5mdW5jdGlvbiBYaHJTdHJlYW1pbmdUcmFuc3BvcnQodHJhbnNVcmwpIHtcbiAgaWYgKCFYSFJMb2NhbE9iamVjdC5lbmFibGVkICYmICFYSFJDb3JzT2JqZWN0LmVuYWJsZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1RyYW5zcG9ydCBjcmVhdGVkIHdoZW4gZGlzYWJsZWQnKTtcbiAgfVxuICBBamF4QmFzZWRUcmFuc3BvcnQuY2FsbCh0aGlzLCB0cmFuc1VybCwgJy94aHJfc3RyZWFtaW5nJywgWGhyUmVjZWl2ZXIsIFhIUkNvcnNPYmplY3QpO1xufVxuXG5pbmhlcml0cyhYaHJTdHJlYW1pbmdUcmFuc3BvcnQsIEFqYXhCYXNlZFRyYW5zcG9ydCk7XG5cblhoclN0cmVhbWluZ1RyYW5zcG9ydC5lbmFibGVkID0gZnVuY3Rpb24oaW5mbykge1xuICBpZiAoaW5mby5udWxsT3JpZ2luKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIE9wZXJhIGRvZXNuJ3Qgc3VwcG9ydCB4aHItc3RyZWFtaW5nICM2MFxuICAvLyBCdXQgaXQgbWlnaHQgYmUgYWJsZSB0byAjOTJcbiAgaWYgKGJyb3dzZXIuaXNPcGVyYSgpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIFhIUkNvcnNPYmplY3QuZW5hYmxlZDtcbn07XG5cblhoclN0cmVhbWluZ1RyYW5zcG9ydC50cmFuc3BvcnROYW1lID0gJ3hoci1zdHJlYW1pbmcnO1xuWGhyU3RyZWFtaW5nVHJhbnNwb3J0LnJvdW5kVHJpcHMgPSAyOyAvLyBwcmVmbGlnaHQsIGFqYXhcblxuLy8gU2FmYXJpIGdldHMgY29uZnVzZWQgd2hlbiBhIHN0cmVhbWluZyBhamF4IHJlcXVlc3QgaXMgc3RhcnRlZFxuLy8gYmVmb3JlIG9ubG9hZC4gVGhpcyBjYXVzZXMgdGhlIGxvYWQgaW5kaWNhdG9yIHRvIHNwaW4gaW5kZWZpbmV0ZWx5LlxuLy8gT25seSByZXF1aXJlIGJvZHkgd2hlbiB1c2VkIGluIGEgYnJvd3NlclxuWGhyU3RyZWFtaW5nVHJhbnNwb3J0Lm5lZWRCb2R5ID0gISFnbG9iYWwuZG9jdW1lbnQ7XG5cbm1vZHVsZS5leHBvcnRzID0gWGhyU3RyZWFtaW5nVHJhbnNwb3J0O1xuXG59KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcblxufSx7XCIuLi91dGlscy9icm93c2VyXCI6NDQsXCIuL2xpYi9hamF4LWJhc2VkXCI6MjQsXCIuL3JlY2VpdmVyL3hoclwiOjMyLFwiLi9zZW5kZXIveGhyLWNvcnNcIjozNSxcIi4vc2VuZGVyL3hoci1sb2NhbFwiOjM3LFwiaW5oZXJpdHNcIjo1N31dLDQzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAoZ2xvYmFsKXtcbid1c2Ugc3RyaWN0JztcblxuaWYgKGdsb2JhbC5jcnlwdG8gJiYgZ2xvYmFsLmNyeXB0by5nZXRSYW5kb21WYWx1ZXMpIHtcbiAgbW9kdWxlLmV4cG9ydHMucmFuZG9tQnl0ZXMgPSBmdW5jdGlvbihsZW5ndGgpIHtcbiAgICB2YXIgYnl0ZXMgPSBuZXcgVWludDhBcnJheShsZW5ndGgpO1xuICAgIGdsb2JhbC5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGJ5dGVzKTtcbiAgICByZXR1cm4gYnl0ZXM7XG4gIH07XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cy5yYW5kb21CeXRlcyA9IGZ1bmN0aW9uKGxlbmd0aCkge1xuICAgIHZhciBieXRlcyA9IG5ldyBBcnJheShsZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGJ5dGVzW2ldID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjU2KTtcbiAgICB9XG4gICAgcmV0dXJuIGJ5dGVzO1xuICB9O1xufVxuXG59KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcblxufSx7fV0sNDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChnbG9iYWwpe1xuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaXNPcGVyYTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGdsb2JhbC5uYXZpZ2F0b3IgJiZcbiAgICAgIC9vcGVyYS9pLnRlc3QoZ2xvYmFsLm5hdmlnYXRvci51c2VyQWdlbnQpO1xuICB9XG5cbiwgaXNLb25xdWVyb3I6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBnbG9iYWwubmF2aWdhdG9yICYmXG4gICAgICAva29ucXVlcm9yL2kudGVzdChnbG9iYWwubmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gIH1cblxuICAvLyAjMTg3IHdyYXAgZG9jdW1lbnQuZG9tYWluIGluIHRyeS9jYXRjaCBiZWNhdXNlIG9mIFdQOCBmcm9tIGZpbGU6Ly8vXG4sIGhhc0RvbWFpbjogZnVuY3Rpb24gKCkge1xuICAgIC8vIG5vbi1icm93c2VyIGNsaWVudCBhbHdheXMgaGFzIGEgZG9tYWluXG4gICAgaWYgKCFnbG9iYWwuZG9jdW1lbnQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gISFnbG9iYWwuZG9jdW1lbnQuZG9tYWluO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbn07XG5cbn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxuXG59LHt9XSw0NTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBKU09OMyA9IHJlcXVpcmUoJ2pzb24zJyk7XG5cbi8vIFNvbWUgZXh0cmEgY2hhcmFjdGVycyB0aGF0IENocm9tZSBnZXRzIHdyb25nLCBhbmQgc3Vic3RpdHV0ZXMgd2l0aFxuLy8gc29tZXRoaW5nIGVsc2Ugb24gdGhlIHdpcmUuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udHJvbC1yZWdleFxudmFyIGV4dHJhRXNjYXBhYmxlID0gL1tcXHgwMC1cXHgxZlxcdWQ4MDAtXFx1ZGZmZlxcdWZmZmVcXHVmZmZmXFx1MDMwMC1cXHUwMzMzXFx1MDMzZC1cXHUwMzQ2XFx1MDM0YS1cXHUwMzRjXFx1MDM1MC1cXHUwMzUyXFx1MDM1Ny1cXHUwMzU4XFx1MDM1Yy1cXHUwMzYyXFx1MDM3NFxcdTAzN2VcXHUwMzg3XFx1MDU5MS1cXHUwNWFmXFx1MDVjNFxcdTA2MTAtXFx1MDYxN1xcdTA2NTMtXFx1MDY1NFxcdTA2NTctXFx1MDY1YlxcdTA2NWQtXFx1MDY1ZVxcdTA2ZGYtXFx1MDZlMlxcdTA2ZWItXFx1MDZlY1xcdTA3MzBcXHUwNzMyLVxcdTA3MzNcXHUwNzM1LVxcdTA3MzZcXHUwNzNhXFx1MDczZFxcdTA3M2YtXFx1MDc0MVxcdTA3NDNcXHUwNzQ1XFx1MDc0N1xcdTA3ZWItXFx1MDdmMVxcdTA5NTFcXHUwOTU4LVxcdTA5NWZcXHUwOWRjLVxcdTA5ZGRcXHUwOWRmXFx1MGEzM1xcdTBhMzZcXHUwYTU5LVxcdTBhNWJcXHUwYTVlXFx1MGI1Yy1cXHUwYjVkXFx1MGUzOC1cXHUwZTM5XFx1MGY0M1xcdTBmNGRcXHUwZjUyXFx1MGY1N1xcdTBmNWNcXHUwZjY5XFx1MGY3Mi1cXHUwZjc2XFx1MGY3OFxcdTBmODAtXFx1MGY4M1xcdTBmOTNcXHUwZjlkXFx1MGZhMlxcdTBmYTdcXHUwZmFjXFx1MGZiOVxcdTE5MzktXFx1MTkzYVxcdTFhMTdcXHUxYjZiXFx1MWNkYS1cXHUxY2RiXFx1MWRjMC1cXHUxZGNmXFx1MWRmY1xcdTFkZmVcXHUxZjcxXFx1MWY3M1xcdTFmNzVcXHUxZjc3XFx1MWY3OVxcdTFmN2JcXHUxZjdkXFx1MWZiYlxcdTFmYmVcXHUxZmM5XFx1MWZjYlxcdTFmZDNcXHUxZmRiXFx1MWZlM1xcdTFmZWJcXHUxZmVlLVxcdTFmZWZcXHUxZmY5XFx1MWZmYlxcdTFmZmRcXHUyMDAwLVxcdTIwMDFcXHUyMGQwLVxcdTIwZDFcXHUyMGQ0LVxcdTIwZDdcXHUyMGU3LVxcdTIwZTlcXHUyMTI2XFx1MjEyYS1cXHUyMTJiXFx1MjMyOS1cXHUyMzJhXFx1MmFkY1xcdTMwMmItXFx1MzAyY1xcdWFhYjItXFx1YWFiM1xcdWY5MDAtXFx1ZmEwZFxcdWZhMTBcXHVmYTEyXFx1ZmExNS1cXHVmYTFlXFx1ZmEyMFxcdWZhMjJcXHVmYTI1LVxcdWZhMjZcXHVmYTJhLVxcdWZhMmRcXHVmYTMwLVxcdWZhNmRcXHVmYTcwLVxcdWZhZDlcXHVmYjFkXFx1ZmIxZlxcdWZiMmEtXFx1ZmIzNlxcdWZiMzgtXFx1ZmIzY1xcdWZiM2VcXHVmYjQwLVxcdWZiNDFcXHVmYjQzLVxcdWZiNDRcXHVmYjQ2LVxcdWZiNGVcXHVmZmYwLVxcdWZmZmZdL2dcbiAgLCBleHRyYUxvb2t1cDtcblxuLy8gVGhpcyBtYXkgYmUgcXVpdGUgc2xvdywgc28gbGV0J3MgZGVsYXkgdW50aWwgdXNlciBhY3R1YWxseSB1c2VzIGJhZFxuLy8gY2hhcmFjdGVycy5cbnZhciB1bnJvbGxMb29rdXAgPSBmdW5jdGlvbihlc2NhcGFibGUpIHtcbiAgdmFyIGk7XG4gIHZhciB1bnJvbGxlZCA9IHt9O1xuICB2YXIgYyA9IFtdO1xuICBmb3IgKGkgPSAwOyBpIDwgNjU1MzY7IGkrKykge1xuICAgIGMucHVzaCggU3RyaW5nLmZyb21DaGFyQ29kZShpKSApO1xuICB9XG4gIGVzY2FwYWJsZS5sYXN0SW5kZXggPSAwO1xuICBjLmpvaW4oJycpLnJlcGxhY2UoZXNjYXBhYmxlLCBmdW5jdGlvbihhKSB7XG4gICAgdW5yb2xsZWRbIGEgXSA9ICdcXFxcdScgKyAoJzAwMDAnICsgYS5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpO1xuICAgIHJldHVybiAnJztcbiAgfSk7XG4gIGVzY2FwYWJsZS5sYXN0SW5kZXggPSAwO1xuICByZXR1cm4gdW5yb2xsZWQ7XG59O1xuXG4vLyBRdW90ZSBzdHJpbmcsIGFsc28gdGFraW5nIGNhcmUgb2YgdW5pY29kZSBjaGFyYWN0ZXJzIHRoYXQgYnJvd3NlcnNcbi8vIG9mdGVuIGJyZWFrLiBFc3BlY2lhbGx5LCB0YWtlIGNhcmUgb2YgdW5pY29kZSBzdXJyb2dhdGVzOlxuLy8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9NYXBwaW5nX29mX1VuaWNvZGVfY2hhcmFjdGVycyNTdXJyb2dhdGVzXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgcXVvdGU6IGZ1bmN0aW9uKHN0cmluZykge1xuICAgIHZhciBxdW90ZWQgPSBKU09OMy5zdHJpbmdpZnkoc3RyaW5nKTtcblxuICAgIC8vIEluIG1vc3QgY2FzZXMgdGhpcyBzaG91bGQgYmUgdmVyeSBmYXN0IGFuZCBnb29kIGVub3VnaC5cbiAgICBleHRyYUVzY2FwYWJsZS5sYXN0SW5kZXggPSAwO1xuICAgIGlmICghZXh0cmFFc2NhcGFibGUudGVzdChxdW90ZWQpKSB7XG4gICAgICByZXR1cm4gcXVvdGVkO1xuICAgIH1cblxuICAgIGlmICghZXh0cmFMb29rdXApIHtcbiAgICAgIGV4dHJhTG9va3VwID0gdW5yb2xsTG9va3VwKGV4dHJhRXNjYXBhYmxlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcXVvdGVkLnJlcGxhY2UoZXh0cmFFc2NhcGFibGUsIGZ1bmN0aW9uKGEpIHtcbiAgICAgIHJldHVybiBleHRyYUxvb2t1cFthXTtcbiAgICB9KTtcbiAgfVxufTtcblxufSx7XCJqc29uM1wiOjU4fV0sNDY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChnbG9iYWwpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgcmFuZG9tID0gcmVxdWlyZSgnLi9yYW5kb20nKTtcblxudmFyIG9uVW5sb2FkID0ge31cbiAgLCBhZnRlclVubG9hZCA9IGZhbHNlXG4gICAgLy8gZGV0ZWN0IGdvb2dsZSBjaHJvbWUgcGFja2FnZWQgYXBwcyBiZWNhdXNlIHRoZXkgZG9uJ3QgYWxsb3cgdGhlICd1bmxvYWQnIGV2ZW50XG4gICwgaXNDaHJvbWVQYWNrYWdlZEFwcCA9IGdsb2JhbC5jaHJvbWUgJiYgZ2xvYmFsLmNocm9tZS5hcHAgJiYgZ2xvYmFsLmNocm9tZS5hcHAucnVudGltZVxuICA7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBhdHRhY2hFdmVudDogZnVuY3Rpb24oZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgaWYgKHR5cGVvZiBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lciwgZmFsc2UpO1xuICAgIH0gZWxzZSBpZiAoZ2xvYmFsLmRvY3VtZW50ICYmIGdsb2JhbC5hdHRhY2hFdmVudCkge1xuICAgICAgLy8gSUUgcXVpcmtzLlxuICAgICAgLy8gQWNjb3JkaW5nIHRvOiBodHRwOi8vc3RldmVzb3VkZXJzLmNvbS9taXNjL3Rlc3QtcG9zdG1lc3NhZ2UucGhwXG4gICAgICAvLyB0aGUgbWVzc2FnZSBnZXRzIGRlbGl2ZXJlZCBvbmx5IHRvICdkb2N1bWVudCcsIG5vdCAnd2luZG93Jy5cbiAgICAgIGdsb2JhbC5kb2N1bWVudC5hdHRhY2hFdmVudCgnb24nICsgZXZlbnQsIGxpc3RlbmVyKTtcbiAgICAgIC8vIEkgZ2V0ICd3aW5kb3cnIGZvciBpZTguXG4gICAgICBnbG9iYWwuYXR0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuICB9XG5cbiwgZGV0YWNoRXZlbnQ6IGZ1bmN0aW9uKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgIGlmICh0eXBlb2YgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBnbG9iYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIsIGZhbHNlKTtcbiAgICB9IGVsc2UgaWYgKGdsb2JhbC5kb2N1bWVudCAmJiBnbG9iYWwuZGV0YWNoRXZlbnQpIHtcbiAgICAgIGdsb2JhbC5kb2N1bWVudC5kZXRhY2hFdmVudCgnb24nICsgZXZlbnQsIGxpc3RlbmVyKTtcbiAgICAgIGdsb2JhbC5kZXRhY2hFdmVudCgnb24nICsgZXZlbnQsIGxpc3RlbmVyKTtcbiAgICB9XG4gIH1cblxuLCB1bmxvYWRBZGQ6IGZ1bmN0aW9uKGxpc3RlbmVyKSB7XG4gICAgaWYgKGlzQ2hyb21lUGFja2FnZWRBcHApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciByZWYgPSByYW5kb20uc3RyaW5nKDgpO1xuICAgIG9uVW5sb2FkW3JlZl0gPSBsaXN0ZW5lcjtcbiAgICBpZiAoYWZ0ZXJVbmxvYWQpIHtcbiAgICAgIHNldFRpbWVvdXQodGhpcy50cmlnZ2VyVW5sb2FkQ2FsbGJhY2tzLCAwKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlZjtcbiAgfVxuXG4sIHVubG9hZERlbDogZnVuY3Rpb24ocmVmKSB7XG4gICAgaWYgKHJlZiBpbiBvblVubG9hZCkge1xuICAgICAgZGVsZXRlIG9uVW5sb2FkW3JlZl07XG4gICAgfVxuICB9XG5cbiwgdHJpZ2dlclVubG9hZENhbGxiYWNrczogZnVuY3Rpb24oKSB7XG4gICAgZm9yICh2YXIgcmVmIGluIG9uVW5sb2FkKSB7XG4gICAgICBvblVubG9hZFtyZWZdKCk7XG4gICAgICBkZWxldGUgb25VbmxvYWRbcmVmXTtcbiAgICB9XG4gIH1cbn07XG5cbnZhciB1bmxvYWRUcmlnZ2VyZWQgPSBmdW5jdGlvbigpIHtcbiAgaWYgKGFmdGVyVW5sb2FkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGFmdGVyVW5sb2FkID0gdHJ1ZTtcbiAgbW9kdWxlLmV4cG9ydHMudHJpZ2dlclVubG9hZENhbGxiYWNrcygpO1xufTtcblxuLy8gJ3VubG9hZCcgYWxvbmUgaXMgbm90IHJlbGlhYmxlIGluIG9wZXJhIHdpdGhpbiBhbiBpZnJhbWUsIGJ1dCB3ZVxuLy8gY2FuJ3QgdXNlIGBiZWZvcmV1bmxvYWRgIGFzIElFIGZpcmVzIGl0IG9uIGphdmFzY3JpcHQ6IGxpbmtzLlxuaWYgKCFpc0Nocm9tZVBhY2thZ2VkQXBwKSB7XG4gIG1vZHVsZS5leHBvcnRzLmF0dGFjaEV2ZW50KCd1bmxvYWQnLCB1bmxvYWRUcmlnZ2VyZWQpO1xufVxuXG59KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcblxufSx7XCIuL3JhbmRvbVwiOjUwfV0sNDc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChwcm9jZXNzLGdsb2JhbCl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBldmVudFV0aWxzID0gcmVxdWlyZSgnLi9ldmVudCcpXG4gICwgSlNPTjMgPSByZXF1aXJlKCdqc29uMycpXG4gICwgYnJvd3NlciA9IHJlcXVpcmUoJy4vYnJvd3NlcicpXG4gIDtcblxudmFyIGRlYnVnID0gZnVuY3Rpb24oKSB7fTtcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIGRlYnVnID0gcmVxdWlyZSgnZGVidWcnKSgnc29ja2pzLWNsaWVudDp1dGlsczppZnJhbWUnKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIFdQcmVmaXg6ICdfanAnXG4sIGN1cnJlbnRXaW5kb3dJZDogbnVsbFxuXG4sIHBvbGx1dGVHbG9iYWxOYW1lc3BhY2U6IGZ1bmN0aW9uKCkge1xuICAgIGlmICghKG1vZHVsZS5leHBvcnRzLldQcmVmaXggaW4gZ2xvYmFsKSkge1xuICAgICAgZ2xvYmFsW21vZHVsZS5leHBvcnRzLldQcmVmaXhdID0ge307XG4gICAgfVxuICB9XG5cbiwgcG9zdE1lc3NhZ2U6IGZ1bmN0aW9uKHR5cGUsIGRhdGEpIHtcbiAgICBpZiAoZ2xvYmFsLnBhcmVudCAhPT0gZ2xvYmFsKSB7XG4gICAgICBnbG9iYWwucGFyZW50LnBvc3RNZXNzYWdlKEpTT04zLnN0cmluZ2lmeSh7XG4gICAgICAgIHdpbmRvd0lkOiBtb2R1bGUuZXhwb3J0cy5jdXJyZW50V2luZG93SWRcbiAgICAgICwgdHlwZTogdHlwZVxuICAgICAgLCBkYXRhOiBkYXRhIHx8ICcnXG4gICAgICB9KSwgJyonKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVidWcoJ0Nhbm5vdCBwb3N0TWVzc2FnZSwgbm8gcGFyZW50IHdpbmRvdy4nLCB0eXBlLCBkYXRhKTtcbiAgICB9XG4gIH1cblxuLCBjcmVhdGVJZnJhbWU6IGZ1bmN0aW9uKGlmcmFtZVVybCwgZXJyb3JDYWxsYmFjaykge1xuICAgIHZhciBpZnJhbWUgPSBnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gICAgdmFyIHRyZWYsIHVubG9hZFJlZjtcbiAgICB2YXIgdW5hdHRhY2ggPSBmdW5jdGlvbigpIHtcbiAgICAgIGRlYnVnKCd1bmF0dGFjaCcpO1xuICAgICAgY2xlYXJUaW1lb3V0KHRyZWYpO1xuICAgICAgLy8gRXhwbG9yZXIgaGFkIHByb2JsZW1zIHdpdGggdGhhdC5cbiAgICAgIHRyeSB7XG4gICAgICAgIGlmcmFtZS5vbmxvYWQgPSBudWxsO1xuICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAvLyBpbnRlbnRpb25hbGx5IGVtcHR5XG4gICAgICB9XG4gICAgICBpZnJhbWUub25lcnJvciA9IG51bGw7XG4gICAgfTtcbiAgICB2YXIgY2xlYW51cCA9IGZ1bmN0aW9uKCkge1xuICAgICAgZGVidWcoJ2NsZWFudXAnKTtcbiAgICAgIGlmIChpZnJhbWUpIHtcbiAgICAgICAgdW5hdHRhY2goKTtcbiAgICAgICAgLy8gVGhpcyB0aW1lb3V0IG1ha2VzIGNocm9tZSBmaXJlIG9uYmVmb3JldW5sb2FkIGV2ZW50XG4gICAgICAgIC8vIHdpdGhpbiBpZnJhbWUuIFdpdGhvdXQgdGhlIHRpbWVvdXQgaXQgZ29lcyBzdHJhaWdodCB0b1xuICAgICAgICAvLyBvbnVubG9hZC5cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoaWZyYW1lKSB7XG4gICAgICAgICAgICBpZnJhbWUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpZnJhbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZnJhbWUgPSBudWxsO1xuICAgICAgICB9LCAwKTtcbiAgICAgICAgZXZlbnRVdGlscy51bmxvYWREZWwodW5sb2FkUmVmKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBvbmVycm9yID0gZnVuY3Rpb24oZXJyKSB7XG4gICAgICBkZWJ1Zygnb25lcnJvcicsIGVycik7XG4gICAgICBpZiAoaWZyYW1lKSB7XG4gICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgZXJyb3JDYWxsYmFjayhlcnIpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIHBvc3QgPSBmdW5jdGlvbihtc2csIG9yaWdpbikge1xuICAgICAgZGVidWcoJ3Bvc3QnLCBtc2csIG9yaWdpbik7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFdoZW4gdGhlIGlmcmFtZSBpcyBub3QgbG9hZGVkLCBJRSByYWlzZXMgYW4gZXhjZXB0aW9uXG4gICAgICAgICAgLy8gb24gJ2NvbnRlbnRXaW5kb3cnLlxuICAgICAgICAgIGlmIChpZnJhbWUgJiYgaWZyYW1lLmNvbnRlbnRXaW5kb3cpIHtcbiAgICAgICAgICAgIGlmcmFtZS5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKG1zZywgb3JpZ2luKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICAvLyBpbnRlbnRpb25hbGx5IGVtcHR5XG4gICAgICAgIH1cbiAgICAgIH0sIDApO1xuICAgIH07XG5cbiAgICBpZnJhbWUuc3JjID0gaWZyYW1lVXJsO1xuICAgIGlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGlmcmFtZS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgaWZyYW1lLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgIG9uZXJyb3IoJ29uZXJyb3InKTtcbiAgICB9O1xuICAgIGlmcmFtZS5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIGRlYnVnKCdvbmxvYWQnKTtcbiAgICAgIC8vIGBvbmxvYWRgIGlzIHRyaWdnZXJlZCBiZWZvcmUgc2NyaXB0cyBvbiB0aGUgaWZyYW1lIGFyZVxuICAgICAgLy8gZXhlY3V0ZWQuIEdpdmUgaXQgZmV3IHNlY29uZHMgdG8gYWN0dWFsbHkgbG9hZCBzdHVmZi5cbiAgICAgIGNsZWFyVGltZW91dCh0cmVmKTtcbiAgICAgIHRyZWYgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBvbmVycm9yKCdvbmxvYWQgdGltZW91dCcpO1xuICAgICAgfSwgMjAwMCk7XG4gICAgfTtcbiAgICBnbG9iYWwuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICAgIHRyZWYgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgb25lcnJvcigndGltZW91dCcpO1xuICAgIH0sIDE1MDAwKTtcbiAgICB1bmxvYWRSZWYgPSBldmVudFV0aWxzLnVubG9hZEFkZChjbGVhbnVwKTtcbiAgICByZXR1cm4ge1xuICAgICAgcG9zdDogcG9zdFxuICAgICwgY2xlYW51cDogY2xlYW51cFxuICAgICwgbG9hZGVkOiB1bmF0dGFjaFxuICAgIH07XG4gIH1cblxuLyogZXNsaW50IG5vLXVuZGVmOiBcIm9mZlwiLCBuZXctY2FwOiBcIm9mZlwiICovXG4sIGNyZWF0ZUh0bWxmaWxlOiBmdW5jdGlvbihpZnJhbWVVcmwsIGVycm9yQ2FsbGJhY2spIHtcbiAgICB2YXIgYXhvID0gWydBY3RpdmUnXS5jb25jYXQoJ09iamVjdCcpLmpvaW4oJ1gnKTtcbiAgICB2YXIgZG9jID0gbmV3IGdsb2JhbFtheG9dKCdodG1sZmlsZScpO1xuICAgIHZhciB0cmVmLCB1bmxvYWRSZWY7XG4gICAgdmFyIGlmcmFtZTtcbiAgICB2YXIgdW5hdHRhY2ggPSBmdW5jdGlvbigpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0cmVmKTtcbiAgICAgIGlmcmFtZS5vbmVycm9yID0gbnVsbDtcbiAgICB9O1xuICAgIHZhciBjbGVhbnVwID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoZG9jKSB7XG4gICAgICAgIHVuYXR0YWNoKCk7XG4gICAgICAgIGV2ZW50VXRpbHMudW5sb2FkRGVsKHVubG9hZFJlZik7XG4gICAgICAgIGlmcmFtZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGlmcmFtZSk7XG4gICAgICAgIGlmcmFtZSA9IGRvYyA9IG51bGw7XG4gICAgICAgIENvbGxlY3RHYXJiYWdlKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgb25lcnJvciA9IGZ1bmN0aW9uKHIpIHtcbiAgICAgIGRlYnVnKCdvbmVycm9yJywgcik7XG4gICAgICBpZiAoZG9jKSB7XG4gICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgZXJyb3JDYWxsYmFjayhyKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBwb3N0ID0gZnVuY3Rpb24obXNnLCBvcmlnaW4pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFdoZW4gdGhlIGlmcmFtZSBpcyBub3QgbG9hZGVkLCBJRSByYWlzZXMgYW4gZXhjZXB0aW9uXG4gICAgICAgIC8vIG9uICdjb250ZW50V2luZG93Jy5cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoaWZyYW1lICYmIGlmcmFtZS5jb250ZW50V2luZG93KSB7XG4gICAgICAgICAgICAgIGlmcmFtZS5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKG1zZywgb3JpZ2luKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDApO1xuICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAvLyBpbnRlbnRpb25hbGx5IGVtcHR5XG4gICAgICB9XG4gICAgfTtcblxuICAgIGRvYy5vcGVuKCk7XG4gICAgZG9jLndyaXRlKCc8aHRtbD48cycgKyAnY3JpcHQ+JyArXG4gICAgICAgICAgICAgICdkb2N1bWVudC5kb21haW49XCInICsgZ2xvYmFsLmRvY3VtZW50LmRvbWFpbiArICdcIjsnICtcbiAgICAgICAgICAgICAgJzwvcycgKyAnY3JpcHQ+PC9odG1sPicpO1xuICAgIGRvYy5jbG9zZSgpO1xuICAgIGRvYy5wYXJlbnRXaW5kb3dbbW9kdWxlLmV4cG9ydHMuV1ByZWZpeF0gPSBnbG9iYWxbbW9kdWxlLmV4cG9ydHMuV1ByZWZpeF07XG4gICAgdmFyIGMgPSBkb2MuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZG9jLmJvZHkuYXBwZW5kQ2hpbGQoYyk7XG4gICAgaWZyYW1lID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICAgIGMuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcbiAgICBpZnJhbWUuc3JjID0gaWZyYW1lVXJsO1xuICAgIGlmcmFtZS5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICBvbmVycm9yKCdvbmVycm9yJyk7XG4gICAgfTtcbiAgICB0cmVmID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIG9uZXJyb3IoJ3RpbWVvdXQnKTtcbiAgICB9LCAxNTAwMCk7XG4gICAgdW5sb2FkUmVmID0gZXZlbnRVdGlscy51bmxvYWRBZGQoY2xlYW51cCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBvc3Q6IHBvc3RcbiAgICAsIGNsZWFudXA6IGNsZWFudXBcbiAgICAsIGxvYWRlZDogdW5hdHRhY2hcbiAgICB9O1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5pZnJhbWVFbmFibGVkID0gZmFsc2U7XG5pZiAoZ2xvYmFsLmRvY3VtZW50KSB7XG4gIC8vIHBvc3RNZXNzYWdlIG1pc2JlaGF2ZXMgaW4ga29ucXVlcm9yIDQuNi41IC0gdGhlIG1lc3NhZ2VzIGFyZSBkZWxpdmVyZWQgd2l0aFxuICAvLyBodWdlIGRlbGF5LCBvciBub3QgYXQgYWxsLlxuICBtb2R1bGUuZXhwb3J0cy5pZnJhbWVFbmFibGVkID0gKHR5cGVvZiBnbG9iYWwucG9zdE1lc3NhZ2UgPT09ICdmdW5jdGlvbicgfHxcbiAgICB0eXBlb2YgZ2xvYmFsLnBvc3RNZXNzYWdlID09PSAnb2JqZWN0JykgJiYgKCFicm93c2VyLmlzS29ucXVlcm9yKCkpO1xufVxuXG59KS5jYWxsKHRoaXMseyBlbnY6IHt9IH0sdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcblxufSx7XCIuL2Jyb3dzZXJcIjo0NCxcIi4vZXZlbnRcIjo0NixcImRlYnVnXCI6NTUsXCJqc29uM1wiOjU4fV0sNDg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChnbG9iYWwpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgbG9nT2JqZWN0ID0ge307XG5bJ2xvZycsICdkZWJ1ZycsICd3YXJuJ10uZm9yRWFjaChmdW5jdGlvbiAobGV2ZWwpIHtcbiAgdmFyIGxldmVsRXhpc3RzO1xuXG4gIHRyeSB7XG4gICAgbGV2ZWxFeGlzdHMgPSBnbG9iYWwuY29uc29sZSAmJiBnbG9iYWwuY29uc29sZVtsZXZlbF0gJiYgZ2xvYmFsLmNvbnNvbGVbbGV2ZWxdLmFwcGx5O1xuICB9IGNhdGNoKGUpIHtcbiAgICAvLyBkbyBub3RoaW5nXG4gIH1cblxuICBsb2dPYmplY3RbbGV2ZWxdID0gbGV2ZWxFeGlzdHMgPyBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGdsb2JhbC5jb25zb2xlW2xldmVsXS5hcHBseShnbG9iYWwuY29uc29sZSwgYXJndW1lbnRzKTtcbiAgfSA6IChsZXZlbCA9PT0gJ2xvZycgPyBmdW5jdGlvbiAoKSB7fSA6IGxvZ09iamVjdC5sb2cpO1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gbG9nT2JqZWN0O1xuXG59KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcblxufSx7fV0sNDk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaXNPYmplY3Q6IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciB0eXBlID0gdHlwZW9mIG9iajtcbiAgICByZXR1cm4gdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlID09PSAnb2JqZWN0JyAmJiAhIW9iajtcbiAgfVxuXG4sIGV4dGVuZDogZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKCF0aGlzLmlzT2JqZWN0KG9iaikpIHtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIHZhciBzb3VyY2UsIHByb3A7XG4gICAgZm9yICh2YXIgaSA9IDEsIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgc291cmNlID0gYXJndW1lbnRzW2ldO1xuICAgICAgZm9yIChwcm9wIGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwgcHJvcCkpIHtcbiAgICAgICAgICBvYmpbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfVxufTtcblxufSx7fV0sNTA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG4vKiBnbG9iYWwgY3J5cHRvOnRydWUgKi9cbnZhciBjcnlwdG8gPSByZXF1aXJlKCdjcnlwdG8nKTtcblxuLy8gVGhpcyBzdHJpbmcgaGFzIGxlbmd0aCAzMiwgYSBwb3dlciBvZiAyLCBzbyB0aGUgbW9kdWx1cyBkb2Vzbid0IGludHJvZHVjZSBhXG4vLyBiaWFzLlxudmFyIF9yYW5kb21TdHJpbmdDaGFycyA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NSc7XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc3RyaW5nOiBmdW5jdGlvbihsZW5ndGgpIHtcbiAgICB2YXIgbWF4ID0gX3JhbmRvbVN0cmluZ0NoYXJzLmxlbmd0aDtcbiAgICB2YXIgYnl0ZXMgPSBjcnlwdG8ucmFuZG9tQnl0ZXMobGVuZ3RoKTtcbiAgICB2YXIgcmV0ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcmV0LnB1c2goX3JhbmRvbVN0cmluZ0NoYXJzLnN1YnN0cihieXRlc1tpXSAlIG1heCwgMSkpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0LmpvaW4oJycpO1xuICB9XG5cbiwgbnVtYmVyOiBmdW5jdGlvbihtYXgpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbWF4KTtcbiAgfVxuXG4sIG51bWJlclN0cmluZzogZnVuY3Rpb24obWF4KSB7XG4gICAgdmFyIHQgPSAoJycgKyAobWF4IC0gMSkpLmxlbmd0aDtcbiAgICB2YXIgcCA9IG5ldyBBcnJheSh0ICsgMSkuam9pbignMCcpO1xuICAgIHJldHVybiAocCArIHRoaXMubnVtYmVyKG1heCkpLnNsaWNlKC10KTtcbiAgfVxufTtcblxufSx7XCJjcnlwdG9cIjo0M31dLDUxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAocHJvY2Vzcyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBkZWJ1ZyA9IGZ1bmN0aW9uKCkge307XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBkZWJ1ZyA9IHJlcXVpcmUoJ2RlYnVnJykoJ3NvY2tqcy1jbGllbnQ6dXRpbHM6dHJhbnNwb3J0Jyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYXZhaWxhYmxlVHJhbnNwb3J0cykge1xuICByZXR1cm4ge1xuICAgIGZpbHRlclRvRW5hYmxlZDogZnVuY3Rpb24odHJhbnNwb3J0c1doaXRlbGlzdCwgaW5mbykge1xuICAgICAgdmFyIHRyYW5zcG9ydHMgPSB7XG4gICAgICAgIG1haW46IFtdXG4gICAgICAsIGZhY2FkZTogW11cbiAgICAgIH07XG4gICAgICBpZiAoIXRyYW5zcG9ydHNXaGl0ZWxpc3QpIHtcbiAgICAgICAgdHJhbnNwb3J0c1doaXRlbGlzdCA9IFtdO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdHJhbnNwb3J0c1doaXRlbGlzdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdHJhbnNwb3J0c1doaXRlbGlzdCA9IFt0cmFuc3BvcnRzV2hpdGVsaXN0XTtcbiAgICAgIH1cblxuICAgICAgYXZhaWxhYmxlVHJhbnNwb3J0cy5mb3JFYWNoKGZ1bmN0aW9uKHRyYW5zKSB7XG4gICAgICAgIGlmICghdHJhbnMpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJhbnMudHJhbnNwb3J0TmFtZSA9PT0gJ3dlYnNvY2tldCcgJiYgaW5mby53ZWJzb2NrZXQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgZGVidWcoJ2Rpc2FibGVkIGZyb20gc2VydmVyJywgJ3dlYnNvY2tldCcpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0cmFuc3BvcnRzV2hpdGVsaXN0Lmxlbmd0aCAmJlxuICAgICAgICAgICAgdHJhbnNwb3J0c1doaXRlbGlzdC5pbmRleE9mKHRyYW5zLnRyYW5zcG9ydE5hbWUpID09PSAtMSkge1xuICAgICAgICAgIGRlYnVnKCdub3QgaW4gd2hpdGVsaXN0JywgdHJhbnMudHJhbnNwb3J0TmFtZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRyYW5zLmVuYWJsZWQoaW5mbykpIHtcbiAgICAgICAgICBkZWJ1ZygnZW5hYmxlZCcsIHRyYW5zLnRyYW5zcG9ydE5hbWUpO1xuICAgICAgICAgIHRyYW5zcG9ydHMubWFpbi5wdXNoKHRyYW5zKTtcbiAgICAgICAgICBpZiAodHJhbnMuZmFjYWRlVHJhbnNwb3J0KSB7XG4gICAgICAgICAgICB0cmFuc3BvcnRzLmZhY2FkZS5wdXNoKHRyYW5zLmZhY2FkZVRyYW5zcG9ydCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlYnVnKCdkaXNhYmxlZCcsIHRyYW5zLnRyYW5zcG9ydE5hbWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0cmFuc3BvcnRzO1xuICAgIH1cbiAgfTtcbn07XG5cbn0pLmNhbGwodGhpcyx7IGVudjoge30gfSlcblxufSx7XCJkZWJ1Z1wiOjU1fV0sNTI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChwcm9jZXNzKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIFVSTCA9IHJlcXVpcmUoJ3VybC1wYXJzZScpO1xuXG52YXIgZGVidWcgPSBmdW5jdGlvbigpIHt9O1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdzb2NranMtY2xpZW50OnV0aWxzOnVybCcpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0T3JpZ2luOiBmdW5jdGlvbih1cmwpIHtcbiAgICBpZiAoIXVybCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIHAgPSBuZXcgVVJMKHVybCk7XG4gICAgaWYgKHAucHJvdG9jb2wgPT09ICdmaWxlOicpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBwb3J0ID0gcC5wb3J0O1xuICAgIGlmICghcG9ydCkge1xuICAgICAgcG9ydCA9IChwLnByb3RvY29sID09PSAnaHR0cHM6JykgPyAnNDQzJyA6ICc4MCc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHAucHJvdG9jb2wgKyAnLy8nICsgcC5ob3N0bmFtZSArICc6JyArIHBvcnQ7XG4gIH1cblxuLCBpc09yaWdpbkVxdWFsOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgdmFyIHJlcyA9IHRoaXMuZ2V0T3JpZ2luKGEpID09PSB0aGlzLmdldE9yaWdpbihiKTtcbiAgICBkZWJ1Zygnc2FtZScsIGEsIGIsIHJlcyk7XG4gICAgcmV0dXJuIHJlcztcbiAgfVxuXG4sIGlzU2NoZW1lRXF1YWw6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gKGEuc3BsaXQoJzonKVswXSA9PT0gYi5zcGxpdCgnOicpWzBdKTtcbiAgfVxuXG4sIGFkZFBhdGg6IGZ1bmN0aW9uICh1cmwsIHBhdGgpIHtcbiAgICB2YXIgcXMgPSB1cmwuc3BsaXQoJz8nKTtcbiAgICByZXR1cm4gcXNbMF0gKyBwYXRoICsgKHFzWzFdID8gJz8nICsgcXNbMV0gOiAnJyk7XG4gIH1cblxuLCBhZGRRdWVyeTogZnVuY3Rpb24gKHVybCwgcSkge1xuICAgIHJldHVybiB1cmwgKyAodXJsLmluZGV4T2YoJz8nKSA9PT0gLTEgPyAoJz8nICsgcSkgOiAoJyYnICsgcSkpO1xuICB9XG59O1xuXG59KS5jYWxsKHRoaXMseyBlbnY6IHt9IH0pXG5cbn0se1wiZGVidWdcIjo1NSxcInVybC1wYXJzZVwiOjYxfV0sNTM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xubW9kdWxlLmV4cG9ydHMgPSAnMS40LjAnO1xuXG59LHt9XSw1NDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vKipcbiAqIEhlbHBlcnMuXG4gKi9cblxudmFyIHMgPSAxMDAwO1xudmFyIG0gPSBzICogNjA7XG52YXIgaCA9IG0gKiA2MDtcbnZhciBkID0gaCAqIDI0O1xudmFyIHcgPSBkICogNztcbnZhciB5ID0gZCAqIDM2NS4yNTtcblxuLyoqXG4gKiBQYXJzZSBvciBmb3JtYXQgdGhlIGdpdmVuIGB2YWxgLlxuICpcbiAqIE9wdGlvbnM6XG4gKlxuICogIC0gYGxvbmdgIHZlcmJvc2UgZm9ybWF0dGluZyBbZmFsc2VdXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSB2YWxcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEB0aHJvd3Mge0Vycm9yfSB0aHJvdyBhbiBlcnJvciBpZiB2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIG51bWJlclxuICogQHJldHVybiB7U3RyaW5nfE51bWJlcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih2YWwsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbDtcbiAgaWYgKHR5cGUgPT09ICdzdHJpbmcnICYmIHZhbC5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHBhcnNlKHZhbCk7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gJ251bWJlcicgJiYgaXNOYU4odmFsKSA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5sb25nID8gZm10TG9uZyh2YWwpIDogZm10U2hvcnQodmFsKTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgJ3ZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgdmFsaWQgbnVtYmVyLiB2YWw9JyArXG4gICAgICBKU09OLnN0cmluZ2lmeSh2YWwpXG4gICk7XG59O1xuXG4vKipcbiAqIFBhcnNlIHRoZSBnaXZlbiBgc3RyYCBhbmQgcmV0dXJuIG1pbGxpc2Vjb25kcy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZShzdHIpIHtcbiAgc3RyID0gU3RyaW5nKHN0cik7XG4gIGlmIChzdHIubGVuZ3RoID4gMTAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBtYXRjaCA9IC9eKCg/OlxcZCspP1xcLT9cXGQ/XFwuP1xcZCspICoobWlsbGlzZWNvbmRzP3xtc2Vjcz98bXN8c2Vjb25kcz98c2Vjcz98c3xtaW51dGVzP3xtaW5zP3xtfGhvdXJzP3xocnM/fGh8ZGF5cz98ZHx3ZWVrcz98d3x5ZWFycz98eXJzP3x5KT8kL2kuZXhlYyhcbiAgICBzdHJcbiAgKTtcbiAgaWYgKCFtYXRjaCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbiA9IHBhcnNlRmxvYXQobWF0Y2hbMV0pO1xuICB2YXIgdHlwZSA9IChtYXRjaFsyXSB8fCAnbXMnKS50b0xvd2VyQ2FzZSgpO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICd5ZWFycyc6XG4gICAgY2FzZSAneWVhcic6XG4gICAgY2FzZSAneXJzJzpcbiAgICBjYXNlICd5cic6XG4gICAgY2FzZSAneSc6XG4gICAgICByZXR1cm4gbiAqIHk7XG4gICAgY2FzZSAnd2Vla3MnOlxuICAgIGNhc2UgJ3dlZWsnOlxuICAgIGNhc2UgJ3cnOlxuICAgICAgcmV0dXJuIG4gKiB3O1xuICAgIGNhc2UgJ2RheXMnOlxuICAgIGNhc2UgJ2RheSc6XG4gICAgY2FzZSAnZCc6XG4gICAgICByZXR1cm4gbiAqIGQ7XG4gICAgY2FzZSAnaG91cnMnOlxuICAgIGNhc2UgJ2hvdXInOlxuICAgIGNhc2UgJ2hycyc6XG4gICAgY2FzZSAnaHInOlxuICAgIGNhc2UgJ2gnOlxuICAgICAgcmV0dXJuIG4gKiBoO1xuICAgIGNhc2UgJ21pbnV0ZXMnOlxuICAgIGNhc2UgJ21pbnV0ZSc6XG4gICAgY2FzZSAnbWlucyc6XG4gICAgY2FzZSAnbWluJzpcbiAgICBjYXNlICdtJzpcbiAgICAgIHJldHVybiBuICogbTtcbiAgICBjYXNlICdzZWNvbmRzJzpcbiAgICBjYXNlICdzZWNvbmQnOlxuICAgIGNhc2UgJ3NlY3MnOlxuICAgIGNhc2UgJ3NlYyc6XG4gICAgY2FzZSAncyc6XG4gICAgICByZXR1cm4gbiAqIHM7XG4gICAgY2FzZSAnbWlsbGlzZWNvbmRzJzpcbiAgICBjYXNlICdtaWxsaXNlY29uZCc6XG4gICAgY2FzZSAnbXNlY3MnOlxuICAgIGNhc2UgJ21zZWMnOlxuICAgIGNhc2UgJ21zJzpcbiAgICAgIHJldHVybiBuO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbi8qKlxuICogU2hvcnQgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10U2hvcnQobXMpIHtcbiAgdmFyIG1zQWJzID0gTWF0aC5hYnMobXMpO1xuICBpZiAobXNBYnMgPj0gZCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gZCkgKyAnZCc7XG4gIH1cbiAgaWYgKG1zQWJzID49IGgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGgpICsgJ2gnO1xuICB9XG4gIGlmIChtc0FicyA+PSBtKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBtKSArICdtJztcbiAgfVxuICBpZiAobXNBYnMgPj0gcykge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gcykgKyAncyc7XG4gIH1cbiAgcmV0dXJuIG1zICsgJ21zJztcbn1cblxuLyoqXG4gKiBMb25nIGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdExvbmcobXMpIHtcbiAgdmFyIG1zQWJzID0gTWF0aC5hYnMobXMpO1xuICBpZiAobXNBYnMgPj0gZCkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBkLCAnZGF5Jyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IGgpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgaCwgJ2hvdXInKTtcbiAgfVxuICBpZiAobXNBYnMgPj0gbSkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBtLCAnbWludXRlJyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IHMpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgcywgJ3NlY29uZCcpO1xuICB9XG4gIHJldHVybiBtcyArICcgbXMnO1xufVxuXG4vKipcbiAqIFBsdXJhbGl6YXRpb24gaGVscGVyLlxuICovXG5cbmZ1bmN0aW9uIHBsdXJhbChtcywgbXNBYnMsIG4sIG5hbWUpIHtcbiAgdmFyIGlzUGx1cmFsID0gbXNBYnMgPj0gbiAqIDEuNTtcbiAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBuKSArICcgJyArIG5hbWUgKyAoaXNQbHVyYWwgPyAncycgOiAnJyk7XG59XG5cbn0se31dLDU1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAocHJvY2Vzcyl7XG5cInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuLyogZXNsaW50LWVudiBicm93c2VyICovXG5cbi8qKlxuICogVGhpcyBpcyB0aGUgd2ViIGJyb3dzZXIgaW1wbGVtZW50YXRpb24gb2YgYGRlYnVnKClgLlxuICovXG5leHBvcnRzLmxvZyA9IGxvZztcbmV4cG9ydHMuZm9ybWF0QXJncyA9IGZvcm1hdEFyZ3M7XG5leHBvcnRzLnNhdmUgPSBzYXZlO1xuZXhwb3J0cy5sb2FkID0gbG9hZDtcbmV4cG9ydHMudXNlQ29sb3JzID0gdXNlQ29sb3JzO1xuZXhwb3J0cy5zdG9yYWdlID0gbG9jYWxzdG9yYWdlKCk7XG4vKipcbiAqIENvbG9ycy5cbiAqL1xuXG5leHBvcnRzLmNvbG9ycyA9IFsnIzAwMDBDQycsICcjMDAwMEZGJywgJyMwMDMzQ0MnLCAnIzAwMzNGRicsICcjMDA2NkNDJywgJyMwMDY2RkYnLCAnIzAwOTlDQycsICcjMDA5OUZGJywgJyMwMENDMDAnLCAnIzAwQ0MzMycsICcjMDBDQzY2JywgJyMwMENDOTknLCAnIzAwQ0NDQycsICcjMDBDQ0ZGJywgJyMzMzAwQ0MnLCAnIzMzMDBGRicsICcjMzMzM0NDJywgJyMzMzMzRkYnLCAnIzMzNjZDQycsICcjMzM2NkZGJywgJyMzMzk5Q0MnLCAnIzMzOTlGRicsICcjMzNDQzAwJywgJyMzM0NDMzMnLCAnIzMzQ0M2NicsICcjMzNDQzk5JywgJyMzM0NDQ0MnLCAnIzMzQ0NGRicsICcjNjYwMENDJywgJyM2NjAwRkYnLCAnIzY2MzNDQycsICcjNjYzM0ZGJywgJyM2NkNDMDAnLCAnIzY2Q0MzMycsICcjOTkwMENDJywgJyM5OTAwRkYnLCAnIzk5MzNDQycsICcjOTkzM0ZGJywgJyM5OUNDMDAnLCAnIzk5Q0MzMycsICcjQ0MwMDAwJywgJyNDQzAwMzMnLCAnI0NDMDA2NicsICcjQ0MwMDk5JywgJyNDQzAwQ0MnLCAnI0NDMDBGRicsICcjQ0MzMzAwJywgJyNDQzMzMzMnLCAnI0NDMzM2NicsICcjQ0MzMzk5JywgJyNDQzMzQ0MnLCAnI0NDMzNGRicsICcjQ0M2NjAwJywgJyNDQzY2MzMnLCAnI0NDOTkwMCcsICcjQ0M5OTMzJywgJyNDQ0NDMDAnLCAnI0NDQ0MzMycsICcjRkYwMDAwJywgJyNGRjAwMzMnLCAnI0ZGMDA2NicsICcjRkYwMDk5JywgJyNGRjAwQ0MnLCAnI0ZGMDBGRicsICcjRkYzMzAwJywgJyNGRjMzMzMnLCAnI0ZGMzM2NicsICcjRkYzMzk5JywgJyNGRjMzQ0MnLCAnI0ZGMzNGRicsICcjRkY2NjAwJywgJyNGRjY2MzMnLCAnI0ZGOTkwMCcsICcjRkY5OTMzJywgJyNGRkNDMDAnLCAnI0ZGQ0MzMyddO1xuLyoqXG4gKiBDdXJyZW50bHkgb25seSBXZWJLaXQtYmFzZWQgV2ViIEluc3BlY3RvcnMsIEZpcmVmb3ggPj0gdjMxLFxuICogYW5kIHRoZSBGaXJlYnVnIGV4dGVuc2lvbiAoYW55IEZpcmVmb3ggdmVyc2lvbikgYXJlIGtub3duXG4gKiB0byBzdXBwb3J0IFwiJWNcIiBDU1MgY3VzdG9taXphdGlvbnMuXG4gKlxuICogVE9ETzogYWRkIGEgYGxvY2FsU3RvcmFnZWAgdmFyaWFibGUgdG8gZXhwbGljaXRseSBlbmFibGUvZGlzYWJsZSBjb2xvcnNcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcblxuZnVuY3Rpb24gdXNlQ29sb3JzKCkge1xuICAvLyBOQjogSW4gYW4gRWxlY3Ryb24gcHJlbG9hZCBzY3JpcHQsIGRvY3VtZW50IHdpbGwgYmUgZGVmaW5lZCBidXQgbm90IGZ1bGx5XG4gIC8vIGluaXRpYWxpemVkLiBTaW5jZSB3ZSBrbm93IHdlJ3JlIGluIENocm9tZSwgd2UnbGwganVzdCBkZXRlY3QgdGhpcyBjYXNlXG4gIC8vIGV4cGxpY2l0bHlcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5wcm9jZXNzICYmICh3aW5kb3cucHJvY2Vzcy50eXBlID09PSAncmVuZGVyZXInIHx8IHdpbmRvdy5wcm9jZXNzLl9fbndqcykpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSAvLyBJbnRlcm5ldCBFeHBsb3JlciBhbmQgRWRnZSBkbyBub3Qgc3VwcG9ydCBjb2xvcnMuXG5cblxuICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goLyhlZGdlfHRyaWRlbnQpXFwvKFxcZCspLykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gLy8gSXMgd2Via2l0PyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNjQ1OTYwNi8zNzY3NzNcbiAgLy8gZG9jdW1lbnQgaXMgdW5kZWZpbmVkIGluIHJlYWN0LW5hdGl2ZTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0LW5hdGl2ZS9wdWxsLzE2MzJcblxuXG4gIHJldHVybiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLldlYmtpdEFwcGVhcmFuY2UgfHwgLy8gSXMgZmlyZWJ1Zz8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzk4MTIwLzM3Njc3M1xuICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuY29uc29sZSAmJiAod2luZG93LmNvbnNvbGUuZmlyZWJ1ZyB8fCB3aW5kb3cuY29uc29sZS5leGNlcHRpb24gJiYgd2luZG93LmNvbnNvbGUudGFibGUpIHx8IC8vIElzIGZpcmVmb3ggPj0gdjMxP1xuICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1Rvb2xzL1dlYl9Db25zb2xlI1N0eWxpbmdfbWVzc2FnZXNcbiAgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvKSAmJiBwYXJzZUludChSZWdFeHAuJDEsIDEwKSA+PSAzMSB8fCAvLyBEb3VibGUgY2hlY2sgd2Via2l0IGluIHVzZXJBZ2VudCBqdXN0IGluIGNhc2Ugd2UgYXJlIGluIGEgd29ya2VyXG4gIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9hcHBsZXdlYmtpdFxcLyhcXGQrKS8pO1xufVxuLyoqXG4gKiBDb2xvcml6ZSBsb2cgYXJndW1lbnRzIGlmIGVuYWJsZWQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5cbmZ1bmN0aW9uIGZvcm1hdEFyZ3MoYXJncykge1xuICBhcmdzWzBdID0gKHRoaXMudXNlQ29sb3JzID8gJyVjJyA6ICcnKSArIHRoaXMubmFtZXNwYWNlICsgKHRoaXMudXNlQ29sb3JzID8gJyAlYycgOiAnICcpICsgYXJnc1swXSArICh0aGlzLnVzZUNvbG9ycyA/ICclYyAnIDogJyAnKSArICcrJyArIG1vZHVsZS5leHBvcnRzLmh1bWFuaXplKHRoaXMuZGlmZik7XG5cbiAgaWYgKCF0aGlzLnVzZUNvbG9ycykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBjID0gJ2NvbG9yOiAnICsgdGhpcy5jb2xvcjtcbiAgYXJncy5zcGxpY2UoMSwgMCwgYywgJ2NvbG9yOiBpbmhlcml0Jyk7IC8vIFRoZSBmaW5hbCBcIiVjXCIgaXMgc29tZXdoYXQgdHJpY2t5LCBiZWNhdXNlIHRoZXJlIGNvdWxkIGJlIG90aGVyXG4gIC8vIGFyZ3VtZW50cyBwYXNzZWQgZWl0aGVyIGJlZm9yZSBvciBhZnRlciB0aGUgJWMsIHNvIHdlIG5lZWQgdG9cbiAgLy8gZmlndXJlIG91dCB0aGUgY29ycmVjdCBpbmRleCB0byBpbnNlcnQgdGhlIENTUyBpbnRvXG5cbiAgdmFyIGluZGV4ID0gMDtcbiAgdmFyIGxhc3RDID0gMDtcbiAgYXJnc1swXS5yZXBsYWNlKC8lW2EtekEtWiVdL2csIGZ1bmN0aW9uIChtYXRjaCkge1xuICAgIGlmIChtYXRjaCA9PT0gJyUlJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGluZGV4Kys7XG5cbiAgICBpZiAobWF0Y2ggPT09ICclYycpIHtcbiAgICAgIC8vIFdlIG9ubHkgYXJlIGludGVyZXN0ZWQgaW4gdGhlICpsYXN0KiAlY1xuICAgICAgLy8gKHRoZSB1c2VyIG1heSBoYXZlIHByb3ZpZGVkIHRoZWlyIG93bilcbiAgICAgIGxhc3RDID0gaW5kZXg7XG4gICAgfVxuICB9KTtcbiAgYXJncy5zcGxpY2UobGFzdEMsIDAsIGMpO1xufVxuLyoqXG4gKiBJbnZva2VzIGBjb25zb2xlLmxvZygpYCB3aGVuIGF2YWlsYWJsZS5cbiAqIE5vLW9wIHdoZW4gYGNvbnNvbGUubG9nYCBpcyBub3QgYSBcImZ1bmN0aW9uXCIuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5cbmZ1bmN0aW9uIGxvZygpIHtcbiAgdmFyIF9jb25zb2xlO1xuXG4gIC8vIFRoaXMgaGFja2VyeSBpcyByZXF1aXJlZCBmb3IgSUU4LzksIHdoZXJlXG4gIC8vIHRoZSBgY29uc29sZS5sb2dgIGZ1bmN0aW9uIGRvZXNuJ3QgaGF2ZSAnYXBwbHknXG4gIHJldHVybiAodHlwZW9mIGNvbnNvbGUgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihjb25zb2xlKSkgPT09ICdvYmplY3QnICYmIGNvbnNvbGUubG9nICYmIChfY29uc29sZSA9IGNvbnNvbGUpLmxvZy5hcHBseShfY29uc29sZSwgYXJndW1lbnRzKTtcbn1cbi8qKlxuICogU2F2ZSBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gc2F2ZShuYW1lc3BhY2VzKSB7XG4gIHRyeSB7XG4gICAgaWYgKG5hbWVzcGFjZXMpIHtcbiAgICAgIGV4cG9ydHMuc3RvcmFnZS5zZXRJdGVtKCdkZWJ1ZycsIG5hbWVzcGFjZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBleHBvcnRzLnN0b3JhZ2UucmVtb3ZlSXRlbSgnZGVidWcnKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7Ly8gU3dhbGxvd1xuICAgIC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuICB9XG59XG4vKipcbiAqIExvYWQgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEByZXR1cm4ge1N0cmluZ30gcmV0dXJucyB0aGUgcHJldmlvdXNseSBwZXJzaXN0ZWQgZGVidWcgbW9kZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gbG9hZCgpIHtcbiAgdmFyIHI7XG5cbiAgdHJ5IHtcbiAgICByID0gZXhwb3J0cy5zdG9yYWdlLmdldEl0ZW0oJ2RlYnVnJyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7fSAvLyBTd2FsbG93XG4gIC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuICAvLyBJZiBkZWJ1ZyBpc24ndCBzZXQgaW4gTFMsIGFuZCB3ZSdyZSBpbiBFbGVjdHJvbiwgdHJ5IHRvIGxvYWQgJERFQlVHXG5cblxuICBpZiAoIXIgJiYgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICdlbnYnIGluIHByb2Nlc3MpIHtcbiAgICByID0gcHJvY2Vzcy5lbnYuREVCVUc7XG4gIH1cblxuICByZXR1cm4gcjtcbn1cbi8qKlxuICogTG9jYWxzdG9yYWdlIGF0dGVtcHRzIHRvIHJldHVybiB0aGUgbG9jYWxzdG9yYWdlLlxuICpcbiAqIFRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugc2FmYXJpIHRocm93c1xuICogd2hlbiBhIHVzZXIgZGlzYWJsZXMgY29va2llcy9sb2NhbHN0b3JhZ2VcbiAqIGFuZCB5b3UgYXR0ZW1wdCB0byBhY2Nlc3MgaXQuXG4gKlxuICogQHJldHVybiB7TG9jYWxTdG9yYWdlfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuXG5mdW5jdGlvbiBsb2NhbHN0b3JhZ2UoKSB7XG4gIHRyeSB7XG4gICAgLy8gVFZNTEtpdCAoQXBwbGUgVFYgSlMgUnVudGltZSkgZG9lcyBub3QgaGF2ZSBhIHdpbmRvdyBvYmplY3QsIGp1c3QgbG9jYWxTdG9yYWdlIGluIHRoZSBnbG9iYWwgY29udGV4dFxuICAgIC8vIFRoZSBCcm93c2VyIGFsc28gaGFzIGxvY2FsU3RvcmFnZSBpbiB0aGUgZ2xvYmFsIGNvbnRleHQuXG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHsvLyBTd2FsbG93XG4gICAgLy8gWFhYIChAUWl4LSkgc2hvdWxkIHdlIGJlIGxvZ2dpbmcgdGhlc2U/XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2NvbW1vbicpKGV4cG9ydHMpO1xudmFyIGZvcm1hdHRlcnMgPSBtb2R1bGUuZXhwb3J0cy5mb3JtYXR0ZXJzO1xuLyoqXG4gKiBNYXAgJWogdG8gYEpTT04uc3RyaW5naWZ5KClgLCBzaW5jZSBubyBXZWIgSW5zcGVjdG9ycyBkbyB0aGF0IGJ5IGRlZmF1bHQuXG4gKi9cblxuZm9ybWF0dGVycy5qID0gZnVuY3Rpb24gKHYpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodik7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuICdbVW5leHBlY3RlZEpTT05QYXJzZUVycm9yXTogJyArIGVycm9yLm1lc3NhZ2U7XG4gIH1cbn07XG5cblxufSkuY2FsbCh0aGlzLHsgZW52OiB7fSB9KVxuXG59LHtcIi4vY29tbW9uXCI6NTZ9XSw1NjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBUaGlzIGlzIHRoZSBjb21tb24gbG9naWMgZm9yIGJvdGggdGhlIE5vZGUuanMgYW5kIHdlYiBicm93c2VyXG4gKiBpbXBsZW1lbnRhdGlvbnMgb2YgYGRlYnVnKClgLlxuICovXG5mdW5jdGlvbiBzZXR1cChlbnYpIHtcbiAgY3JlYXRlRGVidWcuZGVidWcgPSBjcmVhdGVEZWJ1ZztcbiAgY3JlYXRlRGVidWcuZGVmYXVsdCA9IGNyZWF0ZURlYnVnO1xuICBjcmVhdGVEZWJ1Zy5jb2VyY2UgPSBjb2VyY2U7XG4gIGNyZWF0ZURlYnVnLmRpc2FibGUgPSBkaXNhYmxlO1xuICBjcmVhdGVEZWJ1Zy5lbmFibGUgPSBlbmFibGU7XG4gIGNyZWF0ZURlYnVnLmVuYWJsZWQgPSBlbmFibGVkO1xuICBjcmVhdGVEZWJ1Zy5odW1hbml6ZSA9IHJlcXVpcmUoJ21zJyk7XG4gIE9iamVjdC5rZXlzKGVudikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgY3JlYXRlRGVidWdba2V5XSA9IGVudltrZXldO1xuICB9KTtcbiAgLyoqXG4gICogQWN0aXZlIGBkZWJ1Z2AgaW5zdGFuY2VzLlxuICAqL1xuXG4gIGNyZWF0ZURlYnVnLmluc3RhbmNlcyA9IFtdO1xuICAvKipcbiAgKiBUaGUgY3VycmVudGx5IGFjdGl2ZSBkZWJ1ZyBtb2RlIG5hbWVzLCBhbmQgbmFtZXMgdG8gc2tpcC5cbiAgKi9cblxuICBjcmVhdGVEZWJ1Zy5uYW1lcyA9IFtdO1xuICBjcmVhdGVEZWJ1Zy5za2lwcyA9IFtdO1xuICAvKipcbiAgKiBNYXAgb2Ygc3BlY2lhbCBcIiVuXCIgaGFuZGxpbmcgZnVuY3Rpb25zLCBmb3IgdGhlIGRlYnVnIFwiZm9ybWF0XCIgYXJndW1lbnQuXG4gICpcbiAgKiBWYWxpZCBrZXkgbmFtZXMgYXJlIGEgc2luZ2xlLCBsb3dlciBvciB1cHBlci1jYXNlIGxldHRlciwgaS5lLiBcIm5cIiBhbmQgXCJOXCIuXG4gICovXG5cbiAgY3JlYXRlRGVidWcuZm9ybWF0dGVycyA9IHt9O1xuICAvKipcbiAgKiBTZWxlY3RzIGEgY29sb3IgZm9yIGEgZGVidWcgbmFtZXNwYWNlXG4gICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZSBUaGUgbmFtZXNwYWNlIHN0cmluZyBmb3IgdGhlIGZvciB0aGUgZGVidWcgaW5zdGFuY2UgdG8gYmUgY29sb3JlZFxuICAqIEByZXR1cm4ge051bWJlcnxTdHJpbmd9IEFuIEFOU0kgY29sb3IgY29kZSBmb3IgdGhlIGdpdmVuIG5hbWVzcGFjZVxuICAqIEBhcGkgcHJpdmF0ZVxuICAqL1xuXG4gIGZ1bmN0aW9uIHNlbGVjdENvbG9yKG5hbWVzcGFjZSkge1xuICAgIHZhciBoYXNoID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmFtZXNwYWNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBoYXNoID0gKGhhc2ggPDwgNSkgLSBoYXNoICsgbmFtZXNwYWNlLmNoYXJDb2RlQXQoaSk7XG4gICAgICBoYXNoIHw9IDA7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlclxuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVEZWJ1Zy5jb2xvcnNbTWF0aC5hYnMoaGFzaCkgJSBjcmVhdGVEZWJ1Zy5jb2xvcnMubGVuZ3RoXTtcbiAgfVxuXG4gIGNyZWF0ZURlYnVnLnNlbGVjdENvbG9yID0gc2VsZWN0Q29sb3I7XG4gIC8qKlxuICAqIENyZWF0ZSBhIGRlYnVnZ2VyIHdpdGggdGhlIGdpdmVuIGBuYW1lc3BhY2VgLlxuICAqXG4gICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZVxuICAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICAqIEBhcGkgcHVibGljXG4gICovXG5cbiAgZnVuY3Rpb24gY3JlYXRlRGVidWcobmFtZXNwYWNlKSB7XG4gICAgdmFyIHByZXZUaW1lO1xuXG4gICAgZnVuY3Rpb24gZGVidWcoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgLy8gRGlzYWJsZWQ/XG4gICAgICBpZiAoIWRlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2VsZiA9IGRlYnVnOyAvLyBTZXQgYGRpZmZgIHRpbWVzdGFtcFxuXG4gICAgICB2YXIgY3VyciA9IE51bWJlcihuZXcgRGF0ZSgpKTtcbiAgICAgIHZhciBtcyA9IGN1cnIgLSAocHJldlRpbWUgfHwgY3Vycik7XG4gICAgICBzZWxmLmRpZmYgPSBtcztcbiAgICAgIHNlbGYucHJldiA9IHByZXZUaW1lO1xuICAgICAgc2VsZi5jdXJyID0gY3VycjtcbiAgICAgIHByZXZUaW1lID0gY3VycjtcbiAgICAgIGFyZ3NbMF0gPSBjcmVhdGVEZWJ1Zy5jb2VyY2UoYXJnc1swXSk7XG5cbiAgICAgIGlmICh0eXBlb2YgYXJnc1swXSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gQW55dGhpbmcgZWxzZSBsZXQncyBpbnNwZWN0IHdpdGggJU9cbiAgICAgICAgYXJncy51bnNoaWZ0KCclTycpO1xuICAgICAgfSAvLyBBcHBseSBhbnkgYGZvcm1hdHRlcnNgIHRyYW5zZm9ybWF0aW9uc1xuXG5cbiAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICBhcmdzWzBdID0gYXJnc1swXS5yZXBsYWNlKC8lKFthLXpBLVolXSkvZywgZnVuY3Rpb24gKG1hdGNoLCBmb3JtYXQpIHtcbiAgICAgICAgLy8gSWYgd2UgZW5jb3VudGVyIGFuIGVzY2FwZWQgJSB0aGVuIGRvbid0IGluY3JlYXNlIHRoZSBhcnJheSBpbmRleFxuICAgICAgICBpZiAobWF0Y2ggPT09ICclJScpIHtcbiAgICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICAgIH1cblxuICAgICAgICBpbmRleCsrO1xuICAgICAgICB2YXIgZm9ybWF0dGVyID0gY3JlYXRlRGVidWcuZm9ybWF0dGVyc1tmb3JtYXRdO1xuXG4gICAgICAgIGlmICh0eXBlb2YgZm9ybWF0dGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdmFyIHZhbCA9IGFyZ3NbaW5kZXhdO1xuICAgICAgICAgIG1hdGNoID0gZm9ybWF0dGVyLmNhbGwoc2VsZiwgdmFsKTsgLy8gTm93IHdlIG5lZWQgdG8gcmVtb3ZlIGBhcmdzW2luZGV4XWAgc2luY2UgaXQncyBpbmxpbmVkIGluIHRoZSBgZm9ybWF0YFxuXG4gICAgICAgICAgYXJncy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgIGluZGV4LS07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICB9KTsgLy8gQXBwbHkgZW52LXNwZWNpZmljIGZvcm1hdHRpbmcgKGNvbG9ycywgZXRjLilcblxuICAgICAgY3JlYXRlRGVidWcuZm9ybWF0QXJncy5jYWxsKHNlbGYsIGFyZ3MpO1xuICAgICAgdmFyIGxvZ0ZuID0gc2VsZi5sb2cgfHwgY3JlYXRlRGVidWcubG9nO1xuICAgICAgbG9nRm4uYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgfVxuXG4gICAgZGVidWcubmFtZXNwYWNlID0gbmFtZXNwYWNlO1xuICAgIGRlYnVnLmVuYWJsZWQgPSBjcmVhdGVEZWJ1Zy5lbmFibGVkKG5hbWVzcGFjZSk7XG4gICAgZGVidWcudXNlQ29sb3JzID0gY3JlYXRlRGVidWcudXNlQ29sb3JzKCk7XG4gICAgZGVidWcuY29sb3IgPSBzZWxlY3RDb2xvcihuYW1lc3BhY2UpO1xuICAgIGRlYnVnLmRlc3Ryb3kgPSBkZXN0cm95O1xuICAgIGRlYnVnLmV4dGVuZCA9IGV4dGVuZDsgLy8gRGVidWcuZm9ybWF0QXJncyA9IGZvcm1hdEFyZ3M7XG4gICAgLy8gZGVidWcucmF3TG9nID0gcmF3TG9nO1xuICAgIC8vIGVudi1zcGVjaWZpYyBpbml0aWFsaXphdGlvbiBsb2dpYyBmb3IgZGVidWcgaW5zdGFuY2VzXG5cbiAgICBpZiAodHlwZW9mIGNyZWF0ZURlYnVnLmluaXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNyZWF0ZURlYnVnLmluaXQoZGVidWcpO1xuICAgIH1cblxuICAgIGNyZWF0ZURlYnVnLmluc3RhbmNlcy5wdXNoKGRlYnVnKTtcbiAgICByZXR1cm4gZGVidWc7XG4gIH1cblxuICBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHZhciBpbmRleCA9IGNyZWF0ZURlYnVnLmluc3RhbmNlcy5pbmRleE9mKHRoaXMpO1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgY3JlYXRlRGVidWcuaW5zdGFuY2VzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBleHRlbmQobmFtZXNwYWNlLCBkZWxpbWl0ZXIpIHtcbiAgICByZXR1cm4gY3JlYXRlRGVidWcodGhpcy5uYW1lc3BhY2UgKyAodHlwZW9mIGRlbGltaXRlciA9PT0gJ3VuZGVmaW5lZCcgPyAnOicgOiBkZWxpbWl0ZXIpICsgbmFtZXNwYWNlKTtcbiAgfVxuICAvKipcbiAgKiBFbmFibGVzIGEgZGVidWcgbW9kZSBieSBuYW1lc3BhY2VzLiBUaGlzIGNhbiBpbmNsdWRlIG1vZGVzXG4gICogc2VwYXJhdGVkIGJ5IGEgY29sb24gYW5kIHdpbGRjYXJkcy5cbiAgKlxuICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG4gICogQGFwaSBwdWJsaWNcbiAgKi9cblxuXG4gIGZ1bmN0aW9uIGVuYWJsZShuYW1lc3BhY2VzKSB7XG4gICAgY3JlYXRlRGVidWcuc2F2ZShuYW1lc3BhY2VzKTtcbiAgICBjcmVhdGVEZWJ1Zy5uYW1lcyA9IFtdO1xuICAgIGNyZWF0ZURlYnVnLnNraXBzID0gW107XG4gICAgdmFyIGk7XG4gICAgdmFyIHNwbGl0ID0gKHR5cGVvZiBuYW1lc3BhY2VzID09PSAnc3RyaW5nJyA/IG5hbWVzcGFjZXMgOiAnJykuc3BsaXQoL1tcXHMsXSsvKTtcbiAgICB2YXIgbGVuID0gc3BsaXQubGVuZ3RoO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoIXNwbGl0W2ldKSB7XG4gICAgICAgIC8vIGlnbm9yZSBlbXB0eSBzdHJpbmdzXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBuYW1lc3BhY2VzID0gc3BsaXRbaV0ucmVwbGFjZSgvXFwqL2csICcuKj8nKTtcblxuICAgICAgaWYgKG5hbWVzcGFjZXNbMF0gPT09ICctJykge1xuICAgICAgICBjcmVhdGVEZWJ1Zy5za2lwcy5wdXNoKG5ldyBSZWdFeHAoJ14nICsgbmFtZXNwYWNlcy5zdWJzdHIoMSkgKyAnJCcpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNyZWF0ZURlYnVnLm5hbWVzLnB1c2gobmV3IFJlZ0V4cCgnXicgKyBuYW1lc3BhY2VzICsgJyQnKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IGNyZWF0ZURlYnVnLmluc3RhbmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGluc3RhbmNlID0gY3JlYXRlRGVidWcuaW5zdGFuY2VzW2ldO1xuICAgICAgaW5zdGFuY2UuZW5hYmxlZCA9IGNyZWF0ZURlYnVnLmVuYWJsZWQoaW5zdGFuY2UubmFtZXNwYWNlKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICogRGlzYWJsZSBkZWJ1ZyBvdXRwdXQuXG4gICpcbiAgKiBAYXBpIHB1YmxpY1xuICAqL1xuXG5cbiAgZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgICBjcmVhdGVEZWJ1Zy5lbmFibGUoJycpO1xuICB9XG4gIC8qKlxuICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gbW9kZSBuYW1lIGlzIGVuYWJsZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAgKlxuICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gICogQHJldHVybiB7Qm9vbGVhbn1cbiAgKiBAYXBpIHB1YmxpY1xuICAqL1xuXG5cbiAgZnVuY3Rpb24gZW5hYmxlZChuYW1lKSB7XG4gICAgaWYgKG5hbWVbbmFtZS5sZW5ndGggLSAxXSA9PT0gJyonKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgaTtcbiAgICB2YXIgbGVuO1xuXG4gICAgZm9yIChpID0gMCwgbGVuID0gY3JlYXRlRGVidWcuc2tpcHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmIChjcmVhdGVEZWJ1Zy5za2lwc1tpXS50ZXN0KG5hbWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBjcmVhdGVEZWJ1Zy5uYW1lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKGNyZWF0ZURlYnVnLm5hbWVzW2ldLnRlc3QobmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8qKlxuICAqIENvZXJjZSBgdmFsYC5cbiAgKlxuICAqIEBwYXJhbSB7TWl4ZWR9IHZhbFxuICAqIEByZXR1cm4ge01peGVkfVxuICAqIEBhcGkgcHJpdmF0ZVxuICAqL1xuXG5cbiAgZnVuY3Rpb24gY29lcmNlKHZhbCkge1xuICAgIGlmICh2YWwgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgcmV0dXJuIHZhbC5zdGFjayB8fCB2YWwubWVzc2FnZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsO1xuICB9XG5cbiAgY3JlYXRlRGVidWcuZW5hYmxlKGNyZWF0ZURlYnVnLmxvYWQoKSk7XG4gIHJldHVybiBjcmVhdGVEZWJ1Zztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXR1cDtcblxuXG59LHtcIm1zXCI6NTR9XSw1NzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5pZiAodHlwZW9mIE9iamVjdC5jcmVhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgLy8gaW1wbGVtZW50YXRpb24gZnJvbSBzdGFuZGFyZCBub2RlLmpzICd1dGlsJyBtb2R1bGVcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7XG4gICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogY3RvcixcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn0gZWxzZSB7XG4gIC8vIG9sZCBzY2hvb2wgc2hpbSBmb3Igb2xkIGJyb3dzZXJzXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICB2YXIgVGVtcEN0b3IgPSBmdW5jdGlvbiAoKSB7fVxuICAgIFRlbXBDdG9yLnByb3RvdHlwZSA9IHN1cGVyQ3Rvci5wcm90b3R5cGVcbiAgICBjdG9yLnByb3RvdHlwZSA9IG5ldyBUZW1wQ3RvcigpXG4gICAgY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yXG4gIH1cbn1cblxufSx7fV0sNTg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChnbG9iYWwpe1xuLyohIEpTT04gdjMuMy4yIHwgaHR0cDovL2Jlc3RpZWpzLmdpdGh1Yi5pby9qc29uMyB8IENvcHlyaWdodCAyMDEyLTIwMTQsIEtpdCBDYW1icmlkZ2UgfCBodHRwOi8va2l0Lm1pdC1saWNlbnNlLm9yZyAqL1xuOyhmdW5jdGlvbiAoKSB7XG4gIC8vIERldGVjdCB0aGUgYGRlZmluZWAgZnVuY3Rpb24gZXhwb3NlZCBieSBhc3luY2hyb25vdXMgbW9kdWxlIGxvYWRlcnMuIFRoZVxuICAvLyBzdHJpY3QgYGRlZmluZWAgY2hlY2sgaXMgbmVjZXNzYXJ5IGZvciBjb21wYXRpYmlsaXR5IHdpdGggYHIuanNgLlxuICB2YXIgaXNMb2FkZXIgPSB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZDtcblxuICAvLyBBIHNldCBvZiB0eXBlcyB1c2VkIHRvIGRpc3Rpbmd1aXNoIG9iamVjdHMgZnJvbSBwcmltaXRpdmVzLlxuICB2YXIgb2JqZWN0VHlwZXMgPSB7XG4gICAgXCJmdW5jdGlvblwiOiB0cnVlLFxuICAgIFwib2JqZWN0XCI6IHRydWVcbiAgfTtcblxuICAvLyBEZXRlY3QgdGhlIGBleHBvcnRzYCBvYmplY3QgZXhwb3NlZCBieSBDb21tb25KUyBpbXBsZW1lbnRhdGlvbnMuXG4gIHZhciBmcmVlRXhwb3J0cyA9IG9iamVjdFR5cGVzW3R5cGVvZiBleHBvcnRzXSAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbiAgLy8gVXNlIHRoZSBgZ2xvYmFsYCBvYmplY3QgZXhwb3NlZCBieSBOb2RlIChpbmNsdWRpbmcgQnJvd3NlcmlmeSB2aWFcbiAgLy8gYGluc2VydC1tb2R1bGUtZ2xvYmFsc2ApLCBOYXJ3aGFsLCBhbmQgUmluZ28gYXMgdGhlIGRlZmF1bHQgY29udGV4dCxcbiAgLy8gYW5kIHRoZSBgd2luZG93YCBvYmplY3QgaW4gYnJvd3NlcnMuIFJoaW5vIGV4cG9ydHMgYSBgZ2xvYmFsYCBmdW5jdGlvblxuICAvLyBpbnN0ZWFkLlxuICB2YXIgcm9vdCA9IG9iamVjdFR5cGVzW3R5cGVvZiB3aW5kb3ddICYmIHdpbmRvdyB8fCB0aGlzLFxuICAgICAgZnJlZUdsb2JhbCA9IGZyZWVFeHBvcnRzICYmIG9iamVjdFR5cGVzW3R5cGVvZiBtb2R1bGVdICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIHR5cGVvZiBnbG9iYWwgPT0gXCJvYmplY3RcIiAmJiBnbG9iYWw7XG5cbiAgaWYgKGZyZWVHbG9iYWwgJiYgKGZyZWVHbG9iYWxbXCJnbG9iYWxcIl0gPT09IGZyZWVHbG9iYWwgfHwgZnJlZUdsb2JhbFtcIndpbmRvd1wiXSA9PT0gZnJlZUdsb2JhbCB8fCBmcmVlR2xvYmFsW1wic2VsZlwiXSA9PT0gZnJlZUdsb2JhbCkpIHtcbiAgICByb290ID0gZnJlZUdsb2JhbDtcbiAgfVxuXG4gIC8vIFB1YmxpYzogSW5pdGlhbGl6ZXMgSlNPTiAzIHVzaW5nIHRoZSBnaXZlbiBgY29udGV4dGAgb2JqZWN0LCBhdHRhY2hpbmcgdGhlXG4gIC8vIGBzdHJpbmdpZnlgIGFuZCBgcGFyc2VgIGZ1bmN0aW9ucyB0byB0aGUgc3BlY2lmaWVkIGBleHBvcnRzYCBvYmplY3QuXG4gIGZ1bmN0aW9uIHJ1bkluQ29udGV4dChjb250ZXh0LCBleHBvcnRzKSB7XG4gICAgY29udGV4dCB8fCAoY29udGV4dCA9IHJvb3RbXCJPYmplY3RcIl0oKSk7XG4gICAgZXhwb3J0cyB8fCAoZXhwb3J0cyA9IHJvb3RbXCJPYmplY3RcIl0oKSk7XG5cbiAgICAvLyBOYXRpdmUgY29uc3RydWN0b3IgYWxpYXNlcy5cbiAgICB2YXIgTnVtYmVyID0gY29udGV4dFtcIk51bWJlclwiXSB8fCByb290W1wiTnVtYmVyXCJdLFxuICAgICAgICBTdHJpbmcgPSBjb250ZXh0W1wiU3RyaW5nXCJdIHx8IHJvb3RbXCJTdHJpbmdcIl0sXG4gICAgICAgIE9iamVjdCA9IGNvbnRleHRbXCJPYmplY3RcIl0gfHwgcm9vdFtcIk9iamVjdFwiXSxcbiAgICAgICAgRGF0ZSA9IGNvbnRleHRbXCJEYXRlXCJdIHx8IHJvb3RbXCJEYXRlXCJdLFxuICAgICAgICBTeW50YXhFcnJvciA9IGNvbnRleHRbXCJTeW50YXhFcnJvclwiXSB8fCByb290W1wiU3ludGF4RXJyb3JcIl0sXG4gICAgICAgIFR5cGVFcnJvciA9IGNvbnRleHRbXCJUeXBlRXJyb3JcIl0gfHwgcm9vdFtcIlR5cGVFcnJvclwiXSxcbiAgICAgICAgTWF0aCA9IGNvbnRleHRbXCJNYXRoXCJdIHx8IHJvb3RbXCJNYXRoXCJdLFxuICAgICAgICBuYXRpdmVKU09OID0gY29udGV4dFtcIkpTT05cIl0gfHwgcm9vdFtcIkpTT05cIl07XG5cbiAgICAvLyBEZWxlZ2F0ZSB0byB0aGUgbmF0aXZlIGBzdHJpbmdpZnlgIGFuZCBgcGFyc2VgIGltcGxlbWVudGF0aW9ucy5cbiAgICBpZiAodHlwZW9mIG5hdGl2ZUpTT04gPT0gXCJvYmplY3RcIiAmJiBuYXRpdmVKU09OKSB7XG4gICAgICBleHBvcnRzLnN0cmluZ2lmeSA9IG5hdGl2ZUpTT04uc3RyaW5naWZ5O1xuICAgICAgZXhwb3J0cy5wYXJzZSA9IG5hdGl2ZUpTT04ucGFyc2U7XG4gICAgfVxuXG4gICAgLy8gQ29udmVuaWVuY2UgYWxpYXNlcy5cbiAgICB2YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlLFxuICAgICAgICBnZXRDbGFzcyA9IG9iamVjdFByb3RvLnRvU3RyaW5nLFxuICAgICAgICBpc1Byb3BlcnR5LCBmb3JFYWNoLCB1bmRlZjtcblxuICAgIC8vIFRlc3QgdGhlIGBEYXRlI2dldFVUQypgIG1ldGhvZHMuIEJhc2VkIG9uIHdvcmsgYnkgQFlhZmZsZS5cbiAgICB2YXIgaXNFeHRlbmRlZCA9IG5ldyBEYXRlKC0zNTA5ODI3MzM0NTczMjkyKTtcbiAgICB0cnkge1xuICAgICAgLy8gVGhlIGBnZXRVVENGdWxsWWVhcmAsIGBNb250aGAsIGFuZCBgRGF0ZWAgbWV0aG9kcyByZXR1cm4gbm9uc2Vuc2ljYWxcbiAgICAgIC8vIHJlc3VsdHMgZm9yIGNlcnRhaW4gZGF0ZXMgaW4gT3BlcmEgPj0gMTAuNTMuXG4gICAgICBpc0V4dGVuZGVkID0gaXNFeHRlbmRlZC5nZXRVVENGdWxsWWVhcigpID09IC0xMDkyNTIgJiYgaXNFeHRlbmRlZC5nZXRVVENNb250aCgpID09PSAwICYmIGlzRXh0ZW5kZWQuZ2V0VVRDRGF0ZSgpID09PSAxICYmXG4gICAgICAgIC8vIFNhZmFyaSA8IDIuMC4yIHN0b3JlcyB0aGUgaW50ZXJuYWwgbWlsbGlzZWNvbmQgdGltZSB2YWx1ZSBjb3JyZWN0bHksXG4gICAgICAgIC8vIGJ1dCBjbGlwcyB0aGUgdmFsdWVzIHJldHVybmVkIGJ5IHRoZSBkYXRlIG1ldGhvZHMgdG8gdGhlIHJhbmdlIG9mXG4gICAgICAgIC8vIHNpZ25lZCAzMi1iaXQgaW50ZWdlcnMgKFstMiAqKiAzMSwgMiAqKiAzMSAtIDFdKS5cbiAgICAgICAgaXNFeHRlbmRlZC5nZXRVVENIb3VycygpID09IDEwICYmIGlzRXh0ZW5kZWQuZ2V0VVRDTWludXRlcygpID09IDM3ICYmIGlzRXh0ZW5kZWQuZ2V0VVRDU2Vjb25kcygpID09IDYgJiYgaXNFeHRlbmRlZC5nZXRVVENNaWxsaXNlY29uZHMoKSA9PSA3MDg7XG4gICAgfSBjYXRjaCAoZXhjZXB0aW9uKSB7fVxuXG4gICAgLy8gSW50ZXJuYWw6IERldGVybWluZXMgd2hldGhlciB0aGUgbmF0aXZlIGBKU09OLnN0cmluZ2lmeWAgYW5kIGBwYXJzZWBcbiAgICAvLyBpbXBsZW1lbnRhdGlvbnMgYXJlIHNwZWMtY29tcGxpYW50LiBCYXNlZCBvbiB3b3JrIGJ5IEtlbiBTbnlkZXIuXG4gICAgZnVuY3Rpb24gaGFzKG5hbWUpIHtcbiAgICAgIGlmIChoYXNbbmFtZV0gIT09IHVuZGVmKSB7XG4gICAgICAgIC8vIFJldHVybiBjYWNoZWQgZmVhdHVyZSB0ZXN0IHJlc3VsdC5cbiAgICAgICAgcmV0dXJuIGhhc1tuYW1lXTtcbiAgICAgIH1cbiAgICAgIHZhciBpc1N1cHBvcnRlZDtcbiAgICAgIGlmIChuYW1lID09IFwiYnVnLXN0cmluZy1jaGFyLWluZGV4XCIpIHtcbiAgICAgICAgLy8gSUUgPD0gNyBkb2Vzbid0IHN1cHBvcnQgYWNjZXNzaW5nIHN0cmluZyBjaGFyYWN0ZXJzIHVzaW5nIHNxdWFyZVxuICAgICAgICAvLyBicmFja2V0IG5vdGF0aW9uLiBJRSA4IG9ubHkgc3VwcG9ydHMgdGhpcyBmb3IgcHJpbWl0aXZlcy5cbiAgICAgICAgaXNTdXBwb3J0ZWQgPSBcImFcIlswXSAhPSBcImFcIjtcbiAgICAgIH0gZWxzZSBpZiAobmFtZSA9PSBcImpzb25cIikge1xuICAgICAgICAvLyBJbmRpY2F0ZXMgd2hldGhlciBib3RoIGBKU09OLnN0cmluZ2lmeWAgYW5kIGBKU09OLnBhcnNlYCBhcmVcbiAgICAgICAgLy8gc3VwcG9ydGVkLlxuICAgICAgICBpc1N1cHBvcnRlZCA9IGhhcyhcImpzb24tc3RyaW5naWZ5XCIpICYmIGhhcyhcImpzb24tcGFyc2VcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdmFsdWUsIHNlcmlhbGl6ZWQgPSAne1wiYVwiOlsxLHRydWUsZmFsc2UsbnVsbCxcIlxcXFx1MDAwMFxcXFxiXFxcXG5cXFxcZlxcXFxyXFxcXHRcIl19JztcbiAgICAgICAgLy8gVGVzdCBgSlNPTi5zdHJpbmdpZnlgLlxuICAgICAgICBpZiAobmFtZSA9PSBcImpzb24tc3RyaW5naWZ5XCIpIHtcbiAgICAgICAgICB2YXIgc3RyaW5naWZ5ID0gZXhwb3J0cy5zdHJpbmdpZnksIHN0cmluZ2lmeVN1cHBvcnRlZCA9IHR5cGVvZiBzdHJpbmdpZnkgPT0gXCJmdW5jdGlvblwiICYmIGlzRXh0ZW5kZWQ7XG4gICAgICAgICAgaWYgKHN0cmluZ2lmeVN1cHBvcnRlZCkge1xuICAgICAgICAgICAgLy8gQSB0ZXN0IGZ1bmN0aW9uIG9iamVjdCB3aXRoIGEgY3VzdG9tIGB0b0pTT05gIG1ldGhvZC5cbiAgICAgICAgICAgICh2YWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICB9KS50b0pTT04gPSB2YWx1ZTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHN0cmluZ2lmeVN1cHBvcnRlZCA9XG4gICAgICAgICAgICAgICAgLy8gRmlyZWZveCAzLjFiMSBhbmQgYjIgc2VyaWFsaXplIHN0cmluZywgbnVtYmVyLCBhbmQgYm9vbGVhblxuICAgICAgICAgICAgICAgIC8vIHByaW1pdGl2ZXMgYXMgb2JqZWN0IGxpdGVyYWxzLlxuICAgICAgICAgICAgICAgIHN0cmluZ2lmeSgwKSA9PT0gXCIwXCIgJiZcbiAgICAgICAgICAgICAgICAvLyBGRiAzLjFiMSwgYjIsIGFuZCBKU09OIDIgc2VyaWFsaXplIHdyYXBwZWQgcHJpbWl0aXZlcyBhcyBvYmplY3RcbiAgICAgICAgICAgICAgICAvLyBsaXRlcmFscy5cbiAgICAgICAgICAgICAgICBzdHJpbmdpZnkobmV3IE51bWJlcigpKSA9PT0gXCIwXCIgJiZcbiAgICAgICAgICAgICAgICBzdHJpbmdpZnkobmV3IFN0cmluZygpKSA9PSAnXCJcIicgJiZcbiAgICAgICAgICAgICAgICAvLyBGRiAzLjFiMSwgMiB0aHJvdyBhbiBlcnJvciBpZiB0aGUgdmFsdWUgaXMgYG51bGxgLCBgdW5kZWZpbmVkYCwgb3JcbiAgICAgICAgICAgICAgICAvLyBkb2VzIG5vdCBkZWZpbmUgYSBjYW5vbmljYWwgSlNPTiByZXByZXNlbnRhdGlvbiAodGhpcyBhcHBsaWVzIHRvXG4gICAgICAgICAgICAgICAgLy8gb2JqZWN0cyB3aXRoIGB0b0pTT05gIHByb3BlcnRpZXMgYXMgd2VsbCwgKnVubGVzcyogdGhleSBhcmUgbmVzdGVkXG4gICAgICAgICAgICAgICAgLy8gd2l0aGluIGFuIG9iamVjdCBvciBhcnJheSkuXG4gICAgICAgICAgICAgICAgc3RyaW5naWZ5KGdldENsYXNzKSA9PT0gdW5kZWYgJiZcbiAgICAgICAgICAgICAgICAvLyBJRSA4IHNlcmlhbGl6ZXMgYHVuZGVmaW5lZGAgYXMgYFwidW5kZWZpbmVkXCJgLiBTYWZhcmkgPD0gNS4xLjcgYW5kXG4gICAgICAgICAgICAgICAgLy8gRkYgMy4xYjMgcGFzcyB0aGlzIHRlc3QuXG4gICAgICAgICAgICAgICAgc3RyaW5naWZ5KHVuZGVmKSA9PT0gdW5kZWYgJiZcbiAgICAgICAgICAgICAgICAvLyBTYWZhcmkgPD0gNS4xLjcgYW5kIEZGIDMuMWIzIHRocm93IGBFcnJvcmBzIGFuZCBgVHlwZUVycm9yYHMsXG4gICAgICAgICAgICAgICAgLy8gcmVzcGVjdGl2ZWx5LCBpZiB0aGUgdmFsdWUgaXMgb21pdHRlZCBlbnRpcmVseS5cbiAgICAgICAgICAgICAgICBzdHJpbmdpZnkoKSA9PT0gdW5kZWYgJiZcbiAgICAgICAgICAgICAgICAvLyBGRiAzLjFiMSwgMiB0aHJvdyBhbiBlcnJvciBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgbm90IGEgbnVtYmVyLFxuICAgICAgICAgICAgICAgIC8vIHN0cmluZywgYXJyYXksIG9iamVjdCwgQm9vbGVhbiwgb3IgYG51bGxgIGxpdGVyYWwuIFRoaXMgYXBwbGllcyB0b1xuICAgICAgICAgICAgICAgIC8vIG9iamVjdHMgd2l0aCBjdXN0b20gYHRvSlNPTmAgbWV0aG9kcyBhcyB3ZWxsLCB1bmxlc3MgdGhleSBhcmUgbmVzdGVkXG4gICAgICAgICAgICAgICAgLy8gaW5zaWRlIG9iamVjdCBvciBhcnJheSBsaXRlcmFscy4gWVVJIDMuMC4wYjEgaWdub3JlcyBjdXN0b20gYHRvSlNPTmBcbiAgICAgICAgICAgICAgICAvLyBtZXRob2RzIGVudGlyZWx5LlxuICAgICAgICAgICAgICAgIHN0cmluZ2lmeSh2YWx1ZSkgPT09IFwiMVwiICYmXG4gICAgICAgICAgICAgICAgc3RyaW5naWZ5KFt2YWx1ZV0pID09IFwiWzFdXCIgJiZcbiAgICAgICAgICAgICAgICAvLyBQcm90b3R5cGUgPD0gMS42LjEgc2VyaWFsaXplcyBgW3VuZGVmaW5lZF1gIGFzIGBcIltdXCJgIGluc3RlYWQgb2ZcbiAgICAgICAgICAgICAgICAvLyBgXCJbbnVsbF1cImAuXG4gICAgICAgICAgICAgICAgc3RyaW5naWZ5KFt1bmRlZl0pID09IFwiW251bGxdXCIgJiZcbiAgICAgICAgICAgICAgICAvLyBZVUkgMy4wLjBiMSBmYWlscyB0byBzZXJpYWxpemUgYG51bGxgIGxpdGVyYWxzLlxuICAgICAgICAgICAgICAgIHN0cmluZ2lmeShudWxsKSA9PSBcIm51bGxcIiAmJlxuICAgICAgICAgICAgICAgIC8vIEZGIDMuMWIxLCAyIGhhbHRzIHNlcmlhbGl6YXRpb24gaWYgYW4gYXJyYXkgY29udGFpbnMgYSBmdW5jdGlvbjpcbiAgICAgICAgICAgICAgICAvLyBgWzEsIHRydWUsIGdldENsYXNzLCAxXWAgc2VyaWFsaXplcyBhcyBcIlsxLHRydWUsXSxcIi4gRkYgMy4xYjNcbiAgICAgICAgICAgICAgICAvLyBlbGlkZXMgbm9uLUpTT04gdmFsdWVzIGZyb20gb2JqZWN0cyBhbmQgYXJyYXlzLCB1bmxlc3MgdGhleVxuICAgICAgICAgICAgICAgIC8vIGRlZmluZSBjdXN0b20gYHRvSlNPTmAgbWV0aG9kcy5cbiAgICAgICAgICAgICAgICBzdHJpbmdpZnkoW3VuZGVmLCBnZXRDbGFzcywgbnVsbF0pID09IFwiW251bGwsbnVsbCxudWxsXVwiICYmXG4gICAgICAgICAgICAgICAgLy8gU2ltcGxlIHNlcmlhbGl6YXRpb24gdGVzdC4gRkYgMy4xYjEgdXNlcyBVbmljb2RlIGVzY2FwZSBzZXF1ZW5jZXNcbiAgICAgICAgICAgICAgICAvLyB3aGVyZSBjaGFyYWN0ZXIgZXNjYXBlIGNvZGVzIGFyZSBleHBlY3RlZCAoZS5nLiwgYFxcYmAgPT4gYFxcdTAwMDhgKS5cbiAgICAgICAgICAgICAgICBzdHJpbmdpZnkoeyBcImFcIjogW3ZhbHVlLCB0cnVlLCBmYWxzZSwgbnVsbCwgXCJcXHgwMFxcYlxcblxcZlxcclxcdFwiXSB9KSA9PSBzZXJpYWxpemVkICYmXG4gICAgICAgICAgICAgICAgLy8gRkYgMy4xYjEgYW5kIGIyIGlnbm9yZSB0aGUgYGZpbHRlcmAgYW5kIGB3aWR0aGAgYXJndW1lbnRzLlxuICAgICAgICAgICAgICAgIHN0cmluZ2lmeShudWxsLCB2YWx1ZSkgPT09IFwiMVwiICYmXG4gICAgICAgICAgICAgICAgc3RyaW5naWZ5KFsxLCAyXSwgbnVsbCwgMSkgPT0gXCJbXFxuIDEsXFxuIDJcXG5dXCIgJiZcbiAgICAgICAgICAgICAgICAvLyBKU09OIDIsIFByb3RvdHlwZSA8PSAxLjcsIGFuZCBvbGRlciBXZWJLaXQgYnVpbGRzIGluY29ycmVjdGx5XG4gICAgICAgICAgICAgICAgLy8gc2VyaWFsaXplIGV4dGVuZGVkIHllYXJzLlxuICAgICAgICAgICAgICAgIHN0cmluZ2lmeShuZXcgRGF0ZSgtOC42NGUxNSkpID09ICdcIi0yNzE4MjEtMDQtMjBUMDA6MDA6MDAuMDAwWlwiJyAmJlxuICAgICAgICAgICAgICAgIC8vIFRoZSBtaWxsaXNlY29uZHMgYXJlIG9wdGlvbmFsIGluIEVTIDUsIGJ1dCByZXF1aXJlZCBpbiA1LjEuXG4gICAgICAgICAgICAgICAgc3RyaW5naWZ5KG5ldyBEYXRlKDguNjRlMTUpKSA9PSAnXCIrMjc1NzYwLTA5LTEzVDAwOjAwOjAwLjAwMFpcIicgJiZcbiAgICAgICAgICAgICAgICAvLyBGaXJlZm94IDw9IDExLjAgaW5jb3JyZWN0bHkgc2VyaWFsaXplcyB5ZWFycyBwcmlvciB0byAwIGFzIG5lZ2F0aXZlXG4gICAgICAgICAgICAgICAgLy8gZm91ci1kaWdpdCB5ZWFycyBpbnN0ZWFkIG9mIHNpeC1kaWdpdCB5ZWFycy4gQ3JlZGl0czogQFlhZmZsZS5cbiAgICAgICAgICAgICAgICBzdHJpbmdpZnkobmV3IERhdGUoLTYyMTk4NzU1MmU1KSkgPT0gJ1wiLTAwMDAwMS0wMS0wMVQwMDowMDowMC4wMDBaXCInICYmXG4gICAgICAgICAgICAgICAgLy8gU2FmYXJpIDw9IDUuMS41IGFuZCBPcGVyYSA+PSAxMC41MyBpbmNvcnJlY3RseSBzZXJpYWxpemUgbWlsbGlzZWNvbmRcbiAgICAgICAgICAgICAgICAvLyB2YWx1ZXMgbGVzcyB0aGFuIDEwMDAuIENyZWRpdHM6IEBZYWZmbGUuXG4gICAgICAgICAgICAgICAgc3RyaW5naWZ5KG5ldyBEYXRlKC0xKSkgPT0gJ1wiMTk2OS0xMi0zMVQyMzo1OTo1OS45OTlaXCInO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXhjZXB0aW9uKSB7XG4gICAgICAgICAgICAgIHN0cmluZ2lmeVN1cHBvcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpc1N1cHBvcnRlZCA9IHN0cmluZ2lmeVN1cHBvcnRlZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBUZXN0IGBKU09OLnBhcnNlYC5cbiAgICAgICAgaWYgKG5hbWUgPT0gXCJqc29uLXBhcnNlXCIpIHtcbiAgICAgICAgICB2YXIgcGFyc2UgPSBleHBvcnRzLnBhcnNlO1xuICAgICAgICAgIGlmICh0eXBlb2YgcGFyc2UgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAvLyBGRiAzLjFiMSwgYjIgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYSBiYXJlIGxpdGVyYWwgaXMgcHJvdmlkZWQuXG4gICAgICAgICAgICAgIC8vIENvbmZvcm1pbmcgaW1wbGVtZW50YXRpb25zIHNob3VsZCBhbHNvIGNvZXJjZSB0aGUgaW5pdGlhbCBhcmd1bWVudCB0b1xuICAgICAgICAgICAgICAvLyBhIHN0cmluZyBwcmlvciB0byBwYXJzaW5nLlxuICAgICAgICAgICAgICBpZiAocGFyc2UoXCIwXCIpID09PSAwICYmICFwYXJzZShmYWxzZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBTaW1wbGUgcGFyc2luZyB0ZXN0LlxuICAgICAgICAgICAgICAgIHZhbHVlID0gcGFyc2Uoc2VyaWFsaXplZCk7XG4gICAgICAgICAgICAgICAgdmFyIHBhcnNlU3VwcG9ydGVkID0gdmFsdWVbXCJhXCJdLmxlbmd0aCA9PSA1ICYmIHZhbHVlW1wiYVwiXVswXSA9PT0gMTtcbiAgICAgICAgICAgICAgICBpZiAocGFyc2VTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNhZmFyaSA8PSA1LjEuMiBhbmQgRkYgMy4xYjEgYWxsb3cgdW5lc2NhcGVkIHRhYnMgaW4gc3RyaW5ncy5cbiAgICAgICAgICAgICAgICAgICAgcGFyc2VTdXBwb3J0ZWQgPSAhcGFyc2UoJ1wiXFx0XCInKTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4Y2VwdGlvbikge31cbiAgICAgICAgICAgICAgICAgIGlmIChwYXJzZVN1cHBvcnRlZCkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIEZGIDQuMCBhbmQgNC4wLjEgYWxsb3cgbGVhZGluZyBgK2Agc2lnbnMgYW5kIGxlYWRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAvLyBkZWNpbWFsIHBvaW50cy4gRkYgNC4wLCA0LjAuMSwgYW5kIElFIDktMTAgYWxzbyBhbGxvd1xuICAgICAgICAgICAgICAgICAgICAgIC8vIGNlcnRhaW4gb2N0YWwgbGl0ZXJhbHMuXG4gICAgICAgICAgICAgICAgICAgICAgcGFyc2VTdXBwb3J0ZWQgPSBwYXJzZShcIjAxXCIpICE9PSAxO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChleGNlcHRpb24pIHt9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAocGFyc2VTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBGRiA0LjAsIDQuMC4xLCBhbmQgUmhpbm8gMS43UjMtUjQgYWxsb3cgdHJhaWxpbmcgZGVjaW1hbFxuICAgICAgICAgICAgICAgICAgICAgIC8vIHBvaW50cy4gVGhlc2UgZW52aXJvbm1lbnRzLCBhbG9uZyB3aXRoIEZGIDMuMWIxIGFuZCAyLFxuICAgICAgICAgICAgICAgICAgICAgIC8vIGFsc28gYWxsb3cgdHJhaWxpbmcgY29tbWFzIGluIEpTT04gb2JqZWN0cyBhbmQgYXJyYXlzLlxuICAgICAgICAgICAgICAgICAgICAgIHBhcnNlU3VwcG9ydGVkID0gcGFyc2UoXCIxLlwiKSAhPT0gMTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXhjZXB0aW9uKSB7fVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXhjZXB0aW9uKSB7XG4gICAgICAgICAgICAgIHBhcnNlU3VwcG9ydGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlzU3VwcG9ydGVkID0gcGFyc2VTdXBwb3J0ZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBoYXNbbmFtZV0gPSAhIWlzU3VwcG9ydGVkO1xuICAgIH1cblxuICAgIGlmICghaGFzKFwianNvblwiKSkge1xuICAgICAgLy8gQ29tbW9uIGBbW0NsYXNzXV1gIG5hbWUgYWxpYXNlcy5cbiAgICAgIHZhciBmdW5jdGlvbkNsYXNzID0gXCJbb2JqZWN0IEZ1bmN0aW9uXVwiLFxuICAgICAgICAgIGRhdGVDbGFzcyA9IFwiW29iamVjdCBEYXRlXVwiLFxuICAgICAgICAgIG51bWJlckNsYXNzID0gXCJbb2JqZWN0IE51bWJlcl1cIixcbiAgICAgICAgICBzdHJpbmdDbGFzcyA9IFwiW29iamVjdCBTdHJpbmddXCIsXG4gICAgICAgICAgYXJyYXlDbGFzcyA9IFwiW29iamVjdCBBcnJheV1cIixcbiAgICAgICAgICBib29sZWFuQ2xhc3MgPSBcIltvYmplY3QgQm9vbGVhbl1cIjtcblxuICAgICAgLy8gRGV0ZWN0IGluY29tcGxldGUgc3VwcG9ydCBmb3IgYWNjZXNzaW5nIHN0cmluZyBjaGFyYWN0ZXJzIGJ5IGluZGV4LlxuICAgICAgdmFyIGNoYXJJbmRleEJ1Z2d5ID0gaGFzKFwiYnVnLXN0cmluZy1jaGFyLWluZGV4XCIpO1xuXG4gICAgICAvLyBEZWZpbmUgYWRkaXRpb25hbCB1dGlsaXR5IG1ldGhvZHMgaWYgdGhlIGBEYXRlYCBtZXRob2RzIGFyZSBidWdneS5cbiAgICAgIGlmICghaXNFeHRlbmRlZCkge1xuICAgICAgICB2YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xuICAgICAgICAvLyBBIG1hcHBpbmcgYmV0d2VlbiB0aGUgbW9udGhzIG9mIHRoZSB5ZWFyIGFuZCB0aGUgbnVtYmVyIG9mIGRheXMgYmV0d2VlblxuICAgICAgICAvLyBKYW51YXJ5IDFzdCBhbmQgdGhlIGZpcnN0IG9mIHRoZSByZXNwZWN0aXZlIG1vbnRoLlxuICAgICAgICB2YXIgTW9udGhzID0gWzAsIDMxLCA1OSwgOTAsIDEyMCwgMTUxLCAxODEsIDIxMiwgMjQzLCAyNzMsIDMwNCwgMzM0XTtcbiAgICAgICAgLy8gSW50ZXJuYWw6IENhbGN1bGF0ZXMgdGhlIG51bWJlciBvZiBkYXlzIGJldHdlZW4gdGhlIFVuaXggZXBvY2ggYW5kIHRoZVxuICAgICAgICAvLyBmaXJzdCBkYXkgb2YgdGhlIGdpdmVuIG1vbnRoLlxuICAgICAgICB2YXIgZ2V0RGF5ID0gZnVuY3Rpb24gKHllYXIsIG1vbnRoKSB7XG4gICAgICAgICAgcmV0dXJuIE1vbnRoc1ttb250aF0gKyAzNjUgKiAoeWVhciAtIDE5NzApICsgZmxvb3IoKHllYXIgLSAxOTY5ICsgKG1vbnRoID0gKyhtb250aCA+IDEpKSkgLyA0KSAtIGZsb29yKCh5ZWFyIC0gMTkwMSArIG1vbnRoKSAvIDEwMCkgKyBmbG9vcigoeWVhciAtIDE2MDEgKyBtb250aCkgLyA0MDApO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICAvLyBJbnRlcm5hbDogRGV0ZXJtaW5lcyBpZiBhIHByb3BlcnR5IGlzIGEgZGlyZWN0IHByb3BlcnR5IG9mIHRoZSBnaXZlblxuICAgICAgLy8gb2JqZWN0LiBEZWxlZ2F0ZXMgdG8gdGhlIG5hdGl2ZSBgT2JqZWN0I2hhc093blByb3BlcnR5YCBtZXRob2QuXG4gICAgICBpZiAoIShpc1Byb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHkpKSB7XG4gICAgICAgIGlzUHJvcGVydHkgPSBmdW5jdGlvbiAocHJvcGVydHkpIHtcbiAgICAgICAgICB2YXIgbWVtYmVycyA9IHt9LCBjb25zdHJ1Y3RvcjtcbiAgICAgICAgICBpZiAoKG1lbWJlcnMuX19wcm90b19fID0gbnVsbCwgbWVtYmVycy5fX3Byb3RvX18gPSB7XG4gICAgICAgICAgICAvLyBUaGUgKnByb3RvKiBwcm9wZXJ0eSBjYW5ub3QgYmUgc2V0IG11bHRpcGxlIHRpbWVzIGluIHJlY2VudFxuICAgICAgICAgICAgLy8gdmVyc2lvbnMgb2YgRmlyZWZveCBhbmQgU2VhTW9ua2V5LlxuICAgICAgICAgICAgXCJ0b1N0cmluZ1wiOiAxXG4gICAgICAgICAgfSwgbWVtYmVycykudG9TdHJpbmcgIT0gZ2V0Q2xhc3MpIHtcbiAgICAgICAgICAgIC8vIFNhZmFyaSA8PSAyLjAuMyBkb2Vzbid0IGltcGxlbWVudCBgT2JqZWN0I2hhc093blByb3BlcnR5YCwgYnV0XG4gICAgICAgICAgICAvLyBzdXBwb3J0cyB0aGUgbXV0YWJsZSAqcHJvdG8qIHByb3BlcnR5LlxuICAgICAgICAgICAgaXNQcm9wZXJ0eSA9IGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xuICAgICAgICAgICAgICAvLyBDYXB0dXJlIGFuZCBicmVhayB0aGUgb2JqZWN0J3MgcHJvdG90eXBlIGNoYWluIChzZWUgc2VjdGlvbiA4LjYuMlxuICAgICAgICAgICAgICAvLyBvZiB0aGUgRVMgNS4xIHNwZWMpLiBUaGUgcGFyZW50aGVzaXplZCBleHByZXNzaW9uIHByZXZlbnRzIGFuXG4gICAgICAgICAgICAgIC8vIHVuc2FmZSB0cmFuc2Zvcm1hdGlvbiBieSB0aGUgQ2xvc3VyZSBDb21waWxlci5cbiAgICAgICAgICAgICAgdmFyIG9yaWdpbmFsID0gdGhpcy5fX3Byb3RvX18sIHJlc3VsdCA9IHByb3BlcnR5IGluICh0aGlzLl9fcHJvdG9fXyA9IG51bGwsIHRoaXMpO1xuICAgICAgICAgICAgICAvLyBSZXN0b3JlIHRoZSBvcmlnaW5hbCBwcm90b3R5cGUgY2hhaW4uXG4gICAgICAgICAgICAgIHRoaXMuX19wcm90b19fID0gb3JpZ2luYWw7XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBDYXB0dXJlIGEgcmVmZXJlbmNlIHRvIHRoZSB0b3AtbGV2ZWwgYE9iamVjdGAgY29uc3RydWN0b3IuXG4gICAgICAgICAgICBjb25zdHJ1Y3RvciA9IG1lbWJlcnMuY29uc3RydWN0b3I7XG4gICAgICAgICAgICAvLyBVc2UgdGhlIGBjb25zdHJ1Y3RvcmAgcHJvcGVydHkgdG8gc2ltdWxhdGUgYE9iamVjdCNoYXNPd25Qcm9wZXJ0eWAgaW5cbiAgICAgICAgICAgIC8vIG90aGVyIGVudmlyb25tZW50cy5cbiAgICAgICAgICAgIGlzUHJvcGVydHkgPSBmdW5jdGlvbiAocHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgdmFyIHBhcmVudCA9ICh0aGlzLmNvbnN0cnVjdG9yIHx8IGNvbnN0cnVjdG9yKS5wcm90b3R5cGU7XG4gICAgICAgICAgICAgIHJldHVybiBwcm9wZXJ0eSBpbiB0aGlzICYmICEocHJvcGVydHkgaW4gcGFyZW50ICYmIHRoaXNbcHJvcGVydHldID09PSBwYXJlbnRbcHJvcGVydHldKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lbWJlcnMgPSBudWxsO1xuICAgICAgICAgIHJldHVybiBpc1Byb3BlcnR5LmNhbGwodGhpcywgcHJvcGVydHkpO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICAvLyBJbnRlcm5hbDogTm9ybWFsaXplcyB0aGUgYGZvci4uLmluYCBpdGVyYXRpb24gYWxnb3JpdGhtIGFjcm9zc1xuICAgICAgLy8gZW52aXJvbm1lbnRzLiBFYWNoIGVudW1lcmF0ZWQga2V5IGlzIHlpZWxkZWQgdG8gYSBgY2FsbGJhY2tgIGZ1bmN0aW9uLlxuICAgICAgZm9yRWFjaCA9IGZ1bmN0aW9uIChvYmplY3QsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBzaXplID0gMCwgUHJvcGVydGllcywgbWVtYmVycywgcHJvcGVydHk7XG5cbiAgICAgICAgLy8gVGVzdHMgZm9yIGJ1Z3MgaW4gdGhlIGN1cnJlbnQgZW52aXJvbm1lbnQncyBgZm9yLi4uaW5gIGFsZ29yaXRobS4gVGhlXG4gICAgICAgIC8vIGB2YWx1ZU9mYCBwcm9wZXJ0eSBpbmhlcml0cyB0aGUgbm9uLWVudW1lcmFibGUgZmxhZyBmcm9tXG4gICAgICAgIC8vIGBPYmplY3QucHJvdG90eXBlYCBpbiBvbGRlciB2ZXJzaW9ucyBvZiBJRSwgTmV0c2NhcGUsIGFuZCBNb3ppbGxhLlxuICAgICAgICAoUHJvcGVydGllcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aGlzLnZhbHVlT2YgPSAwO1xuICAgICAgICB9KS5wcm90b3R5cGUudmFsdWVPZiA9IDA7XG5cbiAgICAgICAgLy8gSXRlcmF0ZSBvdmVyIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBgUHJvcGVydGllc2AgY2xhc3MuXG4gICAgICAgIG1lbWJlcnMgPSBuZXcgUHJvcGVydGllcygpO1xuICAgICAgICBmb3IgKHByb3BlcnR5IGluIG1lbWJlcnMpIHtcbiAgICAgICAgICAvLyBJZ25vcmUgYWxsIHByb3BlcnRpZXMgaW5oZXJpdGVkIGZyb20gYE9iamVjdC5wcm90b3R5cGVgLlxuICAgICAgICAgIGlmIChpc1Byb3BlcnR5LmNhbGwobWVtYmVycywgcHJvcGVydHkpKSB7XG4gICAgICAgICAgICBzaXplKys7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFByb3BlcnRpZXMgPSBtZW1iZXJzID0gbnVsbDtcblxuICAgICAgICAvLyBOb3JtYWxpemUgdGhlIGl0ZXJhdGlvbiBhbGdvcml0aG0uXG4gICAgICAgIGlmICghc2l6ZSkge1xuICAgICAgICAgIC8vIEEgbGlzdCBvZiBub24tZW51bWVyYWJsZSBwcm9wZXJ0aWVzIGluaGVyaXRlZCBmcm9tIGBPYmplY3QucHJvdG90eXBlYC5cbiAgICAgICAgICBtZW1iZXJzID0gW1widmFsdWVPZlwiLCBcInRvU3RyaW5nXCIsIFwidG9Mb2NhbGVTdHJpbmdcIiwgXCJwcm9wZXJ0eUlzRW51bWVyYWJsZVwiLCBcImlzUHJvdG90eXBlT2ZcIiwgXCJoYXNPd25Qcm9wZXJ0eVwiLCBcImNvbnN0cnVjdG9yXCJdO1xuICAgICAgICAgIC8vIElFIDw9IDgsIE1vemlsbGEgMS4wLCBhbmQgTmV0c2NhcGUgNi4yIGlnbm9yZSBzaGFkb3dlZCBub24tZW51bWVyYWJsZVxuICAgICAgICAgIC8vIHByb3BlcnRpZXMuXG4gICAgICAgICAgZm9yRWFjaCA9IGZ1bmN0aW9uIChvYmplY3QsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB2YXIgaXNGdW5jdGlvbiA9IGdldENsYXNzLmNhbGwob2JqZWN0KSA9PSBmdW5jdGlvbkNsYXNzLCBwcm9wZXJ0eSwgbGVuZ3RoO1xuICAgICAgICAgICAgdmFyIGhhc1Byb3BlcnR5ID0gIWlzRnVuY3Rpb24gJiYgdHlwZW9mIG9iamVjdC5jb25zdHJ1Y3RvciAhPSBcImZ1bmN0aW9uXCIgJiYgb2JqZWN0VHlwZXNbdHlwZW9mIG9iamVjdC5oYXNPd25Qcm9wZXJ0eV0gJiYgb2JqZWN0Lmhhc093blByb3BlcnR5IHx8IGlzUHJvcGVydHk7XG4gICAgICAgICAgICBmb3IgKHByb3BlcnR5IGluIG9iamVjdCkge1xuICAgICAgICAgICAgICAvLyBHZWNrbyA8PSAxLjAgZW51bWVyYXRlcyB0aGUgYHByb3RvdHlwZWAgcHJvcGVydHkgb2YgZnVuY3Rpb25zIHVuZGVyXG4gICAgICAgICAgICAgIC8vIGNlcnRhaW4gY29uZGl0aW9uczsgSUUgZG9lcyBub3QuXG4gICAgICAgICAgICAgIGlmICghKGlzRnVuY3Rpb24gJiYgcHJvcGVydHkgPT0gXCJwcm90b3R5cGVcIikgJiYgaGFzUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KSkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHByb3BlcnR5KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTWFudWFsbHkgaW52b2tlIHRoZSBjYWxsYmFjayBmb3IgZWFjaCBub24tZW51bWVyYWJsZSBwcm9wZXJ0eS5cbiAgICAgICAgICAgIGZvciAobGVuZ3RoID0gbWVtYmVycy5sZW5ndGg7IHByb3BlcnR5ID0gbWVtYmVyc1stLWxlbmd0aF07IGhhc1Byb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSkgJiYgY2FsbGJhY2socHJvcGVydHkpKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKHNpemUgPT0gMikge1xuICAgICAgICAgIC8vIFNhZmFyaSA8PSAyLjAuNCBlbnVtZXJhdGVzIHNoYWRvd2VkIHByb3BlcnRpZXMgdHdpY2UuXG4gICAgICAgICAgZm9yRWFjaCA9IGZ1bmN0aW9uIChvYmplY3QsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgYSBzZXQgb2YgaXRlcmF0ZWQgcHJvcGVydGllcy5cbiAgICAgICAgICAgIHZhciBtZW1iZXJzID0ge30sIGlzRnVuY3Rpb24gPSBnZXRDbGFzcy5jYWxsKG9iamVjdCkgPT0gZnVuY3Rpb25DbGFzcywgcHJvcGVydHk7XG4gICAgICAgICAgICBmb3IgKHByb3BlcnR5IGluIG9iamVjdCkge1xuICAgICAgICAgICAgICAvLyBTdG9yZSBlYWNoIHByb3BlcnR5IG5hbWUgdG8gcHJldmVudCBkb3VibGUgZW51bWVyYXRpb24uIFRoZVxuICAgICAgICAgICAgICAvLyBgcHJvdG90eXBlYCBwcm9wZXJ0eSBvZiBmdW5jdGlvbnMgaXMgbm90IGVudW1lcmF0ZWQgZHVlIHRvIGNyb3NzLVxuICAgICAgICAgICAgICAvLyBlbnZpcm9ubWVudCBpbmNvbnNpc3RlbmNpZXMuXG4gICAgICAgICAgICAgIGlmICghKGlzRnVuY3Rpb24gJiYgcHJvcGVydHkgPT0gXCJwcm90b3R5cGVcIikgJiYgIWlzUHJvcGVydHkuY2FsbChtZW1iZXJzLCBwcm9wZXJ0eSkgJiYgKG1lbWJlcnNbcHJvcGVydHldID0gMSkgJiYgaXNQcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2socHJvcGVydHkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBObyBidWdzIGRldGVjdGVkOyB1c2UgdGhlIHN0YW5kYXJkIGBmb3IuLi5pbmAgYWxnb3JpdGhtLlxuICAgICAgICAgIGZvckVhY2ggPSBmdW5jdGlvbiAob2JqZWN0LCBjYWxsYmFjaykge1xuICAgICAgICAgICAgdmFyIGlzRnVuY3Rpb24gPSBnZXRDbGFzcy5jYWxsKG9iamVjdCkgPT0gZnVuY3Rpb25DbGFzcywgcHJvcGVydHksIGlzQ29uc3RydWN0b3I7XG4gICAgICAgICAgICBmb3IgKHByb3BlcnR5IGluIG9iamVjdCkge1xuICAgICAgICAgICAgICBpZiAoIShpc0Z1bmN0aW9uICYmIHByb3BlcnR5ID09IFwicHJvdG90eXBlXCIpICYmIGlzUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KSAmJiAhKGlzQ29uc3RydWN0b3IgPSBwcm9wZXJ0eSA9PT0gXCJjb25zdHJ1Y3RvclwiKSkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHByb3BlcnR5KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTWFudWFsbHkgaW52b2tlIHRoZSBjYWxsYmFjayBmb3IgdGhlIGBjb25zdHJ1Y3RvcmAgcHJvcGVydHkgZHVlIHRvXG4gICAgICAgICAgICAvLyBjcm9zcy1lbnZpcm9ubWVudCBpbmNvbnNpc3RlbmNpZXMuXG4gICAgICAgICAgICBpZiAoaXNDb25zdHJ1Y3RvciB8fCBpc1Byb3BlcnR5LmNhbGwob2JqZWN0LCAocHJvcGVydHkgPSBcImNvbnN0cnVjdG9yXCIpKSkge1xuICAgICAgICAgICAgICBjYWxsYmFjayhwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm9yRWFjaChvYmplY3QsIGNhbGxiYWNrKTtcbiAgICAgIH07XG5cbiAgICAgIC8vIFB1YmxpYzogU2VyaWFsaXplcyBhIEphdmFTY3JpcHQgYHZhbHVlYCBhcyBhIEpTT04gc3RyaW5nLiBUaGUgb3B0aW9uYWxcbiAgICAgIC8vIGBmaWx0ZXJgIGFyZ3VtZW50IG1heSBzcGVjaWZ5IGVpdGhlciBhIGZ1bmN0aW9uIHRoYXQgYWx0ZXJzIGhvdyBvYmplY3QgYW5kXG4gICAgICAvLyBhcnJheSBtZW1iZXJzIGFyZSBzZXJpYWxpemVkLCBvciBhbiBhcnJheSBvZiBzdHJpbmdzIGFuZCBudW1iZXJzIHRoYXRcbiAgICAgIC8vIGluZGljYXRlcyB3aGljaCBwcm9wZXJ0aWVzIHNob3VsZCBiZSBzZXJpYWxpemVkLiBUaGUgb3B0aW9uYWwgYHdpZHRoYFxuICAgICAgLy8gYXJndW1lbnQgbWF5IGJlIGVpdGhlciBhIHN0cmluZyBvciBudW1iZXIgdGhhdCBzcGVjaWZpZXMgdGhlIGluZGVudGF0aW9uXG4gICAgICAvLyBsZXZlbCBvZiB0aGUgb3V0cHV0LlxuICAgICAgaWYgKCFoYXMoXCJqc29uLXN0cmluZ2lmeVwiKSkge1xuICAgICAgICAvLyBJbnRlcm5hbDogQSBtYXAgb2YgY29udHJvbCBjaGFyYWN0ZXJzIGFuZCB0aGVpciBlc2NhcGVkIGVxdWl2YWxlbnRzLlxuICAgICAgICB2YXIgRXNjYXBlcyA9IHtcbiAgICAgICAgICA5MjogXCJcXFxcXFxcXFwiLFxuICAgICAgICAgIDM0OiAnXFxcXFwiJyxcbiAgICAgICAgICA4OiBcIlxcXFxiXCIsXG4gICAgICAgICAgMTI6IFwiXFxcXGZcIixcbiAgICAgICAgICAxMDogXCJcXFxcblwiLFxuICAgICAgICAgIDEzOiBcIlxcXFxyXCIsXG4gICAgICAgICAgOTogXCJcXFxcdFwiXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gSW50ZXJuYWw6IENvbnZlcnRzIGB2YWx1ZWAgaW50byBhIHplcm8tcGFkZGVkIHN0cmluZyBzdWNoIHRoYXQgaXRzXG4gICAgICAgIC8vIGxlbmd0aCBpcyBhdCBsZWFzdCBlcXVhbCB0byBgd2lkdGhgLiBUaGUgYHdpZHRoYCBtdXN0IGJlIDw9IDYuXG4gICAgICAgIHZhciBsZWFkaW5nWmVyb2VzID0gXCIwMDAwMDBcIjtcbiAgICAgICAgdmFyIHRvUGFkZGVkU3RyaW5nID0gZnVuY3Rpb24gKHdpZHRoLCB2YWx1ZSkge1xuICAgICAgICAgIC8vIFRoZSBgfHwgMGAgZXhwcmVzc2lvbiBpcyBuZWNlc3NhcnkgdG8gd29yayBhcm91bmQgYSBidWcgaW5cbiAgICAgICAgICAvLyBPcGVyYSA8PSA3LjU0dTIgd2hlcmUgYDAgPT0gLTBgLCBidXQgYFN0cmluZygtMCkgIT09IFwiMFwiYC5cbiAgICAgICAgICByZXR1cm4gKGxlYWRpbmdaZXJvZXMgKyAodmFsdWUgfHwgMCkpLnNsaWNlKC13aWR0aCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gSW50ZXJuYWw6IERvdWJsZS1xdW90ZXMgYSBzdHJpbmcgYHZhbHVlYCwgcmVwbGFjaW5nIGFsbCBBU0NJSSBjb250cm9sXG4gICAgICAgIC8vIGNoYXJhY3RlcnMgKGNoYXJhY3RlcnMgd2l0aCBjb2RlIHVuaXQgdmFsdWVzIGJldHdlZW4gMCBhbmQgMzEpIHdpdGhcbiAgICAgICAgLy8gdGhlaXIgZXNjYXBlZCBlcXVpdmFsZW50cy4gVGhpcyBpcyBhbiBpbXBsZW1lbnRhdGlvbiBvZiB0aGVcbiAgICAgICAgLy8gYFF1b3RlKHZhbHVlKWAgb3BlcmF0aW9uIGRlZmluZWQgaW4gRVMgNS4xIHNlY3Rpb24gMTUuMTIuMy5cbiAgICAgICAgdmFyIHVuaWNvZGVQcmVmaXggPSBcIlxcXFx1MDBcIjtcbiAgICAgICAgdmFyIHF1b3RlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9ICdcIicsIGluZGV4ID0gMCwgbGVuZ3RoID0gdmFsdWUubGVuZ3RoLCB1c2VDaGFySW5kZXggPSAhY2hhckluZGV4QnVnZ3kgfHwgbGVuZ3RoID4gMTA7XG4gICAgICAgICAgdmFyIHN5bWJvbHMgPSB1c2VDaGFySW5kZXggJiYgKGNoYXJJbmRleEJ1Z2d5ID8gdmFsdWUuc3BsaXQoXCJcIikgOiB2YWx1ZSk7XG4gICAgICAgICAgZm9yICg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICB2YXIgY2hhckNvZGUgPSB2YWx1ZS5jaGFyQ29kZUF0KGluZGV4KTtcbiAgICAgICAgICAgIC8vIElmIHRoZSBjaGFyYWN0ZXIgaXMgYSBjb250cm9sIGNoYXJhY3RlciwgYXBwZW5kIGl0cyBVbmljb2RlIG9yXG4gICAgICAgICAgICAvLyBzaG9ydGhhbmQgZXNjYXBlIHNlcXVlbmNlOyBvdGhlcndpc2UsIGFwcGVuZCB0aGUgY2hhcmFjdGVyIGFzLWlzLlxuICAgICAgICAgICAgc3dpdGNoIChjaGFyQ29kZSkge1xuICAgICAgICAgICAgICBjYXNlIDg6IGNhc2UgOTogY2FzZSAxMDogY2FzZSAxMjogY2FzZSAxMzogY2FzZSAzNDogY2FzZSA5MjpcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gRXNjYXBlc1tjaGFyQ29kZV07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgaWYgKGNoYXJDb2RlIDwgMzIpIHtcbiAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSB1bmljb2RlUHJlZml4ICsgdG9QYWRkZWRTdHJpbmcoMiwgY2hhckNvZGUudG9TdHJpbmcoMTYpKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gdXNlQ2hhckluZGV4ID8gc3ltYm9sc1tpbmRleF0gOiB2YWx1ZS5jaGFyQXQoaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzdWx0ICsgJ1wiJztcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBJbnRlcm5hbDogUmVjdXJzaXZlbHkgc2VyaWFsaXplcyBhbiBvYmplY3QuIEltcGxlbWVudHMgdGhlXG4gICAgICAgIC8vIGBTdHIoa2V5LCBob2xkZXIpYCwgYEpPKHZhbHVlKWAsIGFuZCBgSkEodmFsdWUpYCBvcGVyYXRpb25zLlxuICAgICAgICB2YXIgc2VyaWFsaXplID0gZnVuY3Rpb24gKHByb3BlcnR5LCBvYmplY3QsIGNhbGxiYWNrLCBwcm9wZXJ0aWVzLCB3aGl0ZXNwYWNlLCBpbmRlbnRhdGlvbiwgc3RhY2spIHtcbiAgICAgICAgICB2YXIgdmFsdWUsIGNsYXNzTmFtZSwgeWVhciwgbW9udGgsIGRhdGUsIHRpbWUsIGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzLCBtaWxsaXNlY29uZHMsIHJlc3VsdHMsIGVsZW1lbnQsIGluZGV4LCBsZW5ndGgsIHByZWZpeCwgcmVzdWx0O1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBOZWNlc3NhcnkgZm9yIGhvc3Qgb2JqZWN0IHN1cHBvcnQuXG4gICAgICAgICAgICB2YWx1ZSA9IG9iamVjdFtwcm9wZXJ0eV07XG4gICAgICAgICAgfSBjYXRjaCAoZXhjZXB0aW9uKSB7fVxuICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiAmJiB2YWx1ZSkge1xuICAgICAgICAgICAgY2xhc3NOYW1lID0gZ2V0Q2xhc3MuY2FsbCh2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoY2xhc3NOYW1lID09IGRhdGVDbGFzcyAmJiAhaXNQcm9wZXJ0eS5jYWxsKHZhbHVlLCBcInRvSlNPTlwiKSkge1xuICAgICAgICAgICAgICBpZiAodmFsdWUgPiAtMSAvIDAgJiYgdmFsdWUgPCAxIC8gMCkge1xuICAgICAgICAgICAgICAgIC8vIERhdGVzIGFyZSBzZXJpYWxpemVkIGFjY29yZGluZyB0byB0aGUgYERhdGUjdG9KU09OYCBtZXRob2RcbiAgICAgICAgICAgICAgICAvLyBzcGVjaWZpZWQgaW4gRVMgNS4xIHNlY3Rpb24gMTUuOS41LjQ0LiBTZWUgc2VjdGlvbiAxNS45LjEuMTVcbiAgICAgICAgICAgICAgICAvLyBmb3IgdGhlIElTTyA4NjAxIGRhdGUgdGltZSBzdHJpbmcgZm9ybWF0LlxuICAgICAgICAgICAgICAgIGlmIChnZXREYXkpIHtcbiAgICAgICAgICAgICAgICAgIC8vIE1hbnVhbGx5IGNvbXB1dGUgdGhlIHllYXIsIG1vbnRoLCBkYXRlLCBob3VycywgbWludXRlcyxcbiAgICAgICAgICAgICAgICAgIC8vIHNlY29uZHMsIGFuZCBtaWxsaXNlY29uZHMgaWYgdGhlIGBnZXRVVEMqYCBtZXRob2RzIGFyZVxuICAgICAgICAgICAgICAgICAgLy8gYnVnZ3kuIEFkYXB0ZWQgZnJvbSBAWWFmZmxlJ3MgYGRhdGUtc2hpbWAgcHJvamVjdC5cbiAgICAgICAgICAgICAgICAgIGRhdGUgPSBmbG9vcih2YWx1ZSAvIDg2NGU1KTtcbiAgICAgICAgICAgICAgICAgIGZvciAoeWVhciA9IGZsb29yKGRhdGUgLyAzNjUuMjQyNSkgKyAxOTcwIC0gMTsgZ2V0RGF5KHllYXIgKyAxLCAwKSA8PSBkYXRlOyB5ZWFyKyspO1xuICAgICAgICAgICAgICAgICAgZm9yIChtb250aCA9IGZsb29yKChkYXRlIC0gZ2V0RGF5KHllYXIsIDApKSAvIDMwLjQyKTsgZ2V0RGF5KHllYXIsIG1vbnRoICsgMSkgPD0gZGF0ZTsgbW9udGgrKyk7XG4gICAgICAgICAgICAgICAgICBkYXRlID0gMSArIGRhdGUgLSBnZXREYXkoeWVhciwgbW9udGgpO1xuICAgICAgICAgICAgICAgICAgLy8gVGhlIGB0aW1lYCB2YWx1ZSBzcGVjaWZpZXMgdGhlIHRpbWUgd2l0aGluIHRoZSBkYXkgKHNlZSBFU1xuICAgICAgICAgICAgICAgICAgLy8gNS4xIHNlY3Rpb24gMTUuOS4xLjIpLiBUaGUgZm9ybXVsYSBgKEEgJSBCICsgQikgJSBCYCBpcyB1c2VkXG4gICAgICAgICAgICAgICAgICAvLyB0byBjb21wdXRlIGBBIG1vZHVsbyBCYCwgYXMgdGhlIGAlYCBvcGVyYXRvciBkb2VzIG5vdFxuICAgICAgICAgICAgICAgICAgLy8gY29ycmVzcG9uZCB0byB0aGUgYG1vZHVsb2Agb3BlcmF0aW9uIGZvciBuZWdhdGl2ZSBudW1iZXJzLlxuICAgICAgICAgICAgICAgICAgdGltZSA9ICh2YWx1ZSAlIDg2NGU1ICsgODY0ZTUpICUgODY0ZTU7XG4gICAgICAgICAgICAgICAgICAvLyBUaGUgaG91cnMsIG1pbnV0ZXMsIHNlY29uZHMsIGFuZCBtaWxsaXNlY29uZHMgYXJlIG9idGFpbmVkIGJ5XG4gICAgICAgICAgICAgICAgICAvLyBkZWNvbXBvc2luZyB0aGUgdGltZSB3aXRoaW4gdGhlIGRheS4gU2VlIHNlY3Rpb24gMTUuOS4xLjEwLlxuICAgICAgICAgICAgICAgICAgaG91cnMgPSBmbG9vcih0aW1lIC8gMzZlNSkgJSAyNDtcbiAgICAgICAgICAgICAgICAgIG1pbnV0ZXMgPSBmbG9vcih0aW1lIC8gNmU0KSAlIDYwO1xuICAgICAgICAgICAgICAgICAgc2Vjb25kcyA9IGZsb29yKHRpbWUgLyAxZTMpICUgNjA7XG4gICAgICAgICAgICAgICAgICBtaWxsaXNlY29uZHMgPSB0aW1lICUgMWUzO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB5ZWFyID0gdmFsdWUuZ2V0VVRDRnVsbFllYXIoKTtcbiAgICAgICAgICAgICAgICAgIG1vbnRoID0gdmFsdWUuZ2V0VVRDTW9udGgoKTtcbiAgICAgICAgICAgICAgICAgIGRhdGUgPSB2YWx1ZS5nZXRVVENEYXRlKCk7XG4gICAgICAgICAgICAgICAgICBob3VycyA9IHZhbHVlLmdldFVUQ0hvdXJzKCk7XG4gICAgICAgICAgICAgICAgICBtaW51dGVzID0gdmFsdWUuZ2V0VVRDTWludXRlcygpO1xuICAgICAgICAgICAgICAgICAgc2Vjb25kcyA9IHZhbHVlLmdldFVUQ1NlY29uZHMoKTtcbiAgICAgICAgICAgICAgICAgIG1pbGxpc2Vjb25kcyA9IHZhbHVlLmdldFVUQ01pbGxpc2Vjb25kcygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTZXJpYWxpemUgZXh0ZW5kZWQgeWVhcnMgY29ycmVjdGx5LlxuICAgICAgICAgICAgICAgIHZhbHVlID0gKHllYXIgPD0gMCB8fCB5ZWFyID49IDFlNCA/ICh5ZWFyIDwgMCA/IFwiLVwiIDogXCIrXCIpICsgdG9QYWRkZWRTdHJpbmcoNiwgeWVhciA8IDAgPyAteWVhciA6IHllYXIpIDogdG9QYWRkZWRTdHJpbmcoNCwgeWVhcikpICtcbiAgICAgICAgICAgICAgICAgIFwiLVwiICsgdG9QYWRkZWRTdHJpbmcoMiwgbW9udGggKyAxKSArIFwiLVwiICsgdG9QYWRkZWRTdHJpbmcoMiwgZGF0ZSkgK1xuICAgICAgICAgICAgICAgICAgLy8gTW9udGhzLCBkYXRlcywgaG91cnMsIG1pbnV0ZXMsIGFuZCBzZWNvbmRzIHNob3VsZCBoYXZlIHR3b1xuICAgICAgICAgICAgICAgICAgLy8gZGlnaXRzOyBtaWxsaXNlY29uZHMgc2hvdWxkIGhhdmUgdGhyZWUuXG4gICAgICAgICAgICAgICAgICBcIlRcIiArIHRvUGFkZGVkU3RyaW5nKDIsIGhvdXJzKSArIFwiOlwiICsgdG9QYWRkZWRTdHJpbmcoMiwgbWludXRlcykgKyBcIjpcIiArIHRvUGFkZGVkU3RyaW5nKDIsIHNlY29uZHMpICtcbiAgICAgICAgICAgICAgICAgIC8vIE1pbGxpc2Vjb25kcyBhcmUgb3B0aW9uYWwgaW4gRVMgNS4wLCBidXQgcmVxdWlyZWQgaW4gNS4xLlxuICAgICAgICAgICAgICAgICAgXCIuXCIgKyB0b1BhZGRlZFN0cmluZygzLCBtaWxsaXNlY29uZHMpICsgXCJaXCI7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZS50b0pTT04gPT0gXCJmdW5jdGlvblwiICYmICgoY2xhc3NOYW1lICE9IG51bWJlckNsYXNzICYmIGNsYXNzTmFtZSAhPSBzdHJpbmdDbGFzcyAmJiBjbGFzc05hbWUgIT0gYXJyYXlDbGFzcykgfHwgaXNQcm9wZXJ0eS5jYWxsKHZhbHVlLCBcInRvSlNPTlwiKSkpIHtcbiAgICAgICAgICAgICAgLy8gUHJvdG90eXBlIDw9IDEuNi4xIGFkZHMgbm9uLXN0YW5kYXJkIGB0b0pTT05gIG1ldGhvZHMgdG8gdGhlXG4gICAgICAgICAgICAgIC8vIGBOdW1iZXJgLCBgU3RyaW5nYCwgYERhdGVgLCBhbmQgYEFycmF5YCBwcm90b3R5cGVzLiBKU09OIDNcbiAgICAgICAgICAgICAgLy8gaWdub3JlcyBhbGwgYHRvSlNPTmAgbWV0aG9kcyBvbiB0aGVzZSBvYmplY3RzIHVubGVzcyB0aGV5IGFyZVxuICAgICAgICAgICAgICAvLyBkZWZpbmVkIGRpcmVjdGx5IG9uIGFuIGluc3RhbmNlLlxuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvSlNPTihwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgLy8gSWYgYSByZXBsYWNlbWVudCBmdW5jdGlvbiB3YXMgcHJvdmlkZWQsIGNhbGwgaXQgdG8gb2J0YWluIHRoZSB2YWx1ZVxuICAgICAgICAgICAgLy8gZm9yIHNlcmlhbGl6YXRpb24uXG4gICAgICAgICAgICB2YWx1ZSA9IGNhbGxiYWNrLmNhbGwob2JqZWN0LCBwcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2xhc3NOYW1lID0gZ2V0Q2xhc3MuY2FsbCh2YWx1ZSk7XG4gICAgICAgICAgaWYgKGNsYXNzTmFtZSA9PSBib29sZWFuQ2xhc3MpIHtcbiAgICAgICAgICAgIC8vIEJvb2xlYW5zIGFyZSByZXByZXNlbnRlZCBsaXRlcmFsbHkuXG4gICAgICAgICAgICByZXR1cm4gXCJcIiArIHZhbHVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY2xhc3NOYW1lID09IG51bWJlckNsYXNzKSB7XG4gICAgICAgICAgICAvLyBKU09OIG51bWJlcnMgbXVzdCBiZSBmaW5pdGUuIGBJbmZpbml0eWAgYW5kIGBOYU5gIGFyZSBzZXJpYWxpemVkIGFzXG4gICAgICAgICAgICAvLyBgXCJudWxsXCJgLlxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlID4gLTEgLyAwICYmIHZhbHVlIDwgMSAvIDAgPyBcIlwiICsgdmFsdWUgOiBcIm51bGxcIjtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNsYXNzTmFtZSA9PSBzdHJpbmdDbGFzcykge1xuICAgICAgICAgICAgLy8gU3RyaW5ncyBhcmUgZG91YmxlLXF1b3RlZCBhbmQgZXNjYXBlZC5cbiAgICAgICAgICAgIHJldHVybiBxdW90ZShcIlwiICsgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBSZWN1cnNpdmVseSBzZXJpYWxpemUgb2JqZWN0cyBhbmQgYXJyYXlzLlxuICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGN5Y2xpYyBzdHJ1Y3R1cmVzLiBUaGlzIGlzIGEgbGluZWFyIHNlYXJjaDsgcGVyZm9ybWFuY2VcbiAgICAgICAgICAgIC8vIGlzIGludmVyc2VseSBwcm9wb3J0aW9uYWwgdG8gdGhlIG51bWJlciBvZiB1bmlxdWUgbmVzdGVkIG9iamVjdHMuXG4gICAgICAgICAgICBmb3IgKGxlbmd0aCA9IHN0YWNrLmxlbmd0aDsgbGVuZ3RoLS07KSB7XG4gICAgICAgICAgICAgIGlmIChzdGFja1tsZW5ndGhdID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIC8vIEN5Y2xpYyBzdHJ1Y3R1cmVzIGNhbm5vdCBiZSBzZXJpYWxpemVkIGJ5IGBKU09OLnN0cmluZ2lmeWAuXG4gICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEFkZCB0aGUgb2JqZWN0IHRvIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICAgICAgICAgIHN0YWNrLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgcmVzdWx0cyA9IFtdO1xuICAgICAgICAgICAgLy8gU2F2ZSB0aGUgY3VycmVudCBpbmRlbnRhdGlvbiBsZXZlbCBhbmQgaW5kZW50IG9uZSBhZGRpdGlvbmFsIGxldmVsLlxuICAgICAgICAgICAgcHJlZml4ID0gaW5kZW50YXRpb247XG4gICAgICAgICAgICBpbmRlbnRhdGlvbiArPSB3aGl0ZXNwYWNlO1xuICAgICAgICAgICAgaWYgKGNsYXNzTmFtZSA9PSBhcnJheUNsYXNzKSB7XG4gICAgICAgICAgICAgIC8vIFJlY3Vyc2l2ZWx5IHNlcmlhbGl6ZSBhcnJheSBlbGVtZW50cy5cbiAgICAgICAgICAgICAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IHZhbHVlLmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gc2VyaWFsaXplKGluZGV4LCB2YWx1ZSwgY2FsbGJhY2ssIHByb3BlcnRpZXMsIHdoaXRlc3BhY2UsIGluZGVudGF0aW9uLCBzdGFjayk7XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKGVsZW1lbnQgPT09IHVuZGVmID8gXCJudWxsXCIgOiBlbGVtZW50KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHRzLmxlbmd0aCA/ICh3aGl0ZXNwYWNlID8gXCJbXFxuXCIgKyBpbmRlbnRhdGlvbiArIHJlc3VsdHMuam9pbihcIixcXG5cIiArIGluZGVudGF0aW9uKSArIFwiXFxuXCIgKyBwcmVmaXggKyBcIl1cIiA6IChcIltcIiArIHJlc3VsdHMuam9pbihcIixcIikgKyBcIl1cIikpIDogXCJbXVwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gUmVjdXJzaXZlbHkgc2VyaWFsaXplIG9iamVjdCBtZW1iZXJzLiBNZW1iZXJzIGFyZSBzZWxlY3RlZCBmcm9tXG4gICAgICAgICAgICAgIC8vIGVpdGhlciBhIHVzZXItc3BlY2lmaWVkIGxpc3Qgb2YgcHJvcGVydHkgbmFtZXMsIG9yIHRoZSBvYmplY3RcbiAgICAgICAgICAgICAgLy8gaXRzZWxmLlxuICAgICAgICAgICAgICBmb3JFYWNoKHByb3BlcnRpZXMgfHwgdmFsdWUsIGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gc2VyaWFsaXplKHByb3BlcnR5LCB2YWx1ZSwgY2FsbGJhY2ssIHByb3BlcnRpZXMsIHdoaXRlc3BhY2UsIGluZGVudGF0aW9uLCBzdGFjayk7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQgIT09IHVuZGVmKSB7XG4gICAgICAgICAgICAgICAgICAvLyBBY2NvcmRpbmcgdG8gRVMgNS4xIHNlY3Rpb24gMTUuMTIuMzogXCJJZiBgZ2FwYCB7d2hpdGVzcGFjZX1cbiAgICAgICAgICAgICAgICAgIC8vIGlzIG5vdCB0aGUgZW1wdHkgc3RyaW5nLCBsZXQgYG1lbWJlcmAge3F1b3RlKHByb3BlcnR5KSArIFwiOlwifVxuICAgICAgICAgICAgICAgICAgLy8gYmUgdGhlIGNvbmNhdGVuYXRpb24gb2YgYG1lbWJlcmAgYW5kIHRoZSBgc3BhY2VgIGNoYXJhY3Rlci5cIlxuICAgICAgICAgICAgICAgICAgLy8gVGhlIFwiYHNwYWNlYCBjaGFyYWN0ZXJcIiByZWZlcnMgdG8gdGhlIGxpdGVyYWwgc3BhY2VcbiAgICAgICAgICAgICAgICAgIC8vIGNoYXJhY3Rlciwgbm90IHRoZSBgc3BhY2VgIHt3aWR0aH0gYXJndW1lbnQgcHJvdmlkZWQgdG9cbiAgICAgICAgICAgICAgICAgIC8vIGBKU09OLnN0cmluZ2lmeWAuXG4gICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2gocXVvdGUocHJvcGVydHkpICsgXCI6XCIgKyAod2hpdGVzcGFjZSA/IFwiIFwiIDogXCJcIikgKyBlbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHRzLmxlbmd0aCA/ICh3aGl0ZXNwYWNlID8gXCJ7XFxuXCIgKyBpbmRlbnRhdGlvbiArIHJlc3VsdHMuam9pbihcIixcXG5cIiArIGluZGVudGF0aW9uKSArIFwiXFxuXCIgKyBwcmVmaXggKyBcIn1cIiA6IChcIntcIiArIHJlc3VsdHMuam9pbihcIixcIikgKyBcIn1cIikpIDogXCJ7fVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBvYmplY3QgZnJvbSB0aGUgdHJhdmVyc2VkIG9iamVjdCBzdGFjay5cbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gUHVibGljOiBgSlNPTi5zdHJpbmdpZnlgLiBTZWUgRVMgNS4xIHNlY3Rpb24gMTUuMTIuMy5cbiAgICAgICAgZXhwb3J0cy5zdHJpbmdpZnkgPSBmdW5jdGlvbiAoc291cmNlLCBmaWx0ZXIsIHdpZHRoKSB7XG4gICAgICAgICAgdmFyIHdoaXRlc3BhY2UsIGNhbGxiYWNrLCBwcm9wZXJ0aWVzLCBjbGFzc05hbWU7XG4gICAgICAgICAgaWYgKG9iamVjdFR5cGVzW3R5cGVvZiBmaWx0ZXJdICYmIGZpbHRlcikge1xuICAgICAgICAgICAgaWYgKChjbGFzc05hbWUgPSBnZXRDbGFzcy5jYWxsKGZpbHRlcikpID09IGZ1bmN0aW9uQ2xhc3MpIHtcbiAgICAgICAgICAgICAgY2FsbGJhY2sgPSBmaWx0ZXI7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNsYXNzTmFtZSA9PSBhcnJheUNsYXNzKSB7XG4gICAgICAgICAgICAgIC8vIENvbnZlcnQgdGhlIHByb3BlcnR5IG5hbWVzIGFycmF5IGludG8gYSBtYWtlc2hpZnQgc2V0LlxuICAgICAgICAgICAgICBwcm9wZXJ0aWVzID0ge307XG4gICAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMCwgbGVuZ3RoID0gZmlsdGVyLmxlbmd0aCwgdmFsdWU7IGluZGV4IDwgbGVuZ3RoOyB2YWx1ZSA9IGZpbHRlcltpbmRleCsrXSwgKChjbGFzc05hbWUgPSBnZXRDbGFzcy5jYWxsKHZhbHVlKSksIGNsYXNzTmFtZSA9PSBzdHJpbmdDbGFzcyB8fCBjbGFzc05hbWUgPT0gbnVtYmVyQ2xhc3MpICYmIChwcm9wZXJ0aWVzW3ZhbHVlXSA9IDEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHdpZHRoKSB7XG4gICAgICAgICAgICBpZiAoKGNsYXNzTmFtZSA9IGdldENsYXNzLmNhbGwod2lkdGgpKSA9PSBudW1iZXJDbGFzcykge1xuICAgICAgICAgICAgICAvLyBDb252ZXJ0IHRoZSBgd2lkdGhgIHRvIGFuIGludGVnZXIgYW5kIGNyZWF0ZSBhIHN0cmluZyBjb250YWluaW5nXG4gICAgICAgICAgICAgIC8vIGB3aWR0aGAgbnVtYmVyIG9mIHNwYWNlIGNoYXJhY3RlcnMuXG4gICAgICAgICAgICAgIGlmICgod2lkdGggLT0gd2lkdGggJSAxKSA+IDApIHtcbiAgICAgICAgICAgICAgICBmb3IgKHdoaXRlc3BhY2UgPSBcIlwiLCB3aWR0aCA+IDEwICYmICh3aWR0aCA9IDEwKTsgd2hpdGVzcGFjZS5sZW5ndGggPCB3aWR0aDsgd2hpdGVzcGFjZSArPSBcIiBcIik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2xhc3NOYW1lID09IHN0cmluZ0NsYXNzKSB7XG4gICAgICAgICAgICAgIHdoaXRlc3BhY2UgPSB3aWR0aC5sZW5ndGggPD0gMTAgPyB3aWR0aCA6IHdpZHRoLnNsaWNlKDAsIDEwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gT3BlcmEgPD0gNy41NHUyIGRpc2NhcmRzIHRoZSB2YWx1ZXMgYXNzb2NpYXRlZCB3aXRoIGVtcHR5IHN0cmluZyBrZXlzXG4gICAgICAgICAgLy8gKGBcIlwiYCkgb25seSBpZiB0aGV5IGFyZSB1c2VkIGRpcmVjdGx5IHdpdGhpbiBhbiBvYmplY3QgbWVtYmVyIGxpc3RcbiAgICAgICAgICAvLyAoZS5nLiwgYCEoXCJcIiBpbiB7IFwiXCI6IDF9KWApLlxuICAgICAgICAgIHJldHVybiBzZXJpYWxpemUoXCJcIiwgKHZhbHVlID0ge30sIHZhbHVlW1wiXCJdID0gc291cmNlLCB2YWx1ZSksIGNhbGxiYWNrLCBwcm9wZXJ0aWVzLCB3aGl0ZXNwYWNlLCBcIlwiLCBbXSk7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIC8vIFB1YmxpYzogUGFyc2VzIGEgSlNPTiBzb3VyY2Ugc3RyaW5nLlxuICAgICAgaWYgKCFoYXMoXCJqc29uLXBhcnNlXCIpKSB7XG4gICAgICAgIHZhciBmcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlO1xuXG4gICAgICAgIC8vIEludGVybmFsOiBBIG1hcCBvZiBlc2NhcGVkIGNvbnRyb2wgY2hhcmFjdGVycyBhbmQgdGhlaXIgdW5lc2NhcGVkXG4gICAgICAgIC8vIGVxdWl2YWxlbnRzLlxuICAgICAgICB2YXIgVW5lc2NhcGVzID0ge1xuICAgICAgICAgIDkyOiBcIlxcXFxcIixcbiAgICAgICAgICAzNDogJ1wiJyxcbiAgICAgICAgICA0NzogXCIvXCIsXG4gICAgICAgICAgOTg6IFwiXFxiXCIsXG4gICAgICAgICAgMTE2OiBcIlxcdFwiLFxuICAgICAgICAgIDExMDogXCJcXG5cIixcbiAgICAgICAgICAxMDI6IFwiXFxmXCIsXG4gICAgICAgICAgMTE0OiBcIlxcclwiXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gSW50ZXJuYWw6IFN0b3JlcyB0aGUgcGFyc2VyIHN0YXRlLlxuICAgICAgICB2YXIgSW5kZXgsIFNvdXJjZTtcblxuICAgICAgICAvLyBJbnRlcm5hbDogUmVzZXRzIHRoZSBwYXJzZXIgc3RhdGUgYW5kIHRocm93cyBhIGBTeW50YXhFcnJvcmAuXG4gICAgICAgIHZhciBhYm9ydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBJbmRleCA9IFNvdXJjZSA9IG51bGw7XG4gICAgICAgICAgdGhyb3cgU3ludGF4RXJyb3IoKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBJbnRlcm5hbDogUmV0dXJucyB0aGUgbmV4dCB0b2tlbiwgb3IgYFwiJFwiYCBpZiB0aGUgcGFyc2VyIGhhcyByZWFjaGVkXG4gICAgICAgIC8vIHRoZSBlbmQgb2YgdGhlIHNvdXJjZSBzdHJpbmcuIEEgdG9rZW4gbWF5IGJlIGEgc3RyaW5nLCBudW1iZXIsIGBudWxsYFxuICAgICAgICAvLyBsaXRlcmFsLCBvciBCb29sZWFuIGxpdGVyYWwuXG4gICAgICAgIHZhciBsZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIHNvdXJjZSA9IFNvdXJjZSwgbGVuZ3RoID0gc291cmNlLmxlbmd0aCwgdmFsdWUsIGJlZ2luLCBwb3NpdGlvbiwgaXNTaWduZWQsIGNoYXJDb2RlO1xuICAgICAgICAgIHdoaWxlIChJbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgY2hhckNvZGUgPSBzb3VyY2UuY2hhckNvZGVBdChJbmRleCk7XG4gICAgICAgICAgICBzd2l0Y2ggKGNoYXJDb2RlKSB7XG4gICAgICAgICAgICAgIGNhc2UgOTogY2FzZSAxMDogY2FzZSAxMzogY2FzZSAzMjpcbiAgICAgICAgICAgICAgICAvLyBTa2lwIHdoaXRlc3BhY2UgdG9rZW5zLCBpbmNsdWRpbmcgdGFicywgY2FycmlhZ2UgcmV0dXJucywgbGluZVxuICAgICAgICAgICAgICAgIC8vIGZlZWRzLCBhbmQgc3BhY2UgY2hhcmFjdGVycy5cbiAgICAgICAgICAgICAgICBJbmRleCsrO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIDEyMzogY2FzZSAxMjU6IGNhc2UgOTE6IGNhc2UgOTM6IGNhc2UgNTg6IGNhc2UgNDQ6XG4gICAgICAgICAgICAgICAgLy8gUGFyc2UgYSBwdW5jdHVhdG9yIHRva2VuIChge2AsIGB9YCwgYFtgLCBgXWAsIGA6YCwgb3IgYCxgKSBhdFxuICAgICAgICAgICAgICAgIC8vIHRoZSBjdXJyZW50IHBvc2l0aW9uLlxuICAgICAgICAgICAgICAgIHZhbHVlID0gY2hhckluZGV4QnVnZ3kgPyBzb3VyY2UuY2hhckF0KEluZGV4KSA6IHNvdXJjZVtJbmRleF07XG4gICAgICAgICAgICAgICAgSW5kZXgrKztcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgIGNhc2UgMzQ6XG4gICAgICAgICAgICAgICAgLy8gYFwiYCBkZWxpbWl0cyBhIEpTT04gc3RyaW5nOyBhZHZhbmNlIHRvIHRoZSBuZXh0IGNoYXJhY3RlciBhbmRcbiAgICAgICAgICAgICAgICAvLyBiZWdpbiBwYXJzaW5nIHRoZSBzdHJpbmcuIFN0cmluZyB0b2tlbnMgYXJlIHByZWZpeGVkIHdpdGggdGhlXG4gICAgICAgICAgICAgICAgLy8gc2VudGluZWwgYEBgIGNoYXJhY3RlciB0byBkaXN0aW5ndWlzaCB0aGVtIGZyb20gcHVuY3R1YXRvcnMgYW5kXG4gICAgICAgICAgICAgICAgLy8gZW5kLW9mLXN0cmluZyB0b2tlbnMuXG4gICAgICAgICAgICAgICAgZm9yICh2YWx1ZSA9IFwiQFwiLCBJbmRleCsrOyBJbmRleCA8IGxlbmd0aDspIHtcbiAgICAgICAgICAgICAgICAgIGNoYXJDb2RlID0gc291cmNlLmNoYXJDb2RlQXQoSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgaWYgKGNoYXJDb2RlIDwgMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVW5lc2NhcGVkIEFTQ0lJIGNvbnRyb2wgY2hhcmFjdGVycyAodGhvc2Ugd2l0aCBhIGNvZGUgdW5pdFxuICAgICAgICAgICAgICAgICAgICAvLyBsZXNzIHRoYW4gdGhlIHNwYWNlIGNoYXJhY3RlcikgYXJlIG5vdCBwZXJtaXR0ZWQuXG4gICAgICAgICAgICAgICAgICAgIGFib3J0KCk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXJDb2RlID09IDkyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEEgcmV2ZXJzZSBzb2xpZHVzIChgXFxgKSBtYXJrcyB0aGUgYmVnaW5uaW5nIG9mIGFuIGVzY2FwZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gY29udHJvbCBjaGFyYWN0ZXIgKGluY2x1ZGluZyBgXCJgLCBgXFxgLCBhbmQgYC9gKSBvciBVbmljb2RlXG4gICAgICAgICAgICAgICAgICAgIC8vIGVzY2FwZSBzZXF1ZW5jZS5cbiAgICAgICAgICAgICAgICAgICAgY2hhckNvZGUgPSBzb3VyY2UuY2hhckNvZGVBdCgrK0luZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChjaGFyQ29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOTI6IGNhc2UgMzQ6IGNhc2UgNDc6IGNhc2UgOTg6IGNhc2UgMTE2OiBjYXNlIDExMDogY2FzZSAxMDI6IGNhc2UgMTE0OlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmV2aXZlIGVzY2FwZWQgY29udHJvbCBjaGFyYWN0ZXJzLlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgKz0gVW5lc2NhcGVzW2NoYXJDb2RlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIEluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDExNzpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGBcXHVgIG1hcmtzIHRoZSBiZWdpbm5pbmcgb2YgYSBVbmljb2RlIGVzY2FwZSBzZXF1ZW5jZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkdmFuY2UgdG8gdGhlIGZpcnN0IGNoYXJhY3RlciBhbmQgdmFsaWRhdGUgdGhlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3VyLWRpZ2l0IGNvZGUgcG9pbnQuXG4gICAgICAgICAgICAgICAgICAgICAgICBiZWdpbiA9ICsrSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHBvc2l0aW9uID0gSW5kZXggKyA0OyBJbmRleCA8IHBvc2l0aW9uOyBJbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJDb2RlID0gc291cmNlLmNoYXJDb2RlQXQoSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBIHZhbGlkIHNlcXVlbmNlIGNvbXByaXNlcyBmb3VyIGhleGRpZ2l0cyAoY2FzZS1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW5zZW5zaXRpdmUpIHRoYXQgZm9ybSBhIHNpbmdsZSBoZXhhZGVjaW1hbCB2YWx1ZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoY2hhckNvZGUgPj0gNDggJiYgY2hhckNvZGUgPD0gNTcgfHwgY2hhckNvZGUgPj0gOTcgJiYgY2hhckNvZGUgPD0gMTAyIHx8IGNoYXJDb2RlID49IDY1ICYmIGNoYXJDb2RlIDw9IDcwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEludmFsaWQgVW5pY29kZSBlc2NhcGUgc2VxdWVuY2UuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWJvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmV2aXZlIHRoZSBlc2NhcGVkIGNoYXJhY3Rlci5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IGZyb21DaGFyQ29kZShcIjB4XCIgKyBzb3VyY2Uuc2xpY2UoYmVnaW4sIEluZGV4KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW52YWxpZCBlc2NhcGUgc2VxdWVuY2UuXG4gICAgICAgICAgICAgICAgICAgICAgICBhYm9ydCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhckNvZGUgPT0gMzQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBBbiB1bmVzY2FwZWQgZG91YmxlLXF1b3RlIGNoYXJhY3RlciBtYXJrcyB0aGUgZW5kIG9mIHRoZVxuICAgICAgICAgICAgICAgICAgICAgIC8vIHN0cmluZy5cbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjaGFyQ29kZSA9IHNvdXJjZS5jaGFyQ29kZUF0KEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgYmVnaW4gPSBJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgLy8gT3B0aW1pemUgZm9yIHRoZSBjb21tb24gY2FzZSB3aGVyZSBhIHN0cmluZyBpcyB2YWxpZC5cbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGNoYXJDb2RlID49IDMyICYmIGNoYXJDb2RlICE9IDkyICYmIGNoYXJDb2RlICE9IDM0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2hhckNvZGUgPSBzb3VyY2UuY2hhckNvZGVBdCgrK0luZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBBcHBlbmQgdGhlIHN0cmluZyBhcy1pcy5cbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgKz0gc291cmNlLnNsaWNlKGJlZ2luLCBJbmRleCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzb3VyY2UuY2hhckNvZGVBdChJbmRleCkgPT0gMzQpIHtcbiAgICAgICAgICAgICAgICAgIC8vIEFkdmFuY2UgdG8gdGhlIG5leHQgY2hhcmFjdGVyIGFuZCByZXR1cm4gdGhlIHJldml2ZWQgc3RyaW5nLlxuICAgICAgICAgICAgICAgICAgSW5kZXgrKztcbiAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVW50ZXJtaW5hdGVkIHN0cmluZy5cbiAgICAgICAgICAgICAgICBhYm9ydCgpO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIC8vIFBhcnNlIG51bWJlcnMgYW5kIGxpdGVyYWxzLlxuICAgICAgICAgICAgICAgIGJlZ2luID0gSW5kZXg7XG4gICAgICAgICAgICAgICAgLy8gQWR2YW5jZSBwYXN0IHRoZSBuZWdhdGl2ZSBzaWduLCBpZiBvbmUgaXMgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgIGlmIChjaGFyQ29kZSA9PSA0NSkge1xuICAgICAgICAgICAgICAgICAgaXNTaWduZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgY2hhckNvZGUgPSBzb3VyY2UuY2hhckNvZGVBdCgrK0luZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gUGFyc2UgYW4gaW50ZWdlciBvciBmbG9hdGluZy1wb2ludCB2YWx1ZS5cbiAgICAgICAgICAgICAgICBpZiAoY2hhckNvZGUgPj0gNDggJiYgY2hhckNvZGUgPD0gNTcpIHtcbiAgICAgICAgICAgICAgICAgIC8vIExlYWRpbmcgemVyb2VzIGFyZSBpbnRlcnByZXRlZCBhcyBvY3RhbCBsaXRlcmFscy5cbiAgICAgICAgICAgICAgICAgIGlmIChjaGFyQ29kZSA9PSA0OCAmJiAoKGNoYXJDb2RlID0gc291cmNlLmNoYXJDb2RlQXQoSW5kZXggKyAxKSksIGNoYXJDb2RlID49IDQ4ICYmIGNoYXJDb2RlIDw9IDU3KSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJbGxlZ2FsIG9jdGFsIGxpdGVyYWwuXG4gICAgICAgICAgICAgICAgICAgIGFib3J0KCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpc1NpZ25lZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgLy8gUGFyc2UgdGhlIGludGVnZXIgY29tcG9uZW50LlxuICAgICAgICAgICAgICAgICAgZm9yICg7IEluZGV4IDwgbGVuZ3RoICYmICgoY2hhckNvZGUgPSBzb3VyY2UuY2hhckNvZGVBdChJbmRleCkpLCBjaGFyQ29kZSA+PSA0OCAmJiBjaGFyQ29kZSA8PSA1Nyk7IEluZGV4KyspO1xuICAgICAgICAgICAgICAgICAgLy8gRmxvYXRzIGNhbm5vdCBjb250YWluIGEgbGVhZGluZyBkZWNpbWFsIHBvaW50OyBob3dldmVyLCB0aGlzXG4gICAgICAgICAgICAgICAgICAvLyBjYXNlIGlzIGFscmVhZHkgYWNjb3VudGVkIGZvciBieSB0aGUgcGFyc2VyLlxuICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZS5jaGFyQ29kZUF0KEluZGV4KSA9PSA0Nikge1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9ICsrSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIC8vIFBhcnNlIHRoZSBkZWNpbWFsIGNvbXBvbmVudC5cbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IHBvc2l0aW9uIDwgbGVuZ3RoICYmICgoY2hhckNvZGUgPSBzb3VyY2UuY2hhckNvZGVBdChwb3NpdGlvbikpLCBjaGFyQ29kZSA+PSA0OCAmJiBjaGFyQ29kZSA8PSA1Nyk7IHBvc2l0aW9uKyspO1xuICAgICAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gPT0gSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBJbGxlZ2FsIHRyYWlsaW5nIGRlY2ltYWwuXG4gICAgICAgICAgICAgICAgICAgICAgYWJvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBJbmRleCA9IHBvc2l0aW9uO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgLy8gUGFyc2UgZXhwb25lbnRzLiBUaGUgYGVgIGRlbm90aW5nIHRoZSBleHBvbmVudCBpc1xuICAgICAgICAgICAgICAgICAgLy8gY2FzZS1pbnNlbnNpdGl2ZS5cbiAgICAgICAgICAgICAgICAgIGNoYXJDb2RlID0gc291cmNlLmNoYXJDb2RlQXQoSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgaWYgKGNoYXJDb2RlID09IDEwMSB8fCBjaGFyQ29kZSA9PSA2OSkge1xuICAgICAgICAgICAgICAgICAgICBjaGFyQ29kZSA9IHNvdXJjZS5jaGFyQ29kZUF0KCsrSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBTa2lwIHBhc3QgdGhlIHNpZ24gZm9sbG93aW5nIHRoZSBleHBvbmVudCwgaWYgb25lIGlzXG4gICAgICAgICAgICAgICAgICAgIC8vIHNwZWNpZmllZC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJDb2RlID09IDQzIHx8IGNoYXJDb2RlID09IDQ1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgSW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBQYXJzZSB0aGUgZXhwb25lbnRpYWwgY29tcG9uZW50LlxuICAgICAgICAgICAgICAgICAgICBmb3IgKHBvc2l0aW9uID0gSW5kZXg7IHBvc2l0aW9uIDwgbGVuZ3RoICYmICgoY2hhckNvZGUgPSBzb3VyY2UuY2hhckNvZGVBdChwb3NpdGlvbikpLCBjaGFyQ29kZSA+PSA0OCAmJiBjaGFyQ29kZSA8PSA1Nyk7IHBvc2l0aW9uKyspO1xuICAgICAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gPT0gSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBJbGxlZ2FsIGVtcHR5IGV4cG9uZW50LlxuICAgICAgICAgICAgICAgICAgICAgIGFib3J0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgSW5kZXggPSBwb3NpdGlvbjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIC8vIENvZXJjZSB0aGUgcGFyc2VkIHZhbHVlIHRvIGEgSmF2YVNjcmlwdCBudW1iZXIuXG4gICAgICAgICAgICAgICAgICByZXR1cm4gK3NvdXJjZS5zbGljZShiZWdpbiwgSW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBBIG5lZ2F0aXZlIHNpZ24gbWF5IG9ubHkgcHJlY2VkZSBudW1iZXJzLlxuICAgICAgICAgICAgICAgIGlmIChpc1NpZ25lZCkge1xuICAgICAgICAgICAgICAgICAgYWJvcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gYHRydWVgLCBgZmFsc2VgLCBhbmQgYG51bGxgIGxpdGVyYWxzLlxuICAgICAgICAgICAgICAgIGlmIChzb3VyY2Uuc2xpY2UoSW5kZXgsIEluZGV4ICsgNCkgPT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgICAgICAgIEluZGV4ICs9IDQ7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNvdXJjZS5zbGljZShJbmRleCwgSW5kZXggKyA1KSA9PSBcImZhbHNlXCIpIHtcbiAgICAgICAgICAgICAgICAgIEluZGV4ICs9IDU7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzb3VyY2Uuc2xpY2UoSW5kZXgsIEluZGV4ICsgNCkgPT0gXCJudWxsXCIpIHtcbiAgICAgICAgICAgICAgICAgIEluZGV4ICs9IDQ7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVW5yZWNvZ25pemVkIHRva2VuLlxuICAgICAgICAgICAgICAgIGFib3J0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFJldHVybiB0aGUgc2VudGluZWwgYCRgIGNoYXJhY3RlciBpZiB0aGUgcGFyc2VyIGhhcyByZWFjaGVkIHRoZSBlbmRcbiAgICAgICAgICAvLyBvZiB0aGUgc291cmNlIHN0cmluZy5cbiAgICAgICAgICByZXR1cm4gXCIkXCI7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gSW50ZXJuYWw6IFBhcnNlcyBhIEpTT04gYHZhbHVlYCB0b2tlbi5cbiAgICAgICAgdmFyIGdldCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgIHZhciByZXN1bHRzLCBoYXNNZW1iZXJzO1xuICAgICAgICAgIGlmICh2YWx1ZSA9PSBcIiRcIikge1xuICAgICAgICAgICAgLy8gVW5leHBlY3RlZCBlbmQgb2YgaW5wdXQuXG4gICAgICAgICAgICBhYm9ydCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGlmICgoY2hhckluZGV4QnVnZ3kgPyB2YWx1ZS5jaGFyQXQoMCkgOiB2YWx1ZVswXSkgPT0gXCJAXCIpIHtcbiAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBzZW50aW5lbCBgQGAgY2hhcmFjdGVyLlxuICAgICAgICAgICAgICByZXR1cm4gdmFsdWUuc2xpY2UoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBQYXJzZSBvYmplY3QgYW5kIGFycmF5IGxpdGVyYWxzLlxuICAgICAgICAgICAgaWYgKHZhbHVlID09IFwiW1wiKSB7XG4gICAgICAgICAgICAgIC8vIFBhcnNlcyBhIEpTT04gYXJyYXksIHJldHVybmluZyBhIG5ldyBKYXZhU2NyaXB0IGFycmF5LlxuICAgICAgICAgICAgICByZXN1bHRzID0gW107XG4gICAgICAgICAgICAgIGZvciAoOzsgaGFzTWVtYmVycyB8fCAoaGFzTWVtYmVycyA9IHRydWUpKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBsZXgoKTtcbiAgICAgICAgICAgICAgICAvLyBBIGNsb3Npbmcgc3F1YXJlIGJyYWNrZXQgbWFya3MgdGhlIGVuZCBvZiB0aGUgYXJyYXkgbGl0ZXJhbC5cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gXCJdXCIpIHtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgYXJyYXkgbGl0ZXJhbCBjb250YWlucyBlbGVtZW50cywgdGhlIGN1cnJlbnQgdG9rZW5cbiAgICAgICAgICAgICAgICAvLyBzaG91bGQgYmUgYSBjb21tYSBzZXBhcmF0aW5nIHRoZSBwcmV2aW91cyBlbGVtZW50IGZyb20gdGhlXG4gICAgICAgICAgICAgICAgLy8gbmV4dC5cbiAgICAgICAgICAgICAgICBpZiAoaGFzTWVtYmVycykge1xuICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09IFwiLFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbGV4KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBcIl1cIikge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIFVuZXhwZWN0ZWQgdHJhaWxpbmcgYCxgIGluIGFycmF5IGxpdGVyYWwuXG4gICAgICAgICAgICAgICAgICAgICAgYWJvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQSBgLGAgbXVzdCBzZXBhcmF0ZSBlYWNoIGFycmF5IGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgICAgIGFib3J0KCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEVsaXNpb25zIGFuZCBsZWFkaW5nIGNvbW1hcyBhcmUgbm90IHBlcm1pdHRlZC5cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gXCIsXCIpIHtcbiAgICAgICAgICAgICAgICAgIGFib3J0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChnZXQodmFsdWUpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gXCJ7XCIpIHtcbiAgICAgICAgICAgICAgLy8gUGFyc2VzIGEgSlNPTiBvYmplY3QsIHJldHVybmluZyBhIG5ldyBKYXZhU2NyaXB0IG9iamVjdC5cbiAgICAgICAgICAgICAgcmVzdWx0cyA9IHt9O1xuICAgICAgICAgICAgICBmb3IgKDs7IGhhc01lbWJlcnMgfHwgKGhhc01lbWJlcnMgPSB0cnVlKSkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gbGV4KCk7XG4gICAgICAgICAgICAgICAgLy8gQSBjbG9zaW5nIGN1cmx5IGJyYWNlIG1hcmtzIHRoZSBlbmQgb2YgdGhlIG9iamVjdCBsaXRlcmFsLlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBcIn1cIikge1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBvYmplY3QgbGl0ZXJhbCBjb250YWlucyBtZW1iZXJzLCB0aGUgY3VycmVudCB0b2tlblxuICAgICAgICAgICAgICAgIC8vIHNob3VsZCBiZSBhIGNvbW1hIHNlcGFyYXRvci5cbiAgICAgICAgICAgICAgICBpZiAoaGFzTWVtYmVycykge1xuICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09IFwiLFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbGV4KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBcIn1cIikge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIFVuZXhwZWN0ZWQgdHJhaWxpbmcgYCxgIGluIG9iamVjdCBsaXRlcmFsLlxuICAgICAgICAgICAgICAgICAgICAgIGFib3J0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEEgYCxgIG11c3Qgc2VwYXJhdGUgZWFjaCBvYmplY3QgbWVtYmVyLlxuICAgICAgICAgICAgICAgICAgICBhYm9ydCgpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBMZWFkaW5nIGNvbW1hcyBhcmUgbm90IHBlcm1pdHRlZCwgb2JqZWN0IHByb3BlcnR5IG5hbWVzIG11c3QgYmVcbiAgICAgICAgICAgICAgICAvLyBkb3VibGUtcXVvdGVkIHN0cmluZ3MsIGFuZCBhIGA6YCBtdXN0IHNlcGFyYXRlIGVhY2ggcHJvcGVydHlcbiAgICAgICAgICAgICAgICAvLyBuYW1lIGFuZCB2YWx1ZS5cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gXCIsXCIgfHwgdHlwZW9mIHZhbHVlICE9IFwic3RyaW5nXCIgfHwgKGNoYXJJbmRleEJ1Z2d5ID8gdmFsdWUuY2hhckF0KDApIDogdmFsdWVbMF0pICE9IFwiQFwiIHx8IGxleCgpICE9IFwiOlwiKSB7XG4gICAgICAgICAgICAgICAgICBhYm9ydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXN1bHRzW3ZhbHVlLnNsaWNlKDEpXSA9IGdldChsZXgoKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBVbmV4cGVjdGVkIHRva2VuIGVuY291bnRlcmVkLlxuICAgICAgICAgICAgYWJvcnQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEludGVybmFsOiBVcGRhdGVzIGEgdHJhdmVyc2VkIG9iamVjdCBtZW1iZXIuXG4gICAgICAgIHZhciB1cGRhdGUgPSBmdW5jdGlvbiAoc291cmNlLCBwcm9wZXJ0eSwgY2FsbGJhY2spIHtcbiAgICAgICAgICB2YXIgZWxlbWVudCA9IHdhbGsoc291cmNlLCBwcm9wZXJ0eSwgY2FsbGJhY2spO1xuICAgICAgICAgIGlmIChlbGVtZW50ID09PSB1bmRlZikge1xuICAgICAgICAgICAgZGVsZXRlIHNvdXJjZVtwcm9wZXJ0eV07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNvdXJjZVtwcm9wZXJ0eV0gPSBlbGVtZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBJbnRlcm5hbDogUmVjdXJzaXZlbHkgdHJhdmVyc2VzIGEgcGFyc2VkIEpTT04gb2JqZWN0LCBpbnZva2luZyB0aGVcbiAgICAgICAgLy8gYGNhbGxiYWNrYCBmdW5jdGlvbiBmb3IgZWFjaCB2YWx1ZS4gVGhpcyBpcyBhbiBpbXBsZW1lbnRhdGlvbiBvZiB0aGVcbiAgICAgICAgLy8gYFdhbGsoaG9sZGVyLCBuYW1lKWAgb3BlcmF0aW9uIGRlZmluZWQgaW4gRVMgNS4xIHNlY3Rpb24gMTUuMTIuMi5cbiAgICAgICAgdmFyIHdhbGsgPSBmdW5jdGlvbiAoc291cmNlLCBwcm9wZXJ0eSwgY2FsbGJhY2spIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBzb3VyY2VbcHJvcGVydHldLCBsZW5ndGg7XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiICYmIHZhbHVlKSB7XG4gICAgICAgICAgICAvLyBgZm9yRWFjaGAgY2FuJ3QgYmUgdXNlZCB0byB0cmF2ZXJzZSBhbiBhcnJheSBpbiBPcGVyYSA8PSA4LjU0XG4gICAgICAgICAgICAvLyBiZWNhdXNlIGl0cyBgT2JqZWN0I2hhc093blByb3BlcnR5YCBpbXBsZW1lbnRhdGlvbiByZXR1cm5zIGBmYWxzZWBcbiAgICAgICAgICAgIC8vIGZvciBhcnJheSBpbmRpY2VzIChlLmcuLCBgIVsxLCAyLCAzXS5oYXNPd25Qcm9wZXJ0eShcIjBcIilgKS5cbiAgICAgICAgICAgIGlmIChnZXRDbGFzcy5jYWxsKHZhbHVlKSA9PSBhcnJheUNsYXNzKSB7XG4gICAgICAgICAgICAgIGZvciAobGVuZ3RoID0gdmFsdWUubGVuZ3RoOyBsZW5ndGgtLTspIHtcbiAgICAgICAgICAgICAgICB1cGRhdGUodmFsdWUsIGxlbmd0aCwgY2FsbGJhY2spO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBmb3JFYWNoKHZhbHVlLCBmdW5jdGlvbiAocHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGUodmFsdWUsIHByb3BlcnR5LCBjYWxsYmFjayk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2suY2FsbChzb3VyY2UsIHByb3BlcnR5LCB2YWx1ZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gUHVibGljOiBgSlNPTi5wYXJzZWAuIFNlZSBFUyA1LjEgc2VjdGlvbiAxNS4xMi4yLlxuICAgICAgICBleHBvcnRzLnBhcnNlID0gZnVuY3Rpb24gKHNvdXJjZSwgY2FsbGJhY2spIHtcbiAgICAgICAgICB2YXIgcmVzdWx0LCB2YWx1ZTtcbiAgICAgICAgICBJbmRleCA9IDA7XG4gICAgICAgICAgU291cmNlID0gXCJcIiArIHNvdXJjZTtcbiAgICAgICAgICByZXN1bHQgPSBnZXQobGV4KCkpO1xuICAgICAgICAgIC8vIElmIGEgSlNPTiBzdHJpbmcgY29udGFpbnMgbXVsdGlwbGUgdG9rZW5zLCBpdCBpcyBpbnZhbGlkLlxuICAgICAgICAgIGlmIChsZXgoKSAhPSBcIiRcIikge1xuICAgICAgICAgICAgYWJvcnQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gUmVzZXQgdGhlIHBhcnNlciBzdGF0ZS5cbiAgICAgICAgICBJbmRleCA9IFNvdXJjZSA9IG51bGw7XG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrICYmIGdldENsYXNzLmNhbGwoY2FsbGJhY2spID09IGZ1bmN0aW9uQ2xhc3MgPyB3YWxrKCh2YWx1ZSA9IHt9LCB2YWx1ZVtcIlwiXSA9IHJlc3VsdCwgdmFsdWUpLCBcIlwiLCBjYWxsYmFjaykgOiByZXN1bHQ7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0c1tcInJ1bkluQ29udGV4dFwiXSA9IHJ1bkluQ29udGV4dDtcbiAgICByZXR1cm4gZXhwb3J0cztcbiAgfVxuXG4gIGlmIChmcmVlRXhwb3J0cyAmJiAhaXNMb2FkZXIpIHtcbiAgICAvLyBFeHBvcnQgZm9yIENvbW1vbkpTIGVudmlyb25tZW50cy5cbiAgICBydW5JbkNvbnRleHQocm9vdCwgZnJlZUV4cG9ydHMpO1xuICB9IGVsc2Uge1xuICAgIC8vIEV4cG9ydCBmb3Igd2ViIGJyb3dzZXJzIGFuZCBKYXZhU2NyaXB0IGVuZ2luZXMuXG4gICAgdmFyIG5hdGl2ZUpTT04gPSByb290LkpTT04sXG4gICAgICAgIHByZXZpb3VzSlNPTiA9IHJvb3RbXCJKU09OM1wiXSxcbiAgICAgICAgaXNSZXN0b3JlZCA9IGZhbHNlO1xuXG4gICAgdmFyIEpTT04zID0gcnVuSW5Db250ZXh0KHJvb3QsIChyb290W1wiSlNPTjNcIl0gPSB7XG4gICAgICAvLyBQdWJsaWM6IFJlc3RvcmVzIHRoZSBvcmlnaW5hbCB2YWx1ZSBvZiB0aGUgZ2xvYmFsIGBKU09OYCBvYmplY3QgYW5kXG4gICAgICAvLyByZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoZSBgSlNPTjNgIG9iamVjdC5cbiAgICAgIFwibm9Db25mbGljdFwiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghaXNSZXN0b3JlZCkge1xuICAgICAgICAgIGlzUmVzdG9yZWQgPSB0cnVlO1xuICAgICAgICAgIHJvb3QuSlNPTiA9IG5hdGl2ZUpTT047XG4gICAgICAgICAgcm9vdFtcIkpTT04zXCJdID0gcHJldmlvdXNKU09OO1xuICAgICAgICAgIG5hdGl2ZUpTT04gPSBwcmV2aW91c0pTT04gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBKU09OMztcbiAgICAgIH1cbiAgICB9KSk7XG5cbiAgICByb290LkpTT04gPSB7XG4gICAgICBcInBhcnNlXCI6IEpTT04zLnBhcnNlLFxuICAgICAgXCJzdHJpbmdpZnlcIjogSlNPTjMuc3RyaW5naWZ5XG4gICAgfTtcbiAgfVxuXG4gIC8vIEV4cG9ydCBmb3IgYXN5bmNocm9ub3VzIG1vZHVsZSBsb2FkZXJzLlxuICBpZiAoaXNMb2FkZXIpIHtcbiAgICBkZWZpbmUoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIEpTT04zO1xuICAgIH0pO1xuICB9XG59KS5jYWxsKHRoaXMpO1xuXG59KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcblxufSx7fV0sNTk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBEZWNvZGUgYSBVUkkgZW5jb2RlZCBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBVUkkgZW5jb2RlZCBzdHJpbmcuXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgZGVjb2RlZCBzdHJpbmcuXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7XG4gIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoaW5wdXQucmVwbGFjZSgvXFwrL2csICcgJykpO1xufVxuXG4vKipcbiAqIFNpbXBsZSBxdWVyeSBzdHJpbmcgcGFyc2VyLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBxdWVyeSBUaGUgcXVlcnkgc3RyaW5nIHRoYXQgbmVlZHMgdG8gYmUgcGFyc2VkLlxuICogQHJldHVybnMge09iamVjdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cbmZ1bmN0aW9uIHF1ZXJ5c3RyaW5nKHF1ZXJ5KSB7XG4gIHZhciBwYXJzZXIgPSAvKFtePT8mXSspPT8oW14mXSopL2dcbiAgICAsIHJlc3VsdCA9IHt9XG4gICAgLCBwYXJ0O1xuXG4gIHdoaWxlIChwYXJ0ID0gcGFyc2VyLmV4ZWMocXVlcnkpKSB7XG4gICAgdmFyIGtleSA9IGRlY29kZShwYXJ0WzFdKVxuICAgICAgLCB2YWx1ZSA9IGRlY29kZShwYXJ0WzJdKTtcblxuICAgIC8vXG4gICAgLy8gUHJldmVudCBvdmVycmlkaW5nIG9mIGV4aXN0aW5nIHByb3BlcnRpZXMuIFRoaXMgZW5zdXJlcyB0aGF0IGJ1aWxkLWluXG4gICAgLy8gbWV0aG9kcyBsaWtlIGB0b1N0cmluZ2Agb3IgX19wcm90b19fIGFyZSBub3Qgb3ZlcnJpZGVuIGJ5IG1hbGljaW91c1xuICAgIC8vIHF1ZXJ5c3RyaW5ncy5cbiAgICAvL1xuICAgIGlmIChrZXkgaW4gcmVzdWx0KSBjb250aW51ZTtcbiAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm0gYSBxdWVyeSBzdHJpbmcgdG8gYW4gb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogT2JqZWN0IHRoYXQgc2hvdWxkIGJlIHRyYW5zZm9ybWVkLlxuICogQHBhcmFtIHtTdHJpbmd9IHByZWZpeCBPcHRpb25hbCBwcmVmaXguXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gcXVlcnlzdHJpbmdpZnkob2JqLCBwcmVmaXgpIHtcbiAgcHJlZml4ID0gcHJlZml4IHx8ICcnO1xuXG4gIHZhciBwYWlycyA9IFtdO1xuXG4gIC8vXG4gIC8vIE9wdGlvbmFsbHkgcHJlZml4IHdpdGggYSAnPycgaWYgbmVlZGVkXG4gIC8vXG4gIGlmICgnc3RyaW5nJyAhPT0gdHlwZW9mIHByZWZpeCkgcHJlZml4ID0gJz8nO1xuXG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICBpZiAoaGFzLmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICBwYWlycy5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChrZXkpICsnPScrIGVuY29kZVVSSUNvbXBvbmVudChvYmpba2V5XSkpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwYWlycy5sZW5ndGggPyBwcmVmaXggKyBwYWlycy5qb2luKCcmJykgOiAnJztcbn1cblxuLy9cbi8vIEV4cG9zZSB0aGUgbW9kdWxlLlxuLy9cbmV4cG9ydHMuc3RyaW5naWZ5ID0gcXVlcnlzdHJpbmdpZnk7XG5leHBvcnRzLnBhcnNlID0gcXVlcnlzdHJpbmc7XG5cbn0se31dLDYwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDaGVjayBpZiB3ZSdyZSByZXF1aXJlZCB0byBhZGQgYSBwb3J0IG51bWJlci5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jZGVmYXVsdC1wb3J0XG4gKiBAcGFyYW0ge051bWJlcnxTdHJpbmd9IHBvcnQgUG9ydCBudW1iZXIgd2UgbmVlZCB0byBjaGVja1xuICogQHBhcmFtIHtTdHJpbmd9IHByb3RvY29sIFByb3RvY29sIHdlIG5lZWQgdG8gY2hlY2sgYWdhaW5zdC5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBJcyBpdCBhIGRlZmF1bHQgcG9ydCBmb3IgdGhlIGdpdmVuIHByb3RvY29sXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiByZXF1aXJlZChwb3J0LCBwcm90b2NvbCkge1xuICBwcm90b2NvbCA9IHByb3RvY29sLnNwbGl0KCc6JylbMF07XG4gIHBvcnQgPSArcG9ydDtcblxuICBpZiAoIXBvcnQpIHJldHVybiBmYWxzZTtcblxuICBzd2l0Y2ggKHByb3RvY29sKSB7XG4gICAgY2FzZSAnaHR0cCc6XG4gICAgY2FzZSAnd3MnOlxuICAgIHJldHVybiBwb3J0ICE9PSA4MDtcblxuICAgIGNhc2UgJ2h0dHBzJzpcbiAgICBjYXNlICd3c3MnOlxuICAgIHJldHVybiBwb3J0ICE9PSA0NDM7XG5cbiAgICBjYXNlICdmdHAnOlxuICAgIHJldHVybiBwb3J0ICE9PSAyMTtcblxuICAgIGNhc2UgJ2dvcGhlcic6XG4gICAgcmV0dXJuIHBvcnQgIT09IDcwO1xuXG4gICAgY2FzZSAnZmlsZSc6XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHBvcnQgIT09IDA7XG59O1xuXG59LHt9XSw2MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKGdsb2JhbCl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciByZXF1aXJlZCA9IHJlcXVpcmUoJ3JlcXVpcmVzLXBvcnQnKVxuICAsIHFzID0gcmVxdWlyZSgncXVlcnlzdHJpbmdpZnknKVxuICAsIHByb3RvY29scmUgPSAvXihbYS16XVthLXowLTkuKy1dKjopPyhcXC9cXC8pPyhbXFxTXFxzXSopL2lcbiAgLCBzbGFzaGVzID0gL15bQS1aYS16XVtBLVphLXowLTkrLS5dKjpcXC9cXC8vO1xuXG4vKipcbiAqIFRoZXNlIGFyZSB0aGUgcGFyc2UgcnVsZXMgZm9yIHRoZSBVUkwgcGFyc2VyLCBpdCBpbmZvcm1zIHRoZSBwYXJzZXJcbiAqIGFib3V0OlxuICpcbiAqIDAuIFRoZSBjaGFyIGl0IE5lZWRzIHRvIHBhcnNlLCBpZiBpdCdzIGEgc3RyaW5nIGl0IHNob3VsZCBiZSBkb25lIHVzaW5nXG4gKiAgICBpbmRleE9mLCBSZWdFeHAgdXNpbmcgZXhlYyBhbmQgTmFOIG1lYW5zIHNldCBhcyBjdXJyZW50IHZhbHVlLlxuICogMS4gVGhlIHByb3BlcnR5IHdlIHNob3VsZCBzZXQgd2hlbiBwYXJzaW5nIHRoaXMgdmFsdWUuXG4gKiAyLiBJbmRpY2F0aW9uIGlmIGl0J3MgYmFja3dhcmRzIG9yIGZvcndhcmQgcGFyc2luZywgd2hlbiBzZXQgYXMgbnVtYmVyIGl0J3NcbiAqICAgIHRoZSB2YWx1ZSBvZiBleHRyYSBjaGFycyB0aGF0IHNob3VsZCBiZSBzcGxpdCBvZmYuXG4gKiAzLiBJbmhlcml0IGZyb20gbG9jYXRpb24gaWYgbm9uIGV4aXN0aW5nIGluIHRoZSBwYXJzZXIuXG4gKiA0LiBgdG9Mb3dlckNhc2VgIHRoZSByZXN1bHRpbmcgdmFsdWUuXG4gKi9cbnZhciBydWxlcyA9IFtcbiAgWycjJywgJ2hhc2gnXSwgICAgICAgICAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IGZyb20gdGhlIGJhY2suXG4gIFsnPycsICdxdWVyeSddLCAgICAgICAgICAgICAgICAgICAgICAgLy8gRXh0cmFjdCBmcm9tIHRoZSBiYWNrLlxuICBmdW5jdGlvbiBzYW5pdGl6ZShhZGRyZXNzKSB7ICAgICAgICAgIC8vIFNhbml0aXplIHdoYXQgaXMgbGVmdCBvZiB0aGUgYWRkcmVzc1xuICAgIHJldHVybiBhZGRyZXNzLnJlcGxhY2UoJ1xcXFwnLCAnLycpO1xuICB9LFxuICBbJy8nLCAncGF0aG5hbWUnXSwgICAgICAgICAgICAgICAgICAgIC8vIEV4dHJhY3QgZnJvbSB0aGUgYmFjay5cbiAgWydAJywgJ2F1dGgnLCAxXSwgICAgICAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IGZyb20gdGhlIGZyb250LlxuICBbTmFOLCAnaG9zdCcsIHVuZGVmaW5lZCwgMSwgMV0sICAgICAgIC8vIFNldCBsZWZ0IG92ZXIgdmFsdWUuXG4gIFsvOihcXGQrKSQvLCAncG9ydCcsIHVuZGVmaW5lZCwgMV0sICAgIC8vIFJlZ0V4cCB0aGUgYmFjay5cbiAgW05hTiwgJ2hvc3RuYW1lJywgdW5kZWZpbmVkLCAxLCAxXSAgICAvLyBTZXQgbGVmdCBvdmVyLlxuXTtcblxuLyoqXG4gKiBUaGVzZSBwcm9wZXJ0aWVzIHNob3VsZCBub3QgYmUgY29waWVkIG9yIGluaGVyaXRlZCBmcm9tLiBUaGlzIGlzIG9ubHkgbmVlZGVkXG4gKiBmb3IgYWxsIG5vbiBibG9iIFVSTCdzIGFzIGEgYmxvYiBVUkwgZG9lcyBub3QgaW5jbHVkZSBhIGhhc2gsIG9ubHkgdGhlXG4gKiBvcmlnaW4uXG4gKlxuICogQHR5cGUge09iamVjdH1cbiAqIEBwcml2YXRlXG4gKi9cbnZhciBpZ25vcmUgPSB7IGhhc2g6IDEsIHF1ZXJ5OiAxIH07XG5cbi8qKlxuICogVGhlIGxvY2F0aW9uIG9iamVjdCBkaWZmZXJzIHdoZW4geW91ciBjb2RlIGlzIGxvYWRlZCB0aHJvdWdoIGEgbm9ybWFsIHBhZ2UsXG4gKiBXb3JrZXIgb3IgdGhyb3VnaCBhIHdvcmtlciB1c2luZyBhIGJsb2IuIEFuZCB3aXRoIHRoZSBibG9iYmxlIGJlZ2lucyB0aGVcbiAqIHRyb3VibGUgYXMgdGhlIGxvY2F0aW9uIG9iamVjdCB3aWxsIGNvbnRhaW4gdGhlIFVSTCBvZiB0aGUgYmxvYiwgbm90IHRoZVxuICogbG9jYXRpb24gb2YgdGhlIHBhZ2Ugd2hlcmUgb3VyIGNvZGUgaXMgbG9hZGVkIGluLiBUaGUgYWN0dWFsIG9yaWdpbiBpc1xuICogZW5jb2RlZCBpbiB0aGUgYHBhdGhuYW1lYCBzbyB3ZSBjYW4gdGhhbmtmdWxseSBnZW5lcmF0ZSBhIGdvb2QgXCJkZWZhdWx0XCJcbiAqIGxvY2F0aW9uIGZyb20gaXQgc28gd2UgY2FuIGdlbmVyYXRlIHByb3BlciByZWxhdGl2ZSBVUkwncyBhZ2Fpbi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdHxTdHJpbmd9IGxvYyBPcHRpb25hbCBkZWZhdWx0IGxvY2F0aW9uIG9iamVjdC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IGxvbGNhdGlvbiBvYmplY3QuXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIGxvbGNhdGlvbihsb2MpIHtcbiAgdmFyIGxvY2F0aW9uID0gZ2xvYmFsICYmIGdsb2JhbC5sb2NhdGlvbiB8fCB7fTtcbiAgbG9jID0gbG9jIHx8IGxvY2F0aW9uO1xuXG4gIHZhciBmaW5hbGRlc3RpbmF0aW9uID0ge31cbiAgICAsIHR5cGUgPSB0eXBlb2YgbG9jXG4gICAgLCBrZXk7XG5cbiAgaWYgKCdibG9iOicgPT09IGxvYy5wcm90b2NvbCkge1xuICAgIGZpbmFsZGVzdGluYXRpb24gPSBuZXcgVXJsKHVuZXNjYXBlKGxvYy5wYXRobmFtZSksIHt9KTtcbiAgfSBlbHNlIGlmICgnc3RyaW5nJyA9PT0gdHlwZSkge1xuICAgIGZpbmFsZGVzdGluYXRpb24gPSBuZXcgVXJsKGxvYywge30pO1xuICAgIGZvciAoa2V5IGluIGlnbm9yZSkgZGVsZXRlIGZpbmFsZGVzdGluYXRpb25ba2V5XTtcbiAgfSBlbHNlIGlmICgnb2JqZWN0JyA9PT0gdHlwZSkge1xuICAgIGZvciAoa2V5IGluIGxvYykge1xuICAgICAgaWYgKGtleSBpbiBpZ25vcmUpIGNvbnRpbnVlO1xuICAgICAgZmluYWxkZXN0aW5hdGlvbltrZXldID0gbG9jW2tleV07XG4gICAgfVxuXG4gICAgaWYgKGZpbmFsZGVzdGluYXRpb24uc2xhc2hlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBmaW5hbGRlc3RpbmF0aW9uLnNsYXNoZXMgPSBzbGFzaGVzLnRlc3QobG9jLmhyZWYpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmaW5hbGRlc3RpbmF0aW9uO1xufVxuXG4vKipcbiAqIEB0eXBlZGVmIFByb3RvY29sRXh0cmFjdFxuICogQHR5cGUgT2JqZWN0XG4gKiBAcHJvcGVydHkge1N0cmluZ30gcHJvdG9jb2wgUHJvdG9jb2wgbWF0Y2hlZCBpbiB0aGUgVVJMLCBpbiBsb3dlcmNhc2UuXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IHNsYXNoZXMgYHRydWVgIGlmIHByb3RvY29sIGlzIGZvbGxvd2VkIGJ5IFwiLy9cIiwgZWxzZSBgZmFsc2VgLlxuICogQHByb3BlcnR5IHtTdHJpbmd9IHJlc3QgUmVzdCBvZiB0aGUgVVJMIHRoYXQgaXMgbm90IHBhcnQgb2YgdGhlIHByb3RvY29sLlxuICovXG5cbi8qKlxuICogRXh0cmFjdCBwcm90b2NvbCBpbmZvcm1hdGlvbiBmcm9tIGEgVVJMIHdpdGgvd2l0aG91dCBkb3VibGUgc2xhc2ggKFwiLy9cIikuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGFkZHJlc3MgVVJMIHdlIHdhbnQgdG8gZXh0cmFjdCBmcm9tLlxuICogQHJldHVybiB7UHJvdG9jb2xFeHRyYWN0fSBFeHRyYWN0ZWQgaW5mb3JtYXRpb24uXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBleHRyYWN0UHJvdG9jb2woYWRkcmVzcykge1xuICB2YXIgbWF0Y2ggPSBwcm90b2NvbHJlLmV4ZWMoYWRkcmVzcyk7XG5cbiAgcmV0dXJuIHtcbiAgICBwcm90b2NvbDogbWF0Y2hbMV0gPyBtYXRjaFsxXS50b0xvd2VyQ2FzZSgpIDogJycsXG4gICAgc2xhc2hlczogISFtYXRjaFsyXSxcbiAgICByZXN0OiBtYXRjaFszXVxuICB9O1xufVxuXG4vKipcbiAqIFJlc29sdmUgYSByZWxhdGl2ZSBVUkwgcGF0aG5hbWUgYWdhaW5zdCBhIGJhc2UgVVJMIHBhdGhuYW1lLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSByZWxhdGl2ZSBQYXRobmFtZSBvZiB0aGUgcmVsYXRpdmUgVVJMLlxuICogQHBhcmFtIHtTdHJpbmd9IGJhc2UgUGF0aG5hbWUgb2YgdGhlIGJhc2UgVVJMLlxuICogQHJldHVybiB7U3RyaW5nfSBSZXNvbHZlZCBwYXRobmFtZS5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmUocmVsYXRpdmUsIGJhc2UpIHtcbiAgdmFyIHBhdGggPSAoYmFzZSB8fCAnLycpLnNwbGl0KCcvJykuc2xpY2UoMCwgLTEpLmNvbmNhdChyZWxhdGl2ZS5zcGxpdCgnLycpKVxuICAgICwgaSA9IHBhdGgubGVuZ3RoXG4gICAgLCBsYXN0ID0gcGF0aFtpIC0gMV1cbiAgICAsIHVuc2hpZnQgPSBmYWxzZVxuICAgICwgdXAgPSAwO1xuXG4gIHdoaWxlIChpLS0pIHtcbiAgICBpZiAocGF0aFtpXSA9PT0gJy4nKSB7XG4gICAgICBwYXRoLnNwbGljZShpLCAxKTtcbiAgICB9IGVsc2UgaWYgKHBhdGhbaV0gPT09ICcuLicpIHtcbiAgICAgIHBhdGguc3BsaWNlKGksIDEpO1xuICAgICAgdXArKztcbiAgICB9IGVsc2UgaWYgKHVwKSB7XG4gICAgICBpZiAoaSA9PT0gMCkgdW5zaGlmdCA9IHRydWU7XG4gICAgICBwYXRoLnNwbGljZShpLCAxKTtcbiAgICAgIHVwLS07XG4gICAgfVxuICB9XG5cbiAgaWYgKHVuc2hpZnQpIHBhdGgudW5zaGlmdCgnJyk7XG4gIGlmIChsYXN0ID09PSAnLicgfHwgbGFzdCA9PT0gJy4uJykgcGF0aC5wdXNoKCcnKTtcblxuICByZXR1cm4gcGF0aC5qb2luKCcvJyk7XG59XG5cbi8qKlxuICogVGhlIGFjdHVhbCBVUkwgaW5zdGFuY2UuIEluc3RlYWQgb2YgcmV0dXJuaW5nIGFuIG9iamVjdCB3ZSd2ZSBvcHRlZC1pbiB0b1xuICogY3JlYXRlIGFuIGFjdHVhbCBjb25zdHJ1Y3RvciBhcyBpdCdzIG11Y2ggbW9yZSBtZW1vcnkgZWZmaWNpZW50IGFuZFxuICogZmFzdGVyIGFuZCBpdCBwbGVhc2VzIG15IE9DRC5cbiAqXG4gKiBJdCBpcyB3b3J0aCBub3RpbmcgdGhhdCB3ZSBzaG91bGQgbm90IHVzZSBgVVJMYCBhcyBjbGFzcyBuYW1lIHRvIHByZXZlbnRcbiAqIGNsYXNoZXMgd2l0aCB0aGUgZ2xvYmFsIFVSTCBpbnN0YW5jZSB0aGF0IGdvdCBpbnRyb2R1Y2VkIGluIGJyb3dzZXJzLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtTdHJpbmd9IGFkZHJlc3MgVVJMIHdlIHdhbnQgdG8gcGFyc2UuXG4gKiBAcGFyYW0ge09iamVjdHxTdHJpbmd9IGxvY2F0aW9uIExvY2F0aW9uIGRlZmF1bHRzIGZvciByZWxhdGl2ZSBwYXRocy5cbiAqIEBwYXJhbSB7Qm9vbGVhbnxGdW5jdGlvbn0gcGFyc2VyIFBhcnNlciBmb3IgdGhlIHF1ZXJ5IHN0cmluZy5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIFVybChhZGRyZXNzLCBsb2NhdGlvbiwgcGFyc2VyKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBVcmwpKSB7XG4gICAgcmV0dXJuIG5ldyBVcmwoYWRkcmVzcywgbG9jYXRpb24sIHBhcnNlcik7XG4gIH1cblxuICB2YXIgcmVsYXRpdmUsIGV4dHJhY3RlZCwgcGFyc2UsIGluc3RydWN0aW9uLCBpbmRleCwga2V5XG4gICAgLCBpbnN0cnVjdGlvbnMgPSBydWxlcy5zbGljZSgpXG4gICAgLCB0eXBlID0gdHlwZW9mIGxvY2F0aW9uXG4gICAgLCB1cmwgPSB0aGlzXG4gICAgLCBpID0gMDtcblxuICAvL1xuICAvLyBUaGUgZm9sbG93aW5nIGlmIHN0YXRlbWVudHMgYWxsb3dzIHRoaXMgbW9kdWxlIHR3byBoYXZlIGNvbXBhdGliaWxpdHkgd2l0aFxuICAvLyAyIGRpZmZlcmVudCBBUEk6XG4gIC8vXG4gIC8vIDEuIE5vZGUuanMncyBgdXJsLnBhcnNlYCBhcGkgd2hpY2ggYWNjZXB0cyBhIFVSTCwgYm9vbGVhbiBhcyBhcmd1bWVudHNcbiAgLy8gICAgd2hlcmUgdGhlIGJvb2xlYW4gaW5kaWNhdGVzIHRoYXQgdGhlIHF1ZXJ5IHN0cmluZyBzaG91bGQgYWxzbyBiZSBwYXJzZWQuXG4gIC8vXG4gIC8vIDIuIFRoZSBgVVJMYCBpbnRlcmZhY2Ugb2YgdGhlIGJyb3dzZXIgd2hpY2ggYWNjZXB0cyBhIFVSTCwgb2JqZWN0IGFzXG4gIC8vICAgIGFyZ3VtZW50cy4gVGhlIHN1cHBsaWVkIG9iamVjdCB3aWxsIGJlIHVzZWQgYXMgZGVmYXVsdCB2YWx1ZXMgLyBmYWxsLWJhY2tcbiAgLy8gICAgZm9yIHJlbGF0aXZlIHBhdGhzLlxuICAvL1xuICBpZiAoJ29iamVjdCcgIT09IHR5cGUgJiYgJ3N0cmluZycgIT09IHR5cGUpIHtcbiAgICBwYXJzZXIgPSBsb2NhdGlvbjtcbiAgICBsb2NhdGlvbiA9IG51bGw7XG4gIH1cblxuICBpZiAocGFyc2VyICYmICdmdW5jdGlvbicgIT09IHR5cGVvZiBwYXJzZXIpIHBhcnNlciA9IHFzLnBhcnNlO1xuXG4gIGxvY2F0aW9uID0gbG9sY2F0aW9uKGxvY2F0aW9uKTtcblxuICAvL1xuICAvLyBFeHRyYWN0IHByb3RvY29sIGluZm9ybWF0aW9uIGJlZm9yZSBydW5uaW5nIHRoZSBpbnN0cnVjdGlvbnMuXG4gIC8vXG4gIGV4dHJhY3RlZCA9IGV4dHJhY3RQcm90b2NvbChhZGRyZXNzIHx8ICcnKTtcbiAgcmVsYXRpdmUgPSAhZXh0cmFjdGVkLnByb3RvY29sICYmICFleHRyYWN0ZWQuc2xhc2hlcztcbiAgdXJsLnNsYXNoZXMgPSBleHRyYWN0ZWQuc2xhc2hlcyB8fCByZWxhdGl2ZSAmJiBsb2NhdGlvbi5zbGFzaGVzO1xuICB1cmwucHJvdG9jb2wgPSBleHRyYWN0ZWQucHJvdG9jb2wgfHwgbG9jYXRpb24ucHJvdG9jb2wgfHwgJyc7XG4gIGFkZHJlc3MgPSBleHRyYWN0ZWQucmVzdDtcblxuICAvL1xuICAvLyBXaGVuIHRoZSBhdXRob3JpdHkgY29tcG9uZW50IGlzIGFic2VudCB0aGUgVVJMIHN0YXJ0cyB3aXRoIGEgcGF0aFxuICAvLyBjb21wb25lbnQuXG4gIC8vXG4gIGlmICghZXh0cmFjdGVkLnNsYXNoZXMpIGluc3RydWN0aW9uc1szXSA9IFsvKC4qKS8sICdwYXRobmFtZSddO1xuXG4gIGZvciAoOyBpIDwgaW5zdHJ1Y3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgaW5zdHJ1Y3Rpb24gPSBpbnN0cnVjdGlvbnNbaV07XG5cbiAgICBpZiAodHlwZW9mIGluc3RydWN0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhZGRyZXNzID0gaW5zdHJ1Y3Rpb24oYWRkcmVzcyk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBwYXJzZSA9IGluc3RydWN0aW9uWzBdO1xuICAgIGtleSA9IGluc3RydWN0aW9uWzFdO1xuXG4gICAgaWYgKHBhcnNlICE9PSBwYXJzZSkge1xuICAgICAgdXJsW2tleV0gPSBhZGRyZXNzO1xuICAgIH0gZWxzZSBpZiAoJ3N0cmluZycgPT09IHR5cGVvZiBwYXJzZSkge1xuICAgICAgaWYgKH4oaW5kZXggPSBhZGRyZXNzLmluZGV4T2YocGFyc2UpKSkge1xuICAgICAgICBpZiAoJ251bWJlcicgPT09IHR5cGVvZiBpbnN0cnVjdGlvblsyXSkge1xuICAgICAgICAgIHVybFtrZXldID0gYWRkcmVzcy5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgICAgYWRkcmVzcyA9IGFkZHJlc3Muc2xpY2UoaW5kZXggKyBpbnN0cnVjdGlvblsyXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdXJsW2tleV0gPSBhZGRyZXNzLnNsaWNlKGluZGV4KTtcbiAgICAgICAgICBhZGRyZXNzID0gYWRkcmVzcy5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKChpbmRleCA9IHBhcnNlLmV4ZWMoYWRkcmVzcykpKSB7XG4gICAgICB1cmxba2V5XSA9IGluZGV4WzFdO1xuICAgICAgYWRkcmVzcyA9IGFkZHJlc3Muc2xpY2UoMCwgaW5kZXguaW5kZXgpO1xuICAgIH1cblxuICAgIHVybFtrZXldID0gdXJsW2tleV0gfHwgKFxuICAgICAgcmVsYXRpdmUgJiYgaW5zdHJ1Y3Rpb25bM10gPyBsb2NhdGlvbltrZXldIHx8ICcnIDogJydcbiAgICApO1xuXG4gICAgLy9cbiAgICAvLyBIb3N0bmFtZSwgaG9zdCBhbmQgcHJvdG9jb2wgc2hvdWxkIGJlIGxvd2VyY2FzZWQgc28gdGhleSBjYW4gYmUgdXNlZCB0b1xuICAgIC8vIGNyZWF0ZSBhIHByb3BlciBgb3JpZ2luYC5cbiAgICAvL1xuICAgIGlmIChpbnN0cnVjdGlvbls0XSkgdXJsW2tleV0gPSB1cmxba2V5XS50b0xvd2VyQ2FzZSgpO1xuICB9XG5cbiAgLy9cbiAgLy8gQWxzbyBwYXJzZSB0aGUgc3VwcGxpZWQgcXVlcnkgc3RyaW5nIGluIHRvIGFuIG9iamVjdC4gSWYgd2UncmUgc3VwcGxpZWRcbiAgLy8gd2l0aCBhIGN1c3RvbSBwYXJzZXIgYXMgZnVuY3Rpb24gdXNlIHRoYXQgaW5zdGVhZCBvZiB0aGUgZGVmYXVsdCBidWlsZC1pblxuICAvLyBwYXJzZXIuXG4gIC8vXG4gIGlmIChwYXJzZXIpIHVybC5xdWVyeSA9IHBhcnNlcih1cmwucXVlcnkpO1xuXG4gIC8vXG4gIC8vIElmIHRoZSBVUkwgaXMgcmVsYXRpdmUsIHJlc29sdmUgdGhlIHBhdGhuYW1lIGFnYWluc3QgdGhlIGJhc2UgVVJMLlxuICAvL1xuICBpZiAoXG4gICAgICByZWxhdGl2ZVxuICAgICYmIGxvY2F0aW9uLnNsYXNoZXNcbiAgICAmJiB1cmwucGF0aG5hbWUuY2hhckF0KDApICE9PSAnLydcbiAgICAmJiAodXJsLnBhdGhuYW1lICE9PSAnJyB8fCBsb2NhdGlvbi5wYXRobmFtZSAhPT0gJycpXG4gICkge1xuICAgIHVybC5wYXRobmFtZSA9IHJlc29sdmUodXJsLnBhdGhuYW1lLCBsb2NhdGlvbi5wYXRobmFtZSk7XG4gIH1cblxuICAvL1xuICAvLyBXZSBzaG91bGQgbm90IGFkZCBwb3J0IG51bWJlcnMgaWYgdGhleSBhcmUgYWxyZWFkeSB0aGUgZGVmYXVsdCBwb3J0IG51bWJlclxuICAvLyBmb3IgYSBnaXZlbiBwcm90b2NvbC4gQXMgdGhlIGhvc3QgYWxzbyBjb250YWlucyB0aGUgcG9ydCBudW1iZXIgd2UncmUgZ29pbmdcbiAgLy8gb3ZlcnJpZGUgaXQgd2l0aCB0aGUgaG9zdG5hbWUgd2hpY2ggY29udGFpbnMgbm8gcG9ydCBudW1iZXIuXG4gIC8vXG4gIGlmICghcmVxdWlyZWQodXJsLnBvcnQsIHVybC5wcm90b2NvbCkpIHtcbiAgICB1cmwuaG9zdCA9IHVybC5ob3N0bmFtZTtcbiAgICB1cmwucG9ydCA9ICcnO1xuICB9XG5cbiAgLy9cbiAgLy8gUGFyc2UgZG93biB0aGUgYGF1dGhgIGZvciB0aGUgdXNlcm5hbWUgYW5kIHBhc3N3b3JkLlxuICAvL1xuICB1cmwudXNlcm5hbWUgPSB1cmwucGFzc3dvcmQgPSAnJztcbiAgaWYgKHVybC5hdXRoKSB7XG4gICAgaW5zdHJ1Y3Rpb24gPSB1cmwuYXV0aC5zcGxpdCgnOicpO1xuICAgIHVybC51c2VybmFtZSA9IGluc3RydWN0aW9uWzBdIHx8ICcnO1xuICAgIHVybC5wYXNzd29yZCA9IGluc3RydWN0aW9uWzFdIHx8ICcnO1xuICB9XG5cbiAgdXJsLm9yaWdpbiA9IHVybC5wcm90b2NvbCAmJiB1cmwuaG9zdCAmJiB1cmwucHJvdG9jb2wgIT09ICdmaWxlOidcbiAgICA/IHVybC5wcm90b2NvbCArJy8vJysgdXJsLmhvc3RcbiAgICA6ICdudWxsJztcblxuICAvL1xuICAvLyBUaGUgaHJlZiBpcyBqdXN0IHRoZSBjb21waWxlZCByZXN1bHQuXG4gIC8vXG4gIHVybC5ocmVmID0gdXJsLnRvU3RyaW5nKCk7XG59XG5cbi8qKlxuICogVGhpcyBpcyBjb252ZW5pZW5jZSBtZXRob2QgZm9yIGNoYW5naW5nIHByb3BlcnRpZXMgaW4gdGhlIFVSTCBpbnN0YW5jZSB0b1xuICogaW5zdXJlIHRoYXQgdGhleSBhbGwgcHJvcGFnYXRlIGNvcnJlY3RseS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gcGFydCAgICAgICAgICBQcm9wZXJ0eSB3ZSBuZWVkIHRvIGFkanVzdC5cbiAqIEBwYXJhbSB7TWl4ZWR9IHZhbHVlICAgICAgICAgIFRoZSBuZXdseSBhc3NpZ25lZCB2YWx1ZS5cbiAqIEBwYXJhbSB7Qm9vbGVhbnxGdW5jdGlvbn0gZm4gIFdoZW4gc2V0dGluZyB0aGUgcXVlcnksIGl0IHdpbGwgYmUgdGhlIGZ1bmN0aW9uXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VkIHRvIHBhcnNlIHRoZSBxdWVyeS5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdoZW4gc2V0dGluZyB0aGUgcHJvdG9jb2wsIGRvdWJsZSBzbGFzaCB3aWxsIGJlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVkIGZyb20gdGhlIGZpbmFsIHVybCBpZiBpdCBpcyB0cnVlLlxuICogQHJldHVybnMge1VSTH0gVVJMIGluc3RhbmNlIGZvciBjaGFpbmluZy5cbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gc2V0KHBhcnQsIHZhbHVlLCBmbikge1xuICB2YXIgdXJsID0gdGhpcztcblxuICBzd2l0Y2ggKHBhcnQpIHtcbiAgICBjYXNlICdxdWVyeSc6XG4gICAgICBpZiAoJ3N0cmluZycgPT09IHR5cGVvZiB2YWx1ZSAmJiB2YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgdmFsdWUgPSAoZm4gfHwgcXMucGFyc2UpKHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgdXJsW3BhcnRdID0gdmFsdWU7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3BvcnQnOlxuICAgICAgdXJsW3BhcnRdID0gdmFsdWU7XG5cbiAgICAgIGlmICghcmVxdWlyZWQodmFsdWUsIHVybC5wcm90b2NvbCkpIHtcbiAgICAgICAgdXJsLmhvc3QgPSB1cmwuaG9zdG5hbWU7XG4gICAgICAgIHVybFtwYXJ0XSA9ICcnO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSkge1xuICAgICAgICB1cmwuaG9zdCA9IHVybC5ob3N0bmFtZSArJzonKyB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdob3N0bmFtZSc6XG4gICAgICB1cmxbcGFydF0gPSB2YWx1ZTtcblxuICAgICAgaWYgKHVybC5wb3J0KSB2YWx1ZSArPSAnOicrIHVybC5wb3J0O1xuICAgICAgdXJsLmhvc3QgPSB2YWx1ZTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnaG9zdCc6XG4gICAgICB1cmxbcGFydF0gPSB2YWx1ZTtcblxuICAgICAgaWYgKC86XFxkKyQvLnRlc3QodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUuc3BsaXQoJzonKTtcbiAgICAgICAgdXJsLnBvcnQgPSB2YWx1ZS5wb3AoKTtcbiAgICAgICAgdXJsLmhvc3RuYW1lID0gdmFsdWUuam9pbignOicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXJsLmhvc3RuYW1lID0gdmFsdWU7XG4gICAgICAgIHVybC5wb3J0ID0gJyc7XG4gICAgICB9XG5cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAncHJvdG9jb2wnOlxuICAgICAgdXJsLnByb3RvY29sID0gdmFsdWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIHVybC5zbGFzaGVzID0gIWZuO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdwYXRobmFtZSc6XG4gICAgY2FzZSAnaGFzaCc6XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgdmFyIGNoYXIgPSBwYXJ0ID09PSAncGF0aG5hbWUnID8gJy8nIDogJyMnO1xuICAgICAgICB1cmxbcGFydF0gPSB2YWx1ZS5jaGFyQXQoMCkgIT09IGNoYXIgPyBjaGFyICsgdmFsdWUgOiB2YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVybFtwYXJ0XSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgdXJsW3BhcnRdID0gdmFsdWU7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHJ1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGlucyA9IHJ1bGVzW2ldO1xuXG4gICAgaWYgKGluc1s0XSkgdXJsW2luc1sxXV0gPSB1cmxbaW5zWzFdXS50b0xvd2VyQ2FzZSgpO1xuICB9XG5cbiAgdXJsLm9yaWdpbiA9IHVybC5wcm90b2NvbCAmJiB1cmwuaG9zdCAmJiB1cmwucHJvdG9jb2wgIT09ICdmaWxlOidcbiAgICA/IHVybC5wcm90b2NvbCArJy8vJysgdXJsLmhvc3RcbiAgICA6ICdudWxsJztcblxuICB1cmwuaHJlZiA9IHVybC50b1N0cmluZygpO1xuXG4gIHJldHVybiB1cmw7XG59XG5cbi8qKlxuICogVHJhbnNmb3JtIHRoZSBwcm9wZXJ0aWVzIGJhY2sgaW4gdG8gYSB2YWxpZCBhbmQgZnVsbCBVUkwgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZ2lmeSBPcHRpb25hbCBxdWVyeSBzdHJpbmdpZnkgZnVuY3Rpb24uXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBDb21waWxlZCB2ZXJzaW9uIG9mIHRoZSBVUkwuXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIHRvU3RyaW5nKHN0cmluZ2lmeSkge1xuICBpZiAoIXN0cmluZ2lmeSB8fCAnZnVuY3Rpb24nICE9PSB0eXBlb2Ygc3RyaW5naWZ5KSBzdHJpbmdpZnkgPSBxcy5zdHJpbmdpZnk7XG5cbiAgdmFyIHF1ZXJ5XG4gICAgLCB1cmwgPSB0aGlzXG4gICAgLCBwcm90b2NvbCA9IHVybC5wcm90b2NvbDtcblxuICBpZiAocHJvdG9jb2wgJiYgcHJvdG9jb2wuY2hhckF0KHByb3RvY29sLmxlbmd0aCAtIDEpICE9PSAnOicpIHByb3RvY29sICs9ICc6JztcblxuICB2YXIgcmVzdWx0ID0gcHJvdG9jb2wgKyAodXJsLnNsYXNoZXMgPyAnLy8nIDogJycpO1xuXG4gIGlmICh1cmwudXNlcm5hbWUpIHtcbiAgICByZXN1bHQgKz0gdXJsLnVzZXJuYW1lO1xuICAgIGlmICh1cmwucGFzc3dvcmQpIHJlc3VsdCArPSAnOicrIHVybC5wYXNzd29yZDtcbiAgICByZXN1bHQgKz0gJ0AnO1xuICB9XG5cbiAgcmVzdWx0ICs9IHVybC5ob3N0ICsgdXJsLnBhdGhuYW1lO1xuXG4gIHF1ZXJ5ID0gJ29iamVjdCcgPT09IHR5cGVvZiB1cmwucXVlcnkgPyBzdHJpbmdpZnkodXJsLnF1ZXJ5KSA6IHVybC5xdWVyeTtcbiAgaWYgKHF1ZXJ5KSByZXN1bHQgKz0gJz8nICE9PSBxdWVyeS5jaGFyQXQoMCkgPyAnPycrIHF1ZXJ5IDogcXVlcnk7XG5cbiAgaWYgKHVybC5oYXNoKSByZXN1bHQgKz0gdXJsLmhhc2g7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuVXJsLnByb3RvdHlwZSA9IHsgc2V0OiBzZXQsIHRvU3RyaW5nOiB0b1N0cmluZyB9O1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBVUkwgcGFyc2VyIGFuZCBzb21lIGFkZGl0aW9uYWwgcHJvcGVydGllcyB0aGF0IG1pZ2h0IGJlIHVzZWZ1bCBmb3Jcbi8vIG90aGVycyBvciB0ZXN0aW5nLlxuLy9cblVybC5leHRyYWN0UHJvdG9jb2wgPSBleHRyYWN0UHJvdG9jb2w7XG5VcmwubG9jYXRpb24gPSBsb2xjYXRpb247XG5VcmwucXMgPSBxcztcblxubW9kdWxlLmV4cG9ydHMgPSBVcmw7XG5cbn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxuXG59LHtcInF1ZXJ5c3RyaW5naWZ5XCI6NTksXCJyZXF1aXJlcy1wb3J0XCI6NjB9XX0se30sWzFdKSgxKVxufSk7XG5cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c29ja2pzLmpzLm1hcFxuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHB1bnljb2RlID0gcmVxdWlyZSgncHVueWNvZGUnKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5cbmV4cG9ydHMucGFyc2UgPSB1cmxQYXJzZTtcbmV4cG9ydHMucmVzb2x2ZSA9IHVybFJlc29sdmU7XG5leHBvcnRzLnJlc29sdmVPYmplY3QgPSB1cmxSZXNvbHZlT2JqZWN0O1xuZXhwb3J0cy5mb3JtYXQgPSB1cmxGb3JtYXQ7XG5cbmV4cG9ydHMuVXJsID0gVXJsO1xuXG5mdW5jdGlvbiBVcmwoKSB7XG4gIHRoaXMucHJvdG9jb2wgPSBudWxsO1xuICB0aGlzLnNsYXNoZXMgPSBudWxsO1xuICB0aGlzLmF1dGggPSBudWxsO1xuICB0aGlzLmhvc3QgPSBudWxsO1xuICB0aGlzLnBvcnQgPSBudWxsO1xuICB0aGlzLmhvc3RuYW1lID0gbnVsbDtcbiAgdGhpcy5oYXNoID0gbnVsbDtcbiAgdGhpcy5zZWFyY2ggPSBudWxsO1xuICB0aGlzLnF1ZXJ5ID0gbnVsbDtcbiAgdGhpcy5wYXRobmFtZSA9IG51bGw7XG4gIHRoaXMucGF0aCA9IG51bGw7XG4gIHRoaXMuaHJlZiA9IG51bGw7XG59XG5cbi8vIFJlZmVyZW5jZTogUkZDIDM5ODYsIFJGQyAxODA4LCBSRkMgMjM5NlxuXG4vLyBkZWZpbmUgdGhlc2UgaGVyZSBzbyBhdCBsZWFzdCB0aGV5IG9ubHkgaGF2ZSB0byBiZVxuLy8gY29tcGlsZWQgb25jZSBvbiB0aGUgZmlyc3QgbW9kdWxlIGxvYWQuXG52YXIgcHJvdG9jb2xQYXR0ZXJuID0gL14oW2EtejAtOS4rLV0rOikvaSxcbiAgICBwb3J0UGF0dGVybiA9IC86WzAtOV0qJC8sXG5cbiAgICAvLyBTcGVjaWFsIGNhc2UgZm9yIGEgc2ltcGxlIHBhdGggVVJMXG4gICAgc2ltcGxlUGF0aFBhdHRlcm4gPSAvXihcXC9cXC8/KD8hXFwvKVteXFw/XFxzXSopKFxcP1teXFxzXSopPyQvLFxuXG4gICAgLy8gUkZDIDIzOTY6IGNoYXJhY3RlcnMgcmVzZXJ2ZWQgZm9yIGRlbGltaXRpbmcgVVJMcy5cbiAgICAvLyBXZSBhY3R1YWxseSBqdXN0IGF1dG8tZXNjYXBlIHRoZXNlLlxuICAgIGRlbGltcyA9IFsnPCcsICc+JywgJ1wiJywgJ2AnLCAnICcsICdcXHInLCAnXFxuJywgJ1xcdCddLFxuXG4gICAgLy8gUkZDIDIzOTY6IGNoYXJhY3RlcnMgbm90IGFsbG93ZWQgZm9yIHZhcmlvdXMgcmVhc29ucy5cbiAgICB1bndpc2UgPSBbJ3snLCAnfScsICd8JywgJ1xcXFwnLCAnXicsICdgJ10uY29uY2F0KGRlbGltcyksXG5cbiAgICAvLyBBbGxvd2VkIGJ5IFJGQ3MsIGJ1dCBjYXVzZSBvZiBYU1MgYXR0YWNrcy4gIEFsd2F5cyBlc2NhcGUgdGhlc2UuXG4gICAgYXV0b0VzY2FwZSA9IFsnXFwnJ10uY29uY2F0KHVud2lzZSksXG4gICAgLy8gQ2hhcmFjdGVycyB0aGF0IGFyZSBuZXZlciBldmVyIGFsbG93ZWQgaW4gYSBob3N0bmFtZS5cbiAgICAvLyBOb3RlIHRoYXQgYW55IGludmFsaWQgY2hhcnMgYXJlIGFsc28gaGFuZGxlZCwgYnV0IHRoZXNlXG4gICAgLy8gYXJlIHRoZSBvbmVzIHRoYXQgYXJlICpleHBlY3RlZCogdG8gYmUgc2Vlbiwgc28gd2UgZmFzdC1wYXRoXG4gICAgLy8gdGhlbS5cbiAgICBub25Ib3N0Q2hhcnMgPSBbJyUnLCAnLycsICc/JywgJzsnLCAnIyddLmNvbmNhdChhdXRvRXNjYXBlKSxcbiAgICBob3N0RW5kaW5nQ2hhcnMgPSBbJy8nLCAnPycsICcjJ10sXG4gICAgaG9zdG5hbWVNYXhMZW4gPSAyNTUsXG4gICAgaG9zdG5hbWVQYXJ0UGF0dGVybiA9IC9eWythLXowLTlBLVpfLV17MCw2M30kLyxcbiAgICBob3N0bmFtZVBhcnRTdGFydCA9IC9eKFsrYS16MC05QS1aXy1dezAsNjN9KSguKikkLyxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBjYW4gYWxsb3cgXCJ1bnNhZmVcIiBhbmQgXCJ1bndpc2VcIiBjaGFycy5cbiAgICB1bnNhZmVQcm90b2NvbCA9IHtcbiAgICAgICdqYXZhc2NyaXB0JzogdHJ1ZSxcbiAgICAgICdqYXZhc2NyaXB0Oic6IHRydWVcbiAgICB9LFxuICAgIC8vIHByb3RvY29scyB0aGF0IG5ldmVyIGhhdmUgYSBob3N0bmFtZS5cbiAgICBob3N0bGVzc1Byb3RvY29sID0ge1xuICAgICAgJ2phdmFzY3JpcHQnOiB0cnVlLFxuICAgICAgJ2phdmFzY3JpcHQ6JzogdHJ1ZVxuICAgIH0sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgYWx3YXlzIGNvbnRhaW4gYSAvLyBiaXQuXG4gICAgc2xhc2hlZFByb3RvY29sID0ge1xuICAgICAgJ2h0dHAnOiB0cnVlLFxuICAgICAgJ2h0dHBzJzogdHJ1ZSxcbiAgICAgICdmdHAnOiB0cnVlLFxuICAgICAgJ2dvcGhlcic6IHRydWUsXG4gICAgICAnZmlsZSc6IHRydWUsXG4gICAgICAnaHR0cDonOiB0cnVlLFxuICAgICAgJ2h0dHBzOic6IHRydWUsXG4gICAgICAnZnRwOic6IHRydWUsXG4gICAgICAnZ29waGVyOic6IHRydWUsXG4gICAgICAnZmlsZTonOiB0cnVlXG4gICAgfSxcbiAgICBxdWVyeXN0cmluZyA9IHJlcXVpcmUoJ3F1ZXJ5c3RyaW5nJyk7XG5cbmZ1bmN0aW9uIHVybFBhcnNlKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpIHtcbiAgaWYgKHVybCAmJiB1dGlsLmlzT2JqZWN0KHVybCkgJiYgdXJsIGluc3RhbmNlb2YgVXJsKSByZXR1cm4gdXJsO1xuXG4gIHZhciB1ID0gbmV3IFVybDtcbiAgdS5wYXJzZSh1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KTtcbiAgcmV0dXJuIHU7XG59XG5cblVybC5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbih1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KSB7XG4gIGlmICghdXRpbC5pc1N0cmluZyh1cmwpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlBhcmFtZXRlciAndXJsJyBtdXN0IGJlIGEgc3RyaW5nLCBub3QgXCIgKyB0eXBlb2YgdXJsKTtcbiAgfVxuXG4gIC8vIENvcHkgY2hyb21lLCBJRSwgb3BlcmEgYmFja3NsYXNoLWhhbmRsaW5nIGJlaGF2aW9yLlxuICAvLyBCYWNrIHNsYXNoZXMgYmVmb3JlIHRoZSBxdWVyeSBzdHJpbmcgZ2V0IGNvbnZlcnRlZCB0byBmb3J3YXJkIHNsYXNoZXNcbiAgLy8gU2VlOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MjU5MTZcbiAgdmFyIHF1ZXJ5SW5kZXggPSB1cmwuaW5kZXhPZignPycpLFxuICAgICAgc3BsaXR0ZXIgPVxuICAgICAgICAgIChxdWVyeUluZGV4ICE9PSAtMSAmJiBxdWVyeUluZGV4IDwgdXJsLmluZGV4T2YoJyMnKSkgPyAnPycgOiAnIycsXG4gICAgICB1U3BsaXQgPSB1cmwuc3BsaXQoc3BsaXR0ZXIpLFxuICAgICAgc2xhc2hSZWdleCA9IC9cXFxcL2c7XG4gIHVTcGxpdFswXSA9IHVTcGxpdFswXS5yZXBsYWNlKHNsYXNoUmVnZXgsICcvJyk7XG4gIHVybCA9IHVTcGxpdC5qb2luKHNwbGl0dGVyKTtcblxuICB2YXIgcmVzdCA9IHVybDtcblxuICAvLyB0cmltIGJlZm9yZSBwcm9jZWVkaW5nLlxuICAvLyBUaGlzIGlzIHRvIHN1cHBvcnQgcGFyc2Ugc3R1ZmYgbGlrZSBcIiAgaHR0cDovL2Zvby5jb20gIFxcblwiXG4gIHJlc3QgPSByZXN0LnRyaW0oKTtcblxuICBpZiAoIXNsYXNoZXNEZW5vdGVIb3N0ICYmIHVybC5zcGxpdCgnIycpLmxlbmd0aCA9PT0gMSkge1xuICAgIC8vIFRyeSBmYXN0IHBhdGggcmVnZXhwXG4gICAgdmFyIHNpbXBsZVBhdGggPSBzaW1wbGVQYXRoUGF0dGVybi5leGVjKHJlc3QpO1xuICAgIGlmIChzaW1wbGVQYXRoKSB7XG4gICAgICB0aGlzLnBhdGggPSByZXN0O1xuICAgICAgdGhpcy5ocmVmID0gcmVzdDtcbiAgICAgIHRoaXMucGF0aG5hbWUgPSBzaW1wbGVQYXRoWzFdO1xuICAgICAgaWYgKHNpbXBsZVBhdGhbMl0pIHtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSBzaW1wbGVQYXRoWzJdO1xuICAgICAgICBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgICAgIHRoaXMucXVlcnkgPSBxdWVyeXN0cmluZy5wYXJzZSh0aGlzLnNlYXJjaC5zdWJzdHIoMSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucXVlcnkgPSB0aGlzLnNlYXJjaC5zdWJzdHIoMSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgICB0aGlzLnNlYXJjaCA9ICcnO1xuICAgICAgICB0aGlzLnF1ZXJ5ID0ge307XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1cblxuICB2YXIgcHJvdG8gPSBwcm90b2NvbFBhdHRlcm4uZXhlYyhyZXN0KTtcbiAgaWYgKHByb3RvKSB7XG4gICAgcHJvdG8gPSBwcm90b1swXTtcbiAgICB2YXIgbG93ZXJQcm90byA9IHByb3RvLnRvTG93ZXJDYXNlKCk7XG4gICAgdGhpcy5wcm90b2NvbCA9IGxvd2VyUHJvdG87XG4gICAgcmVzdCA9IHJlc3Quc3Vic3RyKHByb3RvLmxlbmd0aCk7XG4gIH1cblxuICAvLyBmaWd1cmUgb3V0IGlmIGl0J3MgZ290IGEgaG9zdFxuICAvLyB1c2VyQHNlcnZlciBpcyAqYWx3YXlzKiBpbnRlcnByZXRlZCBhcyBhIGhvc3RuYW1lLCBhbmQgdXJsXG4gIC8vIHJlc29sdXRpb24gd2lsbCB0cmVhdCAvL2Zvby9iYXIgYXMgaG9zdD1mb28scGF0aD1iYXIgYmVjYXVzZSB0aGF0J3NcbiAgLy8gaG93IHRoZSBicm93c2VyIHJlc29sdmVzIHJlbGF0aXZlIFVSTHMuXG4gIGlmIChzbGFzaGVzRGVub3RlSG9zdCB8fCBwcm90byB8fCByZXN0Lm1hdGNoKC9eXFwvXFwvW15AXFwvXStAW15AXFwvXSsvKSkge1xuICAgIHZhciBzbGFzaGVzID0gcmVzdC5zdWJzdHIoMCwgMikgPT09ICcvLyc7XG4gICAgaWYgKHNsYXNoZXMgJiYgIShwcm90byAmJiBob3N0bGVzc1Byb3RvY29sW3Byb3RvXSkpIHtcbiAgICAgIHJlc3QgPSByZXN0LnN1YnN0cigyKTtcbiAgICAgIHRoaXMuc2xhc2hlcyA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFob3N0bGVzc1Byb3RvY29sW3Byb3RvXSAmJlxuICAgICAgKHNsYXNoZXMgfHwgKHByb3RvICYmICFzbGFzaGVkUHJvdG9jb2xbcHJvdG9dKSkpIHtcblxuICAgIC8vIHRoZXJlJ3MgYSBob3N0bmFtZS5cbiAgICAvLyB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgLywgPywgOywgb3IgIyBlbmRzIHRoZSBob3N0LlxuICAgIC8vXG4gICAgLy8gSWYgdGhlcmUgaXMgYW4gQCBpbiB0aGUgaG9zdG5hbWUsIHRoZW4gbm9uLWhvc3QgY2hhcnMgKmFyZSogYWxsb3dlZFxuICAgIC8vIHRvIHRoZSBsZWZ0IG9mIHRoZSBsYXN0IEAgc2lnbiwgdW5sZXNzIHNvbWUgaG9zdC1lbmRpbmcgY2hhcmFjdGVyXG4gICAgLy8gY29tZXMgKmJlZm9yZSogdGhlIEAtc2lnbi5cbiAgICAvLyBVUkxzIGFyZSBvYm5veGlvdXMuXG4gICAgLy9cbiAgICAvLyBleDpcbiAgICAvLyBodHRwOi8vYUBiQGMvID0+IHVzZXI6YUBiIGhvc3Q6Y1xuICAgIC8vIGh0dHA6Ly9hQGI/QGMgPT4gdXNlcjphIGhvc3Q6YyBwYXRoOi8/QGNcblxuICAgIC8vIHYwLjEyIFRPRE8oaXNhYWNzKTogVGhpcyBpcyBub3QgcXVpdGUgaG93IENocm9tZSBkb2VzIHRoaW5ncy5cbiAgICAvLyBSZXZpZXcgb3VyIHRlc3QgY2FzZSBhZ2FpbnN0IGJyb3dzZXJzIG1vcmUgY29tcHJlaGVuc2l2ZWx5LlxuXG4gICAgLy8gZmluZCB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgYW55IGhvc3RFbmRpbmdDaGFyc1xuICAgIHZhciBob3N0RW5kID0gLTE7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBob3N0RW5kaW5nQ2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBoZWMgPSByZXN0LmluZGV4T2YoaG9zdEVuZGluZ0NoYXJzW2ldKTtcbiAgICAgIGlmIChoZWMgIT09IC0xICYmIChob3N0RW5kID09PSAtMSB8fCBoZWMgPCBob3N0RW5kKSlcbiAgICAgICAgaG9zdEVuZCA9IGhlYztcbiAgICB9XG5cbiAgICAvLyBhdCB0aGlzIHBvaW50LCBlaXRoZXIgd2UgaGF2ZSBhbiBleHBsaWNpdCBwb2ludCB3aGVyZSB0aGVcbiAgICAvLyBhdXRoIHBvcnRpb24gY2Fubm90IGdvIHBhc3QsIG9yIHRoZSBsYXN0IEAgY2hhciBpcyB0aGUgZGVjaWRlci5cbiAgICB2YXIgYXV0aCwgYXRTaWduO1xuICAgIGlmIChob3N0RW5kID09PSAtMSkge1xuICAgICAgLy8gYXRTaWduIGNhbiBiZSBhbnl3aGVyZS5cbiAgICAgIGF0U2lnbiA9IHJlc3QubGFzdEluZGV4T2YoJ0AnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gYXRTaWduIG11c3QgYmUgaW4gYXV0aCBwb3J0aW9uLlxuICAgICAgLy8gaHR0cDovL2FAYi9jQGQgPT4gaG9zdDpiIGF1dGg6YSBwYXRoOi9jQGRcbiAgICAgIGF0U2lnbiA9IHJlc3QubGFzdEluZGV4T2YoJ0AnLCBob3N0RW5kKTtcbiAgICB9XG5cbiAgICAvLyBOb3cgd2UgaGF2ZSBhIHBvcnRpb24gd2hpY2ggaXMgZGVmaW5pdGVseSB0aGUgYXV0aC5cbiAgICAvLyBQdWxsIHRoYXQgb2ZmLlxuICAgIGlmIChhdFNpZ24gIT09IC0xKSB7XG4gICAgICBhdXRoID0gcmVzdC5zbGljZSgwLCBhdFNpZ24pO1xuICAgICAgcmVzdCA9IHJlc3Quc2xpY2UoYXRTaWduICsgMSk7XG4gICAgICB0aGlzLmF1dGggPSBkZWNvZGVVUklDb21wb25lbnQoYXV0aCk7XG4gICAgfVxuXG4gICAgLy8gdGhlIGhvc3QgaXMgdGhlIHJlbWFpbmluZyB0byB0aGUgbGVmdCBvZiB0aGUgZmlyc3Qgbm9uLWhvc3QgY2hhclxuICAgIGhvc3RFbmQgPSAtMTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vbkhvc3RDaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGhlYyA9IHJlc3QuaW5kZXhPZihub25Ib3N0Q2hhcnNbaV0pO1xuICAgICAgaWYgKGhlYyAhPT0gLTEgJiYgKGhvc3RFbmQgPT09IC0xIHx8IGhlYyA8IGhvc3RFbmQpKVxuICAgICAgICBob3N0RW5kID0gaGVjO1xuICAgIH1cbiAgICAvLyBpZiB3ZSBzdGlsbCBoYXZlIG5vdCBoaXQgaXQsIHRoZW4gdGhlIGVudGlyZSB0aGluZyBpcyBhIGhvc3QuXG4gICAgaWYgKGhvc3RFbmQgPT09IC0xKVxuICAgICAgaG9zdEVuZCA9IHJlc3QubGVuZ3RoO1xuXG4gICAgdGhpcy5ob3N0ID0gcmVzdC5zbGljZSgwLCBob3N0RW5kKTtcbiAgICByZXN0ID0gcmVzdC5zbGljZShob3N0RW5kKTtcblxuICAgIC8vIHB1bGwgb3V0IHBvcnQuXG4gICAgdGhpcy5wYXJzZUhvc3QoKTtcblxuICAgIC8vIHdlJ3ZlIGluZGljYXRlZCB0aGF0IHRoZXJlIGlzIGEgaG9zdG5hbWUsXG4gICAgLy8gc28gZXZlbiBpZiBpdCdzIGVtcHR5LCBpdCBoYXMgdG8gYmUgcHJlc2VudC5cbiAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZSB8fCAnJztcblxuICAgIC8vIGlmIGhvc3RuYW1lIGJlZ2lucyB3aXRoIFsgYW5kIGVuZHMgd2l0aCBdXG4gICAgLy8gYXNzdW1lIHRoYXQgaXQncyBhbiBJUHY2IGFkZHJlc3MuXG4gICAgdmFyIGlwdjZIb3N0bmFtZSA9IHRoaXMuaG9zdG5hbWVbMF0gPT09ICdbJyAmJlxuICAgICAgICB0aGlzLmhvc3RuYW1lW3RoaXMuaG9zdG5hbWUubGVuZ3RoIC0gMV0gPT09ICddJztcblxuICAgIC8vIHZhbGlkYXRlIGEgbGl0dGxlLlxuICAgIGlmICghaXB2Nkhvc3RuYW1lKSB7XG4gICAgICB2YXIgaG9zdHBhcnRzID0gdGhpcy5ob3N0bmFtZS5zcGxpdCgvXFwuLyk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGhvc3RwYXJ0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdmFyIHBhcnQgPSBob3N0cGFydHNbaV07XG4gICAgICAgIGlmICghcGFydCkgY29udGludWU7XG4gICAgICAgIGlmICghcGFydC5tYXRjaChob3N0bmFtZVBhcnRQYXR0ZXJuKSkge1xuICAgICAgICAgIHZhciBuZXdwYXJ0ID0gJyc7XG4gICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGsgPSBwYXJ0Lmxlbmd0aDsgaiA8IGs7IGorKykge1xuICAgICAgICAgICAgaWYgKHBhcnQuY2hhckNvZGVBdChqKSA+IDEyNykge1xuICAgICAgICAgICAgICAvLyB3ZSByZXBsYWNlIG5vbi1BU0NJSSBjaGFyIHdpdGggYSB0ZW1wb3JhcnkgcGxhY2Vob2xkZXJcbiAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0aGlzIHRvIG1ha2Ugc3VyZSBzaXplIG9mIGhvc3RuYW1lIGlzIG5vdFxuICAgICAgICAgICAgICAvLyBicm9rZW4gYnkgcmVwbGFjaW5nIG5vbi1BU0NJSSBieSBub3RoaW5nXG4gICAgICAgICAgICAgIG5ld3BhcnQgKz0gJ3gnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbmV3cGFydCArPSBwYXJ0W2pdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyB3ZSB0ZXN0IGFnYWluIHdpdGggQVNDSUkgY2hhciBvbmx5XG4gICAgICAgICAgaWYgKCFuZXdwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFBhdHRlcm4pKSB7XG4gICAgICAgICAgICB2YXIgdmFsaWRQYXJ0cyA9IGhvc3RwYXJ0cy5zbGljZSgwLCBpKTtcbiAgICAgICAgICAgIHZhciBub3RIb3N0ID0gaG9zdHBhcnRzLnNsaWNlKGkgKyAxKTtcbiAgICAgICAgICAgIHZhciBiaXQgPSBwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFN0YXJ0KTtcbiAgICAgICAgICAgIGlmIChiaXQpIHtcbiAgICAgICAgICAgICAgdmFsaWRQYXJ0cy5wdXNoKGJpdFsxXSk7XG4gICAgICAgICAgICAgIG5vdEhvc3QudW5zaGlmdChiaXRbMl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vdEhvc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHJlc3QgPSAnLycgKyBub3RIb3N0LmpvaW4oJy4nKSArIHJlc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmhvc3RuYW1lID0gdmFsaWRQYXJ0cy5qb2luKCcuJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5ob3N0bmFtZS5sZW5ndGggPiBob3N0bmFtZU1heExlbikge1xuICAgICAgdGhpcy5ob3N0bmFtZSA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBob3N0bmFtZXMgYXJlIGFsd2F5cyBsb3dlciBjYXNlLlxuICAgICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICBpZiAoIWlwdjZIb3N0bmFtZSkge1xuICAgICAgLy8gSUROQSBTdXBwb3J0OiBSZXR1cm5zIGEgcHVueWNvZGVkIHJlcHJlc2VudGF0aW9uIG9mIFwiZG9tYWluXCIuXG4gICAgICAvLyBJdCBvbmx5IGNvbnZlcnRzIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB0aGF0XG4gICAgICAvLyBoYXZlIG5vbi1BU0NJSSBjaGFyYWN0ZXJzLCBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmXG4gICAgICAvLyB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQgYWxyZWFkeSBpcyBBU0NJSS1vbmx5LlxuICAgICAgdGhpcy5ob3N0bmFtZSA9IHB1bnljb2RlLnRvQVNDSUkodGhpcy5ob3N0bmFtZSk7XG4gICAgfVxuXG4gICAgdmFyIHAgPSB0aGlzLnBvcnQgPyAnOicgKyB0aGlzLnBvcnQgOiAnJztcbiAgICB2YXIgaCA9IHRoaXMuaG9zdG5hbWUgfHwgJyc7XG4gICAgdGhpcy5ob3N0ID0gaCArIHA7XG4gICAgdGhpcy5ocmVmICs9IHRoaXMuaG9zdDtcblxuICAgIC8vIHN0cmlwIFsgYW5kIF0gZnJvbSB0aGUgaG9zdG5hbWVcbiAgICAvLyB0aGUgaG9zdCBmaWVsZCBzdGlsbCByZXRhaW5zIHRoZW0sIHRob3VnaFxuICAgIGlmIChpcHY2SG9zdG5hbWUpIHtcbiAgICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lLnN1YnN0cigxLCB0aGlzLmhvc3RuYW1lLmxlbmd0aCAtIDIpO1xuICAgICAgaWYgKHJlc3RbMF0gIT09ICcvJykge1xuICAgICAgICByZXN0ID0gJy8nICsgcmVzdDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBub3cgcmVzdCBpcyBzZXQgdG8gdGhlIHBvc3QtaG9zdCBzdHVmZi5cbiAgLy8gY2hvcCBvZmYgYW55IGRlbGltIGNoYXJzLlxuICBpZiAoIXVuc2FmZVByb3RvY29sW2xvd2VyUHJvdG9dKSB7XG5cbiAgICAvLyBGaXJzdCwgbWFrZSAxMDAlIHN1cmUgdGhhdCBhbnkgXCJhdXRvRXNjYXBlXCIgY2hhcnMgZ2V0XG4gICAgLy8gZXNjYXBlZCwgZXZlbiBpZiBlbmNvZGVVUklDb21wb25lbnQgZG9lc24ndCB0aGluayB0aGV5XG4gICAgLy8gbmVlZCB0byBiZS5cbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGF1dG9Fc2NhcGUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YXIgYWUgPSBhdXRvRXNjYXBlW2ldO1xuICAgICAgaWYgKHJlc3QuaW5kZXhPZihhZSkgPT09IC0xKVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIHZhciBlc2MgPSBlbmNvZGVVUklDb21wb25lbnQoYWUpO1xuICAgICAgaWYgKGVzYyA9PT0gYWUpIHtcbiAgICAgICAgZXNjID0gZXNjYXBlKGFlKTtcbiAgICAgIH1cbiAgICAgIHJlc3QgPSByZXN0LnNwbGl0KGFlKS5qb2luKGVzYyk7XG4gICAgfVxuICB9XG5cblxuICAvLyBjaG9wIG9mZiBmcm9tIHRoZSB0YWlsIGZpcnN0LlxuICB2YXIgaGFzaCA9IHJlc3QuaW5kZXhPZignIycpO1xuICBpZiAoaGFzaCAhPT0gLTEpIHtcbiAgICAvLyBnb3QgYSBmcmFnbWVudCBzdHJpbmcuXG4gICAgdGhpcy5oYXNoID0gcmVzdC5zdWJzdHIoaGFzaCk7XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoMCwgaGFzaCk7XG4gIH1cbiAgdmFyIHFtID0gcmVzdC5pbmRleE9mKCc/Jyk7XG4gIGlmIChxbSAhPT0gLTEpIHtcbiAgICB0aGlzLnNlYXJjaCA9IHJlc3Quc3Vic3RyKHFtKTtcbiAgICB0aGlzLnF1ZXJ5ID0gcmVzdC5zdWJzdHIocW0gKyAxKTtcbiAgICBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5c3RyaW5nLnBhcnNlKHRoaXMucXVlcnkpO1xuICAgIH1cbiAgICByZXN0ID0gcmVzdC5zbGljZSgwLCBxbSk7XG4gIH0gZWxzZSBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgIC8vIG5vIHF1ZXJ5IHN0cmluZywgYnV0IHBhcnNlUXVlcnlTdHJpbmcgc3RpbGwgcmVxdWVzdGVkXG4gICAgdGhpcy5zZWFyY2ggPSAnJztcbiAgICB0aGlzLnF1ZXJ5ID0ge307XG4gIH1cbiAgaWYgKHJlc3QpIHRoaXMucGF0aG5hbWUgPSByZXN0O1xuICBpZiAoc2xhc2hlZFByb3RvY29sW2xvd2VyUHJvdG9dICYmXG4gICAgICB0aGlzLmhvc3RuYW1lICYmICF0aGlzLnBhdGhuYW1lKSB7XG4gICAgdGhpcy5wYXRobmFtZSA9ICcvJztcbiAgfVxuXG4gIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgaWYgKHRoaXMucGF0aG5hbWUgfHwgdGhpcy5zZWFyY2gpIHtcbiAgICB2YXIgcCA9IHRoaXMucGF0aG5hbWUgfHwgJyc7XG4gICAgdmFyIHMgPSB0aGlzLnNlYXJjaCB8fCAnJztcbiAgICB0aGlzLnBhdGggPSBwICsgcztcbiAgfVxuXG4gIC8vIGZpbmFsbHksIHJlY29uc3RydWN0IHRoZSBocmVmIGJhc2VkIG9uIHdoYXQgaGFzIGJlZW4gdmFsaWRhdGVkLlxuICB0aGlzLmhyZWYgPSB0aGlzLmZvcm1hdCgpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGZvcm1hdCBhIHBhcnNlZCBvYmplY3QgaW50byBhIHVybCBzdHJpbmdcbmZ1bmN0aW9uIHVybEZvcm1hdChvYmopIHtcbiAgLy8gZW5zdXJlIGl0J3MgYW4gb2JqZWN0LCBhbmQgbm90IGEgc3RyaW5nIHVybC5cbiAgLy8gSWYgaXQncyBhbiBvYmosIHRoaXMgaXMgYSBuby1vcC5cbiAgLy8gdGhpcyB3YXksIHlvdSBjYW4gY2FsbCB1cmxfZm9ybWF0KCkgb24gc3RyaW5nc1xuICAvLyB0byBjbGVhbiB1cCBwb3RlbnRpYWxseSB3b25reSB1cmxzLlxuICBpZiAodXRpbC5pc1N0cmluZyhvYmopKSBvYmogPSB1cmxQYXJzZShvYmopO1xuICBpZiAoIShvYmogaW5zdGFuY2VvZiBVcmwpKSByZXR1cm4gVXJsLnByb3RvdHlwZS5mb3JtYXQuY2FsbChvYmopO1xuICByZXR1cm4gb2JqLmZvcm1hdCgpO1xufVxuXG5VcmwucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgYXV0aCA9IHRoaXMuYXV0aCB8fCAnJztcbiAgaWYgKGF1dGgpIHtcbiAgICBhdXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgIGF1dGggPSBhdXRoLnJlcGxhY2UoLyUzQS9pLCAnOicpO1xuICAgIGF1dGggKz0gJ0AnO1xuICB9XG5cbiAgdmFyIHByb3RvY29sID0gdGhpcy5wcm90b2NvbCB8fCAnJyxcbiAgICAgIHBhdGhuYW1lID0gdGhpcy5wYXRobmFtZSB8fCAnJyxcbiAgICAgIGhhc2ggPSB0aGlzLmhhc2ggfHwgJycsXG4gICAgICBob3N0ID0gZmFsc2UsXG4gICAgICBxdWVyeSA9ICcnO1xuXG4gIGlmICh0aGlzLmhvc3QpIHtcbiAgICBob3N0ID0gYXV0aCArIHRoaXMuaG9zdDtcbiAgfSBlbHNlIGlmICh0aGlzLmhvc3RuYW1lKSB7XG4gICAgaG9zdCA9IGF1dGggKyAodGhpcy5ob3N0bmFtZS5pbmRleE9mKCc6JykgPT09IC0xID9cbiAgICAgICAgdGhpcy5ob3N0bmFtZSA6XG4gICAgICAgICdbJyArIHRoaXMuaG9zdG5hbWUgKyAnXScpO1xuICAgIGlmICh0aGlzLnBvcnQpIHtcbiAgICAgIGhvc3QgKz0gJzonICsgdGhpcy5wb3J0O1xuICAgIH1cbiAgfVxuXG4gIGlmICh0aGlzLnF1ZXJ5ICYmXG4gICAgICB1dGlsLmlzT2JqZWN0KHRoaXMucXVlcnkpICYmXG4gICAgICBPYmplY3Qua2V5cyh0aGlzLnF1ZXJ5KS5sZW5ndGgpIHtcbiAgICBxdWVyeSA9IHF1ZXJ5c3RyaW5nLnN0cmluZ2lmeSh0aGlzLnF1ZXJ5KTtcbiAgfVxuXG4gIHZhciBzZWFyY2ggPSB0aGlzLnNlYXJjaCB8fCAocXVlcnkgJiYgKCc/JyArIHF1ZXJ5KSkgfHwgJyc7XG5cbiAgaWYgKHByb3RvY29sICYmIHByb3RvY29sLnN1YnN0cigtMSkgIT09ICc6JykgcHJvdG9jb2wgKz0gJzonO1xuXG4gIC8vIG9ubHkgdGhlIHNsYXNoZWRQcm90b2NvbHMgZ2V0IHRoZSAvLy4gIE5vdCBtYWlsdG86LCB4bXBwOiwgZXRjLlxuICAvLyB1bmxlc3MgdGhleSBoYWQgdGhlbSB0byBiZWdpbiB3aXRoLlxuICBpZiAodGhpcy5zbGFzaGVzIHx8XG4gICAgICAoIXByb3RvY29sIHx8IHNsYXNoZWRQcm90b2NvbFtwcm90b2NvbF0pICYmIGhvc3QgIT09IGZhbHNlKSB7XG4gICAgaG9zdCA9ICcvLycgKyAoaG9zdCB8fCAnJyk7XG4gICAgaWYgKHBhdGhuYW1lICYmIHBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nKSBwYXRobmFtZSA9ICcvJyArIHBhdGhuYW1lO1xuICB9IGVsc2UgaWYgKCFob3N0KSB7XG4gICAgaG9zdCA9ICcnO1xuICB9XG5cbiAgaWYgKGhhc2ggJiYgaGFzaC5jaGFyQXQoMCkgIT09ICcjJykgaGFzaCA9ICcjJyArIGhhc2g7XG4gIGlmIChzZWFyY2ggJiYgc2VhcmNoLmNoYXJBdCgwKSAhPT0gJz8nKSBzZWFyY2ggPSAnPycgKyBzZWFyY2g7XG5cbiAgcGF0aG5hbWUgPSBwYXRobmFtZS5yZXBsYWNlKC9bPyNdL2csIGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChtYXRjaCk7XG4gIH0pO1xuICBzZWFyY2ggPSBzZWFyY2gucmVwbGFjZSgnIycsICclMjMnKTtcblxuICByZXR1cm4gcHJvdG9jb2wgKyBob3N0ICsgcGF0aG5hbWUgKyBzZWFyY2ggKyBoYXNoO1xufTtcblxuZnVuY3Rpb24gdXJsUmVzb2x2ZShzb3VyY2UsIHJlbGF0aXZlKSB7XG4gIHJldHVybiB1cmxQYXJzZShzb3VyY2UsIGZhbHNlLCB0cnVlKS5yZXNvbHZlKHJlbGF0aXZlKTtcbn1cblxuVXJsLnByb3RvdHlwZS5yZXNvbHZlID0gZnVuY3Rpb24ocmVsYXRpdmUpIHtcbiAgcmV0dXJuIHRoaXMucmVzb2x2ZU9iamVjdCh1cmxQYXJzZShyZWxhdGl2ZSwgZmFsc2UsIHRydWUpKS5mb3JtYXQoKTtcbn07XG5cbmZ1bmN0aW9uIHVybFJlc29sdmVPYmplY3Qoc291cmNlLCByZWxhdGl2ZSkge1xuICBpZiAoIXNvdXJjZSkgcmV0dXJuIHJlbGF0aXZlO1xuICByZXR1cm4gdXJsUGFyc2Uoc291cmNlLCBmYWxzZSwgdHJ1ZSkucmVzb2x2ZU9iamVjdChyZWxhdGl2ZSk7XG59XG5cblVybC5wcm90b3R5cGUucmVzb2x2ZU9iamVjdCA9IGZ1bmN0aW9uKHJlbGF0aXZlKSB7XG4gIGlmICh1dGlsLmlzU3RyaW5nKHJlbGF0aXZlKSkge1xuICAgIHZhciByZWwgPSBuZXcgVXJsKCk7XG4gICAgcmVsLnBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgcmVsYXRpdmUgPSByZWw7XG4gIH1cblxuICB2YXIgcmVzdWx0ID0gbmV3IFVybCgpO1xuICB2YXIgdGtleXMgPSBPYmplY3Qua2V5cyh0aGlzKTtcbiAgZm9yICh2YXIgdGsgPSAwOyB0ayA8IHRrZXlzLmxlbmd0aDsgdGsrKykge1xuICAgIHZhciB0a2V5ID0gdGtleXNbdGtdO1xuICAgIHJlc3VsdFt0a2V5XSA9IHRoaXNbdGtleV07XG4gIH1cblxuICAvLyBoYXNoIGlzIGFsd2F5cyBvdmVycmlkZGVuLCBubyBtYXR0ZXIgd2hhdC5cbiAgLy8gZXZlbiBocmVmPVwiXCIgd2lsbCByZW1vdmUgaXQuXG4gIHJlc3VsdC5oYXNoID0gcmVsYXRpdmUuaGFzaDtcblxuICAvLyBpZiB0aGUgcmVsYXRpdmUgdXJsIGlzIGVtcHR5LCB0aGVuIHRoZXJlJ3Mgbm90aGluZyBsZWZ0IHRvIGRvIGhlcmUuXG4gIGlmIChyZWxhdGl2ZS5ocmVmID09PSAnJykge1xuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBocmVmcyBsaWtlIC8vZm9vL2JhciBhbHdheXMgY3V0IHRvIHRoZSBwcm90b2NvbC5cbiAgaWYgKHJlbGF0aXZlLnNsYXNoZXMgJiYgIXJlbGF0aXZlLnByb3RvY29sKSB7XG4gICAgLy8gdGFrZSBldmVyeXRoaW5nIGV4Y2VwdCB0aGUgcHJvdG9jb2wgZnJvbSByZWxhdGl2ZVxuICAgIHZhciBya2V5cyA9IE9iamVjdC5rZXlzKHJlbGF0aXZlKTtcbiAgICBmb3IgKHZhciByayA9IDA7IHJrIDwgcmtleXMubGVuZ3RoOyByaysrKSB7XG4gICAgICB2YXIgcmtleSA9IHJrZXlzW3JrXTtcbiAgICAgIGlmIChya2V5ICE9PSAncHJvdG9jb2wnKVxuICAgICAgICByZXN1bHRbcmtleV0gPSByZWxhdGl2ZVtya2V5XTtcbiAgICB9XG5cbiAgICAvL3VybFBhcnNlIGFwcGVuZHMgdHJhaWxpbmcgLyB0byB1cmxzIGxpa2UgaHR0cDovL3d3dy5leGFtcGxlLmNvbVxuICAgIGlmIChzbGFzaGVkUHJvdG9jb2xbcmVzdWx0LnByb3RvY29sXSAmJlxuICAgICAgICByZXN1bHQuaG9zdG5hbWUgJiYgIXJlc3VsdC5wYXRobmFtZSkge1xuICAgICAgcmVzdWx0LnBhdGggPSByZXN1bHQucGF0aG5hbWUgPSAnLyc7XG4gICAgfVxuXG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGlmIChyZWxhdGl2ZS5wcm90b2NvbCAmJiByZWxhdGl2ZS5wcm90b2NvbCAhPT0gcmVzdWx0LnByb3RvY29sKSB7XG4gICAgLy8gaWYgaXQncyBhIGtub3duIHVybCBwcm90b2NvbCwgdGhlbiBjaGFuZ2luZ1xuICAgIC8vIHRoZSBwcm90b2NvbCBkb2VzIHdlaXJkIHRoaW5nc1xuICAgIC8vIGZpcnN0LCBpZiBpdCdzIG5vdCBmaWxlOiwgdGhlbiB3ZSBNVVNUIGhhdmUgYSBob3N0LFxuICAgIC8vIGFuZCBpZiB0aGVyZSB3YXMgYSBwYXRoXG4gICAgLy8gdG8gYmVnaW4gd2l0aCwgdGhlbiB3ZSBNVVNUIGhhdmUgYSBwYXRoLlxuICAgIC8vIGlmIGl0IGlzIGZpbGU6LCB0aGVuIHRoZSBob3N0IGlzIGRyb3BwZWQsXG4gICAgLy8gYmVjYXVzZSB0aGF0J3Mga25vd24gdG8gYmUgaG9zdGxlc3MuXG4gICAgLy8gYW55dGhpbmcgZWxzZSBpcyBhc3N1bWVkIHRvIGJlIGFic29sdXRlLlxuICAgIGlmICghc2xhc2hlZFByb3RvY29sW3JlbGF0aXZlLnByb3RvY29sXSkge1xuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhyZWxhdGl2ZSk7XG4gICAgICBmb3IgKHZhciB2ID0gMDsgdiA8IGtleXMubGVuZ3RoOyB2KyspIHtcbiAgICAgICAgdmFyIGsgPSBrZXlzW3ZdO1xuICAgICAgICByZXN1bHRba10gPSByZWxhdGl2ZVtrXTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICByZXN1bHQucHJvdG9jb2wgPSByZWxhdGl2ZS5wcm90b2NvbDtcbiAgICBpZiAoIXJlbGF0aXZlLmhvc3QgJiYgIWhvc3RsZXNzUHJvdG9jb2xbcmVsYXRpdmUucHJvdG9jb2xdKSB7XG4gICAgICB2YXIgcmVsUGF0aCA9IChyZWxhdGl2ZS5wYXRobmFtZSB8fCAnJykuc3BsaXQoJy8nKTtcbiAgICAgIHdoaWxlIChyZWxQYXRoLmxlbmd0aCAmJiAhKHJlbGF0aXZlLmhvc3QgPSByZWxQYXRoLnNoaWZ0KCkpKTtcbiAgICAgIGlmICghcmVsYXRpdmUuaG9zdCkgcmVsYXRpdmUuaG9zdCA9ICcnO1xuICAgICAgaWYgKCFyZWxhdGl2ZS5ob3N0bmFtZSkgcmVsYXRpdmUuaG9zdG5hbWUgPSAnJztcbiAgICAgIGlmIChyZWxQYXRoWzBdICE9PSAnJykgcmVsUGF0aC51bnNoaWZ0KCcnKTtcbiAgICAgIGlmIChyZWxQYXRoLmxlbmd0aCA8IDIpIHJlbFBhdGgudW5zaGlmdCgnJyk7XG4gICAgICByZXN1bHQucGF0aG5hbWUgPSByZWxQYXRoLmpvaW4oJy8nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnBhdGhuYW1lID0gcmVsYXRpdmUucGF0aG5hbWU7XG4gICAgfVxuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgcmVzdWx0Lmhvc3QgPSByZWxhdGl2ZS5ob3N0IHx8ICcnO1xuICAgIHJlc3VsdC5hdXRoID0gcmVsYXRpdmUuYXV0aDtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSByZWxhdGl2ZS5ob3N0bmFtZSB8fCByZWxhdGl2ZS5ob3N0O1xuICAgIHJlc3VsdC5wb3J0ID0gcmVsYXRpdmUucG9ydDtcbiAgICAvLyB0byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmIChyZXN1bHQucGF0aG5hbWUgfHwgcmVzdWx0LnNlYXJjaCkge1xuICAgICAgdmFyIHAgPSByZXN1bHQucGF0aG5hbWUgfHwgJyc7XG4gICAgICB2YXIgcyA9IHJlc3VsdC5zZWFyY2ggfHwgJyc7XG4gICAgICByZXN1bHQucGF0aCA9IHAgKyBzO1xuICAgIH1cbiAgICByZXN1bHQuc2xhc2hlcyA9IHJlc3VsdC5zbGFzaGVzIHx8IHJlbGF0aXZlLnNsYXNoZXM7XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHZhciBpc1NvdXJjZUFicyA9IChyZXN1bHQucGF0aG5hbWUgJiYgcmVzdWx0LnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nKSxcbiAgICAgIGlzUmVsQWJzID0gKFxuICAgICAgICAgIHJlbGF0aXZlLmhvc3QgfHxcbiAgICAgICAgICByZWxhdGl2ZS5wYXRobmFtZSAmJiByZWxhdGl2ZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJ1xuICAgICAgKSxcbiAgICAgIG11c3RFbmRBYnMgPSAoaXNSZWxBYnMgfHwgaXNTb3VyY2VBYnMgfHxcbiAgICAgICAgICAgICAgICAgICAgKHJlc3VsdC5ob3N0ICYmIHJlbGF0aXZlLnBhdGhuYW1lKSksXG4gICAgICByZW1vdmVBbGxEb3RzID0gbXVzdEVuZEFicyxcbiAgICAgIHNyY1BhdGggPSByZXN1bHQucGF0aG5hbWUgJiYgcmVzdWx0LnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW10sXG4gICAgICByZWxQYXRoID0gcmVsYXRpdmUucGF0aG5hbWUgJiYgcmVsYXRpdmUucGF0aG5hbWUuc3BsaXQoJy8nKSB8fCBbXSxcbiAgICAgIHBzeWNob3RpYyA9IHJlc3VsdC5wcm90b2NvbCAmJiAhc2xhc2hlZFByb3RvY29sW3Jlc3VsdC5wcm90b2NvbF07XG5cbiAgLy8gaWYgdGhlIHVybCBpcyBhIG5vbi1zbGFzaGVkIHVybCwgdGhlbiByZWxhdGl2ZVxuICAvLyBsaW5rcyBsaWtlIC4uLy4uIHNob3VsZCBiZSBhYmxlXG4gIC8vIHRvIGNyYXdsIHVwIHRvIHRoZSBob3N0bmFtZSwgYXMgd2VsbC4gIFRoaXMgaXMgc3RyYW5nZS5cbiAgLy8gcmVzdWx0LnByb3RvY29sIGhhcyBhbHJlYWR5IGJlZW4gc2V0IGJ5IG5vdy5cbiAgLy8gTGF0ZXIgb24sIHB1dCB0aGUgZmlyc3QgcGF0aCBwYXJ0IGludG8gdGhlIGhvc3QgZmllbGQuXG4gIGlmIChwc3ljaG90aWMpIHtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSAnJztcbiAgICByZXN1bHQucG9ydCA9IG51bGw7XG4gICAgaWYgKHJlc3VsdC5ob3N0KSB7XG4gICAgICBpZiAoc3JjUGF0aFswXSA9PT0gJycpIHNyY1BhdGhbMF0gPSByZXN1bHQuaG9zdDtcbiAgICAgIGVsc2Ugc3JjUGF0aC51bnNoaWZ0KHJlc3VsdC5ob3N0KTtcbiAgICB9XG4gICAgcmVzdWx0Lmhvc3QgPSAnJztcbiAgICBpZiAocmVsYXRpdmUucHJvdG9jb2wpIHtcbiAgICAgIHJlbGF0aXZlLmhvc3RuYW1lID0gbnVsbDtcbiAgICAgIHJlbGF0aXZlLnBvcnQgPSBudWxsO1xuICAgICAgaWYgKHJlbGF0aXZlLmhvc3QpIHtcbiAgICAgICAgaWYgKHJlbFBhdGhbMF0gPT09ICcnKSByZWxQYXRoWzBdID0gcmVsYXRpdmUuaG9zdDtcbiAgICAgICAgZWxzZSByZWxQYXRoLnVuc2hpZnQocmVsYXRpdmUuaG9zdCk7XG4gICAgICB9XG4gICAgICByZWxhdGl2ZS5ob3N0ID0gbnVsbDtcbiAgICB9XG4gICAgbXVzdEVuZEFicyA9IG11c3RFbmRBYnMgJiYgKHJlbFBhdGhbMF0gPT09ICcnIHx8IHNyY1BhdGhbMF0gPT09ICcnKTtcbiAgfVxuXG4gIGlmIChpc1JlbEFicykge1xuICAgIC8vIGl0J3MgYWJzb2x1dGUuXG4gICAgcmVzdWx0Lmhvc3QgPSAocmVsYXRpdmUuaG9zdCB8fCByZWxhdGl2ZS5ob3N0ID09PSAnJykgP1xuICAgICAgICAgICAgICAgICAgcmVsYXRpdmUuaG9zdCA6IHJlc3VsdC5ob3N0O1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IChyZWxhdGl2ZS5ob3N0bmFtZSB8fCByZWxhdGl2ZS5ob3N0bmFtZSA9PT0gJycpID9cbiAgICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZS5ob3N0bmFtZSA6IHJlc3VsdC5ob3N0bmFtZTtcbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIHNyY1BhdGggPSByZWxQYXRoO1xuICAgIC8vIGZhbGwgdGhyb3VnaCB0byB0aGUgZG90LWhhbmRsaW5nIGJlbG93LlxuICB9IGVsc2UgaWYgKHJlbFBhdGgubGVuZ3RoKSB7XG4gICAgLy8gaXQncyByZWxhdGl2ZVxuICAgIC8vIHRocm93IGF3YXkgdGhlIGV4aXN0aW5nIGZpbGUsIGFuZCB0YWtlIHRoZSBuZXcgcGF0aCBpbnN0ZWFkLlxuICAgIGlmICghc3JjUGF0aCkgc3JjUGF0aCA9IFtdO1xuICAgIHNyY1BhdGgucG9wKCk7XG4gICAgc3JjUGF0aCA9IHNyY1BhdGguY29uY2F0KHJlbFBhdGgpO1xuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gIH0gZWxzZSBpZiAoIXV0aWwuaXNOdWxsT3JVbmRlZmluZWQocmVsYXRpdmUuc2VhcmNoKSkge1xuICAgIC8vIGp1c3QgcHVsbCBvdXQgdGhlIHNlYXJjaC5cbiAgICAvLyBsaWtlIGhyZWY9Jz9mb28nLlxuICAgIC8vIFB1dCB0aGlzIGFmdGVyIHRoZSBvdGhlciB0d28gY2FzZXMgYmVjYXVzZSBpdCBzaW1wbGlmaWVzIHRoZSBib29sZWFuc1xuICAgIGlmIChwc3ljaG90aWMpIHtcbiAgICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlc3VsdC5ob3N0ID0gc3JjUGF0aC5zaGlmdCgpO1xuICAgICAgLy9vY2NhdGlvbmFseSB0aGUgYXV0aCBjYW4gZ2V0IHN0dWNrIG9ubHkgaW4gaG9zdFxuICAgICAgLy90aGlzIGVzcGVjaWFsbHkgaGFwcGVucyBpbiBjYXNlcyBsaWtlXG4gICAgICAvL3VybC5yZXNvbHZlT2JqZWN0KCdtYWlsdG86bG9jYWwxQGRvbWFpbjEnLCAnbG9jYWwyQGRvbWFpbjInKVxuICAgICAgdmFyIGF1dGhJbkhvc3QgPSByZXN1bHQuaG9zdCAmJiByZXN1bHQuaG9zdC5pbmRleE9mKCdAJykgPiAwID9cbiAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lmhvc3Quc3BsaXQoJ0AnKSA6IGZhbHNlO1xuICAgICAgaWYgKGF1dGhJbkhvc3QpIHtcbiAgICAgICAgcmVzdWx0LmF1dGggPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICAgIHJlc3VsdC5ob3N0ID0gcmVzdWx0Lmhvc3RuYW1lID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAoIXV0aWwuaXNOdWxsKHJlc3VsdC5wYXRobmFtZSkgfHwgIXV0aWwuaXNOdWxsKHJlc3VsdC5zZWFyY2gpKSB7XG4gICAgICByZXN1bHQucGF0aCA9IChyZXN1bHQucGF0aG5hbWUgPyByZXN1bHQucGF0aG5hbWUgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgICAocmVzdWx0LnNlYXJjaCA/IHJlc3VsdC5zZWFyY2ggOiAnJyk7XG4gICAgfVxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpZiAoIXNyY1BhdGgubGVuZ3RoKSB7XG4gICAgLy8gbm8gcGF0aCBhdCBhbGwuICBlYXN5LlxuICAgIC8vIHdlJ3ZlIGFscmVhZHkgaGFuZGxlZCB0aGUgb3RoZXIgc3R1ZmYgYWJvdmUuXG4gICAgcmVzdWx0LnBhdGhuYW1lID0gbnVsbDtcbiAgICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKHJlc3VsdC5zZWFyY2gpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gJy8nICsgcmVzdWx0LnNlYXJjaDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnBhdGggPSBudWxsO1xuICAgIH1cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gaWYgYSB1cmwgRU5EcyBpbiAuIG9yIC4uLCB0aGVuIGl0IG11c3QgZ2V0IGEgdHJhaWxpbmcgc2xhc2guXG4gIC8vIGhvd2V2ZXIsIGlmIGl0IGVuZHMgaW4gYW55dGhpbmcgZWxzZSBub24tc2xhc2h5LFxuICAvLyB0aGVuIGl0IG11c3QgTk9UIGdldCBhIHRyYWlsaW5nIHNsYXNoLlxuICB2YXIgbGFzdCA9IHNyY1BhdGguc2xpY2UoLTEpWzBdO1xuICB2YXIgaGFzVHJhaWxpbmdTbGFzaCA9IChcbiAgICAgIChyZXN1bHQuaG9zdCB8fCByZWxhdGl2ZS5ob3N0IHx8IHNyY1BhdGgubGVuZ3RoID4gMSkgJiZcbiAgICAgIChsYXN0ID09PSAnLicgfHwgbGFzdCA9PT0gJy4uJykgfHwgbGFzdCA9PT0gJycpO1xuXG4gIC8vIHN0cmlwIHNpbmdsZSBkb3RzLCByZXNvbHZlIGRvdWJsZSBkb3RzIHRvIHBhcmVudCBkaXJcbiAgLy8gaWYgdGhlIHBhdGggdHJpZXMgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIGB1cGAgZW5kcyB1cCA+IDBcbiAgdmFyIHVwID0gMDtcbiAgZm9yICh2YXIgaSA9IHNyY1BhdGgubGVuZ3RoOyBpID49IDA7IGktLSkge1xuICAgIGxhc3QgPSBzcmNQYXRoW2ldO1xuICAgIGlmIChsYXN0ID09PSAnLicpIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgIH0gZWxzZSBpZiAobGFzdCA9PT0gJy4uJykge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgICAgdXAtLTtcbiAgICB9XG4gIH1cblxuICAvLyBpZiB0aGUgcGF0aCBpcyBhbGxvd2VkIHRvIGdvIGFib3ZlIHRoZSByb290LCByZXN0b3JlIGxlYWRpbmcgLi5zXG4gIGlmICghbXVzdEVuZEFicyAmJiAhcmVtb3ZlQWxsRG90cykge1xuICAgIGZvciAoOyB1cC0tOyB1cCkge1xuICAgICAgc3JjUGF0aC51bnNoaWZ0KCcuLicpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChtdXN0RW5kQWJzICYmIHNyY1BhdGhbMF0gIT09ICcnICYmXG4gICAgICAoIXNyY1BhdGhbMF0gfHwgc3JjUGF0aFswXS5jaGFyQXQoMCkgIT09ICcvJykpIHtcbiAgICBzcmNQYXRoLnVuc2hpZnQoJycpO1xuICB9XG5cbiAgaWYgKGhhc1RyYWlsaW5nU2xhc2ggJiYgKHNyY1BhdGguam9pbignLycpLnN1YnN0cigtMSkgIT09ICcvJykpIHtcbiAgICBzcmNQYXRoLnB1c2goJycpO1xuICB9XG5cbiAgdmFyIGlzQWJzb2x1dGUgPSBzcmNQYXRoWzBdID09PSAnJyB8fFxuICAgICAgKHNyY1BhdGhbMF0gJiYgc3JjUGF0aFswXS5jaGFyQXQoMCkgPT09ICcvJyk7XG5cbiAgLy8gcHV0IHRoZSBob3N0IGJhY2tcbiAgaWYgKHBzeWNob3RpYykge1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlc3VsdC5ob3N0ID0gaXNBYnNvbHV0ZSA/ICcnIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyY1BhdGgubGVuZ3RoID8gc3JjUGF0aC5zaGlmdCgpIDogJyc7XG4gICAgLy9vY2NhdGlvbmFseSB0aGUgYXV0aCBjYW4gZ2V0IHN0dWNrIG9ubHkgaW4gaG9zdFxuICAgIC8vdGhpcyBlc3BlY2lhbGx5IGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxuICAgIC8vdXJsLnJlc29sdmVPYmplY3QoJ21haWx0bzpsb2NhbDFAZG9tYWluMScsICdsb2NhbDJAZG9tYWluMicpXG4gICAgdmFyIGF1dGhJbkhvc3QgPSByZXN1bHQuaG9zdCAmJiByZXN1bHQuaG9zdC5pbmRleE9mKCdAJykgPiAwID9cbiAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5ob3N0LnNwbGl0KCdAJykgOiBmYWxzZTtcbiAgICBpZiAoYXV0aEluSG9zdCkge1xuICAgICAgcmVzdWx0LmF1dGggPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICByZXN1bHQuaG9zdCA9IHJlc3VsdC5ob3N0bmFtZSA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICB9XG4gIH1cblxuICBtdXN0RW5kQWJzID0gbXVzdEVuZEFicyB8fCAocmVzdWx0Lmhvc3QgJiYgc3JjUGF0aC5sZW5ndGgpO1xuXG4gIGlmIChtdXN0RW5kQWJzICYmICFpc0Fic29sdXRlKSB7XG4gICAgc3JjUGF0aC51bnNoaWZ0KCcnKTtcbiAgfVxuXG4gIGlmICghc3JjUGF0aC5sZW5ndGgpIHtcbiAgICByZXN1bHQucGF0aG5hbWUgPSBudWxsO1xuICAgIHJlc3VsdC5wYXRoID0gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQucGF0aG5hbWUgPSBzcmNQYXRoLmpvaW4oJy8nKTtcbiAgfVxuXG4gIC8vdG8gc3VwcG9ydCByZXF1ZXN0Lmh0dHBcbiAgaWYgKCF1dGlsLmlzTnVsbChyZXN1bHQucGF0aG5hbWUpIHx8ICF1dGlsLmlzTnVsbChyZXN1bHQuc2VhcmNoKSkge1xuICAgIHJlc3VsdC5wYXRoID0gKHJlc3VsdC5wYXRobmFtZSA/IHJlc3VsdC5wYXRobmFtZSA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAocmVzdWx0LnNlYXJjaCA/IHJlc3VsdC5zZWFyY2ggOiAnJyk7XG4gIH1cbiAgcmVzdWx0LmF1dGggPSByZWxhdGl2ZS5hdXRoIHx8IHJlc3VsdC5hdXRoO1xuICByZXN1bHQuc2xhc2hlcyA9IHJlc3VsdC5zbGFzaGVzIHx8IHJlbGF0aXZlLnNsYXNoZXM7XG4gIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuVXJsLnByb3RvdHlwZS5wYXJzZUhvc3QgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGhvc3QgPSB0aGlzLmhvc3Q7XG4gIHZhciBwb3J0ID0gcG9ydFBhdHRlcm4uZXhlYyhob3N0KTtcbiAgaWYgKHBvcnQpIHtcbiAgICBwb3J0ID0gcG9ydFswXTtcbiAgICBpZiAocG9ydCAhPT0gJzonKSB7XG4gICAgICB0aGlzLnBvcnQgPSBwb3J0LnN1YnN0cigxKTtcbiAgICB9XG4gICAgaG9zdCA9IGhvc3Quc3Vic3RyKDAsIGhvc3QubGVuZ3RoIC0gcG9ydC5sZW5ndGgpO1xuICB9XG4gIGlmIChob3N0KSB0aGlzLmhvc3RuYW1lID0gaG9zdDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpc1N0cmluZzogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHR5cGVvZihhcmcpID09PSAnc3RyaW5nJztcbiAgfSxcbiAgaXNPYmplY3Q6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0eXBlb2YoYXJnKSA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xuICB9LFxuICBpc051bGw6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBhcmcgPT09IG51bGw7XG4gIH0sXG4gIGlzTnVsbE9yVW5kZWZpbmVkOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gYXJnID09IG51bGw7XG4gIH1cbn07XG4iLCIndXNlIHN0cmljdCc7XG4vKiBlc2xpbnQtZGlzYWJsZVxuICBuby11bnVzZWQtdmFyc1xuKi9cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5tb2R1bGUuZXhwb3J0cyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEJhc2VDbGllbnQoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJhc2VDbGllbnQpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEJhc2VDbGllbnQsIG51bGwsIFt7XG4gICAga2V5OiBcImdldENsaWVudFBhdGhcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2xpZW50UGF0aChvcHRpb25zKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NsaWVudCBuZWVkcyBpbXBsZW1lbnRhdGlvbicpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBCYXNlQ2xpZW50O1xufSgpOyIsIid1c2Ugc3RyaWN0Jztcbi8qIGVzbGludC1kaXNhYmxlXG4gIG5vLXVudXNlZC12YXJzXG4qL1xuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG52YXIgU29ja0pTID0gcmVxdWlyZSgnc29ja2pzLWNsaWVudC9kaXN0L3NvY2tqcycpO1xuXG52YXIgQmFzZUNsaWVudCA9IHJlcXVpcmUoJy4vQmFzZUNsaWVudCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0Jhc2VDbGllbnQpIHtcbiAgX2luaGVyaXRzKFNvY2tKU0NsaWVudCwgX0Jhc2VDbGllbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoU29ja0pTQ2xpZW50KTtcblxuICBmdW5jdGlvbiBTb2NrSlNDbGllbnQodXJsKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNvY2tKU0NsaWVudCk7XG5cbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpO1xuICAgIF90aGlzLnNvY2sgPSBuZXcgU29ja0pTKHVybCk7XG5cbiAgICBfdGhpcy5zb2NrLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7Ly8gVE9ETzogdXNlIGxvZ2dlciB0byBsb2cgdGhlIGVycm9yIGV2ZW50IG9uY2UgY2xpZW50IGFuZCBjbGllbnQtc3JjXG4gICAgICAvLyBhcmUgcmVvcmdhbml6ZWQgdG8gaGF2ZSB0aGUgc2FtZSBkaXJlY3Rvcnkgc3RydWN0dXJlXG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhTb2NrSlNDbGllbnQsIFt7XG4gICAga2V5OiBcIm9uT3BlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbk9wZW4oZikge1xuICAgICAgdGhpcy5zb2NrLm9ub3BlbiA9IGY7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uQ2xvc2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25DbG9zZShmKSB7XG4gICAgICB0aGlzLnNvY2sub25jbG9zZSA9IGY7XG4gICAgfSAvLyBjYWxsIGYgd2l0aCB0aGUgbWVzc2FnZSBzdHJpbmcgYXMgdGhlIGZpcnN0IGFyZ3VtZW50XG5cbiAgfSwge1xuICAgIGtleTogXCJvbk1lc3NhZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25NZXNzYWdlKGYpIHtcbiAgICAgIHRoaXMuc29jay5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBmKGUuZGF0YSk7XG4gICAgICB9O1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiBcImdldENsaWVudFBhdGhcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2xpZW50UGF0aChvcHRpb25zKSB7XG4gICAgICByZXR1cm4gcmVxdWlyZS5yZXNvbHZlKCcuL1NvY2tKU0NsaWVudCcpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTb2NrSlNDbGllbnQ7XG59KEJhc2VDbGllbnQpOyIsIid1c2Ugc3RyaWN0Jztcbi8qIGdsb2JhbCBfX3Jlc291cmNlUXVlcnkgV29ya2VyR2xvYmFsU2NvcGUgc2VsZiAqL1xuXG4vKiBlc2xpbnQgcHJlZmVyLWRlc3RydWN0dXJpbmc6IG9mZiAqL1xuXG52YXIgc3RyaXBBbnNpID0gcmVxdWlyZSgnc3RyaXAtYW5zaScpO1xuXG52YXIgc29ja2V0ID0gcmVxdWlyZSgnLi9zb2NrZXQnKTtcblxudmFyIG92ZXJsYXkgPSByZXF1aXJlKCcuL292ZXJsYXknKTtcblxudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgnLi91dGlscy9sb2cnKSxcbiAgICBsb2cgPSBfcmVxdWlyZS5sb2csXG4gICAgc2V0TG9nTGV2ZWwgPSBfcmVxdWlyZS5zZXRMb2dMZXZlbDtcblxudmFyIHNlbmRNZXNzYWdlID0gcmVxdWlyZSgnLi91dGlscy9zZW5kTWVzc2FnZScpO1xuXG52YXIgcmVsb2FkQXBwID0gcmVxdWlyZSgnLi91dGlscy9yZWxvYWRBcHAnKTtcblxudmFyIGNyZWF0ZVNvY2tldFVybCA9IHJlcXVpcmUoJy4vdXRpbHMvY3JlYXRlU29ja2V0VXJsJyk7XG5cbnZhciBzdGF0dXMgPSB7XG4gIGlzVW5sb2FkaW5nOiBmYWxzZSxcbiAgY3VycmVudEhhc2g6ICcnXG59O1xudmFyIG9wdGlvbnMgPSB7XG4gIGhvdDogZmFsc2UsXG4gIGhvdFJlbG9hZDogdHJ1ZSxcbiAgbGl2ZVJlbG9hZDogZmFsc2UsXG4gIGluaXRpYWw6IHRydWUsXG4gIHVzZVdhcm5pbmdPdmVybGF5OiBmYWxzZSxcbiAgdXNlRXJyb3JPdmVybGF5OiBmYWxzZSxcbiAgdXNlUHJvZ3Jlc3M6IGZhbHNlXG59O1xudmFyIHNvY2tldFVybCA9IGNyZWF0ZVNvY2tldFVybChfX3Jlc291cmNlUXVlcnkpO1xuc2VsZi5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCBmdW5jdGlvbiAoKSB7XG4gIHN0YXR1cy5pc1VubG9hZGluZyA9IHRydWU7XG59KTtcblxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gIHZhciBxcyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gudG9Mb3dlckNhc2UoKTtcbiAgb3B0aW9ucy5ob3RSZWxvYWQgPSBxcy5pbmRleE9mKCdob3RyZWxvYWQ9ZmFsc2UnKSA9PT0gLTE7XG59XG5cbnZhciBvblNvY2tldE1lc3NhZ2UgPSB7XG4gIGhvdDogZnVuY3Rpb24gaG90KCkge1xuICAgIG9wdGlvbnMuaG90ID0gdHJ1ZTtcbiAgICBsb2cuaW5mbygnW1dEU10gSG90IE1vZHVsZSBSZXBsYWNlbWVudCBlbmFibGVkLicpO1xuICB9LFxuICBsaXZlUmVsb2FkOiBmdW5jdGlvbiBsaXZlUmVsb2FkKCkge1xuICAgIG9wdGlvbnMubGl2ZVJlbG9hZCA9IHRydWU7XG4gICAgbG9nLmluZm8oJ1tXRFNdIExpdmUgUmVsb2FkaW5nIGVuYWJsZWQuJyk7XG4gIH0sXG4gIGludmFsaWQ6IGZ1bmN0aW9uIGludmFsaWQoKSB7XG4gICAgbG9nLmluZm8oJ1tXRFNdIEFwcCB1cGRhdGVkLiBSZWNvbXBpbGluZy4uLicpOyAvLyBmaXhlcyAjMTA0Mi4gb3ZlcmxheSBkb2Vzbid0IGNsZWFyIGlmIGVycm9ycyBhcmUgZml4ZWQgYnV0IHdhcm5pbmdzIHJlbWFpbi5cblxuICAgIGlmIChvcHRpb25zLnVzZVdhcm5pbmdPdmVybGF5IHx8IG9wdGlvbnMudXNlRXJyb3JPdmVybGF5KSB7XG4gICAgICBvdmVybGF5LmNsZWFyKCk7XG4gICAgfVxuXG4gICAgc2VuZE1lc3NhZ2UoJ0ludmFsaWQnKTtcbiAgfSxcbiAgaGFzaDogZnVuY3Rpb24gaGFzaChfaGFzaCkge1xuICAgIHN0YXR1cy5jdXJyZW50SGFzaCA9IF9oYXNoO1xuICB9LFxuICAnc3RpbGwtb2snOiBmdW5jdGlvbiBzdGlsbE9rKCkge1xuICAgIGxvZy5pbmZvKCdbV0RTXSBOb3RoaW5nIGNoYW5nZWQuJyk7XG5cbiAgICBpZiAob3B0aW9ucy51c2VXYXJuaW5nT3ZlcmxheSB8fCBvcHRpb25zLnVzZUVycm9yT3ZlcmxheSkge1xuICAgICAgb3ZlcmxheS5jbGVhcigpO1xuICAgIH1cblxuICAgIHNlbmRNZXNzYWdlKCdTdGlsbE9rJyk7XG4gIH0sXG4gICdsb2ctbGV2ZWwnOiBmdW5jdGlvbiBsb2dMZXZlbChsZXZlbCkge1xuICAgIHZhciBob3RDdHggPSByZXF1aXJlLmNvbnRleHQoJ3dlYnBhY2svaG90JywgZmFsc2UsIC9eXFwuXFwvbG9nJC8pO1xuXG4gICAgaWYgKGhvdEN0eC5rZXlzKCkuaW5kZXhPZignLi9sb2cnKSAhPT0gLTEpIHtcbiAgICAgIGhvdEN0eCgnLi9sb2cnKS5zZXRMb2dMZXZlbChsZXZlbCk7XG4gICAgfVxuXG4gICAgc2V0TG9nTGV2ZWwobGV2ZWwpO1xuICB9LFxuICBvdmVybGF5OiBmdW5jdGlvbiBvdmVybGF5KHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykge1xuICAgICAgICBvcHRpb25zLnVzZVdhcm5pbmdPdmVybGF5ID0gZmFsc2U7XG4gICAgICAgIG9wdGlvbnMudXNlRXJyb3JPdmVybGF5ID0gdmFsdWU7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlKSB7XG4gICAgICAgIG9wdGlvbnMudXNlV2FybmluZ092ZXJsYXkgPSB2YWx1ZS53YXJuaW5ncztcbiAgICAgICAgb3B0aW9ucy51c2VFcnJvck92ZXJsYXkgPSB2YWx1ZS5lcnJvcnM7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBwcm9ncmVzczogZnVuY3Rpb24gcHJvZ3Jlc3MoX3Byb2dyZXNzKSB7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIG9wdGlvbnMudXNlUHJvZ3Jlc3MgPSBfcHJvZ3Jlc3M7XG4gICAgfVxuICB9LFxuICAncHJvZ3Jlc3MtdXBkYXRlJzogZnVuY3Rpb24gcHJvZ3Jlc3NVcGRhdGUoZGF0YSkge1xuICAgIGlmIChvcHRpb25zLnVzZVByb2dyZXNzKSB7XG4gICAgICBsb2cuaW5mbyhcIltXRFNdIFwiLmNvbmNhdChkYXRhLnBlcmNlbnQsIFwiJSAtIFwiKS5jb25jYXQoZGF0YS5tc2csIFwiLlwiKSk7XG4gICAgfVxuXG4gICAgc2VuZE1lc3NhZ2UoJ1Byb2dyZXNzJywgZGF0YSk7XG4gIH0sXG4gIG9rOiBmdW5jdGlvbiBvaygpIHtcbiAgICBzZW5kTWVzc2FnZSgnT2snKTtcblxuICAgIGlmIChvcHRpb25zLnVzZVdhcm5pbmdPdmVybGF5IHx8IG9wdGlvbnMudXNlRXJyb3JPdmVybGF5KSB7XG4gICAgICBvdmVybGF5LmNsZWFyKCk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuaW5pdGlhbCkge1xuICAgICAgcmV0dXJuIG9wdGlvbnMuaW5pdGlhbCA9IGZhbHNlO1xuICAgIH0gLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1yZXR1cm4tYXNzaWduXG5cblxuICAgIHJlbG9hZEFwcChvcHRpb25zLCBzdGF0dXMpO1xuICB9LFxuICAnY29udGVudC1jaGFuZ2VkJzogZnVuY3Rpb24gY29udGVudENoYW5nZWQoKSB7XG4gICAgbG9nLmluZm8oJ1tXRFNdIENvbnRlbnQgYmFzZSBjaGFuZ2VkLiBSZWxvYWRpbmcuLi4nKTtcbiAgICBzZWxmLmxvY2F0aW9uLnJlbG9hZCgpO1xuICB9LFxuICB3YXJuaW5nczogZnVuY3Rpb24gd2FybmluZ3MoX3dhcm5pbmdzKSB7XG4gICAgbG9nLndhcm4oJ1tXRFNdIFdhcm5pbmdzIHdoaWxlIGNvbXBpbGluZy4nKTtcblxuICAgIHZhciBzdHJpcHBlZFdhcm5pbmdzID0gX3dhcm5pbmdzLm1hcChmdW5jdGlvbiAod2FybmluZykge1xuICAgICAgcmV0dXJuIHN0cmlwQW5zaSh3YXJuaW5nKTtcbiAgICB9KTtcblxuICAgIHNlbmRNZXNzYWdlKCdXYXJuaW5ncycsIHN0cmlwcGVkV2FybmluZ3MpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJpcHBlZFdhcm5pbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsb2cud2FybihzdHJpcHBlZFdhcm5pbmdzW2ldKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy51c2VXYXJuaW5nT3ZlcmxheSkge1xuICAgICAgb3ZlcmxheS5zaG93TWVzc2FnZShfd2FybmluZ3MpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmluaXRpYWwpIHtcbiAgICAgIHJldHVybiBvcHRpb25zLmluaXRpYWwgPSBmYWxzZTtcbiAgICB9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcmV0dXJuLWFzc2lnblxuXG5cbiAgICByZWxvYWRBcHAob3B0aW9ucywgc3RhdHVzKTtcbiAgfSxcbiAgZXJyb3JzOiBmdW5jdGlvbiBlcnJvcnMoX2Vycm9ycykge1xuICAgIGxvZy5lcnJvcignW1dEU10gRXJyb3JzIHdoaWxlIGNvbXBpbGluZy4gUmVsb2FkIHByZXZlbnRlZC4nKTtcblxuICAgIHZhciBzdHJpcHBlZEVycm9ycyA9IF9lcnJvcnMubWFwKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgcmV0dXJuIHN0cmlwQW5zaShlcnJvcik7XG4gICAgfSk7XG5cbiAgICBzZW5kTWVzc2FnZSgnRXJyb3JzJywgc3RyaXBwZWRFcnJvcnMpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJpcHBlZEVycm9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgbG9nLmVycm9yKHN0cmlwcGVkRXJyb3JzW2ldKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy51c2VFcnJvck92ZXJsYXkpIHtcbiAgICAgIG92ZXJsYXkuc2hvd01lc3NhZ2UoX2Vycm9ycyk7XG4gICAgfVxuXG4gICAgb3B0aW9ucy5pbml0aWFsID0gZmFsc2U7XG4gIH0sXG4gIGVycm9yOiBmdW5jdGlvbiBlcnJvcihfZXJyb3IpIHtcbiAgICBsb2cuZXJyb3IoX2Vycm9yKTtcbiAgfSxcbiAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkge1xuICAgIGxvZy5lcnJvcignW1dEU10gRGlzY29ubmVjdGVkIScpO1xuICAgIHNlbmRNZXNzYWdlKCdDbG9zZScpO1xuICB9XG59O1xuc29ja2V0KHNvY2tldFVybCwgb25Tb2NrZXRNZXNzYWdlKTsiLCIndXNlIHN0cmljdCc7IC8vIFRoZSBlcnJvciBvdmVybGF5IGlzIGluc3BpcmVkIChhbmQgbW9zdGx5IGNvcGllZCkgZnJvbSBDcmVhdGUgUmVhY3QgQXBwIChodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2tpbmN1YmF0b3IvY3JlYXRlLXJlYWN0LWFwcClcbi8vIFRoZXksIGluIHR1cm4sIGdvdCBpbnNwaXJlZCBieSB3ZWJwYWNrLWhvdC1taWRkbGV3YXJlIChodHRwczovL2dpdGh1Yi5jb20vZ2xlbmphbWluL3dlYnBhY2staG90LW1pZGRsZXdhcmUpLlxuXG52YXIgYW5zaUhUTUwgPSByZXF1aXJlKCdhbnNpLWh0bWwnKTtcblxudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgnaHRtbC1lbnRpdGllcycpLFxuICAgIEFsbEh0bWxFbnRpdGllcyA9IF9yZXF1aXJlLkFsbEh0bWxFbnRpdGllcztcblxudmFyIGVudGl0aWVzID0gbmV3IEFsbEh0bWxFbnRpdGllcygpO1xudmFyIGNvbG9ycyA9IHtcbiAgcmVzZXQ6IFsndHJhbnNwYXJlbnQnLCAndHJhbnNwYXJlbnQnXSxcbiAgYmxhY2s6ICcxODE4MTgnLFxuICByZWQ6ICdFMzYwNDknLFxuICBncmVlbjogJ0IzQ0I3NCcsXG4gIHllbGxvdzogJ0ZGRDA4MCcsXG4gIGJsdWU6ICc3Q0FGQzInLFxuICBtYWdlbnRhOiAnN0ZBQ0NBJyxcbiAgY3lhbjogJ0MzQzJFRicsXG4gIGxpZ2h0Z3JleTogJ0VCRTdFMycsXG4gIGRhcmtncmV5OiAnNkQ3ODkxJ1xufTtcbnZhciBvdmVybGF5SWZyYW1lID0gbnVsbDtcbnZhciBvdmVybGF5RGl2ID0gbnVsbDtcbnZhciBsYXN0T25PdmVybGF5RGl2UmVhZHkgPSBudWxsO1xuYW5zaUhUTUwuc2V0Q29sb3JzKGNvbG9ycyk7XG5cbmZ1bmN0aW9uIGNyZWF0ZU92ZXJsYXlJZnJhbWUob25JZnJhbWVMb2FkKSB7XG4gIHZhciBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcbiAgaWZyYW1lLmlkID0gJ3dlYnBhY2stZGV2LXNlcnZlci1jbGllbnQtb3ZlcmxheSc7XG4gIGlmcmFtZS5zcmMgPSAnYWJvdXQ6YmxhbmsnO1xuICBpZnJhbWUuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICBpZnJhbWUuc3R5bGUubGVmdCA9IDA7XG4gIGlmcmFtZS5zdHlsZS50b3AgPSAwO1xuICBpZnJhbWUuc3R5bGUucmlnaHQgPSAwO1xuICBpZnJhbWUuc3R5bGUuYm90dG9tID0gMDtcbiAgaWZyYW1lLnN0eWxlLndpZHRoID0gJzEwMHZ3JztcbiAgaWZyYW1lLnN0eWxlLmhlaWdodCA9ICcxMDB2aCc7XG4gIGlmcmFtZS5zdHlsZS5ib3JkZXIgPSAnbm9uZSc7XG4gIGlmcmFtZS5zdHlsZS56SW5kZXggPSA5OTk5OTk5OTk5O1xuICBpZnJhbWUub25sb2FkID0gb25JZnJhbWVMb2FkO1xuICByZXR1cm4gaWZyYW1lO1xufVxuXG5mdW5jdGlvbiBhZGRPdmVybGF5RGl2VG8oaWZyYW1lKSB7XG4gIHZhciBkaXYgPSBpZnJhbWUuY29udGVudERvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkaXYuaWQgPSAnd2VicGFjay1kZXYtc2VydmVyLWNsaWVudC1vdmVybGF5LWRpdic7XG4gIGRpdi5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XG4gIGRpdi5zdHlsZS5ib3hTaXppbmcgPSAnYm9yZGVyLWJveCc7XG4gIGRpdi5zdHlsZS5sZWZ0ID0gMDtcbiAgZGl2LnN0eWxlLnRvcCA9IDA7XG4gIGRpdi5zdHlsZS5yaWdodCA9IDA7XG4gIGRpdi5zdHlsZS5ib3R0b20gPSAwO1xuICBkaXYuc3R5bGUud2lkdGggPSAnMTAwdncnO1xuICBkaXYuc3R5bGUuaGVpZ2h0ID0gJzEwMHZoJztcbiAgZGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKDAsIDAsIDAsIDAuODUpJztcbiAgZGl2LnN0eWxlLmNvbG9yID0gJyNFOEU4RTgnO1xuICBkaXYuc3R5bGUuZm9udEZhbWlseSA9ICdNZW5sbywgQ29uc29sYXMsIG1vbm9zcGFjZSc7XG4gIGRpdi5zdHlsZS5mb250U2l6ZSA9ICdsYXJnZSc7XG4gIGRpdi5zdHlsZS5wYWRkaW5nID0gJzJyZW0nO1xuICBkaXYuc3R5bGUubGluZUhlaWdodCA9ICcxLjInO1xuICBkaXYuc3R5bGUud2hpdGVTcGFjZSA9ICdwcmUtd3JhcCc7XG4gIGRpdi5zdHlsZS5vdmVyZmxvdyA9ICdhdXRvJztcbiAgaWZyYW1lLmNvbnRlbnREb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7XG4gIHJldHVybiBkaXY7XG59XG5cbmZ1bmN0aW9uIGVuc3VyZU92ZXJsYXlEaXZFeGlzdHMob25PdmVybGF5RGl2UmVhZHkpIHtcbiAgaWYgKG92ZXJsYXlEaXYpIHtcbiAgICAvLyBFdmVyeXRoaW5nIGlzIHJlYWR5LCBjYWxsIHRoZSBjYWxsYmFjayByaWdodCBhd2F5LlxuICAgIG9uT3ZlcmxheURpdlJlYWR5KG92ZXJsYXlEaXYpO1xuICAgIHJldHVybjtcbiAgfSAvLyBDcmVhdGluZyBhbiBpZnJhbWUgbWF5IGJlIGFzeW5jaHJvbm91cyBzbyB3ZSdsbCBzY2hlZHVsZSB0aGUgY2FsbGJhY2suXG4gIC8vIEluIGNhc2Ugb2YgbXVsdGlwbGUgY2FsbHMsIGxhc3QgY2FsbGJhY2sgd2lucy5cblxuXG4gIGxhc3RPbk92ZXJsYXlEaXZSZWFkeSA9IG9uT3ZlcmxheURpdlJlYWR5O1xuXG4gIGlmIChvdmVybGF5SWZyYW1lKSB7XG4gICAgLy8gV2UndmUgYWxyZWFkeSBjcmVhdGVkIGl0LlxuICAgIHJldHVybjtcbiAgfSAvLyBDcmVhdGUgaWZyYW1lIGFuZCwgd2hlbiBpdCBpcyByZWFkeSwgYSBkaXYgaW5zaWRlIGl0LlxuXG5cbiAgb3ZlcmxheUlmcmFtZSA9IGNyZWF0ZU92ZXJsYXlJZnJhbWUoZnVuY3Rpb24gKCkge1xuICAgIG92ZXJsYXlEaXYgPSBhZGRPdmVybGF5RGl2VG8ob3ZlcmxheUlmcmFtZSk7IC8vIE5vdyB3ZSBjYW4gdGFsayFcblxuICAgIGxhc3RPbk92ZXJsYXlEaXZSZWFkeShvdmVybGF5RGl2KTtcbiAgfSk7IC8vIFphbGdvIGFsZXJ0OiBvbklmcmFtZUxvYWQoKSB3aWxsIGJlIGNhbGxlZCBlaXRoZXIgc3luY2hyb25vdXNseVxuICAvLyBvciBhc3luY2hyb25vdXNseSBkZXBlbmRpbmcgb24gdGhlIGJyb3dzZXIuXG4gIC8vIFdlIGRlbGF5IGFkZGluZyBpdCBzbyBgb3ZlcmxheUlmcmFtZWAgaXMgc2V0IHdoZW4gYG9uSWZyYW1lTG9hZGAgZmlyZXMuXG5cbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvdmVybGF5SWZyYW1lKTtcbn0gLy8gU3VjY2Vzc2Z1bCBjb21waWxhdGlvbi5cblxuXG5mdW5jdGlvbiBjbGVhcigpIHtcbiAgaWYgKCFvdmVybGF5RGl2KSB7XG4gICAgLy8gSXQgaXMgbm90IHRoZXJlIGluIHRoZSBmaXJzdCBwbGFjZS5cbiAgICByZXR1cm47XG4gIH0gLy8gQ2xlYW4gdXAgYW5kIHJlc2V0IGludGVybmFsIHN0YXRlLlxuXG5cbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChvdmVybGF5SWZyYW1lKTtcbiAgb3ZlcmxheURpdiA9IG51bGw7XG4gIG92ZXJsYXlJZnJhbWUgPSBudWxsO1xuICBsYXN0T25PdmVybGF5RGl2UmVhZHkgPSBudWxsO1xufSAvLyBDb21waWxhdGlvbiB3aXRoIGVycm9ycyAoZS5nLiBzeW50YXggZXJyb3Igb3IgbWlzc2luZyBtb2R1bGVzKS5cblxuXG5mdW5jdGlvbiBzaG93TWVzc2FnZShtZXNzYWdlcykge1xuICBlbnN1cmVPdmVybGF5RGl2RXhpc3RzKGZ1bmN0aW9uIChkaXYpIHtcbiAgICAvLyBNYWtlIGl0IGxvb2sgc2ltaWxhciB0byBvdXIgdGVybWluYWwuXG4gICAgZGl2LmlubmVySFRNTCA9IFwiPHNwYW4gc3R5bGU9XFxcImNvbG9yOiAjXCIuY29uY2F0KGNvbG9ycy5yZWQsIFwiXFxcIj5GYWlsZWQgdG8gY29tcGlsZS48L3NwYW4+PGJyPjxicj5cIikuY29uY2F0KGFuc2lIVE1MKGVudGl0aWVzLmVuY29kZShtZXNzYWdlc1swXSkpKTtcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjbGVhcjogY2xlYXIsXG4gIHNob3dNZXNzYWdlOiBzaG93TWVzc2FnZVxufTsiLCIndXNlIHN0cmljdCc7XG4vKiBnbG9iYWwgX193ZWJwYWNrX2Rldl9zZXJ2ZXJfY2xpZW50X18gKi9cblxuLyogZXNsaW50LWRpc2FibGVcbiAgY2FtZWxjYXNlXG4qL1xuLy8gdGhpcyBTb2NrSlNDbGllbnQgaXMgaGVyZSBhcyBhIGRlZmF1bHQgZmFsbGJhY2ssIGluIGNhc2UgaW5saW5lIG1vZGVcbi8vIGlzIG9mZiBvciB0aGUgY2xpZW50IGlzIG5vdCBpbmplY3RlZC4gVGhpcyB3aWxsIGJlIHN3aXRjaGVkIHRvXG4vLyBXZWJzb2NrZXRDbGllbnQgd2hlbiBpdCBiZWNvbWVzIHRoZSBkZWZhdWx0XG4vLyBpbXBvcnRhbnQ6IHRoZSBwYXRoIHRvIFNvY2tKU0NsaWVudCBoZXJlIGlzIG1hZGUgdG8gd29yayBpbiB0aGUgJ2NsaWVudCdcbi8vIGRpcmVjdG9yeSwgYnV0IGlzIHVwZGF0ZWQgdmlhIHRoZSB3ZWJwYWNrIGNvbXBpbGF0aW9uIHdoZW4gY29tcGlsZWQgZnJvbVxuLy8gdGhlICdjbGllbnQtc3JjJyBkaXJlY3RvcnlcblxudmFyIENsaWVudCA9IHR5cGVvZiBfX3dlYnBhY2tfZGV2X3NlcnZlcl9jbGllbnRfXyAhPT0gJ3VuZGVmaW5lZCcgPyBfX3dlYnBhY2tfZGV2X3NlcnZlcl9jbGllbnRfXyA6IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW5yZXNvbHZlZFxucmVxdWlyZSgnLi9jbGllbnRzL1NvY2tKU0NsaWVudCcpO1xudmFyIHJldHJpZXMgPSAwO1xudmFyIGNsaWVudCA9IG51bGw7XG5cbnZhciBzb2NrZXQgPSBmdW5jdGlvbiBpbml0U29ja2V0KHVybCwgaGFuZGxlcnMpIHtcbiAgY2xpZW50ID0gbmV3IENsaWVudCh1cmwpO1xuICBjbGllbnQub25PcGVuKGZ1bmN0aW9uICgpIHtcbiAgICByZXRyaWVzID0gMDtcbiAgfSk7XG4gIGNsaWVudC5vbkNsb3NlKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAocmV0cmllcyA9PT0gMCkge1xuICAgICAgaGFuZGxlcnMuY2xvc2UoKTtcbiAgICB9IC8vIFRyeSB0byByZWNvbm5lY3QuXG5cblxuICAgIGNsaWVudCA9IG51bGw7IC8vIEFmdGVyIDEwIHJldHJpZXMgc3RvcCB0cnlpbmcsIHRvIHByZXZlbnQgbG9nc3BhbS5cblxuICAgIGlmIChyZXRyaWVzIDw9IDEwKSB7XG4gICAgICAvLyBFeHBvbmVudGlhbGx5IGluY3JlYXNlIHRpbWVvdXQgdG8gcmVjb25uZWN0LlxuICAgICAgLy8gUmVzcGVjdGZ1bGx5IGNvcGllZCBmcm9tIHRoZSBwYWNrYWdlIGBnb3RgLlxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW1peGVkLW9wZXJhdG9ycywgbm8tcmVzdHJpY3RlZC1wcm9wZXJ0aWVzXG4gICAgICB2YXIgcmV0cnlJbk1zID0gMTAwMCAqIE1hdGgucG93KDIsIHJldHJpZXMpICsgTWF0aC5yYW5kb20oKSAqIDEwMDtcbiAgICAgIHJldHJpZXMgKz0gMTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBzb2NrZXQodXJsLCBoYW5kbGVycyk7XG4gICAgICB9LCByZXRyeUluTXMpO1xuICAgIH1cbiAgfSk7XG4gIGNsaWVudC5vbk1lc3NhZ2UoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICB2YXIgbXNnID0gSlNPTi5wYXJzZShkYXRhKTtcblxuICAgIGlmIChoYW5kbGVyc1ttc2cudHlwZV0pIHtcbiAgICAgIGhhbmRsZXJzW21zZy50eXBlXShtc2cuZGF0YSk7XG4gICAgfVxuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gc29ja2V0OyIsIid1c2Ugc3RyaWN0Jztcbi8qIGdsb2JhbCBzZWxmICovXG5cbnZhciB1cmwgPSByZXF1aXJlKCd1cmwnKTtcblxudmFyIGdldEN1cnJlbnRTY3JpcHRTb3VyY2UgPSByZXF1aXJlKCcuL2dldEN1cnJlbnRTY3JpcHRTb3VyY2UnKTtcblxuZnVuY3Rpb24gY3JlYXRlU29ja2V0VXJsKHJlc291cmNlUXVlcnksIGN1cnJlbnRMb2NhdGlvbikge1xuICB2YXIgdXJsUGFydHM7XG5cbiAgaWYgKHR5cGVvZiByZXNvdXJjZVF1ZXJ5ID09PSAnc3RyaW5nJyAmJiByZXNvdXJjZVF1ZXJ5ICE9PSAnJykge1xuICAgIC8vIElmIHRoaXMgYnVuZGxlIGlzIGlubGluZWQsIHVzZSB0aGUgcmVzb3VyY2UgcXVlcnkgdG8gZ2V0IHRoZSBjb3JyZWN0IHVybC5cbiAgICAvLyBmb3JtYXQgaXMgbGlrZSBgP2h0dHA6Ly8wLjAuMC4wOjgwOTYmc29ja1BvcnQ9ODA5NyZzb2NrSG9zdD1sb2NhbGhvc3RgXG4gICAgdXJsUGFydHMgPSB1cmwucGFyc2UocmVzb3VyY2VRdWVyeSAvLyBzdHJpcCBsZWFkaW5nIGA/YCBmcm9tIHF1ZXJ5IHN0cmluZyB0byBnZXQgYSB2YWxpZCBVUkxcbiAgICAuc3Vic3RyKDEpIC8vIHJlcGxhY2UgZmlyc3QgYCZgIHdpdGggYD9gIHRvIGhhdmUgYSB2YWxpZCBxdWVyeSBzdHJpbmdcbiAgICAucmVwbGFjZSgnJicsICc/JyksIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIC8vIEVsc2UsIGdldCB0aGUgdXJsIGZyb20gdGhlIDxzY3JpcHQ+IHRoaXMgZmlsZSB3YXMgY2FsbGVkIHdpdGguXG4gICAgdmFyIHNjcmlwdEhvc3QgPSBnZXRDdXJyZW50U2NyaXB0U291cmNlKCk7XG4gICAgdXJsUGFydHMgPSB1cmwucGFyc2Uoc2NyaXB0SG9zdCB8fCAnLycsIHRydWUsIHRydWUpO1xuICB9IC8vIFVzZSBwYXJhbWV0ZXIgdG8gYWxsb3cgcGFzc2luZyBsb2NhdGlvbiBpbiB1bml0IHRlc3RzXG5cblxuICBpZiAodHlwZW9mIGN1cnJlbnRMb2NhdGlvbiA9PT0gJ3N0cmluZycgJiYgY3VycmVudExvY2F0aW9uICE9PSAnJykge1xuICAgIGN1cnJlbnRMb2NhdGlvbiA9IHVybC5wYXJzZShjdXJyZW50TG9jYXRpb24pO1xuICB9IGVsc2Uge1xuICAgIGN1cnJlbnRMb2NhdGlvbiA9IHNlbGYubG9jYXRpb247XG4gIH1cblxuICByZXR1cm4gZ2V0U29ja2V0VXJsKHVybFBhcnRzLCBjdXJyZW50TG9jYXRpb24pO1xufVxuLypcbiAqIEdldHMgc29ja2V0IFVSTCBiYXNlZCBvbiBTY3JpcHQgU291cmNlL0xvY2F0aW9uXG4gKiAoc2NyaXB0U3JjOiBVUkwsIGxvY2F0aW9uOiBVUkwpIC0+IFVSTFxuICovXG5cblxuZnVuY3Rpb24gZ2V0U29ja2V0VXJsKHVybFBhcnRzLCBsb2MpIHtcbiAgdmFyIGF1dGggPSB1cmxQYXJ0cy5hdXRoLFxuICAgICAgcXVlcnkgPSB1cmxQYXJ0cy5xdWVyeTtcbiAgdmFyIGhvc3RuYW1lID0gdXJsUGFydHMuaG9zdG5hbWUsXG4gICAgICBwcm90b2NvbCA9IHVybFBhcnRzLnByb3RvY29sLFxuICAgICAgcG9ydCA9IHVybFBhcnRzLnBvcnQ7XG5cbiAgaWYgKCFwb3J0IHx8IHBvcnQgPT09ICcwJykge1xuICAgIHBvcnQgPSBsb2MucG9ydDtcbiAgfSAvLyBjaGVjayBpcHY0IGFuZCBpcHY2IGBhbGwgaG9zdG5hbWVgXG4gIC8vIHdoeSBkbyB3ZSBuZWVkIHRoaXMgY2hlY2s/XG4gIC8vIGhvc3RuYW1lIG4vYSBmb3IgZmlsZSBwcm90b2NvbCAoZXhhbXBsZSwgd2hlbiB1c2luZyBlbGVjdHJvbiwgaW9uaWMpXG4gIC8vIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2svd2VicGFjay1kZXYtc2VydmVyL3B1bGwvMzg0XG5cblxuICBpZiAoKGhvc3RuYW1lID09PSAnMC4wLjAuMCcgfHwgaG9zdG5hbWUgPT09ICc6OicpICYmIGxvYy5ob3N0bmFtZSAmJiBsb2MucHJvdG9jb2wuaW5kZXhPZignaHR0cCcpID09PSAwKSB7XG4gICAgaG9zdG5hbWUgPSBsb2MuaG9zdG5hbWU7XG4gIH0gLy8gYGhvc3RuYW1lYCBjYW4gYmUgZW1wdHkgd2hlbiB0aGUgc2NyaXB0IHBhdGggaXMgcmVsYXRpdmUuIEluIHRoYXQgY2FzZSwgc3BlY2lmeWluZ1xuICAvLyBhIHByb3RvY29sIHdvdWxkIHJlc3VsdCBpbiBhbiBpbnZhbGlkIFVSTC5cbiAgLy8gV2hlbiBodHRwcyBpcyB1c2VkIGluIHRoZSBhcHAsIHNlY3VyZSB3ZWJzb2NrZXRzIGFyZSBhbHdheXMgbmVjZXNzYXJ5XG4gIC8vIGJlY2F1c2UgdGhlIGJyb3dzZXIgZG9lc24ndCBhY2NlcHQgbm9uLXNlY3VyZSB3ZWJzb2NrZXRzLlxuXG5cbiAgaWYgKGhvc3RuYW1lICYmIGhvc3RuYW1lICE9PSAnMTI3LjAuMC4xJyAmJiAobG9jLnByb3RvY29sID09PSAnaHR0cHM6JyB8fCB1cmxQYXJ0cy5ob3N0bmFtZSA9PT0gJzAuMC4wLjAnKSkge1xuICAgIHByb3RvY29sID0gbG9jLnByb3RvY29sO1xuICB9IC8vIGFsbCBvZiB0aGVzZSBzb2NrIHVybCBwYXJhbXMgYXJlIG9wdGlvbmFsbHkgcGFzc2VkIGluIHRocm91Z2hcbiAgLy8gcmVzb3VyY2VRdWVyeSwgc28gd2UgbmVlZCB0byBmYWxsIGJhY2sgdG8gdGhlIGRlZmF1bHQgaWZcbiAgLy8gdGhleSBhcmUgbm90IHByb3ZpZGVkXG5cblxuICB2YXIgc29ja0hvc3QgPSBxdWVyeS5zb2NrSG9zdCB8fCBob3N0bmFtZTtcbiAgdmFyIHNvY2tQYXRoID0gcXVlcnkuc29ja1BhdGggfHwgJy9zb2NranMtbm9kZSc7XG4gIHZhciBzb2NrUG9ydCA9IHF1ZXJ5LnNvY2tQb3J0IHx8IHBvcnQ7XG5cbiAgaWYgKHNvY2tQb3J0ID09PSAnbG9jYXRpb24nKSB7XG4gICAgc29ja1BvcnQgPSBsb2MucG9ydDtcbiAgfVxuXG4gIHJldHVybiB1cmwuZm9ybWF0KHtcbiAgICBwcm90b2NvbDogcHJvdG9jb2wsXG4gICAgYXV0aDogYXV0aCxcbiAgICBob3N0bmFtZTogc29ja0hvc3QsXG4gICAgcG9ydDogc29ja1BvcnQsXG4gICAgLy8gSWYgc29ja1BhdGggaXMgcHJvdmlkZWQgaXQnbGwgYmUgcGFzc2VkIGluIHZpYSB0aGUgcmVzb3VyY2VRdWVyeSBhcyBhXG4gICAgLy8gcXVlcnkgcGFyYW0gc28gaXQgaGFzIHRvIGJlIHBhcnNlZCBvdXQgb2YgdGhlIHF1ZXJ5c3RyaW5nIGluIG9yZGVyIGZvciB0aGVcbiAgICAvLyBjbGllbnQgdG8gb3BlbiB0aGUgc29ja2V0IHRvIHRoZSBjb3JyZWN0IGxvY2F0aW9uLlxuICAgIHBhdGhuYW1lOiBzb2NrUGF0aFxuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVTb2NrZXRVcmw7IiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBnZXRDdXJyZW50U2NyaXB0U291cmNlKCkge1xuICAvLyBgZG9jdW1lbnQuY3VycmVudFNjcmlwdGAgaXMgdGhlIG1vc3QgYWNjdXJhdGUgd2F5IHRvIGZpbmQgdGhlIGN1cnJlbnQgc2NyaXB0LFxuICAvLyBidXQgaXMgbm90IHN1cHBvcnRlZCBpbiBhbGwgYnJvd3NlcnMuXG4gIGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuZ2V0QXR0cmlidXRlKCdzcmMnKTtcbiAgfSAvLyBGYWxsIGJhY2sgdG8gZ2V0dGluZyBhbGwgc2NyaXB0cyBpbiB0aGUgZG9jdW1lbnQuXG5cblxuICB2YXIgc2NyaXB0RWxlbWVudHMgPSBkb2N1bWVudC5zY3JpcHRzIHx8IFtdO1xuICB2YXIgY3VycmVudFNjcmlwdCA9IHNjcmlwdEVsZW1lbnRzW3NjcmlwdEVsZW1lbnRzLmxlbmd0aCAtIDFdO1xuXG4gIGlmIChjdXJyZW50U2NyaXB0KSB7XG4gICAgcmV0dXJuIGN1cnJlbnRTY3JpcHQuZ2V0QXR0cmlidXRlKCdzcmMnKTtcbiAgfSAvLyBGYWlsIGFzIHRoZXJlIHdhcyBubyBzY3JpcHQgdG8gdXNlLlxuXG5cbiAgdGhyb3cgbmV3IEVycm9yKCdbV0RTXSBGYWlsZWQgdG8gZ2V0IGN1cnJlbnQgc2NyaXB0IHNvdXJjZS4nKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRDdXJyZW50U2NyaXB0U291cmNlOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIGxvZyA9IHJlcXVpcmUoJ2xvZ2xldmVsJykuZ2V0TG9nZ2VyKCd3ZWJwYWNrLWRldi1zZXJ2ZXInKTtcblxudmFyIElORk8gPSAnaW5mbyc7XG52YXIgV0FSTiA9ICd3YXJuJztcbnZhciBFUlJPUiA9ICdlcnJvcic7XG52YXIgREVCVUcgPSAnZGVidWcnO1xudmFyIFRSQUNFID0gJ3RyYWNlJztcbnZhciBTSUxFTlQgPSAnc2lsZW50JzsgLy8gZGVwcmVjYXRlZFxuLy8gVE9ETzogcmVtb3ZlIHRoZXNlIGF0IG1ham9yIHJlbGVhc2VkXG4vLyBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay93ZWJwYWNrLWRldi1zZXJ2ZXIvcHVsbC8xODI1XG5cbnZhciBXQVJOSU5HID0gJ3dhcm5pbmcnO1xudmFyIE5PTkUgPSAnbm9uZSc7IC8vIFNldCB0aGUgZGVmYXVsdCBsb2cgbGV2ZWxcblxubG9nLnNldERlZmF1bHRMZXZlbChJTkZPKTtcblxuZnVuY3Rpb24gc2V0TG9nTGV2ZWwobGV2ZWwpIHtcbiAgc3dpdGNoIChsZXZlbCkge1xuICAgIGNhc2UgSU5GTzpcbiAgICBjYXNlIFdBUk46XG4gICAgY2FzZSBFUlJPUjpcbiAgICBjYXNlIERFQlVHOlxuICAgIGNhc2UgVFJBQ0U6XG4gICAgICBsb2cuc2V0TGV2ZWwobGV2ZWwpO1xuICAgICAgYnJlYWs7XG4gICAgLy8gZGVwcmVjYXRlZFxuXG4gICAgY2FzZSBXQVJOSU5HOlxuICAgICAgLy8gbG9nbGV2ZWwncyB3YXJuaW5nIG5hbWUgaXMgZGlmZmVyZW50IGZyb20gd2VicGFjaydzXG4gICAgICBsb2cuc2V0TGV2ZWwoJ3dhcm4nKTtcbiAgICAgIGJyZWFrO1xuICAgIC8vIGRlcHJlY2F0ZWRcblxuICAgIGNhc2UgTk9ORTpcbiAgICBjYXNlIFNJTEVOVDpcbiAgICAgIGxvZy5kaXNhYmxlQWxsKCk7XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICBsb2cuZXJyb3IoXCJbV0RTXSBVbmtub3duIGNsaWVudExvZ0xldmVsICdcIi5jb25jYXQobGV2ZWwsIFwiJ1wiKSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGxvZzogbG9nLFxuICBzZXRMb2dMZXZlbDogc2V0TG9nTGV2ZWxcbn07IiwiJ3VzZSBzdHJpY3QnO1xuLyogZ2xvYmFsIFdvcmtlckdsb2JhbFNjb3BlIHNlbGYgKi9cblxudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgnLi9sb2cnKSxcbiAgICBsb2cgPSBfcmVxdWlyZS5sb2c7XG5cbmZ1bmN0aW9uIHJlbG9hZEFwcChfcmVmLCBfcmVmMikge1xuICB2YXIgaG90UmVsb2FkID0gX3JlZi5ob3RSZWxvYWQsXG4gICAgICBob3QgPSBfcmVmLmhvdCxcbiAgICAgIGxpdmVSZWxvYWQgPSBfcmVmLmxpdmVSZWxvYWQ7XG4gIHZhciBpc1VubG9hZGluZyA9IF9yZWYyLmlzVW5sb2FkaW5nLFxuICAgICAgY3VycmVudEhhc2ggPSBfcmVmMi5jdXJyZW50SGFzaDtcblxuICBpZiAoaXNVbmxvYWRpbmcgfHwgIWhvdFJlbG9hZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChob3QpIHtcbiAgICBsb2cuaW5mbygnW1dEU10gQXBwIGhvdCB1cGRhdGUuLi4nKTtcblxuICAgIHZhciBob3RFbWl0dGVyID0gcmVxdWlyZSgnd2VicGFjay9ob3QvZW1pdHRlcicpO1xuXG4gICAgaG90RW1pdHRlci5lbWl0KCd3ZWJwYWNrSG90VXBkYXRlJywgY3VycmVudEhhc2gpO1xuXG4gICAgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyAmJiBzZWxmLndpbmRvdykge1xuICAgICAgLy8gYnJvYWRjYXN0IHVwZGF0ZSB0byB3aW5kb3dcbiAgICAgIHNlbGYucG9zdE1lc3NhZ2UoXCJ3ZWJwYWNrSG90VXBkYXRlXCIuY29uY2F0KGN1cnJlbnRIYXNoKSwgJyonKTtcbiAgICB9XG4gIH0gLy8gYWxsb3cgcmVmcmVzaGluZyB0aGUgcGFnZSBvbmx5IGlmIGxpdmVSZWxvYWQgaXNuJ3QgZGlzYWJsZWRcbiAgZWxzZSBpZiAobGl2ZVJlbG9hZCkge1xuICAgICAgdmFyIHJvb3RXaW5kb3cgPSBzZWxmOyAvLyB1c2UgcGFyZW50IHdpbmRvdyBmb3IgcmVsb2FkIChpbiBjYXNlIHdlJ3JlIGluIGFuIGlmcmFtZSB3aXRoIG5vIHZhbGlkIHNyYylcblxuICAgICAgdmFyIGludGVydmFsSWQgPSBzZWxmLnNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHJvb3RXaW5kb3cubG9jYXRpb24ucHJvdG9jb2wgIT09ICdhYm91dDonKSB7XG4gICAgICAgICAgLy8gcmVsb2FkIGltbWVkaWF0ZWx5IGlmIHByb3RvY29sIGlzIHZhbGlkXG4gICAgICAgICAgYXBwbHlSZWxvYWQocm9vdFdpbmRvdywgaW50ZXJ2YWxJZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcm9vdFdpbmRvdyA9IHJvb3RXaW5kb3cucGFyZW50O1xuXG4gICAgICAgICAgaWYgKHJvb3RXaW5kb3cucGFyZW50ID09PSByb290V2luZG93KSB7XG4gICAgICAgICAgICAvLyBpZiBwYXJlbnQgZXF1YWxzIGN1cnJlbnQgd2luZG93IHdlJ3ZlIHJlYWNoZWQgdGhlIHJvb3Qgd2hpY2ggd291bGQgY29udGludWUgZm9yZXZlciwgc28gdHJpZ2dlciBhIHJlbG9hZCBhbnl3YXlzXG4gICAgICAgICAgICBhcHBseVJlbG9hZChyb290V2luZG93LCBpbnRlcnZhbElkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICBmdW5jdGlvbiBhcHBseVJlbG9hZChyb290V2luZG93LCBpbnRlcnZhbElkKSB7XG4gICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTtcbiAgICBsb2cuaW5mbygnW1dEU10gQXBwIHVwZGF0ZWQuIFJlbG9hZGluZy4uLicpO1xuICAgIHJvb3RXaW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSByZWxvYWRBcHA7IiwiJ3VzZSBzdHJpY3QnO1xuLyogZ2xvYmFsIF9fcmVzb3VyY2VRdWVyeSBXb3JrZXJHbG9iYWxTY29wZSBzZWxmICovXG4vLyBTZW5kIG1lc3NhZ2VzIHRvIHRoZSBvdXRzaWRlLCBzbyBwbHVnaW5zIGNhbiBjb25zdW1lIGl0LlxuXG5mdW5jdGlvbiBzZW5kTXNnKHR5cGUsIGRhdGEpIHtcbiAgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyAmJiAodHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlID09PSAndW5kZWZpbmVkJyB8fCAhKHNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSkpKSB7XG4gICAgc2VsZi5wb3N0TWVzc2FnZSh7XG4gICAgICB0eXBlOiBcIndlYnBhY2tcIi5jb25jYXQodHlwZSksXG4gICAgICBkYXRhOiBkYXRhXG4gICAgfSwgJyonKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNlbmRNc2c7IiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG5cdHJldHVybiAvW1xcdTAwMWJcXHUwMDliXVtbKCkjOz9dKig/OlswLTldezEsNH0oPzo7WzAtOV17MCw0fSkqKT9bMC05QS1QUlpjZi1ucXJ5PT48XS9nO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBhbnNpUmVnZXggPSByZXF1aXJlKCdhbnNpLXJlZ2V4JykoKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc3RyKSB7XG5cdHJldHVybiB0eXBlb2Ygc3RyID09PSAnc3RyaW5nJyA/IHN0ci5yZXBsYWNlKGFuc2lSZWdleCwgJycpIDogc3RyO1xufTtcbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obW9kdWxlKSB7XG5cdGlmICghbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xuXHRcdG1vZHVsZS5kZXByZWNhdGUgPSBmdW5jdGlvbigpIHt9O1xuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxuXHRcdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImxvYWRlZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5sO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiaWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUuaTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcblx0fVxuXHRyZXR1cm4gbW9kdWxlO1xufTtcbiIsInZhciBtYXAgPSB7XG5cdFwiLi9sb2dcIjogXCIuL25vZGVfbW9kdWxlcy93ZWJwYWNrL2hvdC9sb2cuanNcIlxufTtcblxuXG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dChyZXEpIHtcblx0dmFyIGlkID0gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSk7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKGlkKTtcbn1cbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpIHtcblx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhtYXAsIHJlcSkpIHtcblx0XHR2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIidcIik7XG5cdFx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHRcdHRocm93IGU7XG5cdH1cblx0cmV0dXJuIG1hcFtyZXFdO1xufVxud2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG59O1xud2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG53ZWJwYWNrQ29udGV4dC5pZCA9IFwiLi9ub2RlX21vZHVsZXMvd2VicGFjay9ob3Qgc3luYyBeXFxcXC5cXFxcL2xvZyRcIjsiLCJ2YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZShcImV2ZW50c1wiKTtcbm1vZHVsZS5leHBvcnRzID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuIiwidmFyIGxvZ0xldmVsID0gXCJpbmZvXCI7XG5cbmZ1bmN0aW9uIGR1bW15KCkge31cblxuZnVuY3Rpb24gc2hvdWxkTG9nKGxldmVsKSB7XG5cdHZhciBzaG91bGRMb2cgPVxuXHRcdChsb2dMZXZlbCA9PT0gXCJpbmZvXCIgJiYgbGV2ZWwgPT09IFwiaW5mb1wiKSB8fFxuXHRcdChbXCJpbmZvXCIsIFwid2FybmluZ1wiXS5pbmRleE9mKGxvZ0xldmVsKSA+PSAwICYmIGxldmVsID09PSBcIndhcm5pbmdcIikgfHxcblx0XHQoW1wiaW5mb1wiLCBcIndhcm5pbmdcIiwgXCJlcnJvclwiXS5pbmRleE9mKGxvZ0xldmVsKSA+PSAwICYmIGxldmVsID09PSBcImVycm9yXCIpO1xuXHRyZXR1cm4gc2hvdWxkTG9nO1xufVxuXG5mdW5jdGlvbiBsb2dHcm91cChsb2dGbikge1xuXHRyZXR1cm4gZnVuY3Rpb24obGV2ZWwsIG1zZykge1xuXHRcdGlmIChzaG91bGRMb2cobGV2ZWwpKSB7XG5cdFx0XHRsb2dGbihtc2cpO1xuXHRcdH1cblx0fTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsZXZlbCwgbXNnKSB7XG5cdGlmIChzaG91bGRMb2cobGV2ZWwpKSB7XG5cdFx0aWYgKGxldmVsID09PSBcImluZm9cIikge1xuXHRcdFx0Y29uc29sZS5sb2cobXNnKTtcblx0XHR9IGVsc2UgaWYgKGxldmVsID09PSBcIndhcm5pbmdcIikge1xuXHRcdFx0Y29uc29sZS53YXJuKG1zZyk7XG5cdFx0fSBlbHNlIGlmIChsZXZlbCA9PT0gXCJlcnJvclwiKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKG1zZyk7XG5cdFx0fVxuXHR9XG59O1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBub2RlL25vLXVuc3VwcG9ydGVkLWZlYXR1cmVzL25vZGUtYnVpbHRpbnMgKi9cbnZhciBncm91cCA9IGNvbnNvbGUuZ3JvdXAgfHwgZHVtbXk7XG52YXIgZ3JvdXBDb2xsYXBzZWQgPSBjb25zb2xlLmdyb3VwQ29sbGFwc2VkIHx8IGR1bW15O1xudmFyIGdyb3VwRW5kID0gY29uc29sZS5ncm91cEVuZCB8fCBkdW1teTtcbi8qIGVzbGludC1lbmFibGUgbm9kZS9uby11bnN1cHBvcnRlZC1mZWF0dXJlcy9ub2RlLWJ1aWx0aW5zICovXG5cbm1vZHVsZS5leHBvcnRzLmdyb3VwID0gbG9nR3JvdXAoZ3JvdXApO1xuXG5tb2R1bGUuZXhwb3J0cy5ncm91cENvbGxhcHNlZCA9IGxvZ0dyb3VwKGdyb3VwQ29sbGFwc2VkKTtcblxubW9kdWxlLmV4cG9ydHMuZ3JvdXBFbmQgPSBsb2dHcm91cChncm91cEVuZCk7XG5cbm1vZHVsZS5leHBvcnRzLnNldExvZ0xldmVsID0gZnVuY3Rpb24obGV2ZWwpIHtcblx0bG9nTGV2ZWwgPSBsZXZlbDtcbn07XG5cbm1vZHVsZS5leHBvcnRzLmZvcm1hdEVycm9yID0gZnVuY3Rpb24oZXJyKSB7XG5cdHZhciBtZXNzYWdlID0gZXJyLm1lc3NhZ2U7XG5cdHZhciBzdGFjayA9IGVyci5zdGFjaztcblx0aWYgKCFzdGFjaykge1xuXHRcdHJldHVybiBtZXNzYWdlO1xuXHR9IGVsc2UgaWYgKHN0YWNrLmluZGV4T2YobWVzc2FnZSkgPCAwKSB7XG5cdFx0cmV0dXJuIG1lc3NhZ2UgKyBcIlxcblwiICsgc3RhY2s7XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIHN0YWNrO1xuXHR9XG59O1xuIiwiLypcbiBDT01QRVRJVElPTiBMQUJTIExURCB2MS4wLjVcbiAoYykgMjAxNS0yMDIwIEFsZWtzYW5kciBCZXJub3Rhc1xuIExpY2Vuc2U6IHd3dy5jb21wZXRpdGlvbmxhYnMuY29tL3Rlcm1zLW9mLXNlcnZpY2VcbiovXG5cbmltcG9ydCAnLi9wb2x5ZmlsbHMnO1xuaW1wb3J0ICcuL21vZHVsZXMvc2V0VGltZW91dEdsb2JhbCc7XG5pbXBvcnQgeyBMYldpZGdldCB9IGZyb20gJy4vbW9kdWxlcy9MYldpZGdldCc7XG5cbmlmIChwcm9jZXNzLmVudi5JTkxJTkVfQ1NTKSB7XG4gIHJlcXVpcmUoJy4uL3Njc3MvJyArIHByb2Nlc3MuZW52LlRIRU1FICsgJy9zdHlsZS5zY3NzJyk7XG59XG5cbihmdW5jdGlvbiAoKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93Ll9DTExCVjNPcHQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgd2luZG93Ll9DTExCVjNPcHQgPSB7XG4gICAgICBhdXRvU3RhcnQ6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygd2luZG93Ll9jbExlYWRlckJvYXJkVjMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgd2luZG93Ll9jbExlYWRlckJvYXJkVjMgPSBuZXcgTGJXaWRnZXQod2luZG93Ll9DTExCVjNPcHQpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUud2Fybignd2luZG93Ll9jbExlYWRlckJvYXJkVjMgaXMgYWxyZWFkeSBkZWZpbmVkLCB3aWRnZXQgaXMgY29uZmlndXJlZCB0byBydW4gYXMgYSBzaW5nbGUgaW5zdGFuY2UnKTtcbiAgfVxufSkoKTtcbiIsImltcG9ydCBjTGFicyBmcm9tICcuL2NMYWJzJztcbmltcG9ydCBzaXplb2YgZnJvbSAnLi4vdXRpbHMvc2l6ZW9mJztcblxuLyoqXG4gKiBBamF4IG1ldGhvZFxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5jTGFicy5BamF4ID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLnhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xufTtcblxuY0xhYnMuQWpheC5wcm90b3R5cGUuY3JlYXRlQ09SU1JlcXVlc3QgPSBmdW5jdGlvbiAobWV0aG9kLCB1cmwpIHtcbiAgdmFyIG9iaiA9IHRoaXM7XG5cbiAgaWYgKCd3aXRoQ3JlZGVudGlhbHMnIGluIG9iai54aHIpIHtcbiAgICAvLyBNb3N0IGJyb3dzZXJzLlxuICAgIG9iai54aHIub3BlbihtZXRob2QsIHVybCwgdHJ1ZSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIFhEb21haW5SZXF1ZXN0ICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIElFOCAmIElFOVxuICAgIC8qIGVzbGludCBuby11bmRlZjogXCJvZmZcIiAqL1xuICAgIG9iai54aHIgPSBuZXcgWERvbWFpblJlcXVlc3QoKTtcblxuICAgIHVybCA9ICh1cmwuaW5kZXhPZignaHR0cHMnKSA+IC0xICYmIGxvY2F0aW9uLnByb3RvY29sICE9PSAnaHR0cHM6JykgPyB1cmwucmVwbGFjZSgnaHR0cHMnLCAnaHR0cCcpIDogdXJsO1xuXG4gICAgb2JqLnhoci5vcGVuKG1ldGhvZCwgdXJsKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBDT1JTIG5vdCBzdXBwb3J0ZWQuXG4gICAgb2JqLnhociA9IG51bGw7XG4gIH1cbiAgcmV0dXJuIG9iai54aHI7XG59O1xuXG4vKipcbiAqIEFib3J0IHRoZSByZXF1ZXN0IGlmIGl0IGhhcyBhbHJlYWR5IGJlZW4gc2VudFxuICpcbiAqIEBtZW1iZXJPZiBjTGFicy5BamF4XG4gKiBAbWV0aG9kIGFib3J0XG4gKiBAcmV0dXJuIHsgT2JqZWN0IH0gY0xhYnMuQWpheFxuICovXG5jTGFicy5BamF4LnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICBpZiAoX3RoaXMueGhyICYmIHR5cGVvZiBfdGhpcy54aHIucmVhZHlTdGF0ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgX3RoaXMueGhyLnJlYWR5U3RhdGUgIT09IDQgJiYgX3RoaXMueGhyLnJlYWR5U3RhdGUgPiAwKSB7XG4gICAgLy8gY29uc29sZS5lcnJvcihcImFib3J0aW5nIEFqYXhcIiwgX3RoaXMueGhyLnJlYWR5U3RhdGUsIF90aGlzLnhocik7XG4gICAgX3RoaXMueGhyLmFib3J0KCk7XG4gIH1cblxuICByZXR1cm4gX3RoaXM7XG59O1xuXG4vKipcbiAqIFJldHJpZXZlcyBkYXRhIGZyb20gYSBVUkwgd2l0aG91dCBwYWdlIHJlZnJlc2hcbiAqXG4gKiBAbWVtYmVyT2YgY0xhYnMuQWpheFxuICogQG1ldGhvZCBnZXREYXRhXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlndXJhdGlvbiBvYmplY3RcbiAqICAtIG9iamVjdCBjb250YWluczogSFRUUCBtZXRob2QgXCJ0eXBlOiBQT1NULCBHRVRcIiwgdXJsOiB0byBzZW5kIHRoZSByZXF1ZXN0IHRvLCBkYXRhOiB7b2JqZWN0fVxuICogQHJldHVybiB7U3RyaW5nfSBpbiBzdWNjZXNzIG9iamVjdFxuICovXG5jTGFicy5BamF4LnByb3RvdHlwZS5nZXREYXRhID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgdmFyIG9iaiA9IHRoaXM7XG5cbiAgdHJ5IHtcbiAgICBkYXRhLnR5cGUgPSAoZGF0YS50eXBlICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGRhdGEudHlwZSA9PT0gJ3N0cmluZycgJiYgZGF0YS50eXBlLmxlbmd0aCA+IDApID8gZGF0YS50eXBlIDogJ1BPU1QnO1xuICAgIGRhdGEuZGF0YSA9IChkYXRhLmRhdGEgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgZGF0YS5kYXRhID09PSAnb2JqZWN0JykgPyBkYXRhLmRhdGEgOiB7fTtcbiAgICBkYXRhLnVybCA9IChkYXRhLnVybCAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBkYXRhLnVybCA9PT0gJ3N0cmluZycgJiYgZGF0YS51cmwubGVuZ3RoID4gMCkgPyBkYXRhLnVybCA6ICcnO1xuICAgIGRhdGEuc3VjY2VzcyA9IChkYXRhLnN1Y2Nlc3MgIT09IHVuZGVmaW5lZCkgPyBkYXRhLnN1Y2Nlc3MgOiBmdW5jdGlvbiAoKSB7XG4gICAgfTtcbiAgICBkYXRhLmVycm9yID0gKGRhdGEuZXJyb3IgIT09IHVuZGVmaW5lZCkgPyBkYXRhLmVycm9yIDogZnVuY3Rpb24gKCkge1xuICAgIH07XG4gICAgZGF0YS5oZWFkZXJzID0gKGRhdGEuaGVhZGVycyAhPT0gdW5kZWZpbmVkKSA/IGRhdGEuaGVhZGVycyA6IHt9O1xuICAgIGRhdGEuZXh0cmFDYWxsYmFjayA9IChkYXRhLmV4dHJhQ2FsbGJhY2sgIT09IHVuZGVmaW5lZCkgPyBkYXRhLmV4dHJhQ2FsbGJhY2sgOiBmdW5jdGlvbiAoKSB7XG4gICAgfTtcblxuICAgIC8vIGNyb3NzIGJyb3dzZXIgQ09SUyBzdXBwb3J0XG4gICAgb2JqLnhociA9IHRoaXMuY3JlYXRlQ09SU1JlcXVlc3QoZGF0YS50eXBlLCBkYXRhLnVybCk7XG5cbiAgICBvYmoueGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGRhdGEuZXh0cmFDYWxsYmFjayhkYXRhLCBvYmoueGhyKTtcbiAgICAgIGRhdGEuc3VjY2VzcyhvYmoueGhyLnJlc3BvbnNlVGV4dCwgZGF0YSwgb2JqLnhocik7XG4gICAgfTtcblxuICAgIG9iai54aHIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGRhdGEuZXJyb3Iob2JqLnhoci5zdGF0dXMpO1xuICAgIH07XG5cbiAgICBpZiAodHlwZW9mIFhEb21haW5SZXF1ZXN0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKHNpemVvZihkYXRhLmhlYWRlcnMpID4gMCkge1xuICAgICAgICB2YXIgaXRlbTtcbiAgICAgICAgZm9yIChpdGVtIGluIGRhdGEuaGVhZGVycykge1xuICAgICAgICAgIG9iai54aHIuc2V0UmVxdWVzdEhlYWRlcihpdGVtLCBkYXRhLmhlYWRlcnNbaXRlbV0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKChkYXRhLnR5cGUgPT09ICdQT1NUJyB8fCBkYXRhLnR5cGUgPT09ICdQVVQnKSAmJiBzaXplb2YoZGF0YS5oZWFkZXJzKSA9PT0gMCkge1xuICAgICAgICBvYmoueGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvYmoueGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICd0ZXh0L3BsYWluJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgb2JqLnhoci5zZW5kKEpTT04uc3RyaW5naWZ5KGRhdGEuZGF0YSkpO1xuXG4gICAgcmV0dXJuIG9iai54aHI7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUubG9nKGVycik7XG4gIH1cbn07XG4iLCJpbXBvcnQgbWVyZ2VPYmplY3RzIGZyb20gJy4uL3V0aWxzL21lcmdlT2JqZWN0cyc7XG5pbXBvcnQgcXVlcnkgZnJvbSAnLi4vdXRpbHMvcXVlcnknO1xuXG4vLyB0YWtlbiByZWZlcmVuY2UgZnJvbSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy80ODIzNDY5Ni9ob3ctdG8tcHV0LWEtZ2lmLXdpdGgtY2FudmFzLzQ4MzQ4NTY3I2Fuc3dlci00ODM0ODU2N1xuY29uc3QgR0lGID0gZnVuY3Rpb24gKCkge1xuICB2YXIgdGltZXJJRDsgLy8gdGltZXIgaGFuZGxlIGZvciBzZXQgdGltZSBvdXQgdXNhZ2VcbiAgdmFyIHN0OyAvLyBob2xkcyB0aGUgc3RyZWFtIG9iamVjdCB3aGVuIGxvYWRpbmcuXG4gIHZhciBpbnRlcmxhY2VPZmZzZXRzID0gWzAsIDQsIDIsIDFdOyAvLyB1c2VkIGluIGRlLWludGVybGFjaW5nLlxuICB2YXIgaW50ZXJsYWNlU3RlcHMgPSBbOCwgOCwgNCwgMl07XG4gIHZhciBpbnRlcmxhY2VkQnVmU2l6ZTsgLy8gdGhpcyBob2xkcyBhIGJ1ZmZlciB0byBkZSBpbnRlcmxhY2UuIENyZWF0ZWQgb24gdGhlIGZpcnN0IGZyYW1lIGFuZCB3aGVuIHNpemUgY2hhbmdlZFxuICB2YXIgZGVpbnRlcmxhY2VCdWY7XG4gIHZhciBwaXhlbEJ1ZlNpemU7IC8vIHRoaXMgaG9sZHMgYSBidWZmZXIgZm9yIHBpeGVscy4gQ3JlYXRlZCBvbiB0aGUgZmlyc3QgZnJhbWUgYW5kIHdoZW4gc2l6ZSBjaGFuZ2VkXG4gIHZhciBwaXhlbEJ1ZjtcbiAgY29uc3QgR0lGX0ZJTEUgPSB7IC8vIGdpZiBmaWxlIGRhdGEgaGVhZGVyc1xuICAgIEdDRXh0OiAweEY5LFxuICAgIENPTU1FTlQ6IDB4RkUsXG4gICAgQVBQRXh0OiAweEZGLFxuICAgIFVOS05PV046IDB4MDEsIC8vIG5vdCBzdXJlIHdoYXQgdGhpcyBpcyBidXQgbmVlZCB0byBza2lwIGl0IGluIHBhcnNlclxuICAgIElNQUdFOiAweDJDLFxuICAgIEVPRjogNTksIC8vIFRoaXMgaXMgZW50ZXJlZCBhcyBkZWNpbWFsXG4gICAgRVhUOiAweDIxXG4gIH07XG5cbiAgLy8gc2ltcGxlIGJ1ZmZlcmVkIHN0cmVhbSB1c2VkIHRvIHJlYWQgZnJvbSB0aGUgZmlsZVxuICB2YXIgU3RyZWFtID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICB0aGlzLmRhdGEgPSBuZXcgVWludDhDbGFtcGVkQXJyYXkoZGF0YSk7XG4gICAgdGhpcy5wb3MgPSAwO1xuICAgIHZhciBsZW4gPSB0aGlzLmRhdGEubGVuZ3RoO1xuICAgIHRoaXMuZ2V0U3RyaW5nID0gZnVuY3Rpb24gKGNvdW50KSB7IC8vIHJldHVybnMgYSBzdHJpbmcgZnJvbSBjdXJyZW50IHBvcyBvZiBsZW4gY291bnRcbiAgICAgIHZhciBzID0gJyc7XG4gICAgICB3aGlsZSAoY291bnQtLSkge1xuICAgICAgICBzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUodGhpcy5kYXRhW3RoaXMucG9zKytdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzO1xuICAgIH07XG5cbiAgICB0aGlzLnJlYWRTdWJCbG9ja3MgPSBmdW5jdGlvbiAoKSB7IC8vIHJlYWRzIGEgc2V0IG9mIGJsb2NrcyBhcyBhIHN0cmluZ1xuICAgICAgdmFyIHNpemU7XG4gICAgICB2YXIgY291bnQ7XG4gICAgICB2YXIgZGF0YSA9ICcnO1xuICAgICAgZG8ge1xuICAgICAgICBjb3VudCA9IHNpemUgPSB0aGlzLmRhdGFbdGhpcy5wb3MrK107XG4gICAgICAgIHdoaWxlIChjb3VudC0tKSB7XG4gICAgICAgICAgZGF0YSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHRoaXMuZGF0YVt0aGlzLnBvcysrXSk7XG4gICAgICAgIH1cbiAgICAgIH0gd2hpbGUgKHNpemUgIT09IDAgJiYgdGhpcy5wb3MgPCBsZW4pO1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfTtcblxuICAgIHRoaXMucmVhZFN1YkJsb2Nrc0IgPSBmdW5jdGlvbiAoKSB7IC8vIHJlYWRzIGEgc2V0IG9mIGJsb2NrcyBhcyBiaW5hcnlcbiAgICAgIHZhciBzaXplO1xuICAgICAgdmFyIGNvdW50O1xuICAgICAgdmFyIGRhdGEgPSBbXTtcbiAgICAgIGRvIHtcbiAgICAgICAgY291bnQgPSBzaXplID0gdGhpcy5kYXRhW3RoaXMucG9zKytdO1xuICAgICAgICB3aGlsZSAoY291bnQtLSkge1xuICAgICAgICAgIGRhdGEucHVzaCh0aGlzLmRhdGFbdGhpcy5wb3MrK10pO1xuICAgICAgICB9XG4gICAgICB9IHdoaWxlIChzaXplICE9PSAwICYmIHRoaXMucG9zIDwgbGVuKTtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH07XG4gIH07XG5cbiAgLy8gTFpXIGRlY29kZXIgdW5jb21wcmVzc2VkIGVhY2ggZnJhbWVzIHBpeGVsc1xuICAvLyB0aGlzIG5lZWRzIHRvIGJlIG9wdGltaXNlZC5cbiAgLy8gbWluU2l6ZSBpcyB0aGUgbWluIGRpY3Rpb25hcnkgYXMgcG93ZXJzIG9mIHR3b1xuICAvLyBzaXplIGFuZCBkYXRhIGlzIHRoZSBjb21wcmVzc2VkIHBpeGVsc1xuICBmdW5jdGlvbiBsendEZWNvZGUgKG1pblNpemUsIGRhdGEpIHtcbiAgICB2YXIgaSwgcGl4ZWxQb3MsIHBvcywgY2xlYXIsIGVvZCwgc2l6ZSwgZG9uZSwgZGljLCBjb2RlLCBsYXN0LCBkLCBsZW47XG4gICAgcG9zID0gcGl4ZWxQb3MgPSAwO1xuICAgIGRpYyA9IFtdO1xuICAgIGNsZWFyID0gMSA8PCBtaW5TaXplO1xuICAgIGVvZCA9IGNsZWFyICsgMTtcbiAgICBzaXplID0gbWluU2l6ZSArIDE7XG4gICAgZG9uZSA9IGZhbHNlO1xuICAgIHdoaWxlICghZG9uZSkgeyAvLyBKYXZhU2NyaXB0IG9wdGltaXNlcnMgbGlrZSBhIGNsZWFyIGV4aXQgdGhvdWdoIEkgbmV2ZXIgdXNlICdkb25lJyBhcGFydCBmcm9tIGZvb2xpbmcgdGhlIG9wdGltaXNlclxuICAgICAgbGFzdCA9IGNvZGU7XG4gICAgICBjb2RlID0gMDtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgaWYgKGRhdGFbcG9zID4+IDNdICYgKDEgPDwgKHBvcyAmIDcpKSkge1xuICAgICAgICAgIGNvZGUgfD0gMSA8PCBpO1xuICAgICAgICB9XG4gICAgICAgIHBvcysrO1xuICAgICAgfVxuICAgICAgaWYgKGNvZGUgPT09IGNsZWFyKSB7IC8vIGNsZWFyIGFuZCByZXNldCB0aGUgZGljdGlvbmFyeVxuICAgICAgICBkaWMgPSBbXTtcbiAgICAgICAgc2l6ZSA9IG1pblNpemUgKyAxO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY2xlYXI7IGkrKykge1xuICAgICAgICAgIGRpY1tpXSA9IFtpXTtcbiAgICAgICAgfVxuICAgICAgICBkaWNbY2xlYXJdID0gW107XG4gICAgICAgIGRpY1tlb2RdID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChjb2RlID09PSBlb2QpIHtcbiAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvZGUgPj0gZGljLmxlbmd0aCkge1xuICAgICAgICAgIGRpYy5wdXNoKGRpY1tsYXN0XS5jb25jYXQoZGljW2xhc3RdWzBdKSk7XG4gICAgICAgIH0gZWxzZSBpZiAobGFzdCAhPT0gY2xlYXIpIHtcbiAgICAgICAgICBkaWMucHVzaChkaWNbbGFzdF0uY29uY2F0KGRpY1tjb2RlXVswXSkpO1xuICAgICAgICB9XG4gICAgICAgIGQgPSBkaWNbY29kZV07XG4gICAgICAgIGxlbiA9IGQubGVuZ3RoO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBwaXhlbEJ1ZltwaXhlbFBvcysrXSA9IGRbaV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpYy5sZW5ndGggPT09ICgxIDw8IHNpemUpICYmIHNpemUgPCAxMikge1xuICAgICAgICAgIHNpemUrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlQ29sb3VyVGFibGUgKGNvdW50KSB7IC8vIGdldCBhIGNvbG91ciB0YWJsZSBvZiBsZW5ndGggY291bnQgIEVhY2ggZW50cnkgaXMgMyBieXRlcywgZm9yIFJHQi5cbiAgICB2YXIgY29sb3VycyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgY29sb3Vycy5wdXNoKFtzdC5kYXRhW3N0LnBvcysrXSwgc3QuZGF0YVtzdC5wb3MrK10sIHN0LmRhdGFbc3QucG9zKytdXSk7XG4gICAgfVxuICAgIHJldHVybiBjb2xvdXJzO1xuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2UgKCkgeyAvLyByZWFkIHRoZSBoZWFkZXIuIFRoaXMgaXMgdGhlIHN0YXJ0aW5nIHBvaW50IG9mIHRoZSBkZWNvZGUgYW5kIGFzeW5jIGNhbGxzIHBhcnNlQmxvY2tcbiAgICB2YXIgYml0RmllbGQ7XG4gICAgc3QucG9zICs9IDY7XG4gICAgZ2lmLndpZHRoID0gKHN0LmRhdGFbc3QucG9zKytdKSArICgoc3QuZGF0YVtzdC5wb3MrK10pIDw8IDgpO1xuICAgIGdpZi5oZWlnaHQgPSAoc3QuZGF0YVtzdC5wb3MrK10pICsgKChzdC5kYXRhW3N0LnBvcysrXSkgPDwgOCk7XG4gICAgYml0RmllbGQgPSBzdC5kYXRhW3N0LnBvcysrXTtcbiAgICBnaWYuY29sb3JSZXMgPSAoYml0RmllbGQgJiAwYjExMTAwMDApID4+IDQ7XG4gICAgZ2lmLmdsb2JhbENvbG91ckNvdW50ID0gMSA8PCAoKGJpdEZpZWxkICYgMGIxMTEpICsgMSk7XG4gICAgZ2lmLmJnQ29sb3VySW5kZXggPSBzdC5kYXRhW3N0LnBvcysrXTtcbiAgICBzdC5wb3MrKzsgLy8gaWdub3JpbmcgcGl4ZWwgYXNwZWN0IHJhdGlvLiBpZiBub3QgMCwgYXNwZWN0UmF0aW8gPSAocGl4ZWxBc3BlY3RSYXRpbyArIDE1KSAvIDY0XG4gICAgaWYgKGJpdEZpZWxkICYgMGIxMDAwMDAwMCkge1xuICAgICAgZ2lmLmdsb2JhbENvbG91clRhYmxlID0gcGFyc2VDb2xvdXJUYWJsZShnaWYuZ2xvYmFsQ29sb3VyQ291bnQpO1xuICAgIH0gLy8gZ2xvYmFsIGNvbG91ciBmbGFnXG4gICAgc2V0VGltZW91dChwYXJzZUJsb2NrLCAwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlQXBwRXh0ICgpIHsgLy8gZ2V0IGFwcGxpY2F0aW9uIHNwZWNpZmljIGRhdGEuIE5ldHNjYXBlIGFkZGVkIGl0ZXJhdGlvbnMgYW5kIHRlcm1pbmF0b3IuIElnbm9yaW5nIHRoYXRcbiAgICBzdC5wb3MgKz0gMTtcbiAgICBpZiAoc3QuZ2V0U3RyaW5nKDgpID09PSAnTkVUU0NBUEUnKSB7XG4gICAgICBzdC5wb3MgKz0gODtcbiAgICB9IGVsc2UgeyAvLyBpZ25vcmluZyB0aGlzIGRhdGEuIGl0ZXJhdGlvbnMgKHdvcmQpIGFuZCB0ZXJtaW5hdG9yIChieXRlKVxuICAgICAgc3QucG9zICs9IDM7IC8vIDMgYnl0ZXMgb2Ygc3RyaW5nIHVzdWFsbHkgXCIyLjBcIiB3aGVuIGlkZW50aWZpZXIgaXMgTkVUU0NBUEVcbiAgICAgIHN0LnJlYWRTdWJCbG9ja3MoKTsgLy8gdW5rbm93biBhcHAgZXh0ZW5zaW9uXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VHQ0V4dCAoKSB7IC8vIGdldCBHQyBkYXRhXG4gICAgdmFyIGJpdEZpZWxkO1xuICAgIHN0LnBvcysrO1xuICAgIGJpdEZpZWxkID0gc3QuZGF0YVtzdC5wb3MrK107XG4gICAgZ2lmLmRpc3Bvc2FsTWV0aG9kID0gKGJpdEZpZWxkICYgMGIxMTEwMCkgPj4gMjtcbiAgICBnaWYudHJhbnNwYXJlbmN5R2l2ZW4gPSAhIShiaXRGaWVsZCAmIDBiMSk7IC8vIGlnbm9yaW5nIGJpdCB0d28gdGhhdCBpcyBtYXJrZWQgYXMgIHVzZXJJbnB1dD8/P1xuICAgIGdpZi5kZWxheVRpbWUgPSAoc3QuZGF0YVtzdC5wb3MrK10pICsgKChzdC5kYXRhW3N0LnBvcysrXSkgPDwgOCk7XG4gICAgZ2lmLnRyYW5zcGFyZW5jeUluZGV4ID0gc3QuZGF0YVtzdC5wb3MrK107XG4gICAgc3QucG9zKys7XG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZUltZyAoKSB7IC8vIGRlY29kZXMgaW1hZ2UgZGF0YSB0byBjcmVhdGUgdGhlIGluZGV4ZWQgcGl4ZWwgaW1hZ2VcbiAgICB2YXIgZGVpbnRlcmxhY2U7XG4gICAgdmFyIGZyYW1lO1xuICAgIHZhciBiaXRGaWVsZDtcblxuICAgIGRlaW50ZXJsYWNlID0gZnVuY3Rpb24gKHdpZHRoKSB7IC8vIGRlIGludGVybGFjZSBwaXhlbCBkYXRhIGlmIG5lZWRlZFxuICAgICAgdmFyIGxpbmVzLCBmcm9tTGluZSwgcGFzcywgdG9MaW5lO1xuICAgICAgbGluZXMgPSBwaXhlbEJ1ZlNpemUgLyB3aWR0aDtcbiAgICAgIGZyb21MaW5lID0gMDtcbiAgICAgIGlmIChpbnRlcmxhY2VkQnVmU2l6ZSAhPT0gcGl4ZWxCdWZTaXplKSB7IC8vIGNyZWF0ZSB0aGUgYnVmZmVyIGlmIHNpemUgY2hhbmdlZCBvciB1bmRlZmluZWQuXG4gICAgICAgIGRlaW50ZXJsYWNlQnVmID0gbmV3IFVpbnQ4QXJyYXkocGl4ZWxCdWZTaXplKTtcbiAgICAgICAgaW50ZXJsYWNlZEJ1ZlNpemUgPSBwaXhlbEJ1ZlNpemU7XG4gICAgICB9XG4gICAgICBmb3IgKHBhc3MgPSAwOyBwYXNzIDwgNDsgcGFzcysrKSB7XG4gICAgICAgIGZvciAodG9MaW5lID0gaW50ZXJsYWNlT2Zmc2V0c1twYXNzXTsgdG9MaW5lIDwgbGluZXM7IHRvTGluZSArPSBpbnRlcmxhY2VTdGVwc1twYXNzXSkge1xuICAgICAgICAgIGRlaW50ZXJsYWNlQnVmLnNldChwaXhlbEJ1Zi5zdWJBcnJheShmcm9tTGluZSwgZnJvbUxpbmUgKyB3aWR0aCksIHRvTGluZSAqIHdpZHRoKTtcbiAgICAgICAgICBmcm9tTGluZSArPSB3aWR0aDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgZnJhbWUgPSB7fTtcbiAgICBnaWYuZnJhbWVzLnB1c2goZnJhbWUpO1xuICAgIGZyYW1lLmRpc3Bvc2FsTWV0aG9kID0gZ2lmLmRpc3Bvc2FsTWV0aG9kO1xuICAgIGZyYW1lLnRpbWUgPSBnaWYubGVuZ3RoO1xuICAgIGZyYW1lLmRlbGF5ID0gZ2lmLmRlbGF5VGltZSAqIDEwO1xuICAgIGdpZi5sZW5ndGggKz0gZnJhbWUuZGVsYXk7XG4gICAgaWYgKGdpZi50cmFuc3BhcmVuY3lHaXZlbikge1xuICAgICAgZnJhbWUudHJhbnNwYXJlbmN5SW5kZXggPSBnaWYudHJhbnNwYXJlbmN5SW5kZXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZyYW1lLnRyYW5zcGFyZW5jeUluZGV4ID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBmcmFtZS5sZWZ0UG9zID0gKHN0LmRhdGFbc3QucG9zKytdKSArICgoc3QuZGF0YVtzdC5wb3MrK10pIDw8IDgpO1xuICAgIGZyYW1lLnRvcFBvcyA9IChzdC5kYXRhW3N0LnBvcysrXSkgKyAoKHN0LmRhdGFbc3QucG9zKytdKSA8PCA4KTtcbiAgICBmcmFtZS53aWR0aCA9IChzdC5kYXRhW3N0LnBvcysrXSkgKyAoKHN0LmRhdGFbc3QucG9zKytdKSA8PCA4KTtcbiAgICBmcmFtZS5oZWlnaHQgPSAoc3QuZGF0YVtzdC5wb3MrK10pICsgKChzdC5kYXRhW3N0LnBvcysrXSkgPDwgOCk7XG4gICAgYml0RmllbGQgPSBzdC5kYXRhW3N0LnBvcysrXTtcbiAgICBmcmFtZS5sb2NhbENvbG91clRhYmxlRmxhZyA9ICEhKGJpdEZpZWxkICYgMGIxMDAwMDAwMCk7XG4gICAgaWYgKGZyYW1lLmxvY2FsQ29sb3VyVGFibGVGbGFnKSB7XG4gICAgICBmcmFtZS5sb2NhbENvbG91clRhYmxlID0gcGFyc2VDb2xvdXJUYWJsZSgxIDw8ICgoYml0RmllbGQgJiAwYjExMSkgKyAxKSk7XG4gICAgfVxuICAgIGlmIChwaXhlbEJ1ZlNpemUgIT09IGZyYW1lLndpZHRoICogZnJhbWUuaGVpZ2h0KSB7IC8vIGNyZWF0ZSBhIHBpeGVsIGJ1ZmZlciBpZiBub3QgeWV0IGNyZWF0ZWQgb3IgaWYgY3VycmVudCBmcmFtZSBzaXplIGlzIGRpZmZlcmVudCBmcm9tIHByZXZpb3VzXG4gICAgICBwaXhlbEJ1ZiA9IG5ldyBVaW50OEFycmF5KGZyYW1lLndpZHRoICogZnJhbWUuaGVpZ2h0KTtcbiAgICAgIHBpeGVsQnVmU2l6ZSA9IGZyYW1lLndpZHRoICogZnJhbWUuaGVpZ2h0O1xuICAgIH1cbiAgICBsendEZWNvZGUoc3QuZGF0YVtzdC5wb3MrK10sIHN0LnJlYWRTdWJCbG9ja3NCKCkpOyAvLyBkZWNvZGUgdGhlIHBpeGVsc1xuICAgIGlmIChiaXRGaWVsZCAmIDBiMTAwMDAwMCkgeyAvLyBkZSBpbnRlcmxhY2UgaWYgbmVlZGVkXG4gICAgICBmcmFtZS5pbnRlcmxhY2VkID0gdHJ1ZTtcbiAgICAgIGRlaW50ZXJsYWNlKGZyYW1lLndpZHRoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZnJhbWUuaW50ZXJsYWNlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBwcm9jZXNzRnJhbWUoZnJhbWUpOyAvLyBjb252ZXJ0IHRvIGNhbnZhcyBpbWFnZVxuICB9XG5cbiAgZnVuY3Rpb24gcHJvY2Vzc0ZyYW1lIChmcmFtZSkgeyAvLyBjcmVhdGVzIGEgUkdCQSBjYW52YXMgaW1hZ2UgZnJvbSB0aGUgaW5kZXhlZCBwaXhlbCBkYXRhLlxuICAgIHZhciBjdDtcbiAgICB2YXIgY0RhdGE7XG4gICAgdmFyIGRhdDtcbiAgICB2YXIgcGl4Q291bnQ7XG4gICAgdmFyIGluZDtcbiAgICB2YXIgdXNlVDtcbiAgICB2YXIgaTtcbiAgICB2YXIgcGl4ZWw7XG4gICAgdmFyIHBEYXQ7XG4gICAgdmFyIGNvbDtcbiAgICAvLyB2YXIgZnJhbWU7XG4gICAgdmFyIHRpO1xuXG4gICAgZnJhbWUuaW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBmcmFtZS5pbWFnZS53aWR0aCA9IGdpZi53aWR0aDtcbiAgICBmcmFtZS5pbWFnZS5oZWlnaHQgPSBnaWYuaGVpZ2h0O1xuICAgIGZyYW1lLmltYWdlLmN0eCA9IGZyYW1lLmltYWdlLmdldENvbnRleHQoJzJkJyk7XG4gICAgY3QgPSBmcmFtZS5sb2NhbENvbG91clRhYmxlRmxhZyA/IGZyYW1lLmxvY2FsQ29sb3VyVGFibGUgOiBnaWYuZ2xvYmFsQ29sb3VyVGFibGU7XG4gICAgaWYgKGdpZi5sYXN0RnJhbWUgPT09IG51bGwpIHtcbiAgICAgIGdpZi5sYXN0RnJhbWUgPSBmcmFtZTtcbiAgICB9XG4gICAgdXNlVCA9IChnaWYubGFzdEZyYW1lLmRpc3Bvc2FsTWV0aG9kID09PSAyIHx8IGdpZi5sYXN0RnJhbWUuZGlzcG9zYWxNZXRob2QgPT09IDMpO1xuICAgIGlmICghdXNlVCkge1xuICAgICAgZnJhbWUuaW1hZ2UuY3R4LmRyYXdJbWFnZShnaWYubGFzdEZyYW1lLmltYWdlLCAwLCAwLCBnaWYud2lkdGgsIGdpZi5oZWlnaHQpO1xuICAgIH1cbiAgICBjRGF0YSA9IGZyYW1lLmltYWdlLmN0eC5nZXRJbWFnZURhdGEoZnJhbWUubGVmdFBvcywgZnJhbWUudG9wUG9zLCBmcmFtZS53aWR0aCwgZnJhbWUuaGVpZ2h0KTtcbiAgICB0aSA9IGZyYW1lLnRyYW5zcGFyZW5jeUluZGV4O1xuICAgIGRhdCA9IGNEYXRhLmRhdGE7XG4gICAgaWYgKGZyYW1lLmludGVybGFjZWQpIHtcbiAgICAgIHBEYXQgPSBkZWludGVybGFjZUJ1ZjtcbiAgICB9IGVsc2Uge1xuICAgICAgcERhdCA9IHBpeGVsQnVmO1xuICAgIH1cbiAgICBwaXhDb3VudCA9IHBEYXQubGVuZ3RoO1xuICAgIGluZCA9IDA7XG4gICAgZm9yIChpID0gMDsgaSA8IHBpeENvdW50OyBpKyspIHtcbiAgICAgIHBpeGVsID0gcERhdFtpXTtcbiAgICAgIGNvbCA9IGN0W3BpeGVsXTtcbiAgICAgIGlmICh0aSAhPT0gcGl4ZWwpIHtcbiAgICAgICAgZGF0W2luZCsrXSA9IGNvbFswXTtcbiAgICAgICAgZGF0W2luZCsrXSA9IGNvbFsxXTtcbiAgICAgICAgZGF0W2luZCsrXSA9IGNvbFsyXTtcbiAgICAgICAgZGF0W2luZCsrXSA9IDI1NTsgLy8gT3BhcXVlLlxuICAgICAgfSBlbHNlIGlmICh1c2VUKSB7XG4gICAgICAgIGRhdFtpbmQgKyAzXSA9IDA7IC8vIFRyYW5zcGFyZW50LlxuICAgICAgICBpbmQgKz0gNDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluZCArPSA0O1xuICAgICAgfVxuICAgIH1cbiAgICBmcmFtZS5pbWFnZS5jdHgucHV0SW1hZ2VEYXRhKGNEYXRhLCBmcmFtZS5sZWZ0UG9zLCBmcmFtZS50b3BQb3MpO1xuICAgIGdpZi5sYXN0RnJhbWUgPSBmcmFtZTtcbiAgICBpZiAoIWdpZi53YWl0VGlsbERvbmUgJiYgdHlwZW9mIGdpZi5vbmxvYWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGRvT25sb2FkRXZlbnQoKTtcbiAgICB9Ly8gaWYgIXdhaXRUaWxsRG9uZSB0aGUgY2FsbCBvbmxvYWQgbm93IGFmdGVyIGZpcnN0IGZyYW1lIGlzIGxvYWRlZFxuICB9O1xuXG4gIGZ1bmN0aW9uIGZpbm5pc2hlZCAoKSB7IC8vIGNhbGxlZCB3aGVuIHRoZSBsb2FkIGhhcyBjb21wbGV0ZWRcbiAgICBnaWYubG9hZGluZyA9IGZhbHNlO1xuICAgIGdpZi5mcmFtZUNvdW50ID0gZ2lmLmZyYW1lcy5sZW5ndGg7XG4gICAgc3QgPSB1bmRlZmluZWQ7XG4gICAgZ2lmLmNvbXBsZXRlID0gdHJ1ZTtcbiAgICBnaWYuZGlzcG9zYWxNZXRob2QgPSB1bmRlZmluZWQ7XG4gICAgZ2lmLnRyYW5zcGFyZW5jeUdpdmVuID0gdW5kZWZpbmVkO1xuICAgIGdpZi5kZWxheVRpbWUgPSB1bmRlZmluZWQ7XG4gICAgZ2lmLnRyYW5zcGFyZW5jeUluZGV4ID0gdW5kZWZpbmVkO1xuICAgIGdpZi53YWl0VGlsbERvbmUgPSB1bmRlZmluZWQ7XG4gICAgcGl4ZWxCdWYgPSB1bmRlZmluZWQ7IC8vIGRlcmVmZXJlbmNlIHBpeGVsIGJ1ZmZlclxuICAgIGRlaW50ZXJsYWNlQnVmID0gdW5kZWZpbmVkOyAvLyBkZXJlZmVyZW5jZSBpbnRlcmxhY2UgYnVmZiAobWF5IG9yIG1heSBub3QgYmUgdXNlZCk7XG4gICAgcGl4ZWxCdWZTaXplID0gdW5kZWZpbmVkO1xuICAgIGRlaW50ZXJsYWNlQnVmID0gdW5kZWZpbmVkO1xuICAgIGdpZi5jdXJyZW50RnJhbWUgPSAwO1xuICAgIGlmIChnaWYuZnJhbWVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGdpZi5pbWFnZSA9IGdpZi5mcmFtZXNbMF0uaW1hZ2U7XG4gICAgfVxuICAgIGRvT25sb2FkRXZlbnQoKTtcbiAgICBpZiAodHlwZW9mIGdpZi5vbmxvYWRhbGwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIChnaWYub25sb2FkYWxsLmJpbmQoZ2lmKSkoe1xuICAgICAgICB0eXBlOiAnbG9hZGFsbCcsXG4gICAgICAgIHBhdGg6IFtnaWZdXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGdpZi5wbGF5T25Mb2FkKSB7XG4gICAgICBnaWYucGxheSgpO1xuICAgIH1cbiAgICBnaWYuZmluaXNoZWQoZ2lmLCBnaWYubGFzdEZyYW1lKTtcbiAgICAvLyBnaWYubGFzdEZyYW1lID0gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbmNlbGVkICgpIHsgLy8gY2FsbGVkIGlmIHRoZSBsb2FkIGhhcyBiZWVuIGNhbmNlbGxlZFxuICAgIGZpbm5pc2hlZCgpO1xuICAgIGlmICh0eXBlb2YgZ2lmLmNhbmNlbENhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAoZ2lmLmNhbmNlbENhbGxiYWNrLmJpbmQoZ2lmKSkoe1xuICAgICAgICB0eXBlOiAnY2FuY2VsZWQnLFxuICAgICAgICBwYXRoOiBbZ2lmXVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VFeHQgKCkgeyAvLyBwYXJzZSBleHRlbmRlZCBibG9ja3NcbiAgICBjb25zdCBibG9ja0lEID0gc3QuZGF0YVtzdC5wb3MrK107XG4gICAgaWYgKGJsb2NrSUQgPT09IEdJRl9GSUxFLkdDRXh0KSB7XG4gICAgICBwYXJzZUdDRXh0KCk7XG4gICAgfSBlbHNlIGlmIChibG9ja0lEID09PSBHSUZfRklMRS5DT01NRU5UKSB7XG4gICAgICBnaWYuY29tbWVudCArPSBzdC5yZWFkU3ViQmxvY2tzKCk7XG4gICAgfSBlbHNlIGlmIChibG9ja0lEID09PSBHSUZfRklMRS5BUFBFeHQpIHtcbiAgICAgIHBhcnNlQXBwRXh0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChibG9ja0lEID09PSBHSUZfRklMRS5VTktOT1dOKSB7XG4gICAgICAgIHN0LnBvcyArPSAxMztcbiAgICAgIH0gLy8gc2tpcCB1bmtub3cgYmxvY2tcbiAgICAgIHN0LnJlYWRTdWJCbG9ja3MoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZUJsb2NrICgpIHsgLy8gcGFyc2luZyB0aGUgYmxvY2tzXG4gICAgaWYgKGdpZi5jYW5jZWwgIT09IHVuZGVmaW5lZCAmJiBnaWYuY2FuY2VsID09PSB0cnVlKSB7XG4gICAgICBjYW5jZWxlZCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGJsb2NrSWQgPSBzdC5kYXRhW3N0LnBvcysrXTtcbiAgICBpZiAoYmxvY2tJZCA9PT0gR0lGX0ZJTEUuSU1BR0UpIHsgLy8gaW1hZ2UgYmxvY2tcbiAgICAgIHBhcnNlSW1nKCk7XG4gICAgICBpZiAoZ2lmLmZpcnN0RnJhbWVPbmx5KSB7XG4gICAgICAgIGZpbm5pc2hlZCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChibG9ja0lkID09PSBHSUZfRklMRS5FT0YpIHtcbiAgICAgIGZpbm5pc2hlZCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJzZUV4dCgpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZ2lmLm9ucHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGdpZi5vbnByb2dyZXNzKHtcbiAgICAgICAgYnl0ZXNSZWFkOiBzdC5wb3MsXG4gICAgICAgIHRvdGFsQnl0ZXM6IHN0LmRhdGEubGVuZ3RoLFxuICAgICAgICBmcmFtZTogZ2lmLmZyYW1lcy5sZW5ndGhcbiAgICAgIH0pO1xuICAgIH1cbiAgICBzZXRUaW1lb3V0KHBhcnNlQmxvY2ssIDApOyAvLyBwYXJzaW5nIGZyYW1lIGFzeW5jIHNvIHByb2Nlc3NlcyBjYW4gZ2V0IHNvbWUgdGltZSBpbi5cbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbmNlbExvYWQgKGNhbGxiYWNrKSB7IC8vIGNhbmNlbHMgdGhlIGxvYWRpbmcuIFRoaXMgd2lsbCBjYW5jZWwgdGhlIGxvYWQgYmVmb3JlIHRoZSBuZXh0IGZyYW1lIGlzIGRlY29kZWRcbiAgICBpZiAoZ2lmLmNvbXBsZXRlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGdpZi5jYW5jZWxDYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIGdpZi5jYW5jZWwgPSB0cnVlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gZXJyb3IgKHR5cGUpIHtcbiAgICBpZiAodHlwZW9mIGdpZi5vbmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAoZ2lmLm9uZXJyb3IuYmluZCh0aGlzKSkoe1xuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICBwYXRoOiBbdGhpc11cbiAgICAgIH0pO1xuICAgIH1cbiAgICBnaWYub25sb2FkID0gZ2lmLm9uZXJyb3IgPSB1bmRlZmluZWQ7XG4gICAgZ2lmLmxvYWRpbmcgPSBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRvT25sb2FkRXZlbnQgKCkgeyAvLyBmaXJlIG9ubG9hZCBldmVudCBpZiBzZXRcbiAgICBnaWYuY3VycmVudEZyYW1lID0gMDtcbiAgICBnaWYubmV4dEZyYW1lQXQgPSBnaWYubGFzdEZyYW1lQXQgPSBuZXcgRGF0ZSgpLnZhbHVlT2YoKTsgLy8ganVzdCBzZXRzIHRoZSB0aW1lIG5vd1xuICAgIGlmICh0eXBlb2YgZ2lmLm9ubG9hZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgKGdpZi5vbmxvYWQuYmluZChnaWYpKSh7XG4gICAgICAgIHR5cGU6ICdsb2FkJyxcbiAgICAgICAgcGF0aDogW2dpZl1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBnaWYub25lcnJvciA9IGdpZi5vbmxvYWQgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBkYXRhTG9hZGVkIChkYXRhKSB7IC8vIERhdGEgbG9hZGVkIGNyZWF0ZSBzdHJlYW0gYW5kIHBhcnNlXG4gICAgc3QgPSBuZXcgU3RyZWFtKGRhdGEpO1xuICAgIHBhcnNlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBsb2FkR2lmIChmaWxlbmFtZSkgeyAvLyBzdGFydHMgdGhlIGxvYWRcbiAgICB2YXIgYWpheCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIGFqYXgucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJztcbiAgICBhamF4Lm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoZS50YXJnZXQuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgZXJyb3IoJ0ZpbGUgbm90IGZvdW5kJyk7XG4gICAgICB9IGVsc2UgaWYgKGUudGFyZ2V0LnN0YXR1cyA+PSAyMDAgJiYgZS50YXJnZXQuc3RhdHVzIDwgMzAwKSB7XG4gICAgICAgIGRhdGFMb2FkZWQoYWpheC5yZXNwb25zZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlcnJvcignTG9hZGluZyBlcnJvciA6ICcgKyBlLnRhcmdldC5zdGF0dXMpO1xuICAgICAgfVxuICAgIH07XG4gICAgYWpheC5vcGVuKCdHRVQnLCBmaWxlbmFtZSwgdHJ1ZSk7XG4gICAgYWpheC5zZW5kKCk7XG4gICAgYWpheC5vbmVycm9yID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGVycm9yKCdGaWxlIGVycm9yJyk7XG4gICAgfTtcbiAgICB0aGlzLnNyYyA9IGZpbGVuYW1lO1xuICAgIHRoaXMubG9hZGluZyA9IHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiBwbGF5ICgpIHsgLy8gc3RhcnRzIHBsYXkgaWYgcGF1c2VkXG4gICAgaWYgKCFnaWYucGxheWluZykge1xuICAgICAgZ2lmLnBhdXNlZCA9IGZhbHNlO1xuICAgICAgZ2lmLnBsYXlpbmcgPSB0cnVlO1xuICAgICAgcGxheWluZygpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBhdXNlICgpIHsgLy8gc3RvcHMgcGxheVxuICAgIGdpZi5wYXVzZWQgPSB0cnVlO1xuICAgIGdpZi5wbGF5aW5nID0gZmFsc2U7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVySUQpO1xuICB9XG5cbiAgZnVuY3Rpb24gdG9nZ2xlUGxheSAoKSB7XG4gICAgaWYgKGdpZi5wYXVzZWQgfHwgIWdpZi5wbGF5aW5nKSB7XG4gICAgICBnaWYucGxheSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnaWYucGF1c2UoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZWVrRnJhbWUgKGZyYW1lKSB7IC8vIHNlZWtzIHRvIGZyYW1lIG51bWJlci5cbiAgICBjbGVhclRpbWVvdXQodGltZXJJRCk7XG4gICAgZ2lmLmN1cnJlbnRGcmFtZSA9IGZyYW1lICUgZ2lmLmZyYW1lcy5sZW5ndGg7XG4gICAgaWYgKGdpZi5wbGF5aW5nKSB7XG4gICAgICBwbGF5aW5nKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdpZi5pbWFnZSA9IGdpZi5mcmFtZXNbZ2lmLmN1cnJlbnRGcmFtZV0uaW1hZ2U7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2VlayAodGltZSkgeyAvLyB0aW1lIGluIFNlY29uZHMgIC8vIHNlZWsgdG8gZnJhbWUgdGhhdCB3b3VsZCBiZSBkaXNwbGF5ZWQgYXQgdGltZVxuICAgIGNsZWFyVGltZW91dCh0aW1lcklEKTtcbiAgICBpZiAodGltZSA8IDApIHtcbiAgICAgIHRpbWUgPSAwO1xuICAgIH1cbiAgICB0aW1lICo9IDEwMDA7IC8vIGluIG1zXG4gICAgdGltZSAlPSBnaWYubGVuZ3RoO1xuICAgIHZhciBmcmFtZSA9IDA7XG4gICAgd2hpbGUgKHRpbWUgPiBnaWYuZnJhbWVzW2ZyYW1lXS50aW1lICsgZ2lmLmZyYW1lc1tmcmFtZV0uZGVsYXkgJiYgZnJhbWUgPCBnaWYuZnJhbWVzLmxlbmd0aCkge1xuICAgICAgZnJhbWUgKz0gMTtcbiAgICB9XG4gICAgZ2lmLmN1cnJlbnRGcmFtZSA9IGZyYW1lO1xuICAgIGlmIChnaWYucGxheWluZykge1xuICAgICAgcGxheWluZygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnaWYuaW1hZ2UgPSBnaWYuZnJhbWVzW2dpZi5jdXJyZW50RnJhbWVdLmltYWdlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYXlpbmcgKCkge1xuICAgIHZhciBkZWxheTtcbiAgICB2YXIgZnJhbWU7XG4gICAgaWYgKGdpZi5wbGF5U3BlZWQgPT09IDApIHtcbiAgICAgIGdpZi5wYXVzZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZ2lmLnBsYXlTcGVlZCA8IDApIHtcbiAgICAgICAgZ2lmLmN1cnJlbnRGcmFtZSAtPSAxO1xuICAgICAgICBpZiAoZ2lmLmN1cnJlbnRGcmFtZSA8IDApIHtcbiAgICAgICAgICBnaWYuY3VycmVudEZyYW1lID0gZ2lmLmZyYW1lcy5sZW5ndGggLSAxO1xuICAgICAgICB9XG4gICAgICAgIGZyYW1lID0gZ2lmLmN1cnJlbnRGcmFtZTtcbiAgICAgICAgZnJhbWUgLT0gMTtcbiAgICAgICAgaWYgKGZyYW1lIDwgMCkge1xuICAgICAgICAgIGZyYW1lID0gZ2lmLmZyYW1lcy5sZW5ndGggLSAxO1xuICAgICAgICB9XG4gICAgICAgIGRlbGF5ID0gLWdpZi5mcmFtZXNbZnJhbWVdLmRlbGF5ICogMSAvIGdpZi5wbGF5U3BlZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnaWYuY3VycmVudEZyYW1lICs9IDE7XG4gICAgICAgIGdpZi5jdXJyZW50RnJhbWUgJT0gZ2lmLmZyYW1lcy5sZW5ndGg7XG4gICAgICAgIGRlbGF5ID0gZ2lmLmZyYW1lc1tnaWYuY3VycmVudEZyYW1lXS5kZWxheSAqIDEgLyBnaWYucGxheVNwZWVkO1xuICAgICAgfVxuICAgICAgZ2lmLmltYWdlID0gZ2lmLmZyYW1lc1tnaWYuY3VycmVudEZyYW1lXS5pbWFnZTtcbiAgICAgIHRpbWVySUQgPSBzZXRUaW1lb3V0KHBsYXlpbmcsIGRlbGF5KTtcbiAgICB9XG4gIH1cblxuICB2YXIgZ2lmID0geyAvLyB0aGUgZ2lmIGltYWdlIG9iamVjdFxuICAgIG9ubG9hZDogbnVsbCwgLy8gZmlyZSBvbiBsb2FkLiBVc2Ugd2FpdFRpbGxEb25lID0gdHJ1ZSB0byBoYXZlIGxvYWQgZmlyZSBhdCBlbmQgb3IgZmFsc2UgdG8gZmlyZSBvbiBmaXJzdCBmcmFtZVxuICAgIG9uZXJyb3I6IG51bGwsIC8vIGZpcmVzIG9uIGVycm9yXG4gICAgb25wcm9ncmVzczogbnVsbCwgLy8gZmlyZXMgYSBsb2FkIHByb2dyZXNzIGV2ZW50XG4gICAgb25sb2FkYWxsOiBudWxsLCAvLyBldmVudCBmaXJlcyB3aGVuIGFsbCBmcmFtZXMgaGF2ZSBsb2FkZWQgYW5kIGdpZiBpcyByZWFkeVxuICAgIHBhdXNlZDogZmFsc2UsIC8vIHRydWUgaWYgcGF1c2VkXG4gICAgcGxheWluZzogZmFsc2UsIC8vIHRydWUgaWYgcGxheWluZ1xuICAgIHdhaXRUaWxsRG9uZTogdHJ1ZSwgLy8gSWYgdHJ1ZSBvbmxvYWQgd2lsbCBmaXJlIHdoZW4gYWxsIGZyYW1lcyBsb2FkZWQsIGlmIGZhbHNlLCBvbmxvYWQgd2lsbCBmaXJlIHdoZW4gZmlyc3QgZnJhbWUgaGFzIGxvYWRlZFxuICAgIGxvYWRpbmc6IGZhbHNlLCAvLyB0cnVlIGlmIHN0aWxsIGxvYWRpbmdcbiAgICBmaXJzdEZyYW1lT25seTogZmFsc2UsIC8vIGlmIHRydWUgb25seSBsb2FkIHRoZSBmaXJzdCBmcmFtZVxuICAgIHdpZHRoOiBudWxsLCAvLyB3aWR0aCBpbiBwaXhlbHNcbiAgICBoZWlnaHQ6IG51bGwsIC8vIGhlaWdodCBpbiBwaXhlbHNcbiAgICBmcmFtZXM6IFtdLCAvLyBhcnJheSBvZiBmcmFtZXNcbiAgICBjb21tZW50OiAnJywgLy8gY29tbWVudHMgaWYgZm91bmQgaW4gZmlsZS4gTm90ZSBJIHJlbWVtYmVyIHRoYXQgc29tZSBnaWZzIGhhdmUgY29tbWVudHMgcGVyIGZyYW1lIGlmIHNvIHRoaXMgd2lsbCBiZSBhbGwgY29tbWVudCBjb25jYXRlbmF0ZWRcbiAgICBsZW5ndGg6IDAsIC8vIGdpZiBsZW5ndGggaW4gbXMgKDEvMTAwMCBzZWNvbmQpXG4gICAgY3VycmVudEZyYW1lOiAwLCAvLyBjdXJyZW50IGZyYW1lLlxuICAgIGZyYW1lQ291bnQ6IDAsIC8vIG51bWJlciBvZiBmcmFtZXNcbiAgICBwbGF5U3BlZWQ6IDEsIC8vIHBsYXkgc3BlZWQgMSBub3JtYWwsIDIgdHdpY2UgMC41IGhhbGYsIC0xIHJldmVyc2UgZXRjLi4uXG4gICAgbGFzdEZyYW1lOiBudWxsLCAvLyB0ZW1wIGhvbGQgbGFzdCBmcmFtZSBsb2FkZWQgc28geW91IGNhbiBkaXNwbGF5IHRoZSBnaWYgYXMgaXQgbG9hZHNcbiAgICBpbWFnZTogbnVsbCwgLy8gdGhlIGN1cnJlbnQgaW1hZ2UgYXQgdGhlIGN1cnJlbnRGcmFtZVxuICAgIHBsYXlPbkxvYWQ6IHRydWUsIC8vIGlmIHRydWUgc3RhcnRzIHBsYXliYWNrIHdoZW4gbG9hZGVkXG4gICAgLy8gZnVuY3Rpb25zXG4gICAgbG9hZDogbG9hZEdpZiwgLy8gY2FsbCB0aGlzIHRvIGxvYWQgYSBmaWxlXG4gICAgY2FuY2VsOiBjYW5jZWxMb2FkLCAvLyBjYWxsIHRvIHN0b3AgbG9hZGluZ1xuICAgIHBsYXk6IHBsYXksIC8vIGNhbGwgdG8gc3RhcnQgcGxheVxuICAgIHBhdXNlOiBwYXVzZSwgLy8gY2FsbCB0byBwYXVzZVxuICAgIHNlZWs6IHNlZWssIC8vIGNhbGwgdG8gc2VlayB0byB0aW1lXG4gICAgc2Vla0ZyYW1lOiBzZWVrRnJhbWUsIC8vIGNhbGwgdG8gc2VlayB0byBmcmFtZVxuICAgIHRvZ2dsZVBsYXk6IHRvZ2dsZVBsYXksIC8vIGNhbGwgdG8gdG9nZ2xlIHBsYXkgYW5kIHBhdXNlIHN0YXRlXG4gICAgZmluaXNoZWQ6IGZ1bmN0aW9uIChpbnN0YW5jZSkge30gLy8gY2FsbCBvbiBmaW5pc2hcbiAgfTtcbiAgcmV0dXJuIGdpZjtcbn07XG5cbmV4cG9ydCBjb25zdCBDYW52YXNBbmltYXRpb24gPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIHRoaXMuc2V0dGluZ3MgPSB7XG4gICAgY29udGFpbmVyOiBudWxsLFxuICAgIGNvbnRhaW5lcldyYXBwZXI6IG51bGwsXG4gICAgZ2lmSW5zdGFuY2U6IG51bGwsXG4gICAgbGJXaWRnZXQ6IG51bGwsXG4gICAgaW1hZ2VTcmM6ICcnLFxuICAgIGN0eDogbnVsbCxcbiAgICBjYW52YXNXaWR0aDogbnVsbCxcbiAgICBjYW52YXNIZWlnaHQ6IG51bGwsXG4gICAgY2FudmFzV2lkdGhIYWxmOiBudWxsLFxuICAgIGNhbnZhc0hlaWdodEhhbGY6IG51bGwsXG4gICAgdXBkYXRlQWN0aXZlOiB0cnVlXG4gIH07XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zICE9PSAndW5kZWZpbmVkJykge1xuICAgIHRoaXMuc2V0dGluZ3MgPSBtZXJnZU9iamVjdHModGhpcy5zZXR0aW5ncywgb3B0aW9ucyk7XG4gIH1cblxuICAvLyBtYWluIHVwZGF0ZSBmdW5jdGlvblxuICBmdW5jdGlvbiB1cGRhdGUgKHRpbWVyKSB7XG4gICAgaWYgKF90aGlzLnNldHRpbmdzLnVwZGF0ZUFjdGl2ZSkge1xuICAgICAgX3RoaXMuc2V0dGluZ3MuY3R4LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTsgLy8gcmVzZXQgdHJhbnNmb3JtXG4gICAgICBpZiAoX3RoaXMuc2V0dGluZ3MuY2FudmFzV2lkdGggIT09IGlubmVyV2lkdGggfHwgX3RoaXMuc2V0dGluZ3MuY2FudmFzSGVpZ2h0ICE9PSBpbm5lckhlaWdodCkge1xuICAgICAgICBfdGhpcy5zZXR0aW5ncy5jYW52YXNXaWR0aEhhbGYgPSAoX3RoaXMuc2V0dGluZ3MuY2FudmFzV2lkdGggPSBfdGhpcy5zZXR0aW5ncy5jb250YWluZXIud2lkdGggPSBpbm5lcldpZHRoKSAvIDI7XG4gICAgICAgIF90aGlzLnNldHRpbmdzLmNhbnZhc0hlaWdodEhhbGYgPSAoX3RoaXMuc2V0dGluZ3MuY2FudmFzSGVpZ2h0ID0gX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLmhlaWdodCA9IGlubmVySGVpZ2h0KSAvIDI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5zZXR0aW5ncy5jdHguY2xlYXJSZWN0KDAsIDAsIF90aGlzLnNldHRpbmdzLmNhbnZhc1dpZHRoLCBfdGhpcy5zZXR0aW5ncy5jYW52YXNIZWlnaHQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3RoaXMuc2V0dGluZ3MuZ2lmSW5zdGFuY2UgIT09IG51bGwpIHsgLy8gSWYgZ2lmIG9iamVjdCBkZWZpbmVkXG4gICAgICAgIGlmICghX3RoaXMuc2V0dGluZ3MuZ2lmSW5zdGFuY2UubG9hZGluZykgeyAvLyBpZiBsb2FkZWRcbiAgICAgICAgICAvLyBjYW4gZG8gc29tZXRoaW5nIGhlcmVcbiAgICAgICAgfSBlbHNlIGlmIChfdGhpcy5zZXR0aW5ncy5naWZJbnN0YW5jZS5sYXN0RnJhbWUgIT09IG51bGwpIHsgLy8gU2hvd3MgZnJhbWVzIGFzIHRoZXkgbG9hZFxuICAgICAgICAgIF90aGlzLnNldHRpbmdzLmN0eC5kcmF3SW1hZ2UoX3RoaXMuc2V0dGluZ3MuZ2lmSW5zdGFuY2UubGFzdEZyYW1lLmltYWdlLCAoX3RoaXMuc2V0dGluZ3MuY2FudmFzV2lkdGhIYWxmIC0gKF90aGlzLnNldHRpbmdzLmdpZkluc3RhbmNlLndpZHRoIC8gMikpLCAoX3RoaXMuc2V0dGluZ3MuY2FudmFzSGVpZ2h0SGFsZiAtIChfdGhpcy5zZXR0aW5ncy5naWZJbnN0YW5jZS5oZWlnaHQgLyAyKSkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGUpO1xuICAgIH1cbiAgfVxuXG4gIC8vIHJlc2V0IHRyYW5zZm9ybVxuICB0aGlzLmNsZWFyQ2FudmFzID0gZnVuY3Rpb24gKCkge1xuICAgIF90aGlzLnNldHRpbmdzLmN0eC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG4gIH07XG5cbiAgdGhpcy5vdmVybGF5TGF5b3V0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgd3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1jYW52YXMtb3ZlcmxheS13cmFwcGVyJyk7XG4gICAgY2FudmFzLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LWNhbnZhcycpO1xuXG4gICAgd3JhcHBlci5hcHBlbmRDaGlsZChjYW52YXMpO1xuXG4gICAgcmV0dXJuIHdyYXBwZXI7XG4gIH07XG5cbiAgdGhpcy5pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnNldHRpbmdzLmNvbnRhaW5lciA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5zZXR0aW5ncy5jb250YWluZXJXcmFwcGVyID0gdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5iaW5kQ29udGFpbmVyLmFwcGVuZENoaWxkKF90aGlzLm92ZXJsYXlMYXlvdXQoKSk7XG4gICAgICB0aGlzLnNldHRpbmdzLmNvbnRhaW5lciA9IHF1ZXJ5KHRoaXMuc2V0dGluZ3MuY29udGFpbmVyV3JhcHBlciwgJy5jbC13aWRnZXQtY2FudmFzJyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc2V0dGluZ3MuY29udGFpbmVyICE9PSBudWxsICYmIHRoaXMuc2V0dGluZ3MuaW1hZ2VTcmMubGVuZ3RoID4gMCkge1xuICAgICAgX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyV3JhcHBlci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsgLy8gc2hvdyBjb250YWluZXJcbiAgICAgIF90aGlzLnNldHRpbmdzLmNvbnRhaW5lcldyYXBwZXIuc3R5bGUub3BhY2l0eSA9IDE7IC8vIHNob3cgY29udGFpbmVyXG4gICAgICBfdGhpcy5zZXR0aW5ncy5jdHggPSBfdGhpcy5zZXR0aW5ncy5jb250YWluZXIuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgIF90aGlzLnNldHRpbmdzLnVwZGF0ZUFjdGl2ZSA9IHRydWU7XG5cbiAgICAgIC8vIENhbiBub3QgbG9hZCBnaWYgY3Jvc3MgZG9tYWluIHVubGVzcyBpdCBoYXMgQ09SUyBoZWFkZXJcbiAgICAgIC8vIGNvbnN0IGdpZlVSTCA9IFwiaHR0cHM6Ly9nYXRld2F5LmNvbXBldGl0aW9ubGFicy5jb20vYWxleC9hc3NldHMvT2xwX1RYVUJwOTNfQ2dfQlFHc0Qvc2t1bGwtYW5pbWFpdG9uLmdpZlwiO1xuICAgICAgY29uc3QgZ2lmVVJMID0gX3RoaXMuc2V0dGluZ3MuaW1hZ2VTcmM7XG4gICAgICAvLyB0aW1lb3V0IGp1c3Qgd2FpdHMgdGlsbCBzY3JpcHQgaGFzIGJlZW4gcGFyc2VkIGFuZCBleGVjdXRlZFxuICAgICAgLy8gdGhlbiBzdGFydHMgbG9hZGluZyBhIGdpZlxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIF90aGlzLnNldHRpbmdzLmdpZkluc3RhbmNlID0gR0lGKCk7IC8vIGNyZWF0ZXMgYSBuZXcgZ2lmXG4gICAgICAgIF90aGlzLnNldHRpbmdzLmdpZkluc3RhbmNlLm9uZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdhc3NldCBsb2FkaW5nIGVycm9yICcgKyBlLnR5cGUpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5zZXR0aW5ncy5naWZJbnN0YW5jZS5sb2FkKGdpZlVSTCk7XG4gICAgICAgIF90aGlzLnNldHRpbmdzLmdpZkluc3RhbmNlLmZpbmlzaGVkID0gZnVuY3Rpb24gKGluc3RhbmNlLCBsYXN0RnJhbWUpIHtcbiAgICAgICAgICBfdGhpcy5zZXR0aW5ncy51cGRhdGVBY3RpdmUgPSBmYWxzZTtcblxuICAgICAgICAgIC8vIGRyYXcgbGFzdCBmcmFtZVxuICAgICAgICAgIC8vIF90aGlzLnNldHRpbmdzLmN0eC5kcmF3SW1hZ2UobGFzdEZyYW1lLmltYWdlLCAwLCAwKTtcbiAgICAgICAgICAvLyBfdGhpcy5zZXR0aW5ncy5jdHguZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICAgICAgICAvLyBfdGhpcy5zZXR0aW5ncy5jdHguZmlsbFRleHQoJ0dJRiBsb2FkaW5nIGZyYW1lIDIyJywgMTAsIDIwKTtcblxuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyV3JhcHBlci5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5jb250YWluZXJXcmFwcGVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB9LCAzMDApO1xuICAgICAgICAgIH0sIDIwMDApO1xuICAgICAgICB9O1xuICAgICAgfSwgMCk7XG5cbiAgICAgIF90aGlzLnNldHRpbmdzLmNhbnZhc1dpZHRoID0gX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLndpZHRoO1xuICAgICAgX3RoaXMuc2V0dGluZ3MuY2FudmFzSGVpZ2h0ID0gX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLmhlaWdodDtcbiAgICAgIF90aGlzLnNldHRpbmdzLmNhbnZhc1dpZHRoSGFsZiA9IF90aGlzLnNldHRpbmdzLmNhbnZhc1dpZHRoIC8gMjsgLy8gY2VudGVyXG4gICAgICBfdGhpcy5zZXR0aW5ncy5jYW52YXNIZWlnaHRIYWxmID0gX3RoaXMuc2V0dGluZ3MuY2FudmFzSGVpZ2h0IC8gMjtcblxuICAgICAgLy8gdHJpZ2dlciBBQ0hcbiAgICAgIC8vIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNhbnZhc0FuaW1hdGlvbi5zZXR0aW5ncy5pbWFnZVNyYyA9ICdodHRwczovL2dhdGV3YXkuY29tcGV0aXRpb25sYWJzLmNvbS9hbGV4L2Fzc2V0cy9PbHBfVFhVQnA5M19DZ19CUUdzRC9za3VsbC1hbmltYWl0b24uZ2lmJztcbiAgICAgIC8vIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNhbnZhc0FuaW1hdGlvbi5pbml0KCk7XG5cbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGUpO1xuICAgIH1cbiAgfTtcbn07XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgSWRlbnRpY29uIGZyb20gJ2lkZW50aWNvbi5qcyc7XG5pbXBvcnQganNTSEEgZnJvbSAnanNzaGEnO1xuaW1wb3J0IGNzc1ZhcnMgZnJvbSAnY3NzLXZhcnMtcG9ueWZpbGwnO1xuXG5pbXBvcnQgbWVyZ2VPYmplY3RzIGZyb20gJy4uL3V0aWxzL21lcmdlT2JqZWN0cyc7XG5pbXBvcnQgbWFwT2JqZWN0IGZyb20gJy4uL3V0aWxzL21hcE9iamVjdCc7XG5pbXBvcnQgZm9ybWF0TnVtYmVyTGVhZGluZ1plcm9zIGZyb20gJy4uL3V0aWxzL2Zvcm1hdE51bWJlckxlYWRpbmdaZXJvcyc7XG5pbXBvcnQgc3RyaW5nQ29udGFpbnMgZnJvbSAnLi4vdXRpbHMvc3RyaW5nQ29udGFpbnMnO1xuaW1wb3J0IG9iamVjdEl0ZXJhdG9yIGZyb20gJy4uL3V0aWxzL29iamVjdEl0ZXJhdG9yJztcbmltcG9ydCBxdWVyeSBmcm9tICcuLi91dGlscy9xdWVyeSc7XG5pbXBvcnQgaGFzQ2xhc3MgZnJvbSAnLi4vdXRpbHMvaGFzQ2xhc3MnO1xuaW1wb3J0IGFkZENsYXNzIGZyb20gJy4uL3V0aWxzL2FkZENsYXNzJztcbmltcG9ydCByZW1vdmVDbGFzcyBmcm9tICcuLi91dGlscy9yZW1vdmVDbGFzcyc7XG5pbXBvcnQgY2xvc2VzdCBmcm9tICcuLi91dGlscy9jbG9zZXN0JztcbmltcG9ydCBpc01vYmlsZVRhYmxldCBmcm9tICcuLi91dGlscy9pc01vYmlsZVRhYmxldCc7XG5pbXBvcnQgY2FtZWxUb0tlYmFiQ2FzZSBmcm9tICcuLi91dGlscy9jYW1lbFRvS2ViYWJDYXNlJztcblxuaW1wb3J0IGNMYWJzIGZyb20gJy4vY0xhYnMnO1xuaW1wb3J0ICcuL0FqYXgnO1xuXG5pbXBvcnQgeyBOb3RpZmljYXRpb25zIH0gZnJvbSAnLi9Ob3RpZmljYXRpb25zJztcbmltcG9ydCB7IE1pbmlTY29yZUJvYXJkIH0gZnJvbSAnLi9NaW5pU2NvcmVCb2FyZCc7XG5pbXBvcnQgeyBNYWluV2lkZ2V0IH0gZnJvbSAnLi9NYWluV2lkZ2V0JztcbmltcG9ydCB7IENhbnZhc0FuaW1hdGlvbiB9IGZyb20gJy4vQ2FudmFzQW5pbWF0aW9uJztcblxuY29uc3QgdHJhbnNsYXRpb24gPSByZXF1aXJlKGAuLi8uLi9pMThuL3RyYW5zbGF0aW9uXyR7cHJvY2Vzcy5lbnYuTEFOR30uanNvbmApO1xuXG4vKipcbiAqIE1haW4gbGVhZGVyYm9hcmQgd2lkZ2V0LCBjb250cm9scyBhbGwgYWN0aW9ucyBhbmQgaW5pdGlhdGlvbiBsb2dpYy5cbiAqIE1haW4gcmVzcG9uc2liaWxpdHkgaXMgdG8gY29udHJvbCB0aGUgaW50ZXJhY3Rpb25zIGJldHdlZW4gZGlmZmVyZW50IHdpZGdldHMvcGx1Z2lucyBhbmQgdXNlciBldmVuIGFjdGlvbnNcbiAqIEBwYXJhbSBvcHRpb25zIHtPYmplY3R9IHNldHRpbmcgcGFyYW1ldGVycyB1c2VkIHRvIG92ZXJ3cml0ZSB0aGUgZGVmYXVsdCBzZXR0aW5nc1xuICogQGNvbnN0cnVjdG9yXG4gKi9cbmV4cG9ydCBjb25zdCBMYldpZGdldCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIC8qKlxuICAgKiBMYldpZGdldCBzZXR0aW5nc1xuICAgKiBAbWVtYmVyT2YgTGJXaWRnZXRcbiAgICogQGNvbnN0YW50XG4gICAqIEB0eXBlIHsgT2JqZWN0IH1cbiAgICovXG4gIHRoaXMuc2V0dGluZ3MgPSB7XG4gICAgZGVidWc6IHRydWUsXG4gICAgYmluZENvbnRhaW5lcjogZG9jdW1lbnQuYm9keSxcbiAgICBhdXRvU3RhcnQ6IHRydWUsXG4gICAgc3NlTWVzc2FnaW5nOiBudWxsLFxuICAgIG5vdGlmaWNhdGlvbnM6IG51bGwsXG4gICAgbWluaVNjb3JlQm9hcmQ6IG51bGwsXG4gICAgY2FudmFzQW5pbWF0aW9uOiBudWxsLFxuICAgIGVuYWJsZU5vdGlmaWNhdGlvbnM6IHRydWUsXG4gICAgbWFpbldpZGdldDogbnVsbCxcbiAgICBnbG9iYWxBamF4OiBuZXcgY0xhYnMuQWpheCgpLFxuICAgIGNoZWNrQWpheDogbmV3IGNMYWJzLkFqYXgoKSxcbiAgICBsYW5ndWFnZTogcHJvY2Vzcy5lbnYuTEFORyxcbiAgICBjdXJyZW5jeTogJycsXG4gICAgc3BhY2VOYW1lOiAnJyxcbiAgICBtZW1iZXJJZDogJycsXG4gICAgZ3JvdXBzOiAnJyxcbiAgICBnYW1lSWQ6ICcnLFxuICAgIGVuZm9yY2VHYW1lTG9va3VwOiBmYWxzZSwgLy8gdG91cm5hbWVudCBsb29rdXAgd2lsbCBpbmNsdWRlL2V4Y2x1ZGUgZ2FtZSBvbmx5IHJlcXVlc3RzXG4gICAgYXBpS2V5OiAnJyxcbiAgICBtZW1iZXI6IG51bGwsXG4gICAgY29tcGV0aXRpb246IHtcbiAgICAgIGFjdGl2ZUNvbXBldGl0aW9uSWQ6IG51bGwsXG4gICAgICBhY3RpdmVDb250ZXN0SWQ6IG51bGwsXG4gICAgICBhY3RpdmVDb21wZXRpdGlvbjogbnVsbCxcbiAgICAgIGFjdGl2ZUNvbnRlc3Q6IG51bGwsXG4gICAgICByZWZyZXNoSW50ZXJ2YWw6IG51bGwsXG4gICAgICByZWZyZXNoSW50ZXJ2YWxNaWxsaXM6IDEwMDAwLFxuICAgICAgZXh0cmFjdEltYWdlSGVhZGVyOiB0cnVlIC8vIHdpbGwgZXh0cmFjdCB0aGUgZmlyc3QgZm91bmQgaW1hZ2UgaW5zaWRlIHRoZSBib2R5IHRhZyBhbmQgbW92ZSBpdCBvbiB0b3BcbiAgICB9LFxuICAgIGFjaGlldmVtZW50czoge1xuICAgICAgbGltaXQ6IDEwMCxcbiAgICAgIHRvdGFsQ291bnQ6IDAsXG4gICAgICBsaXN0OiBbXSxcbiAgICAgIGF2YWlsYWJsZVJld2FyZHM6IFtdLFxuICAgICAgcmV3YXJkczogW10sXG4gICAgICBleHBpcmVkUmV3YXJkczogW10sXG4gICAgICBleHRyYWN0SW1hZ2VIZWFkZXI6IHRydWUgLy8gd2lsbCBleHRyYWN0IHRoZSBmaXJzdCBmb3VuZCBpbWFnZSBpbnNpZGUgdGhlIGJvZHkgdGFnIGFuZCBtb3ZlIGl0IG9uIHRvcFxuICAgIH0sXG4gICAgcmV3YXJkczoge1xuICAgICAgYXZhaWxhYmxlUmV3YXJkczogW10sXG4gICAgICByZXdhcmRzOiBbXSxcbiAgICAgIGV4cGlyZWRSZXdhcmRzOiBbXSxcbiAgICAgIHJld2FyZEZvcm1hdHRlcjogZnVuY3Rpb24gKHJld2FyZCkge1xuICAgICAgICB2YXIgZGVmYXVsdFJld2FyZFZhbHVlID0gcmV3YXJkLnZhbHVlO1xuXG4gICAgICAgIGlmICh0eXBlb2YgcmV3YXJkLnVuaXRPZk1lYXN1cmUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiByZXdhcmQudW5pdE9mTWVhc3VyZS5zeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIHJld2FyZC51bml0T2ZNZWFzdXJlLnN5bWJvbCAhPT0gbnVsbCkge1xuICAgICAgICAgIGRlZmF1bHRSZXdhcmRWYWx1ZSA9IHJld2FyZC51bml0T2ZNZWFzdXJlLnN5bWJvbCArIHJld2FyZC52YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkZWZhdWx0UmV3YXJkVmFsdWU7XG4gICAgICB9XG4gICAgfSxcbiAgICBtZXNzYWdlczoge1xuICAgICAgbWVzc2FnZXM6IFtdXG4gICAgfSxcbiAgICB0b3VybmFtZW50czoge1xuICAgICAgYWN0aXZlQ29tcGV0aXRpb25JZDogbnVsbCxcbiAgICAgIHJlYWR5Q29tcGV0aXRpb25zOiBbXSwgLy8gc3RhdHVzQ29kZSAzXG4gICAgICBhY3RpdmVDb21wZXRpdGlvbnM6IFtdLCAvLyBzdGF0dXNDb2RlIDVcbiAgICAgIGZpbmlzaGVkQ29tcGV0aXRpb25zOiBbXSAvLyBzdGF0dXNDb2RlIDdcbiAgICB9LFxuICAgIGxlYWRlcmJvYXJkOiB7XG4gICAgICBmdWxsTGVhZGVyYm9hcmRTaXplOiAxMDAsXG4gICAgICByZWZyZXNoSW50ZXJ2YWxNaWxsaXM6IDMwMDAsXG4gICAgICByZWZyZXNoSW50ZXJ2YWw6IG51bGwsXG4gICAgICByZWZyZXNoTGJEYXRhSW50ZXJ2YWw6IG51bGwsXG4gICAgICBsZWFkZXJib2FyZERhdGE6IFtdLFxuICAgICAgbG9hZExlYWRlcmJvYXJkSGlzdG9yeToge30sXG4gICAgICBsYXlvdXRTZXR0aW5nczoge1xuICAgICAgICAvLyB0b3VybmFtZW50TGlzdDogdHJ1ZSxcbiAgICAgICAgaW1hZ2VCYW5uZXI6IHRydWUsXG4gICAgICAgIC8vIHRpdGxlOiB0cnVlLFxuICAgICAgICB0aXRsZUxpbmtUb0RldGFpbHNQYWdlOiBmYWxzZSAvLyBpZiBzZXQgdG8gZmFsc2Ugd2lsbCBtYWtlIHRoZSBkZXNjcmlwdGlvbiBhdmFpbGFibGUgdW5kZXIgdGl0bGVcbiAgICAgIH1cbiAgICB9LFxuICAgIG5hdmlnYXRpb246IHsgLy8gcHJpbWFyeSBuYXZpZ2F0aW9uIGl0ZW1zLCBpZiBhbGwgYXJlIGRpc2FibGVkIGluaXQgd2lsbCBmYWlsLCBpZiBvbmx5IDEgaXMgZW5hYmxlZCBpdGVtcyB3aWxsIGJlIGhpZGRlblxuICAgICAgdG91cm5hbWVudHM6IHtcbiAgICAgICAgZW5hYmxlOiB0cnVlLFxuICAgICAgICBuYXZpZ2F0aW9uQ2xhc3M6ICdjbC1tYWluLXdpZGdldC1uYXZpZ2F0aW9uLWxiJyxcbiAgICAgICAgbmF2aWdhdGlvbkNsYXNzSWNvbjogJ2NsLW1haW4td2lkZ2V0LW5hdmlnYXRpb24tbGItaWNvbicsXG4gICAgICAgIGNvbnRhaW5lckNsYXNzOiAnY2wtbWFpbi13aWRnZXQtbGInLFxuICAgICAgICBvcmRlcjogMVxuICAgICAgfSxcbiAgICAgIGFjaGlldmVtZW50czoge1xuICAgICAgICBlbmFibGU6IHRydWUsXG4gICAgICAgIG5hdmlnYXRpb25DbGFzczogJ2NsLW1haW4td2lkZ2V0LW5hdmlnYXRpb24tYWNoJyxcbiAgICAgICAgbmF2aWdhdGlvbkNsYXNzSWNvbjogJ2NsLW1haW4td2lkZ2V0LW5hdmlnYXRpb24tYWNoLWljb24nLFxuICAgICAgICBjb250YWluZXJDbGFzczogJ2NsLW1haW4td2lkZ2V0LXNlY3Rpb24tYWNoJyxcbiAgICAgICAgb3JkZXI6IDJcbiAgICAgIH0sXG4gICAgICByZXdhcmRzOiB7XG4gICAgICAgIGVuYWJsZTogdHJ1ZSxcbiAgICAgICAgbmF2aWdhdGlvbkNsYXNzOiAnY2wtbWFpbi13aWRnZXQtbmF2aWdhdGlvbi1yZXdhcmRzJyxcbiAgICAgICAgbmF2aWdhdGlvbkNsYXNzSWNvbjogJ2NsLW1haW4td2lkZ2V0LW5hdmlnYXRpb24tcmV3YXJkcy1pY29uJyxcbiAgICAgICAgY29udGFpbmVyQ2xhc3M6ICdjbC1tYWluLXdpZGdldC1zZWN0aW9uLXJld2FyZCcsXG4gICAgICAgIG9yZGVyOiAzXG4gICAgICB9LFxuICAgICAgaW5ib3g6IHtcbiAgICAgICAgZW5hYmxlOiB0cnVlLFxuICAgICAgICBuYXZpZ2F0aW9uQ2xhc3M6ICdjbC1tYWluLXdpZGdldC1uYXZpZ2F0aW9uLWluYm94JyxcbiAgICAgICAgbmF2aWdhdGlvbkNsYXNzSWNvbjogJ2NsLW1haW4td2lkZ2V0LW5hdmlnYXRpb24taW5ib3gtaWNvbicsXG4gICAgICAgIGNvbnRhaW5lckNsYXNzOiAnY2wtbWFpbi13aWRnZXQtc2VjdGlvbi1pbmJveCcsXG4gICAgICAgIG9yZGVyOiA0XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmk6IHtcbiAgICAgIGdhdGV3YXlEb21haW46IGNMYWJzLmFwaS51cmwsXG5cbiAgICAgIG1lbWJlcnM6ICcvYXBpL3YxLzpzcGFjZS9tZW1iZXJzL3JlZmVyZW5jZS86aWQnLFxuICAgICAgYXNzZXRzOiAnL2Fzc2V0cy9hdHRhY2htZW50cy86YXR0YWNobWVudElkJyxcblxuICAgICAgbWVtYmVyU1NFOiAnL2FwaS92MS86c3BhY2Uvc3NlL3JlZmVyZW5jZS86aWQnLFxuICAgICAgbWVtYmVyU1NFSGVhcnRiZWF0OiAnL2FwaS92MS86c3BhY2Uvc3NlL3JlZmVyZW5jZS86aWQvaGVhcnRiZWF0JyxcblxuICAgICAgY29tcGV0aXRpb25zOiAnL2FwaS92MS86c3BhY2UvY29tcGV0aXRpb25zJyxcbiAgICAgIGNvbXBldGl0aW9uQnlJZDogJy9hcGkvdjEvOnNwYWNlL2NvbXBldGl0aW9ucy86aWQnLFxuICAgICAgY29udGVzdExlYWRlcmJvYXJkOiAnL2FwaS92MS86c3BhY2UvY29udGVzdHMvOmlkL2xlYWRlcmJvYXJkJyxcblxuICAgICAgYWNoaWV2ZW1lbnQ6ICcvYXBpL3YxLzpzcGFjZS9hY2hpZXZlbWVudHMvOmlkJyxcbiAgICAgIGFjaGlldmVtZW50czogJy9hcGkvdjEvOnNwYWNlL2FjaGlldmVtZW50cy9tZW1iZXJzL3JlZmVyZW5jZS86aWQnLFxuICAgICAgLy8gYWNoaWV2ZW1lbnRzOiBcIi9hcGkvdjEvOnNwYWNlL2FjaGlldmVtZW50c1wiLFxuICAgICAgYWNoaWV2ZW1lbnRzUHJvZ3Jlc3Npb246ICcvYXBpL3YxLzpzcGFjZS9tZW1iZXJzL3JlZmVyZW5jZS86aWQvYWNoaWV2ZW1lbnRzJyxcbiAgICAgIGFjaGlldmVtZW50c0lzc3VlZDogJy9hcGkvdjEvOnNwYWNlL21lbWJlcnMvcmVmZXJlbmNlLzppZC9hY2hpZXZlbWVudHMvaXNzdWVkJyxcblxuICAgICAgbWVzc2FnZXM6ICcvYXBpL3YxLzpzcGFjZS9tZW1iZXJzL3JlZmVyZW5jZS86aWQvbWVzc2FnZXMnLFxuICAgICAgbWVzc2FnZUJ5SWQ6ICcvYXBpL3YxLzpzcGFjZS9tZW1iZXJzL3JlZmVyZW5jZS86aWQvbWVzc2FnZXMvOm1lc3NhZ2VJZCcsXG5cbiAgICAgIG1lbWJlclJld2FyZDogJy9hcGkvdjEvOnNwYWNlL21lbWJlcnMvcmVmZXJlbmNlLzppZC9hd2FyZC86YXdhcmRJZCcsXG4gICAgICBtZW1iZXJSZXdhcmRDbGFpbTogJy9hcGkvdjEvOnNwYWNlL21lbWJlcnMvcmVmZXJlbmNlLzppZC9hd2FyZC86YXdhcmRJZC9hd2FyZCcsXG5cbiAgICAgIG1lbWJlckNvbXBldGl0aW9uczogJy9hcGkvdjEvOnNwYWNlL21lbWJlcnMvcmVmZXJlbmNlLzppZC9jb21wZXRpdGlvbnMnLFxuICAgICAgbWVtYmVyQ29tcGV0aXRpb25CeUlkOiAnL2FwaS92MS86c3BhY2UvbWVtYmVycy9yZWZlcmVuY2UvOmlkL2NvbXBldGl0aW9uLzpjb21wZXRpdGlvbklkJyxcbiAgICAgIG1lbWJlckNvbXBldGl0aW9uT3B0SW46ICcvYXBpL3YxLzpzcGFjZS9tZW1iZXJzL3JlZmVyZW5jZS86aWQvY29tcGV0aXRpb24vOmNvbXBldGl0aW9uSWQvb3B0aW4nLFxuICAgICAgbWVtYmVyQ29tcGV0aXRpb25PcHRJbkNoZWNrOiAnL2FwaS92MS86c3BhY2UvbWVtYmVycy9yZWZlcmVuY2UvOmlkL2NvbXBldGl0aW9uLzpjb21wZXRpdGlvbklkL29wdGluLWNoZWNrJyxcblxuICAgICAgdHJhbnNsYXRpb25QYXRoOiAnJyAvLyAuLi9pMThuL3RyYW5zbGF0aW9uXzpsYW5ndWFnZS5qc29uXG4gICAgfSxcbiAgICBsb2FkVHJhbnNsYXRpb25zOiB0cnVlLFxuICAgIHNob3dDb3B5cmlnaHQ6IHRydWUsXG4gICAgdHJhbnNsYXRpb246IHRyYW5zbGF0aW9uLFxuICAgIHJlc291cmNlczogW10sXG4gICAgc3R5bGVzOiB7fSxcbiAgICBsYXlvdXRCdWlsZENhbGxiYWNrOiBmdW5jdGlvbiAobGF5b3V0LCBpbnN0YW5jZSkge1xuICAgIH1cbiAgfTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgdGhpcy5zZXR0aW5ncyA9IG1lcmdlT2JqZWN0cyh0aGlzLnNldHRpbmdzLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8vIGFsaWFzIHJlZmVyZW5jZXMgdG8gbW9kdWxlc1xuICB0aGlzLkNhbnZhc0FuaW1hdGlvbiA9IENhbnZhc0FuaW1hdGlvbjtcbiAgdGhpcy5Ob3RpZmljYXRpb25zID0gTm90aWZpY2F0aW9ucztcbiAgdGhpcy5NaW5pU2NvcmVCb2FyZCA9IE1pbmlTY29yZUJvYXJkO1xuICB0aGlzLk1haW5XaWRnZXQgPSBNYWluV2lkZ2V0O1xuXG4gIHRoaXMubG9nID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICBpZiAodGhpcy5zZXR0aW5ncy5kZWJ1Zykge1xuICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEZvcm1hdCBkdXJhdGlvbiBvZiBEYXRlIFRpbWUgZnJvbSBtb21lbnQoKSBvYmplY3RcbiAgICogQG1lbWJlck9mIExiV2lkZ2V0XG4gICAqIEBwYXJhbSBkdXJhdGlvbiB7bW9tZW50fVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgdGhpcy5mb3JtYXREYXRlVGltZSA9IGZ1bmN0aW9uIChkdXJhdGlvbikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIGxhcmdlUmVzdWx0ID0gW107XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIGlmIChkdXJhdGlvbi5kYXlzKCkpIGxhcmdlUmVzdWx0LnB1c2goZHVyYXRpb24uZGF5cygpICsgJzxzcGFuIGNsYXNzPVwidGltZS1pbmRcIj4nICsgX3RoaXMuc2V0dGluZ3MudHJhbnNsYXRpb24udGltZS5kYXlzICsgJzwvc3Bhbj4nKTtcbiAgICBpZiAoZHVyYXRpb24uaG91cnMoKSB8fCBkdXJhdGlvbi5kYXlzKCkgPiAwKSB7XG4gICAgICByZXN1bHQucHVzaChmb3JtYXROdW1iZXJMZWFkaW5nWmVyb3MoZHVyYXRpb24uaG91cnMoKSwgMikgKyAnPHNwYW4gY2xhc3M9XCJ0aW1lLWluZFwiPicgKyBfdGhpcy5zZXR0aW5ncy50cmFuc2xhdGlvbi50aW1lLmhvdXJzICsgJzwvc3Bhbj4nKTtcbiAgICB9IGVsc2UgcmVzdWx0LnB1c2goJzAwPHNwYW4gY2xhc3M9XCJ0aW1lLWluZFwiPicgKyBfdGhpcy5zZXR0aW5ncy50cmFuc2xhdGlvbi50aW1lLmhvdXJzICsgJzwvc3Bhbj4nKTtcbiAgICBpZiAoZHVyYXRpb24ubWludXRlcygpIHx8IGR1cmF0aW9uLmhvdXJzKCkgPiAwIHx8IGR1cmF0aW9uLmRheXMoKSA+IDApIHtcbiAgICAgIHJlc3VsdC5wdXNoKGZvcm1hdE51bWJlckxlYWRpbmdaZXJvcyhkdXJhdGlvbi5taW51dGVzKCksIDIpICsgKChkdXJhdGlvbi5kYXlzKCkgPiAwKSA/ICc8c3BhbiBjbGFzcz1cInRpbWUtaW5kXCI+JyArIF90aGlzLnNldHRpbmdzLnRyYW5zbGF0aW9uLnRpbWUubWludXRlcyArICc8L3NwYW4+JyA6ICc8c3BhbiBjbGFzcz1cInRpbWUtaW5kXCI+JyArIF90aGlzLnNldHRpbmdzLnRyYW5zbGF0aW9uLnRpbWUubWludXRlc1Nob3J0SGFuZCArICc8L3NwYW4+JykpO1xuICAgIH0gZWxzZSAocmVzdWx0LnB1c2goJzAwJyArICgoZHVyYXRpb24uZGF5cygpID4gMCkgPyAnPHNwYW4gY2xhc3M9XCJ0aW1lLWluZFwiPicgKyBfdGhpcy5zZXR0aW5ncy50cmFuc2xhdGlvbi50aW1lLm1pbnV0ZXMgKyAnPC9zcGFuPicgOiAnPHNwYW4gY2xhc3M9XCJ0aW1lLWluZFwiPicgKyBfdGhpcy5zZXR0aW5ncy50cmFuc2xhdGlvbi50aW1lLm1pbnV0ZXNTaG9ydEhhbmQgKyAnPC9zcGFuPicpKSk7XG4gICAgLy8gaWYgKGR1cmF0aW9uLnNlY29uZHMoKSAmJiBkdXJhdGlvbi5kYXlzKCkgPT09IDApeyByZXN1bHQucHVzaCggZm9ybWF0TnVtYmVyTGVhZGluZ1plcm9zKGR1cmF0aW9uLnNlY29uZHMoKSwgMikgKyAnPHNwYW4gY2xhc3M9XCJ0aW1lLWluZFwiPnM8L3NwYW4+JyApIH1lbHNlIGlmKGR1cmF0aW9uLmRheXMoKSA9PT0gMCl7cmVzdWx0LnB1c2goICcwMDxzcGFuIGNsYXNzPVwidGltZS1pbmRcIj5zPC9zcGFuPicgKX07XG4gICAgcmVzdWx0LnB1c2goZm9ybWF0TnVtYmVyTGVhZGluZ1plcm9zKGR1cmF0aW9uLnNlY29uZHMoKSwgMikgKyAnPHNwYW4gY2xhc3M9XCJ0aW1lLWluZFwiPicgKyBfdGhpcy5zZXR0aW5ncy50cmFuc2xhdGlvbi50aW1lLnNlY29uZHMgKyAnPC9zcGFuPicpO1xuICAgIHJldHVybiAobGFyZ2VSZXN1bHQubGVuZ3RoID4gMCkgPyAobGFyZ2VSZXN1bHQuam9pbignICcpICsgJyAnICsgcmVzdWx0LmpvaW4oJzonKSkgOiByZXN1bHQuam9pbignOicpO1xuICB9O1xuXG4gIHRoaXMucG9wdWxhdGVJZGVudGljb25CYXNlNjRJbWFnZSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICBpZiAoc3RyLmxlbmd0aCA+IDApIHtcbiAgICAgIC8qIGVzbGludCBuZXctY2FwOiBcIm9mZlwiICovXG4gICAgICB2YXIgc2hhT2JqID0gbmV3IGpzU0hBKCdTSEEtNTEyJywgJ1RFWFQnKTtcbiAgICAgIHNoYU9iai51cGRhdGUoc3RyKTtcbiAgICAgIHZhciBoYXNoID0gc2hhT2JqLmdldEhhc2goJ0hFWCcsIDEpO1xuXG4gICAgICAvKipcbiAgICAgICAqIGZvciBJRSAxMSBjb21tZW50IG91dCB0aGUgbGluZXMgYWJvdmUgYW5kIHVzZSB0aGlzIGNvZGUgd2l0aCB0aGUganNTSEEgbGlicmFyeSBpbnNpZGUgdXRpbHNcbiAgICAgICAqIGltcG9ydCBqc1NIQSBmcm9tICcuLi91dGlscy9qc1NIQSc7XG4gICAgICB2YXIgc2hhT2JqID0gbmV3IGpzU0hBKHN0ciwgJ1RFWFQnKTtcbiAgICAgIHZhciBoYXNoID0gc2hhT2JqLmdldEhhc2goJ1NIQS01MTInLCAnSEVYJywgMSk7XG4gICAgICAqL1xuXG4gICAgICB2YXIgZGF0YSA9IG5ldyBJZGVudGljb24oaGFzaCwge1xuICAgICAgICBiYWNrZ3JvdW5kOiBbMjU1LCAyNTUsIDI1NSwgMjU1XSwgLy8gcmdiYSB3aGl0ZVxuICAgICAgICBtYXJnaW46IDAuMSwgLy8gMjAlIG1hcmdpblxuICAgICAgICBzaXplOiAyMiwgLy8gNDIwcHggc3F1YXJlXG4gICAgICAgIGZvcm1hdDogJ3N2ZycgLy8gdXNlIFNWRyBpbnN0ZWFkIG9mIFBOR1xuICAgICAgfSkudG9TdHJpbmcoKTtcblxuICAgICAgdmFyIGljb24gPSAnZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCwnICsgZGF0YTtcblxuICAgICAgcmV0dXJuIGljb247XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIGdldCBhIGxpc3Qgb2YgYXZhaWxhYmxlIGNvbXBldGl0aW9uIGZpbHRlcmVkIGJ5IHByb3ZpZGVkIGdsb2JhbCBjcml0ZXJpYVxuICAgKiBAcGFyYW0gY2FsbGJhY2sge0Z1bmN0aW9ufVxuICAgKi9cbiAgY29uc3QgY29tcGV0aXRpb25DaGVja0FqYXggPSBuZXcgY0xhYnMuQWpheCgpO1xuXG4gIHRoaXMuY2hlY2tGb3JBdmFpbGFibGVDb21wZXRpdGlvbnMgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIGFqYXhJbnN0YW5jZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIHVybCA9IChfdGhpcy5zZXR0aW5ncy5tZW1iZXJJZC5sZW5ndGggPT09IDApID8gKFxuICAgICAgX3RoaXMuc2V0dGluZ3MudXJpLmNvbXBldGl0aW9ucy5yZXBsYWNlKCc6c3BhY2UnLCBfdGhpcy5zZXR0aW5ncy5zcGFjZU5hbWUpXG4gICAgKSA6IChcbiAgICAgIF90aGlzLnNldHRpbmdzLnVyaS5tZW1iZXJDb21wZXRpdGlvbnMucmVwbGFjZSgnOnNwYWNlJywgX3RoaXMuc2V0dGluZ3Muc3BhY2VOYW1lKS5yZXBsYWNlKCc6aWQnLCBfdGhpcy5zZXR0aW5ncy5tZW1iZXJJZClcbiAgICApO1xuICAgIHZhciBmaWx0ZXJzID0gW1xuICAgICAgJ3N0YXR1c0NvZGU+PT0zJyxcbiAgICAgICdzdGF0dXNDb2RlPD09NScsXG4gICAgICAnX3NvcnRCeUZpZWxkcz1vcHRpb25zLnNjaGVkdWxlZERhdGVzLmVuZDpkZXNjJyxcbiAgICAgICgnX2xhbmc9JyArIF90aGlzLnNldHRpbmdzLmxhbmd1YWdlKVxuICAgIF07XG4gICAgdmFyIGFqYXhJbnN0YW5jZVRvVXNlID0gKHR5cGVvZiBhamF4SW5zdGFuY2UgIT09ICd1bmRlZmluZWQnICYmIGFqYXhJbnN0YW5jZSAhPT0gbnVsbCkgPyBhamF4SW5zdGFuY2UgOiBjb21wZXRpdGlvbkNoZWNrQWpheDtcblxuICAgIGlmICh0eXBlb2YgX3RoaXMuc2V0dGluZ3MuY3VycmVuY3kgPT09ICdzdHJpbmcnICYmIF90aGlzLnNldHRpbmdzLmN1cnJlbmN5Lmxlbmd0aCA+IDApIHtcbiAgICAgIGZpbHRlcnMucHVzaCgnX3VvbUtleT0nICsgX3RoaXMuc2V0dGluZ3MuY3VycmVuY3kpO1xuICAgIH1cblxuICAgIGlmIChfdGhpcy5zZXR0aW5ncy5nYW1lSWQubGVuZ3RoID4gMCAmJiBfdGhpcy5zZXR0aW5ncy5lbmZvcmNlR2FtZUxvb2t1cCkge1xuICAgICAgZmlsdGVycy5wdXNoKCdvcHRpb25zLnByb2R1Y3RzLnByb2R1Y3RSZWZJZD0nICsgX3RoaXMuc2V0dGluZ3MuZ2FtZUlkKTtcbiAgICB9XG5cbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MuZ3JvdXBzLmxlbmd0aCA+IDAgJiYgX3RoaXMuc2V0dGluZ3MubWVtYmVySWQubGVuZ3RoID09PSAwKSB7XG4gICAgICBmaWx0ZXJzLnB1c2goJ29wdGlvbnMubGltaXRFbnRyYW50c1RvPScgKyBfdGhpcy5zZXR0aW5ncy5ncm91cHMpO1xuICAgIH1cblxuICAgIGFqYXhJbnN0YW5jZVRvVXNlLmFib3J0KCkuZ2V0RGF0YSh7XG4gICAgICB0eXBlOiAnR0VUJyxcbiAgICAgIHVybDogX3RoaXMuc2V0dGluZ3MudXJpLmdhdGV3YXlEb21haW4gKyB1cmwgKyAnPycgKyBmaWx0ZXJzLmpvaW4oJyYnKSxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ1gtQVBJLUtFWSc6IF90aGlzLnNldHRpbmdzLmFwaUtleVxuICAgICAgfSxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSwgZGF0YU9iaiwgeGhyKSB7XG4gICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xuXG4gICAgICAgICAgX3RoaXMuc2V0dGluZ3MudG91cm5hbWVudHMucmVhZHlDb21wZXRpdGlvbnMgPSBbXTtcbiAgICAgICAgICBfdGhpcy5zZXR0aW5ncy50b3VybmFtZW50cy5hY3RpdmVDb21wZXRpdGlvbnMgPSBbXTtcblxuICAgICAgICAgIG1hcE9iamVjdChqc29uLmRhdGEsIGZ1bmN0aW9uIChjb21wKSB7XG4gICAgICAgICAgICBpZiAoY29tcC5zdGF0dXNDb2RlID09PSAzKSB7XG4gICAgICAgICAgICAgIF90aGlzLnNldHRpbmdzLnRvdXJuYW1lbnRzLnJlYWR5Q29tcGV0aXRpb25zLnB1c2goY29tcCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvbXAuc3RhdHVzQ29kZSA9PT0gNSkge1xuICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy50b3VybmFtZW50cy5hY3RpdmVDb21wZXRpdGlvbnMucHVzaChjb21wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIF90aGlzLmNoZWNrRm9yRmluaXNoZWRDb21wZXRpdGlvbnMoY2FsbGJhY2ssIGFqYXhJbnN0YW5jZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMubG9nKCdmYWlsZWQgdG8gY2hlY2tGb3JBY3RpdmVDb21wZXRpdGlvbnMgJyArIHJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBnZXQgYSBsaXN0IG9mIGZpbmlzaGVkIGNvbXBldGl0aW9uIGZpbHRlcmVkIGJ5IHByb3ZpZGVkIGdsb2JhbCBjcml0ZXJpYVxuICAgKiBAcGFyYW0gY2FsbGJhY2sge0Z1bmN0aW9ufVxuICAgKi9cbiAgY29uc3QgY29tcGV0aXRpb25GaW5pc2hlZENoZWNrQWpheCA9IG5ldyBjTGFicy5BamF4KCk7XG5cbiAgdGhpcy5jaGVja0ZvckZpbmlzaGVkQ29tcGV0aXRpb25zID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBhamF4SW5zdGFuY2UpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciB1cmwgPSAoX3RoaXMuc2V0dGluZ3MubWVtYmVySWQubGVuZ3RoID09PSAwKSA/IChcbiAgICAgIF90aGlzLnNldHRpbmdzLnVyaS5jb21wZXRpdGlvbnMucmVwbGFjZSgnOnNwYWNlJywgX3RoaXMuc2V0dGluZ3Muc3BhY2VOYW1lKVxuICAgICkgOiAoXG4gICAgICBfdGhpcy5zZXR0aW5ncy51cmkubWVtYmVyQ29tcGV0aXRpb25zLnJlcGxhY2UoJzpzcGFjZScsIF90aGlzLnNldHRpbmdzLnNwYWNlTmFtZSkucmVwbGFjZSgnOmlkJywgX3RoaXMuc2V0dGluZ3MubWVtYmVySWQpXG4gICAgKTtcbiAgICB2YXIgZmlsdGVycyA9IFtcbiAgICAgICdzdGF0dXNDb2RlPTcnLFxuICAgICAgJ19saW1pdD0xMCcsXG4gICAgICAnX3NvcnRCeUZpZWxkcz1vcHRpb25zLnNjaGVkdWxlZERhdGVzLmVuZDpkZXNjJyxcbiAgICAgICgnX2xhbmc9JyArIF90aGlzLnNldHRpbmdzLmxhbmd1YWdlKVxuICAgIF07XG4gICAgdmFyIGFqYXhJbnN0YW5jZVRvVXNlID0gKHR5cGVvZiBhamF4SW5zdGFuY2UgIT09ICd1bmRlZmluZWQnICYmIGFqYXhJbnN0YW5jZSAhPT0gbnVsbCkgPyBhamF4SW5zdGFuY2UgOiBjb21wZXRpdGlvbkZpbmlzaGVkQ2hlY2tBamF4O1xuXG4gICAgaWYgKHR5cGVvZiBfdGhpcy5zZXR0aW5ncy5jdXJyZW5jeSA9PT0gJ3N0cmluZycgJiYgX3RoaXMuc2V0dGluZ3MuY3VycmVuY3kubGVuZ3RoID4gMCkge1xuICAgICAgZmlsdGVycy5wdXNoKCdfdW9tS2V5PScgKyBfdGhpcy5zZXR0aW5ncy5jdXJyZW5jeSk7XG4gICAgfVxuXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmdhbWVJZC5sZW5ndGggPiAwICYmIF90aGlzLnNldHRpbmdzLmVuZm9yY2VHYW1lTG9va3VwKSB7XG4gICAgICBmaWx0ZXJzLnB1c2goJ29wdGlvbnMucHJvZHVjdHMucHJvZHVjdFJlZklkPScgKyBfdGhpcy5zZXR0aW5ncy5nYW1lSWQpO1xuICAgIH1cblxuICAgIGlmIChfdGhpcy5zZXR0aW5ncy5ncm91cHMubGVuZ3RoID4gMCAmJiBfdGhpcy5zZXR0aW5ncy5tZW1iZXJJZC5sZW5ndGggPT09IDApIHtcbiAgICAgIGZpbHRlcnMucHVzaCgnb3B0aW9ucy5saW1pdEVudHJhbnRzVG89JyArIF90aGlzLnNldHRpbmdzLmdyb3Vwcyk7XG4gICAgfVxuXG4gICAgYWpheEluc3RhbmNlVG9Vc2UuYWJvcnQoKS5nZXREYXRhKHtcbiAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgdXJsOiBfdGhpcy5zZXR0aW5ncy51cmkuZ2F0ZXdheURvbWFpbiArIHVybCArICc/JyArIGZpbHRlcnMuam9pbignJicpLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnWC1BUEktS0VZJzogX3RoaXMuc2V0dGluZ3MuYXBpS2V5XG4gICAgICB9LFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlLCBkYXRhT2JqLCB4aHIpIHtcbiAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XG5cbiAgICAgICAgICBfdGhpcy5zZXR0aW5ncy50b3VybmFtZW50cy5maW5pc2hlZENvbXBldGl0aW9ucyA9IFtdO1xuXG4gICAgICAgICAgbWFwT2JqZWN0KGpzb24uZGF0YSwgZnVuY3Rpb24gKGNvbXApIHtcbiAgICAgICAgICAgIGlmIChjb21wLnN0YXR1c0NvZGUgPT09IDcpIHtcbiAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MudG91cm5hbWVudHMuZmluaXNoZWRDb21wZXRpdGlvbnMucHVzaChjb21wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF90aGlzLmxvZygnZmFpbGVkIHRvIGNoZWNrRm9yQWN0aXZlQ29tcGV0aXRpb25zICcgKyByZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLnByZXBhcmVBY3RpdmVDb21wZXRpdGlvbiA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIGFjdGl2ZUNvbXBldGl0aW9uID0gbnVsbDtcbiAgICB2YXIgYWN0aXZlQ29tcGV0aXRpb25JZCA9IG51bGw7XG5cbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MudG91cm5hbWVudHMuYWN0aXZlQ29tcGV0aXRpb25JZCAhPT0gbnVsbCkge1xuICAgICAgbWFwT2JqZWN0KF90aGlzLnNldHRpbmdzLnRvdXJuYW1lbnRzLmFjdGl2ZUNvbXBldGl0aW9ucywgZnVuY3Rpb24gKGNvbXApIHtcbiAgICAgICAgaWYgKGNvbXAuaWQgPT09IF90aGlzLnNldHRpbmdzLnRvdXJuYW1lbnRzLmFjdGl2ZUNvbXBldGl0aW9uSWQpIHtcbiAgICAgICAgICBhY3RpdmVDb21wZXRpdGlvbiA9IGNvbXA7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbWFwT2JqZWN0KF90aGlzLnNldHRpbmdzLnRvdXJuYW1lbnRzLnJlYWR5Q29tcGV0aXRpb25zLCBmdW5jdGlvbiAoY29tcCkge1xuICAgICAgICBpZiAoY29tcC5pZCA9PT0gX3RoaXMuc2V0dGluZ3MudG91cm5hbWVudHMuYWN0aXZlQ29tcGV0aXRpb25JZCkge1xuICAgICAgICAgIGFjdGl2ZUNvbXBldGl0aW9uID0gY29tcDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBtYXBPYmplY3QoX3RoaXMuc2V0dGluZ3MudG91cm5hbWVudHMuZmluaXNoZWRDb21wZXRpdGlvbnMsIGZ1bmN0aW9uIChjb21wKSB7XG4gICAgICAgIGlmIChjb21wLmlkID09PSBfdGhpcy5zZXR0aW5ncy50b3VybmFtZW50cy5hY3RpdmVDb21wZXRpdGlvbklkKSB7XG4gICAgICAgICAgYWN0aXZlQ29tcGV0aXRpb24gPSBjb21wO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKGFjdGl2ZUNvbXBldGl0aW9uICE9PSBudWxsKSB7XG4gICAgICAgIGFjdGl2ZUNvbXBldGl0aW9uSWQgPSBfdGhpcy5zZXR0aW5ncy50b3VybmFtZW50cy5hY3RpdmVDb21wZXRpdGlvbklkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MudG91cm5hbWVudHMuYWN0aXZlQ29tcGV0aXRpb25JZCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGFjdGl2ZUNvbXBldGl0aW9uID09PSBudWxsICYmIF90aGlzLnNldHRpbmdzLnRvdXJuYW1lbnRzLmFjdGl2ZUNvbXBldGl0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICBhY3RpdmVDb21wZXRpdGlvbiA9IF90aGlzLnNldHRpbmdzLnRvdXJuYW1lbnRzLmFjdGl2ZUNvbXBldGl0aW9uc1swXTtcbiAgICAgIGFjdGl2ZUNvbXBldGl0aW9uSWQgPSBhY3RpdmVDb21wZXRpdGlvbi5pZDtcbiAgICB9IGVsc2UgaWYgKGFjdGl2ZUNvbXBldGl0aW9uID09PSBudWxsICYmIF90aGlzLnNldHRpbmdzLnRvdXJuYW1lbnRzLnJlYWR5Q29tcGV0aXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgIGFjdGl2ZUNvbXBldGl0aW9uID0gX3RoaXMuc2V0dGluZ3MudG91cm5hbWVudHMucmVhZHlDb21wZXRpdGlvbnNbMF07XG4gICAgICBhY3RpdmVDb21wZXRpdGlvbklkID0gYWN0aXZlQ29tcGV0aXRpb24uaWQ7XG4gICAgfVxuXG4gICAgaWYgKGFjdGl2ZUNvbXBldGl0aW9uSWQgPT09IG51bGwpIHsgLy8gbm8gYWN0aXZlIG9yIHJlYWR5IGNvbXBldGl0aW9ucyBmb3VuZFxuICAgICAgX3RoaXMuZGVhY3RpdmF0ZUNvbXBldGl0aW9uc0FuZExlYWRlcmJvYXJkcygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoX3RoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb25JZCAhPT0gYWN0aXZlQ29tcGV0aXRpb25JZCAmJiBhY3RpdmVDb21wZXRpdGlvbklkICE9PSBudWxsKSB7XG4gICAgICAgIF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uID0gYWN0aXZlQ29tcGV0aXRpb247XG4gICAgICAgIF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uSWQgPSBhY3RpdmVDb21wZXRpdGlvbklkO1xuICAgICAgfVxuXG4gICAgICBpZiAoYWN0aXZlQ29tcGV0aXRpb25JZCAhPT0gbnVsbCkge1xuICAgICAgICBfdGhpcy5sb2FkQWN0aXZlQ29tcGV0aXRpb24oZnVuY3Rpb24gKGpzb24pIHtcbiAgICAgICAgICBfdGhpcy5zZXRBY3RpdmVDb21wZXRpdGlvbihqc29uLCBjYWxsYmFjayk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdGhpcy5sb2FkQWN0aXZlQ29tcGV0aXRpb24gPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciB1cmwgPSAoX3RoaXMuc2V0dGluZ3MubWVtYmVySWQubGVuZ3RoID09PSAwKSA/IChcbiAgICAgIF90aGlzLnNldHRpbmdzLnVyaS5jb21wZXRpdGlvbkJ5SWQucmVwbGFjZSgnOnNwYWNlJywgX3RoaXMuc2V0dGluZ3Muc3BhY2VOYW1lKS5yZXBsYWNlKCc6aWQnLCBfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbklkKVxuICAgICkgOiAoXG4gICAgICBfdGhpcy5zZXR0aW5ncy51cmkubWVtYmVyQ29tcGV0aXRpb25CeUlkLnJlcGxhY2UoJzpzcGFjZScsIF90aGlzLnNldHRpbmdzLnNwYWNlTmFtZSkucmVwbGFjZSgnOmlkJywgX3RoaXMuc2V0dGluZ3MubWVtYmVySWQpLnJlcGxhY2UoJzpjb21wZXRpdGlvbklkJywgX3RoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb25JZClcbiAgICApO1xuICAgIHZhciBmaWx0ZXJzID0gW1xuICAgICAgKCdfaW5jbHVkZT1zdHJhdGVneScpLFxuICAgICAgKCdfbGFuZz0nICsgX3RoaXMuc2V0dGluZ3MubGFuZ3VhZ2UpXG4gICAgXTtcblxuICAgIGlmICh0eXBlb2YgX3RoaXMuc2V0dGluZ3MuY3VycmVuY3kgPT09ICdzdHJpbmcnICYmIF90aGlzLnNldHRpbmdzLmN1cnJlbmN5Lmxlbmd0aCA+IDApIHtcbiAgICAgIGZpbHRlcnMucHVzaCgnX3VvbUtleT0nICsgX3RoaXMuc2V0dGluZ3MuY3VycmVuY3kpO1xuICAgIH1cblxuICAgIF90aGlzLnNldHRpbmdzLmdsb2JhbEFqYXguYWJvcnQoKS5nZXREYXRhKHtcbiAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgdXJsOiBfdGhpcy5zZXR0aW5ncy51cmkuZ2F0ZXdheURvbWFpbiArIHVybCArICc/JyArIGZpbHRlcnMuam9pbignJicpLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnWC1BUEktS0VZJzogX3RoaXMuc2V0dGluZ3MuYXBpS2V5XG4gICAgICB9LFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlLCBkYXRhT2JqLCB4aHIpIHtcbiAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XG5cbiAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhqc29uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMubG9nKCdmYWlsZWQgdG8gbG9hZEFjdGl2ZUNvbXBldGl0aW9uICcgKyByZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLnNldEFjdGl2ZUNvbXBldGl0aW9uID0gZnVuY3Rpb24gKGpzb24sIGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uID0ganNvbi5kYXRhO1xuICAgIF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QgPSBudWxsO1xuICAgIF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3RJZCA9IG51bGw7XG5cbiAgICBpZiAodHlwZW9mIGpzb24uZGF0YS5jb250ZXN0cyAhPT0gJ3VuZGVmaW5lZCcgJiYganNvbi5kYXRhLmNvbnRlc3RzLmxlbmd0aCA+IDApIHtcbiAgICAgIG1hcE9iamVjdChqc29uLmRhdGEuY29udGVzdHMsIGZ1bmN0aW9uIChjb250ZXN0KSB7XG4gICAgICAgIGlmIChjb250ZXN0LnN0YXR1c0NvZGUgPCA3ICYmIF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QgPT09IG51bGwpIHtcbiAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0ID0gY29udGVzdDtcbiAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0SWQgPSBjb250ZXN0LmlkO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiBfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnJld2FyZHMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnJld2FyZHMgPSBbXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgcmV3YXJkcyA9IFtdO1xuICAgICAgICAgIG1hcE9iamVjdChfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnJld2FyZHMsIGZ1bmN0aW9uIChyZXdhcmQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcmV3YXJkLnJld2FyZFJhbmsgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIHZhciByYW5rUGFydHMgPSByZXdhcmQucmV3YXJkUmFuay5zcGxpdCgnLCcpO1xuICAgICAgICAgICAgICB2YXIgcmV3YXJkUmFuayA9IFtdO1xuXG4gICAgICAgICAgICAgIG1hcE9iamVjdChyYW5rUGFydHMsIGZ1bmN0aW9uIChwYXJ0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0cmluZ0NvbnRhaW5zKHBhcnQsICctJykpIHtcbiAgICAgICAgICAgICAgICAgIHZhciByYW5rUmFuZ2UgPSBwYXJ0LnNwbGl0KCctJyk7XG4gICAgICAgICAgICAgICAgICB2YXIgcmFnZVN0YXJ0ID0gcGFyc2VJbnQocmFua1JhbmdlWzBdKTtcbiAgICAgICAgICAgICAgICAgIHZhciByYW5nZUVuZCA9IHBhcnNlSW50KHJhbmtSYW5nZVsxXSk7XG4gICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gcmFnZVN0YXJ0OyBpIDw9IHJhbmdlRW5kOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcmV3YXJkUmFuay5wdXNoKGkpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICByZXdhcmRSYW5rLnB1c2gocGFyc2VJbnQocGFydCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgcmV3YXJkLnJld2FyZFJhbmsgPSByZXdhcmRSYW5rO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXdhcmRzLnB1c2gocmV3YXJkKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QucmV3YXJkcyA9IHJld2FyZHM7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuZ2V0TGVhZGVyYm9hcmREYXRhID0gZnVuY3Rpb24gKGNvdW50LCBjYWxsYmFjaykge1xuICAgIGlmICh0aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3RJZCAhPT0gbnVsbCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHZhciB1cmwgPSBfdGhpcy5zZXR0aW5ncy51cmkuY29udGVzdExlYWRlcmJvYXJkLnJlcGxhY2UoJzpzcGFjZScsIF90aGlzLnNldHRpbmdzLnNwYWNlTmFtZSkucmVwbGFjZSgnOmlkJywgX3RoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdElkKTtcbiAgICAgIHZhciBmaWx0ZXJzID0gW1xuICAgICAgICAnX2xpbWl0PScgKyBjb3VudCxcbiAgICAgICAgJ3JhbmtpbmdzPTInXG4gICAgICBdO1xuXG4gICAgICBpZiAodHlwZW9mIF90aGlzLnNldHRpbmdzLm1lbWJlcklkID09PSAnc3RyaW5nJyAmJiBfdGhpcy5zZXR0aW5ncy5tZW1iZXJJZC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZpbHRlcnMucHVzaCgnbWVtYmVySWQ9JyArIF90aGlzLnNldHRpbmdzLm1lbWJlcklkKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2V0dGluZ3MuZ2xvYmFsQWpheC5hYm9ydCgpLmdldERhdGEoe1xuICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgdXJsOiBfdGhpcy5zZXR0aW5ncy51cmkuZ2F0ZXdheURvbWFpbiArIHVybCArICc/JyArIGZpbHRlcnMuam9pbignJicpLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ1gtQVBJLUtFWSc6IF90aGlzLnNldHRpbmdzLmFwaUtleVxuICAgICAgICB9LFxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UsIGRhdGFPYmosIHhocikge1xuICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XG5cbiAgICAgICAgICAgIC8vIGlmKFxuICAgICAgICAgICAgLy8gICB0eXBlb2YgX3RoaXMuc2V0dGluZ3MubG9hZExlYWRlcmJvYXJkSGlzdG9yeVtfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0SWRdID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICAvLyAgIHx8XG4gICAgICAgICAgICAvLyAgIChcbiAgICAgICAgICAgIC8vICAgICB0eXBlb2YgX3RoaXMuc2V0dGluZ3MubG9hZExlYWRlcmJvYXJkSGlzdG9yeVtfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0SWRdICE9PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICAvLyAgICAgJiZcbiAgICAgICAgICAgIC8vICAgICBfdGhpcy5zZXR0aW5ncy5sb2FkTGVhZGVyYm9hcmRIaXN0b3J5W190aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3RJZF0gIT09IGRhdGFcbiAgICAgICAgICAgIC8vICAgKVxuICAgICAgICAgICAgLy8gKSB7XG4gICAgICAgICAgICAvLyAgIF90aGlzLnNldHRpbmdzLmxvYWRMZWFkZXJib2FyZEhpc3RvcnlbX3RoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdElkXSA9IHtcbiAgICAgICAgICAgIC8vICAgICBjaGFuZ2VkOiB0cnVlLFxuICAgICAgICAgICAgLy8gICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGpzb24uZGF0YSlcbiAgICAgICAgICAgIC8vICAgfTtcbiAgICAgICAgICAgIC8vIH1cblxuICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQubGVhZGVyYm9hcmREYXRhID0ganNvbi5kYXRhO1xuXG4gICAgICAgICAgICBjYWxsYmFjayhqc29uLmRhdGEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5sb2coJ2ZhaWxlZCB0byBnZXRMZWFkZXJib2FyZERhdGEgJyArIHJlc3BvbnNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLnVwZGF0ZUxlYWRlcmJvYXJkTmF2aWdhdGlvbkNvdW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgY29uc29sZS5sb2coJ0xCJywgX3RoaXMuc2V0dGluZ3MudG91cm5hbWVudHMucmVhZHlDb21wZXRpdGlvbnMubGVuZ3RoLCBfdGhpcy5zZXR0aW5ncy50b3VybmFtZW50cy5hY3RpdmVDb21wZXRpdGlvbnMubGVuZ3RoKTtcbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5zZXR0aW5ncy5uYXZpZ2F0aW9uICE9PSBudWxsKSB7XG4gICAgICB2YXIgbWVudUl0ZW1Db3VudCA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQuc2V0dGluZ3MubmF2aWdhdGlvbiwgJy4nICsgX3RoaXMuc2V0dGluZ3MubmF2aWdhdGlvbi50b3VybmFtZW50cy5uYXZpZ2F0aW9uQ2xhc3MgKyAnIC5jbC1tYWluLW5hdmlnYXRpb24taXRlbS1jb3VudCcpO1xuICAgICAgbWVudUl0ZW1Db3VudC5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy50b3VybmFtZW50cy5hY3RpdmVDb21wZXRpdGlvbnMubGVuZ3RoO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLnVwZGF0ZUFjaGlldmVtZW50TmF2aWdhdGlvbkNvdW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgY29uc29sZS5sb2coJ0FDSCcsIF90aGlzLnNldHRpbmdzLmFjaGlldmVtZW50cy50b3RhbENvdW50KTtcbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5zZXR0aW5ncy5uYXZpZ2F0aW9uICE9PSBudWxsKSB7XG4gICAgICB2YXIgbWVudUl0ZW1Db3VudCA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQuc2V0dGluZ3MubmF2aWdhdGlvbiwgJy4nICsgX3RoaXMuc2V0dGluZ3MubmF2aWdhdGlvbi5hY2hpZXZlbWVudHMubmF2aWdhdGlvbkNsYXNzICsgJyAuY2wtbWFpbi1uYXZpZ2F0aW9uLWl0ZW0tY291bnQnKTtcbiAgICAgIG1lbnVJdGVtQ291bnQuaW5uZXJIVE1MID0gX3RoaXMuc2V0dGluZ3MuYWNoaWV2ZW1lbnRzLnRvdGFsQ291bnQ7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMudXBkYXRlUmV3YXJkc05hdmlnYXRpb25Db3VudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGNvbnNvbGUubG9nKCdSZXcnLCBfdGhpcy5zZXR0aW5ncy5yZXdhcmRzLmF2YWlsYWJsZVJld2FyZHMubGVuZ3RoKTtcbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5zZXR0aW5ncy5uYXZpZ2F0aW9uICE9PSBudWxsKSB7XG4gICAgICB2YXIgbWVudUl0ZW1Db3VudCA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQuc2V0dGluZ3MubmF2aWdhdGlvbiwgJy4nICsgX3RoaXMuc2V0dGluZ3MubmF2aWdhdGlvbi5yZXdhcmRzLm5hdmlnYXRpb25DbGFzcyArICcgLmNsLW1haW4tbmF2aWdhdGlvbi1pdGVtLWNvdW50Jyk7XG4gICAgICBtZW51SXRlbUNvdW50LmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLnJld2FyZHMuYXZhaWxhYmxlUmV3YXJkcy5sZW5ndGg7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMudXBkYXRlTWVzc2FnZXNOYXZpZ2F0aW9uQ291bnRzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBjb25zb2xlLmxvZygnTWVzJywgX3RoaXMuc2V0dGluZ3MubWVzc2FnZXMubWVzc2FnZXMubGVuZ3RoKTtcbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5zZXR0aW5ncy5uYXZpZ2F0aW9uICE9PSBudWxsKSB7XG4gICAgICB2YXIgbWVudUl0ZW1Db3VudCA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQuc2V0dGluZ3MubmF2aWdhdGlvbiwgJy4nICsgX3RoaXMuc2V0dGluZ3MubmF2aWdhdGlvbi5pbmJveC5uYXZpZ2F0aW9uQ2xhc3MgKyAnIC5jbC1tYWluLW5hdmlnYXRpb24taXRlbS1jb3VudCcpO1xuICAgICAgbWVudUl0ZW1Db3VudC5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5tZXNzYWdlcy5tZXNzYWdlcy5sZW5ndGg7XG4gICAgfVxuICB9O1xuXG4gIHZhciBjaGVja0FjaGlldmVtZW50c0FqYXggPSBuZXcgY0xhYnMuQWpheCgpO1xuICB0aGlzLmNoZWNrRm9yQXZhaWxhYmxlQWNoaWV2ZW1lbnRzID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgdXJsID0gX3RoaXMuc2V0dGluZ3MudXJpLmFjaGlldmVtZW50cy5yZXBsYWNlKCc6c3BhY2UnLCBfdGhpcy5zZXR0aW5ncy5zcGFjZU5hbWUpLnJlcGxhY2UoJzppZCcsIF90aGlzLnNldHRpbmdzLm1lbWJlcklkKTtcbiAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgdmFyIGNyZWF0ZWREYXRlRmlsdGVyID0gZGF0ZS50b0lTT1N0cmluZygpO1xuICAgIHZhciBmaWx0ZXJzID0gW1xuICAgICAgJ19saW1pdD0nICsgX3RoaXMuc2V0dGluZ3MuYWNoaWV2ZW1lbnRzLmxpbWl0LFxuICAgICAgJ19pbmNsdWRlPXJld2FyZHMnLFxuICAgICAgJ3NjaGVkdWxlZEVuZD49PScgKyBjcmVhdGVkRGF0ZUZpbHRlcixcbiAgICAgICgnX2xhbmc9JyArIF90aGlzLnNldHRpbmdzLmxhbmd1YWdlKVxuICAgIF07XG4gICAgdmFyIHdpdGhHcm91cHMgPSBmYWxzZTtcblxuICAgIGlmICh0eXBlb2YgX3RoaXMuc2V0dGluZ3MuY3VycmVuY3kgPT09ICdzdHJpbmcnICYmIF90aGlzLnNldHRpbmdzLmN1cnJlbmN5Lmxlbmd0aCA+IDApIHtcbiAgICAgIGZpbHRlcnMucHVzaCgnX3VvbUtleT0nICsgX3RoaXMuc2V0dGluZ3MuY3VycmVuY3kpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgX3RoaXMuc2V0dGluZ3MubWVtYmVyLmdyb3VwcyAhPT0gJ3VuZGVmaW5lZCcgJiYgX3RoaXMuc2V0dGluZ3MubWVtYmVyLmdyb3Vwcy5sZW5ndGggPiAwKSB7XG4gICAgICB3aXRoR3JvdXBzID0gdHJ1ZTtcbiAgICAgIGZpbHRlcnMucHVzaCgnbWVtYmVyR3JvdXBzPScgKyBfdGhpcy5zZXR0aW5ncy5tZW1iZXIuZ3JvdXBzLmpvaW4oJywnKSk7XG4gICAgfVxuXG4gICAgY2hlY2tBY2hpZXZlbWVudHNBamF4LmFib3J0KCkuZ2V0RGF0YSh7XG4gICAgICB0eXBlOiAnR0VUJyxcbiAgICAgIHVybDogX3RoaXMuc2V0dGluZ3MudXJpLmdhdGV3YXlEb21haW4gKyB1cmwgKyAnP19sYW5nPScgKyBfdGhpcy5zZXR0aW5ncy5sYW5ndWFnZSArICcmc2NoZWR1bGVkRW5kPj09JyArIGNyZWF0ZWREYXRlRmlsdGVyICsgJyZfdW9tS2V5PScgKyBfdGhpcy5zZXR0aW5ncy5jdXJyZW5jeSxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ1gtQVBJLUtFWSc6IF90aGlzLnNldHRpbmdzLmFwaUtleVxuICAgICAgfSxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSwgZGF0YU9iaiwgeGhyKSB7XG4gICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICB2YXIganNvbkZvckFsbCA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xuXG4gICAgICAgICAgX3RoaXMuc2V0dGluZ3MuYWNoaWV2ZW1lbnRzLnRvdGFsQ291bnQgPSBwYXJzZUludChqc29uRm9yQWxsLm1ldGEudG90YWxSZWNvcmRzRm91bmQpO1xuICAgICAgICAgIF90aGlzLnNldHRpbmdzLmFjaGlldmVtZW50cy5saXN0ID0gW107XG5cbiAgICAgICAgICBtYXBPYmplY3QoanNvbkZvckFsbC5kYXRhLCBmdW5jdGlvbiAoYWNoKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5hY2hpZXZlbWVudHMubGlzdC5wdXNoKGFjaCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAod2l0aEdyb3Vwcykge1xuICAgICAgICAgICAgY2hlY2tBY2hpZXZlbWVudHNBamF4LmFib3J0KCkuZ2V0RGF0YSh7XG4gICAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICAgICAgICB1cmw6IF90aGlzLnNldHRpbmdzLnVyaS5nYXRld2F5RG9tYWluICsgdXJsICsgJz8nICsgZmlsdGVycy5qb2luKCcmJyksXG4gICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnWC1BUEktS0VZJzogX3RoaXMuc2V0dGluZ3MuYXBpS2V5XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSwgZGF0YU9iaiwgeGhyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcblxuICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MuYWNoaWV2ZW1lbnRzLnRvdGFsQ291bnQgPSBfdGhpcy5zZXR0aW5ncy5hY2hpZXZlbWVudHMudG90YWxDb3VudCArIHBhcnNlSW50KGpzb24ubWV0YS50b3RhbFJlY29yZHNGb3VuZCk7XG5cbiAgICAgICAgICAgICAgICAgIG1hcE9iamVjdChqc29uLmRhdGEsIGZ1bmN0aW9uIChhY2gpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MuYWNoaWV2ZW1lbnRzLmxpc3QucHVzaChhY2gpO1xuICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrKF90aGlzLnNldHRpbmdzLmFjaGlldmVtZW50cy5saXN0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgX3RoaXMubG9nKCdmYWlsZWQgdG8gY2hlY2tGb3JBdmFpbGFibGVBY2hpZXZlbWVudHMgJyArIHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBjYWxsYmFjayhqc29uRm9yQWxsLmRhdGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfdGhpcy5sb2coJ2ZhaWxlZCB0byBjaGVja0ZvckF2YWlsYWJsZUFjaGlldmVtZW50cyAnICsgcmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGdldEFjaGlldmVtZW50c0FqYXggPSBuZXcgY0xhYnMuQWpheCgpO1xuICB0aGlzLmdldEFjaGlldmVtZW50ID0gZnVuY3Rpb24gKGFjaGlldmVtZW50SWQsIGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGdldEFjaGlldmVtZW50c0FqYXguYWJvcnQoKS5nZXREYXRhKHtcbiAgICAgIHVybDogX3RoaXMuc2V0dGluZ3MudXJpLmdhdGV3YXlEb21haW4gKyBfdGhpcy5zZXR0aW5ncy51cmkuYWNoaWV2ZW1lbnQucmVwbGFjZSgnOnNwYWNlJywgX3RoaXMuc2V0dGluZ3Muc3BhY2VOYW1lKS5yZXBsYWNlKCc6aWQnLCBhY2hpZXZlbWVudElkKSArICc/X2xhbmc9JyArIF90aGlzLnNldHRpbmdzLmxhbmd1YWdlICsgJyZfdW9tS2V5PScgKyBfdGhpcy5zZXR0aW5ncy5jdXJyZW5jeSxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ1gtQVBJLUtFWSc6IF90aGlzLnNldHRpbmdzLmFwaUtleVxuICAgICAgfSxcbiAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlLCBkYXRhT2JqLCB4aHIpIHtcbiAgICAgICAgdmFyIGpzb24gPSBudWxsO1xuICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGpzb24gPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGNhbGxiYWNrKGpzb24pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGdldFJld2FyZEFqYXggPSBuZXcgY0xhYnMuQWpheCgpO1xuICB0aGlzLmdldFJld2FyZCA9IGZ1bmN0aW9uIChyZXdhcmRJZCwgY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgZ2V0UmV3YXJkQWpheC5hYm9ydCgpLmdldERhdGEoe1xuICAgICAgdXJsOiBfdGhpcy5zZXR0aW5ncy51cmkuZ2F0ZXdheURvbWFpbiArIF90aGlzLnNldHRpbmdzLnVyaS5tZW1iZXJSZXdhcmQucmVwbGFjZSgnOnNwYWNlJywgX3RoaXMuc2V0dGluZ3Muc3BhY2VOYW1lKS5yZXBsYWNlKCc6aWQnLCBfdGhpcy5zZXR0aW5ncy5tZW1iZXJJZCkucmVwbGFjZSgnOmF3YXJkSWQnLCByZXdhcmRJZCksXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdYLUFQSS1LRVknOiBfdGhpcy5zZXR0aW5ncy5hcGlLZXlcbiAgICAgIH0sXG4gICAgICB0eXBlOiAnR0VUJyxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSwgZGF0YU9iaiwgeGhyKSB7XG4gICAgICAgIHZhciBqc29uID0gbnVsbDtcbiAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBqc29uID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBjYWxsYmFjayhqc29uKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBnZXRNZXNzYWdlQWpheCA9IG5ldyBjTGFicy5BamF4KCk7XG4gIHRoaXMuZ2V0TWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlSWQsIGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGdldE1lc3NhZ2VBamF4LmFib3J0KCkuZ2V0RGF0YSh7XG4gICAgICB1cmw6IF90aGlzLnNldHRpbmdzLnVyaS5nYXRld2F5RG9tYWluICsgX3RoaXMuc2V0dGluZ3MudXJpLm1lc3NhZ2VCeUlkLnJlcGxhY2UoJzpzcGFjZScsIF90aGlzLnNldHRpbmdzLnNwYWNlTmFtZSkucmVwbGFjZSgnOmlkJywgX3RoaXMuc2V0dGluZ3MubWVtYmVySWQpLnJlcGxhY2UoJzptZXNzYWdlSWQnLCBtZXNzYWdlSWQpLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnWC1BUEktS0VZJzogX3RoaXMuc2V0dGluZ3MuYXBpS2V5XG4gICAgICB9LFxuICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UsIGRhdGFPYmosIHhocikge1xuICAgICAgICB2YXIganNvbiA9IG51bGw7XG4gICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAganNvbiA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgY2FsbGJhY2soanNvbik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB2YXIgY2xhaW1SZXdhcmRBamF4ID0gbmV3IGNMYWJzLkFqYXgoKTtcbiAgdGhpcy5jbGFpbVJld2FyZCA9IGZ1bmN0aW9uIChyZXdhcmRJZCwgY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgY2xhaW1SZXdhcmRBamF4LmFib3J0KCkuZ2V0RGF0YSh7XG4gICAgICB1cmw6IF90aGlzLnNldHRpbmdzLnVyaS5nYXRld2F5RG9tYWluICsgX3RoaXMuc2V0dGluZ3MudXJpLm1lbWJlclJld2FyZENsYWltLnJlcGxhY2UoJzpzcGFjZScsIF90aGlzLnNldHRpbmdzLnNwYWNlTmFtZSkucmVwbGFjZSgnOmlkJywgX3RoaXMuc2V0dGluZ3MubWVtYmVySWQpLnJlcGxhY2UoJzphd2FyZElkJywgcmV3YXJkSWQpLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnWC1BUEktS0VZJzogX3RoaXMuc2V0dGluZ3MuYXBpS2V5XG4gICAgICB9LFxuICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlLCBkYXRhT2JqLCB4aHIpIHtcbiAgICAgICAgdmFyIGpzb24gPSBudWxsO1xuICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGpzb24gPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGNhbGxiYWNrKGpzb24pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGNoZWNrRm9yTWVtYmVyQWNoaWV2ZW1lbnRzQWpheCA9IG5ldyBjTGFicy5BamF4KCk7XG4gIHRoaXMuY2hlY2tGb3JNZW1iZXJBY2hpZXZlbWVudHNJc3N1ZWQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciB1cmwgPSBfdGhpcy5zZXR0aW5ncy51cmkuYWNoaWV2ZW1lbnRzSXNzdWVkLnJlcGxhY2UoJzpzcGFjZScsIF90aGlzLnNldHRpbmdzLnNwYWNlTmFtZSkucmVwbGFjZSgnOmlkJywgX3RoaXMuc2V0dGluZ3MubWVtYmVySWQpO1xuXG4gICAgY2hlY2tGb3JNZW1iZXJBY2hpZXZlbWVudHNBamF4LmFib3J0KCkuZ2V0RGF0YSh7XG4gICAgICB0eXBlOiAnR0VUJyxcbiAgICAgIHVybDogX3RoaXMuc2V0dGluZ3MudXJpLmdhdGV3YXlEb21haW4gKyB1cmwsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdYLUFQSS1LRVknOiBfdGhpcy5zZXR0aW5ncy5hcGlLZXlcbiAgICAgIH0sXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UsIGRhdGFPYmosIHhocikge1xuICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICB2YXIgaWRMaXN0ID0gW107XG5cbiAgICAgICAgICBpZiAodHlwZW9mIGpzb24uYWdncmVnYXRpb25zICE9PSAndW5kZWZpbmVkJyAmJiBqc29uLmFnZ3JlZ2F0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBtYXBPYmplY3QoanNvbi5hZ2dyZWdhdGlvbnNbMF0uaXRlbXMsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgIGlkTGlzdC5wdXNoKGl0ZW0udmFsdWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2soaWRMaXN0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfdGhpcy5sb2coJ2ZhaWxlZCB0byBjaGVja0Zvck1lbWJlckFjaGlldmVtZW50c0lzc3VlZCAnICsgcmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGNoZWNrRm9yTWVtYmVyQWNoaWV2ZW1lbnRzUHJvZ3Jlc3Npb25BamF4ID0gbmV3IGNMYWJzLkFqYXgoKTtcbiAgdGhpcy5jaGVja0Zvck1lbWJlckFjaGlldmVtZW50c1Byb2dyZXNzaW9uID0gZnVuY3Rpb24gKGlkTGlzdCwgY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciB1cmwgPSBfdGhpcy5zZXR0aW5ncy51cmkuYWNoaWV2ZW1lbnRzUHJvZ3Jlc3Npb24ucmVwbGFjZSgnOnNwYWNlJywgX3RoaXMuc2V0dGluZ3Muc3BhY2VOYW1lKS5yZXBsYWNlKCc6aWQnLCBfdGhpcy5zZXR0aW5ncy5tZW1iZXJJZCk7XG5cbiAgICBjaGVja0Zvck1lbWJlckFjaGlldmVtZW50c1Byb2dyZXNzaW9uQWpheC5hYm9ydCgpLmdldERhdGEoe1xuICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICB1cmw6IF90aGlzLnNldHRpbmdzLnVyaS5nYXRld2F5RG9tYWluICsgdXJsICsgKGlkTGlzdC5sZW5ndGggPiAwID8gKCc/aWQ9JyArIGlkTGlzdC5qb2luKCcsJykpIDogJycpLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnWC1BUEktS0VZJzogX3RoaXMuc2V0dGluZ3MuYXBpS2V5XG4gICAgICB9LFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlLCBkYXRhT2JqLCB4aHIpIHtcbiAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XG5cbiAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBjYWxsYmFjayhqc29uLmRhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF90aGlzLmxvZygnZmFpbGVkIHRvIGNoZWNrRm9yTWVtYmVyQWNoaWV2ZW1lbnRzUHJvZ3Jlc3Npb24gJyArIHJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBjaGVja0ZvckF2YWlsYWJsZVJld2FyZHNBamF4ID0gbmV3IGNMYWJzLkFqYXgoKTtcbiAgdGhpcy5jaGVja0ZvckF2YWlsYWJsZVJld2FyZHMgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciB1cmwgPSBfdGhpcy5zZXR0aW5ncy51cmkubWVzc2FnZXMucmVwbGFjZSgnOnNwYWNlJywgX3RoaXMuc2V0dGluZ3Muc3BhY2VOYW1lKS5yZXBsYWNlKCc6aWQnLCBfdGhpcy5zZXR0aW5ncy5tZW1iZXJJZCk7XG5cbiAgICAvLyBjbGFpbWVkIHJld2FyZHNcbiAgICBjaGVja0ZvckF2YWlsYWJsZVJld2FyZHNBamF4LmFib3J0KCkuZ2V0RGF0YSh7XG4gICAgICB0eXBlOiAnR0VUJyxcbiAgICAgIHVybDogX3RoaXMuc2V0dGluZ3MudXJpLmdhdGV3YXlEb21haW4gKyB1cmwgKyAnP19zb3J0QnlGaWVsZHM9Y3JlYXRlZDpkZXNjJm1lc3NhZ2VUeXBlPVJld2FyZCZwcml6ZS5jbGFpbWVkPXRydWUmX2hhc1ZhbHVlc0Zvcj1wcml6ZSZfbGltaXQ9MTAwJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ1gtQVBJLUtFWSc6IF90aGlzLnNldHRpbmdzLmFwaUtleVxuICAgICAgfSxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSwgZGF0YU9iaiwgeGhyKSB7XG4gICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICB2YXIganNvbkZvckFsbCA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xuXG4gICAgICAgICAgX3RoaXMuc2V0dGluZ3MucmV3YXJkcy5yZXdhcmRzID0gW107XG4gICAgICAgICAgX3RoaXMuc2V0dGluZ3MucmV3YXJkcy5hdmFpbGFibGVSZXdhcmRzID0gW107XG4gICAgICAgICAgX3RoaXMuc2V0dGluZ3MucmV3YXJkcy5leHBpcmVkUmV3YXJkcyA9IFtdO1xuXG4gICAgICAgICAgbWFwT2JqZWN0KGpzb25Gb3JBbGwuZGF0YSwgZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHZhciBleHBpcmVkID0gKHR5cGVvZiBtZXNzYWdlLmV4cGlyeSA9PT0gJ3VuZGVmaW5lZCcpID8gZmFsc2UgOiAobW9tZW50KG1lc3NhZ2UuZXhwaXJ5KS5kaWZmKG1vbWVudCgpKSA8IDApO1xuXG4gICAgICAgICAgICBpZiAoIWV4cGlyZWQpIHtcbiAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MucmV3YXJkcy5yZXdhcmRzLnB1c2gobWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBub3QtY2xhaW1lZCByZXdhcmRzXG4gICAgICAgICAgY2hlY2tGb3JBdmFpbGFibGVSZXdhcmRzQWpheC5hYm9ydCgpLmdldERhdGEoe1xuICAgICAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgICAgICB1cmw6IF90aGlzLnNldHRpbmdzLnVyaS5nYXRld2F5RG9tYWluICsgdXJsICsgJz9fc29ydEJ5RmllbGRzPWNyZWF0ZWQ6ZGVzYyZtZXNzYWdlVHlwZT1SZXdhcmQmcHJpemUuY2xhaW1lZD1mYWxzZSZfaGFzVmFsdWVzRm9yPXByaXplJl9saW1pdD0xMDAnLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAnWC1BUEktS0VZJzogX3RoaXMuc2V0dGluZ3MuYXBpS2V5XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlLCBkYXRhT2JqLCB4aHIpIHtcbiAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgIHZhciBqc29uRm9yQWxsID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XG5cbiAgICAgICAgICAgICAgICBtYXBPYmplY3QoanNvbkZvckFsbC5kYXRhLCBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgdmFyIGV4cGlyZWQgPSAodHlwZW9mIG1lc3NhZ2UuZXhwaXJ5ID09PSAndW5kZWZpbmVkJykgPyBmYWxzZSA6IChtb21lbnQobWVzc2FnZS5leHBpcnkpLmRpZmYobW9tZW50KCkpIDwgMCk7XG5cbiAgICAgICAgICAgICAgICAgIGlmICghZXhwaXJlZCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5yZXdhcmRzLmF2YWlsYWJsZVJld2FyZHMucHVzaChtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIGV4cGlyZWQgcmV3YXJkc1xuICAgICAgICAgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICB2YXIgdXRjRGF0ZSA9IGRhdGUuZ2V0VVRDRnVsbFllYXIoKSArICctJyArIGZvcm1hdE51bWJlckxlYWRpbmdaZXJvcygoZGF0ZS5nZXRVVENNb250aCgpICsgMSksIDIpICsgJy0nICsgZm9ybWF0TnVtYmVyTGVhZGluZ1plcm9zKGRhdGUuZ2V0VVRDRGF0ZSgpLCAyKSArICdUJyArIGZvcm1hdE51bWJlckxlYWRpbmdaZXJvcyhkYXRlLmdldFVUQ0hvdXJzKCksIDIpICsgJzonICsgZm9ybWF0TnVtYmVyTGVhZGluZ1plcm9zKGRhdGUuZ2V0VVRDTWludXRlcygpLCAyKSArICc6MDAnO1xuICAgICAgICAgICAgICAgIF90aGlzLnNldHRpbmdzLmdsb2JhbEFqYXguYWJvcnQoKS5nZXREYXRhKHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICAgICAgICAgICAgdXJsOiBfdGhpcy5zZXR0aW5ncy51cmkuZ2F0ZXdheURvbWFpbiArIHVybCArICc/X3NvcnRCeUZpZWxkcz1jcmVhdGVkOmRlc2MmX2xpbWl0PTEwMCZtZXNzYWdlVHlwZT1SZXdhcmQmX2hhc1ZhbHVlc0Zvcj1leHBpcnkmZXhwaXJ5PD09JyArIHV0Y0RhdGUsXG4gICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdYLUFQSS1LRVknOiBfdGhpcy5zZXR0aW5ncy5hcGlLZXlcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UsIGRhdGFPYmosIHhocikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGpzb25Gb3JBbGwgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcblxuICAgICAgICAgICAgICAgICAgICAgIG1hcE9iamVjdChqc29uRm9yQWxsLmRhdGEsIGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5yZXdhcmRzLmV4cGlyZWRSZXdhcmRzLnB1c2gobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBjYWxsYmFjayhfdGhpcy5zZXR0aW5ncy5yZXdhcmRzLnJld2FyZHMsIF90aGlzLnNldHRpbmdzLnJld2FyZHMuYXZhaWxhYmxlUmV3YXJkcywgX3RoaXMuc2V0dGluZ3MucmV3YXJkcy5leHBpcmVkUmV3YXJkcyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9nKCdmYWlsZWQgdG8gY2hlY2tGb3JBdmFpbGFibGVSZXdhcmRzIGV4cGlyZWQgJyArIHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIF90aGlzLmxvZygnZmFpbGVkIHRvIGNoZWNrRm9yQXZhaWxhYmxlUmV3YXJkcyBub3QtY2xhaW1lZCAnICsgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMubG9nKCdmYWlsZWQgdG8gY2hlY2tGb3JBdmFpbGFibGVSZXdhcmRzIGNsYWltZWQgJyArIHJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBjaGVja0ZvckF2YWlsYWJsZU1lc3NhZ2VzQWpheCA9IG5ldyBjTGFicy5BamF4KCk7XG4gIHRoaXMuY2hlY2tGb3JBdmFpbGFibGVNZXNzYWdlcyA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIHVybCA9IF90aGlzLnNldHRpbmdzLnVyaS5tZXNzYWdlcy5yZXBsYWNlKCc6c3BhY2UnLCBfdGhpcy5zZXR0aW5ncy5zcGFjZU5hbWUpLnJlcGxhY2UoJzppZCcsIF90aGlzLnNldHRpbmdzLm1lbWJlcklkKTtcbiAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7XG5cbiAgICBkYXRlLnNldERhdGUoZGF0ZS5nZXRNb250aCgpIC0gMSk7XG5cbiAgICB2YXIgY3JlYXRlZERhdGVGaWx0ZXIgPSBkYXRlLmdldEZ1bGxZZWFyKCkgKyAnLScgKyBmb3JtYXROdW1iZXJMZWFkaW5nWmVyb3MoKGRhdGUuZ2V0TW9udGgoKSArIDEpLCAyKSArICctJyArIGZvcm1hdE51bWJlckxlYWRpbmdaZXJvcyhkYXRlLmdldERhdGUoKSwgMik7XG5cbiAgICBjaGVja0ZvckF2YWlsYWJsZU1lc3NhZ2VzQWpheC5hYm9ydCgpLmdldERhdGEoe1xuICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICB1cmw6IF90aGlzLnNldHRpbmdzLnVyaS5nYXRld2F5RG9tYWluICsgdXJsICsgJz9fc29ydEJ5RmllbGRzPWNyZWF0ZWQ6ZGVzYyZfaGFzTm9WYWx1ZXNGb3I9cHJpemUmX2xpbWl0PTEwMCZjcmVhdGVkPj09JyArIGNyZWF0ZWREYXRlRmlsdGVyLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnWC1BUEktS0VZJzogX3RoaXMuc2V0dGluZ3MuYXBpS2V5XG4gICAgICB9LFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlLCBkYXRhT2JqLCB4aHIpIHtcbiAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgIHZhciBqc29uRm9yQWxsID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XG5cbiAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5tZXNzYWdlcy5tZXNzYWdlcyA9IFtdO1xuXG4gICAgICAgICAgbWFwT2JqZWN0KGpzb25Gb3JBbGwuZGF0YSwgZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIF90aGlzLnNldHRpbmdzLm1lc3NhZ2VzLm1lc3NhZ2VzLnB1c2gobWVzc2FnZSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBjYWxsYmFjayhfdGhpcy5zZXR0aW5ncy5tZXNzYWdlcy5tZXNzYWdlcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMubG9nKCdmYWlsZWQgdG8gY2hlY2tGb3JBdmFpbGFibGVNZXNzYWdlcyAnICsgcmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIG9wdEluTWVtYmVyQWpheCA9IG5ldyBjTGFicy5BamF4KCk7XG4gIHRoaXMub3B0SW5NZW1iZXJUb0FjdGl2ZUNvbXBldGl0aW9uID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgdXJsID0gX3RoaXMuc2V0dGluZ3MudXJpLm1lbWJlckNvbXBldGl0aW9uT3B0SW4ucmVwbGFjZSgnOnNwYWNlJywgX3RoaXMuc2V0dGluZ3Muc3BhY2VOYW1lKS5yZXBsYWNlKCc6aWQnLCBfdGhpcy5zZXR0aW5ncy5tZW1iZXJJZCkucmVwbGFjZSgnOmNvbXBldGl0aW9uSWQnLCBfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbklkKTtcblxuICAgIG9wdEluTWVtYmVyQWpheC5hYm9ydCgpLmdldERhdGEoe1xuICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICB1cmw6IF90aGlzLnNldHRpbmdzLnVyaS5nYXRld2F5RG9tYWluICsgdXJsLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnWC1BUEktS0VZJzogX3RoaXMuc2V0dGluZ3MuYXBpS2V5XG4gICAgICB9LFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlLCBkYXRhT2JqLCB4aHIpIHtcbiAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMubG9nKCdmYWlsZWQgdG8gb3B0SW5NZW1iZXJUb0FjdGl2ZUNvbXBldGl0aW9uICcgKyByZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB2YXIgcmV2YWxpZGF0aW9uQ291bnQgPSAwO1xuICB0aGlzLnJldmFsaWRhdGVJZlN1Y2Nlc3NmdWxsT3B0SW4gPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX3RoaXMubG9hZEFjdGl2ZUNvbXBldGl0aW9uKGZ1bmN0aW9uIChjb21wZXRpdGlvbkpzb24pIHtcbiAgICAgIGlmICh0eXBlb2YgY29tcGV0aXRpb25Kc29uLmRhdGEub3B0aW4gPT09ICdib29sZWFuJyAmJiAhY29tcGV0aXRpb25Kc29uLmRhdGEub3B0aW4pIHtcbiAgICAgICAgcmV2YWxpZGF0aW9uQ291bnQrKztcblxuICAgICAgICBpZiAocmV2YWxpZGF0aW9uQ291bnQgPCA1KSB7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5yZXZhbGlkYXRlSWZTdWNjZXNzZnVsbE9wdEluKGNhbGxiYWNrKTtcbiAgICAgICAgICB9LCAxMDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldmFsaWRhdGlvbkNvdW50ID0gMDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY29tcGV0aXRpb25Kc29uLmRhdGEub3B0aW4gPT09ICdib29sZWFuJyAmJiBjb21wZXRpdGlvbkpzb24uZGF0YS5vcHRpbikge1xuICAgICAgICBjYWxsYmFjayhjb21wZXRpdGlvbkpzb24pO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMubGVhZGVyYm9hcmREYXRhUmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnJlZnJlc2hMYkRhdGFJbnRlcnZhbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnJlZnJlc2hMYkRhdGFJbnRlcnZhbCk7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgKF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uICE9PSBudWxsICYmIHR5cGVvZiBfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbi5vcHRpblJlcXVpcmVkID09PSAnYm9vbGVhbicgJiYgIV90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uLm9wdGluUmVxdWlyZWQpIHx8XG4gICAgICAodHlwZW9mIF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uLm9wdGluID09PSAnYm9vbGVhbicgJiYgX3RoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24ub3B0aW4pXG4gICAgKSB7XG4gICAgICB2YXIgY291bnQgPSAoX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQuc2V0dGluZ3MuYWN0aXZlKSA/IDAgOiBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5mdWxsTGVhZGVyYm9hcmRTaXplO1xuICAgICAgX3RoaXMuZ2V0TGVhZGVyYm9hcmREYXRhKGNvdW50LCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBpZiAoX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQuc2V0dGluZ3MuYWN0aXZlKSBfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5sb2FkU2NvcmVCb2FyZCgpO1xuICAgICAgICBpZiAoX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5zZXR0aW5ncy5hY3RpdmUpIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQubG9hZExlYWRlcmJvYXJkKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5yZWZyZXNoTGJEYXRhSW50ZXJ2YWwgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmxlYWRlcmJvYXJkRGF0YVJlZnJlc2goKTtcbiAgICB9LCBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5yZWZyZXNoSW50ZXJ2YWxNaWxsaXMpO1xuICB9O1xuXG4gIHRoaXMuYWN0aXZlRGF0YVJlZnJlc2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLnJlZnJlc2hJbnRlcnZhbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLnJlZnJlc2hJbnRlcnZhbCk7XG4gICAgfVxuXG4gICAgX3RoaXMuY2hlY2tGb3JBdmFpbGFibGVDb21wZXRpdGlvbnMoZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMudXBkYXRlTGVhZGVyYm9hcmROYXZpZ2F0aW9uQ291bnRzKCk7XG5cbiAgICAgIF90aGlzLnByZXBhcmVBY3RpdmVDb21wZXRpdGlvbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb3VudCA9IChfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5zZXR0aW5ncy5hY3RpdmUpID8gMCA6IF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmZ1bGxMZWFkZXJib2FyZFNpemU7XG5cbiAgICAgICAgLy8gY2xlYXIgdG8gbm90IGNsYXNoIHdpdGggTEIgcmVmcmVzaCB0aGF0IGNvdWxkIGhhcHBlbiBhdCBzYW1lIHRpbWVcbiAgICAgICAgaWYgKF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnJlZnJlc2hJbnRlcnZhbCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5yZWZyZXNoSW50ZXJ2YWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF90aGlzLnNldHRpbmdzLm1pbmlTY29yZUJvYXJkLnNldHRpbmdzLmFjdGl2ZSB8fCBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LnNldHRpbmdzLmFjdGl2ZSkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIChfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbiAhPT0gbnVsbCAmJiB0eXBlb2YgX3RoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24ub3B0aW5SZXF1aXJlZCA9PT0gJ2Jvb2xlYW4nICYmICFfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbi5vcHRpblJlcXVpcmVkKSB8fFxuICAgICAgICAgICAgKF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uICE9PSBudWxsICYmIHR5cGVvZiBfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbi5vcHRpbiA9PT0gJ2Jvb2xlYW4nICYmIF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uLm9wdGluKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgX3RoaXMuZ2V0TGVhZGVyYm9hcmREYXRhKGNvdW50LCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICBpZiAoX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQuc2V0dGluZ3MuYWN0aXZlKSBfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5sb2FkU2NvcmVCb2FyZCgpO1xuICAgICAgICAgICAgICBpZiAoX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5zZXR0aW5ncy5hY3RpdmUpIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQubG9hZExlYWRlcmJvYXJkKCk7XG5cbiAgICAgICAgICAgICAgLy8gcmUtc3RhcnQgbGVhZGVyYm9hcmQgcmVmcmVzaFxuICAgICAgICAgICAgICBfdGhpcy5sZWFkZXJib2FyZERhdGFSZWZyZXNoKCk7XG5cbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQuc2V0dGluZ3MuYWN0aXZlKSBfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5sb2FkU2NvcmVCb2FyZCgpO1xuICAgICAgICAgICAgaWYgKF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQuc2V0dGluZ3MuYWN0aXZlKSB7XG4gICAgICAgICAgICAgIF90aGlzLmdldExlYWRlcmJvYXJkRGF0YShjb3VudCwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LmxvYWRMZWFkZXJib2FyZCgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcmVzdGFydCBsZWFkZXJib2FyZCByZWZyZXNoXG4gICAgICAgICAgICBfdGhpcy5sZWFkZXJib2FyZERhdGFSZWZyZXNoKCk7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKF90aGlzLnNldHRpbmdzLm1pbmlTY29yZUJvYXJkLnNldHRpbmdzLmFjdGl2ZSkgX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQubG9hZFNjb3JlQm9hcmQoKTtcblxuICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLnJlZnJlc2hJbnRlcnZhbCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuYWN0aXZlRGF0YVJlZnJlc2goKTtcbiAgICB9LCBfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5yZWZyZXNoSW50ZXJ2YWxNaWxsaXMpO1xuICB9O1xuXG4gIHRoaXMuZGVhY3RpdmF0ZUNvbXBldGl0aW9uc0FuZExlYWRlcmJvYXJkcyA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQucmVmcmVzaEludGVydmFsKSB7XG4gICAgICBjbGVhclRpbWVvdXQoX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQucmVmcmVzaEludGVydmFsKTtcbiAgICB9XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5jbGVhckFsbCgpO1xuICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQuY2xlYXJBbGwoKTtcblxuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuc3RvcEFjdGl2aXR5ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmIChfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5yZWZyZXNoSW50ZXJ2YWwpIHtcbiAgICAgIGNsZWFyVGltZW91dChfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5yZWZyZXNoSW50ZXJ2YWwpO1xuICAgICAgY2xlYXJJbnRlcnZhbChfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5yZWZyZXNoSW50ZXJ2YWwpO1xuICAgIH1cblxuICAgIGlmIChfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5yZWZyZXNoSW50ZXJ2YWwpIHtcbiAgICAgIGNsZWFyVGltZW91dChfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5yZWZyZXNoSW50ZXJ2YWwpO1xuICAgICAgY2xlYXJJbnRlcnZhbChfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5yZWZyZXNoSW50ZXJ2YWwpO1xuICAgIH1cblxuICAgIGlmIChfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5yZWZyZXNoTGJEYXRhSW50ZXJ2YWwpIHtcbiAgICAgIGNsZWFyVGltZW91dChfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5yZWZyZXNoTGJEYXRhSW50ZXJ2YWwpO1xuICAgICAgY2xlYXJJbnRlcnZhbChfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5yZWZyZXNoTGJEYXRhSW50ZXJ2YWwpO1xuICAgIH1cblxuICAgIGlmIChfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5zZXR0aW5ncy51cGRhdGVJbnRlcnZhbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnNldHRpbmdzLm1pbmlTY29yZUJvYXJkLnNldHRpbmdzLnVwZGF0ZUludGVydmFsKTtcbiAgICAgIGNsZWFySW50ZXJ2YWwoX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQucmVmcmVzaEludGVydmFsKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLnJlc3RhcnRBY3Rpdml0eSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfdGhpcy5hY3RpdmVEYXRhUmVmcmVzaCgpO1xuICAgIF90aGlzLnNldHRpbmdzLm1pbmlTY29yZUJvYXJkLnVwZGF0ZVNjb3JlQm9hcmQoKTtcblxuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMubG9hZE1lbWJlciA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5nbG9iYWxBamF4LmFib3J0KCkuZ2V0RGF0YSh7XG4gICAgICB0eXBlOiAnR0VUJyxcbiAgICAgIHVybDogX3RoaXMuc2V0dGluZ3MudXJpLmdhdGV3YXlEb21haW4gKyBfdGhpcy5zZXR0aW5ncy51cmkubWVtYmVycy5yZXBsYWNlKCc6c3BhY2UnLCBfdGhpcy5zZXR0aW5ncy5zcGFjZU5hbWUpLnJlcGxhY2UoJzppZCcsIF90aGlzLnNldHRpbmdzLm1lbWJlcklkKSxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ1gtQVBJLUtFWSc6IF90aGlzLnNldHRpbmdzLmFwaUtleVxuICAgICAgfSxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSwgZGF0YU9iaiwgeGhyKSB7XG4gICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xuXG4gICAgICAgICAgX3RoaXMuc2V0dGluZ3MubWVtYmVyID0ganNvbi5kYXRhO1xuXG4gICAgICAgICAgY2FsbGJhY2soanNvbi5kYXRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfdGhpcy5sb2coJ2ZhaWxlZCB0byBsb2FkTWVtYmVyICcgKyByZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLmxvYWRXaWRnZXRUcmFuc2xhdGlvbnMgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKHR5cGVvZiBfdGhpcy5zZXR0aW5ncy51cmkudHJhbnNsYXRpb25QYXRoID09PSAnc3RyaW5nJyAmJiBfdGhpcy5zZXR0aW5ncy51cmkudHJhbnNsYXRpb25QYXRoLmxlbmd0aCA+IDAgJiYgX3RoaXMuc2V0dGluZ3MubG9hZFRyYW5zbGF0aW9ucykge1xuICAgICAgdmFyIHVybCA9IChzdHJpbmdDb250YWlucyhfdGhpcy5zZXR0aW5ncy51cmkudHJhbnNsYXRpb25QYXRoLCAnaHR0cCcpKSA/IF90aGlzLnNldHRpbmdzLnVyaS50cmFuc2xhdGlvblBhdGgucmVwbGFjZSgnOmxhbmd1YWdlJywgX3RoaXMuc2V0dGluZ3MubGFuZ3VhZ2UpIDogX3RoaXMuc2V0dGluZ3MudXJpLmdhdGV3YXlEb21haW4gKyBfdGhpcy5zZXR0aW5ncy51cmkudHJhbnNsYXRpb25QYXRoLnJlcGxhY2UoJzpsYW5ndWFnZScsIF90aGlzLnNldHRpbmdzLmxhbmd1YWdlKTtcblxuICAgICAgX3RoaXMuc2V0dGluZ3MuZ2xvYmFsQWpheC5hYm9ydCgpLmdldERhdGEoe1xuICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnWC1BUEktS0VZJzogX3RoaXMuc2V0dGluZ3MuYXBpS2V5XG4gICAgICAgIH0sXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSwgZGF0YU9iaiwgeGhyKSB7XG4gICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcblxuICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MudHJhbnNsYXRpb24gPSBtZXJnZU9iamVjdHMoX3RoaXMuc2V0dGluZ3MudHJhbnNsYXRpb24sIGpzb24pO1xuXG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5sb2coJ25vIHRyYW5zbGF0aW9uIGZvb3VuZCAnICsgcmVzcG9uc2UpO1xuXG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuc3RhcnR1cCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQuaW5pdExheW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5zZXR0aW5ncy5hY3RpdmUgPSB0cnVlO1xuICAgICAgX3RoaXMuYWN0aXZlRGF0YVJlZnJlc2goKTtcblxuICAgICAgaWYgKF90aGlzLnNldHRpbmdzLmVuYWJsZU5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3Mubm90aWZpY2F0aW9ucy5pbml0KCk7XG4gICAgICAgIF90aGlzLnNldHRpbmdzLmNhbnZhc0FuaW1hdGlvbi5pbml0KCk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLmNsZWFudXAoKTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgX2NsZWFudXBJbnN0YW5jZTtcbiAgdGhpcy5jbGVhbnVwID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAoX2NsZWFudXBJbnN0YW5jZSkge1xuICAgICAgY2xlYXJUaW1lb3V0KF9jbGVhbnVwSW5zdGFuY2UpO1xuICAgIH1cblxuICAgIF9jbGVhbnVwSW5zdGFuY2UgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQucHJlTG9hZGVyUmVydW4oKTtcblxuICAgICAgX3RoaXMuY2xlYW51cCgpO1xuICAgIH0sIDMwMDApO1xuICB9O1xuXG4gIHRoaXMubG9hZFN0eWxlc2hlZXQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBjcmVhdGVkUmVzb3VyY2VzID0gZmFsc2U7XG4gICAgdmFyIGF2YWlsYWJsZUxpbmtzID0gW107XG5cbiAgICBvYmplY3RJdGVyYXRvcihxdWVyeSgnbGluaycpLCBmdW5jdGlvbiAobGluaykge1xuICAgICAgaWYgKGxpbmsgIT09IG51bGwpIHtcbiAgICAgICAgYXZhaWxhYmxlTGlua3MucHVzaChuZXcgVVJMKGxpbmsuaHJlZiwgZG9jdW1lbnQuYmFzZVVSSSkuaHJlZik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBtYXBPYmplY3QoX3RoaXMuc2V0dGluZ3MucmVzb3VyY2VzLCBmdW5jdGlvbiAocmVzb3VyY2UsIGtleSwgY291bnQpIHtcbiAgICAgIHZhciBleGlzdHMgPSBmYWxzZTtcblxuICAgICAgbWFwT2JqZWN0KGF2YWlsYWJsZUxpbmtzLCBmdW5jdGlvbiAobGluaykge1xuICAgICAgICBpZiAobGluayA9PT0gbmV3IFVSTChyZXNvdXJjZSwgZG9jdW1lbnQuYmFzZVVSSSkuaHJlZikge1xuICAgICAgICAgIGV4aXN0cyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIWV4aXN0cykge1xuICAgICAgICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTtcbiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ3JlbCcsICdzdHlsZXNoZWV0Jyk7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQvY3NzJyk7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgcmVzb3VyY2UpO1xuXG4gICAgICAgIGlmIChjb3VudCA9PT0gMCkge1xuICAgICAgICAgIGxpbmsub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBsaW5rLm9uZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspO1xuXG4gICAgICAgIGNyZWF0ZWRSZXNvdXJjZXMgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKCFjcmVhdGVkUmVzb3VyY2VzICYmIHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5jbGlja2VkTWluaVNjb3JlQm9hcmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmICghX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQuc2V0dGluZ3MuZHJhZ2dpbmcpIHtcbiAgICAgIF90aGlzLmRlYWN0aXZhdGVDb21wZXRpdGlvbnNBbmRMZWFkZXJib2FyZHMoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5sZWFkZXJib2FyZERhdGEgPSBbXTtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5pbml0TGF5b3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvLyBsb2FkIHRvdXJuYW1lbnRzIGRhdGFcbiAgICAgICAgICBpZiAoX3RoaXMuc2V0dGluZ3MubmF2aWdhdGlvbi50b3VybmFtZW50cy5lbmFibGUpIHtcbiAgICAgICAgICAgIF90aGlzLmFjdGl2ZURhdGFSZWZyZXNoKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gbG9hZCBhY2hpZXZlbWVudCBkYXRhXG4gICAgICAgICAgaWYgKF90aGlzLnNldHRpbmdzLm5hdmlnYXRpb24uYWNoaWV2ZW1lbnRzLmVuYWJsZSkge1xuICAgICAgICAgICAgX3RoaXMuY2hlY2tGb3JBdmFpbGFibGVBY2hpZXZlbWVudHMoZnVuY3Rpb24gKGFjaGlldmVtZW50RGF0YSkge1xuICAgICAgICAgICAgICBfdGhpcy51cGRhdGVBY2hpZXZlbWVudE5hdmlnYXRpb25Db3VudHMoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGxvYWQgaW5pdGlhbCBhdmFpbGFibGUgcmV3YXJkIGRhdGFcbiAgICAgICAgICBpZiAoX3RoaXMuc2V0dGluZ3MubmF2aWdhdGlvbi5yZXdhcmRzLmVuYWJsZSkge1xuICAgICAgICAgICAgX3RoaXMuY2hlY2tGb3JBdmFpbGFibGVSZXdhcmRzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgX3RoaXMudXBkYXRlUmV3YXJkc05hdmlnYXRpb25Db3VudHMoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGxvYWQgaW5pdGlhbCBhdmFpbGFibGUgbWVzc2FnZXMgZGF0YVxuICAgICAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5uYXZpZ2F0aW9uLmluYm94LmVuYWJsZSkge1xuICAgICAgICAgICAgX3RoaXMuY2hlY2tGb3JBdmFpbGFibGVNZXNzYWdlcyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIF90aGlzLnVwZGF0ZU1lc3NhZ2VzTmF2aWdhdGlvbkNvdW50cygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQuc2V0dGluZ3MuY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIH0sIDIwMCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIE9wZW4gbWFpbiB3aWRnZXQgYW5kIG9wZW4gc3BlY2lmaWMgdGFiIGFuZCBsb2FkcyByZWxldmFudCBhY3Rpb25cbiAgICogQG1lbWJlck9mIExiV2lkZ2V0XG4gICAqIEBwYXJhbSB0YWIgU3RyaW5nXG4gICAqIEBwYXJhbSBhY3Rpb25DYWxsYmFjayBGdW5jdGlvblxuICAgKi9cbiAgdGhpcy5vcGVuV2l0aFRhYkFuZEFjdGlvbiA9IGZ1bmN0aW9uICh0YWIsIGFjdGlvbkNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmIChfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LnNldHRpbmdzLmFjdGl2ZSkge1xuICAgICAgdmFyIGxvYWRUYWIgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LnNldHRpbmdzLmNvbnRhaW5lciwgdGFiKTtcbiAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQubmF2aWdhdGlvblN3aXRjaChsb2FkVGFiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLmFjdGl2ZURhdGFSZWZyZXNoKCk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBhY3Rpb25DYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGFjdGlvbkNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQuc2V0dGluZ3MuY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB9LCAyMDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBfdGhpcy5kZWFjdGl2YXRlQ29tcGV0aXRpb25zQW5kTGVhZGVyYm9hcmRzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5pbml0TGF5b3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0Lm5hdmlnYXRpb25Td2l0Y2gocXVlcnkoX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5zZXR0aW5ncy5jb250YWluZXIsIHRhYiksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmFjdGl2ZURhdGFSZWZyZXNoKCk7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgYWN0aW9uQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgYWN0aW9uQ2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzLnNldHRpbmdzLm1pbmlTY29yZUJvYXJkLnNldHRpbmdzLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9LCAyMDApO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBsb2FkQ29tcGV0aXRpb25MaXN0QWpheCA9IG5ldyBjTGFicy5BamF4KCk7XG4gIHRoaXMuZXZlbnRIYW5kbGVycyA9IGZ1bmN0aW9uIChlbCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAvLyBtaW5pIHNjb3JlYm9hcmQgb3B0LWluIGFjdGlvblxuICAgIGlmIChoYXNDbGFzcyhlbCwgJ2NsLXdpZGdldC1tcy1vcHRpbi1hY3Rpb24nKSAmJiAhaGFzQ2xhc3MoZWwsICdjaGVja2luZycpKSB7XG4gICAgICBhZGRDbGFzcyhlbCwgJ2NoZWNraW5nJyk7XG5cbiAgICAgIF90aGlzLm9wdEluTWVtYmVyVG9BY3RpdmVDb21wZXRpdGlvbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnJldmFsaWRhdGVJZlN1Y2Nlc3NmdWxsT3B0SW4oZnVuY3Rpb24gKGNvbXBldGl0aW9uSnNvbikge1xuICAgICAgICAgIF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uID0gY29tcGV0aXRpb25Kc29uLmRhdGE7XG5cbiAgICAgICAgICAvLyBfdGhpcy5nZXRMZWFkZXJib2FyZERhdGEoMSwgZnVuY3Rpb24oIGRhdGEgKXtcbiAgICAgICAgICAvLyAgX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQubG9hZFNjb3JlQm9hcmQoIGRhdGEgKTtcbiAgICAgICAgICAvLyB9KTtcblxuICAgICAgICAgIC8vIGV4dHJhIGFjdGlvbiB0byBsb2FkIGNvbXBldGl0aW9uIGRldGFpbHMgb24gbWluaSBzY29yZWJvYXJkIG9wdC1pbiAtIFByb2R1Y3QgcmVxdWVzdFxuICAgICAgICAgIF90aGlzLmRlYWN0aXZhdGVDb21wZXRpdGlvbnNBbmRMZWFkZXJib2FyZHMoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQubGVhZGVyYm9hcmREYXRhID0gW107XG4gICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LmluaXRMYXlvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBfdGhpcy5hY3RpdmVEYXRhUmVmcmVzaCgpO1xuXG4gICAgICAgICAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQubG9hZENvbXBldGl0aW9uRGV0YWlscyhmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5zZXR0aW5ncy5jb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZW1vdmVDbGFzcyhlbCwgJ2NoZWNraW5nJyk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIExlYWRlcmJvYXJkIGRldGFpbHMgb3B0LWluIGFjdGlvblxuICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3MoZWwsICdjbC1tYWluLXdpZGdldC1sYi1kZXRhaWxzLW9wdGluLWFjdGlvbicpICYmICFoYXNDbGFzcyhlbCwgJ2NoZWNraW5nJykpIHtcbiAgICAgIGFkZENsYXNzKGVsLCAnY2hlY2tpbmcnKTtcblxuICAgICAgX3RoaXMub3B0SW5NZW1iZXJUb0FjdGl2ZUNvbXBldGl0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMucmV2YWxpZGF0ZUlmU3VjY2Vzc2Z1bGxPcHRJbihmdW5jdGlvbiAoY29tcGV0aXRpb25Kc29uKSB7XG4gICAgICAgICAgX3RoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24gPSBjb21wZXRpdGlvbkpzb24uZGF0YTtcbiAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LmNvbXBldGl0aW9uRGV0YWlsc09wdEluQnV0dG9uU3RhdGUoKTtcblxuICAgICAgICAgIHJlbW92ZUNsYXNzKGVsLCAnY2hlY2tpbmcnKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gTGVhZGVyYm9hcmQgZGV0YWlscyBvcHQtaW4gYWN0aW9uXG4gICAgfSBlbHNlIGlmIChoYXNDbGFzcyhlbCwgJ2NsLW1haW4td2lkZ2V0LWxiLW9wdGluLWFjdGlvbicpICYmICFoYXNDbGFzcyhlbCwgJ2NoZWNraW5nJykpIHtcbiAgICAgIGFkZENsYXNzKGVsLCAnY2hlY2tpbmcnKTtcblxuICAgICAgX3RoaXMub3B0SW5NZW1iZXJUb0FjdGl2ZUNvbXBldGl0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMucmV2YWxpZGF0ZUlmU3VjY2Vzc2Z1bGxPcHRJbihmdW5jdGlvbiAoY29tcGV0aXRpb25Kc29uKSB7XG4gICAgICAgICAgX3RoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24gPSBjb21wZXRpdGlvbkpzb24uZGF0YTtcblxuICAgICAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQubG9hZENvbXBldGl0aW9uRGV0YWlscyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZW1vdmVDbGFzcyhlbCwgJ2NoZWNraW5nJyk7XG4gICAgICAgICAgZWwucGFyZW50Tm9kZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBjbG9zZSBtaW5pIHNjb3JlYm9hcmQgaW5mbyBhcmVhXG4gICAgfSBlbHNlIGlmIChoYXNDbGFzcyhlbCwgJ2NsLXdpZGdldC1tcy1pbmZvcm1hdGlvbi1jbG9zZScpICYmICFoYXNDbGFzcyhlbCwgJ2NoZWNraW5nJykpIHtcbiAgICAgIF90aGlzLnNldHRpbmdzLm1pbmlTY29yZUJvYXJkLmNsZWFyQWxsKCk7XG5cbiAgICAgIC8vIGNsb3NlIG5vdGlmaWNhdGlvbiB3aW5kb3dcbiAgICB9IGVsc2UgaWYgKGhhc0NsYXNzKGVsLCAnY2wtd2lkZ2V0LW5vdGlmLWluZm9ybWF0aW9uLWNsb3NlJykgJiYgIWhhc0NsYXNzKGVsLCAnY2hlY2tpbmcnKSkge1xuICAgICAgX3RoaXMuc2V0dGluZ3Mubm90aWZpY2F0aW9ucy5oaWRlTm90aWZpY2F0aW9uKCk7XG5cbiAgICAgIC8vIGNsb3NlIGxlYWRlcmJvYXJkIHdpbmRvd1xuICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3MoZWwsICdjbC1tYWluLXdpZGdldC1sYi1oZWFkZXItY2xvc2UnKSB8fCBoYXNDbGFzcyhlbCwgJ2NsLW1haW4td2lkZ2V0LWFjaC1oZWFkZXItY2xvc2UnKSB8fCBoYXNDbGFzcyhlbCwgJ2NsLW1haW4td2lkZ2V0LXJld2FyZC1oZWFkZXItY2xvc2UnKSB8fCBoYXNDbGFzcyhlbCwgJ2NsLW1haW4td2lkZ2V0LWluYm94LWhlYWRlci1jbG9zZScpIHx8IGhhc0NsYXNzKGVsLCAnY2wtd2lkZ2V0LW1haW4td2lkZ2V0LW92ZXJsYXktd3JhcHBlcicpKSB7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LmhpZGUoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5zZXR0aW5ncy5hY3RpdmUgPSB0cnVlO1xuICAgICAgICBfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5zZXR0aW5ncy5jb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICAgICAgX3RoaXMuYWN0aXZlRGF0YVJlZnJlc2goKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBsb2FkIGVtYmVkZGVkIGNvbXBldGl0aW9uIGRldGFpbHNcbiAgICB9IGVsc2UgaWYgKCFfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5sYXlvdXRTZXR0aW5ncy50aXRsZUxpbmtUb0RldGFpbHNQYWdlICYmIChoYXNDbGFzcyhlbCwgJ2NsLW1haW4td2lkZ2V0LWxiLWRldGFpbHMtY29udGVudC1sYWJlbCcpIHx8IGNsb3Nlc3QoZWwsICcuY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1jb250ZW50LWxhYmVsJykgIT09IG51bGwpKSB7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LnNob3dFbWJlZGRlZENvbXBldGl0aW9uRGV0YWlsc0NvbnRlbnQoZnVuY3Rpb24gKCkge30pO1xuXG4gICAgICAvLyBoaWRlIGVtYmVkZGVkIGNvbXBldGl0aW9uIGRldGFpbHNcbiAgICB9IGVsc2UgaWYgKCFfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5sYXlvdXRTZXR0aW5ncy50aXRsZUxpbmtUb0RldGFpbHNQYWdlICYmIGhhc0NsYXNzKGVsLCAnY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1kZXNjcmlwdGlvbi1jbG9zZScpKSB7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LmhpZGVFbWJlZGRlZENvbXBldGl0aW9uRGV0YWlsc0NvbnRlbnQoZnVuY3Rpb24gKCkge30pO1xuXG4gICAgICAvLyBsb2FkIGNvbXBldGl0aW9uIGRldGFpbHNcbiAgICB9IGVsc2UgaWYgKGhhc0NsYXNzKGVsLCAnY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1jb250ZW50LWxhYmVsJykgfHwgY2xvc2VzdChlbCwgJy5jbC1tYWluLXdpZGdldC1sYi1kZXRhaWxzLWNvbnRlbnQtbGFiZWwnKSAhPT0gbnVsbCkge1xuICAgICAgaWYgKF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QgIT09IG51bGwpIHtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5sb2FkQ29tcGV0aXRpb25EZXRhaWxzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIGxvYWQgYWNoaWV2ZW1lbnQgZGV0YWlsc1xuICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3MoZWwsICdjbC1hY2gtbGlzdC1tb3JlJykpIHtcbiAgICAgIF90aGlzLmdldEFjaGlldmVtZW50KGVsLmRhdGFzZXQuaWQsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQubG9hZEFjaGlldmVtZW50RGV0YWlscyhkYXRhLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIGxlYWRlcmJvYXJkIGRldGFpbHMgYmFjayBidXR0b25cbiAgICB9IGVsc2UgaWYgKGhhc0NsYXNzKGVsLCAnY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1iYWNrLWJ0bicpKSB7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LmhpZGVDb21wZXRpdGlvbkRldGFpbHMoKTtcblxuICAgICAgLy8gYWNoaWV2ZW1lbnRzIGRldGFpbHMgYmFjayBidXR0b25cbiAgICB9IGVsc2UgaWYgKGhhc0NsYXNzKGVsLCAnY2wtbWFpbi13aWRnZXQtYWNoLWRldGFpbHMtYmFjay1idG4nKSkge1xuICAgICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5oaWRlQWNoaWV2ZW1lbnREZXRhaWxzKGZ1bmN0aW9uICgpIHtcbiAgICAgIH0pO1xuXG4gICAgICAvLyByZXdhcmRzIGRldGFpbHMgYmFjayBidXR0b25cbiAgICB9IGVsc2UgaWYgKGhhc0NsYXNzKGVsLCAnY2wtbWFpbi13aWRnZXQtcmV3YXJkLWRldGFpbHMtYmFjay1idG4nKSkge1xuICAgICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5oaWRlUmV3YXJkRGV0YWlscyhmdW5jdGlvbiAoKSB7XG4gICAgICB9KTtcblxuICAgICAgLy8gbWVzc2FnZXMgZGV0YWlscyBiYWNrIGJ1dHRvblxuICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3MoZWwsICdjbC1tYWluLXdpZGdldC1pbmJveC1kZXRhaWxzLWJhY2stYnRuJykpIHtcbiAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQuaGlkZU1lc3NhZ2VEZXRhaWxzKGZ1bmN0aW9uICgpIHtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBsb2FkIHJld2FyZHMgZGV0YWlsc1xuICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3MoZWwsICdjbC1yZXctbGlzdC1pdGVtJykgfHwgY2xvc2VzdChlbCwgJy5jbC1yZXctbGlzdC1pdGVtJykgIT09IG51bGwpIHtcbiAgICAgIHZhciByZXdhcmRJZCA9IChoYXNDbGFzcyhlbCwgJ2NsLXJldy1saXN0LWl0ZW0nKSkgPyBlbC5kYXRhc2V0LnJld2FyZElkIDogY2xvc2VzdChlbCwgJy5jbC1yZXctbGlzdC1pdGVtJykuZGF0YXNldC5yZXdhcmRJZDtcbiAgICAgIF90aGlzLmdldFJld2FyZChyZXdhcmRJZCwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5sb2FkUmV3YXJkRGV0YWlscyhkYXRhLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIGxvYWQgaW5ib3ggZGV0YWlsc1xuICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3MoZWwsICdjbC1pbmJveC1saXN0LWl0ZW0nKSB8fCBjbG9zZXN0KGVsLCAnLmNsLWluYm94LWxpc3QtaXRlbScpICE9PSBudWxsKSB7XG4gICAgICB2YXIgbWVzc2FnZUlkID0gKGhhc0NsYXNzKGVsLCAnY2wtaW5ib3gtbGlzdC1pdGVtJykpID8gZWwuZGF0YXNldC5yZXdhcmRJZCA6IGNsb3Nlc3QoZWwsICcuY2wtaW5ib3gtbGlzdC1pdGVtJykuZGF0YXNldC5pZDtcbiAgICAgIF90aGlzLmdldE1lc3NhZ2UobWVzc2FnZUlkLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LmxvYWRNZXNzYWdlRGV0YWlscyhkYXRhLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIGNsYWltIHJld2FyZFxuICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3MoZWwsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtY2xhaW0tYnRuJykpIHtcbiAgICAgIF90aGlzLmNsYWltUmV3YXJkKGVsLmRhdGFzZXQuaWQsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhLmRhdGEuY2xhaW1lZCkge1xuICAgICAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQubG9hZFJld2FyZHMoKTtcblxuICAgICAgICAgIGFkZENsYXNzKGVsLCAnY2wtY2xhaW1lZCcpO1xuICAgICAgICAgIGVsLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLnRyYW5zbGF0aW9uLnJld2FyZHMuY2xhaW1lZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZW1vdmVDbGFzcyhlbCwgJ2NsLWNsYWltZWQnKTtcbiAgICAgICAgICBlbC5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy50cmFuc2xhdGlvbi5yZXdhcmRzLmNsYWltO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gbG9hZCBhY2hpZXZlbWVudCBkZXRhaWxzIHdpbmRvdyBmcm9tIG5vdGlmaWNhdGlvbiB3aW5kb3dcbiAgICB9IGVsc2UgaWYgKGhhc0NsYXNzKGVsLCAnY2wtd2lkZ2V0LW5vdGlmLWluZm9ybWF0aW9uLWRldGFpbHMtd3JhcHBlcicpIHx8IGNsb3Nlc3QoZWwsICcuY2wtd2lkZ2V0LW5vdGlmLWluZm9ybWF0aW9uLWRldGFpbHMtd3JhcHBlcicpICE9PSBudWxsKSB7XG4gICAgICBfdGhpcy5vcGVuV2l0aFRhYkFuZEFjdGlvbignLmNsLW1haW4td2lkZ2V0LW5hdmlnYXRpb24tYWNoLWljb24nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpZCA9IChoYXNDbGFzcyhlbCwgJ2NsLXdpZGdldC1ub3RpZi1pbmZvcm1hdGlvbi1kZXRhaWxzLXdyYXBwZXInKSkgPyBlbC5kYXRhc2V0LmlkIDogY2xvc2VzdChlbCwgJy5jbC13aWRnZXQtbm90aWYtaW5mb3JtYXRpb24tZGV0YWlscy13cmFwcGVyJykuZGF0YXNldC5pZDtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3Mubm90aWZpY2F0aW9ucy5oaWRlTm90aWZpY2F0aW9uKCk7XG4gICAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQuaGlkZUFjaGlldmVtZW50RGV0YWlscyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMuZ2V0QWNoaWV2ZW1lbnQoaWQsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LmxvYWRBY2hpZXZlbWVudERldGFpbHMoZGF0YSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIHByaW1hcnkgd2lkZ2V0IG5hdmlnYXRpb25cbiAgICB9IGVsc2UgaWYgKGhhc0NsYXNzKGVsLCAnY2wtbWFpbi1uYXZpZ2F0aW9uLWl0ZW0nKSkge1xuICAgICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5uYXZpZ2F0aW9uU3dpdGNoKGVsKTtcblxuICAgICAgLy8gY29tcGV0aXRpb24gbGlzdFxuICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3MoZWwsICdjbC1tYWluLXdpZGdldC1sYi1oZWFkZXItbGlzdC1pY29uJykpIHtcbiAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5yZWZyZXNoSW50ZXJ2YWwpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnJlZnJlc2hJbnRlcnZhbCk7XG4gICAgICB9XG4gICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LmxvYWRDb21wZXRpdGlvbkxpc3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5hY3RpdmVEYXRhUmVmcmVzaCgpO1xuICAgICAgfSwgbG9hZENvbXBldGl0aW9uTGlzdEFqYXgpO1xuXG4gICAgICAvLyBsb2FkIGNvbXBldGl0aW9uXG4gICAgfSBlbHNlIGlmIChoYXNDbGFzcyhlbCwgJ2NsLXRvdXItbGlzdC1pdGVtJykgfHwgY2xvc2VzdChlbCwgJy5jbC10b3VyLWxpc3QtaXRlbScpICE9PSBudWxsKSB7XG4gICAgICB2YXIgdG91cm5hbWVudElkID0gKGhhc0NsYXNzKGVsLCAnY2wtdG91ci1saXN0LWl0ZW0nKSkgPyBlbC5kYXRhc2V0LmlkIDogY2xvc2VzdChlbCwgJy5jbC10b3VyLWxpc3QtaXRlbScpLmRhdGFzZXQuaWQ7XG4gICAgICB2YXIgcHJlTG9hZGVyID0gX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5wcmVsb2FkZXIoKTtcblxuICAgICAgcHJlTG9hZGVyLnNob3coZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LnNldHRpbmdzLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIF90aGlzLnNldHRpbmdzLnRvdXJuYW1lbnRzLmFjdGl2ZUNvbXBldGl0aW9uSWQgPSB0b3VybmFtZW50SWQ7XG4gICAgICAgIF90aGlzLmFjdGl2ZURhdGFSZWZyZXNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LmhpZGVDb21wZXRpdGlvbkxpc3QoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5sYXlvdXRTZXR0aW5ncy50aXRsZUxpbmtUb0RldGFpbHNQYWdlKSB7XG4gICAgICAgICAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQuc2hvd0VtYmVkZGVkQ29tcGV0aXRpb25EZXRhaWxzQ29udGVudChmdW5jdGlvbiAoKSB7fSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5sb2FkQ29tcGV0aXRpb25EZXRhaWxzKGZ1bmN0aW9uICgpIHt9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcHJlTG9hZGVyLmhpZGUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gaGlkZSBjb21wZXRpdGlvbiBsaXN0IHZpZXdcbiAgICB9IGVsc2UgaWYgKGhhc0NsYXNzKGVsLCAnY2wtbWFpbi13aWRnZXQtdG91cm5hbWVudHMtYmFjay1idG4nKSkge1xuICAgICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5oaWRlQ29tcGV0aXRpb25MaXN0KCk7XG5cbiAgICAgIC8vIG1pbmkgc2NvcmVib2FyZCBhY3Rpb24gdG8gb3BlbiBwcmltYXJ5IHdpZGdldFxuICAgIH0gZWxzZSBpZiAoKGhhc0NsYXNzKGVsLCAnY2wtd2lkZ2V0LW1zLWljb24td3JhcHBlcicpIHx8IGNsb3Nlc3QoZWwsICcuY2wtd2lkZ2V0LW1zLWljb24td3JhcHBlcicpICE9PSBudWxsKSB8fCAoaGFzQ2xhc3MoZWwsICdjbC13aWRnZXQtbXMtaW5mb3JtYXRpb24td3JhcHBlcicpIHx8IGNsb3Nlc3QoZWwsICcuY2wtd2lkZ2V0LW1zLWluZm9ybWF0aW9uLXdyYXBwZXInKSAhPT0gbnVsbCkpIHtcbiAgICAgIF90aGlzLmNsaWNrZWRNaW5pU2NvcmVCb2FyZCgpO1xuXG4gICAgICAvLyBhY2NvcmRpb24gbmF2aWdhdGlvblxuICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3MoZWwsICdjbC1hY2NvcmRpb24tbGFiZWwnKSkge1xuICAgICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5hY2NvcmRpb25OYXZpZ2F0aW9uKGVsKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5ldmVudExpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XG4gICAgICAgIGNhc2UgMjc6IC8vIG9uIGVzY2FwZVxuICAgICAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LnNldHRpbmdzLmFjdGl2ZSkge1xuICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5oaWRlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQuc2V0dGluZ3MuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQuc2V0dGluZ3MuY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gICAgICAgICAgICAgIF90aGlzLmFjdGl2ZURhdGFSZWZyZXNoKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoX3RoaXMuaXNNb2JpbGUoKSkge1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgZWwgPSBldmVudC50YXJnZXQ7XG5cbiAgICAgICAgaWYgKCFfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5zZXR0aW5ncy5kcmFnZ2luZykge1xuICAgICAgICAgIF90aGlzLmV2ZW50SGFuZGxlcnMoZWwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgZWwgPSBldmVudC50YXJnZXQ7XG5cbiAgICAgICAgX3RoaXMuZXZlbnRIYW5kbGVycyhlbCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5jbG9zZUV2ZXJ5dGhpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF90aGlzLmRlYWN0aXZhdGVDb21wZXRpdGlvbnNBbmRMZWFkZXJib2FyZHMoZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQubGVhZGVyYm9hcmREYXRhID0gW107XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQuc2V0dGluZ3MuY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB9LCAyMDApO1xuICAgIH0pO1xuXG4gICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5oaWRlKCk7XG4gICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5zZXR0aW5ncy5wcmVMb2FkZXIucHJlTG9hZGVyQWN0aXZlID0gZmFsc2U7XG4gIH07XG5cbiAgdGhpcy5yZXN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LmhpZGUoKCkgPT4ge1xuICAgICAgX3RoaXMuZGVhY3RpdmF0ZUNvbXBldGl0aW9uc0FuZExlYWRlcmJvYXJkcygoKSA9PiB7XG4gICAgICAgIF90aGlzLnN0b3BBY3Rpdml0eSgoKSA9PiB7XG4gICAgICAgICAgX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQuc2V0dGluZ3MuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5zZXR0aW5ncy5jb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgX3RoaXMuc3RhcnR1cCgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuaXNNb2JpbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGlzTW9iaWxlVGFibGV0KCk7XG4gIH07XG5cbiAgdGhpcy5hcHBseUFwcGVhcmFuY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuc2V0dGluZ3Muc3R5bGVzKSB7XG4gICAgICBjb25zdCBzdHlsZXMgPSBPYmplY3Qua2V5cyh0aGlzLnNldHRpbmdzLnN0eWxlcykucmVkdWNlKChhY2N1bXVsYXRvciwgY3VycmVudFZhbHVlKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uYWNjdW11bGF0b3IsXG4gICAgICAgICAgW2AtLWxiMy0ke2NhbWVsVG9LZWJhYkNhc2UoY3VycmVudFZhbHVlKX1gXTogdGhpcy5zZXR0aW5ncy5zdHlsZXNbY3VycmVudFZhbHVlXVxuICAgICAgICB9O1xuICAgICAgfSwge30pO1xuXG4gICAgICBjc3NWYXJzKHtcbiAgICAgICAgaW5jbHVkZTogJ2xpbmtbcmVsPXN0eWxlc2hlZXRdLHN0eWxlJyxcbiAgICAgICAgd2F0Y2g6IHRydWUsXG4gICAgICAgIG9ubHlMZWdhY3k6IGZhbHNlLFxuICAgICAgICB2YXJpYWJsZXM6IHsgLi4uc3R5bGVzIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogSW5pdCBMYldpZGdldCBtZXRob2RcbiAgICogQG1ldGhvZFxuICAgKiBAbWVtYmVyT2YgTGJXaWRnZXRcbiAgICogQHJldHVybiB7dW5kZWZpbmVkfVxuICAgKi9cbiAgdGhpcy5pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMubG9hZFN0eWxlc2hlZXQoKCkgPT4ge1xuICAgICAgdGhpcy5hcHBseUFwcGVhcmFuY2UoKTtcblxuICAgICAgdGhpcy5sb2FkTWVtYmVyKChtZW1iZXIpID0+IHtcbiAgICAgICAgdGhpcy5sb2FkV2lkZ2V0VHJhbnNsYXRpb25zKCgpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5jYW52YXNBbmltYXRpb24gPSBuZXcgQ2FudmFzQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLm5vdGlmaWNhdGlvbnMgPSBuZXcgTm90aWZpY2F0aW9ucyh7XG4gICAgICAgICAgICAgIGNhbnZhc0luc3RhbmNlOiB0aGlzLnNldHRpbmdzLmNhbnZhc0FuaW1hdGlvblxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLm1pbmlTY29yZUJvYXJkID0gbmV3IE1pbmlTY29yZUJvYXJkKHtcbiAgICAgICAgICAgICAgYWN0aXZlOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MubWFpbldpZGdldCA9IG5ldyBNYWluV2lkZ2V0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3Mubm90aWZpY2F0aW9ucy5zZXR0aW5ncy5sYldpZGdldCA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLm1pbmlTY29yZUJvYXJkLnNldHRpbmdzLmxiV2lkZ2V0ID0gdGhpcztcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MubWFpbldpZGdldC5zZXR0aW5ncy5sYldpZGdldCA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLmNhbnZhc0FuaW1hdGlvbi5zZXR0aW5ncy5sYldpZGdldCA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMuc3RhcnR1cCgpO1xuICAgICAgICAgICAgdGhpcy5ldmVudExpc3RlbmVycygpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLm1haW5XaWRnZXQuaGlkZSgoKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuZGVhY3RpdmF0ZUNvbXBldGl0aW9uc0FuZExlYWRlcmJvYXJkcygoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5zZXR0aW5ncy5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQuc2V0dGluZ3MuY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnR1cCgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBpZiAodGhpcy5zZXR0aW5ncy5hdXRvU3RhcnQpIHtcbiAgICB0aGlzLmluaXQoKTtcbiAgfVxufTtcbiIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCBtYXBPYmplY3QgZnJvbSAnLi4vdXRpbHMvbWFwT2JqZWN0JztcbmltcG9ydCBoYXNDbGFzcyBmcm9tICcuLi91dGlscy9oYXNDbGFzcyc7XG5pbXBvcnQgcmVtb3ZlQ2xhc3MgZnJvbSAnLi4vdXRpbHMvcmVtb3ZlQ2xhc3MnO1xuaW1wb3J0IG9iamVjdEl0ZXJhdG9yIGZyb20gJy4uL3V0aWxzL29iamVjdEl0ZXJhdG9yJztcbmltcG9ydCBxdWVyeSBmcm9tICcuLi91dGlscy9xdWVyeSc7XG5pbXBvcnQgY2xvc2VzdCBmcm9tICcuLi91dGlscy9jbG9zZXN0JztcbmltcG9ydCBhZGRDbGFzcyBmcm9tICcuLi91dGlscy9hZGRDbGFzcyc7XG5pbXBvcnQgcmVtb3ZlIGZyb20gJy4uL3V0aWxzL3JlbW92ZSc7XG5pbXBvcnQgYXBwZW5kTmV4dCBmcm9tICcuLi91dGlscy9hcHBlbmROZXh0JztcbmltcG9ydCBzdHJpcEh0bWwgZnJvbSAnLi4vdXRpbHMvc3RyaXBIdG1sJztcblxuLyoqXG4gKiBNYWluV2lkZ2V0XG4gKiBAcGFyYW0gb3B0aW9ucyB7T2JqZWN0fVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmV4cG9ydCBjb25zdCBNYWluV2lkZ2V0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgLyoqXG4gICAqIE1haW5XaWRnZXQgc2V0dGluZ3NcbiAgICogQG1lbWJlck9mIE1haW5XaWRnZXRcbiAgICogQGNvbnN0YW50XG4gICAqIEB0eXBlIHsgT2JqZWN0IH1cbiAgICovXG4gIHRoaXMuc2V0dGluZ3MgPSB7XG4gICAgbGJXaWRnZXQ6IG51bGwsXG4gICAgY29udGFpbmVyOiBudWxsLFxuICAgIG92ZXJsYXlDb250YWluZXI6IG51bGwsXG4gICAgbmF2aWdhdGlvbjogbnVsbCxcbiAgICBzZWN0aW9uOiBudWxsLFxuICAgIGRldGFpbHNDb250YWluZXI6IG51bGwsXG4gICAgdG91cm5hbWVudExpc3RDb250YWluZXI6IG51bGwsXG4gICAgaGVhZGVyRGF0ZTogbnVsbCxcbiAgICBsYWJlbERhdGU6IG51bGwsXG4gICAgcHJlTG9hZGVyOiB7XG4gICAgICBwcmVMb2FkZXJBY3RpdmU6IGZhbHNlLFxuICAgICAgcHJlTG9hZGVybGFzdEF0dGVtcHQ6IG51bGwsXG4gICAgICBwcmVsb2FkZXJDYWxsYmFja1JlY292ZXJ5OiBmdW5jdGlvbiAoKSB7XG4gICAgICB9XG4gICAgfSxcbiAgICBhY2hpZXZlbWVudDoge1xuICAgICAgY29udGFpbmVyOiBudWxsLFxuICAgICAgZGV0YWlsc0NvbnRhaW5lcjogbnVsbFxuICAgIH0sXG4gICAgcmV3YXJkOiB7XG4gICAgICBjb250YWluZXI6IG51bGwsXG4gICAgICBkZXRhaWxzQ29udGFpbmVyOiBudWxsXG4gICAgfSxcbiAgICBtZXNzYWdlczoge1xuICAgICAgY29udGFpbmVyOiBudWxsLFxuICAgICAgZGV0YWlsc0NvbnRhaW5lcjogbnVsbFxuICAgIH0sXG4gICAgbGVhZGVyYm9hcmQ6IHtcbiAgICAgIGRlZmF1bHRFbXB0eUxpc3Q6IDIwLFxuICAgICAgdG9wUmVzdWx0U2l6ZTogMyxcbiAgICAgIGhlYWRlcjogbnVsbCxcbiAgICAgIGNvbnRhaW5lcjogbnVsbCxcbiAgICAgIHJlc3VsdENvbnRhaW5lcjogbnVsbCxcbiAgICAgIGxpc3Q6IG51bGwsXG4gICAgICB0b3BSZXN1bHRzOiBudWxsLFxuICAgICAgdGltZXJJbnRlcnZhbDogbnVsbFxuICAgIH0sXG4gICAgdG91cm5hbWVudHNTZWN0aW9uOiB7XG4gICAgICBhY2NvcmRpb25MYXlvdXQ6IFt7XG4gICAgICAgIGxhYmVsOiAnVXBjb21pbmcgVG91cm5hbWVudHMnLFxuICAgICAgICB0eXBlOiAncmVhZHlDb21wZXRpdGlvbnMnLFxuICAgICAgICBzaG93OiBmYWxzZSxcbiAgICAgICAgc2hvd1RvcFJlc3VsdHM6IDFcbiAgICAgIH0sIHtcbiAgICAgICAgbGFiZWw6ICdBY3RpdmUgVG91cm5hbWVudHMnLFxuICAgICAgICB0eXBlOiAnYWN0aXZlQ29tcGV0aXRpb25zJyxcbiAgICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgICAgc2hvd1RvcFJlc3VsdHM6IDFcbiAgICAgIH0sIHtcbiAgICAgICAgbGFiZWw6ICdGaW5pc2hlZCBUb3VybmFtZW50cycsXG4gICAgICAgIHR5cGU6ICdmaW5pc2hlZENvbXBldGl0aW9ucycsXG4gICAgICAgIHNob3c6IGZhbHNlLFxuICAgICAgICBzaG93VG9wUmVzdWx0czogMVxuICAgICAgfV1cbiAgICB9LFxuICAgIHJld2FyZHNTZWN0aW9uOiB7XG4gICAgICBhY2NvcmRpb25MYXlvdXQ6IFt7XG4gICAgICAgIGxhYmVsOiAnQXZhaWxhYmxlIFJld2FyZHMnLFxuICAgICAgICB0eXBlOiAnYXZhaWxhYmxlUmV3YXJkcycsXG4gICAgICAgIHNob3c6IHRydWUsXG4gICAgICAgIHNob3dUb3BSZXN1bHRzOiAxXG4gICAgICB9LCB7XG4gICAgICAgIGxhYmVsOiAnQ2xhaW1lZCBSZXdhcmRzJyxcbiAgICAgICAgdHlwZTogJ3Jld2FyZHMnLFxuICAgICAgICBzaG93OiBmYWxzZSxcbiAgICAgICAgc2hvd1RvcFJlc3VsdHM6IDFcbiAgICAgIH0sIHtcbiAgICAgICAgbGFiZWw6ICdFeHBpcmVkIFJld2FyZHMnLFxuICAgICAgICB0eXBlOiAnZXhwaXJlZFJld2FyZHMnLFxuICAgICAgICBzaG93OiBmYWxzZSxcbiAgICAgICAgc2hvd1RvcFJlc3VsdHM6IDFcbiAgICAgIH1dXG4gICAgfSxcbiAgICBhY3RpdmU6IGZhbHNlLFxuICAgIG5hdmlnYXRpb25Td2l0Y2hMYXN0QXRlbXB0OiBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcbiAgICBuYXZpZ2F0aW9uU3dpdGNoSW5Qcm9ncmVzczogZmFsc2VcbiAgfTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgZm9yICh2YXIgb3B0IGluIG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KG9wdCkpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5nc1tvcHRdID0gb3B0aW9uc1tvcHRdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBY2NvcmRpb24gc3R5bGUgbGF5b3V0XG4gICAqIC0gcGFyYW1ldGVyczpcbiAgICogICAgICAtIGxhYmVsOiBTdHJpbmcgXCJBdmFpbGFibGUgcmV3YXJkc1wiXG4gICAqICAgICAgLSB0eXBlOiBTdHJpbmcgXCJhdmFpbGFibGUtcmV3YXJkc1wiXG4gICAqICAgICAgLSBzaG93bjogQm9vbGVhbiB0cnVlL2ZhbHNlXG4gICAqXG4gICAqIEBtZW1iZXJPZiBNYWluV2lkZ2V0XG4gICAqIEBwYXJhbSBkYXRhIHsgQXJyYXkgfVxuICAgKiBAcGFyYW0gb25MYXlvdXQgeyBGdW5jdGlvbiB9XG4gICAqL1xuICB0aGlzLmFjY29yZGlvblN0eWxlID0gZnVuY3Rpb24gKGRhdGEsIG9uTGF5b3V0KSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgYWNjb3JkaW9uV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgYWNjb3JkaW9uV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4tYWNjb3JkaW9uLWNvbnRhaW5lcicpO1xuXG4gICAgbWFwT2JqZWN0KGRhdGEsIGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgdmFyIGFjY29yZGlvblNlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHZhciBhY2NvcmRpb25MYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdmFyIHRvcFNob3duRW50cnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHZhciBhY2NvcmRpb25MaXN0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB2YXIgYWNjb3JkaW9uTGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICBhY2NvcmRpb25TZWN0aW9uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtYWNjb3JkaW9uICcgKyBlbnRyeS50eXBlICsgKCh0eXBlb2YgZW50cnkuc2hvdyA9PT0gJ2Jvb2xlYW4nICYmIGVudHJ5LnNob3cpID8gJyBjbC1zaG93bicgOiAnJykpO1xuICAgICAgYWNjb3JkaW9uTGFiZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1hY2NvcmRpb24tbGFiZWwnKTtcbiAgICAgIHRvcFNob3duRW50cnkuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1hY2NvcmRpb24tZW50cnknKTtcbiAgICAgIGFjY29yZGlvbkxpc3RDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1hY2NvcmRpb24tbGlzdC1jb250YWluZXInKTtcbiAgICAgIGFjY29yZGlvbkxpc3Quc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1hY2NvcmRpb24tbGlzdCcpO1xuXG4gICAgICBpZiAodHlwZW9mIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLnJld2FyZHNbZW50cnkudHlwZV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGFjY29yZGlvbkxhYmVsLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLnJld2FyZHNbZW50cnkudHlwZV07XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi50b3VybmFtZW50c1tlbnRyeS50eXBlXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgYWNjb3JkaW9uTGFiZWwuaW5uZXJIVE1MID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24udG91cm5hbWVudHNbZW50cnkudHlwZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY2NvcmRpb25MYWJlbC5pbm5lckhUTUwgPSBlbnRyeS5sYWJlbDtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBvbkxheW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvbkxheW91dChhY2NvcmRpb25TZWN0aW9uLCBhY2NvcmRpb25MaXN0LCB0b3BTaG93bkVudHJ5LCBlbnRyeSk7XG4gICAgICB9XG5cbiAgICAgIGFjY29yZGlvbkxpc3RDb250YWluZXIuYXBwZW5kQ2hpbGQoYWNjb3JkaW9uTGlzdCk7XG5cbiAgICAgIGFjY29yZGlvblNlY3Rpb24uYXBwZW5kQ2hpbGQoYWNjb3JkaW9uTGFiZWwpO1xuICAgICAgYWNjb3JkaW9uU2VjdGlvbi5hcHBlbmRDaGlsZCh0b3BTaG93bkVudHJ5KTtcbiAgICAgIGFjY29yZGlvblNlY3Rpb24uYXBwZW5kQ2hpbGQoYWNjb3JkaW9uTGlzdENvbnRhaW5lcik7XG5cbiAgICAgIGFjY29yZGlvbldyYXBwZXIuYXBwZW5kQ2hpbGQoYWNjb3JkaW9uU2VjdGlvbik7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gYWNjb3JkaW9uV3JhcHBlcjtcbiAgfTtcblxuICB0aGlzLmFjY29yZGlvbk5hdmlnYXRpb24gPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgIC8vIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIHBhcmVudEVsID0gZWxlbWVudC5wYXJlbnROb2RlO1xuXG4gICAgaWYgKGhhc0NsYXNzKHBhcmVudEVsLCAnY2wtc2hvd24nKSkge1xuICAgICAgcmVtb3ZlQ2xhc3MocGFyZW50RWwsICdjbC1zaG93bicpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmplY3RJdGVyYXRvcihxdWVyeShjbG9zZXN0KHBhcmVudEVsLCAnLmNsLW1haW4tYWNjb3JkaW9uLWNvbnRhaW5lcicpLCAnLmNsLXNob3duJyksIGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmVtb3ZlQ2xhc3Mob2JqLCAnY2wtc2hvd24nKTtcbiAgICAgIH0pO1xuXG4gICAgICBhZGRDbGFzcyhwYXJlbnRFbCwgJ2NsLXNob3duJyk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMubmF2aWdhdGlvblNvcnRlciA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgaWYgKGEub3JkZXIgPCBiLm9yZGVyKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGlmIChhLm9yZGVyID4gYi5vcmRlcikge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9O1xuXG4gIHRoaXMubmF2aWdhdGlvbkl0ZW1zID0gZnVuY3Rpb24gKGNvbnRhaW5lciwgbmF2aWdhdGlvbkxpc3QpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgbWFwT2JqZWN0KG5hdmlnYXRpb25MaXN0LCBmdW5jdGlvbiAodmFsLCBrZXkpIHtcbiAgICAgIHZhciBuYXZpZ2F0aW9uSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdmFyIG5hdmlnYXRpb25JdGVtSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdmFyIG5hdmlnYXRpb25JdGVtQ291bnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgbmF2aWdhdGlvbkl0ZW0uc2V0QXR0cmlidXRlKCdjbGFzcycsIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLm5hdmlnYXRpb25bdmFsLmtleV0ubmF2aWdhdGlvbkNsYXNzICsgJyBjbC1tYWluLXdpZGdldC1uYXZpZ2F0aW9uLWl0ZW0nICsgKF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLm5hdmlnYXRpb25bdmFsLmtleV0uZW5hYmxlID8gJycgOiAnIGNsLWhpZGRlbi1uYXZpZ2F0aW9uLWl0ZW0nKSk7XG4gICAgICBuYXZpZ2F0aW9uSXRlbUljb24uc2V0QXR0cmlidXRlKCdjbGFzcycsIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLm5hdmlnYXRpb25bdmFsLmtleV0ubmF2aWdhdGlvbkNsYXNzSWNvbiArICcgY2wtbWFpbi1uYXZpZ2F0aW9uLWl0ZW0nKTtcbiAgICAgIG5hdmlnYXRpb25JdGVtQ291bnQuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLW5hdmlnYXRpb24taXRlbS1jb3VudCcpO1xuXG4gICAgICBuYXZpZ2F0aW9uSXRlbUljb24uYXBwZW5kQ2hpbGQobmF2aWdhdGlvbkl0ZW1Db3VudCk7XG4gICAgICBuYXZpZ2F0aW9uSXRlbS5hcHBlbmRDaGlsZChuYXZpZ2F0aW9uSXRlbUljb24pO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKG5hdmlnYXRpb25JdGVtKTtcbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLm92ZXJsYXlMYXlvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIHdyYXBwZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbWFpbi13aWRnZXQtb3ZlcmxheS13cmFwcGVyJyk7XG5cbiAgICByZXR1cm4gd3JhcHBlcjtcbiAgfTtcblxuICB0aGlzLmxheW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGlubmVyV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgdmFyIG5hdmlnYXRpb25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgbmF2aWdhdGlvbkl0ZW1zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICB2YXIgbWFpblNlY3Rpb25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIHZhciBwcmVMb2FkZXJDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgcHJlTG9hZGVyQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBwcmVMb2FkZXJCYXIxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHByZUxvYWRlckJhcjIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgcHJlTG9hZGVyQmFyMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgdmFyIHNlY3Rpb25MQiA9IF90aGlzLmxlYWRlcmJvYXJkQXJlYUxheW91dCgpO1xuICAgIHZhciBzZWN0aW9uQUNIID0gX3RoaXMuYWNoaWV2ZW1lbnRzQXJlYUxheW91dCgpO1xuICAgIHZhciBzZWN0aW9uUmV3YXJkcyA9IF90aGlzLnJld2FyZHNBcmVhTGF5b3V0KCk7XG4gICAgdmFyIHNlY3Rpb25JbmJveCA9IF90aGlzLmluYm94QXJlYUxheW91dCgpO1xuXG4gICAgdmFyIG5hdmlnYXRpb25JdGVtTGlzdCA9IFtdO1xuICAgIG1hcE9iamVjdChfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5uYXZpZ2F0aW9uLCBmdW5jdGlvbiAodmFsLCBrZXkpIHtcbiAgICAgIG5hdmlnYXRpb25JdGVtTGlzdC5wdXNoKHtcbiAgICAgICAga2V5OiBrZXksXG4gICAgICAgIG9yZGVyOiBwYXJzZUludCh2YWwub3JkZXIpXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF90aGlzLm5hdmlnYXRpb25JdGVtcyhuYXZpZ2F0aW9uSXRlbXMsIG5hdmlnYXRpb25JdGVtTGlzdCk7IC8vIHBvcHVsYXRlIHNvcnRlZCBuYXZpZ2F0aW9uXG5cbiAgICB3cmFwcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtd3JhcHBlcicpO1xuICAgIGlubmVyV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWlubmVyLXdyYXBwZXInKTtcblxuICAgIG5hdmlnYXRpb25Db250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1uYXZpZ2F0aW9uLWNvbnRhaW5lcicpO1xuICAgIG5hdmlnYXRpb25JdGVtcy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LW5hdmlnYXRpb24taXRlbXMnKTtcblxuICAgIG1haW5TZWN0aW9uQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtc2VjdGlvbi1jb250YWluZXInICsgKF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnNob3dDb3B5cmlnaHQgPyAnJyA6ICcgY2wtaGlkZGVuLWNvcHlyaWdodCcpKTtcblxuICAgIHByZUxvYWRlckNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LXByZS1sb2FkZXInKTtcbiAgICBwcmVMb2FkZXJDb250ZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtcHJlLWxvYWRlci1jb250ZW50Jyk7XG4gICAgcHJlTG9hZGVyQmFyMS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXByZS1sb2FkZXItYmFyJyk7XG4gICAgcHJlTG9hZGVyQmFyMi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXByZS1sb2FkZXItYmFyJyk7XG4gICAgcHJlTG9hZGVyQmFyMy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXByZS1sb2FkZXItYmFyJyk7XG5cbiAgICBwcmVMb2FkZXJDb250ZW50LmFwcGVuZENoaWxkKHByZUxvYWRlckJhcjEpO1xuICAgIHByZUxvYWRlckNvbnRlbnQuYXBwZW5kQ2hpbGQocHJlTG9hZGVyQmFyMik7XG4gICAgcHJlTG9hZGVyQ29udGVudC5hcHBlbmRDaGlsZChwcmVMb2FkZXJCYXIzKTtcbiAgICBwcmVMb2FkZXJDb250YWluZXIuYXBwZW5kQ2hpbGQocHJlTG9hZGVyQ29udGVudCk7XG5cbiAgICBuYXZpZ2F0aW9uQ29udGFpbmVyLmFwcGVuZENoaWxkKG5hdmlnYXRpb25JdGVtcyk7XG5cbiAgICBtYWluU2VjdGlvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uTEIpO1xuICAgIG1haW5TZWN0aW9uQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25BQ0gpO1xuICAgIG1haW5TZWN0aW9uQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25SZXdhcmRzKTtcbiAgICBtYWluU2VjdGlvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uSW5ib3gpO1xuICAgIG1haW5TZWN0aW9uQ29udGFpbmVyLmFwcGVuZENoaWxkKHByZUxvYWRlckNvbnRhaW5lcik7XG5cbiAgICBpbm5lcldyYXBwZXIuYXBwZW5kQ2hpbGQobmF2aWdhdGlvbkNvbnRhaW5lcik7XG4gICAgaW5uZXJXcmFwcGVyLmFwcGVuZENoaWxkKG1haW5TZWN0aW9uQ29udGFpbmVyKTtcbiAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGlubmVyV3JhcHBlcik7XG5cbiAgICByZXR1cm4gd3JhcHBlcjtcbiAgfTtcblxuICB0aGlzLm1haW5OYXZpZ2F0aW9uQ2hlY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgbmF2SXRlbXMgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtbmF2aWdhdGlvbi1pdGVtJyk7XG4gICAgdmFyIGNoZWNrRW5hYmxlZCA9IDA7XG5cbiAgICBvYmplY3RJdGVyYXRvcihuYXZJdGVtcywgZnVuY3Rpb24gKG5hdkl0ZW0pIHtcbiAgICAgIGlmICghaGFzQ2xhc3MobmF2SXRlbSwgJ2NsLWhpZGRlbi1uYXZpZ2F0aW9uLWl0ZW0nKSkge1xuICAgICAgICBjaGVja0VuYWJsZWQrKztcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChjaGVja0VuYWJsZWQgPT09IDEpIHtcbiAgICAgIGFkZENsYXNzKHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1pbm5lci13cmFwcGVyJyksICdjbC1oaWRkZW4tbmF2aWdhdGlvbicpO1xuICAgIH0gZWxzZSBpZiAoY2hlY2tFbmFibGVkID09PSAwKSB7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5sb2coJ0FsbCBuYXZpZ2F0aW9uIGl0ZW1zIGRpc2FibGVkLCBjaGVjayBbdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5uYXZpZ2F0aW9uXScpO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLmxlYWRlcmJvYXJkQXJlYUxheW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBzZWN0aW9uTEIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIHZhciBzZWN0aW9uTEJIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvbkxCSGVhZGVyTGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uTEJIZWFkZXJMaXN0SWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uTEJIZWFkZXJMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uTEJIZWFkZXJEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25MQkhlYWRlckNsb3NlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICB2YXIgc2VjdGlvbkxCRGV0YWlscyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uTEJEZXRhaWxzSW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uTEJEZXRhaWxzSW5mb0ljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvbkxCRGV0YWlsc0ltYWdlQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25MQkRldGFpbHNDb250ZW50Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25MQkRldGFpbHNDb250ZW50Q29udGFpbmVyTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvbkxCRGV0YWlsc0NvbnRlbnRDb250YWluZXJMYWJlbFRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgdmFyIHNlY3Rpb25MQkRldGFpbHNDb250ZW50Q29udGFpbmVyRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICB2YXIgc2VjdGlvbkxCRGV0YWlsc0Rlc2NyaXB0aW9uQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25MQkRldGFpbHNEZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uTEJEZXRhaWxzRGVzY3JpcHRpb25DbG9zZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcblxuICAgIHZhciBzZWN0aW9uTEJMZWFkZXJib2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uTEJMZWFkZXJib2FyZEhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uTEJMZWFkZXJib2FyZEhlYWRlckxhYmVscyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uTEJMZWFkZXJib2FyZFJlc3VsdHNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvbkxCTGVhZGVyYm9hcmRIZWFkZXJUb3BSZXN1bHRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25MQkxlYWRlcmJvYXJkQm9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uTEJMZWFkZXJib2FyZEJvZHlSZXN1bHRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICB2YXIgc2VjdGlvbkxCTWlzc2luZ01lbWJlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgdmFyIHNlY3Rpb25MQk9wdEluQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25MQk9wdEluQWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuXG4gICAgdmFyIHNlY3Rpb25MQkZvb3RlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uTEJGb290ZXJDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICB2YXIgc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0hlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uVG91cm5hbWVudERldGFpbHNIZWFkZXJMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uVG91cm5hbWVudERldGFpbHNIZWFkZXJEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0JhY2tCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgdmFyIHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0JvZHlDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzQm9keUltYWdlQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0JvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzT3B0SW5Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzT3B0SW5BY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG5cbiAgICB2YXIgc2VjdGlvblRvdXJuYW1lbnRMaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25Ub3VybmFtZW50TGlzdEJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvblRvdXJuYW1lbnRMaXN0Qm9keVJlc3VsdHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvblRvdXJuYW1lbnRCYWNrQWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuXG4gICAgc2VjdGlvbkxCLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5uYXZpZ2F0aW9uLnRvdXJuYW1lbnRzLmNvbnRhaW5lckNsYXNzICsgJyBjbC1tYWluLXNlY3Rpb24taXRlbSBjbC1tYWluLWFjdGl2ZS1zZWN0aW9uJyArIChfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5sZWFkZXJib2FyZC5sYXlvdXRTZXR0aW5ncy5pbWFnZUJhbm5lciA/ICcgY2wtbWFpbi1zZWN0aW9uLWltYWdlLWJhbm5lci1hY3RpdmUnIDogJycpKTtcbiAgICBzZWN0aW9uTEJIZWFkZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1sYi1oZWFkZXInKTtcbiAgICBzZWN0aW9uTEJIZWFkZXJMaXN0LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItaGVhZGVyLWxpc3QnKTtcbiAgICBzZWN0aW9uTEJIZWFkZXJMaXN0SWNvbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLWhlYWRlci1saXN0LWljb24nKTtcbiAgICBzZWN0aW9uTEJIZWFkZXJMYWJlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLWhlYWRlci1sYWJlbCcpO1xuICAgIHNlY3Rpb25MQkhlYWRlckRhdGUuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1sYi1oZWFkZXItZGF0ZScpO1xuICAgIHNlY3Rpb25MQkhlYWRlckNsb3NlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItaGVhZGVyLWNsb3NlJyk7XG5cbiAgICBzZWN0aW9uTEJEZXRhaWxzLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscycpO1xuICAgIHNlY3Rpb25MQkRldGFpbHNJbmZvLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1pbmZvJyk7XG4gICAgc2VjdGlvbkxCRGV0YWlsc0luZm9JY29uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1pbmZvLWljb24nKTtcbiAgICBzZWN0aW9uTEJEZXRhaWxzSW1hZ2VDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1sYi1kZXRhaWxzLWltYWdlLWNvbnRhaW5lcicpO1xuICAgIHNlY3Rpb25MQkRldGFpbHNDb250ZW50Q29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1jb250ZW50Jyk7XG4gICAgc2VjdGlvbkxCRGV0YWlsc0NvbnRlbnRDb250YWluZXJMYWJlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLWRldGFpbHMtY29udGVudC1sYWJlbCcpO1xuICAgIHNlY3Rpb25MQkRldGFpbHNDb250ZW50Q29udGFpbmVyTGFiZWxUZXh0LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1jb250ZW50LWxhYmVsLXRleHQnKTtcbiAgICBzZWN0aW9uTEJEZXRhaWxzQ29udGVudENvbnRhaW5lckRhdGUuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1sYi1kZXRhaWxzLWNvbnRlbnQtZGF0ZScpO1xuICAgIHNlY3Rpb25MQkRldGFpbHNEZXNjcmlwdGlvbkNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLWRldGFpbHMtZGVzY3JpcHRpb24tY29udGFpbmVyJyk7XG4gICAgc2VjdGlvbkxCRGV0YWlsc0Rlc2NyaXB0aW9uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1kZXNjcmlwdGlvbicpO1xuICAgIHNlY3Rpb25MQkRldGFpbHNEZXNjcmlwdGlvbkNsb3NlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1kZXNjcmlwdGlvbi1jbG9zZScpO1xuXG4gICAgLy8gTGVhZGVyYm9hcmQgcmVzdWx0IGNvbnRhaW5lclxuICAgIHNlY3Rpb25MQkxlYWRlcmJvYXJkLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItbGVhZGVyYm9hcmQnKTtcbiAgICBzZWN0aW9uTEJMZWFkZXJib2FyZEhlYWRlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLWxlYWRlcmJvYXJkLWhlYWRlcicpO1xuICAgIHNlY3Rpb25MQkxlYWRlcmJvYXJkSGVhZGVyTGFiZWxzLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItbGVhZGVyYm9hcmQtaGVhZGVyLWxhYmVscycpO1xuICAgIHNlY3Rpb25MQkxlYWRlcmJvYXJkUmVzdWx0c0NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLWxlYWRlcmJvYXJkLXJlcy1jb250YWluZXInKTtcbiAgICBzZWN0aW9uTEJMZWFkZXJib2FyZEhlYWRlclRvcFJlc3VsdHMuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1sYi1sZWFkZXJib2FyZC1oZWFkZXItdG9wLXJlcycpO1xuICAgIHNlY3Rpb25MQkxlYWRlcmJvYXJkQm9keS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLWxlYWRlcmJvYXJkLWJvZHknKTtcbiAgICBzZWN0aW9uTEJMZWFkZXJib2FyZEJvZHlSZXN1bHRzLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItbGVhZGVyYm9hcmQtYm9keS1yZXMnKTtcblxuICAgIHNlY3Rpb25MQk1pc3NpbmdNZW1iZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1sYi1taXNzaW5nLW1lbWJlcicpO1xuXG4gICAgLy8gZm9vdGVyXG4gICAgc2VjdGlvbkxCRm9vdGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItZm9vdGVyJyk7XG4gICAgc2VjdGlvbkxCRm9vdGVyQ29udGVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLWZvb3Rlci1jb250ZW50Jyk7XG5cbiAgICAvLyBkZXRhaWxzIHNlY3Rpb25cbiAgICBzZWN0aW9uVG91cm5hbWVudERldGFpbHNDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1sYi1kZXRhaWxzLWNvbnRhaW5lcicpO1xuICAgIHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0hlYWRlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLWRldGFpbHMtaGVhZGVyJyk7XG4gICAgc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzSGVhZGVyTGFiZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1sYi1kZXRhaWxzLWhlYWRlci1sYWJlbCcpO1xuICAgIHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0hlYWRlckRhdGUuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1sYi1kZXRhaWxzLWhlYWRlci1kYXRlJyk7XG4gICAgc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzQmFja0J0bi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLWRldGFpbHMtYmFjay1idG4nKTtcbiAgICBzZWN0aW9uVG91cm5hbWVudERldGFpbHNCb2R5Q29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1ib2R5LWNvbnRhaW5lcicpO1xuICAgIHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0JvZHlJbWFnZUNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLWRldGFpbHMtYm9keS1pbWFnZS1jb250Jyk7XG4gICAgc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzQm9keS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLWRldGFpbHMtYm9keScpO1xuICAgIHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc09wdEluQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1vcHRpbi1jb250YWluZXInKTtcbiAgICBzZWN0aW9uVG91cm5hbWVudERldGFpbHNPcHRJbkFjdGlvbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLWRldGFpbHMtb3B0aW4tYWN0aW9uJyk7XG5cbiAgICBzZWN0aW9uVG91cm5hbWVudExpc3Quc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC10b3VybmFtZW50cy1saXN0Jyk7XG4gICAgc2VjdGlvblRvdXJuYW1lbnRCYWNrQWN0aW9uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtdG91cm5hbWVudHMtYmFjay1idG4nKTtcbiAgICBzZWN0aW9uVG91cm5hbWVudExpc3RCb2R5LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtdG91cm5hbWVudHMtbGlzdC1ib2R5Jyk7XG4gICAgc2VjdGlvblRvdXJuYW1lbnRMaXN0Qm9keVJlc3VsdHMuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC10b3VybmFtZW50cy1saXN0LWJvZHktcmVzJyk7XG5cbiAgICBzZWN0aW9uTEJPcHRJbkNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLW9wdGluLWNvbnRhaW5lcicpO1xuICAgIHNlY3Rpb25MQk9wdEluQWN0aW9uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItb3B0aW4tYWN0aW9uJyk7XG5cbiAgICBzZWN0aW9uTEJIZWFkZXJMYWJlbC5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi50b3VybmFtZW50cy5sYWJlbDtcbiAgICBzZWN0aW9uTEJGb290ZXJDb250ZW50LmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLmdsb2JhbC5jb3B5O1xuICAgIHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc09wdEluQWN0aW9uLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLnRvdXJuYW1lbnRzLmVudGVyO1xuICAgIHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc09wdEluQWN0aW9uLmhyZWYgPSAnamF2YXNjcmlwdDp2b2lkKDApOyc7XG4gICAgc2VjdGlvbkxCT3B0SW5BY3Rpb24uaW5uZXJIVE1MID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24udG91cm5hbWVudHMuZW50ZXI7XG4gICAgc2VjdGlvbkxCT3B0SW5BY3Rpb24uaHJlZiA9ICdqYXZhc2NyaXB0OnZvaWQoMCk7JztcblxuICAgIHNlY3Rpb25MQkhlYWRlckxpc3QuYXBwZW5kQ2hpbGQoc2VjdGlvbkxCSGVhZGVyTGlzdEljb24pO1xuICAgIHNlY3Rpb25MQkhlYWRlci5hcHBlbmRDaGlsZChzZWN0aW9uTEJIZWFkZXJMaXN0KTtcbiAgICBzZWN0aW9uTEJIZWFkZXIuYXBwZW5kQ2hpbGQoc2VjdGlvbkxCSGVhZGVyTGFiZWwpO1xuICAgIHNlY3Rpb25MQkhlYWRlci5hcHBlbmRDaGlsZChzZWN0aW9uTEJIZWFkZXJEYXRlKTtcbiAgICBzZWN0aW9uTEJIZWFkZXIuYXBwZW5kQ2hpbGQoc2VjdGlvbkxCSGVhZGVyQ2xvc2UpO1xuXG4gICAgc2VjdGlvbkxCRGV0YWlsc0luZm8uYXBwZW5kQ2hpbGQoc2VjdGlvbkxCRGV0YWlsc0luZm9JY29uKTtcbiAgICBzZWN0aW9uTEJEZXRhaWxzQ29udGVudENvbnRhaW5lckxhYmVsLmFwcGVuZENoaWxkKHNlY3Rpb25MQkRldGFpbHNDb250ZW50Q29udGFpbmVyTGFiZWxUZXh0KTtcbiAgICBzZWN0aW9uTEJEZXRhaWxzQ29udGVudENvbnRhaW5lckxhYmVsLmFwcGVuZENoaWxkKHNlY3Rpb25MQkRldGFpbHNDb250ZW50Q29udGFpbmVyRGF0ZSk7XG4gICAgc2VjdGlvbkxCRGV0YWlsc0NvbnRlbnRDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvbkxCRGV0YWlsc0NvbnRlbnRDb250YWluZXJMYWJlbCk7XG4gICAgc2VjdGlvbkxCRGV0YWlscy5hcHBlbmRDaGlsZChzZWN0aW9uTEJEZXRhaWxzSW5mbyk7XG5cbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MubGVhZGVyYm9hcmQubGF5b3V0U2V0dGluZ3MuaW1hZ2VCYW5uZXIpIHtcbiAgICAgIHNlY3Rpb25MQkRldGFpbHMuYXBwZW5kQ2hpbGQoc2VjdGlvbkxCRGV0YWlsc0ltYWdlQ29udGFpbmVyKTtcbiAgICB9XG5cbiAgICBzZWN0aW9uTEJEZXRhaWxzLmFwcGVuZENoaWxkKHNlY3Rpb25MQkRldGFpbHNDb250ZW50Q29udGFpbmVyKTtcblxuICAgIGlmICghX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MubGVhZGVyYm9hcmQubGF5b3V0U2V0dGluZ3MudGl0bGVMaW5rVG9EZXRhaWxzUGFnZSkge1xuICAgICAgc2VjdGlvbkxCRGV0YWlsc0Rlc2NyaXB0aW9uQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25MQkRldGFpbHNEZXNjcmlwdGlvbik7XG4gICAgICBzZWN0aW9uTEJEZXRhaWxzRGVzY3JpcHRpb25Db250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvbkxCRGV0YWlsc0Rlc2NyaXB0aW9uQ2xvc2UpO1xuICAgICAgc2VjdGlvbkxCRGV0YWlscy5hcHBlbmRDaGlsZChzZWN0aW9uTEJEZXRhaWxzRGVzY3JpcHRpb25Db250YWluZXIpO1xuICAgIH1cblxuICAgIHNlY3Rpb25MQkxlYWRlcmJvYXJkSGVhZGVyLmFwcGVuZENoaWxkKHNlY3Rpb25MQkxlYWRlcmJvYXJkSGVhZGVyTGFiZWxzKTtcbiAgICBzZWN0aW9uTEJMZWFkZXJib2FyZC5hcHBlbmRDaGlsZChzZWN0aW9uTEJMZWFkZXJib2FyZEhlYWRlcik7XG4gICAgLy8gc2VjdGlvbkxCTGVhZGVyYm9hcmQuYXBwZW5kQ2hpbGQoc2VjdGlvbkxCTGVhZGVyYm9hcmRIZWFkZXJUb3BSZXN1bHRzKTtcbiAgICAvLyBzZWN0aW9uTEJMZWFkZXJib2FyZEJvZHkuYXBwZW5kQ2hpbGQoc2VjdGlvbkxCTGVhZGVyYm9hcmRCb2R5UmVzdWx0cyk7XG4gICAgLy8gc2VjdGlvbkxCTGVhZGVyYm9hcmQuYXBwZW5kQ2hpbGQoc2VjdGlvbkxCTGVhZGVyYm9hcmRCb2R5KTtcblxuICAgIHNlY3Rpb25MQkxlYWRlcmJvYXJkUmVzdWx0c0NvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uTEJMZWFkZXJib2FyZEhlYWRlclRvcFJlc3VsdHMpO1xuICAgIHNlY3Rpb25MQkxlYWRlcmJvYXJkQm9keS5hcHBlbmRDaGlsZChzZWN0aW9uTEJMZWFkZXJib2FyZEJvZHlSZXN1bHRzKTtcbiAgICBzZWN0aW9uTEJMZWFkZXJib2FyZFJlc3VsdHNDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvbkxCTGVhZGVyYm9hcmRCb2R5KTtcbiAgICBzZWN0aW9uTEJMZWFkZXJib2FyZC5hcHBlbmRDaGlsZChzZWN0aW9uTEJMZWFkZXJib2FyZFJlc3VsdHNDb250YWluZXIpO1xuXG4gICAgc2VjdGlvbkxCRm9vdGVyLmFwcGVuZENoaWxkKHNlY3Rpb25MQkZvb3RlckNvbnRlbnQpO1xuXG4gICAgc2VjdGlvblRvdXJuYW1lbnRMaXN0Qm9keS5hcHBlbmRDaGlsZChzZWN0aW9uVG91cm5hbWVudExpc3RCb2R5UmVzdWx0cyk7XG4gICAgc2VjdGlvblRvdXJuYW1lbnRMaXN0LmFwcGVuZENoaWxkKHNlY3Rpb25Ub3VybmFtZW50TGlzdEJvZHkpO1xuICAgIHNlY3Rpb25Ub3VybmFtZW50TGlzdC5hcHBlbmRDaGlsZChzZWN0aW9uVG91cm5hbWVudEJhY2tBY3Rpb24pO1xuXG4gICAgc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzSGVhZGVyLmFwcGVuZENoaWxkKHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0hlYWRlckxhYmVsKTtcbiAgICBzZWN0aW9uVG91cm5hbWVudERldGFpbHNIZWFkZXIuYXBwZW5kQ2hpbGQoc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzSGVhZGVyRGF0ZSk7XG4gICAgc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0hlYWRlcik7XG4gICAgc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0JhY2tCdG4pO1xuICAgIHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0JvZHlDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzQm9keUltYWdlQ29udGFpbmVyKTtcbiAgICBzZWN0aW9uVG91cm5hbWVudERldGFpbHNCb2R5Q29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0JvZHkpO1xuICAgIHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0NvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uVG91cm5hbWVudERldGFpbHNCb2R5Q29udGFpbmVyKTtcbiAgICBzZWN0aW9uVG91cm5hbWVudERldGFpbHNPcHRJbkNvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uVG91cm5hbWVudERldGFpbHNPcHRJbkFjdGlvbik7XG4gICAgc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc09wdEluQ29udGFpbmVyKTtcblxuICAgIHNlY3Rpb25MQk9wdEluQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25MQk9wdEluQWN0aW9uKTtcblxuICAgIHNlY3Rpb25MQi5hcHBlbmRDaGlsZChzZWN0aW9uTEJIZWFkZXIpO1xuICAgIHNlY3Rpb25MQi5hcHBlbmRDaGlsZChzZWN0aW9uTEJEZXRhaWxzKTtcbiAgICBzZWN0aW9uTEIuYXBwZW5kQ2hpbGQoc2VjdGlvbkxCTGVhZGVyYm9hcmQpO1xuICAgIHNlY3Rpb25MQi5hcHBlbmRDaGlsZChzZWN0aW9uTEJNaXNzaW5nTWVtYmVyKTtcbiAgICBzZWN0aW9uTEIuYXBwZW5kQ2hpbGQoc2VjdGlvbkxCT3B0SW5Db250YWluZXIpO1xuICAgIHNlY3Rpb25MQi5hcHBlbmRDaGlsZChzZWN0aW9uTEJGb290ZXIpO1xuICAgIHNlY3Rpb25MQi5hcHBlbmRDaGlsZChzZWN0aW9uVG91cm5hbWVudERldGFpbHNDb250YWluZXIpO1xuICAgIHNlY3Rpb25MQi5hcHBlbmRDaGlsZChzZWN0aW9uVG91cm5hbWVudExpc3QpO1xuXG4gICAgcmV0dXJuIHNlY3Rpb25MQjtcbiAgfTtcblxuICB0aGlzLmFjaGlldmVtZW50c0FyZWFMYXlvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgc2VjdGlvbkFDSCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgdmFyIHNlY3Rpb25BQ0hIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvbkFDSEhlYWRlckxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25BQ0hIZWFkZXJEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25BQ0hIZWFkZXJDbG9zZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgdmFyIHNlY3Rpb25BQ0hEZXRhaWxzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25BQ0hEZXRhaWxzSW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uQUNIRGV0YWlsc0luZm9JY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25BQ0hEZXRhaWxzQ29udGVudENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uQUNIRGV0YWlsc0NvbnRlbnRDb250YWluZXJMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uQUNIRGV0YWlsc0NvbnRlbnRDb250YWluZXJEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICB2YXIgc2VjdGlvbkFDSExpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvbkFDSExpc3RCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25BQ0hMaXN0Qm9keVJlc3VsdHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIHZhciBzZWN0aW9uQUNIRm9vdGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25BQ0hGb290ZXJDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICB2YXIgc2VjdGlvbkFjaGlldmVtZW50RGV0YWlsc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzSGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNIZWFkZXJMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzSGVhZGVyRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzQmFja0J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICB2YXIgc2VjdGlvbkFjaGlldmVtZW50RGV0YWlsc0JvZHlDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvbkFjaGlldmVtZW50RGV0YWlsc0JvZHlJbWFnZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzQm9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgc2VjdGlvbkFDSC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MubmF2aWdhdGlvbi5hY2hpZXZlbWVudHMuY29udGFpbmVyQ2xhc3MgKyAnIGNsLW1haW4tc2VjdGlvbi1pdGVtJyk7XG4gICAgc2VjdGlvbkFDSEhlYWRlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWFjaC1oZWFkZXInKTtcbiAgICBzZWN0aW9uQUNISGVhZGVyTGFiZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1hY2gtaGVhZGVyLWxhYmVsJyk7XG4gICAgc2VjdGlvbkFDSEhlYWRlckRhdGUuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1hY2gtaGVhZGVyLWRhdGUnKTtcbiAgICBzZWN0aW9uQUNISGVhZGVyQ2xvc2Uuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1hY2gtaGVhZGVyLWNsb3NlJyk7XG5cbiAgICBzZWN0aW9uQUNIRGV0YWlscy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWFjaC1kZXRhaWxzJyk7XG4gICAgc2VjdGlvbkFDSERldGFpbHNJbmZvLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtYWNoLWRldGFpbHMtaW5mbycpO1xuICAgIHNlY3Rpb25BQ0hEZXRhaWxzSW5mb0ljb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1hY2gtZGV0YWlscy1pbmZvLWljb24nKTtcbiAgICBzZWN0aW9uQUNIRGV0YWlsc0NvbnRlbnRDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1hY2gtZGV0YWlscy1jb250ZW50Jyk7XG4gICAgc2VjdGlvbkFDSERldGFpbHNDb250ZW50Q29udGFpbmVyTGFiZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1hY2gtZGV0YWlscy1jb250ZW50LWxhYmVsJyk7XG4gICAgc2VjdGlvbkFDSERldGFpbHNDb250ZW50Q29udGFpbmVyRGF0ZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWFjaC1kZXRhaWxzLWNvbnRlbnQtZGF0ZScpO1xuXG4gICAgLy8gTGVhZGVyYm9hcmQgcmVzdWx0IGNvbnRhaW5lclxuICAgIHNlY3Rpb25BQ0hMaXN0LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtYWNoLWxpc3QnKTtcbiAgICBzZWN0aW9uQUNITGlzdEJvZHkuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1hY2gtbGlzdC1ib2R5Jyk7XG4gICAgc2VjdGlvbkFDSExpc3RCb2R5UmVzdWx0cy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWFjaC1saXN0LWJvZHktcmVzJyk7XG5cbiAgICAvLyBmb290ZXJcbiAgICBzZWN0aW9uQUNIRm9vdGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtYWNoLWZvb3RlcicpO1xuICAgIHNlY3Rpb25BQ0hGb290ZXJDb250ZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtYWNoLWZvb3Rlci1jb250ZW50Jyk7XG5cbiAgICAvLyBkZXRhaWxzIHNlY3Rpb25cbiAgICBzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtYWNoLWRldGFpbHMtY29udGFpbmVyJyk7XG4gICAgc2VjdGlvbkFjaGlldmVtZW50RGV0YWlsc0hlYWRlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWFjaC1kZXRhaWxzLWhlYWRlcicpO1xuICAgIHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNIZWFkZXJMYWJlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWFjaC1kZXRhaWxzLWhlYWRlci1sYWJlbCcpO1xuICAgIHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNIZWFkZXJEYXRlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtYWNoLWRldGFpbHMtaGVhZGVyLWRhdGUnKTtcbiAgICBzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzQmFja0J0bi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWFjaC1kZXRhaWxzLWJhY2stYnRuJyk7XG4gICAgc2VjdGlvbkFjaGlldmVtZW50RGV0YWlsc0JvZHlDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1hY2gtZGV0YWlscy1ib2R5LWNvbnRhaW5lcicpO1xuICAgIHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNCb2R5SW1hZ2VDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1hY2gtZGV0YWlscy1ib2R5LWltYWdlLWNvbnQnKTtcbiAgICBzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzQm9keS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWFjaC1kZXRhaWxzLWJvZHknKTtcblxuICAgIHNlY3Rpb25BQ0hIZWFkZXJMYWJlbC5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5hY2hpZXZlbWVudHMubGFiZWw7XG4gICAgc2VjdGlvbkFDSEZvb3RlckNvbnRlbnQuaW5uZXJIVE1MID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24uZ2xvYmFsLmNvcHk7XG5cbiAgICBzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzSGVhZGVyLmFwcGVuZENoaWxkKHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNIZWFkZXJMYWJlbCk7XG4gICAgc2VjdGlvbkFjaGlldmVtZW50RGV0YWlsc0hlYWRlci5hcHBlbmRDaGlsZChzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzSGVhZGVyRGF0ZSk7XG4gICAgc2VjdGlvbkFjaGlldmVtZW50RGV0YWlsc0NvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzSGVhZGVyKTtcbiAgICBzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNCYWNrQnRuKTtcbiAgICBzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzQm9keUNvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzQm9keUltYWdlQ29udGFpbmVyKTtcbiAgICBzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzQm9keUNvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzQm9keSk7XG4gICAgc2VjdGlvbkFjaGlldmVtZW50RGV0YWlsc0NvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzQm9keUNvbnRhaW5lcik7XG5cbiAgICBzZWN0aW9uQUNISGVhZGVyLmFwcGVuZENoaWxkKHNlY3Rpb25BQ0hIZWFkZXJMYWJlbCk7XG4gICAgc2VjdGlvbkFDSEhlYWRlci5hcHBlbmRDaGlsZChzZWN0aW9uQUNISGVhZGVyRGF0ZSk7XG4gICAgc2VjdGlvbkFDSEhlYWRlci5hcHBlbmRDaGlsZChzZWN0aW9uQUNISGVhZGVyQ2xvc2UpO1xuXG4gICAgc2VjdGlvbkFDSERldGFpbHNJbmZvLmFwcGVuZENoaWxkKHNlY3Rpb25BQ0hEZXRhaWxzSW5mb0ljb24pO1xuICAgIHNlY3Rpb25BQ0hEZXRhaWxzQ29udGVudENvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uQUNIRGV0YWlsc0NvbnRlbnRDb250YWluZXJMYWJlbCk7XG4gICAgc2VjdGlvbkFDSERldGFpbHNDb250ZW50Q29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25BQ0hEZXRhaWxzQ29udGVudENvbnRhaW5lckRhdGUpO1xuICAgIHNlY3Rpb25BQ0hEZXRhaWxzLmFwcGVuZENoaWxkKHNlY3Rpb25BQ0hEZXRhaWxzSW5mbyk7XG4gICAgc2VjdGlvbkFDSERldGFpbHMuYXBwZW5kQ2hpbGQoc2VjdGlvbkFDSERldGFpbHNDb250ZW50Q29udGFpbmVyKTtcblxuICAgIHNlY3Rpb25BQ0hMaXN0Qm9keS5hcHBlbmRDaGlsZChzZWN0aW9uQUNITGlzdEJvZHlSZXN1bHRzKTtcbiAgICBzZWN0aW9uQUNITGlzdC5hcHBlbmRDaGlsZChzZWN0aW9uQUNITGlzdEJvZHkpO1xuXG4gICAgc2VjdGlvbkFDSEZvb3Rlci5hcHBlbmRDaGlsZChzZWN0aW9uQUNIRm9vdGVyQ29udGVudCk7XG5cbiAgICBzZWN0aW9uQUNILmFwcGVuZENoaWxkKHNlY3Rpb25BQ0hIZWFkZXIpO1xuICAgIHNlY3Rpb25BQ0guYXBwZW5kQ2hpbGQoc2VjdGlvbkFDSERldGFpbHMpO1xuICAgIHNlY3Rpb25BQ0guYXBwZW5kQ2hpbGQoc2VjdGlvbkFDSExpc3QpO1xuICAgIHNlY3Rpb25BQ0guYXBwZW5kQ2hpbGQoc2VjdGlvbkFDSEZvb3Rlcik7XG4gICAgc2VjdGlvbkFDSC5hcHBlbmRDaGlsZChzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzQ29udGFpbmVyKTtcblxuICAgIHJldHVybiBzZWN0aW9uQUNIO1xuICB9O1xuXG4gIHRoaXMucmV3YXJkc0FyZWFMYXlvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgc2VjdGlvblJld2FyZHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIHZhciBzZWN0aW9uUmV3YXJkc0hlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uUmV3YXJkc0hlYWRlckxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25SZXdhcmRzSGVhZGVyRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uUmV3YXJkc0hlYWRlckNsb3NlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICB2YXIgc2VjdGlvblJld2FyZHNEZXRhaWxzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0luZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvblJld2FyZHNEZXRhaWxzSW5mb0ljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvblJld2FyZHNEZXRhaWxzQ29udGVudENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uUmV3YXJkc0RldGFpbHNDb250ZW50Q29udGFpbmVyTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvblJld2FyZHNEZXRhaWxzQ29udGVudENvbnRhaW5lckRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIHZhciBzZWN0aW9uUmV3YXJkc0xpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvblJld2FyZHNMaXN0Qm9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uUmV3YXJkc0xpc3RCb2R5UmVzdWx0cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgdmFyIHNlY3Rpb25SZXdhcmRzRm9vdGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25SZXdhcmRzRm9vdGVyQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgdmFyIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uUmV3YXJkc0RldGFpbHNIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvblJld2FyZHNEZXRhaWxzSGVhZGVyTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvblJld2FyZHNEZXRhaWxzSGVhZGVyRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uUmV3YXJkc0RldGFpbHNCYWNrQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIHZhciBzZWN0aW9uUmV3YXJkc0RldGFpbHNCb2R5Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0JvZHlJbWFnZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uUmV3YXJkc0RldGFpbHNCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25SZXdhcmRzV2lubmluZ3NDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvblJld2FyZHNXaW5uaW5nc0ljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvblJld2FyZHNXaW5uaW5nc1ZhbHVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25SZXdhcmRzQ2xhaW1Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvblJld2FyZHNDbGFpbUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcblxuICAgIHNlY3Rpb25SZXdhcmRzLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5uYXZpZ2F0aW9uLnJld2FyZHMuY29udGFpbmVyQ2xhc3MgKyAnIGNsLW1haW4tc2VjdGlvbi1pdGVtJyk7XG4gICAgc2VjdGlvblJld2FyZHNIZWFkZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtaGVhZGVyJyk7XG4gICAgc2VjdGlvblJld2FyZHNIZWFkZXJMYWJlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LXJld2FyZC1oZWFkZXItbGFiZWwnKTtcbiAgICBzZWN0aW9uUmV3YXJkc0hlYWRlckRhdGUuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtaGVhZGVyLWRhdGUnKTtcbiAgICBzZWN0aW9uUmV3YXJkc0hlYWRlckNsb3NlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtcmV3YXJkLWhlYWRlci1jbG9zZScpO1xuXG4gICAgc2VjdGlvblJld2FyZHNEZXRhaWxzLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtcmV3YXJkLWRldGFpbHMnKTtcbiAgICBzZWN0aW9uUmV3YXJkc0RldGFpbHNJbmZvLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtcmV3YXJkLWRldGFpbHMtaW5mbycpO1xuICAgIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0luZm9JY29uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtcmV3YXJkLWRldGFpbHMtaW5mby1pY29uJyk7XG4gICAgc2VjdGlvblJld2FyZHNEZXRhaWxzQ29udGVudENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LXJld2FyZC1kZXRhaWxzLWNvbnRlbnQnKTtcbiAgICBzZWN0aW9uUmV3YXJkc0RldGFpbHNDb250ZW50Q29udGFpbmVyTGFiZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtZGV0YWlscy1jb250ZW50LWxhYmVsJyk7XG4gICAgc2VjdGlvblJld2FyZHNEZXRhaWxzQ29udGVudENvbnRhaW5lckRhdGUuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtZGV0YWlscy1jb250ZW50LWRhdGUnKTtcblxuICAgIC8vIExlYWRlcmJvYXJkIHJlc3VsdCBjb250YWluZXJcbiAgICBzZWN0aW9uUmV3YXJkc0xpc3Quc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtbGlzdCcpO1xuICAgIHNlY3Rpb25SZXdhcmRzTGlzdEJvZHkuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtbGlzdC1ib2R5Jyk7XG4gICAgc2VjdGlvblJld2FyZHNMaXN0Qm9keVJlc3VsdHMuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtbGlzdC1ib2R5LXJlcycpO1xuXG4gICAgLy8gZm9vdGVyXG4gICAgc2VjdGlvblJld2FyZHNGb290ZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtZm9vdGVyJyk7XG4gICAgc2VjdGlvblJld2FyZHNGb290ZXJDb250ZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtcmV3YXJkLWZvb3Rlci1jb250ZW50Jyk7XG5cbiAgICAvLyBkZXRhaWxzIHNlY3Rpb25cbiAgICBzZWN0aW9uUmV3YXJkc0RldGFpbHNDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtZGV0YWlscy1jb250YWluZXInKTtcbiAgICBzZWN0aW9uUmV3YXJkc0RldGFpbHNIZWFkZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtZGV0YWlscy1oZWFkZXInKTtcbiAgICBzZWN0aW9uUmV3YXJkc0RldGFpbHNIZWFkZXJMYWJlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LXJld2FyZC1kZXRhaWxzLWhlYWRlci1sYWJlbCcpO1xuICAgIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0hlYWRlckRhdGUuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtZGV0YWlscy1oZWFkZXItZGF0ZScpO1xuICAgIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0JhY2tCdG4uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtZGV0YWlscy1iYWNrLWJ0bicpO1xuICAgIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0JvZHlDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtZGV0YWlscy1ib2R5LWNvbnRhaW5lcicpO1xuICAgIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0JvZHlJbWFnZUNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LXJld2FyZC1kZXRhaWxzLWJvZHktaW1hZ2UtY29udCcpO1xuICAgIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0JvZHkuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtZGV0YWlscy1ib2R5Jyk7XG4gICAgc2VjdGlvblJld2FyZHNXaW5uaW5nc0NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LXJld2FyZC13aW5uaW5ncy1jb250YWluZXInKTtcbiAgICBzZWN0aW9uUmV3YXJkc1dpbm5pbmdzSWNvbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LXJld2FyZC13aW5uaW5ncy1pY29uJyk7XG4gICAgc2VjdGlvblJld2FyZHNXaW5uaW5nc1ZhbHVlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtcmV3YXJkLXdpbm5pbmdzLXZhbHVlJyk7XG4gICAgc2VjdGlvblJld2FyZHNDbGFpbUNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LXJld2FyZC1jbGFpbS1jb250YWluZXInKTtcbiAgICBzZWN0aW9uUmV3YXJkc0NsYWltQnRuLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtcmV3YXJkLWNsYWltLWJ0bicpO1xuXG4gICAgc2VjdGlvblJld2FyZHNIZWFkZXJMYWJlbC5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5yZXdhcmRzLmxhYmVsO1xuICAgIHNlY3Rpb25SZXdhcmRzRm9vdGVyQ29udGVudC5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5nbG9iYWwuY29weTtcbiAgICBzZWN0aW9uUmV3YXJkc0NsYWltQnRuLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLnJld2FyZHMuY2xhaW07XG5cbiAgICBzZWN0aW9uUmV3YXJkc1dpbm5pbmdzQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25SZXdhcmRzV2lubmluZ3NJY29uKTtcbiAgICBzZWN0aW9uUmV3YXJkc1dpbm5pbmdzQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25SZXdhcmRzV2lubmluZ3NWYWx1ZSk7XG4gICAgc2VjdGlvblJld2FyZHNDbGFpbUNvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uUmV3YXJkc0NsYWltQnRuKTtcblxuICAgIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0hlYWRlci5hcHBlbmRDaGlsZChzZWN0aW9uUmV3YXJkc0RldGFpbHNIZWFkZXJMYWJlbCk7XG4gICAgc2VjdGlvblJld2FyZHNEZXRhaWxzSGVhZGVyLmFwcGVuZENoaWxkKHNlY3Rpb25SZXdhcmRzRGV0YWlsc0hlYWRlckRhdGUpO1xuICAgIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0NvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uUmV3YXJkc0RldGFpbHNIZWFkZXIpO1xuICAgIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0NvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uUmV3YXJkc0RldGFpbHNCYWNrQnRuKTtcbiAgICBzZWN0aW9uUmV3YXJkc0RldGFpbHNCb2R5Q29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25SZXdhcmRzRGV0YWlsc0JvZHlJbWFnZUNvbnRhaW5lcik7XG4gICAgc2VjdGlvblJld2FyZHNEZXRhaWxzQm9keUNvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uUmV3YXJkc0RldGFpbHNCb2R5KTtcbiAgICBzZWN0aW9uUmV3YXJkc0RldGFpbHNCb2R5Q29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25SZXdhcmRzV2lubmluZ3NDb250YWluZXIpO1xuICAgIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0NvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uUmV3YXJkc0RldGFpbHNCb2R5Q29udGFpbmVyKTtcbiAgICBzZWN0aW9uUmV3YXJkc0RldGFpbHNDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvblJld2FyZHNDbGFpbUNvbnRhaW5lcik7XG5cbiAgICBzZWN0aW9uUmV3YXJkc0hlYWRlci5hcHBlbmRDaGlsZChzZWN0aW9uUmV3YXJkc0hlYWRlckxhYmVsKTtcbiAgICBzZWN0aW9uUmV3YXJkc0hlYWRlci5hcHBlbmRDaGlsZChzZWN0aW9uUmV3YXJkc0hlYWRlckRhdGUpO1xuICAgIHNlY3Rpb25SZXdhcmRzSGVhZGVyLmFwcGVuZENoaWxkKHNlY3Rpb25SZXdhcmRzSGVhZGVyQ2xvc2UpO1xuXG4gICAgc2VjdGlvblJld2FyZHNEZXRhaWxzSW5mby5hcHBlbmRDaGlsZChzZWN0aW9uUmV3YXJkc0RldGFpbHNJbmZvSWNvbik7XG4gICAgc2VjdGlvblJld2FyZHNEZXRhaWxzQ29udGVudENvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uUmV3YXJkc0RldGFpbHNDb250ZW50Q29udGFpbmVyTGFiZWwpO1xuICAgIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0NvbnRlbnRDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvblJld2FyZHNEZXRhaWxzQ29udGVudENvbnRhaW5lckRhdGUpO1xuICAgIHNlY3Rpb25SZXdhcmRzRGV0YWlscy5hcHBlbmRDaGlsZChzZWN0aW9uUmV3YXJkc0RldGFpbHNJbmZvKTtcbiAgICBzZWN0aW9uUmV3YXJkc0RldGFpbHMuYXBwZW5kQ2hpbGQoc2VjdGlvblJld2FyZHNEZXRhaWxzQ29udGVudENvbnRhaW5lcik7XG5cbiAgICBzZWN0aW9uUmV3YXJkc0xpc3RCb2R5LmFwcGVuZENoaWxkKHNlY3Rpb25SZXdhcmRzTGlzdEJvZHlSZXN1bHRzKTtcbiAgICBzZWN0aW9uUmV3YXJkc0xpc3QuYXBwZW5kQ2hpbGQoc2VjdGlvblJld2FyZHNMaXN0Qm9keSk7XG5cbiAgICBzZWN0aW9uUmV3YXJkc0Zvb3Rlci5hcHBlbmRDaGlsZChzZWN0aW9uUmV3YXJkc0Zvb3RlckNvbnRlbnQpO1xuXG4gICAgc2VjdGlvblJld2FyZHMuYXBwZW5kQ2hpbGQoc2VjdGlvblJld2FyZHNIZWFkZXIpO1xuICAgIHNlY3Rpb25SZXdhcmRzLmFwcGVuZENoaWxkKHNlY3Rpb25SZXdhcmRzRGV0YWlscyk7XG4gICAgc2VjdGlvblJld2FyZHMuYXBwZW5kQ2hpbGQoc2VjdGlvblJld2FyZHNMaXN0KTtcbiAgICBzZWN0aW9uUmV3YXJkcy5hcHBlbmRDaGlsZChzZWN0aW9uUmV3YXJkc0Zvb3Rlcik7XG4gICAgc2VjdGlvblJld2FyZHMuYXBwZW5kQ2hpbGQoc2VjdGlvblJld2FyZHNEZXRhaWxzQ29udGFpbmVyKTtcblxuICAgIHJldHVybiBzZWN0aW9uUmV3YXJkcztcbiAgfTtcblxuICB0aGlzLmluYm94QXJlYUxheW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBzZWN0aW9uSW5ib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIHZhciBzZWN0aW9uSW5ib3hIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvbkluYm94SGVhZGVyTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvbkluYm94SGVhZGVyRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uSW5ib3hIZWFkZXJDbG9zZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgdmFyIHNlY3Rpb25JbmJveERldGFpbHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvbkluYm94RGV0YWlsc0luZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvbkluYm94RGV0YWlsc0luZm9JY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25JbmJveERldGFpbHNDb250ZW50Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25JbmJveERldGFpbHNDb250ZW50Q29udGFpbmVyTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvbkluYm94RGV0YWlsc0NvbnRlbnRDb250YWluZXJEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICB2YXIgc2VjdGlvbkluYm94TGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uSW5ib3hMaXN0Qm9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uSW5ib3hMaXN0Qm9keVJlc3VsdHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIHZhciBzZWN0aW9uSW5ib3hGb290ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvbkluYm94Rm9vdGVyQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgdmFyIHNlY3Rpb25JbmJveERldGFpbHNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvbkluYm94RGV0YWlsc0hlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uSW5ib3hEZXRhaWxzSGVhZGVyTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvbkluYm94RGV0YWlsc0hlYWRlckRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvbkluYm94RGV0YWlsc0JhY2tCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgdmFyIHNlY3Rpb25JbmJveERldGFpbHNCb2R5Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25JbmJveERldGFpbHNCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICBzZWN0aW9uSW5ib3guc2V0QXR0cmlidXRlKCdjbGFzcycsIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLm5hdmlnYXRpb24uaW5ib3guY29udGFpbmVyQ2xhc3MgKyAnIGNsLW1haW4tc2VjdGlvbi1pdGVtJyk7XG4gICAgc2VjdGlvbkluYm94SGVhZGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtaW5ib3gtaGVhZGVyJyk7XG4gICAgc2VjdGlvbkluYm94SGVhZGVyTGFiZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1pbmJveC1oZWFkZXItbGFiZWwnKTtcbiAgICBzZWN0aW9uSW5ib3hIZWFkZXJEYXRlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtaW5ib3gtaGVhZGVyLWRhdGUnKTtcbiAgICBzZWN0aW9uSW5ib3hIZWFkZXJDbG9zZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWluYm94LWhlYWRlci1jbG9zZScpO1xuXG4gICAgc2VjdGlvbkluYm94RGV0YWlscy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWluYm94LWRldGFpbHMnKTtcbiAgICBzZWN0aW9uSW5ib3hEZXRhaWxzSW5mby5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWluYm94LWRldGFpbHMtaW5mbycpO1xuICAgIHNlY3Rpb25JbmJveERldGFpbHNJbmZvSWNvbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWluYm94LWRldGFpbHMtaW5mby1pY29uJyk7XG4gICAgc2VjdGlvbkluYm94RGV0YWlsc0NvbnRlbnRDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1pbmJveC1kZXRhaWxzLWNvbnRlbnQnKTtcbiAgICBzZWN0aW9uSW5ib3hEZXRhaWxzQ29udGVudENvbnRhaW5lckxhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtaW5ib3gtZGV0YWlscy1jb250ZW50LWxhYmVsJyk7XG4gICAgc2VjdGlvbkluYm94RGV0YWlsc0NvbnRlbnRDb250YWluZXJEYXRlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtaW5ib3gtZGV0YWlscy1jb250ZW50LWRhdGUnKTtcblxuICAgIC8vIExlYWRlcmJvYXJkIHJlc3VsdCBjb250YWluZXJcbiAgICBzZWN0aW9uSW5ib3hMaXN0LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtaW5ib3gtbGlzdCcpO1xuICAgIHNlY3Rpb25JbmJveExpc3RCb2R5LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtaW5ib3gtbGlzdC1ib2R5Jyk7XG4gICAgc2VjdGlvbkluYm94TGlzdEJvZHlSZXN1bHRzLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtaW5ib3gtbGlzdC1ib2R5LXJlcycpO1xuXG4gICAgLy8gZm9vdGVyXG4gICAgc2VjdGlvbkluYm94Rm9vdGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtaW5ib3gtZm9vdGVyJyk7XG4gICAgc2VjdGlvbkluYm94Rm9vdGVyQ29udGVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWluYm94LWZvb3Rlci1jb250ZW50Jyk7XG5cbiAgICAvLyBkZXRhaWxzIHNlY3Rpb25cbiAgICBzZWN0aW9uSW5ib3hEZXRhaWxzQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtaW5ib3gtZGV0YWlscy1jb250YWluZXInKTtcbiAgICBzZWN0aW9uSW5ib3hEZXRhaWxzSGVhZGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtaW5ib3gtZGV0YWlscy1oZWFkZXInKTtcbiAgICBzZWN0aW9uSW5ib3hEZXRhaWxzSGVhZGVyTGFiZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1pbmJveC1kZXRhaWxzLWhlYWRlci1sYWJlbCcpO1xuICAgIHNlY3Rpb25JbmJveERldGFpbHNIZWFkZXJEYXRlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtaW5ib3gtZGV0YWlscy1oZWFkZXItZGF0ZScpO1xuICAgIHNlY3Rpb25JbmJveERldGFpbHNCYWNrQnRuLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtaW5ib3gtZGV0YWlscy1iYWNrLWJ0bicpO1xuICAgIHNlY3Rpb25JbmJveERldGFpbHNCb2R5Q29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtaW5ib3gtZGV0YWlscy1ib2R5LWNvbnRhaW5lcicpO1xuICAgIHNlY3Rpb25JbmJveERldGFpbHNCb2R5LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtaW5ib3gtZGV0YWlscy1ib2R5Jyk7XG5cbiAgICBzZWN0aW9uSW5ib3hIZWFkZXJMYWJlbC5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5tZXNzYWdlcy5sYWJlbDtcbiAgICBzZWN0aW9uSW5ib3hGb290ZXJDb250ZW50LmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLmdsb2JhbC5jb3B5O1xuXG4gICAgc2VjdGlvbkluYm94SGVhZGVyLmFwcGVuZENoaWxkKHNlY3Rpb25JbmJveEhlYWRlckxhYmVsKTtcbiAgICBzZWN0aW9uSW5ib3hIZWFkZXIuYXBwZW5kQ2hpbGQoc2VjdGlvbkluYm94SGVhZGVyRGF0ZSk7XG4gICAgc2VjdGlvbkluYm94SGVhZGVyLmFwcGVuZENoaWxkKHNlY3Rpb25JbmJveEhlYWRlckNsb3NlKTtcblxuICAgIHNlY3Rpb25JbmJveERldGFpbHNJbmZvLmFwcGVuZENoaWxkKHNlY3Rpb25JbmJveERldGFpbHNJbmZvSWNvbik7XG4gICAgc2VjdGlvbkluYm94RGV0YWlsc0NvbnRlbnRDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvbkluYm94RGV0YWlsc0NvbnRlbnRDb250YWluZXJMYWJlbCk7XG4gICAgc2VjdGlvbkluYm94RGV0YWlsc0NvbnRlbnRDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvbkluYm94RGV0YWlsc0NvbnRlbnRDb250YWluZXJEYXRlKTtcbiAgICBzZWN0aW9uSW5ib3hEZXRhaWxzLmFwcGVuZENoaWxkKHNlY3Rpb25JbmJveERldGFpbHNJbmZvKTtcbiAgICBzZWN0aW9uSW5ib3hEZXRhaWxzLmFwcGVuZENoaWxkKHNlY3Rpb25JbmJveERldGFpbHNDb250ZW50Q29udGFpbmVyKTtcblxuICAgIHNlY3Rpb25JbmJveExpc3RCb2R5LmFwcGVuZENoaWxkKHNlY3Rpb25JbmJveExpc3RCb2R5UmVzdWx0cyk7XG4gICAgc2VjdGlvbkluYm94TGlzdC5hcHBlbmRDaGlsZChzZWN0aW9uSW5ib3hMaXN0Qm9keSk7XG5cbiAgICBzZWN0aW9uSW5ib3hEZXRhaWxzSGVhZGVyLmFwcGVuZENoaWxkKHNlY3Rpb25JbmJveERldGFpbHNIZWFkZXJMYWJlbCk7XG4gICAgc2VjdGlvbkluYm94RGV0YWlsc0hlYWRlci5hcHBlbmRDaGlsZChzZWN0aW9uSW5ib3hEZXRhaWxzSGVhZGVyRGF0ZSk7XG4gICAgc2VjdGlvbkluYm94RGV0YWlsc0NvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uSW5ib3hEZXRhaWxzSGVhZGVyKTtcbiAgICBzZWN0aW9uSW5ib3hEZXRhaWxzQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25JbmJveERldGFpbHNCYWNrQnRuKTtcbiAgICBzZWN0aW9uSW5ib3hEZXRhaWxzQm9keUNvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uSW5ib3hEZXRhaWxzQm9keSk7XG4gICAgc2VjdGlvbkluYm94RGV0YWlsc0NvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uSW5ib3hEZXRhaWxzQm9keUNvbnRhaW5lcik7XG5cbiAgICBzZWN0aW9uSW5ib3hGb290ZXIuYXBwZW5kQ2hpbGQoc2VjdGlvbkluYm94Rm9vdGVyQ29udGVudCk7XG5cbiAgICBzZWN0aW9uSW5ib3guYXBwZW5kQ2hpbGQoc2VjdGlvbkluYm94SGVhZGVyKTtcbiAgICBzZWN0aW9uSW5ib3guYXBwZW5kQ2hpbGQoc2VjdGlvbkluYm94RGV0YWlscyk7XG4gICAgc2VjdGlvbkluYm94LmFwcGVuZENoaWxkKHNlY3Rpb25JbmJveExpc3QpO1xuICAgIHNlY3Rpb25JbmJveC5hcHBlbmRDaGlsZChzZWN0aW9uSW5ib3hGb290ZXIpO1xuICAgIHNlY3Rpb25JbmJveC5hcHBlbmRDaGlsZChzZWN0aW9uSW5ib3hEZXRhaWxzQ29udGFpbmVyKTtcblxuICAgIHJldHVybiBzZWN0aW9uSW5ib3g7XG4gIH07XG5cbiAgdGhpcy5sZWFkZXJib2FyZEhlYWRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciByYW5rQ29sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGljb25Db2wgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgbmFtZUNvbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBncm93dGhDb2wgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgcG9pbnRzQ29sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICByYW5rQ29sLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtcmFuay1jb2wgY2wtY29sJyk7XG4gICAgaWNvbkNvbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLWljb24tY29sIGNsLWNvbCcpO1xuICAgIG5hbWVDb2wuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1uYW1lLWNvbCBjbC1jb2wnKTtcbiAgICBncm93dGhDb2wuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1ncm93dGgtY29sIGNsLWNvbCcpO1xuICAgIHBvaW50c0NvbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXBvaW50cy1jb2wgY2wtY29sJyk7XG5cbiAgICByYW5rQ29sLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLmxlYWRlcmJvYXJkLnJhbms7XG4gICAgaWNvbkNvbC5pbm5lckhUTUwgPSAnJztcbiAgICBuYW1lQ29sLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLmxlYWRlcmJvYXJkLm5hbWU7XG4gICAgZ3Jvd3RoQ29sLmlubmVySFRNTCA9ICcnO1xuICAgIHBvaW50c0NvbC5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5sZWFkZXJib2FyZC5wb2ludHM7XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5oZWFkZXIuYXBwZW5kQ2hpbGQocmFua0NvbCk7XG4gICAgX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQuaGVhZGVyLmFwcGVuZENoaWxkKGljb25Db2wpO1xuICAgIF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmhlYWRlci5hcHBlbmRDaGlsZChuYW1lQ29sKTtcbiAgICBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5oZWFkZXIuYXBwZW5kQ2hpbGQoZ3Jvd3RoQ29sKTtcbiAgICBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5oZWFkZXIuYXBwZW5kQ2hpbGQocG9pbnRzQ29sKTtcblxuICAgIHZhciByZXdhcmRDb2wgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgcmV3YXJkRW5hYmxlZCA9ICh0eXBlb2YgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdCAhPT0gJ3VuZGVmaW5lZCcgJiYgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdCAhPT0gbnVsbCAmJiB0eXBlb2YgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5yZXdhcmRzICE9PSAndW5kZWZpbmVkJyAmJiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnJld2FyZHMubGVuZ3RoID4gMCk7XG4gICAgcmV3YXJkQ29sLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtcmV3YXJkLWNvbCBjbC1jb2wnICsgKHJld2FyZEVuYWJsZWQgPyAnIGNsLWNvbC1yZXdhcmQtZW5hYmxlZCcgOiAnJykpO1xuICAgIHJld2FyZENvbC5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5sZWFkZXJib2FyZC5wcml6ZTtcblxuICAgIGFkZENsYXNzKF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmhlYWRlciwgJ2NsLXJld2FyZC1lbmFibGVkJyk7XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5oZWFkZXIuYXBwZW5kQ2hpbGQocmV3YXJkQ29sKTtcbiAgfTtcblxuICB0aGlzLmxlYWRlcmJvYXJkUm93ID0gZnVuY3Rpb24gKHJhbmssIGljb24sIG5hbWUsIGNoYW5nZSwgZ3Jvd3RoLCBwb2ludHMsIHJld2FyZCwgY291bnQsIG1lbWJlckZvdW5kKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgY2VsbFdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgcmFua0NlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciByYW5rQ2VsVmFsdWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgaWNvbkNlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBpY29uQ2VsSW1nID0gbmV3IEltYWdlKCk7XG4gICAgdmFyIG5hbWVDZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgZ3Jvd3RoQ2VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHBvaW50c0NlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBtZW1iZXJGb3VuZENsYXNzID0gKG1lbWJlckZvdW5kKSA/ICcgY2wtbGItbWVtYmVyLXJvdycgOiAnJztcblxuICAgIGNlbGxXcmFwcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbGItcm93IGNsLWxiLXJhbmstJyArIHJhbmsgKyAnIGNsLWxiLWNvdW50LScgKyBjb3VudCArIG1lbWJlckZvdW5kQ2xhc3MpO1xuICAgIHJhbmtDZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1yYW5rLWNvbCBjbC1jb2wgY2wtcmFuay0nICsgcmFuayk7XG4gICAgcmFua0NlbFZhbHVlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtcmFuay1jb2wtdmFsdWUnKTtcbiAgICBpY29uQ2VsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtaWNvbi1jb2wgY2wtY29sJyk7XG4gICAgaWNvbkNlbEltZy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLWljb24tY29sLWltZycpO1xuICAgIG5hbWVDZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1uYW1lLWNvbCBjbC1jb2wnKTtcbiAgICBncm93dGhDZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1ncm93dGgtY29sIGNsLWNvbCcpO1xuICAgIHBvaW50c0NlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXBvaW50cy1jb2wgY2wtY29sJyk7XG5cbiAgICBjZWxsV3JhcHBlci5kYXRhc2V0LnJhbmsgPSByYW5rO1xuXG4gICAgcmFua0NlbFZhbHVlLmlubmVySFRNTCA9IHJhbms7XG4gICAgbmFtZUNlbC5pbm5lckhUTUwgPSBuYW1lO1xuICAgIGdyb3d0aENlbC5kYXRhc2V0Lmdyb3d0aCA9IChjaGFuZ2UgPCAwKSA/ICdkb3duJyA6IChjaGFuZ2UgPiAwID8gJ3VwJyA6ICdzYW1lJyk7XG4gICAgZ3Jvd3RoQ2VsLmRhdGFzZXQuY2hhbmdlID0gY2hhbmdlO1xuICAgIGdyb3d0aENlbC5pbm5lckhUTUwgPSBncm93dGg7XG4gICAgcG9pbnRzQ2VsLmlubmVySFRNTCA9IHBvaW50cztcblxuICAgIGlmIChpY29uLmxlbmd0aCA+IDApIHtcbiAgICAgIGljb25DZWxJbWcuc3JjID0gaWNvbjtcbiAgICAgIGljb25DZWxJbWcuYWx0ID0gbmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWNvbkNlbEltZy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cblxuICAgIHJhbmtDZWwuYXBwZW5kQ2hpbGQocmFua0NlbFZhbHVlKTtcbiAgICBjZWxsV3JhcHBlci5hcHBlbmRDaGlsZChyYW5rQ2VsKTtcbiAgICBpY29uQ2VsLmFwcGVuZENoaWxkKGljb25DZWxJbWcpO1xuICAgIGNlbGxXcmFwcGVyLmFwcGVuZENoaWxkKGljb25DZWwpO1xuICAgIGNlbGxXcmFwcGVyLmFwcGVuZENoaWxkKG5hbWVDZWwpO1xuICAgIGNlbGxXcmFwcGVyLmFwcGVuZENoaWxkKGdyb3d0aENlbCk7XG4gICAgY2VsbFdyYXBwZXIuYXBwZW5kQ2hpbGQocG9pbnRzQ2VsKTtcblxuICAgIHZhciByZXdhcmRDZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgcmV3YXJkRW5hYmxlZCA9ICh0eXBlb2YgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdCAhPT0gJ3VuZGVmaW5lZCcgJiYgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdCAhPT0gbnVsbCAmJiB0eXBlb2YgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5yZXdhcmRzICE9PSAndW5kZWZpbmVkJyAmJiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnJld2FyZHMubGVuZ3RoID4gMCk7XG4gICAgcmV3YXJkQ2VsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtcmV3YXJkLWNvbCBjbC1jb2wnICsgKHJld2FyZEVuYWJsZWQgPyAnIGNsLWNvbC1yZXdhcmQtZW5hYmxlZCcgOiAnJykpO1xuICAgIHJld2FyZENlbC5pbm5lckhUTUwgPSAodHlwZW9mIHJld2FyZCAhPT0gJ3VuZGVmaW5lZCcgJiYgcmV3YXJkICE9PSBudWxsKSA/IHJld2FyZCA6ICcnO1xuXG4gICAgYWRkQ2xhc3MoY2VsbFdyYXBwZXIsICdjbC1yZXdhcmQtZW5hYmxlZCcpO1xuXG4gICAgY2VsbFdyYXBwZXIuYXBwZW5kQ2hpbGQocmV3YXJkQ2VsKTtcblxuICAgIHJldHVybiBjZWxsV3JhcHBlcjtcbiAgfTtcblxuICB0aGlzLmxlYWRlcmJvYXJkUm93VXBkYXRlID0gZnVuY3Rpb24gKHJhbmssIGljb24sIG5hbWUsIGNoYW5nZSwgZ3Jvd3RoLCBwb2ludHMsIHJld2FyZCwgY291bnQsIG1lbWJlckZvdW5kLCBvbk1pc3NpbmcpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBjZWxsUm93ID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQuY29udGFpbmVyLCAnLmNsLWxiLXJhbmstJyArIHJhbmsgKyAnLmNsLWxiLWNvdW50LScgKyBjb3VudCk7XG5cbiAgICBpZiAoY2VsbFJvdyA9PT0gbnVsbCkge1xuICAgICAgb25NaXNzaW5nKHJhbmssIGljb24sIG5hbWUsIGNoYW5nZSwgZ3Jvd3RoLCBwb2ludHMsIHJld2FyZCwgY291bnQsIG1lbWJlckZvdW5kKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHJhbmtDZWwgPSBxdWVyeShjZWxsUm93LCAnLmNsLXJhbmstY29sLXZhbHVlJyk7XG4gICAgICB2YXIgaWNvbkNlbCA9IHF1ZXJ5KGNlbGxSb3csICcuY2wtaWNvbi1jb2wtaW1nJyk7XG4gICAgICB2YXIgbmFtZUNlbCA9IHF1ZXJ5KGNlbGxSb3csICcuY2wtbmFtZS1jb2wnKTtcbiAgICAgIHZhciBncm93dGhDZWwgPSBxdWVyeShjZWxsUm93LCAnLmNsLWdyb3d0aC1jb2wnKTtcbiAgICAgIHZhciBwb2ludHNDZWwgPSBxdWVyeShjZWxsUm93LCAnLmNsLXBvaW50cy1jb2wnKTtcbiAgICAgIHZhciBtZW1iZXJGb3VuZENsYXNzID0gJ2NsLWxiLW1lbWJlci1yb3cnO1xuICAgICAgdmFyIHJvd0hhc0NsYXNzID0gaGFzQ2xhc3MoY2VsbFJvdywgbWVtYmVyRm91bmRDbGFzcyk7XG5cbiAgICAgIGlmIChjb3VudCA+IDAgJiYgIWhhc0NsYXNzKGNlbGxSb3csICdjbC1zaGFyZWQtcmFuaycpKSB7XG4gICAgICAgIGFkZENsYXNzKGNlbGxSb3csICdjbC1zaGFyZWQtcmFuaycpO1xuICAgICAgfVxuXG4gICAgICBpZiAobWVtYmVyRm91bmQgJiYgIXJvd0hhc0NsYXNzKSB7XG4gICAgICAgIGFkZENsYXNzKGNlbGxSb3csIG1lbWJlckZvdW5kQ2xhc3MpO1xuICAgICAgfSBlbHNlIGlmICghbWVtYmVyRm91bmQgJiYgcm93SGFzQ2xhc3MpIHtcbiAgICAgICAgcmVtb3ZlQ2xhc3MoY2VsbFJvdywgbWVtYmVyRm91bmRDbGFzcyk7XG4gICAgICB9XG5cbiAgICAgIGNlbGxSb3cuZGF0YXNldC5yYW5rID0gcmFuaztcblxuICAgICAgcmFua0NlbC5pbm5lckhUTUwgPSByYW5rO1xuICAgICAgbmFtZUNlbC5pbm5lckhUTUwgPSBuYW1lO1xuXG4gICAgICBncm93dGhDZWwuZGF0YXNldC5ncm93dGggPSAoY2hhbmdlIDwgMCkgPyAnZG93bicgOiAoY2hhbmdlID4gMCA/ICd1cCcgOiAnc2FtZScpO1xuICAgICAgZ3Jvd3RoQ2VsLmRhdGFzZXQuY2hhbmdlID0gY2hhbmdlO1xuICAgICAgZ3Jvd3RoQ2VsLmlubmVySFRNTCA9IGdyb3d0aDtcblxuICAgICAgcG9pbnRzQ2VsLmlubmVySFRNTCA9IHBvaW50cztcblxuICAgICAgaWYgKGljb24ubGVuZ3RoID4gMCkge1xuICAgICAgICBpY29uQ2VsLnNyYyA9IGljb247XG4gICAgICAgIGljb25DZWwuYWx0ID0gbmFtZTtcbiAgICAgICAgaWNvbkNlbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGljb25DZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0ICE9PSAndW5kZWZpbmVkJyAmJiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0ICE9PSBudWxsICYmIHR5cGVvZiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnJld2FyZHMgIT09ICd1bmRlZmluZWQnICYmIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QucmV3YXJkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciByZXdhcmRDZWwgPSBxdWVyeShjZWxsUm93LCAnLmNsLXJld2FyZC1jb2wnKTtcbiAgICAgICAgaWYgKHJld2FyZENlbCAhPT0gbnVsbCkge1xuICAgICAgICAgIHJld2FyZENlbC5pbm5lckhUTUwgPSAodHlwZW9mIHJld2FyZCAhPT0gJ3VuZGVmaW5lZCcgJiYgcmV3YXJkICE9PSBudWxsKSA/IHJld2FyZCA6ICcnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHRoaXMucG9wdWxhdGVMZWFkZXJib2FyZFJlc3VsdHNXaXRoRGVmYXVsdEVudHJpZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgdG9wUmVzdWx0cyA9IFtdO1xuICAgIHZhciByZW1haW5pbmdSZXN1bHRzID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnRvcFJlc3VsdFNpemU7IGkrKykge1xuICAgICAgY29uc3QgcmFuayA9IGkgKyAxO1xuXG4gICAgICB0b3BSZXN1bHRzLnB1c2goe1xuICAgICAgICBuYW1lOiAnLS0nLFxuICAgICAgICByYW5rOiByYW5rLFxuICAgICAgICBwb2ludHM6ICctLScsXG4gICAgICAgIG1lbWJlcklkOiAnJyxcbiAgICAgICAgbWVtYmVyUmVmSWQ6ICcnXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBzID0gX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQudG9wUmVzdWx0U2l6ZTsgcyA8IF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmRlZmF1bHRFbXB0eUxpc3Q7IHMrKykge1xuICAgICAgY29uc3QgcmFuayA9IHMgKyAxO1xuXG4gICAgICByZW1haW5pbmdSZXN1bHRzLnB1c2goe1xuICAgICAgICBuYW1lOiAnLS0nLFxuICAgICAgICByYW5rOiByYW5rLFxuICAgICAgICBwb2ludHM6ICctLScsXG4gICAgICAgIG1lbWJlcklkOiAnJyxcbiAgICAgICAgbWVtYmVyUmVmSWQ6ICcnXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBfdGhpcy51cGRhdGVMZWFkZXJib2FyZFRvcFJlc3VsdHModG9wUmVzdWx0cyk7XG4gICAgX3RoaXMudXBkYXRlTGVhZGVyYm9hcmRSZXN1bHRzKHJlbWFpbmluZ1Jlc3VsdHMpO1xuICB9O1xuXG4gIHRoaXMudXBkYXRlTGVhZGVyYm9hcmRUb3BSZXN1bHRzID0gZnVuY3Rpb24gKHRvcFJlc3VsdHMpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciByYW5rQ2hlY2sgPSBbXTtcbiAgICB2YXIgY2xlYW51cFJhbmtDaGVjayA9IFtdO1xuXG4gICAgLy8gY2xlYW51cFxuICAgIG1hcE9iamVjdCh0b3BSZXN1bHRzLCBmdW5jdGlvbiAobGIpIHtcbiAgICAgIGNsZWFudXBSYW5rQ2hlY2sucHVzaChsYi5yYW5rKTtcbiAgICAgIG9iamVjdEl0ZXJhdG9yKHF1ZXJ5KF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnRvcFJlc3VsdHMsICcuY2wtbGItcmFuay0nICsgbGIucmFuayArICcuY2wtc2hhcmVkLXJhbmsnKSwgZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZW1vdmUob2JqKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgb2JqZWN0SXRlcmF0b3IocXVlcnkoX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQudG9wUmVzdWx0cywgJy5jbC1sYi1yb3cnKSwgZnVuY3Rpb24gKG9iaikge1xuICAgICAgdmFyIHJhbmsgPSBwYXJzZUludChvYmouZGF0YXNldC5yYW5rKTtcbiAgICAgIGlmIChjbGVhbnVwUmFua0NoZWNrLmluZGV4T2YocmFuaykgPT09IC0xICYmIHJhbmsgPiBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5kZWZhdWx0RW1wdHlMaXN0KSB7XG4gICAgICAgIHJlbW92ZShvYmopO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbWFwT2JqZWN0KHRvcFJlc3VsdHMsIGZ1bmN0aW9uIChsYikge1xuICAgICAgdmFyIGNvdW50ID0gMDtcbiAgICAgIHZhciBpY29uID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQucG9wdWxhdGVJZGVudGljb25CYXNlNjRJbWFnZShsYi5tZW1iZXJJZCk7XG4gICAgICB2YXIgbWVtYmVyRm91bmQgPSAoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MubWVtYmVySWQgPT09IGxiLm1lbWJlcklkIHx8IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLm1lbWJlcklkID09PSBsYi5tZW1iZXJSZWZJZCk7XG4gICAgICB2YXIgbWVtYmVyTmFtZSA9IChtZW1iZXJGb3VuZCkgPyBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5sZWFkZXJib2FyZC55b3UgOiBsYi5uYW1lO1xuICAgICAgdmFyIHJld2FyZCA9IF90aGlzLmdldFJld2FyZChsYi5yYW5rKTtcbiAgICAgIHZhciBjaGFuZ2UgPSAodHlwZW9mIGxiLmNoYW5nZSA9PT0gJ3VuZGVmaW5lZCcpID8gMCA6IGxiLmNoYW5nZTtcbiAgICAgIHZhciBncm93dGhUeXBlID0gKGNoYW5nZSA8IDApID8gJ2Rvd24nIDogKGNoYW5nZSA+IDAgPyAndXAnIDogJ3NhbWUnKTtcbiAgICAgIHZhciBncm93dGhJY29uID0gXCI8c3BhbiBjbGFzcz0nY2wtZ3Jvd3RoLWljb24gY2wtZ3Jvd3RoLVwiICsgZ3Jvd3RoVHlwZSArIFwiJz48L3NwYW4+XCI7XG5cbiAgICAgIGlmIChyYW5rQ2hlY2suaW5kZXhPZihsYi5yYW5rKSAhPT0gLTEpIHtcbiAgICAgICAgZm9yICh2YXIgcmMgPSAwOyByYyA8IHJhbmtDaGVjay5sZW5ndGg7IHJjKyspIHtcbiAgICAgICAgICBpZiAobGIucmFuayA9PT0gcmFua0NoZWNrW3JjXSkge1xuICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgX3RoaXMubGVhZGVyYm9hcmRSb3dVcGRhdGUoXG4gICAgICAgIGxiLnJhbmssXG4gICAgICAgIGljb24sIC8vIGljb25cbiAgICAgICAgbWVtYmVyTmFtZSxcbiAgICAgICAgY2hhbmdlLFxuICAgICAgICBncm93dGhJY29uLCAvLyBncm93dGhcbiAgICAgICAgbGIucG9pbnRzLFxuICAgICAgICByZXdhcmQsIC8vIHJld2FyZFxuICAgICAgICBjb3VudCxcbiAgICAgICAgbWVtYmVyRm91bmQsXG4gICAgICAgIGZ1bmN0aW9uIChyYW5rLCBpY29uLCBuYW1lLCBjaGFuZ2UsIGdyb3d0aCwgcG9pbnRzLCByZXdhcmQsIGNvdW50LCBtZW1iZXJGb3VuZCkge1xuICAgICAgICAgIHZhciBuZXdSb3cgPSBfdGhpcy5sZWFkZXJib2FyZFJvdyhyYW5rLCBpY29uLCBuYW1lLCBjaGFuZ2UsIGdyb3d0aCwgcG9pbnRzLCByZXdhcmQsIGNvdW50LCBtZW1iZXJGb3VuZCk7XG4gICAgICAgICAgdmFyIHByZXZDZWxsUm93ID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQuY29udGFpbmVyLCAnLmNsLWxiLXJhbmstJyArIHJhbmsgKyAnLmNsLWxiLWNvdW50LScgKyAoY291bnQgLSAxKSk7XG5cbiAgICAgICAgICBpZiAocHJldkNlbGxSb3cgIT09IG51bGwgJiYgdHlwZW9mIHByZXZDZWxsUm93Lmxlbmd0aCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGFwcGVuZE5leHQocHJldkNlbGxSb3csIG5ld1Jvdyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnRvcFJlc3VsdHMuYXBwZW5kQ2hpbGQobmV3Um93KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICk7XG5cbiAgICAgIHJhbmtDaGVjay5wdXNoKGxiLnJhbmspO1xuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuZ2V0UmV3YXJkID0gZnVuY3Rpb24gKHJhbmspIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciByZXdhcmRSZXNwb25zZSA9IFtdO1xuXG4gICAgaWYgKHR5cGVvZiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0ICE9PSAndW5kZWZpbmVkJyAmJiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0ICE9PSBudWxsKSB7XG4gICAgICBtYXBPYmplY3QoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5yZXdhcmRzLCBmdW5jdGlvbiAocmV3YXJkKSB7XG4gICAgICAgIGlmIChyZXdhcmQucmV3YXJkUmFuayBpbnN0YW5jZW9mIEFycmF5ICYmIHJld2FyZC5yZXdhcmRSYW5rLmluZGV4T2YocmFuaykgIT09IC0xKSB7XG4gICAgICAgICAgcmV3YXJkUmVzcG9uc2UucHVzaChfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5yZXdhcmRzLnJld2FyZEZvcm1hdHRlcihyZXdhcmQpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJld2FyZFJlc3BvbnNlLmpvaW4oJywgJyk7XG4gIH07XG5cbiAgdGhpcy51cGRhdGVMZWFkZXJib2FyZFJlc3VsdHMgPSBmdW5jdGlvbiAocmVtYWluaW5nUmVzdWx0cykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIHJhbmtDaGVjayA9IFtdO1xuICAgIHZhciBjbGVhbnVwUmFua0NoZWNrID0gW107XG5cbiAgICAvLyBjbGVhbnVwXG4gICAgbWFwT2JqZWN0KHJlbWFpbmluZ1Jlc3VsdHMsIGZ1bmN0aW9uIChsYikge1xuICAgICAgY2xlYW51cFJhbmtDaGVjay5wdXNoKGxiLnJhbmspO1xuICAgICAgb2JqZWN0SXRlcmF0b3IocXVlcnkoX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQubGlzdCwgJy5jbC1sYi1yYW5rLScgKyBsYi5yYW5rICsgJy5jbC1zaGFyZWQtcmFuaycpLCBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJlbW92ZShvYmopO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBvYmplY3RJdGVyYXRvcihxdWVyeShfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5jb250YWluZXIsICcuY2wtbGItcm93JyksIGZ1bmN0aW9uIChvYmopIHtcbiAgICAgIHZhciByYW5rID0gcGFyc2VJbnQob2JqLmRhdGFzZXQucmFuayk7XG4gICAgICBpZiAoY2xlYW51cFJhbmtDaGVjay5pbmRleE9mKHJhbmspID09PSAtMSAmJiByYW5rID4gX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQuZGVmYXVsdEVtcHR5TGlzdCkge1xuICAgICAgICByZW1vdmUob2JqKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIG1hcE9iamVjdChyZW1haW5pbmdSZXN1bHRzLCBmdW5jdGlvbiAobGIpIHtcbiAgICAgIHZhciBjb3VudCA9IDA7XG4gICAgICB2YXIgaWNvbiA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnBvcHVsYXRlSWRlbnRpY29uQmFzZTY0SW1hZ2UobGIubWVtYmVySWQpO1xuICAgICAgdmFyIG1lbWJlckZvdW5kID0gKF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLm1lbWJlcklkID09PSBsYi5tZW1iZXJJZCB8fCBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5tZW1iZXJJZCA9PT0gbGIubWVtYmVyUmVmSWQpO1xuICAgICAgdmFyIG1lbWJlck5hbWUgPSAobWVtYmVyRm91bmQpID8gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24ubGVhZGVyYm9hcmQueW91IDogbGIubmFtZTtcbiAgICAgIHZhciByZXdhcmQgPSBfdGhpcy5nZXRSZXdhcmQobGIucmFuayk7XG4gICAgICB2YXIgY2hhbmdlID0gKHR5cGVvZiBsYi5jaGFuZ2UgPT09ICd1bmRlZmluZWQnKSA/IDAgOiBsYi5jaGFuZ2U7XG4gICAgICB2YXIgZ3Jvd3RoVHlwZSA9IChjaGFuZ2UgPCAwKSA/ICdkb3duJyA6IChjaGFuZ2UgPiAwID8gJ3VwJyA6ICdzYW1lJyk7XG4gICAgICB2YXIgZ3Jvd3RoSWNvbiA9IFwiPHNwYW4gY2xhc3M9J2NsLWdyb3d0aC1pY29uIGNsLWdyb3d0aC1cIiArIGdyb3d0aFR5cGUgKyBcIic+PC9zcGFuPlwiO1xuXG4gICAgICBpZiAocmFua0NoZWNrLmluZGV4T2YobGIucmFuaykgIT09IC0xKSB7XG4gICAgICAgIGZvciAodmFyIHJjID0gMDsgcmMgPCByYW5rQ2hlY2subGVuZ3RoOyByYysrKSB7XG4gICAgICAgICAgaWYgKGxiLnJhbmsgPT09IHJhbmtDaGVja1tyY10pIHtcbiAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIF90aGlzLmxlYWRlcmJvYXJkUm93VXBkYXRlKFxuICAgICAgICBsYi5yYW5rLFxuICAgICAgICBpY29uLCAvLyBpY29uXG4gICAgICAgIG1lbWJlck5hbWUsXG4gICAgICAgIGNoYW5nZSxcbiAgICAgICAgZ3Jvd3RoSWNvbiwgLy8gZ3Jvd3RoXG4gICAgICAgIGxiLnBvaW50cyxcbiAgICAgICAgcmV3YXJkLFxuICAgICAgICBjb3VudCxcbiAgICAgICAgbWVtYmVyRm91bmQsXG4gICAgICAgIGZ1bmN0aW9uIChyYW5rLCBpY29uLCBuYW1lLCBjaGFuZ2UsIGdyb3d0aCwgcG9pbnRzLCByZXdhcmQsIGNvdW50LCBtZW1iZXJGb3VuZCkge1xuICAgICAgICAgIHZhciBuZXdSb3cgPSBfdGhpcy5sZWFkZXJib2FyZFJvdyhyYW5rLCBpY29uLCBuYW1lLCBuYW1lLCBncm93dGgsIHBvaW50cywgcmV3YXJkLCBjb3VudCwgbWVtYmVyRm91bmQpO1xuICAgICAgICAgIHZhciBwcmV2Q2VsbFJvdyA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmNvbnRhaW5lciwgJy5jbC1sYi1yYW5rLScgKyByYW5rICsgJy5jbC1sYi1jb3VudC0nICsgKGNvdW50IC0gMSkpO1xuXG4gICAgICAgICAgaWYgKHByZXZDZWxsUm93ICE9PSBudWxsICYmIHR5cGVvZiBwcmV2Q2VsbFJvdy5sZW5ndGggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBhcHBlbmROZXh0KHByZXZDZWxsUm93LCBuZXdSb3cpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5saXN0LmFwcGVuZENoaWxkKG5ld1Jvdyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApO1xuXG4gICAgICByYW5rQ2hlY2sucHVzaChsYi5yYW5rKTtcbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLnVwZGF0ZUxlYWRlcmJvYXJkID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIHRvcFJlc3VsdHMgPSBbXTtcbiAgICB2YXIgcmVtYWluaW5nUmVzdWx0cyA9IFtdO1xuXG4gICAgX3RoaXMucG9wdWxhdGVMZWFkZXJib2FyZFJlc3VsdHNXaXRoRGVmYXVsdEVudHJpZXMoKTtcblxuICAgIG1hcE9iamVjdChfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5sZWFkZXJib2FyZC5sZWFkZXJib2FyZERhdGEsIGZ1bmN0aW9uIChsYikge1xuICAgICAgaWYgKGxiLnJhbmsgPD0gX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQudG9wUmVzdWx0U2l6ZSkge1xuICAgICAgICB0b3BSZXN1bHRzLnB1c2gobGIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVtYWluaW5nUmVzdWx0cy5wdXNoKGxiKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF90aGlzLnVwZGF0ZUxlYWRlcmJvYXJkVG9wUmVzdWx0cyh0b3BSZXN1bHRzKTtcbiAgICBfdGhpcy51cGRhdGVMZWFkZXJib2FyZFJlc3VsdHMocmVtYWluaW5nUmVzdWx0cyk7XG5cbiAgICB2YXIgbWVtYmVyID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQubGlzdCwgJy5jbC1sYi1tZW1iZXItcm93Jyk7XG4gICAgaWYgKG1lbWJlciAhPT0gbnVsbCkge1xuICAgICAgX3RoaXMubWlzc2luZ01lbWJlcihfdGhpcy5pc0VsZW1lbnRWaXNpYmxlSW5WaWV3KG1lbWJlciwgX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQubGlzdC5wYXJlbnROb2RlKSk7XG4gICAgICBfdGhpcy5taXNzaW5nTWVtYmVyKF90aGlzLmlzRWxlbWVudFZpc2libGVJblZpZXcobWVtYmVyLCBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5yZXN1bHRDb250YWluZXIpKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy51cGRhdGVMZWFkZXJib2FyZFRpbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgZGlmZiA9IG1vbWVudChfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnNjaGVkdWxlZFN0YXJ0KS5kaWZmKG1vbWVudCgpKTtcbiAgICB2YXIgZGF0ZSA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LmZvcm1hdERhdGVUaW1lKG1vbWVudC5kdXJhdGlvbihkaWZmKSk7XG5cbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQudGltZXJJbnRlcnZhbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnRpbWVySW50ZXJ2YWwpO1xuICAgIH1cblxuICAgIGlmIChkaWZmIDwgMCAmJiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnN0YXR1c0NvZGUgPT09IDApIHtcbiAgICAgIGRhdGUgPSAnJztcbiAgICB9IGVsc2UgaWYgKF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3Quc3RhdHVzQ29kZSA+IDAgJiYgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5zdGF0dXNDb2RlIDwgMykge1xuICAgICAgZGlmZiA9IG1vbWVudChfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnNjaGVkdWxlZEVuZCkuZGlmZihtb21lbnQoKSk7XG4gICAgICBkYXRlID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuZm9ybWF0RGF0ZVRpbWUobW9tZW50LmR1cmF0aW9uKGRpZmYpKTtcbiAgICB9IGVsc2UgaWYgKF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3Quc3RhdHVzQ29kZSA9PT0gMykge1xuICAgICAgZGF0ZSA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLnRvdXJuYW1lbnRzLmZpbmlzaGluZztcbiAgICB9IGVsc2UgaWYgKF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3Quc3RhdHVzQ29kZSA+PSA0KSB7XG4gICAgICBkYXRlID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24udG91cm5hbWVudHMuZmluaXNoZWQ7XG4gICAgfVxuXG4gICAgX3RoaXMuc2V0dGluZ3MuaGVhZGVyRGF0ZS5pbm5lckhUTUwgPSBkYXRlO1xuICAgIF90aGlzLnNldHRpbmdzLmxhYmVsRGF0ZS5pbm5lckhUTUwgPSBkYXRlO1xuICAgIF90aGlzLnNldHRpbmdzLmRldGFpbHNDb250YWluZXJEYXRlLmlubmVySFRNTCA9IGRhdGU7XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC50aW1lckludGVydmFsID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy51cGRhdGVMZWFkZXJib2FyZFRpbWUoKTtcbiAgICB9LCAxMDAwKTtcbiAgfTtcblxuICB0aGlzLmdldEFjdGl2ZUNvbXBldGl0aW9uRGVzY3JpcHRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICh0aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QgIT09IG51bGwgJiYgdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LmRlc2NyaXB0aW9uLmxlbmd0aCA+IDApID8gdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LmRlc2NyaXB0aW9uIDogKCh0aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uICE9PSBudWxsKSA/IHRoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24uZGVzY3JpcHRpb24gOiAnJyk7XG4gIH07XG5cbiAgdGhpcy5leHRyYWN0SW1hZ2UgPSBmdW5jdGlvbiAoYm9keSwgaW1hZ2VDb250YWluZXIsIGlzQm9keVZpcnR1YWxPcHQpIHtcbiAgICBjb25zdCBfdGhpcyA9IHRoaXM7XG4gICAgY29uc3QgYWN0aXZlSW1hZ2VDb250YWluZXIgPSBjbG9zZXN0KGJvZHksICcuY2wtbWFpbi1zZWN0aW9uLWltYWdlLWJhbm5lci1hY3RpdmUnKTtcbiAgICB2YXIgaW1hZ2VGb3VuZCA9IGZhbHNlO1xuICAgIGNvbnN0IGlzQm9keVZpcnR1YWwgPSAodHlwZW9mIGlzQm9keVZpcnR1YWxPcHQgPT09ICdib29sZWFuJykgPyBpc0JvZHlWaXJ0dWFsT3B0IDogZmFsc2U7XG5cbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uZXh0cmFjdEltYWdlSGVhZGVyKSB7XG4gICAgICBvYmplY3RJdGVyYXRvcihxdWVyeShib2R5LCAnaW1nJyksIGZ1bmN0aW9uIChpbWcsIGtleSwgY291bnQpIHtcbiAgICAgICAgaWYgKGNvdW50ID09PSAwKSB7XG4gICAgICAgICAgaW1hZ2VGb3VuZCA9IHRydWU7XG4gICAgICAgICAgdmFyIG5ld0ltZyA9IGltZy5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgICAgYWRkQ2xhc3MobmV3SW1nLCAnY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1pbWFnZScpO1xuICAgICAgICAgIGltYWdlQ29udGFpbmVyLmFwcGVuZENoaWxkKG5ld0ltZyk7XG5cbiAgICAgICAgICByZW1vdmUoaW1nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKCFpbWFnZUZvdW5kICYmIGFjdGl2ZUltYWdlQ29udGFpbmVyICE9PSBudWxsKSB7XG4gICAgICByZW1vdmVDbGFzcyhhY3RpdmVJbWFnZUNvbnRhaW5lciwgJ2NsLW1haW4tc2VjdGlvbi1pbWFnZS1iYW5uZXItYWN0aXZlJyk7XG4gICAgfSBlbHNlIGlmIChpbWFnZUZvdW5kICYmIGFjdGl2ZUltYWdlQ29udGFpbmVyID09PSBudWxsICYmIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmxlYWRlcmJvYXJkLmxheW91dFNldHRpbmdzLmltYWdlQmFubmVyICYmICFpc0JvZHlWaXJ0dWFsKSB7XG4gICAgICBhZGRDbGFzcyhjbG9zZXN0KGJvZHksICcuY2wtbWFpbi1zZWN0aW9uLWl0ZW0nKSwgJ2NsLW1haW4tc2VjdGlvbi1pbWFnZS1iYW5uZXItYWN0aXZlJyk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMubGVhZGVyYm9hcmREZXRhaWxzVXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIG1haW5MYWJlbCA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLnNlY3Rpb24sICcuY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1jb250ZW50LWxhYmVsLXRleHQnKTtcbiAgICB2YXIgYm9keSA9IG51bGw7XG5cbiAgICBpZiAoIV90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmxlYWRlcmJvYXJkLmxheW91dFNldHRpbmdzLnRpdGxlTGlua1RvRGV0YWlsc1BhZ2UpIHtcbiAgICAgIGJvZHkgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5zZWN0aW9uLCAnLmNsLW1haW4td2lkZ2V0LWxiLWRldGFpbHMtZGVzY3JpcHRpb24nKTtcbiAgICAgIGJvZHkuaW5uZXJIVE1MID0gX3RoaXMuZ2V0QWN0aXZlQ29tcGV0aXRpb25EZXNjcmlwdGlvbigpO1xuICAgIH1cblxuICAgIGlmIChfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5sZWFkZXJib2FyZC5sYXlvdXRTZXR0aW5ncy5pbWFnZUJhbm5lcikge1xuICAgICAgdmFyIGltYWdlID0gcXVlcnkoX3RoaXMuc2V0dGluZ3Muc2VjdGlvbiwgJy5jbC1tYWluLXdpZGdldC1sYi1kZXRhaWxzLWltYWdlLWNvbnRhaW5lcicpO1xuICAgICAgaW1hZ2UuaW5uZXJIVE1MID0gJyc7XG5cbiAgICAgIGlmIChib2R5ID09PSBudWxsKSB7XG4gICAgICAgIGJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgYm9keS5pbm5lckhUTUwgPSBfdGhpcy5nZXRBY3RpdmVDb21wZXRpdGlvbkRlc2NyaXB0aW9uKCk7XG5cbiAgICAgICAgX3RoaXMuZXh0cmFjdEltYWdlKGJvZHksIGltYWdlLCB0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLmV4dHJhY3RJbWFnZShib2R5LCBpbWFnZSwgZmFsc2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIG1haW5MYWJlbC5pbm5lckhUTUwgPSAoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdCAhPT0gbnVsbCkgPyBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LmxhYmVsIDogX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24udG91cm5hbWVudHMubm9BdmFpbGFibGVDb21wZXRpdGlvbnM7XG4gIH07XG5cbiAgdGhpcy5zaG93RW1iZWRkZWRDb21wZXRpdGlvbkRldGFpbHNDb250ZW50ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgaWYgKGhhc0NsYXNzKHRoaXMuc2V0dGluZ3Muc2VjdGlvbiwgJ2NsLW1haW4tYWN0aXZlLWVtYmVkZGVkLWRlc2NyaXB0aW9uJykpIHtcbiAgICAgIHJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3Muc2VjdGlvbiwgJ2NsLW1haW4tYWN0aXZlLWVtYmVkZGVkLWRlc2NyaXB0aW9uJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFkZENsYXNzKHRoaXMuc2V0dGluZ3Muc2VjdGlvbiwgJ2NsLW1haW4tYWN0aXZlLWVtYmVkZGVkLWRlc2NyaXB0aW9uJyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrKCk7XG4gIH07XG5cbiAgdGhpcy5oaWRlRW1iZWRkZWRDb21wZXRpdGlvbkRldGFpbHNDb250ZW50ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgcmVtb3ZlQ2xhc3ModGhpcy5zZXR0aW5ncy5zZWN0aW9uLCAnY2wtbWFpbi1hY3RpdmUtZW1iZWRkZWQtZGVzY3JpcHRpb24nKTtcbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBjYWxsYmFjaygpO1xuICB9O1xuXG4gIHRoaXMubGVhZGVyYm9hcmRPcHRJbkNoZWNrID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIG9wdEluID0gcXVlcnkoX3RoaXMuc2V0dGluZ3Muc2VjdGlvbiwgJy5jbC1tYWluLXdpZGdldC1sYi1vcHRpbi1hY3Rpb24nKTtcblxuICAgIGlmICh0eXBlb2YgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24gIT09ICd1bmRlZmluZWQnICYmIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uICE9PSBudWxsICYmIHR5cGVvZiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbi5vcHRpblJlcXVpcmVkID09PSAnYm9vbGVhbicgJiYgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24ub3B0aW5SZXF1aXJlZCkge1xuICAgICAgaWYgKHR5cGVvZiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbi5vcHRpbiA9PT0gJ2Jvb2xlYW4nICYmICFfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbi5vcHRpbikge1xuICAgICAgICBvcHRJbi5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi50b3VybmFtZW50cy5lbnRlcjtcbiAgICAgICAgb3B0SW4ucGFyZW50Tm9kZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdEluLnBhcmVudE5vZGUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgb3B0SW4ucGFyZW50Tm9kZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cbiAgfTtcblxuICAvLyBjbGVhbnVwL3JlY292ZXIgYWN0aXZpdHlcbiAgdGhpcy5wcmVMb2FkZXJSZXJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLnByZUxvYWRlci5wcmVMb2FkZXJBY3RpdmUgJiYgX3RoaXMuc2V0dGluZ3MucHJlTG9hZGVyLnByZWxvYWRlckNhbGxiYWNrUmVjb3ZlcnkgIT09IG51bGwgJiZcbiAgICAgIF90aGlzLnNldHRpbmdzLnByZUxvYWRlci5wcmVMb2FkZXJsYXN0QXR0ZW1wdCAhPT0gbnVsbCAmJiB0eXBlb2YgX3RoaXMuc2V0dGluZ3MucHJlTG9hZGVyLnByZUxvYWRlcmxhc3RBdHRlbXB0ID09PSAnbnVtYmVyJyAmJlxuICAgICAgKF90aGlzLnNldHRpbmdzLnByZUxvYWRlci5wcmVMb2FkZXJsYXN0QXR0ZW1wdCArIDgwMDApIDwgbmV3IERhdGUoKS5nZXRUaW1lKCkpIHtcbiAgICAgIF90aGlzLnNldHRpbmdzLnByZUxvYWRlci5wcmVsb2FkZXJDYWxsYmFja1JlY292ZXJ5KCk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMucHJlbG9hZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIHByZUxvYWRlciA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLnNlY3Rpb24sICcuY2wtbWFpbi13aWRnZXQtcHJlLWxvYWRlcicpO1xuICAgIC8vIHZhciBjb250ZW50ID0gcXVlcnkoX3RoaXMuc2V0dGluZ3Muc2VjdGlvbiwgJy5jbC1tYWluLXdpZGdldC1wcmUtbG9hZGVyLWNvbnRlbnQnKTtcblxuICAgIHJldHVybiB7XG4gICAgICBzaG93OiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MucHJlTG9hZGVyLnByZUxvYWRlckFjdGl2ZSA9IHRydWU7XG4gICAgICAgIF90aGlzLnNldHRpbmdzLnByZUxvYWRlci5wcmVMb2FkZXJsYXN0QXR0ZW1wdCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICBwcmVMb2FkZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHByZUxvYWRlci5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICAgICAgfSwgMjApO1xuXG4gICAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5wcmVMb2FkZXIucHJlbG9hZGVyQ2FsbGJhY2tSZWNvdmVyeSA9PT0gbnVsbCAmJiB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5wcmVMb2FkZXIucHJlbG9hZGVyQ2FsbGJhY2tSZWNvdmVyeSA9IGNhbGxiYWNrO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH0sXG4gICAgICBoaWRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnNldHRpbmdzLnByZUxvYWRlci5wcmVMb2FkZXJBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MucHJlTG9hZGVyLnByZUxvYWRlcmxhc3RBdHRlbXB0ID0gbnVsbDtcbiAgICAgICAgcHJlTG9hZGVyLnN0eWxlLm9wYWNpdHkgPSAwO1xuXG4gICAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5wcmVMb2FkZXIucHJlbG9hZGVyQ2FsbGJhY2tSZWNvdmVyeSAhPT0gbnVsbCkge1xuICAgICAgICAgIF90aGlzLnNldHRpbmdzLnByZUxvYWRlci5wcmVsb2FkZXJDYWxsYmFja1JlY292ZXJ5ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHByZUxvYWRlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9LCAyMDApO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgdGhpcy5sb2FkTGVhZGVyYm9hcmQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciA9PT0gbnVsbCkge1xuICAgICAgX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuYmluZENvbnRhaW5lci5hcHBlbmRDaGlsZChfdGhpcy5sYXlvdXQoKSk7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5vdmVybGF5Q29udGFpbmVyID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuYmluZENvbnRhaW5lci5hcHBlbmRDaGlsZChfdGhpcy5vdmVybGF5TGF5b3V0KCkpO1xuICAgICAgX3RoaXMuc2V0dGluZ3MubmF2aWdhdGlvbiA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1uYXZpZ2F0aW9uLWNvbnRhaW5lcicpO1xuICAgICAgX3RoaXMuc2V0dGluZ3Muc2VjdGlvbiA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1zZWN0aW9uLWNvbnRhaW5lcicpO1xuICAgICAgX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQuY29udGFpbmVyID0gcXVlcnkoX3RoaXMuc2V0dGluZ3Muc2VjdGlvbiwgJy5jbC1tYWluLXdpZGdldC1sYi1sZWFkZXJib2FyZCcpO1xuICAgICAgX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQuaGVhZGVyID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQuY29udGFpbmVyLCAnLmNsLW1haW4td2lkZ2V0LWxiLWxlYWRlcmJvYXJkLWhlYWRlci1sYWJlbHMnKTtcbiAgICAgIF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnJlc3VsdENvbnRhaW5lciA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1sYi1sZWFkZXJib2FyZC1yZXMtY29udGFpbmVyJyk7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5saXN0ID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQuY29udGFpbmVyLCAnLmNsLW1haW4td2lkZ2V0LWxiLWxlYWRlcmJvYXJkLWJvZHktcmVzJyk7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC50b3BSZXN1bHRzID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQuY29udGFpbmVyLCAnLmNsLW1haW4td2lkZ2V0LWxiLWxlYWRlcmJvYXJkLWhlYWRlci10b3AtcmVzJyk7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5kZXRhaWxzQ29udGFpbmVyID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLW1haW4td2lkZ2V0LWxiLWRldGFpbHMtY29udGFpbmVyJyk7XG4gICAgICBfdGhpcy5zZXR0aW5ncy50b3VybmFtZW50TGlzdENvbnRhaW5lciA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC10b3VybmFtZW50cy1saXN0Jyk7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5kZXRhaWxzQ29udGFpbmVyRGF0ZSA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1sYi1kZXRhaWxzLWhlYWRlci1kYXRlJyk7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5oZWFkZXJEYXRlID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLW1haW4td2lkZ2V0LWxiLWhlYWRlci1kYXRlJyk7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5sYWJlbERhdGUgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1jb250ZW50LWRhdGUnKTtcbiAgICAgIF90aGlzLnNldHRpbmdzLmFjaGlldmVtZW50LmNvbnRhaW5lciA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy4nICsgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MubmF2aWdhdGlvbi5hY2hpZXZlbWVudHMuY29udGFpbmVyQ2xhc3MpO1xuICAgICAgX3RoaXMuc2V0dGluZ3MuYWNoaWV2ZW1lbnQuZGV0YWlsc0NvbnRhaW5lciA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1hY2gtZGV0YWlscy1jb250YWluZXInKTtcbiAgICAgIF90aGlzLnNldHRpbmdzLnJld2FyZC5jb250YWluZXIgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuJyArIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLm5hdmlnYXRpb24ucmV3YXJkcy5jb250YWluZXJDbGFzcyk7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5yZXdhcmQuZGV0YWlsc0NvbnRhaW5lciA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1yZXdhcmQtZGV0YWlscy1jb250YWluZXInKTtcbiAgICAgIF90aGlzLnNldHRpbmdzLm1lc3NhZ2VzLmNvbnRhaW5lciA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy4nICsgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MubmF2aWdhdGlvbi5pbmJveC5jb250YWluZXJDbGFzcyk7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5tZXNzYWdlcy5kZXRhaWxzQ29udGFpbmVyID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLW1haW4td2lkZ2V0LWluYm94LWRldGFpbHMtY29udGFpbmVyJyk7XG5cbiAgICAgIF90aGlzLm1haW5OYXZpZ2F0aW9uQ2hlY2soKTtcbiAgICAgIF90aGlzLmxlYWRlcmJvYXJkSGVhZGVyKCk7XG4gICAgICBfdGhpcy5ldmVudExpc3RlbmVycygpO1xuICAgIH1cblxuICAgIF90aGlzLmxlYWRlcmJvYXJkT3B0SW5DaGVjaygpO1xuICAgIF90aGlzLmxlYWRlcmJvYXJkRGV0YWlsc1VwZGF0ZSgpO1xuICAgIF90aGlzLnVwZGF0ZUxlYWRlcmJvYXJkKCk7XG5cbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdCAhPT0gbnVsbCkge1xuICAgICAgX3RoaXMudXBkYXRlTGVhZGVyYm9hcmRUaW1lKCk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5jbGVhckFsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX3RoaXMuc2V0dGluZ3MuYWN0aXZlID0gZmFsc2U7XG5cbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQudGltZXJJbnRlcnZhbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnRpbWVySW50ZXJ2YWwpO1xuICAgIH1cblxuICAgIF90aGlzLnNldHRpbmdzLnByZUxvYWRlci5wcmVMb2FkZXJBY3RpdmUgPSBmYWxzZTtcbiAgfTtcblxuICB0aGlzLmhpZGUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX3RoaXMuY2xlYXJBbGwoKTtcblxuICAgIGlmIChfdGhpcy5zZXR0aW5ncy5jb250YWluZXIgIT09IG51bGwpIHtcbiAgICAgIHJlbW92ZUNsYXNzKF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJ2NsLXNob3cnKTtcblxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnNldHRpbmdzLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBfdGhpcy5zZXR0aW5ncy5vdmVybGF5Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgX3RoaXMuaGlkZUNvbXBldGl0aW9uRGV0YWlscygpO1xuICAgICAgICBfdGhpcy5oaWRlQWNoaWV2ZW1lbnREZXRhaWxzKCk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIDMwKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5taXNzaW5nTWVtYmVyID0gZnVuY3Rpb24gKGlzVmlzaWJsZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIGFyZWEgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtbGItbWlzc2luZy1tZW1iZXInKTtcbiAgICB2YXIgbWVtYmVyID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQubGlzdCwgJy5jbC1sYi1tZW1iZXItcm93Jyk7XG5cbiAgICBpZiAoYXJlYSAhPT0gbnVsbCAmJiBtZW1iZXIgIT09IG51bGwpIHtcbiAgICAgIGFyZWEuaW5uZXJIVE1MID0gbWVtYmVyLmlubmVySFRNTDtcbiAgICB9XG5cbiAgICBpZiAoIWlzVmlzaWJsZSkge1xuICAgICAgaWYgKGFyZWEgIT09IG51bGwgJiYgbWVtYmVyICE9PSBudWxsKSB7XG4gICAgICAgIGFyZWEuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcmVhLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGFyZWEuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5pc0VsZW1lbnRWaXNpYmxlSW5WaWV3ID0gZnVuY3Rpb24gKGVsLCBjb250YWluZXIpIHtcbiAgICB2YXIgcG9zaXRpb24gPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB2YXIgZWxlbUNvbnRhaW5lciA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB2YXIgZWxlbVRvcCA9IHBvc2l0aW9uLnRvcDtcbiAgICB2YXIgZWxlbUJvdHRvbSA9IHBvc2l0aW9uLmJvdHRvbTtcbiAgICB2YXIgZWxlbUhlaWdodCA9IHBvc2l0aW9uLmhlaWdodDtcblxuICAgIHJldHVybiBlbGVtVG9wIDw9IGVsZW1Db250YWluZXIudG9wXG4gICAgICA/IGVsZW1Db250YWluZXIudG9wIC0gZWxlbVRvcCA8PSBlbGVtSGVpZ2h0IDogZWxlbUJvdHRvbSAtIGVsZW1Db250YWluZXIuYm90dG9tIDw9IGVsZW1IZWlnaHQ7XG4gIH07XG5cbiAgdGhpcy5ldmVudExpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgLy8gdW5pcXVlIHNvbHV0aW9uIHRvIHN1cHBvcnQgaG9yaXpvbnRhbCBtb2JpbGUgb3JpZW50YXRpb25cbiAgICBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5yZXN1bHRDb250YWluZXIub25zY3JvbGwgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciBtZW1iZXIgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5saXN0LCAnLmNsLWxiLW1lbWJlci1yb3cnKTtcblxuICAgICAgaWYgKG1lbWJlciAhPT0gbnVsbCkge1xuICAgICAgICBfdGhpcy5taXNzaW5nTWVtYmVyKF90aGlzLmlzRWxlbWVudFZpc2libGVJblZpZXcobWVtYmVyLCBldnQudGFyZ2V0KSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmxpc3QucGFyZW50Tm9kZS5vbnNjcm9sbCA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIG1lbWJlciA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmxpc3QsICcuY2wtbGItbWVtYmVyLXJvdycpO1xuXG4gICAgICBpZiAobWVtYmVyICE9PSBudWxsKSB7XG4gICAgICAgIF90aGlzLm1pc3NpbmdNZW1iZXIoX3RoaXMuaXNFbGVtZW50VmlzaWJsZUluVmlldyhtZW1iZXIsIGV2dC50YXJnZXQpKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgd2luZG93Lm9ucmVzaXplID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgdmFyIG1lbWJlciA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmxpc3QsICcuY2wtbGItbWVtYmVyLXJvdycpO1xuXG4gICAgICBpZiAobWVtYmVyICE9PSBudWxsKSB7XG4gICAgICAgIF90aGlzLm1pc3NpbmdNZW1iZXIoX3RoaXMuaXNFbGVtZW50VmlzaWJsZUluVmlldyhtZW1iZXIsIF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmxpc3QucGFyZW50Tm9kZSkpO1xuICAgICAgICBfdGhpcy5taXNzaW5nTWVtYmVyKF90aGlzLmlzRWxlbWVudFZpc2libGVJblZpZXcobWVtYmVyLCBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5yZXN1bHRDb250YWluZXIpKTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIC8vIHRoaXMuY2hlY2tMZWFkZXJib2FyZFNjcm9sbENvbnRhaW5lciA9IGZ1bmN0aW9uKCl7XG4gIC8vICB2YXIgX3RoaXMgPSB0aGlzLFxuICAvLyAgICBsYlNjcm9sbENvbnRhaW5lciA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmNvbnRhaW5lciwgXCIuY2wtbWFpbi13aWRnZXQtbGItbGVhZGVyYm9hcmQtYm9keVwiKTtcbiAgLy9cbiAgLy8gIGlmKCBzY3JvbGxFbmFibGVkKGxiU2Nyb2xsQ29udGFpbmVyKSApe1xuICAvLyAgICBhZGRDbGFzcyhsYlNjcm9sbENvbnRhaW5lciwgXCJjbC1lbGVtZW50LXNjcm9sbGFibGVcIik7XG4gIC8vICB9ZWxzZXtcbiAgLy8gICAgcmVtb3ZlQ2xhc3MobGJTY3JvbGxDb250YWluZXIsIFwiY2wtZWxlbWVudC1zY3JvbGxhYmxlXCIpO1xuICAvLyAgfVxuICAvLyB9O1xuXG4gIHRoaXMuY29tcGV0aXRpb25EZXRhaWxzT3B0SW5CdXR0b25TdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBvcHRJbiA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmRldGFpbHNDb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1vcHRpbi1hY3Rpb24nKTtcblxuICAgIGlmICh0eXBlb2YgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24ub3B0aW5SZXF1aXJlZCA9PT0gJ2Jvb2xlYW4nICYmIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uLm9wdGluUmVxdWlyZWQpIHtcbiAgICAgIGlmICh0eXBlb2YgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24ub3B0aW4gPT09ICdib29sZWFuJyAmJiAhX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24ub3B0aW4pIHtcbiAgICAgICAgb3B0SW4uaW5uZXJIVE1MID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24udG91cm5hbWVudHMuZW50ZXI7XG4gICAgICAgIHJlbW92ZUNsYXNzKG9wdEluLCAnY2wtZGlzYWJsZWQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdEluLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLnRvdXJuYW1lbnRzLnJlZ2lzdGVyZWQ7XG4gICAgICAgIGFkZENsYXNzKG9wdEluLCAnY2wtZGlzYWJsZWQnKTtcbiAgICAgIH1cbiAgICAgIG9wdEluLnBhcmVudE5vZGUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdEluLnBhcmVudE5vZGUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5sb2FkQ29tcGV0aXRpb25EZXRhaWxzID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgbGFiZWwgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5kZXRhaWxzQ29udGFpbmVyLCAnLmNsLW1haW4td2lkZ2V0LWxiLWRldGFpbHMtaGVhZGVyLWxhYmVsJyk7XG4gICAgLy8gdmFyIGRhdGUgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5kZXRhaWxzQ29udGFpbmVyLCAnLmNsLW1haW4td2lkZ2V0LWxiLWRldGFpbHMtaGVhZGVyLWRhdGUnKTtcbiAgICB2YXIgYm9keSA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmRldGFpbHNDb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1ib2R5Jyk7XG4gICAgdmFyIGltYWdlID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuZGV0YWlsc0NvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1sYi1kZXRhaWxzLWJvZHktaW1hZ2UtY29udCcpO1xuXG4gICAgaW1hZ2UuaW5uZXJIVE1MID0gJyc7XG4gICAgbGFiZWwuaW5uZXJIVE1MID0gKF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QubGFiZWwubGVuZ3RoID4gMCkgPyBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LmxhYmVsIDogX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24ubGFiZWw7XG4gICAgYm9keS5pbm5lckhUTUwgPSAoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5kZXNjcmlwdGlvbi5sZW5ndGggPiAwKSA/IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QuZGVzY3JpcHRpb24gOiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbi5kZXNjcmlwdGlvbjtcbiAgICBfdGhpcy5jb21wZXRpdGlvbkRldGFpbHNPcHRJbkJ1dHRvblN0YXRlKCk7XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5kZXRhaWxzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIF90aGlzLnNldHRpbmdzLmhlYWRlckRhdGUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgIF90aGlzLmV4dHJhY3RJbWFnZShib2R5LCBpbWFnZSk7XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGFkZENsYXNzKF90aGlzLnNldHRpbmdzLmRldGFpbHNDb250YWluZXIsICdjbC1zaG93Jyk7XG5cbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrKCk7XG4gICAgfSwgNTApO1xuICB9O1xuXG4gIHRoaXMubG9hZENvbXBldGl0aW9uTGlzdCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgYWpheEluc3RhbmNlKSB7XG4gICAgY29uc3QgX3RoaXMgPSB0aGlzO1xuICAgIGNvbnN0IGxpc3RSZXNDb250YWluZXIgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy50b3VybmFtZW50TGlzdENvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC10b3VybmFtZW50cy1saXN0LWJvZHktcmVzJyk7XG4gICAgY29uc3QgbGlzdEljb24gPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtbGItaGVhZGVyLWxpc3QtaWNvbicpO1xuICAgIGNvbnN0IHByZUxvYWRlciA9IF90aGlzLnByZWxvYWRlcigpO1xuXG4gICAgcHJlTG9hZGVyLnNob3coZnVuY3Rpb24gKCkge1xuICAgICAgbGlzdEljb24uc3R5bGUub3BhY2l0eSA9ICcwJztcbiAgICAgIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LmNoZWNrRm9yQXZhaWxhYmxlQ29tcGV0aXRpb25zKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFjY29yZGlvbk9iaiA9IF90aGlzLmFjY29yZGlvblN0eWxlKF90aGlzLnNldHRpbmdzLnRvdXJuYW1lbnRzU2VjdGlvbi5hY2NvcmRpb25MYXlvdXQsIGZ1bmN0aW9uIChhY2NvcmRpb25TZWN0aW9uLCBsaXN0Q29udGFpbmVyLCB0b3BFbnRyeUNvbnRhaW5lciwgbGF5b3V0KSB7XG4gICAgICAgICAgdmFyIHRvdXJuYW1lbnREYXRhID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudG91cm5hbWVudHNbbGF5b3V0LnR5cGVdO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiB0b3VybmFtZW50RGF0YSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGlmICh0b3VybmFtZW50RGF0YS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgYWNjb3JkaW9uU2VjdGlvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWFwT2JqZWN0KHRvdXJuYW1lbnREYXRhLCBmdW5jdGlvbiAodG91cm5hbWVudCwga2V5LCBjb3VudCkge1xuICAgICAgICAgICAgICBpZiAoKGNvdW50ICsgMSkgPD0gbGF5b3V0LnNob3dUb3BSZXN1bHRzICYmIHF1ZXJ5KHRvcEVudHJ5Q29udGFpbmVyLCAnLmNsLXRvdXJuYW1lbnQtJyArIHRvdXJuYW1lbnQuaWQpID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRvcEVudHJ5Q29udGFpbmVSbGlzdEl0ZW0gPSBfdGhpcy50b3VybmFtZW50SXRlbSh0b3VybmFtZW50KTtcbiAgICAgICAgICAgICAgICB0b3BFbnRyeUNvbnRhaW5lci5hcHBlbmRDaGlsZCh0b3BFbnRyeUNvbnRhaW5lUmxpc3RJdGVtKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChxdWVyeShsaXN0Q29udGFpbmVyLCAnLmNsLXRvdXJuYW1lbnQtJyArIHRvdXJuYW1lbnQuaWQpID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxpc3RJdGVtID0gX3RoaXMudG91cm5hbWVudEl0ZW0odG91cm5hbWVudCk7XG4gICAgICAgICAgICAgICAgbGlzdENvbnRhaW5lci5hcHBlbmRDaGlsZChsaXN0SXRlbSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGlzdFJlc0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgbGlzdFJlc0NvbnRhaW5lci5hcHBlbmRDaGlsZChhY2NvcmRpb25PYmopO1xuXG4gICAgICAgIF90aGlzLnNldHRpbmdzLnRvdXJuYW1lbnRMaXN0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBhZGRDbGFzcyhfdGhpcy5zZXR0aW5ncy50b3VybmFtZW50TGlzdENvbnRhaW5lciwgJ2NsLXNob3cnKTtcblxuICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrKCk7XG5cbiAgICAgICAgICBwcmVMb2FkZXIuaGlkZSgpO1xuICAgICAgICB9LCA1MCk7XG4gICAgICB9LCBhamF4SW5zdGFuY2UpO1xuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuaGlkZUNvbXBldGl0aW9uTGlzdCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgY29uc3QgbGlzdEljb24gPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtbGItaGVhZGVyLWxpc3QtaWNvbicpO1xuXG4gICAgbGlzdEljb24uc3R5bGUub3BhY2l0eSA9ICcxJztcbiAgICBfdGhpcy5oaWRlRW1iZWRkZWRDb21wZXRpdGlvbkRldGFpbHNDb250ZW50KCk7XG5cbiAgICByZW1vdmVDbGFzcyhfdGhpcy5zZXR0aW5ncy50b3VybmFtZW50TGlzdENvbnRhaW5lciwgJ2NsLXNob3cnKTtcblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0dGluZ3MudG91cm5hbWVudExpc3RDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2soKTtcbiAgICB9LCAyMDApO1xuICB9O1xuXG4gIHRoaXMuaGlkZUNvbXBldGl0aW9uRGV0YWlscyA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICByZW1vdmVDbGFzcyhfdGhpcy5zZXR0aW5ncy5kZXRhaWxzQ29udGFpbmVyLCAnY2wtc2hvdycpO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0dGluZ3MuZGV0YWlsc0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgX3RoaXMuc2V0dGluZ3MuaGVhZGVyRGF0ZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2soKTtcbiAgICB9LCAyMDApO1xuICB9O1xuXG4gIHRoaXMuYWNoaWV2ZW1lbnRJdGVtID0gZnVuY3Rpb24gKGFjaCwgYWNoaWV2ZWQsIHBlcmMpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBsaXN0SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBkZXRhaWxzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGRldGFpbHNXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGNhdGVnb3J5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHByb2dyZXNzaW9uV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBwcm9ncmVzc2lvbkNvbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgcHJvZ3Jlc3Npb25CYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgbW9yZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICB2YXIgY3BvbW50YWluc0ltYWdlID0gKHR5cGVvZiBhY2guaWNvbiAhPT0gJ3VuZGVmaW5lZCcgJiYgYWNoLmljb24ubGVuZ3RoID4gMCk7XG5cbiAgICBsaXN0SXRlbS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLWFjaC1saXN0LWl0ZW0gY2wtYWNoLScgKyBhY2guaWQgKyAoY3BvbW50YWluc0ltYWdlID8gJyBjbC1hY2gtd2l0aC1pbWFnZScgOiAnJykpO1xuICAgIGRldGFpbHNDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1hY2gtbGlzdC1kZXRhaWxzLWNvbnQnKTtcbiAgICBkZXRhaWxzV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLWFjaC1saXN0LWRldGFpbHMtd3JhcCcpO1xuICAgIGxhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtYWNoLWxpc3QtZGV0YWlscy1sYWJlbCcpO1xuICAgIGNhdGVnb3J5LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtYWNoLWxpc3QtZGV0YWlscy1jYXRlZ29yeScpO1xuICAgIGRlc2NyaXB0aW9uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtYWNoLWxpc3QtZGV0YWlscy1kZXNjcmlwdGlvbicpO1xuICAgIHByb2dyZXNzaW9uV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLWFjaC1saXN0LXByb2dyZXNzaW9uJyk7XG4gICAgcHJvZ3Jlc3Npb25Db250LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtYWNoLWxpc3QtcHJvZ3Jlc3Npb24tY29udCcpO1xuICAgIHByb2dyZXNzaW9uQmFyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtYWNoLWxpc3QtcHJvZ3Jlc3Npb24tYmFyJyk7XG4gICAgbW9yZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLWFjaC1saXN0LW1vcmUnKTtcblxuICAgIG1vcmVCdXR0b24uZGF0YXNldC5pZCA9IGFjaC5pZDtcbiAgICBtb3JlQnV0dG9uLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLmFjaGlldmVtZW50cy5tb3JlO1xuICAgIG1vcmVCdXR0b24uaHJlZiA9ICdqYXZhc2NyaXB0OnZvaWQoMCk7JztcblxuICAgIGxpc3RJdGVtLmRhdGFzZXQuaWQgPSBhY2guaWQ7XG5cbiAgICBsYWJlbC5pbm5lckhUTUwgPSBhY2gubmFtZTtcbiAgICBjYXRlZ29yeS5pbm5lckhUTUwgPSBhY2guY2F0ZWdvcnkuam9pbignLCAnKTtcblxuICAgIGRldGFpbHNXcmFwcGVyLmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICBkZXRhaWxzV3JhcHBlci5hcHBlbmRDaGlsZChjYXRlZ29yeSk7XG4gICAgZGV0YWlsc1dyYXBwZXIuYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb24pO1xuXG4gICAgaWYgKGNwb21udGFpbnNJbWFnZSkge1xuICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICB2YXIgaW1hZ2VJY29uV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgaW1hZ2VJY29uV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLWFjaC1saXN0LWl0ZW0taW1nLXdyYXBwZXInKTtcbiAgICAgIGltYWdlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtYWNoLWxpc3QtaXRlbS1pbWcnKTtcblxuICAgICAgaW1hZ2Uuc3JjID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudXJpLmdhdGV3YXlEb21haW4gKyBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy51cmkuYXNzZXRzLnJlcGxhY2UoJzphdHRhY2htZW50SWQnLCBhY2guaWNvbik7XG4gICAgICBpbWFnZS5hbHQgPSBhY2gubmFtZTtcblxuICAgICAgLy8gaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24oKXtcbiAgICAgIC8vIH07XG5cbiAgICAgIGltYWdlSWNvbldyYXBwZXIuYXBwZW5kQ2hpbGQoaW1hZ2UpO1xuICAgICAgZGV0YWlsc0NvbnRhaW5lci5hcHBlbmRDaGlsZChpbWFnZUljb25XcmFwcGVyKTtcbiAgICB9XG5cbiAgICBkZXRhaWxzQ29udGFpbmVyLmFwcGVuZENoaWxkKGRldGFpbHNXcmFwcGVyKTtcblxuICAgIHByb2dyZXNzaW9uQ29udC5hcHBlbmRDaGlsZChwcm9ncmVzc2lvbkJhcik7XG4gICAgcHJvZ3Jlc3Npb25XcmFwcGVyLmFwcGVuZENoaWxkKHByb2dyZXNzaW9uQ29udCk7XG4gICAgcHJvZ3Jlc3Npb25XcmFwcGVyLmFwcGVuZENoaWxkKG1vcmVCdXR0b24pO1xuXG4gICAgbGlzdEl0ZW0uYXBwZW5kQ2hpbGQoZGV0YWlsc0NvbnRhaW5lcik7XG4gICAgbGlzdEl0ZW0uYXBwZW5kQ2hpbGQocHJvZ3Jlc3Npb25XcmFwcGVyKTtcblxuICAgIHJldHVybiBsaXN0SXRlbTtcbiAgfTtcblxuICB0aGlzLmFjaGlldmVtZW50TGlzdExheW91dCA9IGZ1bmN0aW9uIChhY2hpZXZlbWVudERhdGEpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBhY2hMaXN0ID0gcXVlcnkoX3RoaXMuc2V0dGluZ3Muc2VjdGlvbiwgJy4nICsgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MubmF2aWdhdGlvbi5hY2hpZXZlbWVudHMuY29udGFpbmVyQ2xhc3MgKyAnIC5jbC1tYWluLXdpZGdldC1hY2gtbGlzdC1ib2R5LXJlcycpO1xuXG4gICAgbWFwT2JqZWN0KGFjaGlldmVtZW50RGF0YSwgZnVuY3Rpb24gKGFjaCkge1xuICAgICAgaWYgKHF1ZXJ5KGFjaExpc3QsICcuY2wtYWNoLScgKyBhY2guaWQpID09PSBudWxsKSB7XG4gICAgICAgIHZhciBsaXN0SXRlbSA9IF90aGlzLmFjaGlldmVtZW50SXRlbShhY2gpO1xuXG4gICAgICAgIGFjaExpc3QuYXBwZW5kQ2hpbGQobGlzdEl0ZW0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMubG9hZEFjaGlldmVtZW50RGV0YWlscyA9IGZ1bmN0aW9uIChkYXRhLCBjYWxsYmFjaykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIGxhYmVsID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuYWNoaWV2ZW1lbnQuZGV0YWlsc0NvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1hY2gtZGV0YWlscy1oZWFkZXItbGFiZWwnKTtcbiAgICB2YXIgYm9keSA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmFjaGlldmVtZW50LmRldGFpbHNDb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtYWNoLWRldGFpbHMtYm9keScpO1xuICAgIHZhciBpbWFnZSA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmFjaGlldmVtZW50LmRldGFpbHNDb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtYWNoLWRldGFpbHMtYm9keS1pbWFnZS1jb250Jyk7XG5cbiAgICBpbWFnZS5pbm5lckhUTUwgPSAnJztcblxuICAgIGxhYmVsLmlubmVySFRNTCA9IGRhdGEuZGF0YS5uYW1lO1xuICAgIGJvZHkuaW5uZXJIVE1MID0gZGF0YS5kYXRhLmRlc2NyaXB0aW9uO1xuXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmFjaGlldmVtZW50cy5leHRyYWN0SW1hZ2VIZWFkZXIpIHtcbiAgICAgIHZhciBpbWFnZUxvb2t1cCA9IHF1ZXJ5KGJvZHksICdpbWcnKTtcbiAgICAgIG9iamVjdEl0ZXJhdG9yKGltYWdlTG9va3VwLCBmdW5jdGlvbiAoaW1nLCBrZXksIGNvdW50KSB7XG4gICAgICAgIGlmIChjb3VudCA9PT0gMCkge1xuICAgICAgICAgIHZhciBuZXdJbWcgPSBpbWcuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICAgIGltYWdlLmFwcGVuZENoaWxkKG5ld0ltZyk7XG5cbiAgICAgICAgICByZW1vdmUoaW1nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX3RoaXMuc2V0dGluZ3MuYWNoaWV2ZW1lbnQuZGV0YWlsc0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGFkZENsYXNzKF90aGlzLnNldHRpbmdzLmFjaGlldmVtZW50LmRldGFpbHNDb250YWluZXIsICdjbC1zaG93Jyk7XG5cbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrKCk7XG4gICAgfSwgNTApO1xuICB9O1xuXG4gIHRoaXMuaGlkZUFjaGlldmVtZW50RGV0YWlscyA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICByZW1vdmVDbGFzcyhfdGhpcy5zZXR0aW5ncy5hY2hpZXZlbWVudC5kZXRhaWxzQ29udGFpbmVyLCAnY2wtc2hvdycpO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0dGluZ3MuYWNoaWV2ZW1lbnQuZGV0YWlsc0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBjYWxsYmFjaygpO1xuICAgIH0sIDIwMCk7XG4gIH07XG5cbiAgdGhpcy5sb2FkUmV3YXJkRGV0YWlscyA9IGZ1bmN0aW9uIChkYXRhLCBjYWxsYmFjaykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIGxhYmVsID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MucmV3YXJkLmRldGFpbHNDb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtcmV3YXJkLWRldGFpbHMtaGVhZGVyLWxhYmVsJyk7XG4gICAgdmFyIGJvZHkgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5yZXdhcmQuZGV0YWlsc0NvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1yZXdhcmQtZGV0YWlscy1ib2R5Jyk7XG4gICAgdmFyIGltYWdlID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MucmV3YXJkLmRldGFpbHNDb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtcmV3YXJkLWRldGFpbHMtYm9keS1pbWFnZS1jb250Jyk7XG4gICAgdmFyIGNsYWltQnRuID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MucmV3YXJkLmRldGFpbHNDb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtcmV3YXJkLWNsYWltLWJ0bicpO1xuICAgIHZhciBpY29uID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MucmV3YXJkLmRldGFpbHNDb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtcmV3YXJkLXdpbm5pbmdzLWljb24nKTtcbiAgICB2YXIgdmFsdWUgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5yZXdhcmQuZGV0YWlsc0NvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1yZXdhcmQtd2lubmluZ3MtdmFsdWUnKTtcblxuICAgIGxhYmVsLmlubmVySFRNTCA9IGRhdGEuZGF0YS5yZXdhcmQucmV3YXJkTmFtZTtcbiAgICBib2R5LmlubmVySFRNTCA9IGRhdGEuZGF0YS5yZXdhcmQuZGVzY3JpcHRpb247XG4gICAgdmFsdWUuaW5uZXJIVE1MID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MucmV3YXJkcy5yZXdhcmRGb3JtYXR0ZXIoZGF0YS5kYXRhLnJld2FyZCk7XG4gICAgY2xhaW1CdG4uZGF0YXNldC5pZCA9IGRhdGEuZGF0YS5pZDtcblxuICAgIGlmIChkYXRhLmRhdGEuY2xhaW1lZCkge1xuICAgICAgYWRkQ2xhc3MoY2xhaW1CdG4sICdjbC1jbGFpbWVkJyk7XG4gICAgICBjbGFpbUJ0bi5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5yZXdhcmRzLmNsYWltZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZUNsYXNzKGNsYWltQnRuLCAnY2wtY2xhaW1lZCcpO1xuICAgICAgY2xhaW1CdG4uaW5uZXJIVE1MID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24ucmV3YXJkcy5jbGFpbTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGRhdGEuZGF0YS5yZXdhcmQuaWNvbiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGljb24uaW5uZXJIVE1MID0gJyc7XG5cbiAgICAgIHZhciBfaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgIHZhciBpbWFnZUljb25XcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBpbWFnZUljb25XcmFwcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtcmV3YXJkLWxpc3QtaXRlbS1pbWctd3JhcHBlcicpO1xuICAgICAgX2ltYWdlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtcmV3YXJkLWxpc3QtaXRlbS1pbWcnKTtcblxuICAgICAgX2ltYWdlLnNyYyA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnVyaS5nYXRld2F5RG9tYWluICsgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudXJpLmFzc2V0cy5yZXBsYWNlKCc6YXR0YWNobWVudElkJywgZGF0YS5kYXRhLnJld2FyZC5pY29uKTtcbiAgICAgIF9pbWFnZS5hbHQgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5yZXdhcmRzLnJld2FyZEZvcm1hdHRlcihkYXRhLmRhdGEucmV3YXJkKTtcblxuICAgICAgaWNvbi5hcHBlbmRDaGlsZChfaW1hZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpY29uLmlubmVySFRNTCA9IFwiPHNwYW4gY2xhc3M9J2NsLXBsYWNlLWhvbGRlci1yZXdhcmQtaW1hZ2UnPjwvc3Bhbj5cIjtcbiAgICB9XG5cbiAgICBvYmplY3RJdGVyYXRvcihxdWVyeShib2R5LCAnaW1nJyksIGZ1bmN0aW9uIChpbWcsIGtleSwgY291bnQpIHtcbiAgICAgIGlmIChjb3VudCA9PT0gMCkge1xuICAgICAgICB2YXIgbmV3SW1nID0gaW1nLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgaW1hZ2UuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIGltYWdlLmFwcGVuZENoaWxkKG5ld0ltZyk7XG5cbiAgICAgICAgcmVtb3ZlKGltZyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5yZXdhcmQuZGV0YWlsc0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGFkZENsYXNzKF90aGlzLnNldHRpbmdzLnJld2FyZC5kZXRhaWxzQ29udGFpbmVyLCAnY2wtc2hvdycpO1xuXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBjYWxsYmFjaygpO1xuICAgIH0sIDUwKTtcbiAgfTtcblxuICB0aGlzLmxvYWRNZXNzYWdlRGV0YWlscyA9IGZ1bmN0aW9uIChkYXRhLCBjYWxsYmFjaykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIGxhYmVsID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MubWVzc2FnZXMuZGV0YWlsc0NvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1pbmJveC1kZXRhaWxzLWhlYWRlci1sYWJlbCcpO1xuICAgIHZhciBib2R5ID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MubWVzc2FnZXMuZGV0YWlsc0NvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1pbmJveC1kZXRhaWxzLWJvZHknKTtcblxuICAgIGxhYmVsLmlubmVySFRNTCA9IGRhdGEuZGF0YS5zdWJqZWN0O1xuICAgIGJvZHkuaW5uZXJIVE1MID0gZGF0YS5kYXRhLmJvZHk7XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5tZXNzYWdlcy5kZXRhaWxzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgYWRkQ2xhc3MoX3RoaXMuc2V0dGluZ3MubWVzc2FnZXMuZGV0YWlsc0NvbnRhaW5lciwgJ2NsLXNob3cnKTtcblxuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2soKTtcbiAgICB9LCA1MCk7XG4gIH07XG5cbiAgdGhpcy5oaWRlUmV3YXJkRGV0YWlscyA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICByZW1vdmVDbGFzcyhfdGhpcy5zZXR0aW5ncy5yZXdhcmQuZGV0YWlsc0NvbnRhaW5lciwgJ2NsLXNob3cnKTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldHRpbmdzLnJld2FyZC5kZXRhaWxzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrKCk7XG4gICAgfSwgMjAwKTtcbiAgfTtcblxuICB0aGlzLmhpZGVNZXNzYWdlRGV0YWlscyA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICByZW1vdmVDbGFzcyhfdGhpcy5zZXR0aW5ncy5tZXNzYWdlcy5kZXRhaWxzQ29udGFpbmVyLCAnY2wtc2hvdycpO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0dGluZ3MubWVzc2FnZXMuZGV0YWlsc0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBjYWxsYmFjaygpO1xuICAgIH0sIDIwMCk7XG4gIH07XG5cbiAgdGhpcy51cGRhdGVBY2hpZXZlbWVudFByb2dyZXNzaW9uQW5kSXNzdWVkID0gZnVuY3Rpb24gKGlzc3VlZCwgcHJvZ3Jlc3Npb24pIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBhY2hMaXN0ID0gcXVlcnkoX3RoaXMuc2V0dGluZ3Muc2VjdGlvbiwgJy4nICsgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MubmF2aWdhdGlvbi5hY2hpZXZlbWVudHMuY29udGFpbmVyQ2xhc3MgKyAnIC5jbC1tYWluLXdpZGdldC1hY2gtbGlzdC1ib2R5LXJlcycpO1xuXG4gICAgb2JqZWN0SXRlcmF0b3IocXVlcnkoYWNoTGlzdCwgJy5jbC1hY2gtbGlzdC1pdGVtJyksIGZ1bmN0aW9uIChhY2gpIHtcbiAgICAgIHZhciBpZCA9IGFjaC5kYXRhc2V0LmlkO1xuICAgICAgdmFyIGlzc3VlZFN0YXR1cyA9IChpc3N1ZWQuaW5kZXhPZihpZCkgIT09IC0xKTtcblxuICAgICAgdmFyIHBlcmMgPSAwO1xuICAgICAgbWFwT2JqZWN0KHByb2dyZXNzaW9uLCBmdW5jdGlvbiAocHIpIHtcbiAgICAgICAgaWYgKHByLmFjaGlldmVtZW50SWQgPT09IGlkKSB7XG4gICAgICAgICAgcGVyYyA9IChwYXJzZUZsb2F0KHByLmdvYWxQZXJjZW50YWdlQ29tcGxldGUpICogMTAwKS50b0ZpeGVkKDEpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKGFjaCAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgYmFyID0gcXVlcnkoYWNoLCAnLmNsLWFjaC1saXN0LXByb2dyZXNzaW9uLWJhcicpO1xuXG4gICAgICAgIGlmIChpc3N1ZWRTdGF0dXMpIHtcbiAgICAgICAgICBhZGRDbGFzcyhiYXIsICdjbC1hY2gtY29tcGxldGUnKTtcbiAgICAgICAgICBiYXIuaW5uZXJIVE1MID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24uYWNoaWV2ZW1lbnRzLmNvbXBsZXRlO1xuICAgICAgICAgIGJhci5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBiYXIuc3R5bGUud2lkdGggPSAoKHBlcmMgPiAxIHx8IHBlcmMgPT09IDApID8gcGVyYyA6IDEpICsgJyUnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5sb2FkQWNoaWV2ZW1lbnRzID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LmNoZWNrRm9yQXZhaWxhYmxlQWNoaWV2ZW1lbnRzKGZ1bmN0aW9uIChhY2hpZXZlbWVudERhdGEpIHtcbiAgICAgIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnVwZGF0ZUFjaGlldmVtZW50TmF2aWdhdGlvbkNvdW50cygpO1xuICAgICAgX3RoaXMuYWNoaWV2ZW1lbnRMaXN0TGF5b3V0KGFjaGlldmVtZW50RGF0YSk7XG5cbiAgICAgIHZhciBpZExpc3QgPSBbXTtcbiAgICAgIG1hcE9iamVjdChfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5hY2hpZXZlbWVudHMubGlzdCwgZnVuY3Rpb24gKGFjaCkge1xuICAgICAgICBpZExpc3QucHVzaChhY2guaWQpO1xuICAgICAgfSk7XG5cbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5jaGVja0Zvck1lbWJlckFjaGlldmVtZW50c0lzc3VlZChmdW5jdGlvbiAoaXNzdWVkKSB7XG4gICAgICAgICAgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuY2hlY2tGb3JNZW1iZXJBY2hpZXZlbWVudHNQcm9ncmVzc2lvbihpZExpc3QsIGZ1bmN0aW9uIChwcm9ncmVzc2lvbikge1xuICAgICAgICAgICAgX3RoaXMudXBkYXRlQWNoaWV2ZW1lbnRQcm9ncmVzc2lvbkFuZElzc3VlZChpc3N1ZWQsIHByb2dyZXNzaW9uKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9LCA0MDApO1xuXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5yZXdhcmRJdGVtID0gZnVuY3Rpb24gKHJldykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIGxpc3RJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGRldGFpbHNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgZGV0YWlsc1dyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIGxpc3RJdGVtLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtcmV3LWxpc3QtaXRlbSBjbC1yZXctJyArIHJldy5pZCk7XG4gICAgZGV0YWlsc0NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXJldy1saXN0LWRldGFpbHMtY29udCcpO1xuICAgIGRldGFpbHNXcmFwcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtcmV3LWxpc3QtZGV0YWlscy13cmFwJyk7XG4gICAgbGFiZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1yZXctbGlzdC1kZXRhaWxzLWxhYmVsJyk7XG4gICAgZGVzY3JpcHRpb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1yZXctbGlzdC1kZXRhaWxzLWRlc2NyaXB0aW9uJyk7XG5cbiAgICBsaXN0SXRlbS5kYXRhc2V0LmlkID0gcmV3LmlkO1xuICAgIHZhciBsYWJlbFRleHQgPSBzdHJpcEh0bWwocmV3LnN1YmplY3QpO1xuICAgIHZhciBkZXNjcmlwdGlvblRleHQgPSBzdHJpcEh0bWwocmV3LmJvZHkpO1xuXG4gICAgaWYgKHR5cGVvZiByZXcucHJpemUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBsaXN0SXRlbS5kYXRhc2V0LnJld2FyZElkID0gcmV3LnByaXplLmlkO1xuICAgICAgbGFiZWxUZXh0ID0gc3RyaXBIdG1sKHJldy5zdWJqZWN0ICsgJyAtICcgKyByZXcucHJpemUucmV3YXJkLnJld2FyZE5hbWUgKyAnICgnICsgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MucmV3YXJkcy5yZXdhcmRGb3JtYXR0ZXIocmV3LnByaXplLnJld2FyZCkgKyAnKScpO1xuICAgICAgZGVzY3JpcHRpb25UZXh0ID0gc3RyaXBIdG1sKCh0eXBlb2YgcmV3LnByaXplLnJld2FyZC5kZXNjcmlwdGlvbiAhPT0gJ3VuZGVmaW5lZCcgJiYgcmV3LnByaXplLnJld2FyZC5kZXNjcmlwdGlvbi5sZW5ndGggPiAwKSA/IHJldy5wcml6ZS5yZXdhcmQuZGVzY3JpcHRpb24gOiByZXcuYm9keSk7XG4gICAgfVxuXG4gICAgbGFiZWwuaW5uZXJIVE1MID0gKGxhYmVsVGV4dC5sZW5ndGggPiA4MCkgPyAobGFiZWxUZXh0LnN1YnN0cigwLCA4MCkgKyAnLi4uJykgOiBsYWJlbFRleHQ7XG4gICAgZGVzY3JpcHRpb24uaW5uZXJIVE1MID0gKGRlc2NyaXB0aW9uVGV4dC5sZW5ndGggPiAyMDApID8gKGRlc2NyaXB0aW9uVGV4dC5zdWJzdHIoMCwgMjAwKSArICcuLi4nKSA6IGRlc2NyaXB0aW9uVGV4dDtcblxuICAgIGRldGFpbHNXcmFwcGVyLmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICBkZXRhaWxzV3JhcHBlci5hcHBlbmRDaGlsZChkZXNjcmlwdGlvbik7XG4gICAgZGV0YWlsc0NvbnRhaW5lci5hcHBlbmRDaGlsZChkZXRhaWxzV3JhcHBlcik7XG4gICAgbGlzdEl0ZW0uYXBwZW5kQ2hpbGQoZGV0YWlsc0NvbnRhaW5lcik7XG5cbiAgICByZXR1cm4gbGlzdEl0ZW07XG4gIH07XG5cbiAgdGhpcy5tZXNzYWdlSXRlbSA9IGZ1bmN0aW9uIChpbmJveCkge1xuICAgIC8vIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIGxpc3RJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGRldGFpbHNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgZGV0YWlsc1dyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgY29udGVudCA9IHN0cmlwSHRtbChpbmJveC5ib2R5KTtcblxuICAgIGxpc3RJdGVtLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtaW5ib3gtbGlzdC1pdGVtIGNsLWluYm94LScgKyBpbmJveC5pZCk7XG4gICAgZGV0YWlsc0NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLWluYm94LWxpc3QtZGV0YWlscy1jb250Jyk7XG4gICAgZGV0YWlsc1dyYXBwZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1pbmJveC1saXN0LWRldGFpbHMtd3JhcCcpO1xuICAgIGxhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtaW5ib3gtbGlzdC1kZXRhaWxzLWxhYmVsJyk7XG4gICAgZGVzY3JpcHRpb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1pbmJveC1saXN0LWRldGFpbHMtZGVzY3JpcHRpb24nKTtcblxuICAgIGxpc3RJdGVtLmRhdGFzZXQuaWQgPSBpbmJveC5pZDtcbiAgICBsYWJlbC5pbm5lckhUTUwgPSAoaW5ib3guc3ViamVjdC5sZW5ndGggPiAzNikgPyBpbmJveC5zdWJqZWN0LnN1YnN0cigwLCAzNikgKyAnLi4uJyA6IGluYm94LnN1YmplY3Q7XG4gICAgZGVzY3JpcHRpb24uaW5uZXJIVE1MID0gKGNvbnRlbnQubGVuZ3RoID4gNjApID8gY29udGVudC5zdWJzdHIoMCwgNjApICsgJy4uLicgOiBjb250ZW50O1xuXG4gICAgZGV0YWlsc1dyYXBwZXIuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgIGRldGFpbHNXcmFwcGVyLmFwcGVuZENoaWxkKGRlc2NyaXB0aW9uKTtcbiAgICBkZXRhaWxzQ29udGFpbmVyLmFwcGVuZENoaWxkKGRldGFpbHNXcmFwcGVyKTtcbiAgICBsaXN0SXRlbS5hcHBlbmRDaGlsZChkZXRhaWxzQ29udGFpbmVyKTtcblxuICAgIHJldHVybiBsaXN0SXRlbTtcbiAgfTtcblxuICB0aGlzLnRvdXJuYW1lbnRJdGVtID0gZnVuY3Rpb24gKHRvdXJuYW1lbnQpIHtcbiAgICAvLyB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBsaXN0SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBkZXRhaWxzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGRldGFpbHNXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGRlc2NyaXB0aW9uQ29udGVudCA9IHN0cmlwSHRtbCh0b3VybmFtZW50LmRlc2NyaXB0aW9uKTtcblxuICAgIGxpc3RJdGVtLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtdG91ci1saXN0LWl0ZW0gY2wtdG91ci0nICsgdG91cm5hbWVudC5pZCk7XG4gICAgZGV0YWlsc0NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXRvdXItbGlzdC1kZXRhaWxzLWNvbnQnKTtcbiAgICBkZXRhaWxzV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXRvdXItbGlzdC1kZXRhaWxzLXdyYXAnKTtcbiAgICBsYWJlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXRvdXItbGlzdC1kZXRhaWxzLWxhYmVsJyk7XG4gICAgZGVzY3JpcHRpb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC10b3VyLWxpc3QtZGV0YWlscy1kZXNjcmlwdGlvbicpO1xuXG4gICAgbGlzdEl0ZW0uZGF0YXNldC5pZCA9IHRvdXJuYW1lbnQuaWQ7XG4gICAgbGFiZWwuaW5uZXJIVE1MID0gdG91cm5hbWVudC5sYWJlbDtcbiAgICBkZXNjcmlwdGlvbi5pbm5lckhUTUwgPSAoZGVzY3JpcHRpb25Db250ZW50Lmxlbmd0aCA+IDEwMCkgPyBkZXNjcmlwdGlvbkNvbnRlbnQuc3Vic3RyKDAsIDEwMCkgKyAnLi4uJyA6IGRlc2NyaXB0aW9uQ29udGVudDtcblxuICAgIGRldGFpbHNXcmFwcGVyLmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICBkZXRhaWxzV3JhcHBlci5hcHBlbmRDaGlsZChkZXNjcmlwdGlvbik7XG4gICAgZGV0YWlsc0NvbnRhaW5lci5hcHBlbmRDaGlsZChkZXRhaWxzV3JhcHBlcik7XG4gICAgbGlzdEl0ZW0uYXBwZW5kQ2hpbGQoZGV0YWlsc0NvbnRhaW5lcik7XG5cbiAgICByZXR1cm4gbGlzdEl0ZW07XG4gIH07XG5cbiAgdGhpcy5yZXdhcmRzTGlzdExheW91dCA9IGZ1bmN0aW9uIChyZXdhcmRzLCBhdmFpbGFibGVSZXdhcmRzLCBleHBpcmVkUmV3YXJkcykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIHJld2FyZExpc3QgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5zZWN0aW9uLCAnLicgKyBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5uYXZpZ2F0aW9uLnJld2FyZHMuY29udGFpbmVyQ2xhc3MgKyAnIC5jbC1tYWluLXdpZGdldC1yZXdhcmQtbGlzdC1ib2R5LXJlcycpO1xuXG4gICAgdmFyIGFjY29yZGlvbk9iaiA9IF90aGlzLmFjY29yZGlvblN0eWxlKF90aGlzLnNldHRpbmdzLnJld2FyZHNTZWN0aW9uLmFjY29yZGlvbkxheW91dCwgZnVuY3Rpb24gKGFjY29yZGlvblNlY3Rpb24sIGxpc3RDb250YWluZXIsIHRvcEVudHJ5Q29udGFpbmVyLCBsYXlvdXQpIHtcbiAgICAgIHZhciByZXdhcmREYXRhID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MucmV3YXJkc1tsYXlvdXQudHlwZV07XG5cbiAgICAgIGlmICh0eXBlb2YgcmV3YXJkRGF0YSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKHJld2FyZERhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgYWNjb3JkaW9uU2VjdGlvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgICAgIG1hcE9iamVjdChyZXdhcmREYXRhLCBmdW5jdGlvbiAocmV3LCBrZXksIGNvdW50KSB7XG4gICAgICAgICAgaWYgKChjb3VudCArIDEpIDw9IGxheW91dC5zaG93VG9wUmVzdWx0cyAmJiBxdWVyeSh0b3BFbnRyeUNvbnRhaW5lciwgJy5jbC1yZXdhcmQtJyArIHJldy5pZCkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciB0b3BFbnRyeUNvbnRhaW5lUmxpc3RJdGVtID0gX3RoaXMucmV3YXJkSXRlbShyZXcpO1xuICAgICAgICAgICAgdG9wRW50cnlDb250YWluZXIuYXBwZW5kQ2hpbGQodG9wRW50cnlDb250YWluZVJsaXN0SXRlbSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHF1ZXJ5KGxpc3RDb250YWluZXIsICcuY2wtcmV3YXJkLScgKyByZXcuaWQpID09PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgbGlzdEl0ZW0gPSBfdGhpcy5yZXdhcmRJdGVtKHJldyk7XG4gICAgICAgICAgICBsaXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKGxpc3RJdGVtKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV3YXJkTGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICByZXdhcmRMaXN0LmFwcGVuZENoaWxkKGFjY29yZGlvbk9iaik7XG5cbiAgICAvLyBtYXBPYmplY3QocmV3YXJkRGF0YSwgZnVuY3Rpb24ocmV3KXtcbiAgICAvLyAgIGlmKCBxdWVyeShyZXdhcmRMaXN0LCBcIi5jbC1yZXdhcmQtXCIgKyByZXcuaWQpID09PSBudWxsICkge1xuICAgIC8vICAgICB2YXIgbGlzdEl0ZW0gPSBfdGhpcy5yZXdhcmRJdGVtKHJldyk7XG4gICAgLy9cbiAgICAvLyAgICAgcmV3YXJkTGlzdC5hcHBlbmRDaGlsZChsaXN0SXRlbSk7XG4gICAgLy8gICB9XG4gICAgLy8gfSk7XG4gIH07XG5cbiAgdGhpcy5tZXNzYWdlc0xpc3RMYXlvdXQgPSBmdW5jdGlvbiAocmV3YXJkcywgYXZhaWxhYmxlUmV3YXJkcywgZXhwaXJlZFJld2FyZHMpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBtZXNzYWdlTGlzdCA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLnNlY3Rpb24sICcuJyArIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLm5hdmlnYXRpb24uaW5ib3guY29udGFpbmVyQ2xhc3MgKyAnIC5jbC1tYWluLXdpZGdldC1pbmJveC1saXN0LWJvZHktcmVzJyk7XG5cbiAgICBtZXNzYWdlTGlzdC5pbm5lckhUTUwgPSAnJztcblxuICAgIG1hcE9iamVjdChfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5tZXNzYWdlcy5tZXNzYWdlcywgZnVuY3Rpb24gKGluYm94SXRlbSwga2V5LCBjb3VudCkge1xuICAgICAgdmFyIGxpc3RJdGVtID0gX3RoaXMubWVzc2FnZUl0ZW0oaW5ib3hJdGVtKTtcbiAgICAgIG1lc3NhZ2VMaXN0LmFwcGVuZENoaWxkKGxpc3RJdGVtKTtcbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLmxvYWRSZXdhcmRzID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LmNoZWNrRm9yQXZhaWxhYmxlUmV3YXJkcyhmdW5jdGlvbiAocmV3YXJkcywgYXZhaWxhYmxlUmV3YXJkcywgZXhwaXJlZFJld2FyZHMpIHtcbiAgICAgIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnVwZGF0ZVJld2FyZHNOYXZpZ2F0aW9uQ291bnRzKCk7XG4gICAgICBfdGhpcy5yZXdhcmRzTGlzdExheW91dChyZXdhcmRzLCBhdmFpbGFibGVSZXdhcmRzLCBleHBpcmVkUmV3YXJkcyk7XG5cbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLmxvYWRNZXNzYWdlcyA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5jaGVja0ZvckF2YWlsYWJsZU1lc3NhZ2VzKGZ1bmN0aW9uIChyZXdhcmRzLCBhdmFpbGFibGVSZXdhcmRzLCBleHBpcmVkUmV3YXJkcykge1xuICAgICAgX3RoaXMubWVzc2FnZXNMaXN0TGF5b3V0KHJld2FyZHMsIGF2YWlsYWJsZVJld2FyZHMsIGV4cGlyZWRSZXdhcmRzKTtcblxuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBjaGFuZ2VJbnRlcnZhbDtcbiAgdmFyIGNoYW5nZUNvbnRhaW5lckludGVydmFsO1xuICB0aGlzLm5hdmlnYXRpb25Td2l0Y2ggPSBmdW5jdGlvbiAodGFyZ2V0LCBjYWxsYmFjaykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIHByZUxvYWRlciA9IF90aGlzLnByZWxvYWRlcigpO1xuXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLm5hdmlnYXRpb25Td2l0Y2hJblByb2dyZXNzICYmIF90aGlzLnNldHRpbmdzLm5hdmlnYXRpb25Td2l0Y2hMYXN0QXRlbXB0ICsgMzAwMCA8IG5ldyBEYXRlKCkuZ2V0VGltZSgpKSB7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5uYXZpZ2F0aW9uU3dpdGNoSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghX3RoaXMuc2V0dGluZ3MubmF2aWdhdGlvblN3aXRjaEluUHJvZ3Jlc3MpIHtcbiAgICAgIF90aGlzLnNldHRpbmdzLm5hdmlnYXRpb25Td2l0Y2hJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgIF90aGlzLnNldHRpbmdzLm5hdmlnYXRpb25Td2l0Y2hMYXN0QXRlbXB0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgICAgIGlmICghaGFzQ2xhc3ModGFyZ2V0LnBhcmVudE5vZGUsICdjbC1hY3RpdmUtbmF2JykpIHtcbiAgICAgICAgcHJlTG9hZGVyLnNob3coZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChjaGFuZ2VJbnRlcnZhbCkgY2xlYXJUaW1lb3V0KGNoYW5nZUludGVydmFsKTtcbiAgICAgICAgICBpZiAoY2hhbmdlQ29udGFpbmVySW50ZXJ2YWwpIGNsZWFyVGltZW91dChjaGFuZ2VDb250YWluZXJJbnRlcnZhbCk7XG5cbiAgICAgICAgICBvYmplY3RJdGVyYXRvcihxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtbmF2aWdhdGlvbi1pdGVtcyAuY2wtYWN0aXZlLW5hdicpLCBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICByZW1vdmVDbGFzcyhvYmosICdjbC1hY3RpdmUtbmF2Jyk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBvYmplY3RJdGVyYXRvcihxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtc2VjdGlvbi1jb250YWluZXIgLmNsLW1haW4tYWN0aXZlLXNlY3Rpb24nKSwgZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgcmVtb3ZlQ2xhc3Mob2JqLCAnY2wtbWFpbi1hY3RpdmUtc2VjdGlvbicpO1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIG9iai5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgfSwgMTUwKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGNoYW5nZUNvbnRhaW5lckludGVydmFsID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoaGFzQ2xhc3ModGFyZ2V0LCAnY2wtbWFpbi13aWRnZXQtbmF2aWdhdGlvbi1sYi1pY29uJykpIHtcbiAgICAgICAgICAgICAgX3RoaXMubG9hZExlYWRlcmJvYXJkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGJDb250YWluZXIgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtc2VjdGlvbi1jb250YWluZXIgLicgKyBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5uYXZpZ2F0aW9uLnRvdXJuYW1lbnRzLmNvbnRhaW5lckNsYXNzKTtcblxuICAgICAgICAgICAgICAgIGxiQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgICAgIGNoYW5nZUludGVydmFsID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICBhZGRDbGFzcyhsYkNvbnRhaW5lciwgJ2NsLW1haW4tYWN0aXZlLXNlY3Rpb24nKTtcbiAgICAgICAgICAgICAgICB9LCAzMCk7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHByZUxvYWRlci5oaWRlKCk7XG5cbiAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5uYXZpZ2F0aW9uU3dpdGNoSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3ModGFyZ2V0LCAnY2wtbWFpbi13aWRnZXQtbmF2aWdhdGlvbi1hY2gtaWNvbicpKSB7XG4gICAgICAgICAgICAgIF90aGlzLmxvYWRBY2hpZXZlbWVudHMoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBhY2hDb250YWluZXIgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtc2VjdGlvbi1jb250YWluZXIgLicgKyBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5uYXZpZ2F0aW9uLmFjaGlldmVtZW50cy5jb250YWluZXJDbGFzcyk7XG5cbiAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5hY2hpZXZlbWVudC5kZXRhaWxzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgICAgICAgICBhY2hDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICAgICAgY2hhbmdlSW50ZXJ2YWwgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIGFkZENsYXNzKGFjaENvbnRhaW5lciwgJ2NsLW1haW4tYWN0aXZlLXNlY3Rpb24nKTtcblxuICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIDMwKTtcblxuICAgICAgICAgICAgICAgIHByZUxvYWRlci5oaWRlKCk7XG5cbiAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5uYXZpZ2F0aW9uU3dpdGNoSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3ModGFyZ2V0LCAnY2wtbWFpbi13aWRnZXQtbmF2aWdhdGlvbi1yZXdhcmRzLWljb24nKSkge1xuICAgICAgICAgICAgICBfdGhpcy5sb2FkUmV3YXJkcyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJld2FyZHNDb250YWluZXIgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtc2VjdGlvbi1jb250YWluZXIgLicgKyBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5uYXZpZ2F0aW9uLnJld2FyZHMuY29udGFpbmVyQ2xhc3MpO1xuXG4gICAgICAgICAgICAgICAgcmV3YXJkc0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgICAgICBjaGFuZ2VJbnRlcnZhbCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgYWRkQ2xhc3MocmV3YXJkc0NvbnRhaW5lciwgJ2NsLW1haW4tYWN0aXZlLXNlY3Rpb24nKTtcbiAgICAgICAgICAgICAgICB9LCAzMCk7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHByZUxvYWRlci5oaWRlKCk7XG5cbiAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5uYXZpZ2F0aW9uU3dpdGNoSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3ModGFyZ2V0LCAnY2wtbWFpbi13aWRnZXQtbmF2aWdhdGlvbi1pbmJveC1pY29uJykpIHtcbiAgICAgICAgICAgICAgX3RoaXMubG9hZE1lc3NhZ2VzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5ib3hDb250YWluZXIgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtc2VjdGlvbi1jb250YWluZXIgLicgKyBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5uYXZpZ2F0aW9uLmluYm94LmNvbnRhaW5lckNsYXNzKTtcblxuICAgICAgICAgICAgICAgIGluYm94Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgICAgIGNoYW5nZUludGVydmFsID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICBhZGRDbGFzcyhpbmJveENvbnRhaW5lciwgJ2NsLW1haW4tYWN0aXZlLXNlY3Rpb24nKTtcbiAgICAgICAgICAgICAgICB9LCAzMCk7XG5cbiAgICAgICAgICAgICAgICBwcmVMb2FkZXIuaGlkZSgpO1xuXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MubmF2aWdhdGlvblN3aXRjaEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgMjUwKTtcblxuICAgICAgICAgIGFkZENsYXNzKHRhcmdldC5wYXJlbnROb2RlLCAnY2wtYWN0aXZlLW5hdicpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIF90aGlzLnNldHRpbmdzLm5hdmlnYXRpb25Td2l0Y2hJblByb2dyZXNzID0gZmFsc2U7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHRoaXMucmVzZXROYXZpZ2F0aW9uID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBjb25zdCBsaXN0SWNvbiA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1sYi1oZWFkZXItbGlzdC1pY29uJyk7XG5cbiAgICBvYmplY3RJdGVyYXRvcihxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtbmF2aWdhdGlvbi1pdGVtcyAuY2wtYWN0aXZlLW5hdicpLCBmdW5jdGlvbiAob2JqKSB7XG4gICAgICByZW1vdmVDbGFzcyhvYmosICdjbC1hY3RpdmUtbmF2Jyk7XG4gICAgfSk7XG5cbiAgICBvYmplY3RJdGVyYXRvcihxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtc2VjdGlvbi1jb250YWluZXIgLmNsLW1haW4tYWN0aXZlLXNlY3Rpb24nKSwgZnVuY3Rpb24gKG9iaikge1xuICAgICAgb2JqLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICByZW1vdmVDbGFzcyhvYmosICdjbC1tYWluLWFjdGl2ZS1zZWN0aW9uJyk7XG4gICAgfSk7XG5cbiAgICB2YXIgYWN0aXZlTmF2ZSA9IGZhbHNlO1xuICAgIG9iamVjdEl0ZXJhdG9yKHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1uYXZpZ2F0aW9uLWNvbnRhaW5lciAuY2wtbWFpbi13aWRnZXQtbmF2aWdhdGlvbi1pdGVtJyksIGZ1bmN0aW9uIChuYXZJdGVtLCBrZXksIGNvdW50KSB7XG4gICAgICBpZiAoIWFjdGl2ZU5hdmUgJiYgIWhhc0NsYXNzKG5hdkl0ZW0sICdjbC1oaWRkZW4tbmF2aWdhdGlvbi1pdGVtJykpIHtcbiAgICAgICAgX3RoaXMubmF2aWdhdGlvblN3aXRjaChxdWVyeShuYXZJdGVtLCAnLmNsLW1haW4tbmF2aWdhdGlvbi1pdGVtJykpO1xuICAgICAgICBhY3RpdmVOYXZlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGxpc3RJY29uLnN0eWxlLm9wYWNpdHkgPSAnMSc7XG4gICAgX3RoaXMuaGlkZUVtYmVkZGVkQ29tcGV0aXRpb25EZXRhaWxzQ29udGVudCgpO1xuICAgIF90aGlzLmhpZGVDb21wZXRpdGlvbkxpc3QoKTtcblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ3VuZGVmaW5lZCcpIGNhbGxiYWNrKCk7XG4gICAgfSwgNzApO1xuICB9O1xuXG4gIHRoaXMuaW5pdExheW91dCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5hY3RpdmUgPSB0cnVlO1xuXG4gICAgX3RoaXMubG9hZExlYWRlcmJvYXJkKCk7XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5jb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgX3RoaXMuc2V0dGluZ3Mub3ZlcmxheUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGFkZENsYXNzKF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJ2NsLXNob3cnKTtcblxuICAgICAgdmFyIG1lbWJlciA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmxpc3QsICcuY2wtbGItbWVtYmVyLXJvdycpO1xuICAgICAgaWYgKG1lbWJlciAhPT0gbnVsbCkge1xuICAgICAgICBfdGhpcy5taXNzaW5nTWVtYmVyKF90aGlzLmlzRWxlbWVudFZpc2libGVJblZpZXcobWVtYmVyLCBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5saXN0LnBhcmVudE5vZGUpKTtcbiAgICAgICAgX3RoaXMubWlzc2luZ01lbWJlcihfdGhpcy5pc0VsZW1lbnRWaXNpYmxlSW5WaWV3KG1lbWJlciwgX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQucmVzdWx0Q29udGFpbmVyKSk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnJlc2V0TmF2aWdhdGlvbihjYWxsYmFjayk7XG4gICAgfSwgMzApO1xuICB9O1xufTtcbiIsImltcG9ydCBjTGFicyBmcm9tICcuL2NMYWJzJztcblxuLyoqXG4gKiBTU0UgTWVzc2FnaW5nXG4gKiBAcGFyYW0gb3B0aW9ucyB7T2JqZWN0fVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmV4cG9ydCBjb25zdCBNZXNzYWdpbmcgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAvKipcbiAgICogTWVzc2FnaW5nIHNldHRpbmdzXG4gICAqIEBtZW1iZXJPZiBNZXNzYWdpbmdcbiAgICogQGNvbnN0YW50XG4gICAqIEB0eXBlIHsgT2JqZWN0IH1cbiAgICovXG4gIHRoaXMuc2V0dGluZ3MgPSB7XG4gICAgc291cmNlOiBudWxsLFxuICAgIGFqYXg6IHtcbiAgICAgIHVybDogbnVsbCxcbiAgICAgIGFwaUtleTogdW5kZWZpbmVkLFxuICAgICAgZXJyb3JDYWxsYmFjazogZnVuY3Rpb24gKCkge1xuICAgICAgfVxuICAgIH0sXG4gICAgc3NlVXJsOiBudWxsLFxuICAgIGhlYXJ0YmVhdDogbnVsbCxcbiAgICBsYXN0SGVhcnRiZWF0OiBudWxsLFxuICAgIG1haW5BamF4OiBuZXcgY0xhYnMuQWpheCgpLFxuICAgIGhlYXJ0QmVhdEFqYXg6IG5ldyBjTGFicy5BamF4KCksXG4gICAgaGVhcnRXYWl0VGltZTogMjUwMDAsXG4gICAgbWVzc2FnZVF1ZXVlOiBbXSxcbiAgICBtZXNzYWdlSW50ZXJ2YWw6IDEwMDAsXG4gICAgc3RhcnR1cENoZWNrOiB0cnVlLFxuICAgIGFjdGl2ZTogZmFsc2UsXG4gICAgZGVidWc6IGZhbHNlLFxuICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgIH0sXG4gICAgb25TdGFydHVwRXJyb3I6IGZ1bmN0aW9uICgpIHtcbiAgICB9XG4gIH07XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zICE9PSAndW5kZWZpbmVkJykge1xuICAgIGZvciAodmFyIG9wdCBpbiBvcHRpb25zKSB7XG4gICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShvcHQpKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3Nbb3B0XSA9IG9wdGlvbnNbb3B0XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB0aGlzLmludGVydmFsSW5zdGFuY2UgPSBudWxsO1xuICB0aGlzLmhlYXJ0YmVhdEludGVydmFsSW5zdGFuY2UgPSBudWxsO1xuXG4gIHRoaXMubG9va3VwRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLm1lc3NhZ2VRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICB2YXIgZGF0YSA9IF90aGlzLnNldHRpbmdzLm1lc3NhZ2VRdWV1ZVswXTtcblxuICAgICAgdmFyIGluZGV4ID0gX3RoaXMuc2V0dGluZ3MubWVzc2FnZVF1ZXVlLmluZGV4T2YoZGF0YSk7XG4gICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICBfdGhpcy5zZXR0aW5ncy5tZXNzYWdlUXVldWUuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBfdGhpcy5zZXR0aW5ncy5hamF4LnVybCA9PT0gJ3N0cmluZycgJiYgX3RoaXMuc2V0dGluZ3MuYWpheC51cmwubGVuZ3RoID4gMCkge1xuICAgICAgICBfdGhpcy5nZXREYXRhKGRhdGEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MuY2FsbGJhY2soZGF0YSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuc2V0SW50ZXJ2YWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF90aGlzLmludGVydmFsSW5zdGFuY2UgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5sb29rdXBEYXRhKCk7XG4gICAgfSwgX3RoaXMuc2V0dGluZ3MubWVzc2FnZUludGVydmFsKTtcblxuICAgIGlmIChfdGhpcy5zZXR0aW5ncy5oZWFydGJlYXQgIT09IG51bGwpIHtcbiAgICAgIF90aGlzLnNldHRpbmdzLmxhc3RIZWFydGJlYXQgPSBuZXcgRGF0ZSgpO1xuICAgICAgX3RoaXMuaGVhcnRiZWF0SW50ZXJ2YWxJbnN0YW5jZSA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgdmFyIGRpZmYgPSBfdGhpcy5zZXR0aW5ncy5sYXN0SGVhcnRiZWF0LmdldFRpbWUoKSAtIGN1cnJlbnRUaW1lLmdldFRpbWUoKTtcblxuICAgICAgICBpZiAoX3RoaXMuc2V0dGluZ3Muc291cmNlLnJlYWR5U3RhdGUgPT09IDAgJiYgZGlmZiA+IF90aGlzLnNldHRpbmdzLmhlYXJ0V2FpdFRpbWUpIHtcbiAgICAgICAgICBfdGhpcy5jbG9zZUNoYW5lbCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuaGVhckJlYXRDaGVjaygpO1xuICAgICAgfSwgX3RoaXMuc2V0dGluZ3MuaGVhcnRXYWl0VGltZSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZXF1ZXN0IGEgaGVhcnRiZWF0XG4gICAqIC0gaWYgdGhlIHJlcXVlc3QgaXMgZmFpbGluZyBjbG9zZSB0aGUgY29ubmVjdGlvblxuICAgKiAtIGlmIHRoZSByZXF1ZXN0IGlzIHN1Y2Nlc3NmdWwgYnV0IHRoZSBjb25uZWN0aW9uIGlzIGNsb3NlZCByZW9wZW4gYW5kIGNhbGwgZm9yIGEgaGVhcnRiZWF0IGFnYWluXG4gICAqXG4gICAqIEBtZW1iZXJPZiBNZXNzYWdpbmdcbiAgICogQHJldHVybiB7dW5kZWZpbmVkfVxuICAgKi9cbiAgdGhpcy5oZWFyQmVhdENoZWNrID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgZGF0YU9iaiA9IHtcbiAgICAgIHVybDogX3RoaXMuc2V0dGluZ3MuaGVhcnRiZWF0LFxuICAgICAgaGVhZGVyczogX3RoaXMuc2V0dGluZ3MuYWpheC5hcGlLZXksXG4gICAgICB0eXBlOiAnR0VUJyxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSwgZGF0YU9iamVjdCwgeGhyKSB7XG4gICAgICAgIGlmICh4aHIuc3RhdHVzICE9PSAyMDAgJiYgX3RoaXMuc2V0dGluZ3Muc291cmNlLnJlYWR5U3RhdGUgPT09IDApIHtcbiAgICAgICAgICBpZiAoX3RoaXMuc2V0dGluZ3MuZGVidWcpIGNvbnNvbGUubG9nKCdbTXNnXSBTU0UgQ2xvc2luZyBjb25uZWN0aW9uJyk7XG4gICAgICAgICAgX3RoaXMuY2xvc2VDaGFuZWwoKTtcbiAgICAgICAgfSBlbHNlIGlmICh4aHIuc3RhdHVzID09PSAyMDAgJiYgX3RoaXMuc2V0dGluZ3Muc291cmNlLnJlYWR5U3RhdGUgPT09IDIpIHtcbiAgICAgICAgICBpZiAoX3RoaXMuc2V0dGluZ3MuZGVidWcpIGNvbnNvbGUubG9nKCdbTXNnXSBTU0UgVHJ5aW5nIHRvIHJlLW9wZW4gdGhlIGNvbm5lY3Rpb24nKTtcbiAgICAgICAgICBfdGhpcy5vcGVuQ2hhbmVsKCk7XG5cbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmhlYXJCZWF0Q2hlY2soKTtcbiAgICAgICAgICB9LCAyMDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmICh0eXBlb2YgX3RoaXMuc2V0dGluZ3MuYWpheC5hcGlLZXkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBkYXRhT2JqLmhlYWRlcnMgPSBfdGhpcy5zZXR0aW5ncy5hamF4LmFwaUtleTtcbiAgICB9XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5oZWFydEJlYXRBamF4LmFib3J0KCkuZ2V0RGF0YShkYXRhT2JqKTtcbiAgfTtcblxuICB0aGlzLmdldERhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBkYXRhT2JqID0ge1xuICAgICAgdXJsOiBfdGhpcy5zZXR0aW5ncy5hamF4LnVybCxcbiAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlLCBkYXRhT2JqZWN0LCB4aHIpIHtcbiAgICAgICAgdmFyIGpzb24gPSB7fTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBqc29uID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBpZiAoX3RoaXMuc2V0dGluZ3MuZGVidWcpIGNvbnNvbGUubG9nKGUsIF90aGlzLnNldHRpbmdzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgX3RoaXMuc2V0dGluZ3MuY2FsbGJhY2soanNvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMuc2V0dGluZ3MuYWpheC5lcnJvckNhbGxiYWNrKGpzb24pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmICh0eXBlb2YgX3RoaXMuc2V0dGluZ3MuYWpheC5hcGlLZXkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBkYXRhT2JqLmhlYWRlcnMgPSBfdGhpcy5zZXR0aW5ncy5hamF4LmFwaUtleTtcbiAgICB9XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5tYWluQWpheC5hYm9ydCgpLmdldERhdGEoZGF0YU9iaik7XG4gIH07XG5cbiAgdGhpcy5vcGVuQ2hhbmVsID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5zb3VyY2UgPSBuZXcgRXZlbnRTb3VyY2UoX3RoaXMuc2V0dGluZ3Muc3NlVXJsLCB7IHdpdGhDcmVkZW50aWFsczogdHJ1ZSB9KTtcblxuICAgIF90aGlzLnNlcnZlclNpZGVFdmVudExpc3RlbmVycyhfdGhpcy5zZXR0aW5ncy5zb3VyY2UpO1xuICB9O1xuXG4gIHRoaXMuc2VydmVyU2lkZUV2ZW50TGlzdGVuZXJzID0gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignb3BlbicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5hY3RpdmUgPSB0cnVlO1xuICAgICAgaWYgKF90aGlzLnNldHRpbmdzLmRlYnVnKSBjb25zb2xlLmxvZygnW01zZ10gY29ubmVjdGlvbiBvcGVuZWQnLCBlKTtcbiAgICB9LCBmYWxzZSk7XG5cbiAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoX3RoaXMuc2V0dGluZ3MuZGVidWcpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1tNc2ddIG1lc3NhZ2UgY2hlY2snLCBfdGhpcy5zZXR0aW5ncy5zc2VVcmwpO1xuICAgICAgICBjb25zb2xlLmxvZyhlLmRhdGEpO1xuICAgICAgfVxuICAgICAgdmFyIGRhdGEgPSBlLmRhdGE7XG4gICAgICB2YXIganNvbiA9IG51bGw7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGpzb24gPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgfVxuXG4gICAgICBpZiAoX3RoaXMuc2V0dGluZ3MuaGVhcnRiZWF0ICE9PSBudWxsKSB7XG4gICAgICAgIF90aGlzLnNldHRpbmdzLmxhc3RIZWFydGJlYXQgPSBuZXcgRGF0ZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoanNvbiAhPT0gbnVsbCAmJiB0eXBlb2YganNvbi5oZWFydGJlYXQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIF90aGlzLnNldHRpbmdzLm1lc3NhZ2VRdWV1ZS5wdXNoKGpzb24pO1xuICAgICAgfVxuICAgIH0sIGZhbHNlKTtcblxuICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoX3RoaXMuc2V0dGluZ3MuZGVidWcpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1tNc2ddIGVycm9yIGNoZWNrJywgX3RoaXMuc2V0dGluZ3Muc3NlVXJsKTtcbiAgICAgIH1cblxuICAgICAgLyogZXNsaW50IGVxZXFlcTogXCJvZmZcIiAqL1xuICAgICAgaWYgKGUucmVhZHlTdGF0ZSA9PSBFdmVudFNvdXJjZS5DTE9TRUQpIHtcbiAgICAgICAgaWYgKF90aGlzLnNldHRpbmdzLmRlYnVnKSBjb25zb2xlLndhcm4oJ1tNc2ddIGNvbm5lY3Rpb24gY2xvc2VkJywgZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoX3RoaXMuc2V0dGluZ3MuZGVidWcpIGNvbnNvbGUubG9nKGUsIGUucmVhZHlTdGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLmNsb3NlQ2hhbmVsKCk7XG5cbiAgICAgIF90aGlzLnNldHRpbmdzLnN0YXJ0dXBDaGVjayA9IGZhbHNlO1xuICAgIH0sIGZhbHNlKTtcbiAgfTtcblxuICB0aGlzLmNsb3NlQ2hhbmVsID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuc2V0dGluZ3MuYWN0aXZlID0gZmFsc2U7XG4gICAgdGhpcy5zZXR0aW5ncy5zb3VyY2UuY2xvc2UoKTtcbiAgfTtcblxuICB0aGlzLnNzZUZhaWxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX3RoaXMuc2V0dGluZ3MuaGVhcnRiZWF0ID0gbnVsbDtcbiAgICBfdGhpcy5zZXR0aW5ncy5hY3RpdmUgPSBmYWxzZTtcblxuICAgIGlmIChfdGhpcy5oZWFydGJlYXRJbnRlcnZhbEluc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICBjbGVhckludGVydmFsKF90aGlzLmhlYXJ0YmVhdEludGVydmFsSW5zdGFuY2UpO1xuICAgIH1cblxuICAgIF90aGlzLnNldHRpbmdzLm9uU3RhcnR1cEVycm9yKF90aGlzLnNldHRpbmdzKTtcbiAgfTtcblxuICB0aGlzLndpbmRvd0FjdGl2aXR5ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGhpZGRlbiA9ICdoaWRkZW4nO1xuXG4gICAgICAvLyBTdGFuZGFyZHM6XG4gICAgICBpZiAoaGlkZGVuIGluIGRvY3VtZW50KSB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBvbmNoYW5nZSk7XG4gICAgICB9IGVsc2UgaWYgKChoaWRkZW4gPSAnbW96SGlkZGVuJykgaW4gZG9jdW1lbnQpIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW96dmlzaWJpbGl0eWNoYW5nZScsIG9uY2hhbmdlKTtcbiAgICAgIH0gZWxzZSBpZiAoKGhpZGRlbiA9ICd3ZWJraXRIaWRkZW4nKSBpbiBkb2N1bWVudCkge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd3ZWJraXR2aXNpYmlsaXR5Y2hhbmdlJywgb25jaGFuZ2UpO1xuICAgICAgfSBlbHNlIGlmICgoaGlkZGVuID0gJ21zSGlkZGVuJykgaW4gZG9jdW1lbnQpIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbXN2aXNpYmlsaXR5Y2hhbmdlJywgb25jaGFuZ2UpO1xuICAgICAgfSBlbHNlIGlmICgnb25mb2N1c2luJyBpbiBkb2N1bWVudCkgeyAvLyBJRSA5IGFuZCBsb3dlcjpcbiAgICAgICAgZG9jdW1lbnQub25mb2N1c2luID0gZG9jdW1lbnQub25mb2N1c291dCA9IG9uY2hhbmdlO1xuICAgICAgfSBlbHNlIHsgLy8gQWxsIG90aGVyczpcbiAgICAgICAgd2luZG93Lm9ucGFnZXNob3cgPSB3aW5kb3cub25wYWdlaGlkZSA9IHdpbmRvdy5vbmZvY3VzID0gd2luZG93Lm9uYmx1ciA9IG9uY2hhbmdlO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBvbmNoYW5nZSAoZXZ0KSB7XG4gICAgICAgIHZhciBzdGF0dXMgPSAnJztcbiAgICAgICAgdmFyIHYgPSAndmlzaWJsZSc7XG4gICAgICAgIHZhciBoID0gJ2hpZGRlbic7XG4gICAgICAgIHZhciBldnRNYXAgPSB7XG4gICAgICAgICAgZm9jdXM6IHYsIGZvY3VzaW46IHYsIHBhZ2VzaG93OiB2LCBibHVyOiBoLCBmb2N1c291dDogaCwgcGFnZWhpZGU6IGhcbiAgICAgICAgfTtcblxuICAgICAgICBldnQgPSBldnQgfHwgd2luZG93LmV2ZW50O1xuICAgICAgICBpZiAoZXZ0LnR5cGUgaW4gZXZ0TWFwKSB7XG4gICAgICAgICAgc3RhdHVzID0gZXZ0TWFwW2V2dC50eXBlXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdGF0dXMgPSB0aGlzW2hpZGRlbl0gPyAnaGlkZGVuJyA6ICd2aXNpYmxlJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGF0dXMgPT09ICd2aXNpYmxlJyAmJiAoX3RoaXMuc2V0dGluZ3Muc291cmNlLnJlYWR5U3RhdGUgIT09IDAgJiYgX3RoaXMuc2V0dGluZ3Muc291cmNlLnJlYWR5U3RhdGUgIT09IDEpKSB7XG4gICAgICAgICAgX3RoaXMub3BlbkNoYW5lbCgpO1xuICAgICAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gJ2hpZGRlbicgJiYgKF90aGlzLnNldHRpbmdzLnNvdXJjZS5yZWFkeVN0YXRlID09PSAwIHx8IF90aGlzLnNldHRpbmdzLnNvdXJjZS5yZWFkeVN0YXRlID09PSAxKSkge1xuICAgICAgICAgIF90aGlzLmNsb3NlQ2hhbmVsKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gc2V0IHRoZSBpbml0aWFsIHN0YXRlIChidXQgb25seSBpZiBicm93c2VyIHN1cHBvcnRzIHRoZSBQYWdlIFZpc2liaWxpdHkgQVBJKVxuICAgICAgaWYgKGRvY3VtZW50W2hpZGRlbl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvbmNoYW5nZSh7IHR5cGU6IGRvY3VtZW50W2hpZGRlbl0gPyAnYmx1cicgOiAnZm9jdXMnIH0pO1xuICAgICAgfVxuICAgIH0pKCk7XG4gIH07XG5cbiAgdGhpcy5pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB0cnkge1xuICAgICAgaWYgKF90aGlzLnNldHRpbmdzLmRlYnVnKSBjb25zb2xlLmxvZygnW01zZ10gU1NFIHN0YXJ0aW5nJywgX3RoaXMuc2V0dGluZ3Muc3NlVXJsLCBuZXcgRGF0ZSgpKTtcblxuICAgICAgX3RoaXMub3BlbkNoYW5lbCgpO1xuXG4gICAgICBpZiAoX3RoaXMuc2V0dGluZ3MuZGVidWcpIGNvbnNvbGUubG9nKCdbTXNnXSBTU0Ugc3RhcnRlZCcsIF90aGlzLnNldHRpbmdzLnNzZVVybCwgbmV3IERhdGUoKSwgX3RoaXMuc2V0dGluZ3Muc291cmNlLnJlYWR5U3RhdGUpO1xuXG4gICAgICBfdGhpcy5zZXRJbnRlcnZhbCgpO1xuICAgICAgX3RoaXMud2luZG93QWN0aXZpdHkoKTtcblxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghX3RoaXMuc2V0dGluZ3Muc3RhcnR1cENoZWNrKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ3NzZSBmYWlsZWQnKTtcbiAgICAgICAgICBfdGhpcy5zc2VGYWlsZWQoKTtcbiAgICAgICAgfVxuICAgICAgfSwgMjAwMCk7XG5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd1bmxvYWQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKF90aGlzLnNldHRpbmdzLmRlYnVnKSBjb25zb2xlLmxvZygnW01zZ10gY2xvc2luZyBtZXNzYWdpbmcgc2VydmljZScsIG5ldyBEYXRlKCkpO1xuICAgICAgICBfdGhpcy5zZXR0aW5ncy5zb3VyY2UuY2xvc2UoKTtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MuYWN0aXZlID0gZmFsc2U7XG5cbiAgICAgICAgX3RoaXMuc2V0dGluZ3MuaGVhcnRCZWF0QWpheC5hYm9ydCgpO1xuXG4gICAgICAgIGlmIChfdGhpcy5pbnRlcnZhbEluc3RhbmNlKSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChfdGhpcy5pbnRlcnZhbEluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5kZWJ1ZykgY29uc29sZS5sb2coJ1tNc2ddIGNsb3NpbmcgbWVzc2FnaW5nIHNlcnZpY2UnKTtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3Muc291cmNlLmNsb3NlKCk7XG5cbiAgICAgICAgX3RoaXMuc2V0dGluZ3MuaGVhcnRCZWF0QWpheC5hYm9ydCgpO1xuXG4gICAgICAgIGlmIChfdGhpcy5pbnRlcnZhbEluc3RhbmNlKSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChfdGhpcy5pbnRlcnZhbEluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaWYgKF90aGlzLnNldHRpbmdzLmRlYnVnKSBjb25zb2xlLmxvZygnRXZlbnRTb3VyY2UgZmFpbGVkJyk7XG4gICAgICBfdGhpcy5zc2VGYWlsZWQoKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5pbml0KCk7XG59O1xuIiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IHF1ZXJ5IGZyb20gJy4uL3V0aWxzL3F1ZXJ5JztcbmltcG9ydCBtYXBPYmplY3QgZnJvbSAnLi4vdXRpbHMvbWFwT2JqZWN0JztcbmltcG9ydCBhZGRDbGFzcyBmcm9tICcuLi91dGlscy9hZGRDbGFzcyc7XG5pbXBvcnQgaGFzQ2xhc3MgZnJvbSAnLi4vdXRpbHMvaGFzQ2xhc3MnO1xuaW1wb3J0IHJlbW92ZUNsYXNzIGZyb20gJy4uL3V0aWxzL3JlbW92ZUNsYXNzJztcbmltcG9ydCByZW1vdmUgZnJvbSAnLi4vdXRpbHMvcmVtb3ZlJztcbmltcG9ydCBkcmFnRWxlbWVudCBmcm9tICcuL2RyYWdFbGVtZW50JztcblxuLyoqXG4gKiBNaW5pU2NvcmVCb2FyZFxuICogQHBhcmFtIG9wdGlvbnMge09iamVjdH1cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5leHBvcnQgY29uc3QgTWluaVNjb3JlQm9hcmQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAvKipcbiAgICogTWluaVNjb3JlQm9hcmQgc2V0dGluZ3NcbiAgICogQG1lbWJlck9mIE1pbmlTY29yZUJvYXJkXG4gICAqIEBjb25zdGFudFxuICAgKiBAdHlwZSB7IE9iamVjdCB9XG4gICAqL1xuICB0aGlzLnNldHRpbmdzID0ge1xuICAgIGxiV2lkZ2V0OiBudWxsLFxuICAgIGNvbnRhaW5lcjogbnVsbCxcbiAgICBvdmVybGF5Q29udGFpbmVyOiBudWxsLFxuICAgIGluZm9Db250YWluZXI6IG51bGwsXG4gICAgdXBkYXRlSW50ZXJ2YWw6IG51bGwsXG4gICAgdXBkYXRlSW50ZXJ2YWxUaW1lOiAxMDAwLFxuICAgIGFjdGl2ZTogZmFsc2UsXG4gICAgZW5hYmxlRHJhZ2dpbmc6IHRydWUsXG4gICAgZHJhZ2dpbmc6IGZhbHNlXG4gIH07XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zICE9PSAndW5kZWZpbmVkJykge1xuICAgIGZvciAodmFyIG9wdCBpbiBvcHRpb25zKSB7XG4gICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShvcHQpKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3Nbb3B0XSA9IG9wdGlvbnNbb3B0XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB0aGlzLmxheW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBpY29uV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICB2YXIgaW5mb3JtYXRpb25XcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGluZm9ybWF0aW9uVG9wV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBpbmZvcm1hdGlvbldyYXBwZXJDbG9zZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBpbmZvcm1hdGlvbkNsb3NlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuXG4gICAgd3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy13cmFwcGVyJyk7XG4gICAgaWNvbldyYXBwZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtaWNvbi13cmFwcGVyJyk7XG4gICAgaWNvbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1pY29uJyk7XG4gICAgaW5mb3JtYXRpb25Ub3BXcmFwcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLWluZm9ybWF0aW9uLXRvcC13cmFwcGVyJyk7XG4gICAgaW5mb3JtYXRpb25XcmFwcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLWluZm9ybWF0aW9uLXdyYXBwZXInKTtcbiAgICBpbmZvcm1hdGlvbldyYXBwZXJDbG9zZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1pbmZvcm1hdGlvbi1jbG9zZS13cmFwcGVyJyk7XG4gICAgaW5mb3JtYXRpb25DbG9zZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1pbmZvcm1hdGlvbi1jbG9zZScpO1xuXG4gICAgaW5mb3JtYXRpb25DbG9zZS5ocmVmID0gJ2phdmFzY3JpcHQ6dm9pZCgwKTsnO1xuICAgIGluZm9ybWF0aW9uQ2xvc2UuaW5uZXJIVE1MID0gJ3gnO1xuXG4gICAgaW5mb3JtYXRpb25XcmFwcGVyQ2xvc2UuYXBwZW5kQ2hpbGQoaW5mb3JtYXRpb25DbG9zZSk7XG4gICAgaW5mb3JtYXRpb25XcmFwcGVyLmFwcGVuZENoaWxkKGluZm9ybWF0aW9uV3JhcHBlckNsb3NlKTtcbiAgICBpbmZvcm1hdGlvblRvcFdyYXBwZXIuYXBwZW5kQ2hpbGQoaW5mb3JtYXRpb25XcmFwcGVyKTtcbiAgICBpY29uV3JhcHBlci5hcHBlbmRDaGlsZChpY29uKTtcbiAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGljb25XcmFwcGVyKTtcbiAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGluZm9ybWF0aW9uVG9wV3JhcHBlcik7XG5cbiAgICByZXR1cm4gd3JhcHBlcjtcbiAgfTtcblxuICB0aGlzLm92ZXJsYXlMYXlvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIHdyYXBwZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtb3ZlcmxheS13cmFwcGVyJyk7XG5cbiAgICByZXR1cm4gd3JhcHBlcjtcbiAgfTtcblxuICB0aGlzLnRpbWVNYW5hZ2VtZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIGRpZmYgPSAwO1xuICAgIHZhciBsYWJlbCA9ICcnO1xuICAgIHZhciBkYXRlID0gJyc7XG4gICAgdmFyIGRhdGVPYmogPSAnJztcbiAgICB2YXIgaW52ZXJzZSA9IGZhbHNlO1xuXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QgIT09IG51bGwpIHtcbiAgICAgIGRpZmYgPSBtb21lbnQoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5zY2hlZHVsZWRTdGFydCkuZGlmZihtb21lbnQoKSk7XG4gICAgICBsYWJlbCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLm1pbmlMZWFkZXJib2FyZC5zdGFydHNJbjtcbiAgICAgIGRhdGUgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5mb3JtYXREYXRlVGltZShtb21lbnQuZHVyYXRpb24oZGlmZikpO1xuICAgICAgZGF0ZU9iaiA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LmZvcm1hdERhdGVUaW1lKG1vbWVudC5kdXJhdGlvbihkaWZmKSk7XG4gICAgICBpbnZlcnNlID0gZmFsc2U7XG5cbiAgICAgIGlmIChkaWZmIDwgMCAmJiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnN0YXR1c0NvZGUgPT09IDApIHtcbiAgICAgICAgbGFiZWwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5taW5pTGVhZGVyYm9hcmQuc3RhcnRpbmc7XG4gICAgICAgIGRhdGUgPSAnJztcbiAgICAgIH0gZWxzZSBpZiAoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5zdGF0dXNDb2RlID4gMCAmJiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnN0YXR1c0NvZGUgPCAzKSB7XG4gICAgICAgIGRpZmYgPSBtb21lbnQoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5zY2hlZHVsZWRFbmQpLmRpZmYobW9tZW50KCkpO1xuICAgICAgICBkYXRlT2JqID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuZm9ybWF0RGF0ZVRpbWUobW9tZW50LmR1cmF0aW9uKGRpZmYpKTtcbiAgICAgICAgbGFiZWwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5mb3JtYXREYXRlVGltZShtb21lbnQuZHVyYXRpb24oZGlmZikpO1xuICAgICAgICBkYXRlID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24ubWluaUxlYWRlcmJvYXJkLnJhbms7XG4gICAgICAgIGludmVyc2UgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnN0YXR1c0NvZGUgPT09IDMpIHtcbiAgICAgICAgbGFiZWwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5taW5pTGVhZGVyYm9hcmQuZmluaXNoaW5nO1xuICAgICAgICBkYXRlID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24ubWluaUxlYWRlcmJvYXJkLnJhbms7XG4gICAgICAgIGludmVyc2UgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnN0YXR1c0NvZGUgPj0gNCkge1xuICAgICAgICBsYWJlbCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLm1pbmlMZWFkZXJib2FyZC5maW5pc2hlZDtcbiAgICAgICAgZGF0ZSA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLm1pbmlMZWFkZXJib2FyZC5yYW5rO1xuICAgICAgICBpbnZlcnNlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgZGlmZjogZGlmZixcbiAgICAgIGRhdGU6IGRhdGUsXG4gICAgICBkYXRlT2JqOiBkYXRlT2JqLFxuICAgICAgaW52ZXJzZTogaW52ZXJzZVxuICAgIH07XG4gIH07XG5cbiAgdGhpcy5sYXlvdXREZWZhdWx0T3JFbXB0eUVudHJ5ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBsYlJlc3VsdHNNZW1FbnRyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBsYlJlc3VsdHNNZW1MYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBsYlJlc3VsdHNNZW1SYW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGxiUmVzdWx0c01lbUljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgbGJSZXN1bHRzTWVtSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgdmFyIGxiUmVzdWx0c01lbVBvaW50cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgbGJSZXN1bHRzTWVtRW50cnkuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZGVmYXVsdC1tZW0tZW50cnknKTtcbiAgICBsYlJlc3VsdHNNZW1MYWJlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1kZWZhdWx0LW1lbS1sYWJlbCcpO1xuICAgIGxiUmVzdWx0c01lbVJhbmsuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZGVmYXVsdC1tZW0tcmFuaycpO1xuICAgIGxiUmVzdWx0c01lbUljb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZGVmYXVsdC1tZW0taWNvbicpO1xuICAgIGxiUmVzdWx0c01lbUltZy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1kZWZhdWx0LW1lbS1pbWcnKTtcbiAgICBsYlJlc3VsdHNNZW1JbWcuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBsYlJlc3VsdHNNZW1Qb2ludHMuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZGVmYXVsdC1tZW0tcG9pbnRzJyk7XG5cbiAgICBsYlJlc3VsdHNNZW1FbnRyeS5hcHBlbmRDaGlsZChsYlJlc3VsdHNNZW1MYWJlbCk7XG4gICAgbGJSZXN1bHRzTWVtRW50cnkuYXBwZW5kQ2hpbGQobGJSZXN1bHRzTWVtUmFuayk7XG4gICAgbGJSZXN1bHRzTWVtSWNvbi5hcHBlbmRDaGlsZChsYlJlc3VsdHNNZW1JbWcpO1xuICAgIGxiUmVzdWx0c01lbUVudHJ5LmFwcGVuZENoaWxkKGxiUmVzdWx0c01lbUljb24pO1xuICAgIGxiUmVzdWx0c01lbUVudHJ5LmFwcGVuZENoaWxkKGxiUmVzdWx0c01lbVBvaW50cyk7XG5cbiAgICByZXR1cm4gbGJSZXN1bHRzTWVtRW50cnk7XG4gIH07XG5cbiAgdGhpcy5sYXlvdXRGaXJzdFRvT3JFbXB0eUVudHJ5ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBsYlJlc3VsdHNNZW1FbnRyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBsYlJlc3VsdHNNZW1MYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBsYlJlc3VsdHNNZW1SYW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGxiUmVzdWx0c01lbUljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgbGJSZXN1bHRzTWVtSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgdmFyIGxiUmVzdWx0c01lbVBvaW50cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgbGJSZXN1bHRzTWVtRW50cnkuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZmlyc3QtdG8tbWVtLWVudHJ5Jyk7XG4gICAgbGJSZXN1bHRzTWVtTGFiZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZmlyc3QtdG8tbWVtLWxhYmVsJyk7XG4gICAgbGJSZXN1bHRzTWVtUmFuay5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1maXJzdC10by1tZW0tcmFuaycpO1xuICAgIGxiUmVzdWx0c01lbUljb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZmlyc3QtdG8tbWVtLWljb24nKTtcbiAgICBsYlJlc3VsdHNNZW1JbWcuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZmlyc3QtdG8tbWVtLWltZycpO1xuICAgIGxiUmVzdWx0c01lbUltZy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGxiUmVzdWx0c01lbVBvaW50cy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1maXJzdC10by1tZW0tcG9pbnRzJyk7XG5cbiAgICBsYlJlc3VsdHNNZW1FbnRyeS5hcHBlbmRDaGlsZChsYlJlc3VsdHNNZW1MYWJlbCk7XG4gICAgbGJSZXN1bHRzTWVtRW50cnkuYXBwZW5kQ2hpbGQobGJSZXN1bHRzTWVtUmFuayk7XG4gICAgbGJSZXN1bHRzTWVtSWNvbi5hcHBlbmRDaGlsZChsYlJlc3VsdHNNZW1JbWcpO1xuICAgIGxiUmVzdWx0c01lbUVudHJ5LmFwcGVuZENoaWxkKGxiUmVzdWx0c01lbUljb24pO1xuICAgIGxiUmVzdWx0c01lbUVudHJ5LmFwcGVuZENoaWxkKGxiUmVzdWx0c01lbVBvaW50cyk7XG5cbiAgICByZXR1cm4gbGJSZXN1bHRzTWVtRW50cnk7XG4gIH07XG5cbiAgLy8gbGV0IHRlc3RMaXZlID0gZmFsc2U7XG4gIHRoaXMubGF5b3V0RGVmYXVsdE9yRW1wdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgdGltZU1hbmFnZW1lbnQgPSBfdGhpcy50aW1lTWFuYWdlbWVudCgpO1xuICAgIC8vIHZhciBkaWZmID0gdGltZU1hbmFnZW1lbnQuZGlmZjtcbiAgICB2YXIgbGFiZWwgPSB0aW1lTWFuYWdlbWVudC5sYWJlbDtcbiAgICB2YXIgZGF0ZSA9IHRpbWVNYW5hZ2VtZW50LmRhdGU7XG4gICAgdmFyIGRhdGVPYmogPSB0aW1lTWFuYWdlbWVudC5kYXRlT2JqO1xuICAgIHZhciB3cmFwcGVyRG9tT2JqID0gX3RoaXMuc2V0dGluZ3MuaW5mb0NvbnRhaW5lcjtcbiAgICB2YXIgZGVmYXVsdERvbU9iaiA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbXMtZGVmYXVsdC13cmFwcGVyJyk7XG4gICAgdmFyIGludmVyc2UgPSB0aW1lTWFuYWdlbWVudC5pbnZlcnNlO1xuXG4gICAgaWYgKGRlZmF1bHREb21PYmogPT09IG51bGwpIHtcbiAgICAgIF90aGlzLnJlbW92ZVVudXNlZEVsZW1lbnRzKCk7XG5cbiAgICAgIGFkZENsYXNzKF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJ2NsLW1zLWRlZmF1bHQtc3R5bGUnKTtcblxuICAgICAgdmFyIGxiV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdmFyIGxiRGF0ZVdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHZhciBsYkRhdGVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdmFyIGxiRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdmFyIGxiUmVzdWx0c1dyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHZhciBsYlJlc3VsdHNMaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB2YXIgbGJIZWFkZXJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB2YXIgbGJIZWFkZXJzUmFuayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdmFyIGxiSGVhZGVyc1BvaW50cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdmFyIGxiUmVzdWx0c01lbUVudHJ5ID0gX3RoaXMubGF5b3V0RGVmYXVsdE9yRW1wdHlFbnRyeSgpO1xuICAgICAgdmFyIGltZyA9IHF1ZXJ5KGxiUmVzdWx0c01lbUVudHJ5LCAnLmNsLXdpZGdldC1tcy1kZWZhdWx0LW1lbS1pbWcnKTtcblxuICAgICAgbGJXcmFwcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLWRlZmF1bHQtd3JhcHBlcicpO1xuICAgICAgbGJEYXRlTGFiZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZGVmYXVsdC1kYXRlLWxhYmVsJyk7XG4gICAgICBsYkRhdGUuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZGVmYXVsdC1kYXRlJyk7XG4gICAgICBsYkRhdGVXcmFwcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLWRlZmF1bHQtZGF0ZS13cmFwcGVyJyk7XG4gICAgICBsYlJlc3VsdHNXcmFwcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLWRlZmF1bHQtcmVzdWx0cy13cmFwcGVyJyk7XG4gICAgICBsYlJlc3VsdHNMaXN0LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLWRlZmF1bHQtcmVzdWx0cy1saXN0Jyk7XG4gICAgICBsYkhlYWRlcnMuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZGVmYXVsdC1yZXN1bHRzLWhlYWRlcnMnKTtcbiAgICAgIGxiSGVhZGVyc1Jhbmsuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZGVmYXVsdC1yZXN1bHRzLWhlYWRlci1yYW5rJyk7XG4gICAgICBsYkhlYWRlcnNQb2ludHMuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZGVmYXVsdC1yZXN1bHRzLWhlYWRlci1wb2ludHMnKTtcblxuICAgICAgbGJSZXN1bHRzTWVtRW50cnkuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZGVmYXVsdC1tZW0tZW50cnknKTtcblxuICAgICAgLy8gbGJEYXRlTGFiZWwuaW5uZXJIVE1MID0gbGFiZWw7XG4gICAgICBsYkRhdGUuaW5uZXJIVE1MID0gZGF0ZU9iajtcblxuICAgICAgbGJEYXRlV3JhcHBlci5hcHBlbmRDaGlsZChsYkRhdGVMYWJlbCk7XG4gICAgICBsYkRhdGVXcmFwcGVyLmFwcGVuZENoaWxkKGxiRGF0ZSk7XG5cbiAgICAgIHF1ZXJ5KGxiUmVzdWx0c01lbUVudHJ5LCAnLmNsLXdpZGdldC1tcy1kZWZhdWx0LW1lbS1yYW5rJykuaW5uZXJIVE1MID0gJy0tJztcbiAgICAgIHF1ZXJ5KGxiUmVzdWx0c01lbUVudHJ5LCAnLmNsLXdpZGdldC1tcy1kZWZhdWx0LW1lbS1wb2ludHMnKS5pbm5lckhUTUwgPSAnLS0nO1xuXG4gICAgICBpbWcuc3JjID0gJyc7XG4gICAgICBpbWcuYWx0ID0gJyc7XG4gICAgICBpbWcuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICAgIGxiSGVhZGVyc1JhbmsuaW5uZXJIVE1MID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24ubGVhZGVyYm9hcmQucmFuaztcbiAgICAgIGxiSGVhZGVyc1BvaW50cy5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5sZWFkZXJib2FyZC5wb2ludHM7XG5cbiAgICAgIGxiSGVhZGVycy5hcHBlbmRDaGlsZChsYkhlYWRlcnNSYW5rKTtcbiAgICAgIGxiSGVhZGVycy5hcHBlbmRDaGlsZChsYkhlYWRlcnNQb2ludHMpO1xuICAgICAgbGJSZXN1bHRzTGlzdC5hcHBlbmRDaGlsZChsYlJlc3VsdHNNZW1FbnRyeSk7XG4gICAgICBsYlJlc3VsdHNXcmFwcGVyLmFwcGVuZENoaWxkKGxiSGVhZGVycyk7XG4gICAgICBsYlJlc3VsdHNXcmFwcGVyLmFwcGVuZENoaWxkKGxiUmVzdWx0c0xpc3QpO1xuXG4gICAgICBsYldyYXBwZXIuYXBwZW5kQ2hpbGQobGJEYXRlV3JhcHBlcik7XG4gICAgICBsYldyYXBwZXIuYXBwZW5kQ2hpbGQobGJSZXN1bHRzV3JhcHBlcik7XG5cbiAgICAgIGRlZmF1bHREb21PYmogPSB3cmFwcGVyRG9tT2JqLmFwcGVuZENoaWxkKGxiV3JhcHBlcik7XG5cbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBhZGRDbGFzcyh3cmFwcGVyRG9tT2JqLCAnY2wtc2hvdycpO1xuICAgICAgfSwgMjAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFoYXNDbGFzcyh3cmFwcGVyRG9tT2JqLCAnY2wtc2hvdycpKSB7XG4gICAgICAgIGFkZENsYXNzKHdyYXBwZXJEb21PYmosICdjbC1zaG93Jyk7XG4gICAgICB9XG4gICAgICBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW1zLWRlZmF1bHQtZGF0ZS1sYWJlbCcpLmlubmVySFRNTCA9IGxhYmVsO1xuICAgICAgcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLXdpZGdldC1tcy1kZWZhdWx0LWRhdGUnKS5pbm5lckhUTUwgPSBkYXRlO1xuICAgIH1cblxuICAgIG1hcE9iamVjdChfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5sZWFkZXJib2FyZC5sZWFkZXJib2FyZERhdGEsIGZ1bmN0aW9uIChsYkVudHJ5KSB7XG4gICAgICBpZiAoKGxiRW50cnkubWVtYmVyUmVmSWQgPT09IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLm1lbWJlcklkIHx8IGxiRW50cnkubWVtYmVySWQgPT09IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLm1lbWJlcklkKSAmJiB0eXBlb2YgbGJFbnRyeS5yYW5raW5ncyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIHNjb3JlQXJlYSA9IHF1ZXJ5KGRlZmF1bHREb21PYmosICcuY2wtd2lkZ2V0LW1zLWRlZmF1bHQtcmVzdWx0cy1saXN0Jyk7XG4gICAgICAgIHNjb3JlQXJlYS5pbm5lckhUTUwgPSAnJztcblxuICAgICAgICBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW1zLWRlZmF1bHQtZGF0ZS1sYWJlbCcpLmlubmVySFRNTCA9ICcnO1xuICAgICAgICBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW1zLWRlZmF1bHQtZGF0ZScpLmlubmVySFRNTCA9IGRhdGVPYmo7XG4gICAgICAgIGFkZENsYXNzKHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbXMtZGVmYXVsdC1kYXRlLXdyYXBwZXInKSwgJ2NsLXdpZGdldC1tcy1kZWZhdWx0LWRhdGUtb25seScpO1xuXG4gICAgICAgIG1hcE9iamVjdChsYkVudHJ5LnJhbmtpbmdzLCBmdW5jdGlvbiAobGJSYW5raW5nRW50cnkpIHtcbiAgICAgICAgICB2YXIgaWNvbiA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnBvcHVsYXRlSWRlbnRpY29uQmFzZTY0SW1hZ2UobGJSYW5raW5nRW50cnkubWVtYmVySWQpO1xuICAgICAgICAgIHZhciBsYldyYXBwZXIgPSBfdGhpcy5sYXlvdXREZWZhdWx0T3JFbXB0eUVudHJ5KCk7XG4gICAgICAgICAgdmFyIGltZyA9IHF1ZXJ5KGxiV3JhcHBlciwgJy5jbC13aWRnZXQtbXMtZGVmYXVsdC1tZW0taW1nJyk7XG4gICAgICAgICAgdmFyIHNlbGZNZW1iZXIgPSAoKGxiUmFua2luZ0VudHJ5Lm1lbWJlclJlZklkID09PSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5tZW1iZXJJZCB8fCBsYlJhbmtpbmdFbnRyeS5tZW1iZXJJZCA9PT0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MubWVtYmVySWQpKTtcblxuICAgICAgICAgIGltZy5zcmMgPSBpY29uO1xuICAgICAgICAgIGltZy5hbHQgPSAnJztcbiAgICAgICAgICBpbWcuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICAgICAgICBpZiAoc2VsZk1lbWJlcikge1xuICAgICAgICAgICAgYWRkQ2xhc3MobGJXcmFwcGVyLCAnY2wtd2lkZ2V0LW1zLWRlZmF1bHQtbWVtLXNlbGYnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBxdWVyeShsYldyYXBwZXIsICcuY2wtd2lkZ2V0LW1zLWRlZmF1bHQtbWVtLWxhYmVsJykuaW5uZXJIVE1MID0gc2VsZk1lbWJlciA/ICdZT1UnIDogJyc7XG4gICAgICAgICAgcXVlcnkobGJXcmFwcGVyLCAnLmNsLXdpZGdldC1tcy1kZWZhdWx0LW1lbS1yYW5rJykuaW5uZXJIVE1MID0gXCI8c3BhbiBjbGFzcz0nY2wtbWVtLXJhbmstbGFiZWwnPlwiICsgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24ubGVhZGVyYm9hcmQucmFuayArIFwiPC9zcGFuPjxzcGFuIGNsYXNzPSdjbC1tZW0tcmFuayc+XCIgKyBsYlJhbmtpbmdFbnRyeS5yYW5rICsgJzwvc3Bhbj4nO1xuICAgICAgICAgIHF1ZXJ5KGxiV3JhcHBlciwgJy5jbC13aWRnZXQtbXMtZGVmYXVsdC1tZW0tcG9pbnRzJykuaW5uZXJIVE1MID0gXCI8c3BhbiBjbGFzcz0nY2wtbWVtLXBvaW50cy1sYWJlbCc+XCIgKyBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5sZWFkZXJib2FyZC5wb2ludHMgKyBcIjwvc3Bhbj48c3BhbiBjbGFzcz0nY2wtbWVtLXBvaW50cyc+XCIgKyBsYlJhbmtpbmdFbnRyeS5wb2ludHMgKyAnPC9zcGFuPic7XG5cbiAgICAgICAgICBzY29yZUFyZWEuYXBwZW5kQ2hpbGQobGJXcmFwcGVyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gdGVzdExpdmUgPSB0cnVlO1xuXG4gICAgICAgIC8vICB2YXIgbGFzdFNjb3JlID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCBcIi5jbC13aWRnZXQtbXMtZGVmYXVsdC1sYXN0LXNjb3JlXCIpLmlubmVySFRNTCxcbiAgICAgICAgLy8gIGhpZ2hTY29yZSA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgXCIuY2wtd2lkZ2V0LW1zLWRlZmF1bHQtaGlnaC1zY29yZVwiKS5pbm5lckhUTUwsXG4gICAgICAgIC8vICByYW5rID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCBcIi5jbC13aWRnZXQtbXMtZGVmYXVsdC1yYW5rLXZhbHVlXCIpLFxuICAgICAgICAvLyAgY2hhbmdlID0gKGxiRW50cnkuY2hhbmdlIDwgMCkgPyBcImRvd25cIiA6ICggbGJFbnRyeS5jaGFuZ2UgPiAwID8gXCJ1cFwiIDogXCJzYW1lXCIgKSxcbiAgICAgICAgLy8gIHJhbmtWYWx1ZSA9IGxiRW50cnkucmFuaztcbiAgICAgICAgLy9cbiAgICAgICAgLy8gaWYoIGxhc3RTY29yZSAhPT0gU3RyaW5nKGxiRW50cnkucG9pbnRzKSAmJiBTdHJpbmcobGJFbnRyeS5wb2ludHMpICE9PSBoaWdoU2NvcmUgKXtcbiAgICAgICAgLy8gIHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgXCIuY2wtd2lkZ2V0LW1zLWRlZmF1bHQtbGFzdC1zY29yZVwiKS5pbm5lckhUTUwgPSBoaWdoU2NvcmU7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy9cbiAgICAgICAgLy8gcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCBcIi5jbC13aWRnZXQtbXMtZGVmYXVsdC1oaWdoLXNjb3JlXCIpLmlubmVySFRNTCA9IGxiRW50cnkucG9pbnRzO1xuICAgICAgICAvL1xuICAgICAgICAvLyByZW1vdmVDbGFzcyhyYW5rLCBcImNsLW1zLXJhbmstdXBcIik7XG4gICAgICAgIC8vIHJlbW92ZUNsYXNzKHJhbmssIFwiY2wtbXMtcmFuay1kb3duXCIpO1xuICAgICAgICAvLyByZW1vdmVDbGFzcyhyYW5rLCBcImNsLW1zLXJhbmstc2FtZVwiKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gYWRkQ2xhc3MocmFuaywgXCJjbC1tcy1yYW5rLVwiICsgY2hhbmdlKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gcmFuay5pbm5lckhUTUwgPSByYW5rVmFsdWU7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoaW52ZXJzZSAmJiAhaGFzQ2xhc3MoZGVmYXVsdERvbU9iaiwgJ2NsLWludmVyc2UnKSkge1xuICAgICAgYWRkQ2xhc3MoZGVmYXVsdERvbU9iaiwgJ2NsLWludmVyc2UnKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5sYXlvdXRGaXJzdFRvT3JFbXB0eSA9IGZ1bmN0aW9uIChzdHJhdGVneSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIHRpbWVNYW5hZ2VtZW50ID0gX3RoaXMudGltZU1hbmFnZW1lbnQoKTtcbiAgICAvLyB2YXIgZGlmZiA9IHRpbWVNYW5hZ2VtZW50LmRpZmY7XG4gICAgdmFyIGxhYmVsID0gdGltZU1hbmFnZW1lbnQubGFiZWw7XG4gICAgdmFyIGRhdGUgPSB0aW1lTWFuYWdlbWVudC5kYXRlO1xuICAgIHZhciBkYXRlT2JqID0gdGltZU1hbmFnZW1lbnQuZGF0ZU9iajtcbiAgICB2YXIgd3JhcHBlckRvbU9iaiA9IF90aGlzLnNldHRpbmdzLmluZm9Db250YWluZXI7XG4gICAgdmFyIGRlZmF1bHREb21PYmogPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLXdyYXBwZXInKTtcbiAgICB2YXIgaW52ZXJzZSA9IHRpbWVNYW5hZ2VtZW50LmludmVyc2U7XG5cbiAgICBpZiAoZGVmYXVsdERvbU9iaiA9PT0gbnVsbCkge1xuICAgICAgX3RoaXMucmVtb3ZlVW51c2VkRWxlbWVudHMoKTtcblxuICAgICAgYWRkQ2xhc3MoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnY2wtbXMtZmlyc3QtdG8tc3R5bGUnKTtcblxuICAgICAgdmFyIGxiV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdmFyIGxiRGF0ZVdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHZhciBsYkRhdGVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdmFyIGxiRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdmFyIGxiUmVzdWx0c1dyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHZhciBsYlJlc3VsdHNMaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB2YXIgbGJIZWFkZXJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB2YXIgbGJIZWFkZXJzUmFuayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdmFyIGxiSGVhZGVyc1BvaW50cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdmFyIGxiUmVzdWx0c01lbUVudHJ5ID0gX3RoaXMubGF5b3V0Rmlyc3RUb09yRW1wdHlFbnRyeSgpO1xuICAgICAgdmFyIGltZyA9IHF1ZXJ5KGxiUmVzdWx0c01lbUVudHJ5LCAnLmNsLXdpZGdldC1tcy1maXJzdC10by1tZW0taW1nJyk7XG5cbiAgICAgIGxiV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1maXJzdC10by13cmFwcGVyJyk7XG4gICAgICBsYkRhdGVMYWJlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1maXJzdC10by1kYXRlLWxhYmVsJyk7XG4gICAgICBsYkRhdGUuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZmlyc3QtdG8tZGF0ZScpO1xuICAgICAgbGJEYXRlV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1maXJzdC10by1kYXRlLXdyYXBwZXInKTtcbiAgICAgIGxiUmVzdWx0c1dyYXBwZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZmlyc3QtdG8tcmVzdWx0cy13cmFwcGVyJyk7XG4gICAgICBsYlJlc3VsdHNMaXN0LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLXJlc3VsdHMtbGlzdCcpO1xuICAgICAgbGJIZWFkZXJzLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLXJlc3VsdHMtaGVhZGVycycpO1xuICAgICAgbGJIZWFkZXJzUmFuay5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1maXJzdC10by1yZXN1bHRzLWhlYWRlci1yYW5rJyk7XG4gICAgICBsYkhlYWRlcnNQb2ludHMuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZmlyc3QtdG8tcmVzdWx0cy1oZWFkZXItcG9pbnRzJyk7XG5cbiAgICAgIGxiUmVzdWx0c01lbUVudHJ5LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLW1lbS1lbnRyeScpO1xuXG4gICAgICAvLyBsYkRhdGVMYWJlbC5pbm5lckhUTUwgPSBsYWJlbDtcbiAgICAgIGxiRGF0ZS5pbm5lckhUTUwgPSBkYXRlT2JqO1xuXG4gICAgICBsYkRhdGVXcmFwcGVyLmFwcGVuZENoaWxkKGxiRGF0ZUxhYmVsKTtcbiAgICAgIGxiRGF0ZVdyYXBwZXIuYXBwZW5kQ2hpbGQobGJEYXRlKTtcblxuICAgICAgcXVlcnkobGJSZXN1bHRzTWVtRW50cnksICcuY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLW1lbS1yYW5rJykuaW5uZXJIVE1MID0gJy0tJztcbiAgICAgIHF1ZXJ5KGxiUmVzdWx0c01lbUVudHJ5LCAnLmNsLXdpZGdldC1tcy1maXJzdC10by1tZW0tcG9pbnRzJykuaW5uZXJIVE1MID0gJy0tLycgKyBzdHJhdGVneS5yZWNvcmRUaW1lV2hlblN1bVJlYWNoZXM7XG5cbiAgICAgIGltZy5zcmMgPSAnJztcbiAgICAgIGltZy5hbHQgPSAnJztcbiAgICAgIGltZy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgICAgbGJIZWFkZXJzUmFuay5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5sZWFkZXJib2FyZC5yYW5rO1xuICAgICAgbGJIZWFkZXJzUG9pbnRzLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLmxlYWRlcmJvYXJkLnBvaW50cztcblxuICAgICAgbGJIZWFkZXJzLmFwcGVuZENoaWxkKGxiSGVhZGVyc1JhbmspO1xuICAgICAgbGJIZWFkZXJzLmFwcGVuZENoaWxkKGxiSGVhZGVyc1BvaW50cyk7XG4gICAgICBsYlJlc3VsdHNMaXN0LmFwcGVuZENoaWxkKGxiUmVzdWx0c01lbUVudHJ5KTtcbiAgICAgIGxiUmVzdWx0c1dyYXBwZXIuYXBwZW5kQ2hpbGQobGJIZWFkZXJzKTtcbiAgICAgIGxiUmVzdWx0c1dyYXBwZXIuYXBwZW5kQ2hpbGQobGJSZXN1bHRzTGlzdCk7XG5cbiAgICAgIGxiV3JhcHBlci5hcHBlbmRDaGlsZChsYkRhdGVXcmFwcGVyKTtcbiAgICAgIGxiV3JhcHBlci5hcHBlbmRDaGlsZChsYlJlc3VsdHNXcmFwcGVyKTtcblxuICAgICAgZGVmYXVsdERvbU9iaiA9IHdyYXBwZXJEb21PYmouYXBwZW5kQ2hpbGQobGJXcmFwcGVyKTtcblxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFkZENsYXNzKHdyYXBwZXJEb21PYmosICdjbC1zaG93Jyk7XG4gICAgICB9LCAyMDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWhhc0NsYXNzKHdyYXBwZXJEb21PYmosICdjbC1zaG93JykpIHtcbiAgICAgICAgYWRkQ2xhc3Mod3JhcHBlckRvbU9iaiwgJ2NsLXNob3cnKTtcbiAgICAgIH1cbiAgICAgIHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbXMtZmlyc3QtdG8tZGF0ZS1sYWJlbCcpLmlubmVySFRNTCA9IGxhYmVsO1xuICAgICAgcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLXdpZGdldC1tcy1maXJzdC10by1kYXRlJykuaW5uZXJIVE1MID0gZGF0ZTtcbiAgICB9XG5cbiAgICBtYXBPYmplY3QoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MubGVhZGVyYm9hcmQubGVhZGVyYm9hcmREYXRhLCBmdW5jdGlvbiAobGJFbnRyeSkge1xuICAgICAgaWYgKChsYkVudHJ5Lm1lbWJlclJlZklkID09PSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5tZW1iZXJJZCB8fCBsYkVudHJ5Lm1lbWJlcklkID09PSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5tZW1iZXJJZCkgJiYgdHlwZW9mIGxiRW50cnkucmFua2luZ3MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBzY29yZUFyZWEgPSBxdWVyeShkZWZhdWx0RG9tT2JqLCAnLmNsLXdpZGdldC1tcy1maXJzdC10by1yZXN1bHRzLWxpc3QnKTtcbiAgICAgICAgc2NvcmVBcmVhLmlubmVySFRNTCA9ICcnO1xuXG4gICAgICAgIHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbXMtZmlyc3QtdG8tZGF0ZS1sYWJlbCcpLmlubmVySFRNTCA9ICcnO1xuICAgICAgICBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLWRhdGUnKS5pbm5lckhUTUwgPSBkYXRlT2JqO1xuICAgICAgICBhZGRDbGFzcyhxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLWRhdGUtd3JhcHBlcicpLCAnY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLWRhdGUtb25seScpO1xuXG4gICAgICAgIG1hcE9iamVjdChsYkVudHJ5LnJhbmtpbmdzLCBmdW5jdGlvbiAobGJSYW5raW5nRW50cnkpIHtcbiAgICAgICAgICB2YXIgaWNvbiA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnBvcHVsYXRlSWRlbnRpY29uQmFzZTY0SW1hZ2UobGJSYW5raW5nRW50cnkubWVtYmVySWQpO1xuICAgICAgICAgIHZhciBsYldyYXBwZXIgPSBfdGhpcy5sYXlvdXRGaXJzdFRvT3JFbXB0eUVudHJ5KCk7XG4gICAgICAgICAgdmFyIGltZyA9IHF1ZXJ5KGxiV3JhcHBlciwgJy5jbC13aWRnZXQtbXMtZmlyc3QtdG8tbWVtLWltZycpO1xuICAgICAgICAgIHZhciBzZWxmTWVtYmVyID0gKChsYlJhbmtpbmdFbnRyeS5tZW1iZXJSZWZJZCA9PT0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MubWVtYmVySWQgfHwgbGJSYW5raW5nRW50cnkubWVtYmVySWQgPT09IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLm1lbWJlcklkKSk7XG5cbiAgICAgICAgICBpZiAoc2VsZk1lbWJlcikge1xuICAgICAgICAgICAgYWRkQ2xhc3MobGJXcmFwcGVyLCAnY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLW1lbS1zZWxmJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaW1nLnNyYyA9IGljb247XG4gICAgICAgICAgaW1nLmFsdCA9ICcnO1xuICAgICAgICAgIGltZy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgICAgICAgIHF1ZXJ5KGxiV3JhcHBlciwgJy5jbC13aWRnZXQtbXMtZmlyc3QtdG8tbWVtLWxhYmVsJykuaW5uZXJIVE1MID0gc2VsZk1lbWJlciA/ICdZT1UnIDogJyc7XG4gICAgICAgICAgcXVlcnkobGJXcmFwcGVyLCAnLmNsLXdpZGdldC1tcy1maXJzdC10by1tZW0tcmFuaycpLmlubmVySFRNTCA9IFwiPHNwYW4gY2xhc3M9J2NsLW1lbS1yYW5rLWxhYmVsJz5cIiArIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLmxlYWRlcmJvYXJkLnJhbmsgKyBcIjwvc3Bhbj48c3BhbiBjbGFzcz0nY2wtbWVtLXJhbmsnPlwiICsgbGJSYW5raW5nRW50cnkucmFuayArICc8L3NwYW4+JztcbiAgICAgICAgICBxdWVyeShsYldyYXBwZXIsICcuY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLW1lbS1wb2ludHMnKS5pbm5lckhUTUwgPSBcIjxzcGFuIGNsYXNzPSdjbC1tZW0tcG9pbnRzLWxhYmVsJz5cIiArIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLmxlYWRlcmJvYXJkLnBvaW50cyArIFwiPC9zcGFuPjxzcGFuIGNsYXNzPSdjbC1tZW0tcG9pbnRzJz5cIiArIGxiUmFua2luZ0VudHJ5LnBvaW50cyArICcvJyArIHN0cmF0ZWd5LnJlY29yZFRpbWVXaGVuU3VtUmVhY2hlcyArICc8L3NwYW4+JztcblxuICAgICAgICAgIHNjb3JlQXJlYS5hcHBlbmRDaGlsZChsYldyYXBwZXIpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChpbnZlcnNlICYmICFoYXNDbGFzcyhkZWZhdWx0RG9tT2JqLCAnY2wtaW52ZXJzZScpKSB7XG4gICAgICBhZGRDbGFzcyhkZWZhdWx0RG9tT2JqLCAnY2wtaW52ZXJzZScpO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLmxheW91dFN1bUJlc3RPZiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciB0aW1lTWFuYWdlbWVudCA9IF90aGlzLnRpbWVNYW5hZ2VtZW50KCk7XG4gICAgLy8gdmFyIGRpZmYgPSB0aW1lTWFuYWdlbWVudC5kaWZmO1xuICAgIHZhciBsYWJlbCA9IHRpbWVNYW5hZ2VtZW50LmxhYmVsO1xuICAgIHZhciBkYXRlID0gdGltZU1hbmFnZW1lbnQuZGF0ZTtcbiAgICB2YXIgd3JhcHBlckRvbU9iaiA9IF90aGlzLnNldHRpbmdzLmluZm9Db250YWluZXI7XG4gICAgdmFyIHN1bUJlc3REb21PYmogPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW1zLXN1bS1iZXN0LXdyYXBwZXInKTtcbiAgICB2YXIgaW52ZXJzZSA9IHRpbWVNYW5hZ2VtZW50LmludmVyc2U7XG5cbiAgICBpZiAoc3VtQmVzdERvbU9iaiA9PT0gbnVsbCkge1xuICAgICAgX3RoaXMucmVtb3ZlVW51c2VkRWxlbWVudHMoKTtcblxuICAgICAgdmFyIGxiV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdmFyIGxiRGF0ZVdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHZhciBsYkRhdGVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdmFyIGxiRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdmFyIGxiUmVzdWx0c1dyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHZhciBsYlJlc3VsdHNTY29yZUFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHZhciBsYlJlc3VsdHNTY29yZUFyZWFIaWdoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB2YXIgbGJSZXN1bHRzU2NvcmVBcmVhSGlnaExhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB2YXIgbGJSZXN1bHRzU2NvcmVBcmVhSGlnaFNjb3JlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB2YXIgbGJSZXN1bHRzU2NvcmVBcmVhTGFzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdmFyIGxiUmVzdWx0c1Njb3JlQXJlYUxhc3RMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdmFyIGxiUmVzdWx0c1Njb3JlQXJlYUxhc3RTY29yZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdmFyIGxiUmVzdWx0c1JhbmtBcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB2YXIgbGJSZXN1bHRzUmFua1ZhbHVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuXG4gICAgICBsYldyYXBwZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtc3VtLWJlc3Qtd3JhcHBlcicpO1xuICAgICAgbGJEYXRlTGFiZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtc3VtLWJlc3QtZGF0ZS1sYWJlbCcpO1xuICAgICAgbGJEYXRlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLXN1bS1iZXN0LWRhdGUnKTtcbiAgICAgIGxiRGF0ZVdyYXBwZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtc3VtLWJlc3QtZGF0ZS13cmFwcGVyJyk7XG4gICAgICBsYlJlc3VsdHNXcmFwcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLXN1bS1iZXN0LXJlc3VsdHMtd3JhcHBlcicpO1xuXG4gICAgICBsYlJlc3VsdHNTY29yZUFyZWEuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtc3VtLWJlc3QtYXJlYScpO1xuICAgICAgbGJSZXN1bHRzU2NvcmVBcmVhSGlnaC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1zdW0tYmVzdC1oaWdoLWFyZWEnKTtcbiAgICAgIGxiUmVzdWx0c1Njb3JlQXJlYUhpZ2hMYWJlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1zdW0tYmVzdC1oaWdoLWxhYmVsJyk7XG4gICAgICBsYlJlc3VsdHNTY29yZUFyZWFIaWdoU2NvcmUuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtc3VtLWJlc3QtaGlnaC1zY29yZScpO1xuXG4gICAgICBsYlJlc3VsdHNTY29yZUFyZWFMYXN0LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLXN1bS1iZXN0LWxhc3QtYXJlYScpO1xuICAgICAgbGJSZXN1bHRzU2NvcmVBcmVhTGFzdExhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLXN1bS1iZXN0LWxhc3QtbGFiZWwnKTtcbiAgICAgIGxiUmVzdWx0c1Njb3JlQXJlYUxhc3RTY29yZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1zdW0tYmVzdC1sYXN0LXNjb3JlJyk7XG5cbiAgICAgIGxiUmVzdWx0c1JhbmtBcmVhLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLXN1bS1iZXN0LXJhbmstYXJlYScpO1xuICAgICAgbGJSZXN1bHRzUmFua1ZhbHVlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLXN1bS1iZXN0LXJhbmstdmFsdWUnKTtcblxuICAgICAgbGJEYXRlTGFiZWwuaW5uZXJIVE1MID0gbGFiZWw7XG4gICAgICBsYkRhdGUuaW5uZXJIVE1MID0gZGF0ZTtcblxuICAgICAgbGJSZXN1bHRzU2NvcmVBcmVhSGlnaExhYmVsLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLm1pbmlMZWFkZXJib2FyZC5oaWdoU2NvcmU7XG4gICAgICBsYlJlc3VsdHNTY29yZUFyZWFIaWdoU2NvcmUuaW5uZXJIVE1MID0gJy0tJztcbiAgICAgIGxiUmVzdWx0c1Njb3JlQXJlYUhpZ2guYXBwZW5kQ2hpbGQobGJSZXN1bHRzU2NvcmVBcmVhSGlnaExhYmVsKTtcbiAgICAgIGxiUmVzdWx0c1Njb3JlQXJlYUhpZ2guYXBwZW5kQ2hpbGQobGJSZXN1bHRzU2NvcmVBcmVhSGlnaFNjb3JlKTtcbiAgICAgIGxiUmVzdWx0c1Njb3JlQXJlYS5hcHBlbmRDaGlsZChsYlJlc3VsdHNTY29yZUFyZWFIaWdoKTtcblxuICAgICAgbGJSZXN1bHRzU2NvcmVBcmVhTGFzdExhYmVsLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLm1pbmlMZWFkZXJib2FyZC5sYXN0U2NvcmU7XG4gICAgICBsYlJlc3VsdHNTY29yZUFyZWFMYXN0U2NvcmUuaW5uZXJIVE1MID0gJy0tJztcbiAgICAgIGxiUmVzdWx0c1Njb3JlQXJlYUxhc3QuYXBwZW5kQ2hpbGQobGJSZXN1bHRzU2NvcmVBcmVhTGFzdExhYmVsKTtcbiAgICAgIGxiUmVzdWx0c1Njb3JlQXJlYUxhc3QuYXBwZW5kQ2hpbGQobGJSZXN1bHRzU2NvcmVBcmVhTGFzdFNjb3JlKTtcbiAgICAgIGxiUmVzdWx0c1Njb3JlQXJlYS5hcHBlbmRDaGlsZChsYlJlc3VsdHNTY29yZUFyZWFMYXN0KTtcblxuICAgICAgbGJSZXN1bHRzUmFua1ZhbHVlLmlubmVySFRNTCA9ICctLSc7XG4gICAgICBsYlJlc3VsdHNSYW5rQXJlYS5hcHBlbmRDaGlsZChsYlJlc3VsdHNSYW5rVmFsdWUpO1xuXG4gICAgICBsYlJlc3VsdHNXcmFwcGVyLmFwcGVuZENoaWxkKGxiUmVzdWx0c1Njb3JlQXJlYSk7XG4gICAgICBsYlJlc3VsdHNXcmFwcGVyLmFwcGVuZENoaWxkKGxiUmVzdWx0c1JhbmtBcmVhKTtcblxuICAgICAgbGJEYXRlV3JhcHBlci5hcHBlbmRDaGlsZChsYkRhdGVMYWJlbCk7XG4gICAgICBsYkRhdGVXcmFwcGVyLmFwcGVuZENoaWxkKGxiRGF0ZSk7XG5cbiAgICAgIGxiV3JhcHBlci5hcHBlbmRDaGlsZChsYkRhdGVXcmFwcGVyKTtcbiAgICAgIGxiV3JhcHBlci5hcHBlbmRDaGlsZChsYlJlc3VsdHNXcmFwcGVyKTtcblxuICAgICAgc3VtQmVzdERvbU9iaiA9IHdyYXBwZXJEb21PYmouYXBwZW5kQ2hpbGQobGJXcmFwcGVyKTtcblxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFkZENsYXNzKHdyYXBwZXJEb21PYmosICdjbC1zaG93Jyk7XG4gICAgICB9LCAyMDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWhhc0NsYXNzKHdyYXBwZXJEb21PYmosICdjbC1zaG93JykpIHtcbiAgICAgICAgYWRkQ2xhc3Mod3JhcHBlckRvbU9iaiwgJ2NsLXNob3cnKTtcbiAgICAgIH1cbiAgICAgIHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbXMtc3VtLWJlc3QtZGF0ZS1sYWJlbCcpLmlubmVySFRNTCA9IGxhYmVsO1xuICAgICAgcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLXdpZGdldC1tcy1zdW0tYmVzdC1kYXRlJykuaW5uZXJIVE1MID0gZGF0ZTtcbiAgICB9XG5cbiAgICBtYXBPYmplY3QoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MubGVhZGVyYm9hcmQubGVhZGVyYm9hcmREYXRhLCBmdW5jdGlvbiAobGJFbnRyeSkge1xuICAgICAgaWYgKGxiRW50cnkubWVtYmVyUmVmSWQgPT09IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLm1lbWJlcklkIHx8IGxiRW50cnkubWVtYmVySWQgPT09IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLm1lbWJlcklkKSB7XG4gICAgICAgIHZhciBsYXN0U2NvcmUgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW1zLXN1bS1iZXN0LWxhc3Qtc2NvcmUnKS5pbm5lckhUTUw7XG4gICAgICAgIHZhciBoaWdoU2NvcmUgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW1zLXN1bS1iZXN0LWhpZ2gtc2NvcmUnKS5pbm5lckhUTUw7XG4gICAgICAgIHZhciByYW5rID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLXdpZGdldC1tcy1zdW0tYmVzdC1yYW5rLXZhbHVlJyk7XG4gICAgICAgIHZhciBjaGFuZ2UgPSAobGJFbnRyeS5jaGFuZ2UgPCAwKSA/ICdkb3duJyA6IChsYkVudHJ5LmNoYW5nZSA+IDAgPyAndXAnIDogJ3NhbWUnKTtcbiAgICAgICAgdmFyIHJhbmtWYWx1ZSA9IGxiRW50cnkucmFuaztcblxuICAgICAgICBpZiAobGFzdFNjb3JlICE9PSBTdHJpbmcobGJFbnRyeS5wb2ludHMpICYmIFN0cmluZyhsYkVudHJ5LnBvaW50cykgIT09IGhpZ2hTY29yZSkge1xuICAgICAgICAgIHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbXMtc3VtLWJlc3QtbGFzdC1zY29yZScpLmlubmVySFRNTCA9IGhpZ2hTY29yZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbXMtc3VtLWJlc3QtaGlnaC1zY29yZScpLmlubmVySFRNTCA9IGxiRW50cnkucG9pbnRzO1xuXG4gICAgICAgIHJlbW92ZUNsYXNzKHJhbmssICdjbC1tcy1yYW5rLXVwJyk7XG4gICAgICAgIHJlbW92ZUNsYXNzKHJhbmssICdjbC1tcy1yYW5rLWRvd24nKTtcbiAgICAgICAgcmVtb3ZlQ2xhc3MocmFuaywgJ2NsLW1zLXJhbmstc2FtZScpO1xuXG4gICAgICAgIGFkZENsYXNzKHJhbmssICdjbC1tcy1yYW5rLScgKyBjaGFuZ2UpO1xuXG4gICAgICAgIHJhbmsuaW5uZXJIVE1MID0gcmFua1ZhbHVlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKGludmVyc2UgJiYgIWhhc0NsYXNzKHN1bUJlc3REb21PYmosICdjbC1pbnZlcnNlJykpIHtcbiAgICAgIGFkZENsYXNzKHN1bUJlc3REb21PYmosICdjbC1pbnZlcnNlJyk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMubGF5b3V0UmVxdWlyZXNPcHRJbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBkaWZmID0gbW9tZW50KF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uLnNjaGVkdWxlZFN0YXJ0KS5kaWZmKG1vbWVudCgpKTtcbiAgICB2YXIgbGFiZWwgPSAnU3RhcnRpbmcgSW4nO1xuICAgIHZhciB3cmFwcGVyRG9tT2JqID0gX3RoaXMuc2V0dGluZ3MuaW5mb0NvbnRhaW5lcjtcbiAgICB2YXIgZGF0ZSA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LmZvcm1hdERhdGVUaW1lKG1vbWVudC5kdXJhdGlvbihkaWZmKSk7XG5cbiAgICBpZiAoZGlmZiA8IDAgJiYgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5zdGF0dXNDb2RlID09PSAwKSB7XG4gICAgICBsYWJlbCA9ICdzdGFydGluZyc7XG4gICAgICBkYXRlID0gJyc7XG4gICAgfSBlbHNlIGlmIChfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnN0YXR1c0NvZGUgPiAwICYmIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3Quc3RhdHVzQ29kZSA8IDMpIHtcbiAgICAgIGRpZmYgPSBtb21lbnQoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5zY2hlZHVsZWRFbmQpLmRpZmYobW9tZW50KCkpO1xuICAgICAgbGFiZWwgPSAnc3RhcnRlZCc7XG4gICAgICBkYXRlID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuZm9ybWF0RGF0ZVRpbWUobW9tZW50LmR1cmF0aW9uKGRpZmYpKTtcbiAgICB9IGVsc2UgaWYgKF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3Quc3RhdHVzQ29kZSA9PT0gMykge1xuICAgICAgbGFiZWwgPSAnZmluaXNoaW5nJztcbiAgICAgIGRhdGUgPSAnJztcbiAgICB9IGVsc2UgaWYgKF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3Quc3RhdHVzQ29kZSA+PSA0KSB7XG4gICAgICBsYWJlbCA9ICdmaW5pc2hlZCc7XG4gICAgICBkYXRlID0gJyc7XG4gICAgfVxuXG4gICAgaWYgKHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbXMtb3B0aW4td3JhcHBlcicpID09PSBudWxsKSB7XG4gICAgICBfdGhpcy5yZW1vdmVVbnVzZWRFbGVtZW50cygpO1xuXG4gICAgICB2YXIgb3B0SW5XcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB2YXIgb3B0SW5EYXRlV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdmFyIG9wdEluRGF0ZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB2YXIgb3B0SW5EYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB2YXIgb3B0SW5EYXRlQWN0aW9uV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdmFyIG9wdEluRGF0ZUFjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcblxuICAgICAgb3B0SW5XcmFwcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLW9wdGluLXdyYXBwZXInKTtcbiAgICAgIG9wdEluRGF0ZUxhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLW9wdGluLWRhdGUtbGFiZWwnKTtcbiAgICAgIG9wdEluRGF0ZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1vcHRpbi1kYXRlJyk7XG4gICAgICBvcHRJbkRhdGVXcmFwcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLW9wdGluLWRhdGUtd3JhcHBlcicpO1xuICAgICAgb3B0SW5EYXRlQWN0aW9uV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1vcHRpbi1hY3Rpb24td3JhcHBlcicpO1xuICAgICAgb3B0SW5EYXRlQWN0aW9uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLW9wdGluLWFjdGlvbicpO1xuXG4gICAgICBvcHRJbkRhdGVMYWJlbC5pbm5lckhUTUwgPSBsYWJlbDtcbiAgICAgIG9wdEluRGF0ZS5pbm5lckhUTUwgPSBkYXRlO1xuICAgICAgb3B0SW5EYXRlQWN0aW9uLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLnRvdXJuYW1lbnRzLmVudGVyO1xuXG4gICAgICBvcHRJbkRhdGVXcmFwcGVyLmFwcGVuZENoaWxkKG9wdEluRGF0ZUxhYmVsKTtcbiAgICAgIG9wdEluRGF0ZVdyYXBwZXIuYXBwZW5kQ2hpbGQob3B0SW5EYXRlKTtcblxuICAgICAgb3B0SW5EYXRlQWN0aW9uV3JhcHBlci5hcHBlbmRDaGlsZChvcHRJbkRhdGVBY3Rpb24pO1xuICAgICAgb3B0SW5XcmFwcGVyLmFwcGVuZENoaWxkKG9wdEluRGF0ZVdyYXBwZXIpO1xuICAgICAgb3B0SW5XcmFwcGVyLmFwcGVuZENoaWxkKG9wdEluRGF0ZUFjdGlvbldyYXBwZXIpO1xuXG4gICAgICB3cmFwcGVyRG9tT2JqLmFwcGVuZENoaWxkKG9wdEluV3JhcHBlcik7XG5cbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBhZGRDbGFzcyh3cmFwcGVyRG9tT2JqLCAnY2wtc2hvdycpO1xuICAgICAgfSwgMjAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFoYXNDbGFzcyh3cmFwcGVyRG9tT2JqLCAnY2wtc2hvdycpKSB7XG4gICAgICAgIGFkZENsYXNzKHdyYXBwZXJEb21PYmosICdjbC1zaG93Jyk7XG4gICAgICB9XG4gICAgICBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW1zLW9wdGluLWRhdGUtbGFiZWwnKS5pbm5lckhUTUwgPSBsYWJlbDtcbiAgICAgIHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbXMtb3B0aW4tZGF0ZScpLmlubmVySFRNTCA9IGRhdGU7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMucmVtb3ZlVW51c2VkRWxlbWVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgZGVmYXVsdExheW91dFdyYXBwZXJEb21PYmogPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW1zLWRlZmF1bHQtd3JhcHBlcicpO1xuICAgIHZhciBvcHRJbldyYXBwZXJEb21PYmogPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW1zLW9wdGluLXdyYXBwZXInKTtcbiAgICB2YXIgc3VtQmVzdERvbU9iaiA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbXMtc3VtLWJlc3Qtd3JhcHBlcicpO1xuICAgIHZhciBmaXJzdFRvRG9tT2JqID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLXdpZGdldC1tcy1maXJzdC10by13cmFwcGVyJyk7XG5cbiAgICByZW1vdmVDbGFzcyhfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICdjbC1tcy1kZWZhdWx0LXN0eWxlJyk7XG4gICAgcmVtb3ZlQ2xhc3MoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnY2wtbXMtb3B0aW4tc3R5bGUnKTtcbiAgICByZW1vdmVDbGFzcyhfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICdjbC1tcy1zdW0tYmVzdC1zdHlsZScpO1xuICAgIHJlbW92ZUNsYXNzKF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJ2NsLW1zLWZpcnN0LXRvLXN0eWxlJyk7XG5cbiAgICBpZiAoZGVmYXVsdExheW91dFdyYXBwZXJEb21PYmogIT09IG51bGwpIHtcbiAgICAgIHJlbW92ZShkZWZhdWx0TGF5b3V0V3JhcHBlckRvbU9iaik7XG4gICAgfVxuXG4gICAgaWYgKG9wdEluV3JhcHBlckRvbU9iaiAhPT0gbnVsbCkge1xuICAgICAgcmVtb3ZlKG9wdEluV3JhcHBlckRvbU9iaik7XG4gICAgfVxuXG4gICAgaWYgKHN1bUJlc3REb21PYmogIT09IG51bGwpIHtcbiAgICAgIHJlbW92ZShzdW1CZXN0RG9tT2JqKTtcbiAgICB9XG5cbiAgICBpZiAoZmlyc3RUb0RvbU9iaiAhPT0gbnVsbCkge1xuICAgICAgcmVtb3ZlKGZpcnN0VG9Eb21PYmopO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLmNsZWFyQWxsID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MudXBkYXRlSW50ZXJ2YWwpIHtcbiAgICAgIGNsZWFyVGltZW91dChfdGhpcy5zZXR0aW5ncy51cGRhdGVJbnRlcnZhbCk7XG4gICAgfVxuXG4gICAgX3RoaXMucmVtb3ZlSW5mb0FyZWEoKTtcblxuICAgIF90aGlzLnNldHRpbmdzLmFjdGl2ZSA9IGZhbHNlO1xuICB9O1xuXG4gIHRoaXMucmVtb3ZlSW5mb0FyZWEgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgd3JhcHBlckRvbU9iaiA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC1zaG93Jyk7XG4gICAgdmFyIGxheW91dCA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbXMtZGVmYXVsdC13cmFwcGVyJyk7XG5cbiAgICBpZiAod3JhcHBlckRvbU9iaiAhPT0gbnVsbCkgcmVtb3ZlQ2xhc3Mod3JhcHBlckRvbU9iaiwgJ2NsLXNob3cnKTtcblxuICAgIGlmIChsYXlvdXQgIT09IG51bGwpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICByZW1vdmUobGF5b3V0KTtcbiAgICAgIH0sIDMwMCk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMudXBkYXRlU2NvcmVCb2FyZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLnVwZGF0ZUludGVydmFsKSB7XG4gICAgICBjbGVhclRpbWVvdXQoX3RoaXMuc2V0dGluZ3MudXBkYXRlSW50ZXJ2YWwpO1xuICAgIH1cblxuICAgIF90aGlzLnNldHRpbmdzLnVwZGF0ZUludGVydmFsID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5sb2FkSW5mb0FyZWEoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy51cGRhdGVTY29yZUJvYXJkKCk7XG4gICAgICB9KTtcbiAgICB9LCBfdGhpcy5zZXR0aW5ncy51cGRhdGVJbnRlcnZhbFRpbWUpO1xuICB9O1xuXG4gIHRoaXMubG9hZEluZm9BcmVhID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmIChfdGhpcy5zZXR0aW5ncy5hY3RpdmUgJiYgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24gIT09IG51bGwgJiYgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24uc3RhdHVzQ29kZSA8IDcpIHtcbiAgICAgIGlmICh0eXBlb2YgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24ub3B0aW5SZXF1aXJlZCA9PT0gJ2Jvb2xlYW4nICYmIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uLm9wdGluUmVxdWlyZWQgJiYgdHlwZW9mIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uLm9wdGluID09PSAnYm9vbGVhbicgJiYgIV90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uLm9wdGluKSB7XG4gICAgICAgIF90aGlzLmxheW91dFJlcXVpcmVzT3B0SW4oKTtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH0gZWxzZSBpZiAoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdCAhPT0gbnVsbCAmJiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnN0cmF0ZWd5LnR5cGUgPT09ICdTdW1CZXN0Jykge1xuICAgICAgICBfdGhpcy5sYXlvdXRTdW1CZXN0T2YoKTtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH0gZWxzZSBpZiAoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdCAhPT0gbnVsbCAmJiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnN0cmF0ZWd5LnR5cGUgPT09ICdGaXJzdFRvJykge1xuICAgICAgICBfdGhpcy5sYXlvdXRGaXJzdFRvT3JFbXB0eShfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnN0cmF0ZWd5KTtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH0gZWxzZSBpZiAoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdElkICE9PSBudWxsKSB7XG4gICAgICAgIF90aGlzLmxheW91dERlZmF1bHRPckVtcHR5KCk7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5sYXlvdXREZWZhdWx0T3JFbXB0eSgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBfdGhpcy5jbGVhckFsbCgpO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLmV2ZW50TGlzdGVuZXJzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBkcmFnRWxlbWVudChfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsIHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbXMtaWNvbicpLCBfdGhpcy5zZXR0aW5ncy5vdmVybGF5Q29udGFpbmVyLCBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5iaW5kQ29udGFpbmVyLCBmdW5jdGlvbiAobmV3VG9wLCBuZXdMZWZ0KSB7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zdG9wQWN0aXZpdHkoKTtcbiAgICAgIGlmIChuZXdUb3AgPD0gNSkge1xuICAgICAgICBhZGRDbGFzcyhfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICdjbC12ZXJ0aWNhbC1taW5pJyk7XG4gICAgICB9IGVsc2UgaWYgKG5ld0xlZnQgPD0gNSkge1xuICAgICAgICByZW1vdmVDbGFzcyhfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICdjbC12ZXJ0aWNhbC1taW5pJyk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNldHRpbmdzLmRyYWdnaW5nID0gdHJ1ZTtcbiAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5yZXN0YXJ0QWN0aXZpdHkoKTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5zZXR0aW5ncy5kcmFnZ2luZyA9IGZhbHNlO1xuICAgICAgfSwgMjAwKTtcbiAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5jbGlja2VkTWluaVNjb3JlQm9hcmQoKTtcbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLmluaXRMYXlvdXQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciA9PT0gbnVsbCkge1xuICAgICAgX3RoaXMuc2V0dGluZ3MuYWN0aXZlID0gdHJ1ZTtcbiAgICAgIF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmJpbmRDb250YWluZXIuYXBwZW5kQ2hpbGQoX3RoaXMubGF5b3V0KCkpO1xuICAgICAgX3RoaXMuc2V0dGluZ3Mub3ZlcmxheUNvbnRhaW5lciA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmJpbmRDb250YWluZXIuYXBwZW5kQ2hpbGQoX3RoaXMub3ZlcmxheUxheW91dCgpKTtcbiAgICAgIF90aGlzLnNldHRpbmdzLmluZm9Db250YWluZXIgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW1zLWluZm9ybWF0aW9uLXdyYXBwZXInKTtcblxuICAgICAgX3RoaXMuZXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLmxvYWRTY29yZUJvYXJkID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfdGhpcy5pbml0TGF5b3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmxvYWRJbmZvQXJlYShmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnVwZGF0ZVNjb3JlQm9hcmQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMudXBkYXRlU2NvcmVCb2FyZCgpO1xuICAgICAgfSwgMTAwMCk7XG4gICAgfSk7XG4gIH07XG59O1xuIiwiaW1wb3J0IHsgTWVzc2FnaW5nIH0gZnJvbSAnLi9NZXNzYWdpbmcnO1xuaW1wb3J0IG1hcE9iamVjdCBmcm9tICcuLi91dGlscy9tYXBPYmplY3QnO1xuaW1wb3J0IHJlbW92ZUNsYXNzIGZyb20gJy4uL3V0aWxzL3JlbW92ZUNsYXNzJztcbmltcG9ydCBxdWVyeSBmcm9tICcuLi91dGlscy9xdWVyeSc7XG5pbXBvcnQgc3RyaXBIdG1sIGZyb20gJy4uL3V0aWxzL3N0cmlwSHRtbCc7XG5pbXBvcnQgYWRkQ2xhc3MgZnJvbSAnLi4vdXRpbHMvYWRkQ2xhc3MnO1xuXG4vKipcbiAqIE5vdGlmaWNhdGlvbnMgbGVhZGVyYm9hcmQgd2lkZ2V0XG4gKiBAcGFyYW0gb3B0aW9ucyB7T2JqZWN0fVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmV4cG9ydCBjb25zdCBOb3RpZmljYXRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgLyoqXG4gICAqIE5vdGlmaWNhdGlvbnMgc2V0dGluZ3NcbiAgICogQG1lbWJlck9mIE5vdGlmaWNhdGlvbnNcbiAgICogQGNvbnN0YW50XG4gICAqIEB0eXBlIHsgT2JqZWN0IH1cbiAgICovXG4gIHRoaXMuc2V0dGluZ3MgPSB7XG4gICAgY29udGFpbmVyOiBudWxsLFxuICAgIGRldGFpbHNDb250YWluZXI6IG51bGwsXG4gICAgY2FudmFzSW5zdGFuY2U6IG51bGwsXG4gICAgbGJXaWRnZXQ6IG51bGwsXG4gICAgZXZlbnRTdHJlYW06IFtdLFxuICAgIGNoZWNrVGltZW91dDogMjAwMCxcbiAgICBvbkRpc3BsYXlDaGVja1RpbWVvdXQ6IDEwMDAwLFxuICAgIGNoZWNrSW50ZXJ2YWw6IG51bGwsXG4gICAgYXV0b05vdGlmaWNhdGlvbkhpZGVJbnRlcnZhbDogbnVsbCxcbiAgICBhdXRvTm90aWZpY2F0aW9uSGlkZVRpbWU6IDEwMDAwLFxuICAgIGRpc3BsYXlJblByb2dyZXNzOiBmYWxzZSxcbiAgICBkYXRhRXh0cmFjdGlvbkZvckNhbnZhczogZnVuY3Rpb24gKGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICBpZiAodHlwZW9mIGRhdGEubWV0YWRhdGEgIT09ICd1bmRlZmluZWQnICYmIGRhdGEubWV0YWRhdGEubGVuZ3RoID4gMCAmJiB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIGZvdW5kID0gZmFsc2U7XG4gICAgICAgIG1hcE9iamVjdChkYXRhLm1ldGFkYXRhLCBmdW5jdGlvbiAobWV0YSkge1xuICAgICAgICAgIGlmIChtZXRhLmtleSA9PT0gJ3dlYkFzc2V0JyAmJiAhZm91bmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlT2JqID0ge1xuICAgICAgICAgICAgICBpbWFnZVNyYzogbWV0YS52YWx1ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlT2JqKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKHJlc3BvbnNlT2JqKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgZm9yICh2YXIgb3B0IGluIG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KG9wdCkpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5nc1tvcHRdID0gb3B0aW9uc1tvcHRdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHRoaXMubGF5b3V0V3JhcHBlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBpY29uV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICB2YXIgaW5mb3JtYXRpb25XcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGluZm9ybWF0aW9uVG9wV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBpbmZvcm1hdGlvbkRldGFpbHNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgaW5mb3JtYXRpb25EZXRhaWxzTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgaW5mb3JtYXRpb25EZXRhaWxzRGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgaW5mb3JtYXRpb25XcmFwcGVyQ2xvc2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgaW5mb3JtYXRpb25DbG9zZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcblxuICAgIHdyYXBwZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbm90aWYtd3JhcHBlcicpO1xuICAgIGljb25XcmFwcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW5vdGlmLWljb24td3JhcHBlcicpO1xuICAgIGljb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbm90aWYtaWNvbicpO1xuICAgIGluZm9ybWF0aW9uVG9wV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1ub3RpZi1pbmZvcm1hdGlvbi10b3Atd3JhcHBlcicpO1xuICAgIGluZm9ybWF0aW9uV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1ub3RpZi1pbmZvcm1hdGlvbi13cmFwcGVyJyk7XG4gICAgaW5mb3JtYXRpb25EZXRhaWxzQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW5vdGlmLWluZm9ybWF0aW9uLWRldGFpbHMtd3JhcHBlcicpO1xuICAgIGluZm9ybWF0aW9uRGV0YWlsc0xhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW5vdGlmLWluZm9ybWF0aW9uLWRldGFpbHMtbGFiZWwnKTtcbiAgICBpbmZvcm1hdGlvbkRldGFpbHNEZXNjcmlwdGlvbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1ub3RpZi1pbmZvcm1hdGlvbi1kZXRhaWxzLWRlc2NyaXB0aW9uJyk7XG4gICAgaW5mb3JtYXRpb25XcmFwcGVyQ2xvc2Uuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbm90aWYtaW5mb3JtYXRpb24tY2xvc2Utd3JhcHBlcicpO1xuICAgIGluZm9ybWF0aW9uQ2xvc2Uuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbm90aWYtaW5mb3JtYXRpb24tY2xvc2UnKTtcblxuICAgIGluZm9ybWF0aW9uQ2xvc2UuaHJlZiA9ICdqYXZhc2NyaXB0OnZvaWQoMCk7JztcbiAgICBpbmZvcm1hdGlvbkNsb3NlLmlubmVySFRNTCA9ICd4JztcblxuICAgIGluZm9ybWF0aW9uRGV0YWlsc0NvbnRhaW5lci5hcHBlbmRDaGlsZChpbmZvcm1hdGlvbkRldGFpbHNMYWJlbCk7XG4gICAgaW5mb3JtYXRpb25EZXRhaWxzQ29udGFpbmVyLmFwcGVuZENoaWxkKGluZm9ybWF0aW9uRGV0YWlsc0Rlc2NyaXB0aW9uKTtcblxuICAgIGluZm9ybWF0aW9uV3JhcHBlckNsb3NlLmFwcGVuZENoaWxkKGluZm9ybWF0aW9uQ2xvc2UpO1xuICAgIGluZm9ybWF0aW9uV3JhcHBlci5hcHBlbmRDaGlsZChpbmZvcm1hdGlvbldyYXBwZXJDbG9zZSk7XG4gICAgaW5mb3JtYXRpb25XcmFwcGVyLmFwcGVuZENoaWxkKGluZm9ybWF0aW9uRGV0YWlsc0NvbnRhaW5lcik7XG4gICAgaW5mb3JtYXRpb25Ub3BXcmFwcGVyLmFwcGVuZENoaWxkKGluZm9ybWF0aW9uV3JhcHBlcik7XG4gICAgaWNvbldyYXBwZXIuYXBwZW5kQ2hpbGQoaWNvbik7XG4gICAgd3JhcHBlci5hcHBlbmRDaGlsZChpY29uV3JhcHBlcik7XG4gICAgd3JhcHBlci5hcHBlbmRDaGlsZChpbmZvcm1hdGlvblRvcFdyYXBwZXIpO1xuXG4gICAgcmV0dXJuIHdyYXBwZXI7XG4gIH07XG5cbiAgdmFyIHByb2Nlc3NlZCA9IHt9O1xuICB0aGlzLnN0YXJ0U1NFID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5zc2VJbnN0YW5jZSA9IG5ldyBNZXNzYWdpbmcoe1xuICAgICAgc3NlVXJsOiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy51cmkuZ2F0ZXdheURvbWFpbiArIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnVyaS5tZW1iZXJTU0UucmVwbGFjZSgnOnNwYWNlJywgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3Muc3BhY2VOYW1lKS5yZXBsYWNlKCc6aWQnLCBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5tZW1iZXJJZCksXG4gICAgICBoZWFydGJlYXQ6IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnVyaS5nYXRld2F5RG9tYWluICsgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudXJpLm1lbWJlclNTRUhlYXJ0YmVhdC5yZXBsYWNlKCc6c3BhY2UnLCBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5zcGFjZU5hbWUpLnJlcGxhY2UoJzppZCcsIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLm1lbWJlcklkKSxcbiAgICAgIGFqYXg6IHtcbiAgICAgICAgdXJsOiBudWxsLFxuICAgICAgICBhcGlLZXk6IHtcbiAgICAgICAgICAnWC1BUEktS0VZJzogX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuYXBpS2V5XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjYWxsYmFjazogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGRhdGFLZXkgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBwcm9jZXNzZWRbZGF0YUtleV0gPT09ICd1bmRlZmluZWQnIHx8ICh0eXBlb2YgcHJvY2Vzc2VkW2RhdGFLZXldICE9PSAndW5kZWZpbmVkJyAmJiAocHJvY2Vzc2VkW2RhdGFLZXldICsgMTAwMDApIDwgY3VycmVudFRpbWUpKSB7XG4gICAgICAgICAgcHJvY2Vzc2VkW0pTT04uc3RyaW5naWZ5KGRhdGEpXSA9IGN1cnJlbnRUaW1lO1xuICAgICAgICAgIF90aGlzLnNldHRpbmdzLmV2ZW50U3RyZWFtLnB1c2goZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvblN0YXJ0dXBFcnJvcjogZnVuY3Rpb24gKHNldHRpbmdzKSB7XG4gICAgICB9LFxuICAgICAgZGVidWc6IHRydWVcbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLmF1dG9Ob3RpZmljYXRpb25IaWRlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MuYXV0b05vdGlmaWNhdGlvbkhpZGVJbnRlcnZhbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnNldHRpbmdzLmF1dG9Ob3RpZmljYXRpb25IaWRlSW50ZXJ2YWwpO1xuICAgIH1cblxuICAgIF90aGlzLnNldHRpbmdzLmF1dG9Ob3RpZmljYXRpb25IaWRlSW50ZXJ2YWwgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmhpZGVOb3RpZmljYXRpb24oKTtcbiAgICB9LCBfdGhpcy5zZXR0aW5ncy5hdXRvTm90aWZpY2F0aW9uSGlkZVRpbWUpO1xuICB9O1xuXG4gIHRoaXMuaGlkZU5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmF1dG9Ob3RpZmljYXRpb25IaWRlSW50ZXJ2YWwpIHtcbiAgICAgIGNsZWFyVGltZW91dChfdGhpcy5zZXR0aW5ncy5hdXRvTm90aWZpY2F0aW9uSGlkZUludGVydmFsKTtcbiAgICB9XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5kaXNwbGF5SW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgIHJlbW92ZUNsYXNzKHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbm90aWYtaW5mb3JtYXRpb24td3JhcHBlcicpLCAnY2wtc2hvdycpO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfSwgMjAwKTtcbiAgfTtcblxuICB0aGlzLnNob3dBY2hpZXZlbWVudE5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgbGFiZWwgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5kZXRhaWxzQ29udGFpbmVyLCAnLmNsLXdpZGdldC1ub3RpZi1pbmZvcm1hdGlvbi1kZXRhaWxzLWxhYmVsJyk7XG4gICAgdmFyIGRlc2NyaXB0aW9uID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuZGV0YWlsc0NvbnRhaW5lciwgJy5jbC13aWRnZXQtbm90aWYtaW5mb3JtYXRpb24tZGV0YWlscy1kZXNjcmlwdGlvbicpO1xuICAgIHZhciBkZXNjcmlwdGlvblRleHQgPSBzdHJpcEh0bWwoZGF0YS5kYXRhLmRlc2NyaXB0aW9uKTtcblxuICAgIGxhYmVsLmlubmVySFRNTCA9IChkYXRhLmRhdGEubmFtZS5sZW5ndGggPiAyMykgPyBkYXRhLmRhdGEubmFtZS5zdWJzdHIoMCwgMjMpICsgJy4uLicgOiBkYXRhLmRhdGEubmFtZTtcbiAgICBkZXNjcmlwdGlvbi5pbm5lckhUTUwgPSAoZGVzY3JpcHRpb25UZXh0Lmxlbmd0aCA+IDYwKSA/IGRlc2NyaXB0aW9uVGV4dC5zdWJzdHIoMCwgNjApICsgJy4uLicgOiBkZXNjcmlwdGlvblRleHQ7XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5kZXRhaWxzQ29udGFpbmVyLmRhdGFzZXQuaWQgPSBkYXRhLmRhdGEuaWQ7XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5jb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBhZGRDbGFzcyhxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW5vdGlmLWluZm9ybWF0aW9uLXdyYXBwZXInKSwgJ2NsLXNob3cnKTtcbiAgICB9LCAyMDApO1xuXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmNhbnZhc0luc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICBfdGhpcy5oYW5kbGVDYW52YXNBbmltYXRpb25zKGRhdGEuZGF0YSk7XG4gICAgfVxuXG4gICAgX3RoaXMuYXV0b05vdGlmaWNhdGlvbkhpZGUoKTtcbiAgfTtcblxuICB0aGlzLmhhbmRsZUNhbnZhc0FuaW1hdGlvbnMgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgIGNvbnN0IF90aGlzID0gdGhpcztcblxuICAgIF90aGlzLnNldHRpbmdzLmRhdGFFeHRyYWN0aW9uRm9yQ2FudmFzKGRhdGEsIGZ1bmN0aW9uIChjYW52YXNEYXRhKSB7XG4gICAgICBpZiAoY2FudmFzRGF0YS5pbWFnZVNyYy5sZW5ndGggPiAwKSB7XG4gICAgICAgIF90aGlzLnNldHRpbmdzLmNhbnZhc0luc3RhbmNlLnNldHRpbmdzLmltYWdlU3JjID0gY2FudmFzRGF0YS5pbWFnZVNyYztcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MuY2FudmFzSW5zdGFuY2UuaW5pdCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuZXZlbnRTdHJlYW1DaGVjayA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmNoZWNrSW50ZXJ2YWwpIHtcbiAgICAgIGNsZWFyVGltZW91dChfdGhpcy5zZXR0aW5ncy5jaGVja0ludGVydmFsKTtcbiAgICB9XG5cbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MuZXZlbnRTdHJlYW0ubGVuZ3RoID4gMCAmJiAhX3RoaXMuc2V0dGluZ3MuZGlzcGxheUluUHJvZ3Jlc3MpIHtcbiAgICAgIHZhciBkYXRhID0gX3RoaXMuc2V0dGluZ3MuZXZlbnRTdHJlYW1bMF07XG4gICAgICB2YXIgaW5kZXggPSBfdGhpcy5zZXR0aW5ncy5ldmVudFN0cmVhbS5pbmRleE9mKGRhdGEpO1xuXG4gICAgICBpZiAodHlwZW9mIGRhdGEuYWNoaWV2ZW1lbnRJZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MuZGlzcGxheUluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgICBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5nZXRBY2hpZXZlbWVudChkYXRhLmFjaGlldmVtZW50SWQsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgX3RoaXMuc2hvd0FjaGlldmVtZW50Tm90aWZpY2F0aW9uKGRhdGEpO1xuXG4gICAgICAgICAgX3RoaXMuc2V0dGluZ3MuY2hlY2tJbnRlcnZhbCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuZXZlbnRTdHJlYW1DaGVjaygpO1xuICAgICAgICAgIH0sIF90aGlzLnNldHRpbmdzLm9uRGlzcGxheUNoZWNrVGltZW91dCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIF90aGlzLnNldHRpbmdzLmV2ZW50U3RyZWFtLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBkYXRhLm5vdGlmaWNhdGlvbklkICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBfdGhpcy5zZXR0aW5ncy5jaGVja0ludGVydmFsID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMuZXZlbnRTdHJlYW1DaGVjaygpO1xuICAgICAgICB9LCBfdGhpcy5zZXR0aW5ncy5jaGVja1RpbWVvdXQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MuY2hlY2tJbnRlcnZhbCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzLmV2ZW50U3RyZWFtQ2hlY2soKTtcbiAgICAgICAgfSwgX3RoaXMuc2V0dGluZ3MuY2hlY2tUaW1lb3V0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MuZXZlbnRTdHJlYW0uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgX3RoaXMuc2V0dGluZ3MuY2hlY2tJbnRlcnZhbCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5ldmVudFN0cmVhbUNoZWNrKCk7XG4gICAgICB9LCBfdGhpcy5zZXR0aW5ncy5jaGVja1RpbWVvdXQpO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmIChfdGhpcy5zZXR0aW5ncy5jb250YWluZXIgPT09IG51bGwpIHtcbiAgICAgIF90aGlzLnN0YXJ0U1NFKCk7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5jb250YWluZXIgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5iaW5kQ29udGFpbmVyLmFwcGVuZENoaWxkKF90aGlzLmxheW91dFdyYXBwZXIoKSk7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5kZXRhaWxzQ29udGFpbmVyID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLXdpZGdldC1ub3RpZi1pbmZvcm1hdGlvbi1kZXRhaWxzLXdyYXBwZXInKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdGVybWluYXRlIFNTRVxuICAgICAgX3RoaXMuc2V0dGluZ3Muc3NlSW5zdGFuY2UuY2xvc2VDaGFuZWwoKTtcblxuICAgICAgLy8gdXBkYXRlIHRoZSBtZW1iZXJcbiAgICAgIF90aGlzLnNldHRpbmdzLnNzZUluc3RhbmNlLnNldHRpbmdzLnNzZVVybCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnVyaS5nYXRld2F5RG9tYWluICsgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudXJpLm1lbWJlclNTRS5yZXBsYWNlKCc6c3BhY2UnLCBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5zcGFjZU5hbWUpLnJlcGxhY2UoJzppZCcsIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLm1lbWJlcklkKTtcbiAgICAgIF90aGlzLnNldHRpbmdzLnNzZUluc3RhbmNlLnNldHRpbmdzLmhlYXJ0YmVhdCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnVyaS5nYXRld2F5RG9tYWluICsgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudXJpLm1lbWJlclNTRUhlYXJ0YmVhdC5yZXBsYWNlKCc6c3BhY2UnLCBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5zcGFjZU5hbWUpLnJlcGxhY2UoJzppZCcsIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLm1lbWJlcklkKTtcblxuICAgICAgLy8gcmUtaW5zdGFudGlhdGUgU1NFXG4gICAgICBfdGhpcy5zZXR0aW5ncy5zc2VJbnN0YW5jZS5vcGVuQ2hhbmVsKCk7XG4gICAgfVxuXG4gICAgX3RoaXMuZXZlbnRTdHJlYW1DaGVjaygpO1xuICB9O1xufTtcbiIsIi8vIGRlZmF1bHQgZG9tYWluXG5cbi8vIHZhciBhcGlVUkwgPSBcImh0dHA6Ly8xOTIuMTY4LjEuODo5OTk4XCI7XG5cbmNvbnN0IGFwaVVSTCA9ICdodHRwczovL2dhdGV3YXkuY29tcGV0aXRpb25sYWJzLmNvbSc7XG5cbmNvbnN0IGNMYWJzID0ge1xuICBhcGk6IHtcbiAgICB1cmw6IGFwaVVSTFxuICB9LFxuICBjbGFzc1NlbGVjdG9yOiAvXlxcLihbXFx3LV0rKSQvLCAvLyBjbGFzcyBzdHJpbmcgZXhwcmVzc2lvbiBjaGVja1xuICBpZFNlbGVjdG9yOiAvXiNbXFx3XFxkXFwtXFxfXFwmXFwhXFxAXFwqXSskLywgLy8gSUQgc3RyaW5nIGV4cHJlc3Npb24gY2hlY2tcbiAgdGFnU2VsZWN0b3I6IC9eW1xcdy1dKyQvIC8vIFRBRyBzdHJpbmcgZXhwcmVzc2lvbiBjaGVja1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY0xhYnM7XG4iLCJpbXBvcnQgeyBhZGRDbGFzcywgaGFzQ2xhc3MsIGlzaU9TRGV2aWNlLCBpc01vYmlsZVRhYmxldCwgcmVtb3ZlQ2xhc3MgfSBmcm9tICcuLi91dGlscyc7XG5cbi8vIHZhciBzY3JvbGxPYmoyID0gbnVsbDtcbmxldCBtb3ZlbWVudEludGVydmFsO1xuXG5jb25zdCBkcmFnRWxlbWVudCA9IGZ1bmN0aW9uIChlbG1udCwgZHJhZ2dhYmxlRWwsIG92ZXJsYXlDb250YWluZXIsIGNvbnRhaW5lciwgZHJhZ2dpbmcsIGZpbmlzaERyYWdnaW5nLCBtb2JpbGVUb3VjaCkge1xuICB2YXIgcG9zMSA9IDA7XG4gIHZhciBwb3MyID0gMDtcbiAgdmFyIHBvczMgPSAwO1xuICB2YXIgcG9zNCA9IDA7XG4gIHZhciBpc01vYmlsZSA9IGlzTW9iaWxlVGFibGV0KCk7XG4gIHZhciBpc2lPUyA9IGlzaU9TRGV2aWNlKCk7XG4gIHZhciBpc1BhcmVudFdpbmRvdyA9IGVsbW50LnBhcmVudE5vZGUubm9kZU5hbWUgPT09ICdCT0RZJztcbiAgdmFyIG1heExlZnQgPSAoaXNQYXJlbnRXaW5kb3cgPyB3aW5kb3cuaW5uZXJXaWR0aCA6IGNvbnRhaW5lci5vZmZzZXRXaWR0aCk7XG4gIHZhciBtYXhUb3AgPSAoaXNQYXJlbnRXaW5kb3cgPyB3aW5kb3cuaW5uZXJIZWlnaHQgOiBjb250YWluZXIub2Zmc2V0SGVpZ2h0KTtcbiAgdmFyIHRvdWNoU3RhcnQ7IHZhciBtb3ZpbmcgPSBudWxsO1xuICAvLyBzY3JvbGxPYmoyID0gcXVlcnkoXCIuc2Nyb2xsLXJlc1wiKTtcblxuICBpZiAobW92ZW1lbnRJbnRlcnZhbCkge1xuICAgIGNsZWFyVGltZW91dChtb3ZlbWVudEludGVydmFsKTtcbiAgfVxuXG4gIHZhciBvbldpbmRvd0NoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaXNWZXJ0aWNhbCA9IGhhc0NsYXNzKGVsbW50LCAnY2wtdmVydGljYWwtbWluaScpO1xuICAgIHZhciBtYXhMZWZ0ID0gKGlzUGFyZW50V2luZG93ID8gd2luZG93LmlubmVyV2lkdGggOiBjb250YWluZXIub2Zmc2V0V2lkdGgpO1xuICAgIHZhciBtYXhUb3AgPSAoaXNQYXJlbnRXaW5kb3cgPyB3aW5kb3cuaW5uZXJIZWlnaHQgOiBjb250YWluZXIub2Zmc2V0SGVpZ2h0KTtcbiAgICB2YXIgb2Zmc2V0TWF4TGVmdCA9IG1heExlZnQgLSBwYXJzZUludChlbG1udC5vZmZzZXRXaWR0aCArIChpc1ZlcnRpY2FsID8gZHJhZ2dhYmxlRWwub2Zmc2V0V2lkdGggLyA3IDogZHJhZ2dhYmxlRWwub2Zmc2V0V2lkdGggLyAxLjYpKTtcbiAgICB2YXIgb2Zmc2V0TWF4VG9wID0gbWF4VG9wIC0gcGFyc2VJbnQoZWxtbnQub2Zmc2V0SGVpZ2h0ICsgKGlzVmVydGljYWwgPyBkcmFnZ2FibGVFbC5vZmZzZXRIZWlnaHQgLyAxLjIgOiBkcmFnZ2FibGVFbC5vZmZzZXRIZWlnaHQgLyA0KSk7XG4gICAgdmFyIGVsVG9wID0gcGFyc2VJbnQoZWxtbnQuc3R5bGUudG9wKTtcbiAgICB2YXIgZWxMZWZ0ID0gcGFyc2VJbnQoZWxtbnQuc3R5bGUubGVmdCk7XG5cbiAgICBpZiAoZWxUb3AgPiBvZmZzZXRNYXhUb3AgJiYgb2Zmc2V0TWF4VG9wID4gNSkge1xuICAgICAgZWxtbnQuc3R5bGUudG9wID0gb2Zmc2V0TWF4VG9wICsgJ3B4JztcbiAgICB9XG4gICAgaWYgKGVsTGVmdCA+IG9mZnNldE1heExlZnQgJiYgb2Zmc2V0TWF4TGVmdCA+IDUpIHtcbiAgICAgIGVsbW50LnN0eWxlLmxlZnQgPSBvZmZzZXRNYXhMZWZ0ICsgJ3B4JztcbiAgICB9XG4gIH07XG5cbiAgaWYgKGlzTW9iaWxlKSB7XG4gICAgLyogbGlzdGVuIHRvIHRoZSB0b3VjaE1vdmUgZXZlbnQsXG4gICAgICBldmVyeSB0aW1lIGl0IGZpcmVzLCBncmFiIHRoZSBsb2NhdGlvblxuICAgICAgb2YgdG91Y2ggYW5kIGFzc2lnbiBpdCB0byBib3ggKi9cblxuICAgIHZhciBqdXN0QVRvdWNoID0gZmFsc2U7XG4gICAgZHJhZ2dhYmxlRWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBqdXN0QVRvdWNoID0gdHJ1ZTtcblxuICAgICAgaWYgKHRvdWNoU3RhcnQpIGNsZWFyVGltZW91dCh0b3VjaFN0YXJ0KTtcblxuICAgICAgbWF4TGVmdCA9IChpc1BhcmVudFdpbmRvdyA/IHdpbmRvdy5pbm5lcldpZHRoIDogY29udGFpbmVyLm9mZnNldFdpZHRoKTtcbiAgICAgIG1heFRvcCA9IChpc1BhcmVudFdpbmRvdyA/IHdpbmRvdy5pbm5lckhlaWdodCA6IGNvbnRhaW5lci5vZmZzZXRIZWlnaHQpO1xuXG4gICAgICB0b3VjaFN0YXJ0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGp1c3RBVG91Y2ggPSBmYWxzZTtcbiAgICAgIH0sIDEwMCk7XG4gICAgfSwgeyBwYXNzaXZlOiBpc2lPUyB9KTtcblxuICAgIGRyYWdnYWJsZUVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBwb3MzID0gZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VYO1xuICAgICAgcG9zNCA9IGUudGFyZ2V0VG91Y2hlc1swXS5wYWdlWTtcbiAgICAgIC8vIG1vdmluZyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXG4gICAgICBlbGVtZW50RHJhZyhlKTtcbiAgICB9LCB7IHBhc3NpdmU6IGlzaU9TIH0pO1xuXG4gICAgZHJhZ2dhYmxlRWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgLy8gZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgLy8gY3VycmVudCBib3ggcG9zaXRpb24uXG4gICAgICBjbG9zZURyYWdFbGVtZW50KGUpO1xuICAgICAgbW92aW5nID0gbnVsbDtcblxuICAgICAgaWYgKGp1c3RBVG91Y2ggJiYgdHlwZW9mIG1vYmlsZVRvdWNoID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG1vYmlsZVRvdWNoKCk7XG4gICAgICB9XG4gICAgfSwgeyBwYXNzaXZlOiBpc2lPUyB9KTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvcmllbnRhdGlvbmNoYW5nZScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBvbldpbmRvd0NoYW5nZSgpO1xuICAgIH0sIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIC8vIGlmIHByZXNlbnQsIHRoZSBoZWFkZXIgaXMgd2hlcmUgeW91IG1vdmUgdGhlIERJViBmcm9tOlxuICAgIGRyYWdnYWJsZUVsLm9ubW91c2Vkb3duID0gZHJhZ01vdXNlRG93bjtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgb25XaW5kb3dDaGFuZ2UoKTtcbiAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRyYWdNb3VzZURvd24gKGUpIHtcbiAgICBlID0gZSB8fCB3aW5kb3cuZXZlbnQ7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgbWF4TGVmdCA9IChpc1BhcmVudFdpbmRvdyA/IHdpbmRvdy5pbm5lcldpZHRoIDogY29udGFpbmVyLm9mZnNldFdpZHRoKTtcbiAgICBtYXhUb3AgPSAoaXNQYXJlbnRXaW5kb3cgPyB3aW5kb3cuaW5uZXJIZWlnaHQgOiBjb250YWluZXIub2Zmc2V0SGVpZ2h0KTtcblxuICAgIG92ZXJsYXlDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICAvLyBnZXQgdGhlIG1vdXNlIGN1cnNvciBwb3NpdGlvbiBhdCBzdGFydHVwOlxuICAgIHBvczMgPSBlLmNsaWVudFg7XG4gICAgcG9zNCA9IGUuY2xpZW50WTtcbiAgICBkb2N1bWVudC5vbm1vdXNldXAgPSBjbG9zZURyYWdFbGVtZW50O1xuICAgIC8vIGNhbGwgYSBmdW5jdGlvbiB3aGVuZXZlciB0aGUgY3Vyc29yIG1vdmVzOlxuICAgIGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gZWxlbWVudERyYWc7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhZGRpdGlvbmFsIG9mZnNldCB0byBtYXggbGVmdCBhbmQgdG9wIGJhc2VkIG9uIG9yaWVudGF0aW9uIGFuZCBjb250YWluZXIgd2lkdGggKHdpbGwgYmUgYWZmZWN0ZWQgYnkgQ1NTIHN0eWxpbmcgc28gbmVlZHMgdG8gYmUgYWRqdXN0ZWQgYWNjb3JkaW5nbHkpXG4gICAqIC0gZWxtbnQgPT4gaXMgdGhlIG1haW4gY29udGFpbmVyIHRoYXQgaGFzIHRoZSBwb3NpdGlvbmluZyBhcHBsaWVkIHRvXG4gICAqIC0gZHJhZ2dhYmxlRWwgPT4ga2V5IGVsZW1lbnQgdGhhdCBpcyBtZWFuIGZvciBkcmFnZ2luZ1xuICAgKi9cbiAgdmFyIGNoZWNrTWF4TWluUmVzdHJhaW50cyA9IGZ1bmN0aW9uIChuZXdUb3AsIG5ld0xlZnQsIG9mZnNldE1heExlZnQsIG9mZnNldE1heFRvcCkge1xuICAgIHZhciAvLyBtaW5MZWZ0ID0gKGlzVmVydGljYWwgPyBlbG1udC5vZmZzZXRXaWR0aC80IDogMCApLCAvLyBhdHRlbXB0IHRvIHJlc3RyaWN0IHRoZSBjb250YWluZXIgdG8gZ28gb3V0IG9mIGJvdW5kcyBieSBhIGZldyBwaXhlbHMsIG5lZWRzIHNvbWUgd29ya1xuICAgICAgbWluTGVmdCA9IDA7XG4gICAgdmFyIHRvcCA9IChuZXdUb3AgPD0gMCA/IDAgOiBuZXdUb3ApO1xuICAgIHZhciBsZWZ0ID0gKG5ld0xlZnQgPD0gbWluTGVmdCA/IG1pbkxlZnQgOiBuZXdMZWZ0KTtcblxuICAgIGlmIChsZWZ0ID49IG9mZnNldE1heExlZnQpIHtcbiAgICAgIGxlZnQgPSBvZmZzZXRNYXhMZWZ0O1xuICAgIH1cbiAgICBpZiAodG9wID49IG9mZnNldE1heFRvcCkge1xuICAgICAgdG9wID0gb2Zmc2V0TWF4VG9wO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB0b3A6IHRvcCxcbiAgICAgIGxlZnQ6IGxlZnRcbiAgICB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIGVsZW1lbnREcmFnIChlKSB7XG4gICAgZSA9IGUgfHwgd2luZG93LmV2ZW50O1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAvLyBjYWxjdWxhdGUgdGhlIG5ldyBjdXJzb3IgcG9zaXRpb246XG4gICAgdmFyIHBvc1ggPSAoaXNNb2JpbGUpID8gZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VYIDogZS5jbGllbnRYO1xuICAgIHZhciBwb3NZID0gKGlzTW9iaWxlKSA/IGUudGFyZ2V0VG91Y2hlc1swXS5wYWdlWSA6IGUuY2xpZW50WTtcbiAgICB2YXIgaXNWZXJ0aWNhbCA9IGhhc0NsYXNzKGVsbW50LCAnY2wtdmVydGljYWwtbWluaScpO1xuICAgIHZhciBvZmZzZXRNYXhMZWZ0ID0gbWF4TGVmdCAtIHBhcnNlSW50KGVsbW50Lm9mZnNldFdpZHRoICsgKGlzVmVydGljYWwgPyBkcmFnZ2FibGVFbC5vZmZzZXRXaWR0aCAvIDcgOiBkcmFnZ2FibGVFbC5vZmZzZXRXaWR0aCAvIDEuNikpO1xuICAgIHZhciBvZmZzZXRNYXhUb3AgPSBtYXhUb3AgLSBwYXJzZUludChlbG1udC5vZmZzZXRIZWlnaHQgKyAoaXNWZXJ0aWNhbCA/IGRyYWdnYWJsZUVsLm9mZnNldEhlaWdodCAvIDEuMiA6IGRyYWdnYWJsZUVsLm9mZnNldEhlaWdodCAvIDQpKTtcblxuICAgIHBvczEgPSBwb3MzIC0gcG9zWDtcbiAgICBwb3MyID0gcG9zNCAtIHBvc1k7XG4gICAgcG9zMyA9IHBhcnNlSW50KHBvc1gpO1xuICAgIHBvczQgPSBwYXJzZUludChwb3NZKTtcbiAgICBtb3ZpbmcgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAgIGNoZWNrTW92ZW1lbnQoKTtcblxuICAgIGlmICghaGFzQ2xhc3MoZWxtbnQsICdjbC1iZWluZy1tb3ZlZCcpKSBhZGRDbGFzcyhlbG1udCwgJ2NsLWJlaW5nLW1vdmVkJyk7XG5cbiAgICB2YXIgbmV3VG9wID0gKGlzTW9iaWxlKSA/IChwb3NZIC0gcGFyc2VJbnQoZHJhZ2dhYmxlRWwub2Zmc2V0SGVpZ2h0IC8gMikpIDogKGVsbW50Lm9mZnNldFRvcCAtIHBvczIpO1xuICAgIHZhciBuZXdMZWZ0ID0gKGlzTW9iaWxlKSA/IChwb3NYIC0gcGFyc2VJbnQoZHJhZ2dhYmxlRWwub2Zmc2V0V2lkdGggLyAyKSkgOiAoZWxtbnQub2Zmc2V0TGVmdCAtIHBvczEpO1xuICAgIHZhciBsZWZ0VG9wQ2hlY2sgPSBjaGVja01heE1pblJlc3RyYWludHMobmV3VG9wLCBuZXdMZWZ0LCBvZmZzZXRNYXhMZWZ0LCBvZmZzZXRNYXhUb3ApOyAvLyBzZXQgdGhlIGVsZW1lbnQncyBuZXcgcG9zaXRpb246XG5cbiAgICAvLyBzY3JvbGxPYmoyLmlubmVySFRNTCA9IGxlZnRUb3BDaGVjay50b3AgKyBcIi1cIiArIGxlZnRUb3BDaGVjay5sZWZ0ICsgXCIgOiBcIisgbmV3VG9wICsgXCItXCIgKyBuZXdMZWZ0ICsgXCIgOiBcIiArIChwb3NYIDwgMCB8fCBwb3NZIDwgMCB8fCBwb3NYID4gbWF4TGVmdCB8fCBwb3NZID4gbWF4VG9wKSArIFwiLVwiICsgKG5ld1RvcCA+IG9mZnNldE1heFRvcCB8fCBuZXdMZWZ0ID4gb2Zmc2V0TWF4TGVmdCk7XG4gICAgLy8gc2Nyb2xsT2JqMi5pbm5lckhUTUwgPSBsZWZ0VG9wQ2hlY2sudG9wICsgXCItXCIgKyBsZWZ0VG9wQ2hlY2subGVmdCArIFwiIDogXCIrIG5ld1RvcCArXCItXCIrIG5ld0xlZnQgKyBcIiA6IFwiICsgKHBvc1ggPCAwIHx8IHBvc1kgPCAwIHx8IHBvc1ggPiBtYXhMZWZ0IHx8IHBvc1kgPiBtYXhUb3ApICsgXCItXCIgKyAobmV3VG9wID4gb2Zmc2V0TWF4VG9wIHx8IG5ld0xlZnQgPiBvZmZzZXRNYXhMZWZ0KTtcblxuICAgIGlmIChwb3NYIDwgMCB8fCBwb3NZIDwgMCB8fCBwb3NYID4gbWF4TGVmdCB8fCBwb3NZID4gbWF4VG9wKSB7XG4gICAgICBjbG9zZURyYWdFbGVtZW50KGUpO1xuICAgIH0gZWxzZSBpZiAobmV3VG9wID4gb2Zmc2V0TWF4VG9wIHx8IG5ld0xlZnQgPiBvZmZzZXRNYXhMZWZ0KSB7XG4gICAgICBjbG9zZURyYWdFbGVtZW50KGUpO1xuICAgIH0gZWxzZSBpZiAobGVmdFRvcENoZWNrLnRvcCA+IG9mZnNldE1heFRvcCB8fCBsZWZ0VG9wQ2hlY2subGVmdCA+IG9mZnNldE1heExlZnQpIHtcbiAgICAgIGNsb3NlRHJhZ0VsZW1lbnQoZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsbW50LnN0eWxlLnRvcCA9IGxlZnRUb3BDaGVjay50b3AgKyAncHgnO1xuICAgICAgZWxtbnQuc3R5bGUubGVmdCA9IGxlZnRUb3BDaGVjay5sZWZ0ICsgJ3B4JztcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGRyYWdnaW5nID09PSAnZnVuY3Rpb24nKSBkcmFnZ2luZyhuZXdUb3AsIG5ld0xlZnQpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VEcmFnRWxlbWVudCAoZSkge1xuICAgIG92ZXJsYXlDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBpZiAoaXNNb2JpbGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gc3RvcCBtb3Zpbmcgd2hlbiBtb3VzZSBidXR0b24gaXMgcmVsZWFzZWQ6XG4gICAgICBkb2N1bWVudC5vbm1vdXNldXAgPSBudWxsO1xuICAgICAgZG9jdW1lbnQub25tb3VzZW1vdmUgPSBudWxsO1xuICAgIH1cbiAgICBtb3ZpbmcgPSBudWxsO1xuXG4gICAgcmVtb3ZlQ2xhc3MoZWxtbnQsICdjbC1iZWluZy1tb3ZlZCcpO1xuXG4gICAgaWYgKHR5cGVvZiBmaW5pc2hEcmFnZ2luZyA9PT0gJ2Z1bmN0aW9uJykgZmluaXNoRHJhZ2dpbmcoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrTW92ZW1lbnQgKCkge1xuICAgIGlmIChtb3ZlbWVudEludGVydmFsKSB7XG4gICAgICBjbGVhclRpbWVvdXQobW92ZW1lbnRJbnRlcnZhbCk7XG4gICAgfVxuXG4gICAgbW92ZW1lbnRJbnRlcnZhbCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKG1vdmluZyAhPT0gbnVsbCAmJiBtb3ZpbmcgKyAzMDAwIDwgbmV3IERhdGUoKS5nZXRUaW1lKCkgJiYgIWlzTW9iaWxlKSB7XG4gICAgICAgIGNsb3NlRHJhZ0VsZW1lbnQoKTtcbiAgICAgIH0gZWxzZSBpZiAobW92aW5nICE9PSBudWxsKSB7XG4gICAgICAgIGNoZWNrTW92ZW1lbnQoKTtcbiAgICAgIH1cbiAgICB9LCAzMDAwKTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgZHJhZ0VsZW1lbnQ7XG4iLCIvLyBnbG9iYWwgdGltZW91dCBoYW5kbGluZ1xuaW1wb3J0IG1hcE9iamVjdCBmcm9tICcuLi91dGlscy9tYXBPYmplY3QnO1xuXG50cnkge1xuICBpZiAodHlwZW9mIHNldFRpbWVvdXRHbG9iYWwgIT09ICdmdW5jdGlvbicpIHtcbiAgICB3aW5kb3cuX3NldFRpbWVvdXRHbG9iYWxSZXBvc2l0b3J5ID0gW107XG4gICAgd2luZG93LnNldFRpbWVvdXRHbG9iYWwgPSBmdW5jdGlvbiAoaWQsIGZ1bmMsIHRpbWVyKSB7XG4gICAgICB2YXIgZXhpc3RzID0gZmFsc2U7XG4gICAgICBtYXBPYmplY3Qod2luZG93Ll9zZXRUaW1lb3V0R2xvYmFsUmVwb3NpdG9yeSwgZnVuY3Rpb24gKGluc3RhbmNlLCBrZXksIGNvdW50KSB7XG4gICAgICAgIGlmIChpZCA9PT0gaW5zdGFuY2UuaWQpIHtcbiAgICAgICAgICBleGlzdHMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKCFleGlzdHMpIHtcbiAgICAgICAgdmFyIGludGVydmFsID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgbWFwT2JqZWN0KHdpbmRvdy5fc2V0VGltZW91dEdsb2JhbFJlcG9zaXRvcnksIGZ1bmN0aW9uIChpbnN0YW5jZSwga2V5LCBjb3VudCkge1xuICAgICAgICAgICAgaWYgKGlkID09PSBpbnN0YW5jZS5pZCkge1xuICAgICAgICAgICAgICB3aW5kb3cuX3NldFRpbWVvdXRHbG9iYWxSZXBvc2l0b3J5LnNwbGljZShrZXksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiBmdW5jID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBmdW5jKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCB0aW1lcik7XG5cbiAgICAgICAgd2luZG93Ll9zZXRUaW1lb3V0R2xvYmFsUmVwb3NpdG9yeS5wdXNoKHtcbiAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgZnVuYzogZnVuYyxcbiAgICAgICAgICB0aW1lcjogdGltZXIsXG4gICAgICAgICAgaW50ZXJ2YWw6IGludGVydmFsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBpbnRlcnZhbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dEdsb2JhbCAtIElEIFsnICsgaWQgKyAnXSBhbHJlYWR5IGluIHVzZScpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgY2xvc2VUaW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHdpbmRvdy5fc2V0VGltZW91dEdsb2JhbFJlcG9zaXRvcnkubGVuZ3RoID4gMCkge1xuICAgICAgICBtYXBPYmplY3Qod2luZG93Ll9zZXRUaW1lb3V0R2xvYmFsUmVwb3NpdG9yeSwgZnVuY3Rpb24gKGluc3RhbmNlLCBrZXksIGNvdW50KSB7XG4gICAgICAgICAgaWYgKGluc3RhbmNlLmludGVydmFsKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKGluc3RhbmNlLmludGVydmFsKTtcbiAgICAgICAgICAgIGluc3RhbmNlLmludGVydmFsID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgcmVFbmFibGVUaW1lb3V0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh3aW5kb3cuX3NldFRpbWVvdXRHbG9iYWxSZXBvc2l0b3J5Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIHRtcCA9IFtdO1xuICAgICAgICBtYXBPYmplY3Qod2luZG93Ll9zZXRUaW1lb3V0R2xvYmFsUmVwb3NpdG9yeSwgZnVuY3Rpb24gKGluc3RhbmNlLCBrZXksIGNvdW50KSB7XG4gICAgICAgICAgdG1wLnB1c2goaW5zdGFuY2UpO1xuICAgICAgICB9KTtcblxuICAgICAgICB3aW5kb3cuX3NldFRpbWVvdXRHbG9iYWxSZXBvc2l0b3J5ID0gW107XG4gICAgICAgIG1hcE9iamVjdCh0bXAsIGZ1bmN0aW9uIChpbnN0YW5jZSwga2V5LCBjb3VudCkge1xuICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0R2xvYmFsKGluc3RhbmNlLmlkLCBpbnN0YW5jZS5mdW5jLCBpbnN0YW5jZS50aW1lcik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgd2luZG93QWN0aXZpdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaGlkZGVuID0gJ2hpZGRlbic7XG5cbiAgICAgICAgLy8gU3RhbmRhcmRzOlxuICAgICAgICBpZiAoaGlkZGVuIGluIGRvY3VtZW50KSB7XG4gICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIG9uY2hhbmdlKTtcbiAgICAgICAgfSBlbHNlIGlmICgoaGlkZGVuID0gJ21vekhpZGRlbicpIGluIGRvY3VtZW50KSB7XG4gICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW96dmlzaWJpbGl0eWNoYW5nZScsIG9uY2hhbmdlKTtcbiAgICAgICAgfSBlbHNlIGlmICgoaGlkZGVuID0gJ3dlYmtpdEhpZGRlbicpIGluIGRvY3VtZW50KSB7XG4gICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignd2Via2l0dmlzaWJpbGl0eWNoYW5nZScsIG9uY2hhbmdlKTtcbiAgICAgICAgfSBlbHNlIGlmICgoaGlkZGVuID0gJ21zSGlkZGVuJykgaW4gZG9jdW1lbnQpIHtcbiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtc3Zpc2liaWxpdHljaGFuZ2UnLCBvbmNoYW5nZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoJ29uZm9jdXNpbicgaW4gZG9jdW1lbnQpIHsgLy8gSUUgOSBhbmQgbG93ZXI6XG4gICAgICAgICAgZG9jdW1lbnQub25mb2N1c2luID0gZG9jdW1lbnQub25mb2N1c291dCA9IG9uY2hhbmdlO1xuICAgICAgICB9IGVsc2UgeyAvLyBBbGwgb3RoZXJzOlxuICAgICAgICAgIHdpbmRvdy5vbnBhZ2VzaG93ID0gd2luZG93Lm9ucGFnZWhpZGUgPSB3aW5kb3cub25mb2N1cyA9IHdpbmRvdy5vbmJsdXIgPSBvbmNoYW5nZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG9uY2hhbmdlIChldnQpIHtcbiAgICAgICAgICB2YXIgc3RhdHVzID0gJyc7XG4gICAgICAgICAgdmFyIHYgPSAndmlzaWJsZSc7XG4gICAgICAgICAgdmFyIGggPSAnaGlkZGVuJztcbiAgICAgICAgICB2YXIgZXZ0TWFwID0ge1xuICAgICAgICAgICAgZm9jdXM6IHYsIGZvY3VzaW46IHYsIHBhZ2VzaG93OiB2LCBibHVyOiBoLCBmb2N1c291dDogaCwgcGFnZWhpZGU6IGhcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgZXZ0ID0gZXZ0IHx8IHdpbmRvdy5ldmVudDtcbiAgICAgICAgICBpZiAoZXZ0LnR5cGUgaW4gZXZ0TWFwKSB7XG4gICAgICAgICAgICBzdGF0dXMgPSBldnRNYXBbZXZ0LnR5cGVdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGF0dXMgPSB0aGlzW2hpZGRlbl0gPyAnaGlkZGVuJyA6ICd2aXNpYmxlJztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc3RhdHVzID09PSAndmlzaWJsZScpIHtcbiAgICAgICAgICAgIHJlRW5hYmxlVGltZW91dHMoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gJ2hpZGRlbicpIHtcbiAgICAgICAgICAgIGNsb3NlVGltZW91dCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldCB0aGUgaW5pdGlhbCBzdGF0ZSAoYnV0IG9ubHkgaWYgYnJvd3NlciBzdXBwb3J0cyB0aGUgUGFnZSBWaXNpYmlsaXR5IEFQSSlcbiAgICAgICAgaWYgKGRvY3VtZW50W2hpZGRlbl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG9uY2hhbmdlKHsgdHlwZTogZG9jdW1lbnRbaGlkZGVuXSA/ICdibHVyJyA6ICdmb2N1cycgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pKCk7XG4gICAgfTtcblxuICAgIHdpbmRvd0FjdGl2aXR5KCk7XG4gIH1cbn0gY2F0Y2ggKGVycikge1xuICBjb25zb2xlLmxvZyhlcnIpO1xufVxuIiwiLy9cbmlmICghd2luZG93LmNvbnNvbGUpIHtcbiAgd2luZG93LmNvbnNvbGUgPSBmdW5jdGlvbiAoKSB7XG4gIH07XG5cbiAgaWYgKHR5cGVvZiBYRG9tYWluUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB3aW5kb3cuY29uc29sZS5wcm90b3R5cGUubG9nID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKGVycik7XG4gICAgfTtcbiAgICB3aW5kb3cuY29uc29sZS5wcm90b3R5cGUud2FybiA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihlcnIpO1xuICAgIH07XG4gICAgd2luZG93LmNvbnNvbGUucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKGVycik7XG4gICAgfTtcbiAgfVxufVxuXG4vL1xudHJ5IHtcbiAgRXZlbnQucHJvdG90eXBlLnByZXZlbnREZWZhdWx0IHx8IChFdmVudC5wcm90b3R5cGUucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5yZXR1cm5WYWx1ZSA9ICExO1xuICB9KTtcbn0gY2F0Y2ggKGVycikge1xuICBjb25zb2xlLmxvZyhlcnIpO1xufVxuXG4vL1xudHJ5IHtcbiAgRXZlbnQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbiB8fCAoRXZlbnQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmNhbmNlbEJ1YmJsZSA9ICEwO1xuICB9KTtcbn0gY2F0Y2ggKGVycikge1xuICBjb25zb2xlLmxvZyhlcnIpO1xufVxuXG4vL1xudHJ5IHtcbiAgaWYgKCFFbGVtZW50LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgdmFyIGV2ZW50TGlzdGVuZXJzID0gW107IHZhciBhZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKGUsIHQpIHtcbiAgICAgIHZhciBuOyB2YXIgciA9IHRoaXM7XG4gICAgICBpZiAobiA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUudGFyZ2V0ID0gZS5zcmNFbGVtZW50LCBlLmN1cnJlbnRUYXJnZXQgPSByLCBlLnBhZ2VYID0gZXZlbnQuY2xpZW50WCArIGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCwgZS5wYWdlWSA9IGV2ZW50LmNsaWVudFkgKyBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCwgdC5oYW5kbGVFdmVudCA/IHQuaGFuZGxlRXZlbnQoZSkgOiB0LmNhbGwociwgZSk7XG4gICAgICB9LCBlID09PSAnRE9NQ29udGVudExvYWRlZCcpIHtcbiAgICAgICAgdmFyIG8gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScgJiYgbihlKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGRvY3VtZW50LmF0dGFjaEV2ZW50KCdvbnJlYWR5c3RhdGVjaGFuZ2UnLCBvKSwgZXZlbnRMaXN0ZW5lcnMucHVzaCh7XG4gICAgICAgICAgb2JqZWN0OiB0aGlzLFxuICAgICAgICAgIHR5cGU6IGUsXG4gICAgICAgICAgbGlzdGVuZXI6IHQsXG4gICAgICAgICAgd3JhcHBlcjogb1xuICAgICAgICB9KSwgZG9jdW1lbnQucmVhZHlTdGF0ZSA9PSAnY29tcGxldGUnKSB7XG4gICAgICAgICAgdmFyIGkgPSBuZXcgRXZlbnQoKTtcbiAgICAgICAgICBpLnNyY0VsZW1lbnQgPSB3aW5kb3csIG8oaSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB0aGlzLmF0dGFjaEV2ZW50KCdvbicgKyBlLCBuKSwgZXZlbnRMaXN0ZW5lcnMucHVzaCh7IG9iamVjdDogdGhpcywgdHlwZTogZSwgbGlzdGVuZXI6IHQsIHdyYXBwZXI6IG4gfSk7XG4gICAgfTsgdmFyIHJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZSwgdCkge1xuICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBldmVudExpc3RlbmVycy5sZW5ndGg7KSB7XG4gICAgICAgIHZhciByID0gZXZlbnRMaXN0ZW5lcnNbbl07XG4gICAgICAgIGlmIChyLm9iamVjdCA9PSB0aGlzICYmIHIudHlwZSA9PSBlICYmIHIubGlzdGVuZXIgPT0gdCkge1xuICAgICAgICAgIGUgPT0gJ0RPTUNvbnRlbnRMb2FkZWQnID8gdGhpcy5kZXRhY2hFdmVudCgnb25yZWFkeXN0YXRlY2hhbmdlJywgci53cmFwcGVyKSA6IHRoaXMuZGV0YWNoRXZlbnQoJ29uJyArIGUsIHIud3JhcHBlcik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgKytuO1xuICAgICAgfVxuICAgIH07XG4gICAgRWxlbWVudC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGFkZEV2ZW50TGlzdGVuZXIsIEVsZW1lbnQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSByZW1vdmVFdmVudExpc3RlbmVyLCBIVE1MRG9jdW1lbnQgJiYgKEhUTUxEb2N1bWVudC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGFkZEV2ZW50TGlzdGVuZXIsIEhUTUxEb2N1bWVudC5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IHJlbW92ZUV2ZW50TGlzdGVuZXIpLCBXaW5kb3cgJiYgKFdpbmRvdy5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGFkZEV2ZW50TGlzdGVuZXIsIFdpbmRvdy5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IHJlbW92ZUV2ZW50TGlzdGVuZXIpO1xuICB9XG4gIEVsZW1lbnQucHJvdG90eXBlLnJlbW92ZSB8fCAoRWxlbWVudC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgfSwgTm9kZUxpc3QucHJvdG90eXBlLnJlbW92ZSA9IEhUTUxDb2xsZWN0aW9uLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgZSA9IDAsIHQgPSB0aGlzLmxlbmd0aDsgdCA+IGU7IGUrKykgdGhpc1tlXSAmJiB0aGlzW2VdLnBhcmVudEVsZW1lbnQgJiYgdGhpc1tlXS5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXNbZV0pO1xuICB9KTtcbn0gY2F0Y2ggKGVycikge1xuICBjb25zb2xlLmxvZyhlcnIpO1xufVxudHlwZW9mIFhEb21haW5SZXF1ZXN0ICE9PSAndW5kZWZpbmVkJyAmJiAodHlwZW9mIHdpbmRvdy5KU09OICE9PSAnb2JqZWN0JyAmJiAod2luZG93LkpTT04gPSB7fSksIChmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBmdW5jdGlvbiBmIChlKSB7XG4gICAgcmV0dXJuIGUgPCAxMCA/ICcwJyArIGUgOiBlO1xuICB9XG5cbiAgZnVuY3Rpb24gcXVvdGUgKGUpIHtcbiAgICByZXR1cm4gZXNjYXBhYmxlLmxhc3RJbmRleCA9IDAsIGVzY2FwYWJsZS50ZXN0KGUpID8gJ1wiJyArIGUucmVwbGFjZShlc2NhcGFibGUsIGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgdCA9IG1ldGFbZV07XG4gICAgICByZXR1cm4gdHlwZW9mIHQgPT09ICdzdHJpbmcnID8gdCA6ICdcXFxcdScgKyAoJzAwMDAnICsgZS5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpO1xuICAgIH0pICsgJ1wiJyA6ICdcIicgKyBlICsgJ1wiJztcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0ciAoZSwgdCkge1xuICAgIHZhciBuOyB2YXIgcjsgdmFyIG87IHZhciBpOyB2YXIgYTsgdmFyIHAgPSBnYXA7IHZhciB1ID0gdFtlXTtcbiAgICBzd2l0Y2ggKHUgJiYgdHlwZW9mIHUgPT09ICdvYmplY3QnICYmIHR5cGVvZiB1LnRvSlNPTiA9PT0gJ2Z1bmN0aW9uJyAmJiAodSA9IHUudG9KU09OKGUpKSwgdHlwZW9mIHJlcCA9PT0gJ2Z1bmN0aW9uJyAmJiAodSA9IHJlcC5jYWxsKHQsIGUsIHUpKSwgdHlwZW9mIHUpIHtcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIHJldHVybiBxdW90ZSh1KTtcbiAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgIHJldHVybiBpc0Zpbml0ZSh1KSA/IFN0cmluZyh1KSA6ICdudWxsJztcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgY2FzZSAnbnVsbCc6XG4gICAgICAgIHJldHVybiBTdHJpbmcodSk7XG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICBpZiAoIXUpIHJldHVybiAnbnVsbCc7XG4gICAgICAgIGlmIChnYXAgKz0gaW5kZW50LCBhID0gW10sIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuYXBwbHkodSkgPT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgICAgICBmb3IgKGkgPSB1Lmxlbmd0aCwgbiA9IDA7IGkgPiBuOyBuICs9IDEpIGFbbl0gPSBzdHIobiwgdSkgfHwgJ251bGwnO1xuICAgICAgICAgIHJldHVybiBvID0gYS5sZW5ndGggPT09IDAgPyAnW10nIDogZ2FwID8gJ1tcXG4nICsgZ2FwICsgYS5qb2luKCcsXFxuJyArIGdhcCkgKyAnXFxuJyArIHAgKyAnXScgOiAnWycgKyBhLmpvaW4oJywnKSArICddJywgZ2FwID0gcCwgbztcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVwICYmIHR5cGVvZiByZXAgPT09ICdvYmplY3QnKSBmb3IgKGkgPSByZXAubGVuZ3RoLCBuID0gMDsgaSA+IG47IG4gKz0gMSkgdHlwZW9mIHJlcFtuXSA9PT0gJ3N0cmluZycgJiYgKHIgPSByZXBbbl0sIG8gPSBzdHIociwgdSksIG8gJiYgYS5wdXNoKHF1b3RlKHIpICsgKGdhcCA/ICc6ICcgOiAnOicpICsgbykpOyBlbHNlIGZvciAociBpbiB1KSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodSwgcikgJiYgKG8gPSBzdHIociwgdSksIG8gJiYgYS5wdXNoKHF1b3RlKHIpICsgKGdhcCA/ICc6ICcgOiAnOicpICsgbykpO1xuICAgICAgICByZXR1cm4gbyA9IGEubGVuZ3RoID09PSAwID8gJ3t9JyA6IGdhcCA/ICd7XFxuJyArIGdhcCArIGEuam9pbignLFxcbicgKyBnYXApICsgJ1xcbicgKyBwICsgJ30nIDogJ3snICsgYS5qb2luKCcsJykgKyAnfScsIGdhcCA9IHAsIG87XG4gICAgfVxuICB9XG5cbiAgdHlwZW9mIERhdGUucHJvdG90eXBlLnRvSlNPTiAhPT0gJ2Z1bmN0aW9uJyAmJiAoRGF0ZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBpc0Zpbml0ZSh0aGlzLnZhbHVlT2YoKSkgPyB0aGlzLmdldFVUQ0Z1bGxZZWFyKCkgKyAnLScgKyBmKHRoaXMuZ2V0VVRDTW9udGgoKSArIDEpICsgJy0nICsgZih0aGlzLmdldFVUQ0RhdGUoKSkgKyAnVCcgKyBmKHRoaXMuZ2V0VVRDSG91cnMoKSkgKyAnOicgKyBmKHRoaXMuZ2V0VVRDTWludXRlcygpKSArICc6JyArIGYodGhpcy5nZXRVVENTZWNvbmRzKCkpICsgJ1onIDogbnVsbDtcbiAgfSwgU3RyaW5nLnByb3RvdHlwZS50b0pTT04gPSBOdW1iZXIucHJvdG90eXBlLnRvSlNPTiA9IEJvb2xlYW4ucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZU9mKCk7XG4gIH0pO1xuICB2YXIgY3gsIGVzY2FwYWJsZSwgZ2FwLCBpbmRlbnQsIG1ldGEsIHJlcDtcbiAgdHlwZW9mIHdpbmRvdy5KU09OLnN0cmluZ2lmeSAhPT0gJ2Z1bmN0aW9uJyAmJiAoZXNjYXBhYmxlID0gL1tcXFxcXFxcIlxceDAwLVxceDFmXFx4N2YtXFx4OWZcXHUwMGFkXFx1MDYwMC1cXHUwNjA0XFx1MDcwZlxcdTE3YjRcXHUxN2I1XFx1MjAwYy1cXHUyMDBmXFx1MjAyOC1cXHUyMDJmXFx1MjA2MC1cXHUyMDZmXFx1ZmVmZlxcdWZmZjAtXFx1ZmZmZl0vZywgbWV0YSA9IHtcbiAgICAnXFxiJzogJ1xcXFxiJyxcbiAgICAnXHQnOiAnXFxcXHQnLFxuICAgICdcXG4nOiAnXFxcXG4nLFxuICAgICdcXGYnOiAnXFxcXGYnLFxuICAgICdcXHInOiAnXFxcXHInLFxuICAgICdcIic6ICdcXFxcXCInLFxuICAgICdcXFxcJzogJ1xcXFxcXFxcJ1xuICB9LCB3aW5kb3cuSlNPTi5zdHJpbmdpZnkgPSBmdW5jdGlvbiAoZSwgdCwgbikge1xuICAgIHZhciByO1xuICAgIGlmIChnYXAgPSAnJywgaW5kZW50ID0gJycsIHR5cGVvZiBuID09PSAnbnVtYmVyJykgZm9yIChyID0gMDsgbiA+IHI7IHIgKz0gMSkgaW5kZW50ICs9ICcgJzsgZWxzZSB0eXBlb2YgbiA9PT0gJ3N0cmluZycgJiYgKGluZGVudCA9IG4pO1xuICAgIGlmIChyZXAgPSB0LCB0ICYmIHR5cGVvZiB0ICE9PSAnZnVuY3Rpb24nICYmICh0eXBlb2YgdCAhPT0gJ29iamVjdCcgfHwgdHlwZW9mIHQubGVuZ3RoICE9PSAnbnVtYmVyJykpIHRocm93IG5ldyBFcnJvcignSlNPTi5zdHJpbmdpZnknKTtcbiAgICByZXR1cm4gc3RyKCcnLCB7ICcnOiBlIH0pO1xuICB9KSwgdHlwZW9mIHdpbmRvdy5KU09OLnBhcnNlICE9PSAnZnVuY3Rpb24nICYmIChjeCA9IC9bXFx1MDAwMFxcdTAwYWRcXHUwNjAwLVxcdTA2MDRcXHUwNzBmXFx1MTdiNFxcdTE3YjVcXHUyMDBjLVxcdTIwMGZcXHUyMDI4LVxcdTIwMmZcXHUyMDYwLVxcdTIwNmZcXHVmZWZmXFx1ZmZmMC1cXHVmZmZmXS9nLCB3aW5kb3cuSlNPTi5wYXJzZSA9IGZ1bmN0aW9uICh0ZXh0LCByZXZpdmVyKSB7XG4gICAgZnVuY3Rpb24gd2FsayAoZSwgdCkge1xuICAgICAgdmFyIG47IHZhciByOyB2YXIgbyA9IGVbdF07XG4gICAgICBpZiAobyAmJiB0eXBlb2YgbyA9PT0gJ29iamVjdCcpIGZvciAobiBpbiBvKSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgbikgJiYgKHIgPSB3YWxrKG8sIG4pLCB2b2lkIDAgIT09IHIgPyBvW25dID0gciA6IGRlbGV0ZSBvW25dKTtcbiAgICAgIHJldHVybiByZXZpdmVyLmNhbGwoZSwgdCwgbyk7XG4gICAgfVxuXG4gICAgdmFyIGo7XG4gICAgaWYgKHRleHQgPSBTdHJpbmcodGV4dCksIGN4Lmxhc3RJbmRleCA9IDAsIGN4LnRlc3QodGV4dCkgJiYgKHRleHQgPSB0ZXh0LnJlcGxhY2UoY3gsIGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gJ1xcXFx1JyArICgnMDAwMCcgKyBlLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtNCk7XG4gICAgfSkpLCAvXltcXF0sOnt9XFxzXSokLy50ZXN0KHRleHQucmVwbGFjZSgvXFxcXCg/OltcIlxcXFxcXC9iZm5ydF18dVswLTlhLWZBLUZdezR9KS9nLCAnQCcpLnJlcGxhY2UoL1wiW15cIlxcXFxcXG5cXHJdKlwifHRydWV8ZmFsc2V8bnVsbHwtP1xcZCsoPzpcXC5cXGQqKT8oPzpbZUVdWytcXC1dP1xcZCspPy9nLCAnXScpLnJlcGxhY2UoLyg/Ol58OnwsKSg/OlxccypcXFspKy9nLCAnJykpKSByZXR1cm4gaiA9IGV2YWwoJygnICsgdGV4dCArICcpJyksIHR5cGVvZiByZXZpdmVyID09PSAnZnVuY3Rpb24nID8gd2Fsayh7ICcnOiBqIH0sICcnKSA6IGo7XG4gICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdKU09OLnBhcnNlJyk7XG4gIH0pO1xufSgpKSk7XG5cbi8vXG52YXIgX3NsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuXG50cnkge1xuICBfc2xpY2UuY2FsbChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpO1xufSBjYXRjaCAoZSkge1xuICBBcnJheS5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiAodCwgZSkge1xuICAgIGlmIChlID0gdHlwZW9mIGUgIT09ICd1bmRlZmluZWQnID8gZSA6IHRoaXMubGVuZ3RoLCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodGhpcykgPT09ICdbb2JqZWN0IEFycmF5XScpIHJldHVybiBfc2xpY2UuY2FsbCh0aGlzLCB0LCBlKTtcbiAgICB2YXIgcjsgdmFyIGk7IHZhciBjID0gW107IHZhciBsID0gdGhpcy5sZW5ndGg7IHZhciBvID0gdCB8fCAwO1xuICAgIG8gPSBvID49IDAgPyBvIDogbCArIG87XG4gICAgdmFyIGEgPSBlIHx8IGw7XG4gICAgaWYgKGUgPCAwICYmIChhID0gbCArIGUpLCBpID0gYSAtIG8sIGkgPiAwKSBpZiAoYyA9IG5ldyBBcnJheShpKSwgdGhpcy5jaGFyQXQpIGZvciAociA9IDA7IGkgPiByOyByKyspIGNbcl0gPSB0aGlzLmNoYXJBdChvICsgcik7IGVsc2UgZm9yIChyID0gMDsgaSA+IHI7IHIrKykgY1tyXSA9IHRoaXNbbyArIHJdO1xuICAgIHJldHVybiBjO1xuICB9O1xufVxuXG4vLyBbRXZlbnRTb3VyY2VdIFBvbHlmaWxsIGZpeDogaHR0cHM6Ly9naXRodWIuY29tL3JlbXkvcG9seWZpbGxzL2Jsb2IvbWFzdGVyL0V2ZW50U291cmNlLmpzXG5cbihmdW5jdGlvbiAoZ2xvYmFsKSB7XG4gIGlmICgnRXZlbnRTb3VyY2UnIGluIGdsb2JhbCkgcmV0dXJuO1xuICB2YXIgcmVUcmltID0gL14oXFxzfFxcdTAwQTApK3woXFxzfFxcdTAwQTApKyQvZztcbiAgdmFyIEV2ZW50U291cmNlID0gZnVuY3Rpb24gKHVybCkge1xuICAgIHZhciBldmVudHNvdXJjZSA9IHRoaXM7IHZhciBpbnRlcnZhbCA9IDUwMDsgLyogcG9sbGluZyBpbnRlcnZhbCAgKi8gdmFyIGxhc3RFdmVudElkID0gbnVsbDsgdmFyIGNhY2hlID0gJyc7XG4gICAgaWYgKCF1cmwgfHwgdHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignTm90IGVub3VnaCBhcmd1bWVudHMnKTtcbiAgICB9XG4gICAgdGhpcy5VUkwgPSB1cmw7XG4gICAgdGhpcy5yZWFkeVN0YXRlID0gdGhpcy5DT05ORUNUSU5HO1xuICAgIHRoaXMuX3BvbGxUaW1lciA9IG51bGw7XG4gICAgdGhpcy5feGhyID0gbnVsbDtcblxuICAgIGZ1bmN0aW9uIHBvbGxBZ2FpbiAoaW50ZXJ2YWwpIHtcbiAgICAgIGV2ZW50c291cmNlLl9wb2xsVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcG9sbC5jYWxsKGV2ZW50c291cmNlKTtcbiAgICAgIH0sIGludGVydmFsKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwb2xsICgpIHtcbiAgICAgIHRyeSB7IC8qIGZvcmNlIGhpZGluZyBvZiB0aGUgZXJyb3IgbWVzc2FnZS4uLiBpbnNhbmU/ICovXG4gICAgICAgIGlmIChldmVudHNvdXJjZS5yZWFkeVN0YXRlID09PSBldmVudHNvdXJjZS5DTE9TRUQpIHJldHVybjsgLyogTk9URTogSUU3IGFuZCB1cHdhcmRzIHN1cHBvcnQgKi9cbiAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICB4aHIub3BlbignR0VUJywgZXZlbnRzb3VyY2UuVVJMLCB0cnVlKTtcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICd0ZXh0L2V2ZW50LXN0cmVhbScpO1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ2FjaGUtQ29udHJvbCcsICduby1jYWNoZScpOyAvKiB3ZSBtdXN0IG1ha2UgdXNlIG9mIHRoaXMgb24gdGhlIHNlcnZlciBzaWRlIGlmIHdlJ3JlIHdvcmtpbmcgd2l0aCBBbmRyb2lkIC0gYmVjYXVzZSB0aGV5IGRvbid0IHRyaWdnZXIgcmVhZHljaGFuZ2UgdW50aWwgdGhlIHNlcnZlciBjb25uZWN0aW9uIGlzIGNsb3NlZCAqL1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignWC1SZXF1ZXN0ZWQtV2l0aCcsICdYTUxIdHRwUmVxdWVzdCcpO1xuICAgICAgICBpZiAobGFzdEV2ZW50SWQgIT0gbnVsbCkgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0xhc3QtRXZlbnQtSUQnLCBsYXN0RXZlbnRJZCk7XG4gICAgICAgIGNhY2hlID0gJyc7XG4gICAgICAgIHhoci50aW1lb3V0ID0gNTAwMDA7XG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PSAzIHx8ICh0aGlzLnJlYWR5U3RhdGUgPT0gNCAmJiB0aGlzLnN0YXR1cyA9PSAyMDApKSB7IC8qIG9uIHN1Y2Nlc3MgKi9cbiAgICAgICAgICAgIGlmIChldmVudHNvdXJjZS5yZWFkeVN0YXRlID09IGV2ZW50c291cmNlLkNPTk5FQ1RJTkcpIHtcbiAgICAgICAgICAgICAgZXZlbnRzb3VyY2UucmVhZHlTdGF0ZSA9IGV2ZW50c291cmNlLk9QRU47XG4gICAgICAgICAgICAgIGV2ZW50c291cmNlLmRpc3BhdGNoRXZlbnQoJ29wZW4nLCB7IHR5cGU6ICdvcGVuJyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciByZXNwb25zZVRleHQgPSAnJztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJlc3BvbnNlVGV4dCA9IHRoaXMucmVzcG9uc2VUZXh0IHx8ICcnO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgfSAvKiBwcm9jZXNzIHRoaXMucmVzcG9uc2VUZXh0ICovXG4gICAgICAgICAgICB2YXIgcGFydHMgPSByZXNwb25zZVRleHQuc3Vic3RyKGNhY2hlLmxlbmd0aCkuc3BsaXQoJ1xcbicpOyB2YXIgZXZlbnRUeXBlID0gJ21lc3NhZ2UnOyB2YXIgZGF0YSA9IFtdOyB2YXIgaSA9IDA7XG4gICAgICAgICAgICB2YXIgbGluZSA9ICcnO1xuICAgICAgICAgICAgY2FjaGUgPSByZXNwb25zZVRleHQ7IC8qIFRPRE8gaGFuZGxlICdldmVudCcgKGZvciBidWZmZXIgbmFtZSksIHJldHJ5ICovXG4gICAgICAgICAgICBmb3IgKDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGxpbmUgPSBwYXJ0c1tpXS5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICAgICAgICAgICAgICBpZiAobGluZS5pbmRleE9mKCdldmVudCcpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZXZlbnRUeXBlID0gbGluZS5yZXBsYWNlKC9ldmVudDo/XFxzKi8sICcnKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5lLmluZGV4T2YoJ3JldHJ5JykgPT09IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgcmV0cnkgPSBwYXJzZUludChsaW5lLnJlcGxhY2UoL3JldHJ5Oj9cXHMqLywgJycpKTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKHJldHJ5KSkge1xuICAgICAgICAgICAgICAgICAgaW50ZXJ2YWwgPSByZXRyeTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAobGluZS5pbmRleE9mKCdkYXRhJykgPT09IDApIHtcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2gobGluZS5yZXBsYWNlKC9kYXRhOj9cXHMqLywgJycpKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5lLmluZGV4T2YoJ2lkOicpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgbGFzdEV2ZW50SWQgPSBsaW5lLnJlcGxhY2UoL2lkOj9cXHMqLywgJycpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxpbmUuaW5kZXhPZignaWQnKSA9PT0gMCkgeyAvKiB0aGlzIHJlc2V0cyB0aGUgaWQgKi9cbiAgICAgICAgICAgICAgICBsYXN0RXZlbnRJZCA9IG51bGw7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAobGluZSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBldmVudCA9IG5ldyBNZXNzYWdlRXZlbnQoZGF0YS5qb2luKCdcXG4nKSwgZXZlbnRzb3VyY2UudXJsLCBsYXN0RXZlbnRJZCk7XG4gICAgICAgICAgICAgICAgICBldmVudHNvdXJjZS5kaXNwYXRjaEV2ZW50KGV2ZW50VHlwZSwgZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgZGF0YSA9IFtdO1xuICAgICAgICAgICAgICAgICAgZXZlbnRUeXBlID0gJ21lc3NhZ2UnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gNCkgcG9sbEFnYWluKGludGVydmFsKTsgLyogZG9uJ3QgbmVlZCB0byBwb2xsIGFnYWluLCBiZWNhdXNlIHdlJ3JlIGxvbmctbG9hZGluZyAqL1xuICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnRzb3VyY2UucmVhZHlTdGF0ZSAhPT0gZXZlbnRzb3VyY2UuQ0xPU0VEKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSA0KSB7IC8qIGFuZCBzb21lIG90aGVyIHN0YXR1cyBkaXNwYXRjaCBlcnJvciAqL1xuICAgICAgICAgICAgICBldmVudHNvdXJjZS5yZWFkeVN0YXRlID0gZXZlbnRzb3VyY2UuQ09OTkVDVElORztcbiAgICAgICAgICAgICAgZXZlbnRzb3VyY2UuZGlzcGF0Y2hFdmVudCgnZXJyb3InLCB7IHR5cGU6ICdlcnJvcicgfSk7XG4gICAgICAgICAgICAgIHBvbGxBZ2FpbihpbnRlcnZhbCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gMCkgeyAvKiBsaWtlbHkgYWJvcnRlZCAqL1xuICAgICAgICAgICAgICBwb2xsQWdhaW4oaW50ZXJ2YWwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHhoci5zZW5kKCk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICh0cnVlIHx8IHhoci5yZWFkeVN0YXRlID09PSAzKSB4aHIuYWJvcnQoKTtcbiAgICAgICAgfSwgeGhyLnRpbWVvdXQpO1xuICAgICAgICBldmVudHNvdXJjZS5feGhyID0geGhyO1xuICAgICAgfSBjYXRjaCAoZSkgeyAvKiBpbiBhbiBhdHRlbXB0IHRvIHNpbGVuY2UgdGhlIGVycm9ycyAqL1xuICAgICAgICBldmVudHNvdXJjZS5kaXNwYXRjaEV2ZW50KCdlcnJvcicsIHsgdHlwZTogJ2Vycm9yJywgZGF0YTogZS5tZXNzYWdlIH0pOyAvKiA/Pz8gKi9cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcG9sbCgpOyAvKiBpbml0IG5vdyAqL1xuICB9O1xuICBFdmVudFNvdXJjZS5wcm90b3R5cGUgPSB7XG4gICAgY2xvc2U6IGZ1bmN0aW9uICgpIHsgLyogY2xvc2VzIHRoZSBjb25uZWN0aW9uIC0gZGlzYWJsaW5nIHRoZSBwb2xsaW5nICovXG4gICAgICB0aGlzLnJlYWR5U3RhdGUgPSB0aGlzLkNMT1NFRDtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5fcG9sbFRpbWVyKTtcbiAgICAgIHRoaXMuX3hoci5hYm9ydCgpO1xuICAgIH0sXG4gICAgQ09OTkVDVElORzogMCxcbiAgICBPUEVOOiAxLFxuICAgIENMT1NFRDogMixcbiAgICBkaXNwYXRjaEV2ZW50OiBmdW5jdGlvbiAodHlwZSwgZXZlbnQpIHtcbiAgICAgIHZhciBoYW5kbGVycyA9IHRoaXNbJ18nICsgdHlwZSArICdIYW5kbGVycyddO1xuICAgICAgaWYgKGhhbmRsZXJzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGFuZGxlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBoYW5kbGVyc1tpXS5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRoaXNbJ29uJyArIHR5cGVdKSB7XG4gICAgICAgIHRoaXNbJ29uJyArIHR5cGVdLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgfVxuICAgIH0sXG4gICAgYWRkRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gKHR5cGUsIGhhbmRsZXIpIHtcbiAgICAgIGlmICghdGhpc1snXycgKyB0eXBlICsgJ0hhbmRsZXJzJ10pIHtcbiAgICAgICAgdGhpc1snXycgKyB0eXBlICsgJ0hhbmRsZXJzJ10gPSBbXTtcbiAgICAgIH1cbiAgICAgIHRoaXNbJ18nICsgdHlwZSArICdIYW5kbGVycyddLnB1c2goaGFuZGxlcik7XG4gICAgfSxcbiAgICByZW1vdmVFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAodHlwZSwgaGFuZGxlcikge1xuICAgICAgdmFyIGhhbmRsZXJzID0gdGhpc1snXycgKyB0eXBlICsgJ0hhbmRsZXJzJ107XG4gICAgICBpZiAoIWhhbmRsZXJzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSBoYW5kbGVycy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICBpZiAoaGFuZGxlcnNbaV0gPT09IGhhbmRsZXIpIHtcbiAgICAgICAgICBoYW5kbGVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIG9uZXJyb3I6IG51bGwsXG4gICAgb25tZXNzYWdlOiBudWxsLFxuICAgIG9ub3BlbjogbnVsbCxcbiAgICByZWFkeVN0YXRlOiAwLFxuICAgIFVSTDogJydcbiAgfTtcbiAgdmFyIE1lc3NhZ2VFdmVudCA9IGZ1bmN0aW9uIChkYXRhLCBvcmlnaW4sIGxhc3RFdmVudElkKSB7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB0aGlzLm9yaWdpbiA9IG9yaWdpbjtcbiAgICB0aGlzLmxhc3RFdmVudElkID0gbGFzdEV2ZW50SWQgfHwgJyc7XG4gIH07XG4gIE1lc3NhZ2VFdmVudC5wcm90b3R5cGUgPSB7IGRhdGE6IG51bGwsIHR5cGU6ICdtZXNzYWdlJywgbGFzdEV2ZW50SWQ6ICcnLCBvcmlnaW46ICcnIH07XG4gIGlmICgnbW9kdWxlJyBpbiBnbG9iYWwpIG1vZHVsZS5leHBvcnRzID0gRXZlbnRTb3VyY2U7XG4gIGdsb2JhbC5FdmVudFNvdXJjZSA9IEV2ZW50U291cmNlO1xufSkod2luZG93KTtcbiIsIi8qKlxuICogQXBwL0FwcGVuZCBuZXcgY2xhc3Mgc3RyaW5nIHRvIHRoZSBwcm92aWRlZCBET00gZWxlbWVudFxuICogQG1lbWJlck9mIG1vZHVsZTp1dGlsc1xuICogQHN0YXRpY1xuICogQHBhcmFtIGVsZW1lbnRcbiAqIEBwYXJhbSBjbGFzc05hbWVcbiAqIEByZXR1cm5zIHt7Y2xhc3NMaXN0fXwqfVxuICovXG5jb25zdCBhZGRDbGFzcyA9IGZ1bmN0aW9uIChlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgdHJ5IHtcbiAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50LmNsYXNzTmFtZSArPSAnICcgKyBjbGFzc05hbWU7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS50cmFjZSgpO1xuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnQ7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBhZGRDbGFzcztcbiIsImNvbnN0IGFwcGVuZE5leHQgPSBmdW5jdGlvbiAoZWwsIG5ld05vZGUpIHtcbiAgaWYgKGVsLm5leHRTaWJsaW5nKSB7XG4gICAgZWwucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3Tm9kZSwgZWwubmV4dFNpYmxpbmcpO1xuICB9IGVsc2Uge1xuICAgIGVsLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQobmV3Tm9kZSk7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGFwcGVuZE5leHQ7XG4iLCJjb25zdCBjYW1lbFRvS2ViYWJDYXNlID0gc3RyID0+IHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bQS1aXS9nLCBsZXR0ZXIgPT4gYC0ke2xldHRlci50b0xvd2VyQ2FzZSgpfWApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY2FtZWxUb0tlYmFiQ2FzZTtcbiIsImltcG9ydCBjTGFicyBmcm9tICcuLi9tb2R1bGVzL2NMYWJzJztcbmltcG9ydCBoYXNDbGFzcyBmcm9tICcuL2hhc0NsYXNzJztcblxuLyoqXG4gKiBJdGVyYXRlIHVwIHRoZSB0cmVlIG9mIERPTSBlbGVtZW50cyB0byBmaW5kIHRoZSBjbG9zZXMgbWF0Y2hcbiAqIEBtZW1iZXJPZiBtb2R1bGU6dXRpbHNcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSBlbGVtZW50XG4gKiBAcGFyYW0gc2VsZWN0b3JcbiAqIEByZXR1cm5zIHtudWxsIHwgUGFyZW50Tm9kZX1cbiAqL1xuY29uc3QgY2xvc2VzdCA9IGZ1bmN0aW9uIChlbGVtZW50LCBzZWxlY3Rvcikge1xuICBpZiAodHlwZW9mIHNlbGVjdG9yID09PSAnb2JqZWN0Jykge1xuICAgIHZhciBzZWxlY3RvckNsYXNzU3RyaW5nID0gc2VsZWN0b3IuZ2V0QXR0cmlidXRlKCdjbGFzcycpO1xuICAgIHZhciBzZWxlY3RvcklkU3RyaW5nID0gc2VsZWN0b3IuaWQ7XG5cbiAgICBpZiAoc2VsZWN0b3JJZFN0cmluZyAhPT0gbnVsbCAmJiBzZWxlY3RvcklkU3RyaW5nLmxlbmd0aCA+IDApIHtcbiAgICAgIHNlbGVjdG9yID0gJyMnICsgc2VsZWN0b3JJZFN0cmluZztcbiAgICB9IGVsc2UgaWYgKHNlbGVjdG9yQ2xhc3NTdHJpbmcgIT09IG51bGwgJiYgc2VsZWN0b3JDbGFzc1N0cmluZy5sZW5ndGggPiAwKSB7XG4gICAgICBzZWxlY3RvciA9ICcuJyArIHNlbGVjdG9yQ2xhc3NTdHJpbmcuc3BsaXQoJyAnKVswXTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZWN0b3IgPSBzZWxlY3Rvci5ub2RlTmFtZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZXN0IChlbGVtZW50LCBzZWxlY3Rvcikge1xuICAgIHRyeSB7XG4gICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVsZW1lbnQsIHNlbGVjdG9yKTtcbiAgICAgIGNvbnNvbGUudHJhY2UoKTtcbiAgICB9XG5cbiAgICBpZiAoZWxlbWVudCAhPT0gbnVsbCAmJiB0eXBlb2YgZWxlbWVudCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmIChzZWxlY3Rvci5tYXRjaChjTGFicy5jbGFzc1NlbGVjdG9yKSAmJiBoYXNDbGFzcyhlbGVtZW50LCBzZWxlY3RvcikpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICB9IGVsc2UgaWYgKHNlbGVjdG9yLm1hdGNoKGNMYWJzLmlkU2VsZWN0b3IpICYmIGVsZW1lbnQuaWQgPT09IHNlbGVjdG9yLnJlcGxhY2UoJyMnLCAnJykpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICB9IGVsc2UgaWYgKHNlbGVjdG9yLm1hdGNoKGNMYWJzLnRhZ1NlbGVjdG9yKSAmJiBlbGVtZW50Lm5vZGVOYW1lID09PSBzZWxlY3Rvci50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNsb3Nlc3QoZWxlbWVudCwgc2VsZWN0b3IpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBpZiAodHlwZW9mIGVsZW1lbnQgPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIGNsb3Nlc3QoZWxlbWVudCwgc2VsZWN0b3IpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbG9zZXN0O1xuIiwiLyoqXG4gKiBQcmVwZW5kcyAwIHRoZSBwcm92aWRlZCBudW1iZXIgYW5kIHJldHVybnMgdGhlIGZvcm1hdGVkIGVsZW1lbnQgYXMgYSBzdHJpbmdcbiAqIEBtZW1iZXJPZiBtb2R1bGU6dXRpbHNcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSBudW1cbiAqIEBwYXJhbSBzaXplIHtudW1iZXJ9XG4gKiBAcmV0dXJucyB7c3RyaW5nfSAxID0+IDAwMVxuICovXG5jb25zdCBmb3JtYXROdW1iZXJMZWFkaW5nWmVyb3MgPSBmdW5jdGlvbiAobnVtLCBzaXplKSB7XG4gIHZhciBzID0gU3RyaW5nKG51bSk7XG4gIHdoaWxlIChzLmxlbmd0aCA8IHNpemUpIHMgPSAnMCcgKyBzO1xuICByZXR1cm4gcztcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZvcm1hdE51bWJlckxlYWRpbmdaZXJvcztcbiIsImNvbnN0IGdldE9mZnNldCA9IGZ1bmN0aW9uIChlbCkge1xuICB2YXIgX3ggPSAwO1xuICB2YXIgX3kgPSAwO1xuICB3aGlsZSAoZWwgJiYgIWlzTmFOKGVsLm9mZnNldExlZnQpICYmICFpc05hTihlbC5vZmZzZXRUb3ApKSB7XG4gICAgX3ggKz0gZWwub2Zmc2V0TGVmdCAtIGVsLnNjcm9sbExlZnQ7XG4gICAgX3kgKz0gZWwub2Zmc2V0VG9wIC0gZWwuc2Nyb2xsVG9wO1xuICAgIGVsID0gZWwub2Zmc2V0UGFyZW50O1xuICB9XG4gIHJldHVybiB7IHRvcDogX3ksIGxlZnQ6IF94IH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBnZXRPZmZzZXQ7XG4iLCIvKipcbiAqIFByb3ZpZGVzIGFuIGFiaWxpdHkgdG8gY2hlY2sgaWYgYSBET00gZWxlbWVudCBjb250YWlucyBhIGNsYXNzIHN0cmluZ1xuICogQG1lbWJlck9mIG1vZHVsZTp1dGlsc1xuICogQHN0YXRpY1xuICogQHBhcmFtIGVsZW1lbnRcbiAqIEBwYXJhbSBjbGFzc05hbWVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5cbmZ1bmN0aW9uIF9oYXNDbGFzcyAoZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gIGNsYXNzTmFtZSA9IGNsYXNzTmFtZS5yZXBsYWNlKCcuJywgJycpO1xuXG4gIHRyeSB7XG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSB7XG4gICAgICByZXR1cm4gZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoJyhefCApJyArIGNsYXNzTmFtZSArICcoIHwkKScsICdnaScpLnRlc3QoZWxlbWVudC5jbGFzc05hbWUpO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmICh0eXBlb2YgZS5zdGFjayAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnNvbGUubG9nKGUuc3RhY2spO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhlLCBlbGVtZW50LCBjbGFzc05hbWUpO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmNvbnN0IGhhc0NsYXNzID0gZnVuY3Rpb24gKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICBpZiAodHlwZW9mIGNsYXNzTmFtZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gX2hhc0NsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gIH0gZWxzZSBpZiAoY2xhc3NOYW1lIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICB2YXIgaGFzQ2xhc3MgPSBmYWxzZTtcbiAgICBmb3IgKHZhciBpIGluIGNsYXNzTmFtZSkge1xuICAgICAgaWYgKHR5cGVvZiBjbGFzc05hbWVbaV0gPT09ICdzdHJpbmcnICYmIF9oYXNDbGFzcyhlbGVtZW50LCBjbGFzc05hbWVbaV0pKSB7XG4gICAgICAgIGhhc0NsYXNzID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGhhc0NsYXNzO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBoYXNDbGFzcztcbiIsIi8qKlxuIEBtb2R1bGUgdXRpbHNcbiAqL1xuXG5leHBvcnQgeyBkZWZhdWx0IGFzIHNpemVvZiB9IGZyb20gJy4vc2l6ZW9mJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgaXNFbGVtZW50IH0gZnJvbSAnLi9pc0VsZW1lbnQnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBvYmplY3RDb3VudCB9IGZyb20gJy4vb2JqZWN0Q291bnQnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyByZW1vdmUgfSBmcm9tICcuL3JlbW92ZSc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIG9iamVjdEl0ZXJhdG9yIH0gZnJvbSAnLi9vYmplY3RJdGVyYXRvcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGFkZENsYXNzIH0gZnJvbSAnLi9hZGRDbGFzcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHJlbW92ZUNsYXNzIH0gZnJvbSAnLi9yZW1vdmVDbGFzcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGhhc0NsYXNzIH0gZnJvbSAnLi9oYXNDbGFzcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHN0cmluZ0NvbnRhaW5zIH0gZnJvbSAnLi9zdHJpbmdDb250YWlucyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGZvcm1hdE51bWJlckxlYWRpbmdaZXJvcyB9IGZyb20gJy4vZm9ybWF0TnVtYmVyTGVhZGluZ1plcm9zJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgc3RyaXBIdG1sIH0gZnJvbSAnLi9zdHJpcEh0bWwnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBjbG9zZXN0IH0gZnJvbSAnLi9jbG9zZXN0JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgaXNNb2JpbGVUYWJsZXQgfSBmcm9tICcuL2lzTW9iaWxlVGFibGV0JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZ2V0T2Zmc2V0IH0gZnJvbSAnLi9nZXRPZmZzZXQnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBpc2lPU0RldmljZSB9IGZyb20gJy4vaXNpT1NEZXZpY2UnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBhcHBlbmROZXh0IH0gZnJvbSAnLi9hcHBlbmROZXh0JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgcXVlcnkgfSBmcm9tICcuL3F1ZXJ5JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdHJpbSB9IGZyb20gJy4vdHJpbSc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIG1lcmdlT2JqZWN0cyB9IGZyb20gJy4vbWVyZ2VPYmplY3RzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgc2Nyb2xsRW5hYmxlZCB9IGZyb20gJy4vc2Nyb2xsRW5hYmxlZCc7XG4iLCIvKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBpdCBpcyBhIERPTSBlbGVtZW50XG4gKiBAbWVtYmVyT2YgbW9kdWxlOnV0aWxzXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0gbyB7T2JqZWN0fVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuY29uc3QgaXNFbGVtZW50ID0gZnVuY3Rpb24gKG8pIHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2YgSFRNTEVsZW1lbnQgPT09ICdvYmplY3QnXG4gICAgICA/IG8gaW5zdGFuY2VvZiBIVE1MRWxlbWVudFxuICAgICAgOiAvKiBET00yICovIG8gJiYgdHlwZW9mIG8gPT09ICdvYmplY3QnICYmIG8gIT09IG51bGwgJiYgby5ub2RlVHlwZSA9PT0gMSAmJiB0eXBlb2Ygby5ub2RlTmFtZSA9PT0gJ3N0cmluZydcbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGlzRWxlbWVudDtcbiIsIi8vIGEgY2hlY2sgdG8gdGVzdCBpZiB0aGUgZGV2aWNlIGlzIGEgbW9iaWxlIG9yIHRhYmxldFxuaW1wb3J0IHN0cmluZ0NvbnRhaW5zIGZyb20gJy4vc3RyaW5nQ29udGFpbnMnO1xuXG5jb25zdCBpc01vYmlsZVRhYmxldCA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IGNoZWNrID0gZmFsc2U7XG5cbiAgKGZ1bmN0aW9uIChhKSB7XG4gICAgaWYgKC8oYW5kcm9pZHxiYlxcZCt8bWVlZ28pLittb2JpbGV8YXZhbnRnb3xiYWRhXFwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG1vYmlsZS4rZmlyZWZveHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcXC98cGx1Y2tlcnxwb2NrZXR8cHNwfHNlcmllcyg0fDYpMHxzeW1iaWFufHRyZW98dXBcXC4oYnJvd3NlcnxsaW5rKXx2b2RhZm9uZXx3YXB8d2luZG93cyBjZXx4ZGF8eGlpbm98YW5kcm9pZHxpcGFkfHBsYXlib29rfHNpbGsvaS50ZXN0KGEpIHx8IC8xMjA3fDYzMTB8NjU5MHwzZ3NvfDR0aHB8NTBbMS02XWl8Nzcwc3w4MDJzfGEgd2F8YWJhY3xhYyhlcnxvb3xzXFwtKXxhaShrb3xybil8YWwoYXZ8Y2F8Y28pfGFtb2l8YW4oZXh8bnl8eXcpfGFwdHV8YXIoY2h8Z28pfGFzKHRlfHVzKXxhdHR3fGF1KGRpfFxcLW18ciB8cyApfGF2YW58YmUoY2t8bGx8bnEpfGJpKGxifHJkKXxibChhY3xheil8YnIoZXx2KXd8YnVtYnxid1xcLShufHUpfGM1NVxcL3xjYXBpfGNjd2F8Y2RtXFwtfGNlbGx8Y2h0bXxjbGRjfGNtZFxcLXxjbyhtcHxuZCl8Y3Jhd3xkYShpdHxsbHxuZyl8ZGJ0ZXxkY1xcLXN8ZGV2aXxkaWNhfGRtb2J8ZG8oY3xwKW98ZHMoMTJ8XFwtZCl8ZWwoNDl8YWkpfGVtKGwyfHVsKXxlcihpY3xrMCl8ZXNsOHxleihbNC03XTB8b3N8d2F8emUpfGZldGN8Zmx5KFxcLXxfKXxnMSB1fGc1NjB8Z2VuZXxnZlxcLTV8Z1xcLW1vfGdvKFxcLnd8b2QpfGdyKGFkfHVuKXxoYWllfGhjaXR8aGRcXC0obXxwfHQpfGhlaVxcLXxoaShwdHx0YSl8aHAoIGl8aXApfGhzXFwtY3xodChjKFxcLXwgfF98YXxnfHB8c3x0KXx0cCl8aHUoYXd8dGMpfGlcXC0oMjB8Z298bWEpfGkyMzB8aWFjKCB8XFwtfFxcLyl8aWJyb3xpZGVhfGlnMDF8aWtvbXxpbTFrfGlubm98aXBhcXxpcmlzfGphKHR8dilhfGpicm98amVtdXxqaWdzfGtkZGl8a2VqaXxrZ3QoIHxcXC8pfGtsb258a3B0IHxrd2NcXC18a3lvKGN8ayl8bGUobm98eGkpfGxnKCBnfFxcLyhrfGx8dSl8NTB8NTR8XFwtW2Etd10pfGxpYnd8bHlueHxtMVxcLXd8bTNnYXxtNTBcXC98bWEodGV8dWl8eG8pfG1jKDAxfDIxfGNhKXxtXFwtY3J8bWUocmN8cmkpfG1pKG84fG9hfHRzKXxtbWVmfG1vKDAxfDAyfGJpfGRlfGRvfHQoXFwtfCB8b3x2KXx6eil8bXQoNTB8cDF8diApfG13YnB8bXl3YXxuMTBbMC0yXXxuMjBbMi0zXXxuMzAoMHwyKXxuNTAoMHwyfDUpfG43KDAoMHwxKXwxMCl8bmUoKGN8bSlcXC18b258dGZ8d2Z8d2d8d3QpfG5vayg2fGkpfG56cGh8bzJpbXxvcCh0aXx3dil8b3Jhbnxvd2cxfHA4MDB8cGFuKGF8ZHx0KXxwZHhnfHBnKDEzfFxcLShbMS04XXxjKSl8cGhpbHxwaXJlfHBsKGF5fHVjKXxwblxcLTJ8cG8oY2t8cnR8c2UpfHByb3h8cHNpb3xwdFxcLWd8cWFcXC1hfHFjKDA3fDEyfDIxfDMyfDYwfFxcLVsyLTddfGlcXC0pfHF0ZWt8cjM4MHxyNjAwfHJha3N8cmltOXxybyh2ZXx6byl8czU1XFwvfHNhKGdlfG1hfG1tfG1zfG55fHZhKXxzYygwMXxoXFwtfG9vfHBcXC0pfHNka1xcL3xzZShjKFxcLXwwfDEpfDQ3fG1jfG5kfHJpKXxzZ2hcXC18c2hhcnxzaWUoXFwtfG0pfHNrXFwtMHxzbCg0NXxpZCl8c20oYWx8YXJ8YjN8aXR8dDUpfHNvKGZ0fG55KXxzcCgwMXxoXFwtfHZcXC18diApfHN5KDAxfG1iKXx0MigxOHw1MCl8dDYoMDB8MTB8MTgpfHRhKGd0fGxrKXx0Y2xcXC18dGRnXFwtfHRlbChpfG0pfHRpbVxcLXx0XFwtbW98dG8ocGx8c2gpfHRzKDcwfG1cXC18bTN8bTUpfHR4XFwtOXx1cChcXC5ifGcxfHNpKXx1dHN0fHY0MDB8djc1MHx2ZXJpfHZpKHJnfHRlKXx2ayg0MHw1WzAtM118XFwtdil8dm00MHx2b2RhfHZ1bGN8dngoNTJ8NTN8NjB8NjF8NzB8ODB8ODF8ODN8ODV8OTgpfHczYyhcXC18ICl8d2ViY3x3aGl0fHdpKGcgfG5jfG53KXx3bWxifHdvbnV8eDcwMHx5YXNcXC18eW91cnx6ZXRvfHp0ZVxcLS9pLnRlc3QoYS5zdWJzdHIoMCwgNCkpKSBjaGVjayA9IHRydWU7XG4gIH0pKG5hdmlnYXRvci51c2VyQWdlbnQgfHwgbmF2aWdhdG9yLnZlbmRvciB8fCB3aW5kb3cub3BlcmEpO1xuXG4gIC8vIGN1c3RvbSBzb2x1dGlvbiBiZWNhdXNlIGxhdGVzdCBpT1MgMTMgdXNlckFnZW50IGRvZXNuJ3QgcmV0dXJuIGNvcnJlY3QgbW9iaWxlIGluZm9ybWF0aW9uXG4gIGlmICghY2hlY2spIHtcbiAgICBjaGVjayA9IHN0cmluZ0NvbnRhaW5zKHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCksICdtYWNpbnRvc2gnKSAmJiAoJ29udG91Y2hlbmQnIGluIGRvY3VtZW50KTtcbiAgfVxuXG4gIHJldHVybiBjaGVjaztcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGlzTW9iaWxlVGFibGV0O1xuIiwiLy8gY2hlY2sgaWYgaU9TXG5jb25zdCBpc2lPU0RldmljZSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICEhbmF2aWdhdG9yLnBsYXRmb3JtICYmIC9pUChhZHxob25lfG9kKS8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgaXNpT1NEZXZpY2U7XG4iLCJjb25zdCBtYXBPYmplY3QgPSBmdW5jdGlvbiAob2JqLCBjYWxsYmFjaykge1xuICBpZiAob2JqICE9PSBudWxsKSB7XG4gICAgdmFyIGNvdW50ID0gMDtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgdmFyIHJldCA9IGNhbGxiYWNrKG9ialtrZXldLCBrZXksIGNvdW50KTtcbiAgICAgICAgaWYgKHR5cGVvZiByZXQgIT09ICd1bmRlZmluZWQnKSBvYmpba2V5XSA9IHJldDtcblxuICAgICAgICBjb3VudCsrO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmxvZygncmV0dXJuZWQgb2JqZWN0IGlzIG51bGwnLCB0eXBlb2Ygb2JqKTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBtYXBPYmplY3Q7XG4iLCJpbXBvcnQgc2l6ZW9mIGZyb20gJy4vc2l6ZW9mJztcblxuY29uc3QgbWVyZ2VPYmplY3RzID0gZnVuY3Rpb24gKG9iajEsIG9iajIsIGFycmF5VHlwZSkge1xuICB2YXIgb2JqMyA9ICh0eXBlb2YgYXJyYXlUeXBlID09PSAndW5kZWZpbmVkJyB8fCBhcnJheVR5cGUgPT09IGZhbHNlKSA/IHt9IDogW107XG5cbiAgZm9yIChjb25zdCBpIGluIG9iajEpIHtcbiAgICBvYmozW2ldID0gb2JqMVtpXTtcbiAgfVxuXG4gIGZvciAoY29uc3QgayBpbiBvYmoyKSB7XG4gICAgaWYgKHR5cGVvZiBvYmoxW2tdICE9PSAnb2JqZWN0Jykge1xuICAgICAgb2JqM1trXSA9IG9iajJba107XG4gICAgfSBlbHNlIGlmIChvYmoxW2tdIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgIG9iajNba10gPSBvYmoyW2tdOyAvLyBhcnJheXMgZ2V0IG92ZXJ3cml0dGVuIGFuZCBub3QgZXh0ZW5kZWRcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmoxW2tdICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygb2JqMVtrXSA9PT0gJ29iamVjdCcgJiYgb2JqMVtrXSAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqMVtrXS5ub2RlVHlwZSA9PT0gJ3VuZGVmaW5lZCcgJiYgc2l6ZW9mKG9iajFba10pID4gMCkge1xuICAgICAgb2JqM1trXSA9IG1lcmdlT2JqZWN0cyhvYmoxW2tdLCBvYmoyW2tdKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmoxW2tdICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygb2JqMVtrXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIG9iajNba10gPSBvYmoyW2tdO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZygnZmFpbCcpO1xuICAgIH1cblxuICAgIGlmIChvYmozW2tdID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGRlbGV0ZSBvYmozW2tdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmozO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgbWVyZ2VPYmplY3RzO1xuIiwiLyoqXG4gKiBSZXR1cm5zIGEgY291bnQgb2Ygb2JqZWN0IGZyb20gYSBxdWVyeSByZXN1bHRcbiAqIEBtZW1iZXJPZiBtb2R1bGU6dXRpbHNcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbW9iaiAge09iamVjdH0gYW55dGhpbmcgb3IgQXJyYXkgb2JqZWN0XG4gKi9cbmNvbnN0IG9iamVjdENvdW50ID0gZnVuY3Rpb24gKG9iaikge1xuICBpZiAob2JqICE9PSBudWxsICYmIG9iai5sZW5ndGggIT09IHVuZGVmaW5lZCAmJiBvYmogaW5zdGFuY2VvZiBBcnJheSkge1xuICAgIHJldHVybiBvYmoubGVuZ3RoO1xuICB9IGVsc2UgaWYgKG9iaiAhPT0gbnVsbCkge1xuICAgIHJldHVybiAxO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAwO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBvYmplY3RDb3VudDtcbiIsIi8qKlxuICogT2JqZWN0IGl0ZXJhdG9yIC0gYmVzdCB1c2FnZSBpcyBmb3IgYSBsaXN0IG9mIERPTSBlbGVtZW50c1xuICogQG1lbWJlck9mIG1vZHVsZTp1dGlsc1xuICogQHN0YXRpY1xuICogQHBhcmFtIG9ialxuICogQHBhcmFtIGNhbGxiYWNrXG4gKi9cbmNvbnN0IG9iamVjdEl0ZXJhdG9yID0gZnVuY3Rpb24gKG9iaiwgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBvYmogIT09ICd1bmRlZmluZWQnICYmIG9iaiAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqLmxlbmd0aCAhPT0gJ3VuZGVmaW5lZCcgJiYgb2JqIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICBsZXQgY291bnQgPSAwO1xuICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgY2FsbGJhY2sob2JqW2tleV0sIGtleSwgY291bnQsIG9iai5sZW5ndGgpO1xuXG4gICAgICBjb3VudCsrO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqICE9PSAndW5kZWZpbmVkJyAmJiBvYmogIT09IG51bGwpIHtcbiAgICBjYWxsYmFjayhvYmosIDAsIDAsIDEpO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBvYmplY3RJdGVyYXRvcjtcbiIsImltcG9ydCBjTGFicyBmcm9tICcuLi9tb2R1bGVzL2NMYWJzJztcbmltcG9ydCB0cmltIGZyb20gJy4vdHJpbSc7XG5cbi8qKlxuICogUXVlcnkgc2VsZWN0b3IsIHN1cHBvcnRzIENTUyBlbGVtZW50IHNlbGVjdGlvblxuICpcbiAqIFN1cHBvcnRzOlxuICogIC0gQ2xhc3Mgc2VsZWN0aW9uOiBcIi5lbGVtZW50XCJcbiAqICAtIElEIHNlbGVjdGlvbjogXCIjZWxlbWVudFwiXG4gKiAgLSBUYWcgc2VsZWN0aW9uOiBcImRpdlwiXG4gKiAgLSBNdWx0aSBkZXB0aCBzZWxlY3Rpb246ICcuZWxlbWVudCB1bCBsaSdcbiAqXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnV0aWxzXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0ge09iamVjdH0gXCJvcHRpb25hbFwiXG4gKiBAcGFyYW0ge1N0cmluZ30gQ1NTIGVsZW1lbnQgc2VsZWN0b3JcbiAqIEByZXR1cm5zIHsoT2JqZWN0fG51bGx8QXJyYXkpfSBkZXBlbmRpbmcgb24gdGhlIHByb3ZpZGVkIHNlbGVjdG9yIHJlc3VsdHMgY2FuIHZhcnkgKG51bGwsIG5vZGUsIE5vZGVMaXN0IGFycmF5KVxuICovXG5jb25zdCBxdWVyeSA9IGZ1bmN0aW9uIChkb2MsIHNlbGVjdG9yKSB7XG4gIHZhciByZXN1bHQ7XG5cbiAgdmFyIHRtcERvYyA9IGRvYzsgdmFyIHRtcFNlbGVjdG9yID0gc2VsZWN0b3I7IC8vIHVzZWQgZm9yIGRlYnVnIG9ubHlcblxuICBpZiAodHlwZW9mIGRvYyA9PT0gJ3N0cmluZycgJiYgc2VsZWN0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgIHNlbGVjdG9yID0gZG9jO1xuICAgIGRvYyA9IGRvY3VtZW50O1xuICB9XG5cbiAgdHJ5IHtcbiAgICBpZiAoZG9jICE9PSBudWxsKSB7XG4gICAgICBzZWxlY3RvciA9IHRyaW0oc2VsZWN0b3IpOyAvL1xuXG4gICAgICBpZiAoc2VsZWN0b3IubWF0Y2goY0xhYnMuY2xhc3NTZWxlY3RvcikpIHtcbiAgICAgICAgcmVzdWx0ID0gZG9jLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoc2VsZWN0b3IucmVwbGFjZSgnLicsICcnKSk7XG4gICAgICB9IGVsc2UgaWYgKHNlbGVjdG9yLm1hdGNoKGNMYWJzLmlkU2VsZWN0b3IpKSB7XG4gICAgICAgIHJlc3VsdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNlbGVjdG9yLnJlcGxhY2UoJyMnLCAnJykpO1xuICAgICAgfSBlbHNlIGlmIChzZWxlY3Rvci5tYXRjaChjTGFicy50YWdTZWxlY3RvcikpIHtcbiAgICAgICAgcmVzdWx0ID0gZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKHNlbGVjdG9yKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IGRvYy5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocmVzdWx0ICE9PSBudWxsICYmIHJlc3VsdCAhPT0gdW5kZWZpbmVkICYmIHJlc3VsdC5ub2RlVHlwZSkge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGVsc2UgaWYgKHJlc3VsdCAhPT0gbnVsbCAmJiByZXN1bHQgIT09IHVuZGVmaW5lZCAmJiByZXN1bHQubGVuZ3RoID09PSAxKSB7XG4gICAgICByZXR1cm4gcmVzdWx0WzBdO1xuICAgIH0gZWxzZSBpZiAocmVzdWx0ICE9PSBudWxsICYmIHJlc3VsdCAhPT0gdW5kZWZpbmVkICYmIHJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwocmVzdWx0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5sb2coZSk7XG4gICAgY29uc29sZS5sb2codG1wU2VsZWN0b3IpO1xuICAgIGNvbnNvbGUubG9nKHRtcERvYyk7XG4gICAgY29uc29sZS5sb2coZG9jLCBzZWxlY3Rvcik7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IHF1ZXJ5O1xuIiwiLyoqXG4gKiBSZW1vdmVzIGFuIEhUTUwgRE9NIGVsZW1lbnRcbiAqIEBtZW1iZXJPZiBtb2R1bGU6dXRpbHNcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbW9iaiBlbCB7T2JqZWN0fSBET00gZWxlbWVudFxuICovXG5jb25zdCByZW1vdmUgPSBmdW5jdGlvbiAoZWwpIHtcbiAgaWYgKGVsICE9PSBudWxsKSB7XG4gICAgZWwucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChlbCk7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IHJlbW92ZTtcbiIsIi8qKlxuICogUmVtb3ZlIGNsYXNzIHN0cmluZyBmcm9tIHByb3ZpZGVkIERPTSBlbGVtZW50XG4gKiBAbWVtYmVyT2YgbW9kdWxlOnV0aWxzXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0gZWxlbWVudFxuICogQHBhcmFtIGNsYXNzTmFtZVxuICogQHJldHVybnMge3tjbGFzc0xpc3R9fCp9XG4gKi9cbmNvbnN0IHJlbW92ZUNsYXNzID0gZnVuY3Rpb24gKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICB0cnkge1xuICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdCkge1xuICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUucmVwbGFjZShuZXcgUmVnRXhwKCcoXnxcXFxcYiknICsgY2xhc3NOYW1lLnNwbGl0KCcgJykuam9pbignfCcpICsgJyhcXFxcYnwkKScsICdnaScpLCAnICcpO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUubG9nKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgLy8gY29uc29sZS5lcnJvcihlKTtcbiAgICAvLyBjb25zb2xlLnRyYWNlKCk7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHJlbW92ZUNsYXNzO1xuIiwiLyoqXG4gKiBDaGVjayBpZiBzY3JvbGxpbmcgaXMgZW5hYmxlZFxuICogQG1lbWJlck9mIG1vZHVsZTp1dGlsc1xuICogQHN0YXRpY1xuICogQHBhcmFtIGRvY1xuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmNvbnN0IHNjcm9sbEVuYWJsZWQgPSBmdW5jdGlvbiAoZG9jKSB7XG4gIHJldHVybiAoZG9jICE9PSBudWxsKSA/IChkb2Muc2Nyb2xsSGVpZ2h0ID4gZG9jLm9mZnNldEhlaWdodCkgOiBmYWxzZTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHNjcm9sbEVuYWJsZWQ7XG4iLCJpbXBvcnQgaXNFbGVtZW50IGZyb20gJy4vaXNFbGVtZW50JztcblxuLyoqXG4gKiByZXR1cm5zIHRoZSBzaXplIG9mIGFuIE9iamVjdCBvciBhcnJheVxuICpcbiAqIEBtZW1iZXJPZiBtb2R1bGU6dXRpbHNcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSBvYmoge09iamVjdH1cbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuY29uc3Qgc2l6ZW9mID0gZnVuY3Rpb24gKG9iaikge1xuICBsZXQgc2l6ZSA9IDA7IGxldCBrZXk7XG4gIGZvciAoa2V5IGluIG9iaikge1xuICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkgc2l6ZSsrO1xuICB9XG5cbiAgaWYgKHNpemUgPT09IDAgJiYgaXNFbGVtZW50KG9iaikpIHtcbiAgICBzaXplID0gMTtcbiAgfVxuXG4gIHJldHVybiBzaXplO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgc2l6ZW9mO1xuIiwiLyoqXG4gKiBBIGNoZWNrIGlmIGEgc3RyaW5nIGNvbnRhaW5zIGFuIGVudHJ5IG9mIHNlYXJjaGVkIGZvciB0ZXJtXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnV0aWxzXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0gc3RyIHtzdHJpbmd9XG4gKiBAcGFyYW0gcGFydGlhbCB7c3RyaW5nfVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmNvbnN0IHN0cmluZ0NvbnRhaW5zID0gZnVuY3Rpb24gKHN0ciwgcGFydGlhbCkge1xuICByZXR1cm4gKHN0ci5pbmRleE9mKHBhcnRpYWwpID4gLTEpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgc3RyaW5nQ29udGFpbnM7XG4iLCIvKipcbiAqIFJlbW92ZXMgSFRNTCB0YWdzIGZyb20gdGhlIHByb3ZpZGVkIGlucHV0IGFuZCByZXR1cm5zIG9ubHkgdGhlIHRleHRcbiAqIC0gdGhpcyBpcyBhIHZlcnkgYmFzaWMgaW1wbGVtZW50YXRpb24gYW5kIHNob3VsZCBiZSB1c2VkIGNhcmVmdWxseVxuICpcbiAqIEBtZW1iZXJPZiBtb2R1bGU6dXRpbHNcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSBodG1sIHtzdHJpbmd9XG4gKiBAcmV0dXJucyB7c3RyaW5nIHwgc3RyaW5nfVxuICovXG5jb25zdCBzdHJpcEh0bWwgPSBmdW5jdGlvbiAoaHRtbCkge1xuICB2YXIgdG1wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJyk7XG4gIHRtcC5pbm5lckhUTUwgPSBodG1sO1xuICByZXR1cm4gdG1wLnRleHRDb250ZW50IHx8IHRtcC5pbm5lclRleHQgfHwgJyc7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBzdHJpcEh0bWw7XG4iLCJjb25zdCB0cmltID0gZnVuY3Rpb24gKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHRyaW07XG4iLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiLi4vY3NzL3RoZW1lL2JsdWUtdGhlbWUtcmVmcmVzaC5jc3NcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiLi4vY3NzL3RoZW1lL2xheW91dHMuY3NzXCI7Il0sInNvdXJjZVJvb3QiOiIifQ==